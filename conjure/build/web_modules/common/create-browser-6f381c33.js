import{p as ce}from"./process-e9e98960.js";import{c as he,b as de}from"./_commonjsHelpers-c99fd594.js";import{d as pe}from"./dhtConfig-7fcef481.js";var ye=he(function(ue,fe){/*! For license information please see index.min.js.LICENSE.txt */!function(N,x){ue.exports=x()}(self,function(){return function(N){var x={};function b(s){if(x[s])return x[s].exports;var r=x[s]={i:s,l:!1,exports:{}};return N[s].call(r.exports,r,r.exports,b),r.l=!0,r.exports}return b.m=N,b.c=x,b.d=function(s,r,i){b.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:i})},b.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},b.t=function(s,r){if(1&r&&(s=b(s)),8&r)return s;if(4&r&&typeof s=="object"&&s&&s.__esModule)return s;var i=Object.create(null);if(b.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var f in s)b.d(i,f,function(c){return s[c]}.bind(null,f));return i},b.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return b.d(r,"a",r),r},b.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},b.p="",b(b.s=153)}([function(N,x,b){function s(r,i){for(const f in i)Object.defineProperty(r,f,{value:i[f],enumerable:!0,configurable:!0});return r}N.exports=function(r,i,f){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");f||(f={}),typeof i=="object"&&(f=i,i=void 0),i!=null&&(f.code=i);try{return s(r,f)}catch(c){f.message=r.message,f.stack=r.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(r)),s(new t,f)}}},function(N,x,b){N.exports={options:{usePureJavaScript:!1}}},function(N,x,b){(function(s){x.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+N.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;i.splice(1,0,f,"color: inherit");let c=0,t=0;i[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(c++,a==="%c"&&(t=c))}),i.splice(t,0,f)},x.save=function(i){try{i?x.storage.setItem("debug",i):x.storage.removeItem("debug")}catch(f){}},x.load=function(){let i;try{i=x.storage.getItem("debug")}catch(f){}return!i&&s!==void 0&&"env"in s&&(i={NODE_ENV:"production"}.DEBUG),i},x.useColors=function(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},x.storage=function(){try{return localStorage}catch(i){}}(),x.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),x.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],x.log=console.debug||console.log||(()=>{}),N.exports=b(154)(x);const{formatters:r}=N.exports;r.j=function(i){try{return JSON.stringify(i)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}).call(this,b(11))},function(N,x,b){(function(s,r,i){var f=b(1),c=b(286),t=N.exports=f.util=f.util||{};function a(g){if(g!==8&&g!==16&&g!==24&&g!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+g)}function o(g){if(this.data="",this.read=0,typeof g=="string")this.data=g;else if(t.isArrayBuffer(g)||t.isArrayBufferView(g))if(i!==void 0&&g instanceof i)this.data=g.toString("binary");else{var E=new Uint8Array(g);try{this.data=String.fromCharCode.apply(null,E)}catch(S){for(var R=0;R<E.length;++R)this.putByte(E[R])}}else(g instanceof o||typeof g=="object"&&typeof g.data=="string"&&typeof g.read=="number")&&(this.data=g.data,this.read=g.read);this._constructedStringLength=0}!function(){if(s!==void 0&&s.nextTick&&!s.browser)return t.nextTick=s.nextTick,void(typeof setImmediate=="function"?t.setImmediate=setImmediate:t.setImmediate=t.nextTick);if(typeof setImmediate=="function")return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(p){return setImmediate(p)});if(t.setImmediate=function(p){setTimeout(p,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){var g="forge.setImmediate",E=[];t.setImmediate=function(p){E.push(p),E.length===1&&window.postMessage(g,"*")},window.addEventListener("message",function(p){if(p.source===window&&p.data===g){p.stopPropagation();var w=E.slice();E.length=0,w.forEach(function(v){v()})}},!0)}if(typeof MutationObserver!="undefined"){var R=Date.now(),S=!0,M=document.createElement("div");E=[],new MutationObserver(function(){var p=E.slice();E.length=0,p.forEach(function(w){w()})}).observe(M,{attributes:!0});var y=t.setImmediate;t.setImmediate=function(p){Date.now()-R>15?(R=Date.now(),y(p)):(E.push(p),E.length===1&&M.setAttribute("a",S=!S))}}t.nextTick=t.setImmediate}(),t.isNodejs=s!==void 0&&s.versions&&s.versions.node,t.globalScope=t.isNodejs?r:typeof self=="undefined"?window:self,t.isArray=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},t.isArrayBuffer=function(g){return typeof ArrayBuffer!="undefined"&&g instanceof ArrayBuffer},t.isArrayBufferView=function(g){return g&&t.isArrayBuffer(g.buffer)&&g.byteLength!==void 0},t.ByteBuffer=o,t.ByteStringBuffer=o,t.ByteStringBuffer.prototype._optimizeConstructedString=function(g){this._constructedStringLength+=g,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(g){return this.putBytes(String.fromCharCode(g))},t.ByteStringBuffer.prototype.fillWithByte=function(g,E){g=String.fromCharCode(g);for(var R=this.data;E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return this.data=R,this._optimizeConstructedString(E),this},t.ByteStringBuffer.prototype.putBytes=function(g){return this.data+=g,this._optimizeConstructedString(g.length),this},t.ByteStringBuffer.prototype.putString=function(g){return this.putBytes(t.encodeUtf8(g))},t.ByteStringBuffer.prototype.putInt16=function(g){return this.putBytes(String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt24=function(g){return this.putBytes(String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt32=function(g){return this.putBytes(String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt16Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>24&255))},t.ByteStringBuffer.prototype.putInt=function(g,E){a(E);var R="";do E-=8,R+=String.fromCharCode(g>>E&255);while(E>0);return this.putBytes(R)},t.ByteStringBuffer.prototype.putSignedInt=function(g,E){return g<0&&(g+=2<<E-1),this.putInt(g,E)},t.ByteStringBuffer.prototype.putBuffer=function(g){return this.putBytes(g.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var g=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24=function(){var g=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32=function(){var g=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,g},t.ByteStringBuffer.prototype.getInt16Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,g},t.ByteStringBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.charCodeAt(this.read++),g-=8;while(g>0);return E},t.ByteStringBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.ByteStringBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.ByteStringBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.ByteStringBuffer.prototype.at=function(g){return this.data.charCodeAt(this.read+g)},t.ByteStringBuffer.prototype.setAt=function(g,E){return this.data=this.data.substr(0,this.read+g)+String.fromCharCode(E)+this.data.substr(this.read+g+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var g=t.createBuffer(this.data);return g.read=this.read,g},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(g){var E=Math.max(0,this.length()-g);return this.data=this.data.substr(this.read,E),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.length;++E){var R=this.data.charCodeAt(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(g,E){E=E||{},this.read=E.readOffset||0,this.growSize=E.growSize||1024;var R=t.isArrayBuffer(g),S=t.isArrayBufferView(g);if(R||S)return this.data=R?new DataView(g):new DataView(g.buffer,g.byteOffset,g.byteLength),void(this.write="writeOffset"in E?E.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,g!=null&&this.putBytes(g),"writeOffset"in E&&(this.write=E.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(g,E){if(this.length()>=g)return this;E=Math.max(E||this.growSize,g);var R=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),S=new Uint8Array(this.length()+E);return S.set(R),this.data=new DataView(S.buffer),this},t.DataBuffer.prototype.putByte=function(g){return this.accommodate(1),this.data.setUint8(this.write++,g),this},t.DataBuffer.prototype.fillWithByte=function(g,E){this.accommodate(E);for(var R=0;R<E;++R)this.data.setUint8(g);return this},t.DataBuffer.prototype.putBytes=function(g,E){if(t.isArrayBufferView(g)){var R=(S=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)).byteLength-S.byteOffset;return this.accommodate(R),new Uint8Array(this.data.buffer,this.write).set(S),this.write+=R,this}if(t.isArrayBuffer(g)){var S=new Uint8Array(g);return this.accommodate(S.byteLength),new Uint8Array(this.data.buffer).set(S,this.write),this.write+=S.byteLength,this}if(g instanceof t.DataBuffer||typeof g=="object"&&typeof g.read=="number"&&typeof g.write=="number"&&t.isArrayBufferView(g.data))return S=new Uint8Array(g.data.byteLength,g.read,g.length()),this.accommodate(S.byteLength),new Uint8Array(g.data.byteLength,this.write).set(S),this.write+=S.byteLength,this;if(g instanceof t.ByteStringBuffer&&(g=g.data,E="binary"),E=E||"binary",typeof g=="string"){var M;if(E==="hex")return this.accommodate(Math.ceil(g.length/2)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(g,M,this.write),this;if(E==="base64")return this.accommodate(3*Math.ceil(g.length/4)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(g,M,this.write),this;if(E==="utf8"&&(g=t.encodeUtf8(g),E="binary"),E==="binary"||E==="raw")return this.accommodate(g.length),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(M),this;if(E==="utf16")return this.accommodate(2*g.length),M=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(M),this;throw new Error("Invalid encoding: "+E)}throw Error("Invalid parameter: "+g)},t.DataBuffer.prototype.putBuffer=function(g){return this.putBytes(g),g.clear(),this},t.DataBuffer.prototype.putString=function(g){return this.putBytes(g,"utf16")},t.DataBuffer.prototype.putInt16=function(g){return this.accommodate(2),this.data.setInt16(this.write,g),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(g){return this.accommodate(3),this.data.setInt16(this.write,g>>8&65535),this.data.setInt8(this.write,g>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(g){return this.accommodate(4),this.data.setInt32(this.write,g),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(g){return this.accommodate(2),this.data.setInt16(this.write,g,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(g){return this.accommodate(3),this.data.setInt8(this.write,g>>16&255),this.data.setInt16(this.write,g>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(g){return this.accommodate(4),this.data.setInt32(this.write,g,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(g,E){a(E),this.accommodate(E/8);do E-=8,this.data.setInt8(this.write++,g>>E&255);while(E>0);return this},t.DataBuffer.prototype.putSignedInt=function(g,E){return a(E),this.accommodate(E/8),g<0&&(g+=2<<E-1),this.putInt(g,E)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var g=this.data.getInt16(this.read);return this.read+=2,g},t.DataBuffer.prototype.getInt24=function(){var g=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,g},t.DataBuffer.prototype.getInt32=function(){var g=this.data.getInt32(this.read);return this.read+=4,g},t.DataBuffer.prototype.getInt16Le=function(){var g=this.data.getInt16(this.read,!0);return this.read+=2,g},t.DataBuffer.prototype.getInt24Le=function(){var g=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,g},t.DataBuffer.prototype.getInt32Le=function(){var g=this.data.getInt32(this.read,!0);return this.read+=4,g},t.DataBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.getInt8(this.read++),g-=8;while(g>0);return E},t.DataBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.DataBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.DataBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.DataBuffer.prototype.at=function(g){return this.data.getUint8(this.read+g)},t.DataBuffer.prototype.setAt=function(g,E){return this.data.setUint8(g,E),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var g=new Uint8Array(this.data.buffer,this.read),E=new Uint8Array(g.byteLength);E.set(g),this.data=new DataView(E),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(g){return this.write=Math.max(0,this.length()-g),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.byteLength;++E){var R=this.data.getUint8(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.DataBuffer.prototype.toString=function(g){var E=new Uint8Array(this.data,this.read,this.length());if((g=g||"utf8")==="binary"||g==="raw")return t.binary.raw.encode(E);if(g==="hex")return t.binary.hex.encode(E);if(g==="base64")return t.binary.base64.encode(E);if(g==="utf8")return t.text.utf8.decode(E);if(g==="utf16")return t.text.utf16.decode(E);throw new Error("Invalid encoding: "+g)},t.createBuffer=function(g,E){return E=E||"raw",g!==void 0&&E==="utf8"&&(g=t.encodeUtf8(g)),new t.ByteBuffer(g)},t.fillString=function(g,E){for(var R="";E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return R},t.xorBytes=function(g,E,R){for(var S="",M="",y="",p=0,w=0;R>0;--R,++p)M=g.charCodeAt(p)^E.charCodeAt(p),w>=10&&(S+=y,y="",w=0),y+=String.fromCharCode(M),++w;return S+=y},t.hexToBytes=function(g){var E="",R=0;for(!0&g.length&&(R=1,E+=String.fromCharCode(parseInt(g[0],16)));R<g.length;R+=2)E+=String.fromCharCode(parseInt(g.substr(R,2),16));return E},t.bytesToHex=function(g){return t.createBuffer(g).toHex()},t.int32ToBytes=function(g){return String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g)};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.length;)R=g.charCodeAt(w++),S=g.charCodeAt(w++),M=g.charCodeAt(w++),y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.decode64=function(g){g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var E,R,S,M,y="",p=0;p<g.length;)E=n[g.charCodeAt(p++)-43],R=n[g.charCodeAt(p++)-43],S=n[g.charCodeAt(p++)-43],M=n[g.charCodeAt(p++)-43],y+=String.fromCharCode(E<<2|R>>4),S!==64&&(y+=String.fromCharCode((15&R)<<4|S>>2),M!==64&&(y+=String.fromCharCode((3&S)<<6|M)));return y},t.encodeUtf8=function(g){return unescape(encodeURIComponent(g))},t.decodeUtf8=function(g){return decodeURIComponent(escape(g))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:c.encode,decode:c.decode}},t.binary.raw.encode=function(g){return String.fromCharCode.apply(null,g)},t.binary.raw.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(Math.ceil(g.length/2)));var M=0,y=R=R||0;for(1&g.length&&(M=1,S[y++]=parseInt(g[0],16));M<g.length;M+=2)S[y++]=parseInt(g.substr(M,2),16);return E?y-R:S},t.binary.base64.encode=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.byteLength;)R=g[w++],S=g[w++],M=g[w++],y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.binary.base64.decode=function(g,E,R){var S,M,y,p,w=E;w||(w=new Uint8Array(3*Math.ceil(g.length/4))),g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var v=0,_=R=R||0;v<g.length;)S=n[g.charCodeAt(v++)-43],M=n[g.charCodeAt(v++)-43],y=n[g.charCodeAt(v++)-43],p=n[g.charCodeAt(v++)-43],w[_++]=S<<2|M>>4,y!==64&&(w[_++]=(15&M)<<4|y>>2,p!==64&&(w[_++]=(3&y)<<6|p));return E?_-R:w.subarray(0,_)},t.binary.base58.encode=function(g,E){return t.binary.baseN.encode(g,h,E)},t.binary.base58.decode=function(g,E){return t.binary.baseN.decode(g,h,E)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(g,E,R){g=t.encodeUtf8(g);var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.text.utf8.decode=function(g){return t.decodeUtf8(String.fromCharCode.apply(null,g))},t.text.utf16.encode=function(g,E,R){var S=E;S||(S=new Uint8Array(2*g.length));for(var M=new Uint16Array(S.buffer),y=R=R||0,p=R,w=0;w<g.length;++w)M[p++]=g.charCodeAt(w),y+=2;return E?y-R:S},t.text.utf16.decode=function(g){return String.fromCharCode.apply(null,new Uint16Array(g.buffer))},t.deflate=function(g,E,R){if(E=t.decode64(g.deflate(t.encode64(E)).rval),R){var S=2;32&E.charCodeAt(1)&&(S=6),E=E.substring(S,E.length-4)}return E},t.inflate=function(g,E,R){var S=g.inflate(t.encode64(E)).rval;return S===null?null:t.decode64(S)};var u=function(g,E,R){if(!g)throw new Error("WebStorage not available.");var S;if(R===null?S=g.removeItem(E):(R=t.encode64(JSON.stringify(R)),S=g.setItem(E,R)),S!==void 0&&S.rval!==!0){var M=new Error(S.error.message);throw M.id=S.error.id,M.name=S.error.name,M}},d=function(g,E){if(!g)throw new Error("WebStorage not available.");var R=g.getItem(E);if(g.init)if(R.rval===null){if(R.error){var S=new Error(R.error.message);throw S.id=R.error.id,S.name=R.error.name,S}R=null}else R=R.rval;return R!==null&&(R=JSON.parse(t.decode64(R))),R},l=function(g,E,R,S){var M=d(g,E);M===null&&(M={}),M[R]=S,u(g,E,M)},m=function(g,E,R){var S=d(g,E);return S!==null&&(S=R in S?S[R]:null),S},A=function(g,E,R){var S=d(g,E);if(S!==null&&R in S){delete S[R];var M=!0;for(var y in S){M=!1;break}M&&(S=null),u(g,E,S)}},B=function(g,E){u(g,E,null)},k=function(g,E,R){var S,M=null;R===void 0&&(R=["web","flash"]);var y=!1,p=null;for(var w in R){S=R[w];try{if(S==="flash"||S==="both"){if(E[0]===null)throw new Error("Flash local storage not available.");M=g.apply(this,E),y=S==="flash"}S!=="web"&&S!=="both"||(E[0]=localStorage,M=g.apply(this,E),y=!0)}catch(v){p=v}if(y)break}if(!y)throw p;return M};t.setItem=function(g,E,R,S,M){k(l,arguments,M)},t.getItem=function(g,E,R,S){return k(m,arguments,S)},t.removeItem=function(g,E,R,S){k(A,arguments,S)},t.clearItems=function(g,E,R){k(B,arguments,R)},t.parseUrl=function(g){var E=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;E.lastIndex=0;var R=E.exec(g),S=R===null?null:{full:g,scheme:R[1],host:R[2],port:R[3],path:R[4]};return S&&(S.fullHost=S.host,S.port?(S.port!==80&&S.scheme==="http"||S.port!==443&&S.scheme==="https")&&(S.fullHost+=":"+S.port):S.scheme==="http"?S.port=80:S.scheme==="https"&&(S.port=443),S.full=S.scheme+"://"+S.fullHost),S};var T=null;t.getQueryVariables=function(g){var E,R=function(S){for(var M={},y=S.split("&"),p=0;p<y.length;p++){var w,v,_=y[p].indexOf("=");_>0?(w=y[p].substring(0,_),v=y[p].substring(_+1)):(w=y[p],v=null),w in M||(M[w]=[]),w in Object.prototype||v===null||M[w].push(unescape(v))}return M};return g===void 0?(T===null&&(T=typeof window!="undefined"&&window.location&&window.location.search?R(window.location.search.substring(1)):{}),E=T):E=R(g),E},t.parseFragment=function(g){var E=g,R="",S=g.indexOf("?");S>0&&(E=g.substring(0,S),R=g.substring(S+1));var M=E.split("/");return M.length>0&&M[0]===""&&M.shift(),{pathString:E,queryString:R,path:M,query:R===""?{}:t.getQueryVariables(R)}},t.makeRequest=function(g){var E=t.parseFragment(g),R={path:E.pathString,query:E.queryString,getPath:function(S){return S===void 0?E.path:E.path[S]},getQuery:function(S,M){var y;return S===void 0?y=E.query:(y=E.query[S])&&M!==void 0&&(y=y[M]),y},getQueryLast:function(S,M){var y=R.getQuery(S);return y?y[y.length-1]:M}};return R},t.makeLink=function(g,E,R){g=jQuery.isArray(g)?g.join("/"):g;var S=jQuery.param(E||{});return R=R||"",g+(S.length>0?"?"+S:"")+(R.length>0?"#"+R:"")},t.setPath=function(g,E,R){if(typeof g=="object"&&g!==null)for(var S=0,M=E.length;S<M;){var y=E[S++];if(S==M)g[y]=R;else{var p=y in g;(!p||p&&typeof g[y]!="object"||p&&g[y]===null)&&(g[y]={}),g=g[y]}}},t.getPath=function(g,E,R){for(var S=0,M=E.length,y=!0;y&&S<M&&typeof g=="object"&&g!==null;){var p=E[S++];(y=p in g)&&(g=g[p])}return y?g:R},t.deletePath=function(g,E){if(typeof g=="object"&&g!==null)for(var R=0,S=E.length;R<S;){var M=E[R++];if(R==S)delete g[M];else{if(!(M in g)||typeof g[M]!="object"||g[M]===null)break;g=g[M]}}},t.isEmpty=function(g){for(var E in g)if(g.hasOwnProperty(E))return!1;return!0},t.format=function(g){for(var E,R,S=/%./g,M=0,y=[],p=0;E=S.exec(g);){(R=g.substring(p,S.lastIndex-2)).length>0&&y.push(R),p=S.lastIndex;var w=E[0][1];switch(w){case"s":case"o":M<arguments.length?y.push(arguments[1+M++]):y.push("<?>");break;case"%":y.push("%");break;default:y.push("<%"+w+"?>")}}return y.push(g.substring(p)),y.join("")},t.formatNumber=function(g,E,R,S){var M=g,y=isNaN(E=Math.abs(E))?2:E,p=R===void 0?",":R,w=S===void 0?".":S,v=M<0?"-":"",_=parseInt(M=Math.abs(+M||0).toFixed(y),10)+"",C=_.length>3?_.length%3:0;return v+(C?_.substr(0,C)+w:"")+_.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+w)+(y?p+Math.abs(M-_).toFixed(y).slice(2):"")},t.formatSize=function(g){return g=g>=1073741824?t.formatNumber(g/1073741824,2,".","")+" GiB":g>=1048576?t.formatNumber(g/1048576,2,".","")+" MiB":g>=1024?t.formatNumber(g/1024,0)+" KiB":t.formatNumber(g,0)+" bytes"},t.bytesFromIP=function(g){return g.indexOf(".")!==-1?t.bytesFromIPv4(g):g.indexOf(":")!==-1?t.bytesFromIPv6(g):null},t.bytesFromIPv4=function(g){if((g=g.split(".")).length!==4)return null;for(var E=t.createBuffer(),R=0;R<g.length;++R){var S=parseInt(g[R],10);if(isNaN(S))return null;E.putByte(S)}return E.getBytes()},t.bytesFromIPv6=function(g){for(var E=0,R=2*(8-(g=g.split(":").filter(function(p){return p.length===0&&++E,!0})).length+E),S=t.createBuffer(),M=0;M<8;++M)if(g[M]&&g[M].length!==0){var y=t.hexToBytes(g[M]);y.length<2&&S.putByte(0),S.putBytes(y)}else S.fillWithByte(0,R),R=0;return S.getBytes()},t.bytesToIP=function(g){return g.length===4?t.bytesToIPv4(g):g.length===16?t.bytesToIPv6(g):null},t.bytesToIPv4=function(g){if(g.length!==4)return null;for(var E=[],R=0;R<g.length;++R)E.push(g.charCodeAt(R));return E.join(".")},t.bytesToIPv6=function(g){if(g.length!==16)return null;for(var E=[],R=[],S=0,M=0;M<g.length;M+=2){for(var y=t.bytesToHex(g[M]+g[M+1]);y[0]==="0"&&y!=="0";)y=y.substr(1);if(y==="0"){var p=R[R.length-1],w=E.length;p&&w===p.end+1?(p.end=w,p.end-p.start>R[S].end-R[S].start&&(S=R.length-1)):R.push({start:w,end:w})}E.push(y)}if(R.length>0){var v=R[S];v.end-v.start>0&&(E.splice(v.start,v.end-v.start+1,""),v.start===0&&E.unshift(""),v.end===7&&E.push(""))}return E.join(":")},t.estimateCores=function(g,E){if(typeof g=="function"&&(E=g,g={}),g=g||{},"cores"in t&&!g.update)return E(null,t.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,E(null,t.cores);if(typeof Worker=="undefined")return t.cores=1,E(null,t.cores);if(typeof Blob=="undefined")return t.cores=2,E(null,t.cores);var R=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(S){for(var M=Date.now(),y=M+4;Date.now()<y;);self.postMessage({st:M,et:y})})}.toString(),")()"],{type:"application/javascript"}));!function S(M,y,p){if(y===0){var w=Math.floor(M.reduce(function(v,_){return v+_},0)/M.length);return t.cores=Math.max(1,w),URL.revokeObjectURL(R),E(null,t.cores)}!function(v,_){for(var C=[],L=[],O=0;O<v;++O){var U=new Worker(R);U.addEventListener("message",function(q){if(L.push(q.data),L.length===v){for(var H=0;H<v;++H)C[H].terminate();_(null,L)}}),C.push(U)}for(O=0;O<v;++O)C[O].postMessage(O)}(p,function(v,_){M.push(function(C,L){for(var O=[],U=0;U<C;++U)for(var q=L[U],H=O[U]=[],G=0;G<C;++G)if(U!==G){var K=L[G];(q.st>K.st&&q.st<K.et||K.st>q.st&&K.st<q.et)&&H.push(G)}return O.reduce(function(Q,z){return Math.max(Q,z.length)},0)}(p,_)),S(M,y-1,p)})}([],5,16)}}).call(this,b(11),b(7),b(4).Buffer)},function(N,x,b){(function(s){var r=b(189),i=b(190),f=b(191);function c(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(I,P){if(c()<P)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(I=new Uint8Array(P)).__proto__=a.prototype:(I===null&&(I=new a(P)),I.length=P),I}function a(I,P,V){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(I,P,V);if(typeof I=="number"){if(typeof P=="string")throw new Error("If encoding is specified then the first argument must be a string");return n(this,I)}return o(this,I,P,V)}function o(I,P,V,$){if(typeof P=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&P instanceof ArrayBuffer?function(W,et,ot,j){if(et.byteLength,ot<0||et.byteLength<ot)throw new RangeError("'offset' is out of bounds");if(et.byteLength<ot+(j||0))throw new RangeError("'length' is out of bounds");return et=ot===void 0&&j===void 0?new Uint8Array(et):j===void 0?new Uint8Array(et,ot):new Uint8Array(et,ot,j),a.TYPED_ARRAY_SUPPORT?(W=et).__proto__=a.prototype:W=h(W,et),W}(I,P,V,$):typeof P=="string"?function(W,et,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!a.isEncoding(ot))throw new TypeError('"encoding" must be a valid string encoding');var j=0|d(et,ot),Y=(W=t(W,j)).write(et,ot);return Y!==j&&(W=W.slice(0,Y)),W}(I,P,V):function(W,et){if(a.isBuffer(et)){var ot=0|u(et.length);return(W=t(W,ot)).length===0||et.copy(W,0,0,ot),W}if(et){if(typeof ArrayBuffer!="undefined"&&et.buffer instanceof ArrayBuffer||"length"in et)return typeof et.length!="number"||(j=et.length)!=j?t(W,0):h(W,et);if(et.type==="Buffer"&&f(et.data))return h(W,et.data)}var j;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(I,P)}function e(I){if(typeof I!="number")throw new TypeError('"size" argument must be a number');if(I<0)throw new RangeError('"size" argument must not be negative')}function n(I,P){if(e(P),I=t(I,P<0?0:0|u(P)),!a.TYPED_ARRAY_SUPPORT)for(var V=0;V<P;++V)I[V]=0;return I}function h(I,P){var V=P.length<0?0:0|u(P.length);I=t(I,V);for(var $=0;$<V;$+=1)I[$]=255&P[$];return I}function u(I){if(I>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|I}function d(I,P){if(a.isBuffer(I))return I.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(I)||I instanceof ArrayBuffer))return I.byteLength;typeof I!="string"&&(I=""+I);var V=I.length;if(V===0)return 0;for(var $=!1;;)switch(P){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return z(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return D(I).length;default:if($)return z(I).length;P=(""+P).toLowerCase(),$=!0}}function l(I,P,V){var $=!1;if((P===void 0||P<0)&&(P=0),P>this.length)return"";if((V===void 0||V>this.length)&&(V=this.length),V<=0)return"";if((V>>>=0)<=(P>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return v(this,P,V);case"utf8":case"utf-8":return y(this,P,V);case"ascii":return p(this,P,V);case"latin1":case"binary":return w(this,P,V);case"base64":return M(this,P,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,P,V);default:if($)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),$=!0}}function m(I,P,V){var $=I[P];I[P]=I[V],I[V]=$}function A(I,P,V,$,W){if(I.length===0)return-1;if(typeof V=="string"?($=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=W?0:I.length-1),V<0&&(V=I.length+V),V>=I.length){if(W)return-1;V=I.length-1}else if(V<0){if(!W)return-1;V=0}if(typeof P=="string"&&(P=a.from(P,$)),a.isBuffer(P))return P.length===0?-1:B(I,P,V,$,W);if(typeof P=="number")return P&=255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(I,P,V):Uint8Array.prototype.lastIndexOf.call(I,P,V):B(I,[P],V,$,W);throw new TypeError("val must be string, number or Buffer")}function B(I,P,V,$,W){var et,ot=1,j=I.length,Y=P.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(I.length<2||P.length<2)return-1;ot=2,j/=2,Y/=2,V/=2}function X(Z,nt){return ot===1?Z[nt]:Z.readUInt16BE(nt*ot)}if(W){var tt=-1;for(et=V;et<j;et++)if(X(I,et)===X(P,tt===-1?0:et-tt)){if(tt===-1&&(tt=et),et-tt+1===Y)return tt*ot}else tt!==-1&&(et-=et-tt),tt=-1}else for(V+Y>j&&(V=j-Y),et=V;et>=0;et--){for(var rt=!0,J=0;J<Y;J++)if(X(I,et+J)!==X(P,J)){rt=!1;break}if(rt)return et}return-1}function k(I,P,V,$){V=Number(V)||0;var W=I.length-V;$?($=Number($))>W&&($=W):$=W;var et=P.length;if(et%2!=0)throw new TypeError("Invalid hex string");$>et/2&&($=et/2);for(var ot=0;ot<$;++ot){var j=parseInt(P.substr(2*ot,2),16);if(isNaN(j))return ot;I[V+ot]=j}return ot}function T(I,P,V,$){return F(z(P,I.length-V),I,V,$)}function g(I,P,V,$){return F(function(W){for(var et=[],ot=0;ot<W.length;++ot)et.push(255&W.charCodeAt(ot));return et}(P),I,V,$)}function E(I,P,V,$){return g(I,P,V,$)}function R(I,P,V,$){return F(D(P),I,V,$)}function S(I,P,V,$){return F(function(W,et){for(var ot,j,Y,X=[],tt=0;tt<W.length&&!((et-=2)<0);++tt)ot=W.charCodeAt(tt),j=ot>>8,Y=ot%256,X.push(Y),X.push(j);return X}(P,I.length-V),I,V,$)}function M(I,P,V){return P===0&&V===I.length?r.fromByteArray(I):r.fromByteArray(I.slice(P,V))}function y(I,P,V){V=Math.min(I.length,V);for(var $=[],W=P;W<V;){var et,ot,j,Y,X=I[W],tt=null,rt=X>239?4:X>223?3:X>191?2:1;if(W+rt<=V)switch(rt){case 1:X<128&&(tt=X);break;case 2:(192&(et=I[W+1]))==128&&(Y=(31&X)<<6|63&et)>127&&(tt=Y);break;case 3:et=I[W+1],ot=I[W+2],(192&et)==128&&(192&ot)==128&&(Y=(15&X)<<12|(63&et)<<6|63&ot)>2047&&(Y<55296||Y>57343)&&(tt=Y);break;case 4:et=I[W+1],ot=I[W+2],j=I[W+3],(192&et)==128&&(192&ot)==128&&(192&j)==128&&(Y=(15&X)<<18|(63&et)<<12|(63&ot)<<6|63&j)>65535&&Y<1114112&&(tt=Y)}tt===null?(tt=65533,rt=1):tt>65535&&(tt-=65536,$.push(tt>>>10&1023|55296),tt=56320|1023&tt),$.push(tt),W+=rt}return function(J){var Z=J.length;if(Z<=4096)return String.fromCharCode.apply(String,J);for(var nt="",it=0;it<Z;)nt+=String.fromCharCode.apply(String,J.slice(it,it+=4096));return nt}($)}x.Buffer=a,x.SlowBuffer=function(I){return+I!=I&&(I=0),a.alloc(+I)},x.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42&&typeof I.subarray=="function"&&I.subarray(1,1).byteLength===0}catch(P){return!1}}(),x.kMaxLength=c(),a.poolSize=8192,a._augment=function(I){return I.__proto__=a.prototype,I},a.from=function(I,P,V){return o(null,I,P,V)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(I,P,V){return function($,W,et,ot){return e(W),W<=0?t($,W):et!==void 0?typeof ot=="string"?t($,W).fill(et,ot):t($,W).fill(et):t($,W)}(null,I,P,V)},a.allocUnsafe=function(I){return n(null,I)},a.allocUnsafeSlow=function(I){return n(null,I)},a.isBuffer=function(I){return!(I==null||!I._isBuffer)},a.compare=function(I,P){if(!a.isBuffer(I)||!a.isBuffer(P))throw new TypeError("Arguments must be Buffers");if(I===P)return 0;for(var V=I.length,$=P.length,W=0,et=Math.min(V,$);W<et;++W)if(I[W]!==P[W]){V=I[W],$=P[W];break}return V<$?-1:$<V?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,P){if(!f(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);var V;if(P===void 0)for(P=0,V=0;V<I.length;++V)P+=I[V].length;var $=a.allocUnsafe(P),W=0;for(V=0;V<I.length;++V){var et=I[V];if(!a.isBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy($,W),W+=et.length}return $},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<I;P+=2)m(this,P,P+1);return this},a.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<I;P+=4)m(this,P,P+3),m(this,P+1,P+2);return this},a.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<I;P+=8)m(this,P,P+7),m(this,P+1,P+6),m(this,P+2,P+5),m(this,P+3,P+4);return this},a.prototype.toString=function(){var I=0|this.length;return I===0?"":arguments.length===0?y(this,0,I):l.apply(this,arguments)},a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||a.compare(this,I)===0},a.prototype.inspect=function(){var I="",P=x.INSPECT_MAX_BYTES;return this.length>0&&(I=this.toString("hex",0,P).match(/.{2}/g).join(" "),this.length>P&&(I+=" ... ")),"<Buffer "+I+">"},a.prototype.compare=function(I,P,V,$,W){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");if(P===void 0&&(P=0),V===void 0&&(V=I?I.length:0),$===void 0&&($=0),W===void 0&&(W=this.length),P<0||V>I.length||$<0||W>this.length)throw new RangeError("out of range index");if($>=W&&P>=V)return 0;if($>=W)return-1;if(P>=V)return 1;if(this===I)return 0;for(var et=(W>>>=0)-($>>>=0),ot=(V>>>=0)-(P>>>=0),j=Math.min(et,ot),Y=this.slice($,W),X=I.slice(P,V),tt=0;tt<j;++tt)if(Y[tt]!==X[tt]){et=Y[tt],ot=X[tt];break}return et<ot?-1:ot<et?1:0},a.prototype.includes=function(I,P,V){return this.indexOf(I,P,V)!==-1},a.prototype.indexOf=function(I,P,V){return A(this,I,P,V,!0)},a.prototype.lastIndexOf=function(I,P,V){return A(this,I,P,V,!1)},a.prototype.write=function(I,P,V,$){if(P===void 0)$="utf8",V=this.length,P=0;else if(V===void 0&&typeof P=="string")$=P,V=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P|=0,isFinite(V)?(V|=0,$===void 0&&($="utf8")):($=V,V=void 0)}var W=this.length-P;if((V===void 0||V>W)&&(V=W),I.length>0&&(V<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var et=!1;;)switch($){case"hex":return k(this,I,P,V);case"utf8":case"utf-8":return T(this,I,P,V);case"ascii":return g(this,I,P,V);case"latin1":case"binary":return E(this,I,P,V);case"base64":return R(this,I,P,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,I,P,V);default:if(et)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),et=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(I,P,V){var $="";V=Math.min(I.length,V);for(var W=P;W<V;++W)$+=String.fromCharCode(127&I[W]);return $}function w(I,P,V){var $="";V=Math.min(I.length,V);for(var W=P;W<V;++W)$+=String.fromCharCode(I[W]);return $}function v(I,P,V){var $=I.length;(!P||P<0)&&(P=0),(!V||V<0||V>$)&&(V=$);for(var W="",et=P;et<V;++et)W+=Q(I[et]);return W}function _(I,P,V){for(var $=I.slice(P,V),W="",et=0;et<$.length;et+=2)W+=String.fromCharCode($[et]+256*$[et+1]);return W}function C(I,P,V){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+P>V)throw new RangeError("Trying to access beyond buffer length")}function L(I,P,V,$,W,et){if(!a.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>W||P<et)throw new RangeError('"value" argument is out of bounds');if(V+$>I.length)throw new RangeError("Index out of range")}function O(I,P,V,$){P<0&&(P=65535+P+1);for(var W=0,et=Math.min(I.length-V,2);W<et;++W)I[V+W]=(P&255<<8*($?W:1-W))>>>8*($?W:1-W)}function U(I,P,V,$){P<0&&(P=4294967295+P+1);for(var W=0,et=Math.min(I.length-V,4);W<et;++W)I[V+W]=P>>>8*($?W:3-W)&255}function q(I,P,V,$,W,et){if(V+$>I.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function H(I,P,V,$,W){return W||q(I,0,V,4),i.write(I,P,V,$,23,4),V+4}function G(I,P,V,$,W){return W||q(I,0,V,8),i.write(I,P,V,$,52,8),V+8}a.prototype.slice=function(I,P){var V,$=this.length;if((I=~~I)<0?(I+=$)<0&&(I=0):I>$&&(I=$),(P=P===void 0?$:~~P)<0?(P+=$)<0&&(P=0):P>$&&(P=$),P<I&&(P=I),a.TYPED_ARRAY_SUPPORT)(V=this.subarray(I,P)).__proto__=a.prototype;else{var W=P-I;V=new a(W,void 0);for(var et=0;et<W;++et)V[et]=this[et+I]}return V},a.prototype.readUIntLE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I],W=1,et=0;++et<P&&(W*=256);)$+=this[I+et]*W;return $},a.prototype.readUIntBE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I+--P],W=1;P>0&&(W*=256);)$+=this[I+--P]*W;return $},a.prototype.readUInt8=function(I,P){return P||C(I,1,this.length),this[I]},a.prototype.readUInt16LE=function(I,P){return P||C(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUInt16BE=function(I,P){return P||C(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUInt32LE=function(I,P){return P||C(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},a.prototype.readUInt32BE=function(I,P){return P||C(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readIntLE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I],W=1,et=0;++et<P&&(W*=256);)$+=this[I+et]*W;return $>=(W*=128)&&($-=Math.pow(2,8*P)),$},a.prototype.readIntBE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=P,W=1,et=this[I+--$];$>0&&(W*=256);)et+=this[I+--$]*W;return et>=(W*=128)&&(et-=Math.pow(2,8*P)),et},a.prototype.readInt8=function(I,P){return P||C(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},a.prototype.readInt16LE=function(I,P){P||C(I,2,this.length);var V=this[I]|this[I+1]<<8;return 32768&V?4294901760|V:V},a.prototype.readInt16BE=function(I,P){P||C(I,2,this.length);var V=this[I+1]|this[I]<<8;return 32768&V?4294901760|V:V},a.prototype.readInt32LE=function(I,P){return P||C(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,P){return P||C(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readFloatLE=function(I,P){return P||C(I,4,this.length),i.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,P){return P||C(I,4,this.length),i.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,P){return P||C(I,8,this.length),i.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,P){return P||C(I,8,this.length),i.read(this,I,!1,52,8)},a.prototype.writeUIntLE=function(I,P,V,$){(I=+I,P|=0,V|=0,$)||L(this,I,P,V,Math.pow(2,8*V)-1,0);var W=1,et=0;for(this[P]=255&I;++et<V&&(W*=256);)this[P+et]=I/W&255;return P+V},a.prototype.writeUIntBE=function(I,P,V,$){(I=+I,P|=0,V|=0,$)||L(this,I,P,V,Math.pow(2,8*V)-1,0);var W=V-1,et=1;for(this[P+W]=255&I;--W>=0&&(et*=256);)this[P+W]=I/et&255;return P+V},a.prototype.writeUInt8=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,1,255,0),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),this[P]=255&I,P+1},a.prototype.writeUInt16LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8):O(this,I,P,!0),P+2},a.prototype.writeUInt16BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>8,this[P+1]=255&I):O(this,I,P,!1),P+2},a.prototype.writeUInt32LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[P+3]=I>>>24,this[P+2]=I>>>16,this[P+1]=I>>>8,this[P]=255&I):U(this,I,P,!0),P+4},a.prototype.writeUInt32BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=255&I):U(this,I,P,!1),P+4},a.prototype.writeIntLE=function(I,P,V,$){if(I=+I,P|=0,!$){var W=Math.pow(2,8*V-1);L(this,I,P,V,W-1,-W)}var et=0,ot=1,j=0;for(this[P]=255&I;++et<V&&(ot*=256);)I<0&&j===0&&this[P+et-1]!==0&&(j=1),this[P+et]=(I/ot>>0)-j&255;return P+V},a.prototype.writeIntBE=function(I,P,V,$){if(I=+I,P|=0,!$){var W=Math.pow(2,8*V-1);L(this,I,P,V,W-1,-W)}var et=V-1,ot=1,j=0;for(this[P+et]=255&I;--et>=0&&(ot*=256);)I<0&&j===0&&this[P+et+1]!==0&&(j=1),this[P+et]=(I/ot>>0)-j&255;return P+V},a.prototype.writeInt8=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,1,127,-128),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),I<0&&(I=255+I+1),this[P]=255&I,P+1},a.prototype.writeInt16LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8):O(this,I,P,!0),P+2},a.prototype.writeInt16BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>8,this[P+1]=255&I):O(this,I,P,!1),P+2},a.prototype.writeInt32LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8,this[P+2]=I>>>16,this[P+3]=I>>>24):U(this,I,P,!0),P+4},a.prototype.writeInt32BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=255&I):U(this,I,P,!1),P+4},a.prototype.writeFloatLE=function(I,P,V){return H(this,I,P,!0,V)},a.prototype.writeFloatBE=function(I,P,V){return H(this,I,P,!1,V)},a.prototype.writeDoubleLE=function(I,P,V){return G(this,I,P,!0,V)},a.prototype.writeDoubleBE=function(I,P,V){return G(this,I,P,!1,V)},a.prototype.copy=function(I,P,V,$){if(V||(V=0),$||$===0||($=this.length),P>=I.length&&(P=I.length),P||(P=0),$>0&&$<V&&($=V),$===V)return 0;if(I.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),I.length-P<$-V&&($=I.length-P+V);var W,et=$-V;if(this===I&&V<P&&P<$)for(W=et-1;W>=0;--W)I[W+P]=this[W+V];else if(et<1e3||!a.TYPED_ARRAY_SUPPORT)for(W=0;W<et;++W)I[W+P]=this[W+V];else Uint8Array.prototype.set.call(I,this.subarray(V,V+et),P);return et},a.prototype.fill=function(I,P,V,$){if(typeof I=="string"){if(typeof P=="string"?($=P,P=0,V=this.length):typeof V=="string"&&($=V,V=this.length),I.length===1){var W=I.charCodeAt(0);W<256&&(I=W)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!a.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof I=="number"&&(I&=255);if(P<0||this.length<P||this.length<V)throw new RangeError("Out of range index");if(V<=P)return this;var et;if(P>>>=0,V=V===void 0?this.length:V>>>0,I||(I=0),typeof I=="number")for(et=P;et<V;++et)this[et]=I;else{var ot=a.isBuffer(I)?I:z(new a(I,$).toString()),j=ot.length;for(et=0;et<V-P;++et)this[et+P]=ot[et%j]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function Q(I){return I<16?"0"+I.toString(16):I.toString(16)}function z(I,P){var V;P=P||1/0;for(var $=I.length,W=null,et=[],ot=0;ot<$;++ot){if((V=I.charCodeAt(ot))>55295&&V<57344){if(!W){if(V>56319){(P-=3)>-1&&et.push(239,191,189);continue}if(ot+1===$){(P-=3)>-1&&et.push(239,191,189);continue}W=V;continue}if(V<56320){(P-=3)>-1&&et.push(239,191,189),W=V;continue}V=65536+(W-55296<<10|V-56320)}else W&&(P-=3)>-1&&et.push(239,191,189);if(W=null,V<128){if((P-=1)<0)break;et.push(V)}else if(V<2048){if((P-=2)<0)break;et.push(V>>6|192,63&V|128)}else if(V<65536){if((P-=3)<0)break;et.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;et.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return et}function D(I){return r.toByteArray(function(P){if((P=function(V){return V.trim?V.trim():V.replace(/^\s+|\s+$/g,"")}(P).replace(K,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(I))}function F(I,P,V,$){for(var W=0;W<$&&!(W+V>=P.length||W>=I.length);++W)P[W+V]=I[W];return W}}).call(this,b(7))},function(N,x,b){const{names:s}=b(34),{TextDecoder:r}=b(35),i=new r("utf8");N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.decode(f);if(c==="ascii")return function(a){let o="";for(let e=0;e<a.length;e++)o+=String.fromCharCode(a[e]);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.encode(f)}},function(N,x,b){const{names:s}=b(34),{TextEncoder:r}=b(35),i=new r;N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.encode(f);if(c==="ascii")return function(a){const o=new Uint8Array(a.length);for(let e=0;e<a.length;e++)o[e]=a.charCodeAt(e);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.decode(f)}},function(N,x,b){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(r){typeof window=="object"&&(s=window)}N.exports=s},function(N,x,b){const s=b(45),r=b(63),i=b(64),f=b(24),{PeerIdProto:c}=b(335),t=b(20),a=b(6),o=b(5),e=f(class{constructor(d,l,m){if(!(d instanceof Uint8Array))throw new Error("invalid id provided");if(l&&m&&!t(l.public.bytes,m.bytes))throw new Error("inconsistent arguments");this._id=d,this._idB58String=s.toB58String(this.id),this._privKey=l,this._pubKey=m}get id(){return this._id}set id(d){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(d){this._privKey=d}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{const d=s.decode(this.id);d.name==="identity"&&(this._pubKey=i.unmarshalPublicKey(d.digest))}catch(d){}return this._pubKey}set pubKey(d){this._pubKey=d}marshalPubKey(){if(this.pubKey)return i.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return i.marshalPrivateKey(this.privKey)}marshal(d){return c.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:d?null:this.marshalPrivKey()})}toPrint(){let d=this.toB58String();d.startsWith("Qm")&&(d=d.slice(2));let l=6;return d.length<l&&(l=d.length),"<peer.ID "+d.substr(0,l)+">"}toJSON(){return{id:this.toB58String(),privKey:u(this.marshalPrivKey()),pubKey:u(this.marshalPubKey())}}toHexString(){return s.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const d=new r(1,"libp2p-key",this.id,"base32");this._idCIDString=d.toBaseEncodedString("base32")}return this._idCIDString}equals(d){if(d instanceof Uint8Array)return t(this.id,d);if(d.id)return t(this.id,d.id);throw new Error("not valid Id")}isEqual(d){return this.equals(d)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&t(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(s.decode(this.id).name==="identity")return!0}catch(d){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});x=N.exports=e;const n=d=>d.bytes.length<=42?s.encode(d.bytes,"identity"):d.hash(),h=async(d,l)=>{const m=await n(l);return new e(m,d,l)};x.create=async d=>{(d=d||{}).bits=d.bits||2048,d.keyType=d.keyType||"RSA";const l=await i.generateKeyPair(d.keyType,d.bits);return h(l,l.public)},x.createFromHexString=d=>new e(s.fromHexString(d)),x.createFromBytes=d=>new e(d),x.createFromB58String=d=>x.createFromCID(d);function u(d){if(d)return o(d,"base64pad")}x.createFromCID=d=>{if(!(l=>l.codec==="libp2p-key"||l.codec==="dag-pb")(d=r.isCID(d)?d:new r(d)))throw new Error("Supplied PeerID CID has invalid multicodec: "+d.codec);return new e(d.multihash)},x.createFromPubKey=async d=>{let l=d;if(typeof l=="string"&&(l=a(d,"base64pad")),!(l instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const m=await i.unmarshalPublicKey(l);return h(null,m)},x.createFromPrivKey=async d=>{if(typeof d=="string"&&(d=a(d,"base64pad")),!(d instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const l=await i.unmarshalPrivateKey(d);return h(l,l.public)},x.createFromJSON=async d=>{const l=s.fromB58String(d.id),m=d.privKey&&a(d.privKey,"base64pad"),A=d.pubKey&&a(d.pubKey,"base64pad"),B=A&&await i.unmarshalPublicKey(A);if(!m)return new e(l,null,B);const k=await i.unmarshalPrivateKey(m),T=await n(k.public);let g;if(B&&(g=await n(B)),B&&!t(T,g))throw new Error("Public and private key do not match");if(l&&!t(T,l))throw new Error("Id and private key do not match");return new e(l,k,B)},x.createFromProtobuf=async d=>{typeof d=="string"&&(d=a(d,"base16"));let l,m,{id:A,privKey:B,pubKey:k}=c.decode(d);if(B=!!B&&await i.unmarshalPrivateKey(B),k=!!k&&await i.unmarshalPublicKey(k),B&&(m=await n(B.public)),k&&(l=await n(k)),B){if(k&&!t(m,l))throw new Error("Public and private key do not match");return new e(m,B,B.public)}if(k)return new e(l,null,k);if(A)return new e(A);throw new Error("Protobuf did not contain any usable key material")},x.isPeerId=d=>Boolean(typeof d=="object"&&d._id&&d._idB58String)},function(N,x,b){N.exports={encode:b(253),decode:b(254),encodingLength:b(255)}},function(N,x,b){x.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"},x.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}},function(N,x,b){var s,r,i=N.exports={};function f(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function t(m){if(s===setTimeout)return setTimeout(m,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch(A){try{return s.call(null,m,0)}catch(B){return s.call(this,m,0)}}}!function(){try{s=typeof setTimeout=="function"?setTimeout:f}catch(m){s=f}try{r=typeof clearTimeout=="function"?clearTimeout:c}catch(m){r=c}}();var a,o=[],e=!1,n=-1;function h(){e&&a&&(e=!1,a.length?o=a.concat(o):n=-1,o.length&&u())}function u(){if(!e){var m=t(h);e=!0;for(var A=o.length;A;){for(a=o,o=[];++n<A;)a&&a[n].run();n=-1,A=o.length}a=null,e=!1,function(B){if(r===clearTimeout)return clearTimeout(B);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(B);try{r(B)}catch(k){try{return r.call(null,B)}catch(T){return r.call(this,B)}}}(m)}}function d(m,A){this.fun=m,this.array=A}function l(){}i.nextTick=function(m){var A=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)A[B-1]=arguments[B];o.push(new d(m,A)),o.length!==1||e||t(u)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=l,i.addListener=l,i.once=l,i.off=l,i.removeListener=l,i.removeAllListeners=l,i.emit=l,i.prependListener=l,i.prependOnceListener=l,i.listeners=function(m){return[]},i.binding=function(m){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(m){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(N,x,b){typeof Object.create=="function"?N.exports=function(s,r){r&&(s.super_=r,s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:N.exports=function(s,r){if(r){s.super_=r;var i=function(){};i.prototype=r.prototype,s.prototype=new i,s.prototype.constructor=s}}},function(N,x,b){N.exports=function(s,r,i,f){return r.bytes=i.bytes=0,{type:s,encode:r,decode:i,encodingLength:f}}},function(N,x,b){const s=b(346),r=b(51),i=b(9),f=b(63),c=b(24),t=b(0),a=Symbol.for("nodejs.util.inspect.custom"),o=b(5),e=b(20),n=new Map,h=c.proto(function(u){if(!(this instanceof h))return new h(u);if(u==null&&(u=""),u instanceof Uint8Array)this.bytes=s.fromBytes(u);else if(typeof u=="string"||u instanceof String){if(u.length>0&&u.charAt(0)!=="/")throw new Error(`multiaddr "${u}" must start with a "/"`);this.bytes=s.fromString(u)}else{if(!(u.bytes&&u.protos&&u.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=s.fromBytes(u.bytes)}},{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});h.prototype.toString=function(){return s.bytesToString(this.bytes)},h.prototype.toJSON=h.prototype.toString,h.prototype.toOptions=function(){const u={},d=this.toString().split("/");return u.family=d[1]==="ip4"?"ipv4":"ipv6",u.host=d[2],u.transport=d[3],u.port=parseInt(d[4]),u},h.prototype[a]=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.inspect=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.protos=function(){return this.protoCodes().map(u=>Object.assign({},r(u)))},h.prototype.protoCodes=function(){const u=[],d=this.bytes;let l=0;for(;l<d.length;){const m=i.decode(d,l),A=i.decode.bytes,B=r(m);l+=s.sizeForAddr(B,d.slice(l+A))+A,u.push(m)}return u},h.prototype.protoNames=function(){return this.protos().map(u=>u.name)},h.prototype.tuples=function(){return s.bytesToTuples(this.bytes)},h.prototype.stringTuples=function(){const u=s.bytesToTuples(this.bytes);return s.tuplesToStringTuples(u)},h.prototype.encapsulate=function(u){return u=h(u),h(this.toString()+u.toString())},h.prototype.decapsulate=function(u){u=u.toString();const d=this.toString(),l=d.lastIndexOf(u);if(l<0)throw new Error("Address "+this+" does not contain subaddress: "+u);return h(d.slice(0,l))},h.prototype.decapsulateCode=function(u){const d=this.tuples();for(let l=d.length-1;l>=0;l--)if(d[l][0]===u)return h(s.tuplesToBytes(d.slice(0,l)));return this},h.prototype.getPeerId=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(d[0]===r.names.ipfs.code)return!0}).pop()[1],u=o(new f(u).multihash,"base58btc")}catch(d){u=null}return u},h.prototype.getPath=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(r(d[0]).path)return!0})[0][1]}catch(d){u=null}return u},h.prototype.equals=function(u){return e(this.bytes,u.bytes)},h.prototype.resolve=async function(){const u=this.protos().find(l=>l.resolvable);if(!u)return[this];const d=n.get(u.name);if(!d)throw t(new Error("no available resolver for "+u.name),"ERR_NO_AVAILABLE_RESOLVER");return(await d(this)).map(l=>h(l))},h.prototype.nodeAddress=function(){const u=this.protoCodes(),d=this.protoNames(),l=this.toString().split("/").slice(1);if(l.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(u[0]!==4&&u[0]!==41&&u[0]!==54&&u[0]!==55)throw new Error(`no protocol with name: "'${d[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(l[2]!=="tcp"&&l[2]!=="udp")throw new Error(`no protocol with name: "'${d[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:u[0]===41||u[0]===55?6:4,address:l[1],port:parseInt(l[3])}},h.fromNodeAddress=function(u,d){if(!u)throw new Error("requires node address object");if(!d)throw new Error("requires transport protocol");let l;switch(u.family){case"IPv4":l="ip4";break;case"IPv6":l="ip6";break;default:throw Error(`Invalid addr family. Got '${u.family}' instead of 'IPv4' or 'IPv6'`)}return h("/"+[l,u.address,d,u.port].join("/"))},h.prototype.isThinWaistAddress=function(u){const d=(u||this).protos();return d.length===2&&(d[0].code===4||d[0].code===41)&&(d[1].code===6||d[1].code===273)},h.protocols=r,h.isName=function(u){return!!h.isMultiaddr(u)&&u.protos().some(d=>d.resolvable)},h.resolve=function(u){return h.isMultiaddr(u)&&h.isName(u)?Promise.reject(new Error("not implemented yet")):Promise.reject(Error("not a valid name"))},h.resolvers=n,N.exports=h},function(N,x,b){var s=x,r=b(21),i=b(27),f=b(122);s.assert=i,s.toArray=f.toArray,s.zero2=f.zero2,s.toHex=f.toHex,s.encode=f.encode,s.getNAF=function(c,t,a){var o=new Array(Math.max(c.bitLength(),a)+1);o.fill(0);for(var e=1<<t+1,n=c.clone(),h=0;h<o.length;h++){var u,d=n.andln(e-1);n.isOdd()?(u=d>(e>>1)-1?(e>>1)-d:d,n.isubn(u)):u=0,o[h]=u,n.iushrn(1)}return o},s.getJSF=function(c,t){var a=[[],[]];c=c.clone(),t=t.clone();for(var o=0,e=0;c.cmpn(-o)>0||t.cmpn(-e)>0;){var n,h,u,d=c.andln(3)+o&3,l=t.andln(3)+e&3;(d===3&&(d=-1),l===3&&(l=-1),(1&d)==0)?n=0:n=(u=c.andln(7)+o&7)!==3&&u!==5||l!==2?d:-d,(a[0].push(n),(1&l)==0)?h=0:h=(u=t.andln(7)+e&7)!==3&&u!==5||d!==2?l:-l,a[1].push(h),2*o===n+1&&(o=1-o),2*e===h+1&&(e=1-e),c.iushrn(1),t.iushrn(1)}return a},s.cachedProperty=function(c,t,a){var o="_"+t;c.prototype[t]=function(){return this[o]!==void 0?this[o]:this[o]=a.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new r(c,"hex","le")}},function(N,x,b){var s,r=typeof Reflect=="object"?Reflect:null,i=r&&typeof r.apply=="function"?r.apply:function(m,A,B){return Function.prototype.apply.call(m,A,B)};s=r&&typeof r.ownKeys=="function"?r.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var f=Number.isNaN||function(m){return m!=m};function c(){c.init.call(this)}N.exports=c,N.exports.once=function(m,A){return new Promise(function(B,k){function T(){g!==void 0&&m.removeListener("error",g),B([].slice.call(arguments))}var g;A!=="error"&&(g=function(E){m.removeListener(A,T),k(E)},m.once("error",g)),m.once(A,T)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var t=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function o(m){return m._maxListeners===void 0?c.defaultMaxListeners:m._maxListeners}function e(m,A,B,k){var T,g,E,R;if(a(B),(g=m._events)===void 0?(g=m._events=Object.create(null),m._eventsCount=0):(g.newListener!==void 0&&(m.emit("newListener",A,B.listener?B.listener:B),g=m._events),E=g[A]),E===void 0)E=g[A]=B,++m._eventsCount;else if(typeof E=="function"?E=g[A]=k?[B,E]:[E,B]:k?E.unshift(B):E.push(B),(T=o(m))>0&&E.length>T&&!E.warned){E.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=m,S.type=A,S.count=E.length,R=S,console&&console.warn&&console.warn(R)}return m}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(m,A,B){var k={fired:!1,wrapFn:void 0,target:m,type:A,listener:B},T=n.bind(k);return T.listener=B,k.wrapFn=T,T}function u(m,A,B){var k=m._events;if(k===void 0)return[];var T=k[A];return T===void 0?[]:typeof T=="function"?B?[T.listener||T]:[T]:B?function(g){for(var E=new Array(g.length),R=0;R<E.length;++R)E[R]=g[R].listener||g[R];return E}(T):l(T,T.length)}function d(m){var A=this._events;if(A!==void 0){var B=A[m];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}function l(m,A){for(var B=new Array(A),k=0;k<A;++k)B[k]=m[k];return B}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(m){if(typeof m!="number"||m<0||f(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");t=m}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||f(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},c.prototype.getMaxListeners=function(){return o(this)},c.prototype.emit=function(m){for(var A=[],B=1;B<arguments.length;B++)A.push(arguments[B]);var k=m==="error",T=this._events;if(T!==void 0)k=k&&T.error===void 0;else if(!k)return!1;if(k){var g;if(A.length>0&&(g=A[0]),g instanceof Error)throw g;var E=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw E.context=g,E}var R=T[m];if(R===void 0)return!1;if(typeof R=="function")i(R,this,A);else{var S=R.length,M=l(R,S);for(B=0;B<S;++B)i(M[B],this,A)}return!0},c.prototype.addListener=function(m,A){return e(this,m,A,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(m,A){return e(this,m,A,!0)},c.prototype.once=function(m,A){return a(A),this.on(m,h(this,m,A)),this},c.prototype.prependOnceListener=function(m,A){return a(A),this.prependListener(m,h(this,m,A)),this},c.prototype.removeListener=function(m,A){var B,k,T,g,E;if(a(A),(k=this._events)===void 0)return this;if((B=k[m])===void 0)return this;if(B===A||B.listener===A)--this._eventsCount==0?this._events=Object.create(null):(delete k[m],k.removeListener&&this.emit("removeListener",m,B.listener||A));else if(typeof B!="function"){for(T=-1,g=B.length-1;g>=0;g--)if(B[g]===A||B[g].listener===A){E=B[g].listener,T=g;break}if(T<0)return this;T===0?B.shift():function(R,S){for(;S+1<R.length;S++)R[S]=R[S+1];R.pop()}(B,T),B.length===1&&(k[m]=B[0]),k.removeListener!==void 0&&this.emit("removeListener",m,E||A)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(m){var A,B,k;if((B=this._events)===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete B[m]),this;if(arguments.length===0){var T,g=Object.keys(B);for(k=0;k<g.length;++k)(T=g[k])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(A=B[m])=="function")this.removeListener(m,A);else if(A!==void 0)for(k=A.length-1;k>=0;k--)this.removeListener(m,A[k]);return this},c.prototype.listeners=function(m){return u(this,m,!0)},c.prototype.rawListeners=function(m){return u(this,m,!1)},c.listenerCount=function(m,A){return typeof m.listenerCount=="function"?m.listenerCount(A):d.call(m,A)},c.prototype.listenerCount=d,c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},function(N,x,b){var s=b(264),r=b(268);N.exports=function(i,f){if(f||(f={}),!i)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var c=typeof i!="object"||i instanceof Uint8Array?s.parse(i):i,t=function(){var a=this;r(c,f.encodings||{}).forEach(function(o){a[o.name]=function(e){if(!e)return null;var n={};return Object.keys(e).forEach(function(h){n[h]=e[h].value}),n}(o.values)||o})};return t.prototype.toString=function(){return s.stringify(c)},t.prototype.toJSON=function(){return c},new t}},function(N,x,b){var s=b(27),r=b(12);function i(a,o){return(64512&a.charCodeAt(o))==55296&&!(o<0||o+1>=a.length)&&(64512&a.charCodeAt(o+1))==56320}function f(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function c(a){return a.length===1?"0"+a:a}function t(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}x.inherits=r,x.toArray=function(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var e=[];if(typeof a=="string")if(o){if(o==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),h=0;h<a.length;h+=2)e.push(parseInt(a[h]+a[h+1],16))}else for(var n=0,h=0;h<a.length;h++){var u=a.charCodeAt(h);u<128?e[n++]=u:u<2048?(e[n++]=u>>6|192,e[n++]=63&u|128):i(a,h)?(u=65536+((1023&u)<<10)+(1023&a.charCodeAt(++h)),e[n++]=u>>18|240,e[n++]=u>>12&63|128,e[n++]=u>>6&63|128,e[n++]=63&u|128):(e[n++]=u>>12|224,e[n++]=u>>6&63|128,e[n++]=63&u|128)}else for(h=0;h<a.length;h++)e[h]=0|a[h];return e},x.toHex=function(a){for(var o="",e=0;e<a.length;e++)o+=c(a[e].toString(16));return o},x.htonl=f,x.toHex32=function(a,o){for(var e="",n=0;n<a.length;n++){var h=a[n];o==="little"&&(h=f(h)),e+=t(h.toString(16))}return e},x.zero2=c,x.zero8=t,x.join32=function(a,o,e,n){var h=e-o;s(h%4==0);for(var u=new Array(h/4),d=0,l=o;d<u.length;d++,l+=4){var m;m=n==="big"?a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3]:a[l+3]<<24|a[l+2]<<16|a[l+1]<<8|a[l],u[d]=m>>>0}return u},x.split32=function(a,o){for(var e=new Array(4*a.length),n=0,h=0;n<a.length;n++,h+=4){var u=a[n];o==="big"?(e[h]=u>>>24,e[h+1]=u>>>16&255,e[h+2]=u>>>8&255,e[h+3]=255&u):(e[h+3]=u>>>24,e[h+2]=u>>>16&255,e[h+1]=u>>>8&255,e[h]=255&u)}return e},x.rotr32=function(a,o){return a>>>o|a<<32-o},x.rotl32=function(a,o){return a<<o|a>>>32-o},x.sum32=function(a,o){return a+o>>>0},x.sum32_3=function(a,o,e){return a+o+e>>>0},x.sum32_4=function(a,o,e,n){return a+o+e+n>>>0},x.sum32_5=function(a,o,e,n,h){return a+o+e+n+h>>>0},x.sum64=function(a,o,e,n){var h=a[o],u=n+a[o+1]>>>0,d=(u<n?1:0)+e+h;a[o]=d>>>0,a[o+1]=u},x.sum64_hi=function(a,o,e,n){return(o+n>>>0<o?1:0)+a+e>>>0},x.sum64_lo=function(a,o,e,n){return o+n>>>0},x.sum64_4_hi=function(a,o,e,n,h,u,d,l){var m=0,A=o;return m+=(A=A+n>>>0)<o?1:0,m+=(A=A+u>>>0)<u?1:0,a+e+h+d+(m+=(A=A+l>>>0)<l?1:0)>>>0},x.sum64_4_lo=function(a,o,e,n,h,u,d,l){return o+n+u+l>>>0},x.sum64_5_hi=function(a,o,e,n,h,u,d,l,m,A){var B=0,k=o;return B+=(k=k+n>>>0)<o?1:0,B+=(k=k+u>>>0)<u?1:0,B+=(k=k+l>>>0)<l?1:0,a+e+h+d+m+(B+=(k=k+A>>>0)<A?1:0)>>>0},x.sum64_5_lo=function(a,o,e,n,h,u,d,l,m,A){return o+n+u+l+A>>>0},x.rotr64_hi=function(a,o,e){return(o<<32-e|a>>>e)>>>0},x.rotr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0},x.shr64_hi=function(a,o,e){return a>>>e},x.shr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0}},function(N,x,b){N.exports=function(s,r){r||(r=s.reduce((c,t)=>c+t.length,0));const i=new Uint8Array(r);let f=0;for(const c of s)i.set(c,f),f+=c.length;return i}},function(N,x,b){N.exports=function(s,r){if(s===r)return!0;if(s.byteLength!==r.byteLength)return!1;for(let i=0;i<s.byteLength;i++)if(s[i]!==r[i])return!1;return!0}},function(N,x,b){(function(s){!function(r,i){function f(y,p){if(!y)throw new Error(p||"Assertion failed")}function c(y,p){y.super_=p;var w=function(){};w.prototype=p.prototype,y.prototype=new w,y.prototype.constructor=y}function t(y,p,w){if(t.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&(p!=="le"&&p!=="be"||(w=p,p=10),this._init(y||0,p||10,w||"be"))}var a;typeof r=="object"?r.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{a=b(311).Buffer}catch(y){}function o(y,p,w){for(var v=0,_=Math.min(y.length,w),C=p;C<_;C++){var L=y.charCodeAt(C)-48;v<<=4,v|=L>=49&&L<=54?L-49+10:L>=17&&L<=22?L-17+10:15&L}return v}function e(y,p,w,v){for(var _=0,C=Math.min(y.length,w),L=p;L<C;L++){var O=y.charCodeAt(L)-48;_*=v,_+=O>=49?O-49+10:O>=17?O-17+10:O}return _}t.isBN=function(y){return y instanceof t||y!==null&&typeof y=="object"&&y.constructor.wordSize===t.wordSize&&Array.isArray(y.words)},t.max=function(y,p){return y.cmp(p)>0?y:p},t.min=function(y,p){return y.cmp(p)<0?y:p},t.prototype._init=function(y,p,w){if(typeof y=="number")return this._initNumber(y,p,w);if(typeof y=="object")return this._initArray(y,p,w);p==="hex"&&(p=16),f(p===(0|p)&&p>=2&&p<=36);var v=0;(y=y.toString().replace(/\s+/g,""))[0]==="-"&&v++,p===16?this._parseHex(y,v):this._parseBase(y,p,v),y[0]==="-"&&(this.negative=1),this.strip(),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initNumber=function(y,p,w){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[67108863&y],this.length=1):y<4503599627370496?(this.words=[67108863&y,y/67108864&67108863],this.length=2):(f(y<9007199254740992),this.words=[67108863&y,y/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initArray=function(y,p,w){if(f(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,C,L=0;if(w==="be")for(v=y.length-1,_=0;v>=0;v-=3)C=y[v]|y[v-1]<<8|y[v-2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if(w==="le")for(v=0,_=0;v<y.length;v+=3)C=y[v]|y[v+1]<<8|y[v+2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},t.prototype._parseHex=function(y,p){this.length=Math.ceil((y.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,_,C=0;for(w=y.length-6,v=0;w>=p;w-=6)_=o(y,w,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303,(C+=24)>=26&&(C-=26,v++);w+6!==p&&(_=o(y,p,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303),this.strip()},t.prototype._parseBase=function(y,p,w){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=p)v++;v--,_=_/p|0;for(var C=y.length-w,L=C%v,O=Math.min(C,C-L)+w,U=0,q=w;q<O;q+=v)U=e(y,q,q+v,p),this.imuln(_),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(L!==0){var H=1;for(U=e(y,q,y.length,p),q=0;q<L;q++)H*=p;this.imuln(H),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}},t.prototype.copy=function(y){y.words=new Array(this.length);for(var p=0;p<this.length;p++)y.words[p]=this.words[p];y.length=this.length,y.negative=this.negative,y.red=this.red},t.prototype.clone=function(){var y=new t(null);return this.copy(y),y},t.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(y,p,w){w.negative=p.negative^y.negative;var v=y.length+p.length|0;w.length=v,v=v-1|0;var _=0|y.words[0],C=0|p.words[0],L=_*C,O=67108863&L,U=L/67108864|0;w.words[0]=O;for(var q=1;q<v;q++){for(var H=U>>>26,G=67108863&U,K=Math.min(q,p.length-1),Q=Math.max(0,q-y.length+1);Q<=K;Q++){var z=q-Q|0;H+=(L=(_=0|y.words[z])*(C=0|p.words[Q])+G)/67108864|0,G=67108863&L}w.words[q]=0|G,U=0|H}return U!==0?w.words[q]=0|U:w.length--,w.strip()}t.prototype.toString=function(y,p){var w;if(p=0|p||1,(y=y||10)===16||y==="hex"){w="";for(var v=0,_=0,C=0;C<this.length;C++){var L=this.words[C],O=(16777215&(L<<v|_)).toString(16);w=(_=L>>>24-v&16777215)!==0||C!==this.length-1?n[6-O.length]+O+w:O+w,(v+=2)>=26&&(v-=26,C--)}for(_!==0&&(w=_.toString(16)+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(y===(0|y)&&y>=2&&y<=36){var U=h[y],q=u[y];w="";var H=this.clone();for(H.negative=0;!H.isZero();){var G=H.modn(q).toString(y);w=(H=H.idivn(q)).isZero()?G+w:n[U-G.length]+G+w}for(this.isZero()&&(w="0"+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}f(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=67108864*this.words[1]:this.length===3&&this.words[2]===1?y+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(y,p){return f(a!==void 0),this.toArrayLike(a,y,p)},t.prototype.toArray=function(y,p){return this.toArrayLike(Array,y,p)},t.prototype.toArrayLike=function(y,p,w){var v=this.byteLength(),_=w||Math.max(1,v);f(v<=_,"byte array longer than desired length"),f(_>0,"Requested array length <= 0"),this.strip();var C,L,O=p==="le",U=new y(_),q=this.clone();if(O){for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[L]=C;for(;L<_;L++)U[L]=0}else{for(L=0;L<_-v;L++)U[L]=0;for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[_-L-1]=C}return U},Math.clz32?t.prototype._countBits=function(y){return 32-Math.clz32(y)}:t.prototype._countBits=function(y){var p=y,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},t.prototype._zeroBits=function(y){if(y===0)return 26;var p=y,w=0;return(8191&p)==0&&(w+=13,p>>>=13),(127&p)==0&&(w+=7,p>>>=7),(15&p)==0&&(w+=4,p>>>=4),(3&p)==0&&(w+=2,p>>>=2),(1&p)==0&&w++,w},t.prototype.bitLength=function(){var y=this.words[this.length-1],p=this._countBits(y);return 26*(this.length-1)+p},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(y+=w,w!==26)break}return y},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},t.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var p=0;p<y.length;p++)this.words[p]=this.words[p]|y.words[p];return this.strip()},t.prototype.ior=function(y){return f((this.negative|y.negative)==0),this.iuor(y)},t.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},t.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},t.prototype.iuand=function(y){var p;p=this.length>y.length?y:this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&y.words[w];return this.length=p.length,this.strip()},t.prototype.iand=function(y){return f((this.negative|y.negative)==0),this.iuand(y)},t.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},t.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},t.prototype.iuxor=function(y){var p,w;this.length>y.length?(p=this,w=y):(p=y,w=this);for(var v=0;v<w.length;v++)this.words[v]=p.words[v]^w.words[v];if(this!==p)for(;v<p.length;v++)this.words[v]=p.words[v];return this.length=p.length,this.strip()},t.prototype.ixor=function(y){return f((this.negative|y.negative)==0),this.iuxor(y)},t.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},t.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},t.prototype.inotn=function(y){f(typeof y=="number"&&y>=0);var p=0|Math.ceil(y/26),w=y%26;this._expand(p),w>0&&p--;for(var v=0;v<p;v++)this.words[v]=67108863&~this.words[v];return w>0&&(this.words[v]=~this.words[v]&67108863>>26-w),this.strip()},t.prototype.notn=function(y){return this.clone().inotn(y)},t.prototype.setn=function(y,p){f(typeof y=="number"&&y>=0);var w=y/26|0,v=y%26;return this._expand(w+1),this.words[w]=p?this.words[w]|1<<v:this.words[w]&~(1<<v),this.strip()},t.prototype.iadd=function(y){var p,w,v;if(this.negative!==0&&y.negative===0)return this.negative=0,p=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,p=this.isub(y),y.negative=1,p._normSign();this.length>y.length?(w=this,v=y):(w=y,v=this);for(var _=0,C=0;C<v.length;C++)p=(0|w.words[C])+(0|v.words[C])+_,this.words[C]=67108863&p,_=p>>>26;for(;_!==0&&C<w.length;C++)p=(0|w.words[C])+_,this.words[C]=67108863&p,_=p>>>26;if(this.length=w.length,_!==0)this.words[this.length]=_,this.length++;else if(w!==this)for(;C<w.length;C++)this.words[C]=w.words[C];return this},t.prototype.add=function(y){var p;return y.negative!==0&&this.negative===0?(y.negative=0,p=this.sub(y),y.negative^=1,p):y.negative===0&&this.negative!==0?(this.negative=0,p=y.sub(this),this.negative=1,p):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},t.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var p=this.iadd(y);return y.negative=1,p._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var w,v,_=this.cmp(y);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(w=this,v=y):(w=y,v=this);for(var C=0,L=0;L<v.length;L++)C=(p=(0|w.words[L])-(0|v.words[L])+C)>>26,this.words[L]=67108863&p;for(;C!==0&&L<w.length;L++)C=(p=(0|w.words[L])+C)>>26,this.words[L]=67108863&p;if(C===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(y){return this.clone().isub(y)};var l=function(y,p,w){var v,_,C,L=y.words,O=p.words,U=w.words,q=0,H=0|L[0],G=8191&H,K=H>>>13,Q=0|L[1],z=8191&Q,D=Q>>>13,F=0|L[2],I=8191&F,P=F>>>13,V=0|L[3],$=8191&V,W=V>>>13,et=0|L[4],ot=8191&et,j=et>>>13,Y=0|L[5],X=8191&Y,tt=Y>>>13,rt=0|L[6],J=8191&rt,Z=rt>>>13,nt=0|L[7],it=8191&nt,st=nt>>>13,at=0|L[8],ct=8191&at,ut=at>>>13,bt=0|L[9],ht=8191&bt,yt=bt>>>13,Ct=0|O[0],ft=8191&Ct,dt=Ct>>>13,Kt=0|O[1],Tt=8191&Kt,Rt=Kt>>>13,jt=0|O[2],It=8191&jt,Bt=jt>>>13,Vt=0|O[3],pt=8191&Vt,lt=Vt>>>13,Pt=0|O[4],gt=8191&Pt,mt=Pt>>>13,Lt=0|O[5],vt=8191&Lt,wt=Lt>>>13,Ot=0|O[6],Et=8191&Ot,St=Ot>>>13,Dt=0|O[7],_t=8191&Dt,kt=Dt>>>13,Ut=0|O[8],At=8191&Ut,Mt=Ut>>>13,$t=0|O[9],Nt=8191&$t,xt=$t>>>13;w.negative=y.negative^p.negative,w.length=19;var qt=(q+(v=Math.imul(G,ft))|0)+((8191&(_=(_=Math.imul(G,dt))+Math.imul(K,ft)|0))<<13)|0;q=((C=Math.imul(K,dt))+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,v=Math.imul(z,ft),_=(_=Math.imul(z,dt))+Math.imul(D,ft)|0,C=Math.imul(D,dt);var Ft=(q+(v=v+Math.imul(G,Tt)|0)|0)+((8191&(_=(_=_+Math.imul(G,Rt)|0)+Math.imul(K,Tt)|0))<<13)|0;q=((C=C+Math.imul(K,Rt)|0)+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,v=Math.imul(I,ft),_=(_=Math.imul(I,dt))+Math.imul(P,ft)|0,C=Math.imul(P,dt),v=v+Math.imul(z,Tt)|0,_=(_=_+Math.imul(z,Rt)|0)+Math.imul(D,Tt)|0,C=C+Math.imul(D,Rt)|0;var zt=(q+(v=v+Math.imul(G,It)|0)|0)+((8191&(_=(_=_+Math.imul(G,Bt)|0)+Math.imul(K,It)|0))<<13)|0;q=((C=C+Math.imul(K,Bt)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,v=Math.imul($,ft),_=(_=Math.imul($,dt))+Math.imul(W,ft)|0,C=Math.imul(W,dt),v=v+Math.imul(I,Tt)|0,_=(_=_+Math.imul(I,Rt)|0)+Math.imul(P,Tt)|0,C=C+Math.imul(P,Rt)|0,v=v+Math.imul(z,It)|0,_=(_=_+Math.imul(z,Bt)|0)+Math.imul(D,It)|0,C=C+Math.imul(D,Bt)|0;var Ht=(q+(v=v+Math.imul(G,pt)|0)|0)+((8191&(_=(_=_+Math.imul(G,lt)|0)+Math.imul(K,pt)|0))<<13)|0;q=((C=C+Math.imul(K,lt)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,v=Math.imul(ot,ft),_=(_=Math.imul(ot,dt))+Math.imul(j,ft)|0,C=Math.imul(j,dt),v=v+Math.imul($,Tt)|0,_=(_=_+Math.imul($,Rt)|0)+Math.imul(W,Tt)|0,C=C+Math.imul(W,Rt)|0,v=v+Math.imul(I,It)|0,_=(_=_+Math.imul(I,Bt)|0)+Math.imul(P,It)|0,C=C+Math.imul(P,Bt)|0,v=v+Math.imul(z,pt)|0,_=(_=_+Math.imul(z,lt)|0)+Math.imul(D,pt)|0,C=C+Math.imul(D,lt)|0;var Gt=(q+(v=v+Math.imul(G,gt)|0)|0)+((8191&(_=(_=_+Math.imul(G,mt)|0)+Math.imul(K,gt)|0))<<13)|0;q=((C=C+Math.imul(K,mt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(X,ft),_=(_=Math.imul(X,dt))+Math.imul(tt,ft)|0,C=Math.imul(tt,dt),v=v+Math.imul(ot,Tt)|0,_=(_=_+Math.imul(ot,Rt)|0)+Math.imul(j,Tt)|0,C=C+Math.imul(j,Rt)|0,v=v+Math.imul($,It)|0,_=(_=_+Math.imul($,Bt)|0)+Math.imul(W,It)|0,C=C+Math.imul(W,Bt)|0,v=v+Math.imul(I,pt)|0,_=(_=_+Math.imul(I,lt)|0)+Math.imul(P,pt)|0,C=C+Math.imul(P,lt)|0,v=v+Math.imul(z,gt)|0,_=(_=_+Math.imul(z,mt)|0)+Math.imul(D,gt)|0,C=C+Math.imul(D,mt)|0;var Yt=(q+(v=v+Math.imul(G,vt)|0)|0)+((8191&(_=(_=_+Math.imul(G,wt)|0)+Math.imul(K,vt)|0))<<13)|0;q=((C=C+Math.imul(K,wt)|0)+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(J,ft),_=(_=Math.imul(J,dt))+Math.imul(Z,ft)|0,C=Math.imul(Z,dt),v=v+Math.imul(X,Tt)|0,_=(_=_+Math.imul(X,Rt)|0)+Math.imul(tt,Tt)|0,C=C+Math.imul(tt,Rt)|0,v=v+Math.imul(ot,It)|0,_=(_=_+Math.imul(ot,Bt)|0)+Math.imul(j,It)|0,C=C+Math.imul(j,Bt)|0,v=v+Math.imul($,pt)|0,_=(_=_+Math.imul($,lt)|0)+Math.imul(W,pt)|0,C=C+Math.imul(W,lt)|0,v=v+Math.imul(I,gt)|0,_=(_=_+Math.imul(I,mt)|0)+Math.imul(P,gt)|0,C=C+Math.imul(P,mt)|0,v=v+Math.imul(z,vt)|0,_=(_=_+Math.imul(z,wt)|0)+Math.imul(D,vt)|0,C=C+Math.imul(D,wt)|0;var Wt=(q+(v=v+Math.imul(G,Et)|0)|0)+((8191&(_=(_=_+Math.imul(G,St)|0)+Math.imul(K,Et)|0))<<13)|0;q=((C=C+Math.imul(K,St)|0)+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,v=Math.imul(it,ft),_=(_=Math.imul(it,dt))+Math.imul(st,ft)|0,C=Math.imul(st,dt),v=v+Math.imul(J,Tt)|0,_=(_=_+Math.imul(J,Rt)|0)+Math.imul(Z,Tt)|0,C=C+Math.imul(Z,Rt)|0,v=v+Math.imul(X,It)|0,_=(_=_+Math.imul(X,Bt)|0)+Math.imul(tt,It)|0,C=C+Math.imul(tt,Bt)|0,v=v+Math.imul(ot,pt)|0,_=(_=_+Math.imul(ot,lt)|0)+Math.imul(j,pt)|0,C=C+Math.imul(j,lt)|0,v=v+Math.imul($,gt)|0,_=(_=_+Math.imul($,mt)|0)+Math.imul(W,gt)|0,C=C+Math.imul(W,mt)|0,v=v+Math.imul(I,vt)|0,_=(_=_+Math.imul(I,wt)|0)+Math.imul(P,vt)|0,C=C+Math.imul(P,wt)|0,v=v+Math.imul(z,Et)|0,_=(_=_+Math.imul(z,St)|0)+Math.imul(D,Et)|0,C=C+Math.imul(D,St)|0;var Qt=(q+(v=v+Math.imul(G,_t)|0)|0)+((8191&(_=(_=_+Math.imul(G,kt)|0)+Math.imul(K,_t)|0))<<13)|0;q=((C=C+Math.imul(K,kt)|0)+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ct,ft),_=(_=Math.imul(ct,dt))+Math.imul(ut,ft)|0,C=Math.imul(ut,dt),v=v+Math.imul(it,Tt)|0,_=(_=_+Math.imul(it,Rt)|0)+Math.imul(st,Tt)|0,C=C+Math.imul(st,Rt)|0,v=v+Math.imul(J,It)|0,_=(_=_+Math.imul(J,Bt)|0)+Math.imul(Z,It)|0,C=C+Math.imul(Z,Bt)|0,v=v+Math.imul(X,pt)|0,_=(_=_+Math.imul(X,lt)|0)+Math.imul(tt,pt)|0,C=C+Math.imul(tt,lt)|0,v=v+Math.imul(ot,gt)|0,_=(_=_+Math.imul(ot,mt)|0)+Math.imul(j,gt)|0,C=C+Math.imul(j,mt)|0,v=v+Math.imul($,vt)|0,_=(_=_+Math.imul($,wt)|0)+Math.imul(W,vt)|0,C=C+Math.imul(W,wt)|0,v=v+Math.imul(I,Et)|0,_=(_=_+Math.imul(I,St)|0)+Math.imul(P,Et)|0,C=C+Math.imul(P,St)|0,v=v+Math.imul(z,_t)|0,_=(_=_+Math.imul(z,kt)|0)+Math.imul(D,_t)|0,C=C+Math.imul(D,kt)|0;var Xt=(q+(v=v+Math.imul(G,At)|0)|0)+((8191&(_=(_=_+Math.imul(G,Mt)|0)+Math.imul(K,At)|0))<<13)|0;q=((C=C+Math.imul(K,Mt)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(ht,ft),_=(_=Math.imul(ht,dt))+Math.imul(yt,ft)|0,C=Math.imul(yt,dt),v=v+Math.imul(ct,Tt)|0,_=(_=_+Math.imul(ct,Rt)|0)+Math.imul(ut,Tt)|0,C=C+Math.imul(ut,Rt)|0,v=v+Math.imul(it,It)|0,_=(_=_+Math.imul(it,Bt)|0)+Math.imul(st,It)|0,C=C+Math.imul(st,Bt)|0,v=v+Math.imul(J,pt)|0,_=(_=_+Math.imul(J,lt)|0)+Math.imul(Z,pt)|0,C=C+Math.imul(Z,lt)|0,v=v+Math.imul(X,gt)|0,_=(_=_+Math.imul(X,mt)|0)+Math.imul(tt,gt)|0,C=C+Math.imul(tt,mt)|0,v=v+Math.imul(ot,vt)|0,_=(_=_+Math.imul(ot,wt)|0)+Math.imul(j,vt)|0,C=C+Math.imul(j,wt)|0,v=v+Math.imul($,Et)|0,_=(_=_+Math.imul($,St)|0)+Math.imul(W,Et)|0,C=C+Math.imul(W,St)|0,v=v+Math.imul(I,_t)|0,_=(_=_+Math.imul(I,kt)|0)+Math.imul(P,_t)|0,C=C+Math.imul(P,kt)|0,v=v+Math.imul(z,At)|0,_=(_=_+Math.imul(z,Mt)|0)+Math.imul(D,At)|0,C=C+Math.imul(D,Mt)|0;var Zt=(q+(v=v+Math.imul(G,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(G,xt)|0)+Math.imul(K,Nt)|0))<<13)|0;q=((C=C+Math.imul(K,xt)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(ht,Tt),_=(_=Math.imul(ht,Rt))+Math.imul(yt,Tt)|0,C=Math.imul(yt,Rt),v=v+Math.imul(ct,It)|0,_=(_=_+Math.imul(ct,Bt)|0)+Math.imul(ut,It)|0,C=C+Math.imul(ut,Bt)|0,v=v+Math.imul(it,pt)|0,_=(_=_+Math.imul(it,lt)|0)+Math.imul(st,pt)|0,C=C+Math.imul(st,lt)|0,v=v+Math.imul(J,gt)|0,_=(_=_+Math.imul(J,mt)|0)+Math.imul(Z,gt)|0,C=C+Math.imul(Z,mt)|0,v=v+Math.imul(X,vt)|0,_=(_=_+Math.imul(X,wt)|0)+Math.imul(tt,vt)|0,C=C+Math.imul(tt,wt)|0,v=v+Math.imul(ot,Et)|0,_=(_=_+Math.imul(ot,St)|0)+Math.imul(j,Et)|0,C=C+Math.imul(j,St)|0,v=v+Math.imul($,_t)|0,_=(_=_+Math.imul($,kt)|0)+Math.imul(W,_t)|0,C=C+Math.imul(W,kt)|0,v=v+Math.imul(I,At)|0,_=(_=_+Math.imul(I,Mt)|0)+Math.imul(P,At)|0,C=C+Math.imul(P,Mt)|0;var Jt=(q+(v=v+Math.imul(z,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(z,xt)|0)+Math.imul(D,Nt)|0))<<13)|0;q=((C=C+Math.imul(D,xt)|0)+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(ht,It),_=(_=Math.imul(ht,Bt))+Math.imul(yt,It)|0,C=Math.imul(yt,Bt),v=v+Math.imul(ct,pt)|0,_=(_=_+Math.imul(ct,lt)|0)+Math.imul(ut,pt)|0,C=C+Math.imul(ut,lt)|0,v=v+Math.imul(it,gt)|0,_=(_=_+Math.imul(it,mt)|0)+Math.imul(st,gt)|0,C=C+Math.imul(st,mt)|0,v=v+Math.imul(J,vt)|0,_=(_=_+Math.imul(J,wt)|0)+Math.imul(Z,vt)|0,C=C+Math.imul(Z,wt)|0,v=v+Math.imul(X,Et)|0,_=(_=_+Math.imul(X,St)|0)+Math.imul(tt,Et)|0,C=C+Math.imul(tt,St)|0,v=v+Math.imul(ot,_t)|0,_=(_=_+Math.imul(ot,kt)|0)+Math.imul(j,_t)|0,C=C+Math.imul(j,kt)|0,v=v+Math.imul($,At)|0,_=(_=_+Math.imul($,Mt)|0)+Math.imul(W,At)|0,C=C+Math.imul(W,Mt)|0;var te=(q+(v=v+Math.imul(I,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(I,xt)|0)+Math.imul(P,Nt)|0))<<13)|0;q=((C=C+Math.imul(P,xt)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,v=Math.imul(ht,pt),_=(_=Math.imul(ht,lt))+Math.imul(yt,pt)|0,C=Math.imul(yt,lt),v=v+Math.imul(ct,gt)|0,_=(_=_+Math.imul(ct,mt)|0)+Math.imul(ut,gt)|0,C=C+Math.imul(ut,mt)|0,v=v+Math.imul(it,vt)|0,_=(_=_+Math.imul(it,wt)|0)+Math.imul(st,vt)|0,C=C+Math.imul(st,wt)|0,v=v+Math.imul(J,Et)|0,_=(_=_+Math.imul(J,St)|0)+Math.imul(Z,Et)|0,C=C+Math.imul(Z,St)|0,v=v+Math.imul(X,_t)|0,_=(_=_+Math.imul(X,kt)|0)+Math.imul(tt,_t)|0,C=C+Math.imul(tt,kt)|0,v=v+Math.imul(ot,At)|0,_=(_=_+Math.imul(ot,Mt)|0)+Math.imul(j,At)|0,C=C+Math.imul(j,Mt)|0;var ee=(q+(v=v+Math.imul($,Nt)|0)|0)+((8191&(_=(_=_+Math.imul($,xt)|0)+Math.imul(W,Nt)|0))<<13)|0;q=((C=C+Math.imul(W,xt)|0)+(_>>>13)|0)+(ee>>>26)|0,ee&=67108863,v=Math.imul(ht,gt),_=(_=Math.imul(ht,mt))+Math.imul(yt,gt)|0,C=Math.imul(yt,mt),v=v+Math.imul(ct,vt)|0,_=(_=_+Math.imul(ct,wt)|0)+Math.imul(ut,vt)|0,C=C+Math.imul(ut,wt)|0,v=v+Math.imul(it,Et)|0,_=(_=_+Math.imul(it,St)|0)+Math.imul(st,Et)|0,C=C+Math.imul(st,St)|0,v=v+Math.imul(J,_t)|0,_=(_=_+Math.imul(J,kt)|0)+Math.imul(Z,_t)|0,C=C+Math.imul(Z,kt)|0,v=v+Math.imul(X,At)|0,_=(_=_+Math.imul(X,Mt)|0)+Math.imul(tt,At)|0,C=C+Math.imul(tt,Mt)|0;var re=(q+(v=v+Math.imul(ot,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ot,xt)|0)+Math.imul(j,Nt)|0))<<13)|0;q=((C=C+Math.imul(j,xt)|0)+(_>>>13)|0)+(re>>>26)|0,re&=67108863,v=Math.imul(ht,vt),_=(_=Math.imul(ht,wt))+Math.imul(yt,vt)|0,C=Math.imul(yt,wt),v=v+Math.imul(ct,Et)|0,_=(_=_+Math.imul(ct,St)|0)+Math.imul(ut,Et)|0,C=C+Math.imul(ut,St)|0,v=v+Math.imul(it,_t)|0,_=(_=_+Math.imul(it,kt)|0)+Math.imul(st,_t)|0,C=C+Math.imul(st,kt)|0,v=v+Math.imul(J,At)|0,_=(_=_+Math.imul(J,Mt)|0)+Math.imul(Z,At)|0,C=C+Math.imul(Z,Mt)|0;var ne=(q+(v=v+Math.imul(X,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(X,xt)|0)+Math.imul(tt,Nt)|0))<<13)|0;q=((C=C+Math.imul(tt,xt)|0)+(_>>>13)|0)+(ne>>>26)|0,ne&=67108863,v=Math.imul(ht,Et),_=(_=Math.imul(ht,St))+Math.imul(yt,Et)|0,C=Math.imul(yt,St),v=v+Math.imul(ct,_t)|0,_=(_=_+Math.imul(ct,kt)|0)+Math.imul(ut,_t)|0,C=C+Math.imul(ut,kt)|0,v=v+Math.imul(it,At)|0,_=(_=_+Math.imul(it,Mt)|0)+Math.imul(st,At)|0,C=C+Math.imul(st,Mt)|0;var ie=(q+(v=v+Math.imul(J,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(J,xt)|0)+Math.imul(Z,Nt)|0))<<13)|0;q=((C=C+Math.imul(Z,xt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,v=Math.imul(ht,_t),_=(_=Math.imul(ht,kt))+Math.imul(yt,_t)|0,C=Math.imul(yt,kt),v=v+Math.imul(ct,At)|0,_=(_=_+Math.imul(ct,Mt)|0)+Math.imul(ut,At)|0,C=C+Math.imul(ut,Mt)|0;var se=(q+(v=v+Math.imul(it,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(it,xt)|0)+Math.imul(st,Nt)|0))<<13)|0;q=((C=C+Math.imul(st,xt)|0)+(_>>>13)|0)+(se>>>26)|0,se&=67108863,v=Math.imul(ht,At),_=(_=Math.imul(ht,Mt))+Math.imul(yt,At)|0,C=Math.imul(yt,Mt);var oe=(q+(v=v+Math.imul(ct,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ct,xt)|0)+Math.imul(ut,Nt)|0))<<13)|0;q=((C=C+Math.imul(ut,xt)|0)+(_>>>13)|0)+(oe>>>26)|0,oe&=67108863;var ae=(q+(v=Math.imul(ht,Nt))|0)+((8191&(_=(_=Math.imul(ht,xt))+Math.imul(yt,Nt)|0))<<13)|0;return q=((C=Math.imul(yt,xt))+(_>>>13)|0)+(ae>>>26)|0,ae&=67108863,U[0]=qt,U[1]=Ft,U[2]=zt,U[3]=Ht,U[4]=Gt,U[5]=Yt,U[6]=Wt,U[7]=Qt,U[8]=Xt,U[9]=Zt,U[10]=Jt,U[11]=te,U[12]=ee,U[13]=re,U[14]=ne,U[15]=ie,U[16]=se,U[17]=oe,U[18]=ae,q!==0&&(U[19]=q,w.length++),w};function m(y,p,w){return new A().mulp(y,p,w)}function A(y,p){this.x=y,this.y=p}Math.imul||(l=d),t.prototype.mulTo=function(y,p){var w=this.length+y.length;return this.length===10&&y.length===10?l(this,y,p):w<63?d(this,y,p):w<1024?function(v,_,C){C.negative=_.negative^v.negative,C.length=v.length+_.length;for(var L=0,O=0,U=0;U<C.length-1;U++){var q=O;O=0;for(var H=67108863&L,G=Math.min(U,_.length-1),K=Math.max(0,U-v.length+1);K<=G;K++){var Q=U-K,z=(0|v.words[Q])*(0|_.words[K]),D=67108863&z;H=67108863&(D=D+H|0),O+=(q=(q=q+(z/67108864|0)|0)+(D>>>26)|0)>>>26,q&=67108863}C.words[U]=H,L=q,q=O}return L!==0?C.words[U]=L:C.length--,C.strip()}(this,y,p):m(this,y,p)},A.prototype.makeRBT=function(y){for(var p=new Array(y),w=t.prototype._countBits(y)-1,v=0;v<y;v++)p[v]=this.revBin(v,w,y);return p},A.prototype.revBin=function(y,p,w){if(y===0||y===w-1)return y;for(var v=0,_=0;_<p;_++)v|=(1&y)<<p-_-1,y>>=1;return v},A.prototype.permute=function(y,p,w,v,_,C){for(var L=0;L<C;L++)v[L]=p[y[L]],_[L]=w[y[L]]},A.prototype.transform=function(y,p,w,v,_,C){this.permute(C,y,p,w,v,_);for(var L=1;L<_;L<<=1)for(var O=L<<1,U=Math.cos(2*Math.PI/O),q=Math.sin(2*Math.PI/O),H=0;H<_;H+=O)for(var G=U,K=q,Q=0;Q<L;Q++){var z=w[H+Q],D=v[H+Q],F=w[H+Q+L],I=v[H+Q+L],P=G*F-K*I;I=G*I+K*F,F=P,w[H+Q]=z+F,v[H+Q]=D+I,w[H+Q+L]=z-F,v[H+Q+L]=D-I,Q!==O&&(P=U*G-q*K,K=U*K+q*G,G=P)}},A.prototype.guessLen13b=function(y,p){var w=1|Math.max(p,y),v=1&w,_=0;for(w=w/2|0;w;w>>>=1)_++;return 1<<_+1+v},A.prototype.conjugate=function(y,p,w){if(!(w<=1))for(var v=0;v<w/2;v++){var _=y[v];y[v]=y[w-v-1],y[w-v-1]=_,_=p[v],p[v]=-p[w-v-1],p[w-v-1]=-_}},A.prototype.normalize13b=function(y,p){for(var w=0,v=0;v<p/2;v++){var _=8192*Math.round(y[2*v+1]/p)+Math.round(y[2*v]/p)+w;y[v]=67108863&_,w=_<67108864?0:_/67108864|0}return y},A.prototype.convert13b=function(y,p,w,v){for(var _=0,C=0;C<p;C++)_+=0|y[C],w[2*C]=8191&_,_>>>=13,w[2*C+1]=8191&_,_>>>=13;for(C=2*p;C<v;++C)w[C]=0;f(_===0),f((-8192&_)==0)},A.prototype.stub=function(y){for(var p=new Array(y),w=0;w<y;w++)p[w]=0;return p},A.prototype.mulp=function(y,p,w){var v=2*this.guessLen13b(y.length,p.length),_=this.makeRBT(v),C=this.stub(v),L=new Array(v),O=new Array(v),U=new Array(v),q=new Array(v),H=new Array(v),G=new Array(v),K=w.words;K.length=v,this.convert13b(y.words,y.length,L,v),this.convert13b(p.words,p.length,q,v),this.transform(L,C,O,U,v,_),this.transform(q,C,H,G,v,_);for(var Q=0;Q<v;Q++){var z=O[Q]*H[Q]-U[Q]*G[Q];U[Q]=O[Q]*G[Q]+U[Q]*H[Q],O[Q]=z}return this.conjugate(O,U,v),this.transform(O,U,K,C,v,_),this.conjugate(K,C,v),this.normalize13b(K,v),w.negative=y.negative^p.negative,w.length=y.length+p.length,w.strip()},t.prototype.mul=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),this.mulTo(y,p)},t.prototype.mulf=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),m(this,y,p)},t.prototype.imul=function(y){return this.clone().mulTo(y,this)},t.prototype.imuln=function(y){f(typeof y=="number"),f(y<67108864);for(var p=0,w=0;w<this.length;w++){var v=(0|this.words[w])*y,_=(67108863&v)+(67108863&p);p>>=26,p+=v/67108864|0,p+=_>>>26,this.words[w]=67108863&_}return p!==0&&(this.words[w]=p,this.length++),this},t.prototype.muln=function(y){return this.clone().imuln(y)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(y){var p=function(C){for(var L=new Array(C.bitLength()),O=0;O<L.length;O++){var U=O/26|0,q=O%26;L[O]=(C.words[U]&1<<q)>>>q}return L}(y);if(p.length===0)return new t(1);for(var w=this,v=0;v<p.length&&p[v]===0;v++,w=w.sqr());if(++v<p.length)for(var _=w.sqr();v<p.length;v++,_=_.sqr())p[v]!==0&&(w=w.mul(_));return w},t.prototype.iushln=function(y){f(typeof y=="number"&&y>=0);var p,w=y%26,v=(y-w)/26,_=67108863>>>26-w<<26-w;if(w!==0){var C=0;for(p=0;p<this.length;p++){var L=this.words[p]&_,O=(0|this.words[p])-L<<w;this.words[p]=O|C,C=L>>>26-w}C&&(this.words[p]=C,this.length++)}if(v!==0){for(p=this.length-1;p>=0;p--)this.words[p+v]=this.words[p];for(p=0;p<v;p++)this.words[p]=0;this.length+=v}return this.strip()},t.prototype.ishln=function(y){return f(this.negative===0),this.iushln(y)},t.prototype.iushrn=function(y,p,w){var v;f(typeof y=="number"&&y>=0),v=p?(p-p%26)/26:0;var _=y%26,C=Math.min((y-_)/26,this.length),L=67108863^67108863>>>_<<_,O=w;if(v-=C,v=Math.max(0,v),O){for(var U=0;U<C;U++)O.words[U]=this.words[U];O.length=C}if(!(C===0))if(this.length>C)for(this.length-=C,U=0;U<this.length;U++)this.words[U]=this.words[U+C];else this.words[0]=0,this.length=1;var q=0;for(U=this.length-1;U>=0&&(q!==0||U>=v);U--){var H=0|this.words[U];this.words[U]=q<<26-_|H>>>_,q=H&L}return O&&q!==0&&(O.words[O.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(y,p,w){return f(this.negative===0),this.iushrn(y,p,w)},t.prototype.shln=function(y){return this.clone().ishln(y)},t.prototype.ushln=function(y){return this.clone().iushln(y)},t.prototype.shrn=function(y){return this.clone().ishrn(y)},t.prototype.ushrn=function(y){return this.clone().iushrn(y)},t.prototype.testn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26,v=1<<p;return!(this.length<=w)&&!!(this.words[w]&v)},t.prototype.imaskn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var v=67108863^67108863>>>p<<p;this.words[this.length-1]&=v}return this.strip()},t.prototype.maskn=function(y){return this.clone().imaskn(y)},t.prototype.iaddn=function(y){return f(typeof y=="number"),f(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(0|this.words[0])<y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},t.prototype._iaddn=function(y){this.words[0]+=y;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},t.prototype.isubn=function(y){if(f(typeof y=="number"),f(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},t.prototype.addn=function(y){return this.clone().iaddn(y)},t.prototype.subn=function(y){return this.clone().isubn(y)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(y,p,w){var v,_,C=y.length+w;this._expand(C);var L=0;for(v=0;v<y.length;v++){_=(0|this.words[v+w])+L;var O=(0|y.words[v])*p;L=((_-=67108863&O)>>26)-(O/67108864|0),this.words[v+w]=67108863&_}for(;v<this.length-w;v++)L=(_=(0|this.words[v+w])+L)>>26,this.words[v+w]=67108863&_;if(L===0)return this.strip();for(f(L===-1),L=0,v=0;v<this.length;v++)L=(_=-(0|this.words[v])+L)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},t.prototype._wordDiv=function(y,p){var w=(this.length,y.length),v=this.clone(),_=y,C=0|_.words[_.length-1];(w=26-this._countBits(C))!==0&&(_=_.ushln(w),v.iushln(w),C=0|_.words[_.length-1]);var L,O=v.length-_.length;if(p!=="mod"){(L=new t(null)).length=O+1,L.words=new Array(L.length);for(var U=0;U<L.length;U++)L.words[U]=0}var q=v.clone()._ishlnsubmul(_,1,O);q.negative===0&&(v=q,L&&(L.words[O]=1));for(var H=O-1;H>=0;H--){var G=67108864*(0|v.words[_.length+H])+(0|v.words[_.length+H-1]);for(G=Math.min(G/C|0,67108863),v._ishlnsubmul(_,G,H);v.negative!==0;)G--,v.negative=0,v._ishlnsubmul(_,1,H),v.isZero()||(v.negative^=1);L&&(L.words[H]=G)}return L&&L.strip(),v.strip(),p!=="div"&&w!==0&&v.iushrn(w),{div:L||null,mod:v}},t.prototype.divmod=function(y,p,w){return f(!y.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&y.negative===0?(C=this.neg().divmod(y,p),p!=="mod"&&(v=C.div.neg()),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.iadd(y)),{div:v,mod:_}):this.negative===0&&y.negative!==0?(C=this.divmod(y.neg(),p),p!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):(this.negative&y.negative)!=0?(C=this.neg().divmod(y.neg(),p),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.isub(y)),{div:C.div,mod:_}):y.length>this.length||this.cmp(y)<0?{div:new t(0),mod:this}:y.length===1?p==="div"?{div:this.divn(y.words[0]),mod:null}:p==="mod"?{div:null,mod:new t(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new t(this.modn(y.words[0]))}:this._wordDiv(y,p);var v,_,C},t.prototype.div=function(y){return this.divmod(y,"div",!1).div},t.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},t.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},t.prototype.divRound=function(y){var p=this.divmod(y);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(y):p.mod,v=y.ushrn(1),_=y.andln(1),C=w.cmp(v);return C<0||_===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},t.prototype.modn=function(y){f(y<=67108863);for(var p=(1<<26)%y,w=0,v=this.length-1;v>=0;v--)w=(p*w+(0|this.words[v]))%y;return w},t.prototype.idivn=function(y){f(y<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var v=(0|this.words[w])+67108864*p;this.words[w]=v/y|0,p=v%y}return this.strip()},t.prototype.divn=function(y){return this.clone().idivn(y)},t.prototype.egcd=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v=new t(1),_=new t(0),C=new t(0),L=new t(1),O=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++O;for(var U=w.clone(),q=p.clone();!p.isZero();){for(var H=0,G=1;(p.words[0]&G)==0&&H<26;++H,G<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(U),_.isub(q)),v.iushrn(1),_.iushrn(1);for(var K=0,Q=1;(w.words[0]&Q)==0&&K<26;++K,Q<<=1);if(K>0)for(w.iushrn(K);K-- >0;)(C.isOdd()||L.isOdd())&&(C.iadd(U),L.isub(q)),C.iushrn(1),L.iushrn(1);p.cmp(w)>=0?(p.isub(w),v.isub(C),_.isub(L)):(w.isub(p),C.isub(v),L.isub(_))}return{a:C,b:L,gcd:w.iushln(O)}},t.prototype._invmp=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v,_=new t(1),C=new t(0),L=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var O=0,U=1;(p.words[0]&U)==0&&O<26;++O,U<<=1);if(O>0)for(p.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(L),_.iushrn(1);for(var q=0,H=1;(w.words[0]&H)==0&&q<26;++q,H<<=1);if(q>0)for(w.iushrn(q);q-- >0;)C.isOdd()&&C.iadd(L),C.iushrn(1);p.cmp(w)>=0?(p.isub(w),_.isub(C)):(w.isub(p),C.isub(_))}return(v=p.cmpn(1)===0?_:C).cmpn(0)<0&&v.iadd(y),v},t.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var p=this.clone(),w=y.clone();p.negative=0,w.negative=0;for(var v=0;p.isEven()&&w.isEven();v++)p.iushrn(1),w.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var _=p.cmp(w);if(_<0){var C=p;p=w,w=C}else if(_===0||w.cmpn(1)===0)break;p.isub(w)}return w.iushln(v)},t.prototype.invm=function(y){return this.egcd(y).a.umod(y)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(y){return this.words[0]&y},t.prototype.bincn=function(y){f(typeof y=="number");var p=y%26,w=(y-p)/26,v=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=v,this;for(var _=v,C=w;_!==0&&C<this.length;C++){var L=0|this.words[C];_=(L+=_)>>>26,L&=67108863,this.words[C]=L}return _!==0&&(this.words[C]=_,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(y){var p,w=y<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this.strip(),this.length>1)p=1;else{w&&(y=-y),f(y<=67108863,"Number is too big");var v=0|this.words[0];p=v===y?0:v<y?-1:1}return this.negative!==0?0|-p:p},t.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var p=this.ucmp(y);return this.negative!==0?0|-p:p},t.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var v=0|this.words[w],_=0|y.words[w];if(v!==_){v<_?p=-1:v>_&&(p=1);break}}return p},t.prototype.gtn=function(y){return this.cmpn(y)===1},t.prototype.gt=function(y){return this.cmp(y)===1},t.prototype.gten=function(y){return this.cmpn(y)>=0},t.prototype.gte=function(y){return this.cmp(y)>=0},t.prototype.ltn=function(y){return this.cmpn(y)===-1},t.prototype.lt=function(y){return this.cmp(y)===-1},t.prototype.lten=function(y){return this.cmpn(y)<=0},t.prototype.lte=function(y){return this.cmp(y)<=0},t.prototype.eqn=function(y){return this.cmpn(y)===0},t.prototype.eq=function(y){return this.cmp(y)===0},t.red=function(y){return new S(y)},t.prototype.toRed=function(y){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},t.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(y){return this.red=y,this},t.prototype.forceRed=function(y){return f(!this.red,"Already a number in reduction context"),this._forceRed(y)},t.prototype.redAdd=function(y){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},t.prototype.redIAdd=function(y){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},t.prototype.redSub=function(y){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},t.prototype.redISub=function(y){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},t.prototype.redShl=function(y){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},t.prototype.redMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},t.prototype.redIMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},t.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(y){return f(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var B={k256:null,p224:null,p192:null,p25519:null};function k(y,p){this.name=y,this.p=new t(p,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(y){if(typeof y=="string"){var p=t._prime(y);this.m=p.p,this.prime=p}else f(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function M(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var y=new t(null);return y.words=new Array(Math.ceil(this.n/13)),y},k.prototype.ireduce=function(y){var p,w=y;do this.split(w,this.tmp),p=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(p>this.n);var v=p<this.n?-1:w.ucmp(this.p);return v===0?(w.words[0]=0,w.length=1):v>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},k.prototype.split=function(y,p){y.iushrn(this.n,0,p)},k.prototype.imulK=function(y){return y.imul(this.k)},c(T,k),T.prototype.split=function(y,p){for(var w=Math.min(y.length,9),v=0;v<w;v++)p.words[v]=y.words[v];if(p.length=w,y.length<=9)return y.words[0]=0,void(y.length=1);var _=y.words[9];for(p.words[p.length++]=4194303&_,v=10;v<y.length;v++){var C=0|y.words[v];y.words[v-10]=(4194303&C)<<4|_>>>22,_=C}_>>>=22,y.words[v-10]=_,_===0&&y.length>10?y.length-=10:y.length-=9},T.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var p=0,w=0;w<y.length;w++){var v=0|y.words[w];p+=977*v,y.words[w]=67108863&p,p=64*v+(p/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y},c(g,k),c(E,k),c(R,k),R.prototype.imulK=function(y){for(var p=0,w=0;w<y.length;w++){var v=19*(0|y.words[w])+p,_=67108863&v;v>>>=26,y.words[w]=_,p=v}return p!==0&&(y.words[y.length++]=p),y},t._prime=function(y){if(B[y])return B[y];var p;if(y==="k256")p=new T;else if(y==="p224")p=new g;else if(y==="p192")p=new E;else{if(y!=="p25519")throw new Error("Unknown prime "+y);p=new R}return B[y]=p,p},S.prototype._verify1=function(y){f(y.negative===0,"red works only with positives"),f(y.red,"red works only with red numbers")},S.prototype._verify2=function(y,p){f((y.negative|p.negative)==0,"red works only with positives"),f(y.red&&y.red===p.red,"red works only with red numbers")},S.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},S.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},S.prototype.add=function(y,p){this._verify2(y,p);var w=y.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},S.prototype.iadd=function(y,p){this._verify2(y,p);var w=y.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},S.prototype.sub=function(y,p){this._verify2(y,p);var w=y.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},S.prototype.isub=function(y,p){this._verify2(y,p);var w=y.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},S.prototype.shl=function(y,p){return this._verify1(y),this.imod(y.ushln(p))},S.prototype.imul=function(y,p){return this._verify2(y,p),this.imod(y.imul(p))},S.prototype.mul=function(y,p){return this._verify2(y,p),this.imod(y.mul(p))},S.prototype.isqr=function(y){return this.imul(y,y.clone())},S.prototype.sqr=function(y){return this.mul(y,y)},S.prototype.sqrt=function(y){if(y.isZero())return y.clone();var p=this.m.andln(3);if(f(p%2==1),p===3){var w=this.m.add(new t(1)).iushrn(2);return this.pow(y,w)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);f(!v.isZero());var C=new t(1).toRed(this),L=C.redNeg(),O=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new t(2*U*U).toRed(this);this.pow(U,O).cmp(L)!==0;)U.redIAdd(L);for(var q=this.pow(U,v),H=this.pow(y,v.addn(1).iushrn(1)),G=this.pow(y,v),K=_;G.cmp(C)!==0;){for(var Q=G,z=0;Q.cmp(C)!==0;z++)Q=Q.redSqr();f(z<K);var D=this.pow(q,new t(1).iushln(K-z-1));H=H.redMul(D),q=D.redSqr(),G=G.redMul(q),K=z}return H},S.prototype.invm=function(y){var p=y._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},S.prototype.pow=function(y,p){if(p.isZero())return new t(1).toRed(this);if(p.cmpn(1)===0)return y.clone();var w=new Array(16);w[0]=new t(1).toRed(this),w[1]=y;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],y);var _=w[0],C=0,L=0,O=p.bitLength()%26;for(O===0&&(O=26),v=p.length-1;v>=0;v--){for(var U=p.words[v],q=O-1;q>=0;q--){var H=U>>q&1;_!==w[0]&&(_=this.sqr(_)),H!==0||C!==0?(C<<=1,C|=H,(++L===4||v===0&&q===0)&&(_=this.mul(_,w[C]),L=0,C=0)):L=0}O=26}return _},S.prototype.convertTo=function(y){var p=y.umod(this.m);return p===y?p.clone():p},S.prototype.convertFrom=function(y){var p=y.clone();return p.red=null,p},t.mont=function(y){return new M(y)},c(M,S),M.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},M.prototype.convertFrom=function(y){var p=this.imod(y.mul(this.rinv));return p.red=null,p},M.prototype.imul=function(y,p){if(y.isZero()||p.isZero())return y.words[0]=0,y.length=1,y;var w=y.imul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.mul=function(y,p){if(y.isZero()||p.isZero())return new t(0)._forceRed(this);var w=y.mul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(s)}).call(this,b(310)(N))},function(N,x,b){const s=b(88),r=b(162),i=b(54),f=b(93),c=b(92);x.Key=s,x.MemoryDatastore=r,x.utils=i,x.Errors=f,x.Adapter=c},function(N,x,b){var s=b(1);b(3),b(37);var r=N.exports=s.asn1=s.asn1||{};function i(c,t,a){if(a>t){var o=new Error("Too few bytes to parse DER.");throw o.available=c.length(),o.remaining=t,o.requested=a,o}}r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(c,t,a,o,e){if(s.util.isArray(o)){for(var n=[],h=0;h<o.length;++h)o[h]!==void 0&&n.push(o[h]);o=n}var u={tagClass:c,type:t,constructed:a,composed:a||s.util.isArray(o),value:o};return e&&"bitStringContents"in e&&(u.bitStringContents=e.bitStringContents,u.original=r.copy(u)),u},r.copy=function(c,t){var a;if(s.util.isArray(c)){a=[];for(var o=0;o<c.length;++o)a.push(r.copy(c[o],t));return a}return typeof c=="string"?c:(a={tagClass:c.tagClass,type:c.type,constructed:c.constructed,composed:c.composed,value:r.copy(c.value,t)},t&&!t.excludeBitStringContents&&(a.bitStringContents=c.bitStringContents),a)},r.equals=function(c,t,a){if(s.util.isArray(c)){if(!s.util.isArray(t))return!1;if(c.length!==t.length)return!1;for(var o=0;o<c.length;++o)if(!r.equals(c[o],t[o]))return!1;return!0}if(typeof c!=typeof t)return!1;if(typeof c=="string")return c===t;var e=c.tagClass===t.tagClass&&c.type===t.type&&c.constructed===t.constructed&&c.composed===t.composed&&r.equals(c.value,t.value);return a&&a.includeBitStringContents&&(e=e&&c.bitStringContents===t.bitStringContents),e},r.getBerValueLength=function(c){var t=c.getByte();if(t!==128)return 128&t?c.getInt((127&t)<<3):t},r.fromDer=function(c,t){return t===void 0&&(t={strict:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof c=="string"&&(c=s.util.createBuffer(c)),function a(o,e,n,h){var u;i(o,e,2);var d=o.getByte();e--;var l=192&d,m=31&d;u=o.length();var A,B,k=function(_,C){var L=_.getByte();if(C--,L!==128){var O;if(128&L){var U=127&L;i(_,C,U),O=_.getInt(U<<3)}else O=L;if(O<0)throw new Error("Negative length: "+O);return O}}(o,e);if(e-=u-o.length(),k!==void 0&&k>e){if(h.strict){var T=new Error("Too few bytes to read ASN.1 value.");throw T.available=o.length(),T.remaining=e,T.requested=k,T}k=e}var g=(32&d)==32;if(g)if(A=[],k===void 0)for(;;){if(i(o,e,2),o.bytes(2)===String.fromCharCode(0,0)){o.getBytes(2),e-=2;break}u=o.length(),A.push(a(o,e,n+1,h)),e-=u-o.length()}else for(;k>0;)u=o.length(),A.push(a(o,k,n+1,h)),e-=u-o.length(),k-=u-o.length();if(A===void 0&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&(B=o.bytes(k)),A===void 0&&h.decodeBitStrings&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&k>1){var E=o.read,R=e,S=0;if(m===r.Type.BITSTRING&&(i(o,e,1),S=o.getByte(),e--),S===0)try{u=o.length();var M={verbose:h.verbose,strict:!0,decodeBitStrings:!0},y=a(o,e,n+1,M),p=u-o.length();e-=p,m==r.Type.BITSTRING&&p++;var w=y.tagClass;p!==k||w!==r.Class.UNIVERSAL&&w!==r.Class.CONTEXT_SPECIFIC||(A=[y])}catch(_){}A===void 0&&(o.read=E,e=R)}if(A===void 0){if(k===void 0){if(h.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=e}if(m===r.Type.BMPSTRING)for(A="";k>0;k-=2)i(o,e,2),A+=String.fromCharCode(o.getInt16()),e-=2;else A=o.getBytes(k)}var v=B===void 0?null:{bitStringContents:B};return r.create(l,m,g,A,v)}(c,c.length(),0,t)},r.toDer=function(c){var t=s.util.createBuffer(),a=c.tagClass|c.type,o=s.util.createBuffer(),e=!1;if("bitStringContents"in c&&(e=!0,c.original&&(e=r.equals(c,c.original))),e)o.putBytes(c.bitStringContents);else if(c.composed){c.constructed?a|=32:o.putByte(0);for(var n=0;n<c.value.length;++n)c.value[n]!==void 0&&o.putBuffer(r.toDer(c.value[n]))}else if(c.type===r.Type.BMPSTRING)for(n=0;n<c.value.length;++n)o.putInt16(c.value.charCodeAt(n));else c.type===r.Type.INTEGER&&c.value.length>1&&(c.value.charCodeAt(0)===0&&(128&c.value.charCodeAt(1))==0||c.value.charCodeAt(0)===255&&(128&c.value.charCodeAt(1))==128)?o.putBytes(c.value.substr(1)):o.putBytes(c.value);if(t.putByte(a),o.length()<=127)t.putByte(127&o.length());else{var h=o.length(),u="";do u+=String.fromCharCode(255&h),h>>>=8;while(h>0);for(t.putByte(128|u.length),n=u.length-1;n>=0;--n)t.putByte(u.charCodeAt(n))}return t.putBuffer(o),t},r.oidToDer=function(c){var t,a,o,e,n=c.split("."),h=s.util.createBuffer();h.putByte(40*parseInt(n[0],10)+parseInt(n[1],10));for(var u=2;u<n.length;++u){t=!0,a=[],o=parseInt(n[u],10);do e=127&o,o>>>=7,t||(e|=128),a.push(e),t=!1;while(o>0);for(var d=a.length-1;d>=0;--d)h.putByte(a[d])}return h},r.derToOid=function(c){var t;typeof c=="string"&&(c=s.util.createBuffer(c));var a=c.getByte();t=Math.floor(a/40)+"."+a%40;for(var o=0;c.length()>0;)o<<=7,128&(a=c.getByte())?o+=127&a:(t+="."+(o+a),o=0);return t},r.utcTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,2),10);a=a>=50?1900+a:2e3+a;var o=parseInt(c.substr(2,2),10)-1,e=parseInt(c.substr(4,2),10),n=parseInt(c.substr(6,2),10),h=parseInt(c.substr(8,2),10),u=0;if(c.length>11){var d=c.charAt(10),l=10;d!=="+"&&d!=="-"&&(u=parseInt(c.substr(10,2),10),l+=2)}if(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,0),l&&((d=c.charAt(l))==="+"||d==="-")){var m=60*parseInt(c.substr(l+1,2),10)+parseInt(c.substr(l+4,2),10);m*=6e4,d==="+"?t.setTime(+t-m):t.setTime(+t+m)}return t},r.generalizedTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,4),10),o=parseInt(c.substr(4,2),10)-1,e=parseInt(c.substr(6,2),10),n=parseInt(c.substr(8,2),10),h=parseInt(c.substr(10,2),10),u=parseInt(c.substr(12,2),10),d=0,l=0,m=!1;c.charAt(c.length-1)==="Z"&&(m=!0);var A=c.length-5,B=c.charAt(A);return B!=="+"&&B!=="-"||(l=60*parseInt(c.substr(A+1,2),10)+parseInt(c.substr(A+4,2),10),l*=6e4,B==="+"&&(l*=-1),m=!0),c.charAt(14)==="."&&(d=1e3*parseFloat(c.substr(14),10)),m?(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,d),t.setTime(+t+l)):(t.setFullYear(a,o,e),t.setHours(n,h,u,d)),t},r.dateToUtcTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push((""+c.getUTCFullYear()).substr(2)),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.dateToGeneralizedTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push(""+c.getUTCFullYear()),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.integerToDer=function(c){var t=s.util.createBuffer();if(c>=-128&&c<128)return t.putSignedInt(c,8);if(c>=-32768&&c<32768)return t.putSignedInt(c,16);if(c>=-8388608&&c<8388608)return t.putSignedInt(c,24);if(c>=-2147483648&&c<2147483648)return t.putSignedInt(c,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=c,a},r.derToInteger=function(c){typeof c=="string"&&(c=s.util.createBuffer(c));var t=8*c.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return c.getSignedInt(t)},r.validate=function(c,t,a,o){var e=!1;if(c.tagClass!==t.tagClass&&t.tagClass!==void 0||c.type!==t.type&&t.type!==void 0)o&&(c.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+c.tagClass+'"'),c.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+c.type+'"'));else if(c.constructed===t.constructed||t.constructed===void 0){if(e=!0,t.value&&s.util.isArray(t.value))for(var n=0,h=0;e&&h<t.value.length;++h)e=t.value[h].optional||!1,c.value[n]&&((e=r.validate(c.value[n],t.value[h],a,o))?++n:t.value[h].optional&&(e=!0)),!e&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+c.value.length+'"');if(e&&a&&(t.capture&&(a[t.capture]=c.value),t.captureAsn1&&(a[t.captureAsn1]=c),t.captureBitStringContents&&"bitStringContents"in c&&(a[t.captureBitStringContents]=c.bitStringContents),t.captureBitStringValue&&"bitStringContents"in c))if(c.bitStringContents.length<2)a[t.captureBitStringValue]="";else{if(c.bitStringContents.charCodeAt(0)!==0)throw new Error("captureBitStringValue only supported for zero unused bits");a[t.captureBitStringValue]=c.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+c.constructed+'"');return e};var f=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(c,t,a){var o="";a=a||2,(t=t||0)>0&&(o+=`
`);for(var e="",n=0;n<t*a;++n)e+=" ";switch(o+=e+"Tag: ",c.tagClass){case r.Class.UNIVERSAL:o+="Universal:";break;case r.Class.APPLICATION:o+="Application:";break;case r.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case r.Class.PRIVATE:o+="Private:"}if(c.tagClass===r.Class.UNIVERSAL)switch(o+=c.type,c.type){case r.Type.NONE:o+=" (None)";break;case r.Type.BOOLEAN:o+=" (Boolean)";break;case r.Type.INTEGER:o+=" (Integer)";break;case r.Type.BITSTRING:o+=" (Bit string)";break;case r.Type.OCTETSTRING:o+=" (Octet string)";break;case r.Type.NULL:o+=" (Null)";break;case r.Type.OID:o+=" (Object Identifier)";break;case r.Type.ODESC:o+=" (Object Descriptor)";break;case r.Type.EXTERNAL:o+=" (External or Instance of)";break;case r.Type.REAL:o+=" (Real)";break;case r.Type.ENUMERATED:o+=" (Enumerated)";break;case r.Type.EMBEDDED:o+=" (Embedded PDV)";break;case r.Type.UTF8:o+=" (UTF8)";break;case r.Type.ROID:o+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:o+=" (Sequence)";break;case r.Type.SET:o+=" (Set)";break;case r.Type.PRINTABLESTRING:o+=" (Printable String)";break;case r.Type.IA5String:o+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:o+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case r.Type.BMPSTRING:o+=" (BMP String)"}else o+=c.type;if(o+=`
`,o+=e+"Constructed: "+c.constructed+`
`,c.composed){var h=0,u="";for(n=0;n<c.value.length;++n)c.value[n]!==void 0&&(h+=1,u+=r.prettyPrint(c.value[n],t+1,a),n+1<c.value.length&&(u+=","));o+=e+"Sub values: "+h+u}else{if(o+=e+"Value: ",c.type===r.Type.OID){var d=r.derToOid(c.value);o+=d,s.pki&&s.pki.oids&&d in s.pki.oids&&(o+=" ("+s.pki.oids[d]+") ")}if(c.type===r.Type.INTEGER)try{o+=r.derToInteger(c.value)}catch(m){o+="0x"+s.util.bytesToHex(c.value)}else if(c.type===r.Type.BITSTRING){if(c.value.length>1?o+="0x"+s.util.bytesToHex(c.value.slice(1)):o+="(none)",c.value.length>0){var l=c.value.charCodeAt(0);l==1?o+=" (1 unused bit shown)":l>1&&(o+=" ("+l+" unused bits shown)")}}else c.type===r.Type.OCTETSTRING?(f.test(c.value)||(o+="("+c.value+") "),o+="0x"+s.util.bytesToHex(c.value)):c.type===r.Type.UTF8?o+=s.util.decodeUtf8(c.value):c.type===r.Type.PRINTABLESTRING||c.type===r.Type.IA5String?o+=c.value:f.test(c.value)?o+="0x"+s.util.bytesToHex(c.value):c.value.length===0?o+="[null]":o+=c.value}return o}},function(N,x,b){N.exports=function(s,{className:r,symbolName:i}){const f=Symbol.for(i),c={[r]:class extends s{constructor(...t){super(...t),Object.defineProperty(this,f,{value:!0})}get[Symbol.toStringTag](){return r}}}[r];return c["is"+r]=t=>!(!t||!t[f]),c},N.exports.proto=function(s,{className:r,symbolName:i,withoutNew:f}){const c=Symbol.for(i),t={[r]:function(...a){if(f&&!(this instanceof t))return new t(...a);const o=s.call(this,...a)||this;return o&&!o[c]&&Object.defineProperty(o,c,{value:!0}),o}}[r];return t.prototype=Object.create(s.prototype),t.prototype.constructor=t,Object.defineProperty(t.prototype,Symbol.toStringTag,{get:()=>r}),t["is"+r]=a=>!(!a||!a[c]),t}},function(N,x,b){var s=b(1);N.exports=s.md=s.md||{},s.md.algorithms=s.md.algorithms||{}},function(N,x,b){var s=b(1);b(38),b(288),b(289),b(3),s.random&&s.random.getBytes?N.exports=s.random:function(r){var i={},f=new Array(4),c=s.util.createBuffer();function t(){var d=s.prng.create(i);return d.getBytes=function(l,m){return d.generate(l,m)},d.getBytesSync=function(l){return d.generate(l)},d}i.formatKey=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),s.aes._expandKey(d,!1)},i.formatSeed=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),d},i.cipher=function(d,l){return s.aes._updateBlock(d,l,f,!1),c.putInt32(f[0]),c.putInt32(f[1]),c.putInt32(f[2]),c.putInt32(f[3]),c.getBytes()},i.increment=function(d){return++d[3],d},i.md=s.md.sha256;var a=t(),o=null,e=s.util.globalScope,n=e.crypto||e.msCrypto;if(n&&n.getRandomValues&&(o=function(d){return n.getRandomValues(d)}),s.options.usePureJavaScript||!s.util.isNodejs&&!o){if(a.collectInt(+new Date,32),typeof navigator!="undefined"){var h="";for(var u in navigator)try{typeof navigator[u]=="string"&&(h+=navigator[u])}catch(d){}a.collect(h),h=null}r&&(r().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),r().keypress(function(d){a.collectInt(d.charCode,8)}))}if(s.random)for(var u in a)s.random[u]=a[u];else s.random=a;s.random.createInstance=t,N.exports=s.random}(typeof jQuery!="undefined"?jQuery:null)},function(N,x,b){function s(r,i){if(!r)throw new Error(i||"Assertion failed")}N.exports=s,s.equal=function(r,i,f){if(r!=i)throw new Error(f||"Assertion failed: "+r+" != "+i)}},function(N,x,b){const s=(...t)=>{let a;for(;t.length;)a=t.shift()(a);return a},r=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),i=t=>t&&typeof t.sink=="function"&&r(t.source),f=t=>a=>(t.sink(a),t.source),c=(...t)=>{if(i(t[0])){const a=t[0];t[0]=()=>a.source}else if(r(t[0])){const a=t[0];t[0]=()=>a}if(t.length>1&&i(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let a=1;a<t.length-1;a++)i(t[a])&&(t[a]=f(t[a]));return s(...t)};N.exports=c,N.exports.pipe=c,N.exports.rawPipe=s,N.exports.isIterable=r,N.exports.isDuplex=i},function(N,x,b){N.exports=function(){for(var r={},i=0;i<arguments.length;i++){var f=arguments[i];for(var c in f)s.call(f,c)&&(r[c]=f[c])}return r};var s=Object.prototype.hasOwnProperty},function(N,x,b){var s={};function r(f,c,t){t||(t=Error);var a=function(o){var e,n;function h(u,d,l){return o.call(this,function(m,A,B){return typeof c=="string"?c:c(m,A,B)}(u,d,l))||this}return n=o,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,h}(t);a.prototype.name=t.name,a.prototype.code=f,s[f]=a}function i(f,c){if(Array.isArray(f)){var t=f.length;return f=f.map(function(a){return String(a)}),t>2?"one of ".concat(c," ").concat(f.slice(0,t-1).join(", "),", or ")+f[t-1]:t===2?"one of ".concat(c," ").concat(f[0]," or ").concat(f[1]):"of ".concat(c," ").concat(f[0])}return"of ".concat(c," ").concat(String(f))}r("ERR_INVALID_OPT_VALUE",function(f,c){return'The value "'+c+'" is invalid for option "'+f+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(f,c,t){var a,o,e;if(typeof c=="string"&&(o="not ",c.substr(0,o.length)===o)?(a="must not be",c=c.replace(/^not /,"")):a="must be",function(h,u,d){return(d===void 0||d>h.length)&&(d=h.length),h.substring(d-u.length,d)===u}(f," argument"))e="The ".concat(f," ").concat(a," ").concat(i(c,"type"));else{var n=function(h,u,d){return typeof d!="number"&&(d=0),!(d+u.length>h.length)&&h.indexOf(u,d)!==-1}(f,".")?"property":"argument";e='The "'.concat(f,'" ').concat(n," ").concat(a," ").concat(i(c,"type"))}return e+=". Received type ".concat(typeof t)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),N.exports.codes=s},function(N,x,b){(function(s){var r=Object.keys||function(h){var u=[];for(var d in h)u.push(d);return u};N.exports=o;var i=b(98),f=b(102);b(12)(o,i);for(var c=r(f.prototype),t=0;t<c.length;t++){var a=c[t];o.prototype[a]||(o.prototype[a]=f.prototype[a])}function o(h){if(!(this instanceof o))return new o(h);i.call(this,h),f.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}function e(){this._writableState.ended||s.nextTick(n,this)}function n(h){h.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this,b(11))},function(N,x,b){const s=b(34),{encodeText:r,decodeText:i,concat:f}=b(55);function c(t){if(s.names[t])return s.names[t];if(s.codes[t])return s.codes[t];throw new Error("Unsupported encoding: "+t)}(x=N.exports=function(t,a){if(!a)throw new Error("requires an encoded Uint8Array");const{name:o,codeBuf:e}=c(t);return function(n,h){c(n).decode(i(h))}(o,a),f([e,a],e.length+a.length)}).encode=function(t,a){const o=c(t),e=r(o.encode(a));return f([o.codeBuf,e],o.codeBuf.length+e.length)},x.decode=function(t){t instanceof Uint8Array&&(t=i(t));const a=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(a)&&(t=t.toLowerCase()),c(t[0]).decode(t.substring(1))},x.isEncoded=function(t){if(t instanceof Uint8Array&&(t=i(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return c(t[0]).name}catch(a){return!1}},x.encoding=c,x.encodingFromData=function(t){return t instanceof Uint8Array&&(t=i(t)),c(t[0])},x.names=Object.freeze(s.names),x.codes=Object.freeze(s.codes)},function(N,x,b){const{Buffer:s}=b(4),r=Symbol.for("BufferList");function i(f){if(!(this instanceof i))return new i(f);i._init.call(this,f)}i._init=function(f){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,f&&this.append(f)},i.prototype._new=function(f){return new i(f)},i.prototype._offset=function(f){if(f===0)return[0,0];let c=0;for(let t=0;t<this._bufs.length;t++){const a=c+this._bufs[t].length;if(f<a||t===this._bufs.length-1)return[t,f-c];c=a}},i.prototype._reverseOffset=function(f){const c=f[0];let t=f[1];for(let a=0;a<c;a++)t+=this._bufs[a].length;return t},i.prototype.get=function(f){if(f>this.length||f<0)return;const c=this._offset(f);return this._bufs[c[0]][c[1]]},i.prototype.slice=function(f,c){return typeof f=="number"&&f<0&&(f+=this.length),typeof c=="number"&&c<0&&(c+=this.length),this.copy(null,0,f,c)},i.prototype.copy=function(f,c,t,a){if((typeof t!="number"||t<0)&&(t=0),(typeof a!="number"||a>this.length)&&(a=this.length),t>=this.length)return f||s.alloc(0);if(a<=0)return f||s.alloc(0);const o=!!f,e=this._offset(t),n=a-t;let h=n,u=o&&c||0,d=e[1];if(t===0&&a===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(f,u),u+=this._bufs[l].length;return f}if(h<=this._bufs[e[0]].length-d)return o?this._bufs[e[0]].copy(f,c,d,d+h):this._bufs[e[0]].slice(d,d+h);o||(f=s.allocUnsafe(n));for(let l=e[0];l<this._bufs.length;l++){const m=this._bufs[l].length-d;if(!(h>m)){this._bufs[l].copy(f,u,d,d+h),u+=m;break}this._bufs[l].copy(f,u,d),u+=m,h-=m,d&&(d=0)}return f.length>u?f.slice(0,u):f},i.prototype.shallowSlice=function(f,c){if(f=f||0,c=typeof c!="number"?this.length:c,f<0&&(f+=this.length),c<0&&(c+=this.length),f===c)return this._new();const t=this._offset(f),a=this._offset(c),o=this._bufs.slice(t[0],a[0]+1);return a[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,a[1]),t[1]!==0&&(o[0]=o[0].slice(t[1])),this._new(o)},i.prototype.toString=function(f,c,t){return this.slice(c,t).toString(f)},i.prototype.consume=function(f){if(f=Math.trunc(f),Number.isNaN(f)||f<=0)return this;for(;this._bufs.length;){if(!(f>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(f),this.length-=f;break}f-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){const f=this._new();for(let c=0;c<this._bufs.length;c++)f.append(this._bufs[c]);return f},i.prototype.append=function(f){if(f==null)return this;if(f.buffer)this._appendBuffer(s.from(f.buffer,f.byteOffset,f.byteLength));else if(Array.isArray(f))for(let c=0;c<f.length;c++)this.append(f[c]);else if(this._isBufferList(f))for(let c=0;c<f._bufs.length;c++)this.append(f._bufs[c]);else typeof f=="number"&&(f=f.toString()),this._appendBuffer(s.from(f));return this},i.prototype._appendBuffer=function(f){this._bufs.push(f),this.length+=f.length},i.prototype.indexOf=function(f,c,t){if(t===void 0&&typeof c=="string"&&(t=c,c=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=s.from([f]):typeof f=="string"?f=s.from(f,t):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=s.from(f.buffer,f.byteOffset,f.byteLength):s.isBuffer(f)||(f=s.from(f)),c=Number(c||0),isNaN(c)&&(c=0),c<0&&(c=this.length+c),c<0&&(c=0),f.length===0)return c>this.length?this.length:c;const a=this._offset(c);let o=a[0],e=a[1];for(;o<this._bufs.length;o++){const n=this._bufs[o];for(;e<n.length;)if(n.length-e>=f.length){const h=n.indexOf(f,e);if(h!==-1)return this._reverseOffset([o,h]);e=n.length-f.length+1}else{const h=this._reverseOffset([o,e]);if(this._match(h,f))return h;e++}e=0}return-1},i.prototype._match=function(f,c){if(this.length-f<c.length)return!1;for(let t=0;t<c.length;t++)if(this.get(f+t)!==c[t])return!1;return!0},function(){const f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const c in f)!function(t){i.prototype[t]=f[t]===null?function(a,o){return this.slice(a,a+o)[t](0,o)}:function(a){return this.slice(a,a+f[t])[t](0)}}(c)}(),i.prototype._isBufferList=function(f){return f instanceof i||i.isBufferList(f)},i.isBufferList=function(f){return f!=null&&f[r]},N.exports=i},function(N,x,b){const s=b(164),r=b(165),{rfc4648:i}=b(166),{decodeText:f,encodeText:c}=b(55),t=[["identity","\0",()=>({encode:f,decode:c}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",s,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",s,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",s,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",s,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",s,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],a=t.reduce((e,n)=>(e[n[0]]=new r(n[0],n[1],n[2],n[3]),e),{}),o=t.reduce((e,n)=>(e[n[1]]=a[n[0]],e),{});N.exports={names:a,codes:o}},function(N,x,b){x.TextEncoder=TextEncoder,x.TextDecoder=TextDecoder},function(N){N.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(N,x,b){var s=b(1);s.pki=s.pki||{};var r=N.exports=s.pki.oids=s.oids=s.oids||{};function i(c,t){r[c]=t,r[t]=c}function f(c,t){r[c]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.5","serialName"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),f("2.5.29.1","authorityKeyIdentifier"),f("2.5.29.2","keyAttributes"),f("2.5.29.3","certificatePolicies"),f("2.5.29.4","keyUsageRestriction"),f("2.5.29.5","policyMapping"),f("2.5.29.6","subtreesConstraint"),f("2.5.29.7","subjectAltName"),f("2.5.29.8","issuerAltName"),f("2.5.29.9","subjectDirectoryAttributes"),f("2.5.29.10","basicConstraints"),f("2.5.29.11","nameConstraints"),f("2.5.29.12","policyConstraints"),f("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),f("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),f("2.5.29.20","cRLNumber"),f("2.5.29.21","cRLReason"),f("2.5.29.22","expirationDate"),f("2.5.29.23","instructionCode"),f("2.5.29.24","invalidityDate"),f("2.5.29.25","cRLDistributionPoints"),f("2.5.29.26","issuingDistributionPoint"),f("2.5.29.27","deltaCRLIndicator"),f("2.5.29.28","issuingDistributionPoint"),f("2.5.29.29","certificateIssuer"),f("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),f("2.5.29.33","policyMappings"),f("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),f("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),f("2.5.29.46","freshestCRL"),f("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},function(N,x,b){var s=b(1);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.aes.Algorithm(d,l)})}b(117),b(118),b(3),N.exports=s.aes=s.aes||{},s.aes.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A});return B.start(l),B},s.aes.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.aes.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A});return B.start(l),B},s.aes.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.aes.Algorithm=function(d,l){o||e();var m=this;m.name=d,m.mode=new l({blockSize:16,cipher:{encrypt:function(A,B){return h(m._w,A,B,!1)},decrypt:function(A,B){return h(m._w,A,B,!0)}}}),m._init=!1},s.aes.Algorithm.prototype.initialize=function(d){if(!this._init){var l,m=d.key;if(typeof m!="string"||m.length!==16&&m.length!==24&&m.length!==32){if(s.util.isArray(m)&&(m.length===16||m.length===24||m.length===32)){l=m,m=s.util.createBuffer();for(var A=0;A<l.length;++A)m.putByte(l[A])}}else m=s.util.createBuffer(m);if(!s.util.isArray(m)){l=m,m=[];var B=l.length();if(B===16||B===24||B===32)for(B>>>=2,A=0;A<B;++A)m.push(l.getInt32())}if(!s.util.isArray(m)||m.length!==4&&m.length!==6&&m.length!==8)throw new Error("Invalid key parameter.");var k=this.mode.name,T=["CFB","OFB","CTR","GCM"].indexOf(k)!==-1;this._w=n(m,d.decrypt&&!T),this._init=!0}},s.aes._expandKey=function(d,l){return o||e(),n(d,l)},s.aes._updateBlock=h,r("AES-ECB",s.cipher.modes.ecb),r("AES-CBC",s.cipher.modes.cbc),r("AES-CFB",s.cipher.modes.cfb),r("AES-OFB",s.cipher.modes.ofb),r("AES-CTR",s.cipher.modes.ctr),r("AES-GCM",s.cipher.modes.gcm);var i,f,c,t,a,o=!1;function e(){o=!0,c=[0,1,2,4,8,16,32,64,128,27,54];for(var d=new Array(256),l=0;l<128;++l)d[l]=l<<1,d[l+128]=l+128<<1^283;for(i=new Array(256),f=new Array(256),t=new Array(4),a=new Array(4),l=0;l<4;++l)t[l]=new Array(256),a[l]=new Array(256);var m,A,B,k,T,g,E,R=0,S=0;for(l=0;l<256;++l){k=(k=S^S<<1^S<<2^S<<3^S<<4)>>8^255&k^99,i[R]=k,f[k]=R,g=(T=d[k])<<24^k<<16^k<<8^k^T,E=((m=d[R])^(A=d[m])^(B=d[A]))<<24^(R^B)<<16^(R^A^B)<<8^R^m^B;for(var M=0;M<4;++M)t[M][R]=g,a[M][k]=E,g=g<<24|g>>>8,E=E<<24|E>>>8;R===0?R=S=1:(R=m^d[d[d[m^B]]],S^=d[d[S]])}}function n(d,l){for(var m,A=d.slice(0),B=1,k=A.length,T=4*(k+6+1),g=k;g<T;++g)m=A[g-1],g%k==0?(m=i[m>>>16&255]<<24^i[m>>>8&255]<<16^i[255&m]<<8^i[m>>>24]^c[B]<<24,B++):k>6&&g%k==4&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),A[g]=A[g-k]^m;if(l){for(var E,R=a[0],S=a[1],M=a[2],y=a[3],p=A.slice(0),w=(g=0,(T=A.length)-4);g<T;g+=4,w-=4)if(g===0||g===T-4)p[g]=A[w],p[g+1]=A[w+3],p[g+2]=A[w+2],p[g+3]=A[w+1];else for(var v=0;v<4;++v)E=A[w+v],p[g+(3&-v)]=R[i[E>>>24]]^S[i[E>>>16&255]]^M[i[E>>>8&255]]^y[i[255&E]];A=p}return A}function h(d,l,m,A){var B,k,T,g,E,R,S,M,y,p,w,v,_=d.length/4-1;A?(B=a[0],k=a[1],T=a[2],g=a[3],E=f):(B=t[0],k=t[1],T=t[2],g=t[3],E=i),R=l[0]^d[0],S=l[A?3:1]^d[1],M=l[2]^d[2],y=l[A?1:3]^d[3];for(var C=3,L=1;L<_;++L)p=B[R>>>24]^k[S>>>16&255]^T[M>>>8&255]^g[255&y]^d[++C],w=B[S>>>24]^k[M>>>16&255]^T[y>>>8&255]^g[255&R]^d[++C],v=B[M>>>24]^k[y>>>16&255]^T[R>>>8&255]^g[255&S]^d[++C],y=B[y>>>24]^k[R>>>16&255]^T[S>>>8&255]^g[255&M]^d[++C],R=p,S=w,M=v;m[0]=E[R>>>24]<<24^E[S>>>16&255]<<16^E[M>>>8&255]<<8^E[255&y]^d[++C],m[A?3:1]=E[S>>>24]<<24^E[M>>>16&255]<<16^E[y>>>8&255]<<8^E[255&R]^d[++C],m[2]=E[M>>>24]<<24^E[y>>>16&255]<<16^E[R>>>8&255]<<8^E[255&S]^d[++C],m[A?1:3]=E[y>>>24]<<24^E[R>>>16&255]<<16^E[S>>>8&255]<<8^E[255&M]^d[++C]}function u(d){var l,m="AES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x,b){var s=b(18),r=b(27);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}x.BlockHash=i,i.prototype.update=function(f,c){if(f=s.toArray(f,c),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){var t=(f=this.pending).length%this._delta8;this.pending=f.slice(f.length-t,f.length),this.pending.length===0&&(this.pending=null),f=s.join32(f,0,f.length-t,this.endian);for(var a=0;a<f.length;a+=this._delta32)this._update(f,a,a+this._delta32)}return this},i.prototype.digest=function(f){return this.update(this._pad()),r(this.pending===null),this._digest(f)},i.prototype._pad=function(){var f=this.pendingTotal,c=this._delta8,t=c-(f+this.padLength)%c,a=new Array(t+this.padLength);a[0]=128;for(var o=1;o<t;o++)a[o]=0;if(f<<=3,this.endian==="big"){for(var e=8;e<this.padLength;e++)a[o++]=0;a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=f>>>24&255,a[o++]=f>>>16&255,a[o++]=f>>>8&255,a[o++]=255&f}else for(a[o++]=255&f,a[o++]=f>>>8&255,a[o++]=f>>>16&255,a[o++]=f>>>24&255,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,e=8;e<this.padLength;e++)a[o++]=0;return a}},function(N,x,b){const s=b(94),{hasOwnProperty:r}=Object.prototype,{propertyIsEnumerable:i}=Object,f=(n,h,u)=>Object.defineProperty(n,h,{value:u,writable:!0,enumerable:!0,configurable:!0}),c={concatArrays:!1,ignoreUndefined:!1},t=n=>{const h=[];for(const u in n)r.call(n,u)&&h.push(u);if(Object.getOwnPropertySymbols){const u=Object.getOwnPropertySymbols(n);for(const d of u)i.call(n,d)&&h.push(d)}return h};function a(n){return Array.isArray(n)?function(h){const u=h.slice(0,0);return t(h).forEach(d=>{f(u,d,a(h[d]))}),u}(n):s(n)?function(h){const u=Object.getPrototypeOf(h)===null?Object.create(null):{};return t(h).forEach(d=>{f(u,d,a(h[d]))}),u}(n):n}const o=(n,h,u,d)=>(u.forEach(l=>{h[l]===void 0&&d.ignoreUndefined||(l in n&&n[l]!==Object.getPrototypeOf(n)?f(n,l,e(n[l],h[l],d)):f(n,l,a(h[l])))}),n);function e(n,h,u){return u.concatArrays&&Array.isArray(n)&&Array.isArray(h)?((d,l,m)=>{let A=d.slice(0,0),B=0;return[d,l].forEach(k=>{const T=[];for(let g=0;g<k.length;g++)r.call(k,g)&&(T.push(String(g)),f(A,B++,k===d?k[g]:a(k[g])));A=o(A,k,t(k).filter(g=>!T.includes(g)),m)}),A})(n,h,u):s(h)&&s(n)?o(n,h,t(h),u):a(h)}N.exports=function(...n){const h=e(a(c),this!==void 0&&this||{},c);let u={_:{}};for(const d of n)if(d!==void 0){if(!s(d))throw new TypeError("`"+d+"` is not an Option Object");u=e(u,{_:d},h)}return u._}},function(N,x,b){const s=b(17);N.exports=s(`
message CircuitRelay {

  enum Status {
    SUCCESS                    = 100;
    HOP_SRC_ADDR_TOO_LONG      = 220;
    HOP_DST_ADDR_TOO_LONG      = 221;
    HOP_SRC_MULTIADDR_INVALID  = 250;
    HOP_DST_MULTIADDR_INVALID  = 251;
    HOP_NO_CONN_TO_DST         = 260;
    HOP_CANT_DIAL_DST          = 261;
    HOP_CANT_OPEN_DST_STREAM   = 262;
    HOP_CANT_SPEAK_RELAY       = 270;
    HOP_CANT_RELAY_TO_SELF     = 280;
    STOP_SRC_ADDR_TOO_LONG     = 320;
    STOP_DST_ADDR_TOO_LONG     = 321;
    STOP_SRC_MULTIADDR_INVALID = 350;
    STOP_DST_MULTIADDR_INVALID = 351;
    STOP_RELAY_REFUSED         = 390;
    MALFORMED_MESSAGE          = 400;
  }

  enum Type { // RPC identifier, either HOP, STOP or STATUS
    HOP = 1;
    STOP = 2;
    STATUS = 3;
    CAN_HOP = 4;
  }

  message Peer {
    required bytes id = 1;    // peer id
    repeated bytes addrs = 2; // peer's known addresses
  }

  optional Type type = 1;     // Type of the message

  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS
  optional Peer dstPeer = 3;

  optional Status code = 4;   // Status code, used when Type is STATUS
}
`)},function(N,x,b){x.encode=b(381),x.decode=b(382),x.varintEncode=b(138),x.varintDecode=b(139),x.int32BEEncode=b(383),x.int32BEDecode=b(384)},function(N,x,b){class s extends Error{constructor(f){super(f),this.name="LockExistsError",this.code=s.code}}s.code="ERR_LOCK_EXISTS",x.LockExistsError=s;class r extends Error{constructor(f){super(f),this.name="NotFoundError",this.code=r.code}}r.code="ERR_NOT_FOUND",x.NotFoundError=r;class i extends Error{constructor(f){super(f),this.name="InvalidRepoVersionError",this.code=i.code}}i.code="ERR_INVALID_REPO_VERSION",x.InvalidRepoVersionError=i,x.ERR_REPO_NOT_INITIALIZED="ERR_REPO_NOT_INITIALIZED",x.ERR_REPO_ALREADY_OPEN="ERR_REPO_ALREADY_OPEN",x.ERR_REPO_ALREADY_CLOSED="ERR_REPO_ALREADY_CLOSED"},function(N,x,b){x.getCallback=function(s,r){return typeof s=="function"?s:r},x.getOptions=function(s){return typeof s=="object"&&s!==null?s:{}}},function(N,x,b){const s=b(32),r=b(248),{names:i}=b(252),f=b(5),c=b(6),t=b(19),a={};for(const d in i)a[i[d]]=d;function o(d){if(!(d instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(d.length<2)throw new Error("multihash too short. must be > 2 bytes.");const l=r.decode(d);if(!h(l))throw new Error("multihash unknown function code: 0x"+l.toString(16));d=d.slice(r.decode.bytes);const m=r.decode(d);if(m<0)throw new Error("multihash invalid length: "+m);if((d=d.slice(r.decode.bytes)).length!==m)throw new Error("multihash length inconsistent: 0x"+f(d,"base16"));return{code:l,name:a[l],length:m,digest:d}}function e(d){let l=d;if(typeof d=="string"){if(i[d]===void 0)throw new Error("Unrecognized hash function named: "+d);l=i[d]}if(typeof l!="number")throw new Error("Hash function code should be a number. Got: "+l);if(a[l]===void 0&&!n(l))throw new Error("Unrecognized function code: "+l);return l}function n(d){return d>0&&d<16}function h(d){return!!n(d)||!!a[d]}function u(d){o(d)}N.exports={names:i,codes:Object.freeze(a),toHexString:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(d,"base16")},fromHexString:function(d){return c(d,"base16")},toB58String:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(s.encode("base58btc",d)).slice(1)},fromB58String:function(d){const l=d instanceof Uint8Array?f(d):d;return s.decode("z"+l)},decode:o,encode:function(d,l,m){if(!d||l===void 0)throw new Error("multihash encode requires at least two args: digest, code");const A=e(l);if(!(d instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(m==null&&(m=d.length),m&&d.length!==m)throw new Error("digest length should be equal to specified length.");const B=r.encode(A),k=r.encode(m);return t([B,k,d],B.length+k.length+d.length)},coerceCode:e,isAppCode:n,validate:u,prefix:function(d){return u(d),d.subarray(0,2)},isValidCode:h}},function(N,x,b){var s=b(1);if(b(23),b(47),b(37),b(291),b(293),b(26),b(3),r===void 0)var r=s.jsbn.BigInteger;var i=s.util.isNodejs?b(68):null,f=s.asn1,c=s.util;s.pki=s.pki||{},N.exports=s.pki.rsa=s.rsa=s.rsa||{};var t=s.pki,a=[6,4,2,4,2,4,6,2],o={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},u=function(S){var M;if(!(S.algorithm in t.oids)){var y=new Error("Unknown message digest algorithm.");throw y.algorithm=S.algorithm,y}M=t.oids[S.algorithm];var p=f.oidToDer(M).getBytes(),w=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),v=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);v.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,p)),v.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var _=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,S.digest().getBytes());return w.value.push(v),w.value.push(_),f.toDer(w).getBytes()},d=function(S,M,y){if(y)return S.modPow(M.e,M.n);if(!M.p||!M.q)return S.modPow(M.d,M.n);var p;M.dP||(M.dP=M.d.mod(M.p.subtract(r.ONE))),M.dQ||(M.dQ=M.d.mod(M.q.subtract(r.ONE))),M.qInv||(M.qInv=M.q.modInverse(M.p));do p=new r(s.util.bytesToHex(s.random.getBytes(M.n.bitLength()/8)),16);while(p.compareTo(M.n)>=0||!p.gcd(M.n).equals(r.ONE));for(var w=(S=S.multiply(p.modPow(M.e,M.n)).mod(M.n)).mod(M.p).modPow(M.dP,M.p),v=S.mod(M.q).modPow(M.dQ,M.q);w.compareTo(v)<0;)w=w.add(M.p);var _=w.subtract(v).multiply(M.qInv).mod(M.p).multiply(M.q).add(v);return _=_.multiply(p.modInverse(M.n)).mod(M.n)};function l(S,M,y){var p=s.util.createBuffer(),w=Math.ceil(M.n.bitLength()/8);if(S.length>w-11){var v=new Error("Message is too long for PKCS#1 v1.5 padding.");throw v.length=S.length,v.max=w-11,v}p.putByte(0),p.putByte(y);var _,C=w-3-S.length;if(y===0||y===1){_=y===0?0:255;for(var L=0;L<C;++L)p.putByte(_)}else for(;C>0;){var O=0,U=s.random.getBytes(C);for(L=0;L<C;++L)(_=U.charCodeAt(L))===0?++O:p.putByte(_);C=O}return p.putByte(0),p.putBytes(S),p}function m(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8),v=s.util.createBuffer(S),_=v.getByte(),C=v.getByte();if(_!==0||y&&C!==0&&C!==1||!y&&C!=2||y&&C===0&&p===void 0)throw new Error("Encryption block is invalid.");var L=0;if(C===0){L=w-3-p;for(var O=0;O<L;++O)if(v.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(C===1)for(L=0;v.length()>1;){if(v.getByte()!==255){--v.read;break}++L}else if(C===2)for(L=0;v.length()>1;){if(v.getByte()===0){--v.read;break}++L}if(v.getByte()!==0||L!==w-3-v.length())throw new Error("Encryption block is invalid.");return v.getBytes()}function A(S,M,y){typeof M=="function"&&(y=M,M={});var p={algorithm:{name:(M=M||{}).algorithm||"PRIMEINC",options:{workers:M.workers||2,workLoad:M.workLoad||100,workerScript:M.workerScript}}};function w(){v(S.pBits,function(C,L){return C?y(C):(S.p=L,S.q!==null?_(C,S.q):void v(S.qBits,_))})}function v(C,L){s.prime.generateProbablePrime(C,p,L)}function _(C,L){if(C)return y(C);if(S.q=L,S.p.compareTo(S.q)<0){var O=S.p;S.p=S.q,S.q=O}if(S.p.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.p=null,void w();if(S.q.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.q=null,void v(S.qBits,_);if(S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),S.phi.gcd(S.e).compareTo(r.ONE)!==0)return S.p=S.q=null,void w();if(S.n=S.p.multiply(S.q),S.n.bitLength()!==S.bits)return S.q=null,void v(S.qBits,_);var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)},y(null,S.keys)}"prng"in M&&(p.prng=M.prng),w()}function B(S){var M=S.toString(16);M[0]>="8"&&(M="00"+M);var y=s.util.hexToBytes(M);return y.length>1&&(y.charCodeAt(0)===0&&(128&y.charCodeAt(1))==0||y.charCodeAt(0)===255&&(128&y.charCodeAt(1))==128)?y.substr(1):y}function k(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}function T(S){return s.util.isNodejs&&typeof i[S]=="function"}function g(S){return c.globalScope!==void 0&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[S]=="function"}function E(S){return c.globalScope!==void 0&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[S]=="function"}function R(S){for(var M=s.util.hexToBytes(S.toString(16)),y=new Uint8Array(M.length),p=0;p<M.length;++p)y[p]=M.charCodeAt(p);return y}t.rsa.encrypt=function(S,M,y){var p,w=y,v=Math.ceil(M.n.bitLength()/8);y!==!1&&y!==!0?(w=y===2,p=l(S,M,y)):(p=s.util.createBuffer()).putBytes(S);for(var _=new r(p.toHex(),16),C=d(_,M,w).toString(16),L=s.util.createBuffer(),O=v-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),L.getBytes()},t.rsa.decrypt=function(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8);if(S.length!==w){var v=new Error("Encrypted message length is invalid.");throw v.length=S.length,v.expected=w,v}var _=new r(s.util.createBuffer(S).toHex(),16);if(_.compareTo(M.n)>=0)throw new Error("Encrypted message is invalid.");for(var C=d(_,M,y).toString(16),L=s.util.createBuffer(),O=w-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),p!==!1?m(L.getBytes(),M,y):L.getBytes()},t.rsa.createKeyPairGenerationState=function(S,M,y){typeof S=="string"&&(S=parseInt(S,10)),S=S||2048;var p,w=(y=y||{}).prng||s.random,v={nextBytes:function(C){for(var L=w.getBytesSync(C.length),O=0;O<C.length;++O)C[O]=L.charCodeAt(O)}},_=y.algorithm||"PRIMEINC";if(_!=="PRIMEINC")throw new Error("Invalid key generation algorithm: "+_);return(p={algorithm:_,state:0,bits:S,rng:v,eInt:M||65537,e:new r(null),p:null,q:null,qBits:S>>1,pBits:S-(S>>1),pqState:0,num:null,keys:null}).e.fromInt(p.eInt),p},t.rsa.stepKeyPairGenerationState=function(S,M){"algorithm"in S||(S.algorithm="PRIMEINC");var y=new r(null);y.fromInt(30);for(var p,w=0,v=function(q,H){return q|H},_=+new Date,C=0;S.keys===null&&(M<=0||C<M);){if(S.state===0){var L=S.p===null?S.pBits:S.qBits,O=L-1;S.pqState===0?(S.num=new r(L,S.rng),S.num.testBit(O)||S.num.bitwiseTo(r.ONE.shiftLeft(O),v,S.num),S.num.dAddOffset(31-S.num.mod(y).byteValue(),0),w=0,++S.pqState):S.pqState===1?S.num.bitLength()>L?S.pqState=0:S.num.isProbablePrime(k(S.num.bitLength()))?++S.pqState:S.num.dAddOffset(a[w++%8],0):S.pqState===2?S.pqState=S.num.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)===0?3:0:S.pqState===3&&(S.pqState=0,S.p===null?S.p=S.num:S.q=S.num,S.p!==null&&S.q!==null&&++S.state,S.num=null)}else if(S.state===1)S.p.compareTo(S.q)<0&&(S.num=S.p,S.p=S.q,S.q=S.num),++S.state;else if(S.state===2)S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),++S.state;else if(S.state===3)S.phi.gcd(S.e).compareTo(r.ONE)===0?++S.state:(S.p=null,S.q=null,S.state=0);else if(S.state===4)S.n=S.p.multiply(S.q),S.n.bitLength()===S.bits?++S.state:(S.q=null,S.state=0);else if(S.state===5){var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)}}C+=(p=+new Date)-_,_=p}return S.keys!==null},t.rsa.generateKeyPair=function(S,M,y,p){if(arguments.length===1?typeof S=="object"?(y=S,S=void 0):typeof S=="function"&&(p=S,S=void 0):arguments.length===2?typeof S=="number"?typeof M=="function"?(p=M,M=void 0):typeof M!="number"&&(y=M,M=void 0):(y=S,p=M,S=void 0,M=void 0):arguments.length===3&&(typeof M=="number"?typeof y=="function"&&(p=y,y=void 0):(p=y,y=M,M=void 0)),y=y||{},S===void 0&&(S=y.bits||2048),M===void 0&&(M=y.e||65537),!s.options.usePureJavaScript&&!y.prng&&S>=256&&S<=16384&&(M===65537||M===3)){if(p){if(T("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(C,L,O){if(C)return p(C);p(null,{privateKey:t.privateKeyFromPem(O),publicKey:t.publicKeyFromPem(L)})});if(g("generateKey")&&g("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(C){return c.globalScope.crypto.subtle.exportKey("pkcs8",C.privateKey)}).then(void 0,function(C){p(C)}).then(function(C){if(C){var L=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(C)));p(null,{privateKey:L,publicKey:t.setRsaPublicKey(L.n,L.e)})}});if(E("generateKey")&&E("exportKey")){var w=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]);return w.oncomplete=function(C){var L=C.target.result,O=c.globalScope.msCrypto.subtle.exportKey("pkcs8",L.privateKey);O.oncomplete=function(U){var q=U.target.result,H=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(q)));p(null,{privateKey:H,publicKey:t.setRsaPublicKey(H.n,H.e)})},O.onerror=function(U){p(U)}},void(w.onerror=function(C){p(C)})}}else if(T("generateKeyPairSync")){var v=i.generateKeyPairSync("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:t.privateKeyFromPem(v.privateKey),publicKey:t.publicKeyFromPem(v.publicKey)}}}var _=t.rsa.createKeyPairGenerationState(S,M,y);if(!p)return t.rsa.stepKeyPairGenerationState(_,0),_.keys;A(_,y,p)},t.setRsaPublicKey=t.rsa.setPublicKey=function(S,M){var y={n:S,e:M,encrypt:function(p,w,v){if(typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSAES-PKCS1-V1_5"),w==="RSAES-PKCS1-V1_5")w={encode:function(C,L,O){return l(C,L,2).getBytes()}};else if(w==="RSA-OAEP"||w==="RSAES-OAEP")w={encode:function(C,L){return s.pkcs1.encode_rsa_oaep(L,C,v)}};else if(["RAW","NONE","NULL",null].indexOf(w)!==-1)w={encode:function(C){return C}};else if(typeof w=="string")throw new Error('Unsupported encryption scheme: "'+w+'".');var _=w.encode(p,y,!0);return t.rsa.encrypt(_,y,!0)},verify:function(p,w,v){typeof v=="string"?v=v.toUpperCase():v===void 0&&(v="RSASSA-PKCS1-V1_5"),v==="RSASSA-PKCS1-V1_5"?v={verify:function(C,L){return L=m(L,y,!0),C===f.fromDer(L).value[1].value}}:v!=="NONE"&&v!=="NULL"&&v!==null||(v={verify:function(C,L){return C===(L=m(L,y,!0))}});var _=t.rsa.decrypt(w,y,!0,!1);return v.verify(p,_,y.n.bitLength())}};return y},t.setRsaPrivateKey=t.rsa.setPrivateKey=function(S,M,y,p,w,v,_,C){var L={n:S,e:M,d:y,p,q:w,dP:v,dQ:_,qInv:C,decrypt:function(O,U,q){typeof U=="string"?U=U.toUpperCase():U===void 0&&(U="RSAES-PKCS1-V1_5");var H=t.rsa.decrypt(O,L,!1,!1);if(U==="RSAES-PKCS1-V1_5")U={decode:m};else if(U==="RSA-OAEP"||U==="RSAES-OAEP")U={decode:function(G,K){return s.pkcs1.decode_rsa_oaep(K,G,q)}};else{if(["RAW","NONE","NULL",null].indexOf(U)===-1)throw new Error('Unsupported encryption scheme: "'+U+'".');U={decode:function(G){return G}}}return U.decode(H,L,!1)},sign:function(O,U){var q=!1;typeof U=="string"&&(U=U.toUpperCase()),U===void 0||U==="RSASSA-PKCS1-V1_5"?(U={encode:u},q=1):U!=="NONE"&&U!=="NULL"&&U!==null||(U={encode:function(){return O}},q=1);var H=U.encode(O,L.n.bitLength());return t.rsa.encrypt(H,L,q)}};return L},t.wrapRsaPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(S).getBytes())])},t.privateKeyFromAsn1=function(S){var M,y,p,w,v,_,C,L,O={},U=[];if(f.validate(S,o,O,U)&&(S=f.fromDer(s.util.createBuffer(O.privateKey))),O={},U=[],!f.validate(S,e,O,U)){var q=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw q.errors=U,q}return M=s.util.createBuffer(O.privateKeyModulus).toHex(),y=s.util.createBuffer(O.privateKeyPublicExponent).toHex(),p=s.util.createBuffer(O.privateKeyPrivateExponent).toHex(),w=s.util.createBuffer(O.privateKeyPrime1).toHex(),v=s.util.createBuffer(O.privateKeyPrime2).toHex(),_=s.util.createBuffer(O.privateKeyExponent1).toHex(),C=s.util.createBuffer(O.privateKeyExponent2).toHex(),L=s.util.createBuffer(O.privateKeyCoefficient).toHex(),t.setRsaPrivateKey(new r(M,16),new r(y,16),new r(p,16),new r(w,16),new r(v,16),new r(_,16),new r(C,16),new r(L,16))},t.privateKeyToAsn1=t.privateKeyToRSAPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.qInv))])},t.publicKeyFromAsn1=function(S){var M={},y=[];if(f.validate(S,h,M,y)){var p,w=f.derToOid(M.publicKeyOid);if(w!==t.oids.rsaEncryption)throw(p=new Error("Cannot read public key. Unknown OID.")).oid=w,p;S=M.rsaPublicKey}if(y=[],!f.validate(S,n,M,y))throw(p=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=y,p;var v=s.util.createBuffer(M.publicKeyModulus).toHex(),_=s.util.createBuffer(M.publicKeyExponent).toHex();return t.setRsaPublicKey(new r(v,16),new r(_,16))},t.publicKeyToAsn1=t.publicKeyToSubjectPublicKeyInfo=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[t.publicKeyToRSAPublicKey(S)])])},t.publicKeyToRSAPublicKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e))])}},function(N,x,b){var s,r=b(1);N.exports=r.jsbn=r.jsbn||{};function i(p,w,v){this.data=[],p!=null&&(typeof p=="number"?this.fromNumber(p,w,v):w==null&&typeof p!="string"?this.fromString(p,256):this.fromString(p,w))}function f(){return new i(null)}function c(p,w,v,_,C,L){for(var O=16383&w,U=w>>14;--L>=0;){var q=16383&this.data[p],H=this.data[p++]>>14,G=U*q+H*O;C=((q=O*q+((16383&G)<<14)+v.data[_]+C)>>28)+(G>>14)+U*H,v.data[_++]=268435455&q}return C}r.jsbn.BigInteger=i,typeof navigator=="undefined"?(i.prototype.am=c,s=28):navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=function(p,w,v,_,C,L){for(var O=32767&w,U=w>>15;--L>=0;){var q=32767&this.data[p],H=this.data[p++]>>15,G=U*q+H*O;C=((q=O*q+((32767&G)<<15)+v.data[_]+(1073741823&C))>>>30)+(G>>>15)+U*H+(C>>>30),v.data[_++]=1073741823&q}return C},s=30):navigator.appName!="Netscape"?(i.prototype.am=function(p,w,v,_,C,L){for(;--L>=0;){var O=w*this.data[p++]+v.data[_]+C;C=Math.floor(O/67108864),v.data[_++]=67108863&O}return C},s=26):(i.prototype.am=c,s=28),i.prototype.DB=s,i.prototype.DM=(1<<s)-1,i.prototype.DV=1<<s,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-s,i.prototype.F2=2*s-52;var t,a,o=new Array;for(t="0".charCodeAt(0),a=0;a<=9;++a)o[t++]=a;for(t="a".charCodeAt(0),a=10;a<36;++a)o[t++]=a;for(t="A".charCodeAt(0),a=10;a<36;++a)o[t++]=a;function e(p){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(p)}function n(p,w){var v=o[p.charCodeAt(w)];return v??-1}function h(p){var w=f();return w.fromInt(p),w}function u(p){var w,v=1;return(w=p>>>16)!=0&&(p=w,v+=16),(w=p>>8)!=0&&(p=w,v+=8),(w=p>>4)!=0&&(p=w,v+=4),(w=p>>2)!=0&&(p=w,v+=2),(w=p>>1)!=0&&(p=w,v+=1),v}function d(p){this.m=p}function l(p){this.m=p,this.mp=p.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<p.DB-15)-1,this.mt2=2*p.t}function m(p,w){return p&w}function A(p,w){return p|w}function B(p,w){return p^w}function k(p,w){return p&~w}function T(p){if(p==0)return-1;var w=0;return(65535&p)==0&&(p>>=16,w+=16),(255&p)==0&&(p>>=8,w+=8),(15&p)==0&&(p>>=4,w+=4),(3&p)==0&&(p>>=2,w+=2),(1&p)==0&&++w,w}function g(p){for(var w=0;p!=0;)p&=p-1,++w;return w}function E(){}function R(p){return p}function S(p){this.r2=f(),this.q3=f(),i.ONE.dlShiftTo(2*p.t,this.r2),this.mu=this.r2.divide(p),this.m=p}d.prototype.convert=function(p){return p.s<0||p.compareTo(this.m)>=0?p.mod(this.m):p},d.prototype.revert=function(p){return p},d.prototype.reduce=function(p){p.divRemTo(this.m,null,p)},d.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},d.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},l.prototype.convert=function(p){var w=f();return p.abs().dlShiftTo(this.m.t,w),w.divRemTo(this.m,null,w),p.s<0&&w.compareTo(i.ZERO)>0&&this.m.subTo(w,w),w},l.prototype.revert=function(p){var w=f();return p.copyTo(w),this.reduce(w),w},l.prototype.reduce=function(p){for(;p.t<=this.mt2;)p.data[p.t++]=0;for(var w=0;w<this.m.t;++w){var v=32767&p.data[w],_=v*this.mpl+((v*this.mph+(p.data[w]>>15)*this.mpl&this.um)<<15)&p.DM;for(v=w+this.m.t,p.data[v]+=this.m.am(0,_,p,w,0,this.m.t);p.data[v]>=p.DV;)p.data[v]-=p.DV,p.data[++v]++}p.clamp(),p.drShiftTo(this.m.t,p),p.compareTo(this.m)>=0&&p.subTo(this.m,p)},l.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},l.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},i.prototype.copyTo=function(p){for(var w=this.t-1;w>=0;--w)p.data[w]=this.data[w];p.t=this.t,p.s=this.s},i.prototype.fromInt=function(p){this.t=1,this.s=p<0?-1:0,p>0?this.data[0]=p:p<-1?this.data[0]=p+this.DV:this.t=0},i.prototype.fromString=function(p,w){var v;if(w==16)v=4;else if(w==8)v=3;else if(w==256)v=8;else if(w==2)v=1;else if(w==32)v=5;else{if(w!=4)return void this.fromRadix(p,w);v=2}this.t=0,this.s=0;for(var _=p.length,C=!1,L=0;--_>=0;){var O=v==8?255&p[_]:n(p,_);O<0?p.charAt(_)=="-"&&(C=!0):(C=!1,L==0?this.data[this.t++]=O:L+v>this.DB?(this.data[this.t-1]|=(O&(1<<this.DB-L)-1)<<L,this.data[this.t++]=O>>this.DB-L):this.data[this.t-1]|=O<<L,(L+=v)>=this.DB&&(L-=this.DB))}v==8&&(128&p[0])!=0&&(this.s=-1,L>0&&(this.data[this.t-1]|=(1<<this.DB-L)-1<<L)),this.clamp(),C&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var p=this.s&this.DM;this.t>0&&this.data[this.t-1]==p;)--this.t},i.prototype.dlShiftTo=function(p,w){var v;for(v=this.t-1;v>=0;--v)w.data[v+p]=this.data[v];for(v=p-1;v>=0;--v)w.data[v]=0;w.t=this.t+p,w.s=this.s},i.prototype.drShiftTo=function(p,w){for(var v=p;v<this.t;++v)w.data[v-p]=this.data[v];w.t=Math.max(this.t-p,0),w.s=this.s},i.prototype.lShiftTo=function(p,w){var v,_=p%this.DB,C=this.DB-_,L=(1<<C)-1,O=Math.floor(p/this.DB),U=this.s<<_&this.DM;for(v=this.t-1;v>=0;--v)w.data[v+O+1]=this.data[v]>>C|U,U=(this.data[v]&L)<<_;for(v=O-1;v>=0;--v)w.data[v]=0;w.data[O]=U,w.t=this.t+O+1,w.s=this.s,w.clamp()},i.prototype.rShiftTo=function(p,w){w.s=this.s;var v=Math.floor(p/this.DB);if(v>=this.t)w.t=0;else{var _=p%this.DB,C=this.DB-_,L=(1<<_)-1;w.data[0]=this.data[v]>>_;for(var O=v+1;O<this.t;++O)w.data[O-v-1]|=(this.data[O]&L)<<C,w.data[O-v]=this.data[O]>>_;_>0&&(w.data[this.t-v-1]|=(this.s&L)<<C),w.t=this.t-v,w.clamp()}},i.prototype.subTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]-p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_-=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_-=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_-=p.s}w.s=_<0?-1:0,_<-1?w.data[v++]=this.DV+_:_>0&&(w.data[v++]=_),w.t=v,w.clamp()},i.prototype.multiplyTo=function(p,w){var v=this.abs(),_=p.abs(),C=v.t;for(w.t=C+_.t;--C>=0;)w.data[C]=0;for(C=0;C<_.t;++C)w.data[C+v.t]=v.am(0,_.data[C],w,C,0,v.t);w.s=0,w.clamp(),this.s!=p.s&&i.ZERO.subTo(w,w)},i.prototype.squareTo=function(p){for(var w=this.abs(),v=p.t=2*w.t;--v>=0;)p.data[v]=0;for(v=0;v<w.t-1;++v){var _=w.am(v,w.data[v],p,2*v,0,1);(p.data[v+w.t]+=w.am(v+1,2*w.data[v],p,2*v+1,_,w.t-v-1))>=w.DV&&(p.data[v+w.t]-=w.DV,p.data[v+w.t+1]=1)}p.t>0&&(p.data[p.t-1]+=w.am(v,w.data[v],p,2*v,0,1)),p.s=0,p.clamp()},i.prototype.divRemTo=function(p,w,v){var _=p.abs();if(!(_.t<=0)){var C=this.abs();if(C.t<_.t)return w!=null&&w.fromInt(0),void(v!=null&&this.copyTo(v));v==null&&(v=f());var L=f(),O=this.s,U=p.s,q=this.DB-u(_.data[_.t-1]);q>0?(_.lShiftTo(q,L),C.lShiftTo(q,v)):(_.copyTo(L),C.copyTo(v));var H=L.t,G=L.data[H-1];if(G!=0){var K=G*(1<<this.F1)+(H>1?L.data[H-2]>>this.F2:0),Q=this.FV/K,z=(1<<this.F1)/K,D=1<<this.F2,F=v.t,I=F-H,P=w??f();for(L.dlShiftTo(I,P),v.compareTo(P)>=0&&(v.data[v.t++]=1,v.subTo(P,v)),i.ONE.dlShiftTo(H,P),P.subTo(L,L);L.t<H;)L.data[L.t++]=0;for(;--I>=0;){var V=v.data[--F]==G?this.DM:Math.floor(v.data[F]*Q+(v.data[F-1]+D)*z);if((v.data[F]+=L.am(0,V,v,I,0,H))<V)for(L.dlShiftTo(I,P),v.subTo(P,v);v.data[F]<--V;)v.subTo(P,v)}w!=null&&(v.drShiftTo(H,w),O!=U&&i.ZERO.subTo(w,w)),v.t=H,v.clamp(),q>0&&v.rShiftTo(q,v),O<0&&i.ZERO.subTo(v,v)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var p=this.data[0];if((1&p)==0)return 0;var w=3&p;return(w=(w=(w=(w=w*(2-(15&p)*w)&15)*(2-(255&p)*w)&255)*(2-((65535&p)*w&65535))&65535)*(2-p*w%this.DV)%this.DV)>0?this.DV-w:-w},i.prototype.isEven=function(){return(this.t>0?1&this.data[0]:this.s)==0},i.prototype.exp=function(p,w){if(p>4294967295||p<1)return i.ONE;var v=f(),_=f(),C=w.convert(this),L=u(p)-1;for(C.copyTo(v);--L>=0;)if(w.sqrTo(v,_),(p&1<<L)>0)w.mulTo(_,C,v);else{var O=v;v=_,_=O}return w.revert(v)},i.prototype.toString=function(p){if(this.s<0)return"-"+this.negate().toString(p);var w;if(p==16)w=4;else if(p==8)w=3;else if(p==2)w=1;else if(p==32)w=5;else{if(p!=4)return this.toRadix(p);w=2}var v,_=(1<<w)-1,C=!1,L="",O=this.t,U=this.DB-O*this.DB%w;if(O-- >0)for(U<this.DB&&(v=this.data[O]>>U)>0&&(C=!0,L=e(v));O>=0;)U<w?(v=(this.data[O]&(1<<U)-1)<<w-U,v|=this.data[--O]>>(U+=this.DB-w)):(v=this.data[O]>>(U-=w)&_,U<=0&&(U+=this.DB,--O)),v>0&&(C=!0),C&&(L+=e(v));return C?L:"0"},i.prototype.negate=function(){var p=f();return i.ZERO.subTo(this,p),p},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(p){var w=this.s-p.s;if(w!=0)return w;var v=this.t;if((w=v-p.t)!=0)return this.s<0?-w:w;for(;--v>=0;)if((w=this.data[v]-p.data[v])!=0)return w;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this.data[this.t-1]^this.s&this.DM)},i.prototype.mod=function(p){var w=f();return this.abs().divRemTo(p,null,w),this.s<0&&w.compareTo(i.ZERO)>0&&p.subTo(w,w),w},i.prototype.modPowInt=function(p,w){var v;return v=p<256||w.isEven()?new d(w):new l(w),this.exp(p,v)},i.ZERO=h(0),i.ONE=h(1),E.prototype.convert=R,E.prototype.revert=R,E.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v)},E.prototype.sqrTo=function(p,w){p.squareTo(w)},S.prototype.convert=function(p){if(p.s<0||p.t>2*this.m.t)return p.mod(this.m);if(p.compareTo(this.m)<0)return p;var w=f();return p.copyTo(w),this.reduce(w),w},S.prototype.revert=function(p){return p},S.prototype.reduce=function(p){for(p.drShiftTo(this.m.t-1,this.r2),p.t>this.m.t+1&&(p.t=this.m.t+1,p.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);p.compareTo(this.r2)<0;)p.dAddOffset(1,this.m.t+1);for(p.subTo(this.r2,p);p.compareTo(this.m)>=0;)p.subTo(this.m,p)},S.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},S.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)};var M=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],y=(1<<26)/M[M.length-1];i.prototype.chunkSize=function(p){return Math.floor(Math.LN2*this.DB/Math.log(p))},i.prototype.toRadix=function(p){if(p==null&&(p=10),this.signum()==0||p<2||p>36)return"0";var w=this.chunkSize(p),v=Math.pow(p,w),_=h(v),C=f(),L=f(),O="";for(this.divRemTo(_,C,L);C.signum()>0;)O=(v+L.intValue()).toString(p).substr(1)+O,C.divRemTo(_,C,L);return L.intValue().toString(p)+O},i.prototype.fromRadix=function(p,w){this.fromInt(0),w==null&&(w=10);for(var v=this.chunkSize(w),_=Math.pow(w,v),C=!1,L=0,O=0,U=0;U<p.length;++U){var q=n(p,U);q<0?p.charAt(U)=="-"&&this.signum()==0&&(C=!0):(O=w*O+q,++L>=v&&(this.dMultiply(_),this.dAddOffset(O,0),L=0,O=0))}L>0&&(this.dMultiply(Math.pow(w,L)),this.dAddOffset(O,0)),C&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(p,w,v){if(typeof w=="number")if(p<2)this.fromInt(1);else for(this.fromNumber(p,v),this.testBit(p-1)||this.bitwiseTo(i.ONE.shiftLeft(p-1),A,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(w);)this.dAddOffset(2,0),this.bitLength()>p&&this.subTo(i.ONE.shiftLeft(p-1),this);else{var _=new Array,C=7&p;_.length=1+(p>>3),w.nextBytes(_),C>0?_[0]&=(1<<C)-1:_[0]=0,this.fromString(_,256)}},i.prototype.bitwiseTo=function(p,w,v){var _,C,L=Math.min(p.t,this.t);for(_=0;_<L;++_)v.data[_]=w(this.data[_],p.data[_]);if(p.t<this.t){for(C=p.s&this.DM,_=L;_<this.t;++_)v.data[_]=w(this.data[_],C);v.t=this.t}else{for(C=this.s&this.DM,_=L;_<p.t;++_)v.data[_]=w(C,p.data[_]);v.t=p.t}v.s=w(this.s,p.s),v.clamp()},i.prototype.changeBit=function(p,w){var v=i.ONE.shiftLeft(p);return this.bitwiseTo(v,w,v),v},i.prototype.addTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]+p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_+=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_+=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=p.s}w.s=_<0?-1:0,_>0?w.data[v++]=_:_<-1&&(w.data[v++]=this.DV+_),w.t=v,w.clamp()},i.prototype.dMultiply=function(p){this.data[this.t]=this.am(0,p-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(p,w){if(p!=0){for(;this.t<=w;)this.data[this.t++]=0;for(this.data[w]+=p;this.data[w]>=this.DV;)this.data[w]-=this.DV,++w>=this.t&&(this.data[this.t++]=0),++this.data[w]}},i.prototype.multiplyLowerTo=function(p,w,v){var _,C=Math.min(this.t+p.t,w);for(v.s=0,v.t=C;C>0;)v.data[--C]=0;for(_=v.t-this.t;C<_;++C)v.data[C+this.t]=this.am(0,p.data[C],v,C,0,this.t);for(_=Math.min(p.t,w);C<_;++C)this.am(0,p.data[C],v,C,0,w-C);v.clamp()},i.prototype.multiplyUpperTo=function(p,w,v){--w;var _=v.t=this.t+p.t-w;for(v.s=0;--_>=0;)v.data[_]=0;for(_=Math.max(w-this.t,0);_<p.t;++_)v.data[this.t+_-w]=this.am(w-_,p.data[_],v,0,0,this.t+_-w);v.clamp(),v.drShiftTo(1,v)},i.prototype.modInt=function(p){if(p<=0)return 0;var w=this.DV%p,v=this.s<0?p-1:0;if(this.t>0)if(w==0)v=this.data[0]%p;else for(var _=this.t-1;_>=0;--_)v=(w*v+this.data[_])%p;return v},i.prototype.millerRabin=function(p){var w=this.subtract(i.ONE),v=w.getLowestSetBit();if(v<=0)return!1;for(var _,C=w.shiftRight(v),L={nextBytes:function(H){for(var G=0;G<H.length;++G)H[G]=Math.floor(256*Math.random())}},O=0;O<p;++O){do _=new i(this.bitLength(),L);while(_.compareTo(i.ONE)<=0||_.compareTo(w)>=0);var U=_.modPow(C,this);if(U.compareTo(i.ONE)!=0&&U.compareTo(w)!=0){for(var q=1;q++<v&&U.compareTo(w)!=0;)if((U=U.modPowInt(2,this)).compareTo(i.ONE)==0)return!1;if(U.compareTo(w)!=0)return!1}}return!0},i.prototype.clone=function(){var p=f();return this.copyTo(p),p},i.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},i.prototype.byteValue=function(){return this.t==0?this.s:this.data[0]<<24>>24},i.prototype.shortValue=function(){return this.t==0?this.s:this.data[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1},i.prototype.toByteArray=function(){var p=this.t,w=new Array;w[0]=this.s;var v,_=this.DB-p*this.DB%8,C=0;if(p-- >0)for(_<this.DB&&(v=this.data[p]>>_)!=(this.s&this.DM)>>_&&(w[C++]=v|this.s<<this.DB-_);p>=0;)_<8?(v=(this.data[p]&(1<<_)-1)<<8-_,v|=this.data[--p]>>(_+=this.DB-8)):(v=this.data[p]>>(_-=8)&255,_<=0&&(_+=this.DB,--p)),(128&v)!=0&&(v|=-256),C==0&&(128&this.s)!=(128&v)&&++C,(C>0||v!=this.s)&&(w[C++]=v);return w},i.prototype.equals=function(p){return this.compareTo(p)==0},i.prototype.min=function(p){return this.compareTo(p)<0?this:p},i.prototype.max=function(p){return this.compareTo(p)>0?this:p},i.prototype.and=function(p){var w=f();return this.bitwiseTo(p,m,w),w},i.prototype.or=function(p){var w=f();return this.bitwiseTo(p,A,w),w},i.prototype.xor=function(p){var w=f();return this.bitwiseTo(p,B,w),w},i.prototype.andNot=function(p){var w=f();return this.bitwiseTo(p,k,w),w},i.prototype.not=function(){for(var p=f(),w=0;w<this.t;++w)p.data[w]=this.DM&~this.data[w];return p.t=this.t,p.s=~this.s,p},i.prototype.shiftLeft=function(p){var w=f();return p<0?this.rShiftTo(-p,w):this.lShiftTo(p,w),w},i.prototype.shiftRight=function(p){var w=f();return p<0?this.lShiftTo(-p,w):this.rShiftTo(p,w),w},i.prototype.getLowestSetBit=function(){for(var p=0;p<this.t;++p)if(this.data[p]!=0)return p*this.DB+T(this.data[p]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var p=0,w=this.s&this.DM,v=0;v<this.t;++v)p+=g(this.data[v]^w);return p},i.prototype.testBit=function(p){var w=Math.floor(p/this.DB);return w>=this.t?this.s!=0:(this.data[w]&1<<p%this.DB)!=0},i.prototype.setBit=function(p){return this.changeBit(p,A)},i.prototype.clearBit=function(p){return this.changeBit(p,k)},i.prototype.flipBit=function(p){return this.changeBit(p,B)},i.prototype.add=function(p){var w=f();return this.addTo(p,w),w},i.prototype.subtract=function(p){var w=f();return this.subTo(p,w),w},i.prototype.multiply=function(p){var w=f();return this.multiplyTo(p,w),w},i.prototype.divide=function(p){var w=f();return this.divRemTo(p,w,null),w},i.prototype.remainder=function(p){var w=f();return this.divRemTo(p,null,w),w},i.prototype.divideAndRemainder=function(p){var w=f(),v=f();return this.divRemTo(p,w,v),new Array(w,v)},i.prototype.modPow=function(p,w){var v,_,C=p.bitLength(),L=h(1);if(C<=0)return L;v=C<18?1:C<48?3:C<144?4:C<768?5:6,_=C<8?new d(w):w.isEven()?new S(w):new l(w);var O=new Array,U=3,q=v-1,H=(1<<v)-1;if(O[1]=_.convert(this),v>1){var G=f();for(_.sqrTo(O[1],G);U<=H;)O[U]=f(),_.mulTo(G,O[U-2],O[U]),U+=2}var K,Q,z=p.t-1,D=!0,F=f();for(C=u(p.data[z])-1;z>=0;){for(C>=q?K=p.data[z]>>C-q&H:(K=(p.data[z]&(1<<C+1)-1)<<q-C,z>0&&(K|=p.data[z-1]>>this.DB+C-q)),U=v;(1&K)==0;)K>>=1,--U;if((C-=U)<0&&(C+=this.DB,--z),D)O[K].copyTo(L),D=!1;else{for(;U>1;)_.sqrTo(L,F),_.sqrTo(F,L),U-=2;U>0?_.sqrTo(L,F):(Q=L,L=F,F=Q),_.mulTo(F,O[K],L)}for(;z>=0&&(p.data[z]&1<<C)==0;)_.sqrTo(L,F),Q=L,L=F,F=Q,--C<0&&(C=this.DB-1,--z)}return _.revert(L)},i.prototype.modInverse=function(p){var w=p.isEven();if(this.isEven()&&w||p.signum()==0)return i.ZERO;for(var v=p.clone(),_=this.clone(),C=h(1),L=h(0),O=h(0),U=h(1);v.signum()!=0;){for(;v.isEven();)v.rShiftTo(1,v),w?(C.isEven()&&L.isEven()||(C.addTo(this,C),L.subTo(p,L)),C.rShiftTo(1,C)):L.isEven()||L.subTo(p,L),L.rShiftTo(1,L);for(;_.isEven();)_.rShiftTo(1,_),w?(O.isEven()&&U.isEven()||(O.addTo(this,O),U.subTo(p,U)),O.rShiftTo(1,O)):U.isEven()||U.subTo(p,U),U.rShiftTo(1,U);v.compareTo(_)>=0?(v.subTo(_,v),w&&C.subTo(O,C),L.subTo(U,L)):(_.subTo(v,_),w&&O.subTo(C,O),U.subTo(L,U))}return _.compareTo(i.ONE)!=0?i.ZERO:U.compareTo(p)>=0?U.subtract(p):U.signum()<0?(U.addTo(p,U),U.signum()<0?U.add(p):U):U},i.prototype.pow=function(p){return this.exp(p,new E)},i.prototype.gcd=function(p){var w=this.s<0?this.negate():this.clone(),v=p.s<0?p.negate():p.clone();if(w.compareTo(v)<0){var _=w;w=v,v=_}var C=w.getLowestSetBit(),L=v.getLowestSetBit();if(L<0)return w;for(C<L&&(L=C),L>0&&(w.rShiftTo(L,w),v.rShiftTo(L,v));w.signum()>0;)(C=w.getLowestSetBit())>0&&w.rShiftTo(C,w),(C=v.getLowestSetBit())>0&&v.rShiftTo(C,v),w.compareTo(v)>=0?(w.subTo(v,w),w.rShiftTo(1,w)):(v.subTo(w,v),v.rShiftTo(1,v));return L>0&&v.lShiftTo(L,v),v},i.prototype.isProbablePrime=function(p){var w,v=this.abs();if(v.t==1&&v.data[0]<=M[M.length-1]){for(w=0;w<M.length;++w)if(v.data[0]==M[w])return!0;return!1}if(v.isEven())return!1;for(w=1;w<M.length;){for(var _=M[w],C=w+1;C<M.length&&_<y;)_*=M[C++];for(_=v.modInt(_);w<C;)if(_%M[w++]==0)return!1}return v.millerRabin(p)}},function(N,x,b){x.get=(s=self)=>{const r=s.crypto||s.msCrypto;if(!r||!r.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return r}},function(N,x,b){const s=b(45),r=self.crypto||self.msCrypto,i=async(f,c)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(c){case"sha1":return new Uint8Array(await r.subtle.digest({name:"SHA-1"},f));case"sha2-256":return new Uint8Array(await r.subtle.digest({name:"SHA-256"},f));case"sha2-512":return new Uint8Array(await r.subtle.digest({name:"SHA-512"},f));case"dbl-sha2-256":{const t=await r.subtle.digest({name:"SHA-256"},f);return new Uint8Array(await r.subtle.digest({name:"SHA-256"},t))}default:throw new Error(c+" is not a supported algorithm")}};N.exports={factory:f=>async c=>i(c,f),digest:i,multihashing:async(f,c,t)=>{const a=await i(f,c);return s.encode(a,c,t)}}},function(N,x,b){var s=b(21),r=b(15),i=r.getNAF,f=r.getJSF,c=r.assert;function t(o,e){this.type=o,this.p=new s(e.p,16),this.red=e.prime?s.red(e.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=e.n&&new s(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function a(o,e){this.curve=o,this.type=e,this.precomputed=null}N.exports=t,t.prototype.point=function(){throw new Error("Not implemented")},t.prototype.validate=function(){throw new Error("Not implemented")},t.prototype._fixedNafMul=function(o,e){c(o.precomputed);var n=o._getDoubles(),h=i(e,1,this._bitLength),u=(1<<n.step+1)-(n.step%2==0?2:1);u/=3;for(var d=[],l=0;l<h.length;l+=n.step){var m=0;for(e=l+n.step-1;e>=l;e--)m=(m<<1)+h[e];d.push(m)}for(var A=this.jpoint(null,null,null),B=this.jpoint(null,null,null),k=u;k>0;k--){for(l=0;l<d.length;l++)(m=d[l])===k?B=B.mixedAdd(n.points[l]):m===-k&&(B=B.mixedAdd(n.points[l].neg()));A=A.add(B)}return A.toP()},t.prototype._wnafMul=function(o,e){var n=4,h=o._getNAFPoints(n);n=h.wnd;for(var u=h.points,d=i(e,n,this._bitLength),l=this.jpoint(null,null,null),m=d.length-1;m>=0;m--){for(e=0;m>=0&&d[m]===0;m--)e++;if(m>=0&&e++,l=l.dblp(e),m<0)break;var A=d[m];c(A!==0),l=o.type==="affine"?A>0?l.mixedAdd(u[A-1>>1]):l.mixedAdd(u[-A-1>>1].neg()):A>0?l.add(u[A-1>>1]):l.add(u[-A-1>>1].neg())}return o.type==="affine"?l.toP():l},t.prototype._wnafMulAdd=function(o,e,n,h,u){for(var d=this._wnafT1,l=this._wnafT2,m=this._wnafT3,A=0,B=0;B<h;B++){var k=(L=e[B])._getNAFPoints(o);d[B]=k.wnd,l[B]=k.points}for(B=h-1;B>=1;B-=2){var T=B-1,g=B;if(d[T]===1&&d[g]===1){var E=[e[T],null,null,e[g]];e[T].y.cmp(e[g].y)===0?(E[1]=e[T].add(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg())):e[T].y.cmp(e[g].y.redNeg())===0?(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].add(e[g].neg())):(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],S=f(n[T],n[g]);A=Math.max(S[0].length,A),m[T]=new Array(A),m[g]=new Array(A);for(var M=0;M<A;M++){var y=0|S[0][M],p=0|S[1][M];m[T][M]=R[3*(y+1)+(p+1)],m[g][M]=0,l[T]=E}}else m[T]=i(n[T],d[T],this._bitLength),m[g]=i(n[g],d[g],this._bitLength),A=Math.max(m[T].length,A),A=Math.max(m[g].length,A)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(B=A;B>=0;B--){for(var _=0;B>=0;){var C=!0;for(M=0;M<h;M++)v[M]=0|m[M][B],v[M]!==0&&(C=!1);if(!C)break;_++,B--}if(B>=0&&_++,w=w.dblp(_),B<0)break;for(M=0;M<h;M++){var L,O=v[M];O!==0&&(O>0?L=l[M][O-1>>1]:O<0&&(L=l[M][-O-1>>1].neg()),w=L.type==="affine"?w.mixedAdd(L):w.add(L))}}for(B=0;B<h;B++)l[B]=null;return u?w:w.toP()},t.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(o,e){o=r.toArray(o,e);var n=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1==2*n)return o[0]===6?c(o[o.length-1]%2==0):o[0]===7&&c(o[o.length-1]%2==1),this.point(o.slice(1,1+n),o.slice(1+n,1+2*n));if((o[0]===2||o[0]===3)&&o.length-1===n)return this.pointFromX(o.slice(1,1+n),o[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(o){return this.encode(o,!0)},a.prototype._encode=function(o){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return o?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},a.prototype.encode=function(o,e){return r.encode(this._encode(e),o)},a.prototype.precompute=function(o){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,o),e.beta=this._getBeta(),this.precomputed=e,this},a.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((o.bitLength()+1)/e.step)},a.prototype._getDoubles=function(o,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],h=this,u=0;u<e;u+=o){for(var d=0;d<o;d++)h=h.dbl();n.push(h)}return{step:o,points:n}},a.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<o)-1,h=n===1?null:this.dbl(),u=1;u<n;u++)e[u]=e[u-1].add(h);return{wnd:o,points:e}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(o){for(var e=this,n=0;n<o;n++)e=e.dbl();return e}},function(N,x,b){function s(f){if(typeof f=="number"){if(s.codes[f])return s.codes[f];throw new Error("no protocol with code: "+f)}if(typeof f=="string"||f instanceof String){if(s.names[f])return s.names[f];throw new Error("no protocol with name: "+f)}throw new Error("invalid protocol id type: "+f)}const r=-1;function i(f,c,t,a,o){return{code:f,size:c,name:t,resolvable:Boolean(a),path:Boolean(o)}}s.lengthPrefixedVarSize=r,s.V=r,s.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,r,"ip6zone"],[53,r,"dns","resolvable"],[54,r,"dns4","resolvable"],[55,r,"dns6","resolvable"],[56,r,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,r,"unix",!1,"path"],[421,r,"ipfs"],[421,r,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,r,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,r,"memory"]],s.names={},s.codes={},s.table.map(f=>{const c=i.apply(null,f);s.codes[c.code]=c,s.names[c.name]=c}),s.object=i,N.exports=s},function(N,x,b){const s=b(140),r=b(385),i=b(142);N.exports=f=>{const c=r(),t=s(f.source),a=i();let o;const e=f.sink(async function*(){yield*c;const n=await a.promise;yield*n}());return e.catch(n=>{o=n}),{reader:t,writer:c,stream:{sink:n=>o?Promise.reject(o):(a.resolve(n),e),source:t},rest:()=>c.end(),write:c.push,read:async()=>(await t.next()).value}}},function(N,x,b){const s=b(0),r=b(8),{codes:{ERR_INVALID_PARAMETERS:i}}=b(10),f=c=>c;N.exports=class{constructor({peerStore:c,eventName:t,eventProperty:a,eventTransformer:o=f}){this._ps=c,this.eventName=t,this.eventProperty=a,this.eventTransformer=o,this.data=new Map}set(c,t){throw s(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(c,t,{emit:a=!0}={}){const o=c.toB58String();this.data.set(o,t),a&&this._emit(c,t)}_emit(c,t){this._ps.emit(this.eventName,{peerId:c,[this.eventProperty]:this.eventTransformer(t)})}get(c){if(!r.isPeerId(c))throw s(new Error("peerId must be an instance of peer-id"),i);const t=this.data.get(c.toB58String());return t?[...t]:void 0}delete(c){if(!r.isPeerId(c))throw s(new Error("peerId must be an instance of peer-id"),i);return!!this.data.delete(c.toB58String())&&(this._emit(c,[]),!0)}}},function(N,x,b){const s=b(160),r=b(161),i=b(91);x.utf8Encoder=new r("utf8"),x.utf8Decoder=new i("utf8"),x.filter=(f,c)=>async function*(){for await(const t of f)await c(t)&&(yield t)}(),x.sortAll=(f,c)=>async function*(){let t=[];for await(const a of f)t.push(a);t=await c(t);for(const a of t)yield a}(),x.take=(f,c)=>async function*(){if(c<=0)return;let t=0;for await(const a of f)if(yield a,t++,t>=c)return}(),x.map=(f,c)=>async function*(){for await(const t of f)yield c(t)}(),x.replaceStartWith=function(f,c){const t=new RegExp("^"+c);return f.replace(t,"")},x.tmpdir=s},function(N,x,b){const{TextEncoder:s,TextDecoder:r}=b(35),i=new r,f=new s;N.exports={decodeText:c=>i.decode(c),encodeText:c=>f.encode(c),concat:function(c,t){const a=new Uint8Array(t);let o=0;for(const e of c)a.set(e,o),o+=e.length;return a}}},function(N,x,b){const{Key:s,Errors:r,Adapter:i,utils:{filter:f,map:c,take:t,sortAll:a}}=b(22);N.exports=class extends i{constructor(o,e){let n;super(),e&&e.db?(n=e.db,delete e.db):n=b(180),this.db=this._initDb(n,o,e)}_initDb(o,e,n){return o(e,{...n,valueEncoding:"binary",compression:!1})}async open(){try{await this.db.open()}catch(o){throw r.dbOpenFailedError(o)}}async put(o,e){try{await this.db.put(o.toString(),e)}catch(n){throw r.dbWriteFailedError(n)}}async get(o){let e;try{e=await this.db.get(o.toString())}catch(n){throw n.notFound?r.notFoundError(n):r.dbWriteFailedError(n)}return e}async has(o){try{await this.db.get(o.toString())}catch(e){if(e.notFound)return!1;throw e}return!0}async delete(o){try{await this.db.del(o.toString())}catch(e){throw r.dbDeleteFailedError(e)}}close(){return this.db.close()}batch(){const o=[];return{put:(e,n)=>{o.push({type:"put",key:e.toString(),value:n})},delete:e=>{o.push({type:"del",key:e.toString()})},commit:()=>this.db.batch(o)}}query(o){let e=!0;o.keysOnly!=null&&(e=!o.keysOnly);const n={keys:!0,values:e,keyAsBuffer:!0};if(o.prefix!=null){const d=o.prefix.toString();n.gte=d,n.lt=d+"\xFF"}let h=(u=this.db.iterator(n),{next:()=>new Promise((d,l)=>{u.next((m,A,B)=>m?l(m):A==null?u.end(k=>{if(k)return l(k);d({done:!0})}):void d({done:!1,value:{key:A,value:B}}))}),return:()=>new Promise((d,l)=>{u.end(m=>{if(m)return l(m);d({done:!0})})}),[Symbol.asyncIterator](){return this}});var u;if(h=c(h,({key:d,value:l})=>{const m={key:new s(d,!1)};return e&&(m.value=l),m}),Array.isArray(o.filters)&&(h=o.filters.reduce((d,l)=>f(d,l),h)),Array.isArray(o.orders)&&(h=o.orders.reduce((d,l)=>a(d,l),h)),o.offset!=null){let d=0;h=f(h,()=>d++>=o.offset)}return o.limit!=null&&(h=t(h,o.limit)),h}}},function(N,x,b){var s=b(29),r=b(188);N.exports=function(){var i=s.apply(null,arguments);return r(i,{bufferKeys:i.bufferKeys||!1,snapshots:i.snapshots||!1,permanence:i.permanence||!1,seek:i.seek||!1,clear:i.clear||!1,status:i.status||!1,createIfMissing:i.createIfMissing||!1,errorIfExists:i.errorIfExists||!1,deferredOpen:i.deferredOpen||!1,openCallback:i.openCallback||!1,promises:i.promises||!1,streams:i.streams||!1,encodings:i.encodings||!1,additionalMethods:s(i.additionalMethods)})}},function(N,x,b){N.exports=b(192)},function(N,x,b){var s=b(30).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}N.exports=function i(f,c,t){if(typeof c=="function")return i(f,null,c);c||(c={}),t=function(B){var k=!1;return function(){if(!k){k=!0;for(var T=arguments.length,g=new Array(T),E=0;E<T;E++)g[E]=arguments[E];B.apply(this,g)}}}(t||r);var a=c.readable||c.readable!==!1&&f.readable,o=c.writable||c.writable!==!1&&f.writable,e=function(){f.writable||h()},n=f._writableState&&f._writableState.finished,h=function(){o=!1,n=!0,a||t.call(f)},u=f._readableState&&f._readableState.endEmitted,d=function(){a=!1,u=!0,o||t.call(f)},l=function(B){t.call(f,B)},m=function(){var B;return a&&!u?(f._readableState&&f._readableState.ended||(B=new s),t.call(f,B)):o&&!n?(f._writableState&&f._writableState.ended||(B=new s),t.call(f,B)):void 0},A=function(){f.req.on("finish",h)};return function(B){return B.setHeader&&typeof B.abort=="function"}(f)?(f.on("complete",h),f.on("abort",m),f.req?A():f.on("request",A)):o&&!f._writableState&&(f.on("end",e),f.on("close",e)),f.on("end",d),f.on("finish",h),c.error!==!1&&f.on("error",l),f.on("close",m),function(){f.removeListener("complete",h),f.removeListener("abort",m),f.removeListener("request",A),f.req&&f.req.removeListener("finish",h),f.removeListener("end",e),f.removeListener("close",e),f.removeListener("finish",h),f.removeListener("end",d),f.removeListener("error",l),f.removeListener("close",m)}}},function(N,x,b){var s=b(212).create,r=s("LevelUPError"),i=s("NotFoundError",r);i.prototype.notFound=!0,i.prototype.status=404,N.exports={LevelUPError:r,InitializationError:s("InitializationError",r),OpenError:s("OpenError",r),ReadError:s("ReadError",r),WriteError:s("WriteError",r),NotFoundError:i,EncodingError:s("EncodingError",r)}},function(N,x,b){x.AbstractLevelDOWN=b(221),x.AbstractIterator=b(106),x.AbstractChainedBatch=b(107)},function(N,x,b){N.exports=b(222)},function(N,x,b){const s=b(45),r=b(32),i=b(114),f=b(36),c=b(263),t=b(24),a=b(19),o=b(5),e=b(20),n=Object.keys(f).reduce((d,l)=>(d[f[l]]=l,d),{});class h{constructor(d,l,m,A){if(u.isCID(d)){const B=d;return this.version=B.version,this.codec=B.codec,this.multihash=B.multihash,void(this.multibaseName=B.multibaseName||(B.version===0?"base58btc":"base32"))}if(typeof d=="string"){const B=r.isEncoded(d);if(B){const k=r.decode(d);this.version=parseInt(k.slice(0,1).toString("hex"),16),this.codec=i.getCodec(k.slice(1)),this.multihash=i.rmPrefix(k.slice(1)),this.multibaseName=B}else this.version=0,this.codec="dag-pb",this.multihash=s.fromB58String(d),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:d})}if(d instanceof Uint8Array){const B=d.slice(0,1),k=parseInt(B.toString("hex"),16);if(k===1){const T=d;this.version=k,this.codec=i.getCodec(T.slice(1)),this.multihash=i.rmPrefix(T.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=d,this.multibaseName="base58btc";h.validateCID(this)}else this.version=d,typeof l=="number"&&(l=n[l]),this.codec=l,this.multihash=m,this.multibaseName=A||(d===0?"base58btc":"base32"),h.validateCID(this)}get bytes(){let d=this._bytes;if(!d){if(this.version===0)d=this.multihash;else{if(this.version!==1)throw new Error("unsupported version");{const l=i.getCodeVarint(this.codec);d=a([[1],l,this.multihash],1+l.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:d})}return d}get prefix(){const d=i.getCodeVarint(this.codec),l=s.prefix(this.multihash);return a([[this.version],d,l],1+d.byteLength+l.byteLength)}get code(){return f[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:d,length:l}=s.decode(this.multihash);if(d!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(l!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new u(0,this.codec,this.multihash)}toV1(){return new u(1,this.codec,this.multihash)}toBaseEncodedString(d=this.multibaseName){if(this.string&&d===this.multibaseName)return this.string;let l=null;if(this.version===0){if(d!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");l=s.toB58String(this.multihash)}else{if(this.version!==1)throw new Error("unsupported version");l=o(r.encode(d,this.bytes))}return d===this.multibaseName&&Object.defineProperty(this,"string",{value:l}),l}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(d){return this.toBaseEncodedString(d)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(d){return this.codec===d.codec&&this.version===d.version&&e(this.multihash,d.multihash)}static validateCID(d){const l=c.checkCIDComponents(d);if(l)throw new Error(l)}}const u=t(h,{className:"CID",symbolName:"@ipld/js-cid/CID"});u.codecs=f,N.exports=u},function(N,x,b){const s=b(17)(b(66));b(23),b(116);const r=b(1),i=b(0),f=b(6),c=b(294);x=N.exports;const t={rsa:b(295),ed25519:b(301),secp256k1:b(303)(s,b(71))};x.supportedKeys=t,x.keysPBM=s;const a="secp256k1 support requires libp2p-crypto-secp256k1 package",o="ERR_MISSING_PACKAGE";function e(n){const h=t[n.toLowerCase()];if(!h){const u=Object.keys(t).join(" / ");throw i(new Error(`invalid or unsupported key type ${n}. Must be ${u}`),"ERR_UNSUPPORTED_KEY_TYPE")}return h}x.keyStretcher=b(330),x.generateEphemeralKeyPair=b(332),x.generateKeyPair=async(n,h)=>e(n).generateKeyPair(h),x.generateKeyPairFromSeed=async(n,h,u)=>{const d=e(n);if(n.toLowerCase()!=="ed25519")throw i(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return d.generateKeyPairFromSeed(h,u)},x.unmarshalPublicKey=n=>{const h=s.PublicKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPublicKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PublicKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PublicKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPublicKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.unmarshalPrivateKey=async n=>{const h=s.PrivateKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPrivateKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PrivateKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PrivateKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPrivateKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.import=async(n,h)=>{try{const l=await c.import(n,h);return x.unmarshalPrivateKey(l)}catch(l){}const u=r.pki.decryptRsaPrivateKey(n,h);if(u===null)throw i(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let d=r.asn1.toDer(r.pki.privateKeyToAsn1(u));return d=f(d.getBytes(),"ascii"),t.rsa.unmarshalRsaPrivateKey(d)}},function(N,x,b){x.defined=function(s){return s!=null&&(typeof s!="number"||!isNaN(s))}},function(N,x,b){N.exports=`enum KeyType {
  RSA = 0;
  Ed25519 = 1;
  Secp256k1 = 2;
}
message PublicKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}
message PrivateKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}`},function(N,x,b){var s=b(1);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.des.Algorithm(d,l)})}b(117),b(118),b(3),N.exports=s.des=s.des||{},s.des.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.des.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.des.Algorithm=function(d,l){var m=this;m.name=d,m.mode=new l({blockSize:8,cipher:{encrypt:function(A,B){return h(m._keys,A,B,!1)},decrypt:function(A,B){return h(m._keys,A,B,!0)}}}),m._init=!1},s.des.Algorithm.prototype.initialize=function(d){if(!this._init){var l=s.util.createBuffer(d.key);if(this.name.indexOf("3DES")===0&&l.length()!==24)throw new Error("Invalid Triple-DES key size: "+8*l.length());this._keys=function(m){for(var A,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],k=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],T=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],g=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],E=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],R=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],S=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],M=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],y=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],w=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],v=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],_=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],C=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],L=m.length()>8?3:1,O=[],U=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],q=0,H=0;H<L;H++){var G=m.getInt32(),K=m.getInt32();G^=(A=252645135&(G>>>4^K))<<4,G^=A=65535&((K^=A)>>>-16^G),G^=(A=858993459&(G>>>2^(K^=A<<-16)))<<2,G^=A=65535&((K^=A)>>>-16^G),G^=(A=1431655765&(G>>>1^(K^=A<<-16)))<<1,G^=A=16711935&((K^=A)>>>8^G),A=(G^=(A=1431655765&(G>>>1^(K^=A<<8)))<<1)<<8|(K^=A)>>>20&240,G=K<<24|K<<8&16711680|K>>>8&65280|K>>>24&240,K=A;for(var Q=0;Q<U.length;++Q){U[Q]?(G=G<<2|G>>>26,K=K<<2|K>>>26):(G=G<<1|G>>>27,K=K<<1|K>>>27);var z=B[(G&=-15)>>>28]|k[G>>>24&15]|T[G>>>20&15]|g[G>>>16&15]|E[G>>>12&15]|R[G>>>8&15]|S[G>>>4&15],D=M[(K&=-15)>>>28]|y[K>>>24&15]|p[K>>>20&15]|w[K>>>16&15]|v[K>>>12&15]|_[K>>>8&15]|C[K>>>4&15];A=65535&(D>>>16^z),O[q++]=z^A,O[q++]=D^A<<16}}return O}(l),this._init=!0}},r("DES-ECB",s.cipher.modes.ecb),r("DES-CBC",s.cipher.modes.cbc),r("DES-CFB",s.cipher.modes.cfb),r("DES-OFB",s.cipher.modes.ofb),r("DES-CTR",s.cipher.modes.ctr),r("3DES-ECB",s.cipher.modes.ecb),r("3DES-CBC",s.cipher.modes.cbc),r("3DES-CFB",s.cipher.modes.cfb),r("3DES-OFB",s.cipher.modes.ofb),r("3DES-CTR",s.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],t=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],a=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],n=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(d,l,m,A){var B,k,T=d.length===32?3:9;B=T===3?A?[30,-2,-2]:[0,32,2]:A?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=l[0],E=l[1];g^=(k=252645135&(g>>>4^E))<<4,g^=(k=65535&(g>>>16^(E^=k)))<<16,g^=k=858993459&((E^=k)>>>2^g),g^=k=16711935&((E^=k<<2)>>>8^g),g=(g^=(k=1431655765&(g>>>1^(E^=k<<8)))<<1)<<1|g>>>31,E=(E^=k)<<1|E>>>31;for(var R=0;R<T;R+=3){for(var S=B[R+1],M=B[R+2],y=B[R];y!=S;y+=M){var p=E^d[y],w=(E>>>4|E<<28)^d[y+1];k=g,g=E,E=k^(f[p>>>24&63]|t[p>>>16&63]|o[p>>>8&63]|n[63&p]|i[w>>>24&63]|c[w>>>16&63]|a[w>>>8&63]|e[63&w])}k=g,g=E,E=k}E=E>>>1|E<<31,E^=k=1431655765&((g=g>>>1|g<<31)>>>1^E),E^=(k=16711935&(E>>>8^(g^=k<<1)))<<8,E^=(k=858993459&(E>>>2^(g^=k)))<<2,E^=k=65535&((g^=k)>>>16^E),E^=k=252645135&((g^=k<<16)>>>4^E),g^=k<<4,m[0]=g,m[1]=E}function u(d){var l,m="DES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x){},function(N,x,b){var s=b(1);b(3);var r=N.exports=s.pem=s.pem||{};function i(c){for(var t=c.name+": ",a=[],o=function(d,l){return" "+l},e=0;e<c.values.length;++e)a.push(c.values[e].replace(/^(\S+\r\n)/,o));t+=a.join(",")+`\r
`;var n=0,h=-1;for(e=0;e<t.length;++e,++n)if(n>65&&h!==-1){var u=t[h];u===","?(++h,t=t.substr(0,h)+`\r
 `+t.substr(h)):t=t.substr(0,h)+`\r
`+u+t.substr(h+1),n=e-h-1,h=-1,++e}else t[e]!==" "&&t[e]!=="	"&&t[e]!==","||(h=e);return t}function f(c){return c.replace(/^\s+/,"")}r.encode=function(c,t){t=t||{};var a,o="-----BEGIN "+c.type+`-----\r
`;if(c.procType&&(o+=i(a={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]})),c.contentDomain&&(o+=i(a={name:"Content-Domain",values:[c.contentDomain]})),c.dekInfo&&(a={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&a.values.push(c.dekInfo.parameters),o+=i(a)),c.headers)for(var e=0;e<c.headers.length;++e)o+=i(c.headers[e]);return c.procType&&(o+=`\r
`),o+=s.util.encode64(c.body,t.maxline||64)+`\r
`,o+="-----END "+c.type+`-----\r
`},r.decode=function(c){for(var t,a=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,e=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/;t=o.exec(c);){var h={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:s.util.decode64(t[3])};if(a.push(h),t[2]){for(var u=t[2].split(n),d=0;t&&d<u.length;){for(var l=u[d].replace(/\s+$/,""),m=d+1;m<u.length;++m){var A=u[m];if(!/\s/.test(A[0]))break;l+=A,d=m}if(t=l.match(e)){for(var B={name:t[1],values:[]},k=t[2].split(","),T=0;T<k.length;++T)B.values.push(f(k[T]));if(h.procType)if(h.contentDomain||B.name!=="Content-Domain")if(h.dekInfo||B.name!=="DEK-Info")h.headers.push(B);else{if(B.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');h.dekInfo={algorithm:k[0],parameters:k[1]||null}}else h.contentDomain=k[0]||"";else{if(B.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(B.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');h.procType={version:k[0],type:k[1]}}}++d}if(h.procType==="ENCRYPTED"&&!h.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(a.length===0)throw new Error("Invalid PEM formatted message.");return a}},function(N,x,b){var s=b(1);b(25),b(3);var r=N.exports=s.sha512=s.sha512||{};s.md.sha512=s.md.algorithms.sha512=r;var i=s.sha384=s.sha512.sha384=s.sha512.sha384||{};i.create=function(){return r.create("SHA-384")},s.md.sha384=s.md.algorithms.sha384=i,s.sha512.sha256=s.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},s.md["sha512/256"]=s.md.algorithms["sha512/256"]=s.sha512.sha256,s.sha512.sha224=s.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},s.md["sha512/224"]=s.md.algorithms["sha512/224"]=s.sha512.sha224,r.create=function(e){if(c||(f=String.fromCharCode(128),f+=s.util.fillString(String.fromCharCode(0),128),t=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(a={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0),e===void 0&&(e="SHA-512"),!(e in a))throw new Error("Invalid SHA-512 algorithm: "+e);for(var n=a[e],h=null,u=s.util.createBuffer(),d=new Array(80),l=0;l<80;++l)d[l]=new Array(2);var m=64;switch(e){case"SHA-384":m=48;break;case"SHA-512/256":m=32;break;case"SHA-512/224":m=28}var A={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:m,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){A.messageLength=0,A.fullMessageLength=A.messageLength128=[];for(var B=A.messageLengthSize/4,k=0;k<B;++k)A.fullMessageLength.push(0);for(u=s.util.createBuffer(),h=new Array(n.length),k=0;k<n.length;++k)h[k]=n[k].slice(0);return A}};return A.start(),A.update=function(B,k){k==="utf8"&&(B=s.util.encodeUtf8(B));var T=B.length;A.messageLength+=T,T=[T/4294967296>>>0,T>>>0];for(var g=A.fullMessageLength.length-1;g>=0;--g)A.fullMessageLength[g]+=T[1],T[1]=T[0]+(A.fullMessageLength[g]/4294967296>>>0),A.fullMessageLength[g]=A.fullMessageLength[g]>>>0,T[0]=T[1]/4294967296>>>0;return u.putBytes(B),o(h,d,u),(u.read>2048||u.length()===0)&&u.compact(),A},A.digest=function(){var B=s.util.createBuffer();B.putBytes(u.bytes());var k,T=A.fullMessageLength[A.fullMessageLength.length-1]+A.messageLengthSize&A.blockLength-1;B.putBytes(f.substr(0,A.blockLength-T));for(var g=8*A.fullMessageLength[0],E=0;E<A.fullMessageLength.length-1;++E)g+=(k=8*A.fullMessageLength[E+1])/4294967296>>>0,B.putInt32(g>>>0),g=k>>>0;B.putInt32(g);var R=new Array(h.length);for(E=0;E<h.length;++E)R[E]=h[E].slice(0);o(R,d,B);var S,M=s.util.createBuffer();for(S=e==="SHA-512"?R.length:e==="SHA-384"?R.length-2:R.length-4,E=0;E<S;++E)M.putInt32(R[E][0]),E===S-1&&e==="SHA-512/224"||M.putInt32(R[E][1]);return M},A};var f=null,c=!1,t=null,a=null;function o(e,n,h){for(var u,d,l,m,A,B,k,T,g,E,R,S,M,y,p,w,v,_,C,L,O,U,q,H,G,K,Q,z,D,F,I,P,V,$=h.length();$>=128;){for(Q=0;Q<16;++Q)n[Q][0]=h.getInt32()>>>0,n[Q][1]=h.getInt32()>>>0;for(;Q<80;++Q)u=(((z=(F=n[Q-2])[0])>>>19|(D=F[1])<<13)^(D>>>29|z<<3)^z>>>6)>>>0,d=((z<<13|D>>>19)^(D<<3|z>>>29)^(z<<26|D>>>6))>>>0,l=(((z=(P=n[Q-15])[0])>>>1|(D=P[1])<<31)^(z>>>8|D<<24)^z>>>7)>>>0,m=((z<<31|D>>>1)^(z<<24|D>>>8)^(z<<25|D>>>7))>>>0,I=n[Q-7],V=n[Q-16],D=d+I[1]+m+V[1],n[Q][0]=u+I[0]+l+V[0]+(D/4294967296>>>0)>>>0,n[Q][1]=D>>>0;for(R=e[0][0],S=e[0][1],M=e[1][0],y=e[1][1],p=e[2][0],w=e[2][1],v=e[3][0],_=e[3][1],C=e[4][0],L=e[4][1],O=e[5][0],U=e[5][1],q=e[6][0],H=e[6][1],G=e[7][0],K=e[7][1],Q=0;Q<80;++Q)k=((C>>>14|L<<18)^(C>>>18|L<<14)^(L>>>9|C<<23))>>>0,T=(q^C&(O^q))>>>0,A=((R>>>28|S<<4)^(S>>>2|R<<30)^(S>>>7|R<<25))>>>0,B=((R<<4|S>>>28)^(S<<30|R>>>2)^(S<<25|R>>>7))>>>0,g=(R&M|p&(R^M))>>>0,E=(S&y|w&(S^y))>>>0,D=K+(((C<<18|L>>>14)^(C<<14|L>>>18)^(L<<23|C>>>9))>>>0)+((H^L&(U^H))>>>0)+t[Q][1]+n[Q][1],u=G+k+T+t[Q][0]+n[Q][0]+(D/4294967296>>>0)>>>0,d=D>>>0,l=A+g+((D=B+E)/4294967296>>>0)>>>0,m=D>>>0,G=q,K=H,q=O,H=U,O=C,U=L,C=v+u+((D=_+d)/4294967296>>>0)>>>0,L=D>>>0,v=p,_=w,p=M,w=y,M=R,y=S,R=u+l+((D=d+m)/4294967296>>>0)>>>0,S=D>>>0;D=e[0][1]+S,e[0][0]=e[0][0]+R+(D/4294967296>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+y,e[1][0]=e[1][0]+M+(D/4294967296>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+w,e[2][0]=e[2][0]+p+(D/4294967296>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+_,e[3][0]=e[3][0]+v+(D/4294967296>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+L,e[4][0]=e[4][0]+C+(D/4294967296>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+U,e[5][0]=e[5][0]+O+(D/4294967296>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+H,e[6][0]=e[6][0]+q+(D/4294967296>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+K,e[7][0]=e[7][0]+G+(D/4294967296>>>0)>>>0,e[7][1]=D>>>0,$-=128}}},function(N,x,b){const s=b(298),r=b(0);N.exports=function(i){if(isNaN(i)||i<=0)throw r(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return s(i)}},function(N,x,b){b(3),b(47);const s=b(1),r=b(6),i=b(5),f=b(19);x.bigIntegerToUintBase64url=(c,t)=>{let a=Uint8Array.from(c.abs().toByteArray());if(a=a[0]===0?a.slice(1):a,t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return i(a,"base64url")},x.base64urlToBigInteger=c=>{const t=x.base64urlToBuffer(c);return new s.jsbn.BigInteger(i(t,"base16"),16)},x.base64urlToBuffer=(c,t)=>{let a=r(c,"base64urlpad");if(t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return a}},function(N,x,b){const s=b(32),r=b(120);N.exports={export:async function(i,f){const c=r.create(),t=await c.encrypt(i,f);return s.names.base64.encode(t)}}},function(N,x,b){var s,r=x,i=b(75),f=b(124),c=b(15).assert;function t(o){o.type==="short"?this.curve=new f.short(o):o.type==="edwards"?this.curve=new f.edwards(o):this.curve=new f.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(o,e){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var n=new t(e);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=t,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=b(322)}catch(o){s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},function(N,x,b){var s=x;s.utils=b(18),s.common=b(39),s.sha=b(316),s.ripemd=b(320),s.hmac=b(321),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},function(N,x,b){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),N.exports=globalThis},function(N,x,b){const s=b(339),r=b(129);N.exports=(i,f)=>{const c=s(i,{...f,count:1});return r.fn(async t=>{t(()=>{c.cancel()});const[a]=await c;return a})()},N.exports.AggregateError=s.AggregateError},function(N,x,b){N.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50}}},function(N,x,b){var s=b(372);function r(i,f,c){var t=this;this._started=s(),this._rescheduled=0,this._scheduled=f,this._args=c,this._timer=setTimeout(function a(){t._rescheduled>0?(t._scheduled=t._rescheduled-(s()-t._started),t._timer=setTimeout(a,t._scheduled),t._rescheduled=0):i.apply(null,t._args)},f)}r.prototype.reschedule=function(i){var f=s();return!(f+i-(this._started+this._scheduled)<0)&&(this._started=f,this._rescheduled=i,!0)},r.prototype.clear=function(){clearTimeout(this._timer)},N.exports=function(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");var i;if(arguments.length>0){i=new Array(arguments.length-2);for(var f=0;f<i.length;f++)i[f]=arguments[f+2]}return new r(arguments[0],arguments[1],i)}},function(N,x,b){N.exports={relay:"/libp2p/circuit/relay/0.1.0"}},function(N,x,b){const s=b(42),r=b(52),{CircuitRelay:i}=b(41),f=b(2),c=f("libp2p:circuit:stream-handler");c.error=f("libp2p:circuit:stream-handler:error"),N.exports=class{constructor({stream:t,maxLength:a=4096}){this.stream=t,this.shake=r(this.stream),this.decoder=s.decode.fromReader(this.shake.reader,{maxDataLength:a})}async read(){const t=await this.decoder.next();if(t.value){const a=i.decode(t.value.slice());return c("read message type",a.type),a}c("read received no value, closing stream"),this.close()}write(t){c("write message type %s",t.type),this.shake.write(s.encode.single(i.encode(t)))}rest(){return this.shake.rest(),this.shake.stream}end(t){this.write(t),this.close()}close(){c("closing the stream"),this.rest().sink([])}}},function(N,x,b){function s(H,G){return G===void 0?K=>s(H,K):G[Symbol.asyncIterator]?async function*(K,Q){let z=[];for await(const D of Q)z.push(D),z.length===K&&(yield z,z=[]);z.length>0&&(yield z)}(H,G):function*(K,Q){let z=[];for(const D of Q)z.push(D),z.length===K&&(yield z,z=[]);z.length>0&&(yield z)}(H,G)}function r(H){if(typeof H.next=="function")return H;if(typeof H[Symbol.iterator]=="function")return H[Symbol.iterator]();if(typeof H[Symbol.asyncIterator]=="function")return H[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function i(){let H,G;return{promise:new Promise((K,Q)=>{G=K,H=Q}),reject:H,resolve:G}}function f(H,G){const K=r(G),Q=[],z=[];let D=!1,F=!1;async function I(){if(!F&&!(D||Q.length>=H)){D=!0;try{const{done:V,value:$}=await K.next();V?F=!0:Q.push({value:$})}catch(V){F=!0,Q.push({error:V})}!function(){for(;z.length>0&&Q.length>0;){const V=z.shift(),{error:$,value:W}=Q.shift();$?V.reject($):V.resolve({done:!1,value:W})}for(;z.length>0&&F;){const{resolve:V}=z.shift();V({done:!0,value:void 0})}}(),D=!1,I()}}const P={next:async function(){if(Q.length>0){const{error:$,value:W}=Q.shift();if($)throw $;return I(),{done:!1,value:W}}if(F)return{done:!0,value:void 0};const V=i();return z.push(V),I(),V.promise},[Symbol.asyncIterator]:()=>P};return P}function c(H,G){return G===void 0?K=>c(H,K):H===0?G:G[Symbol.asyncIterator]?f(H,G):function*(K,Q){const z=[];let D;try{for(const F of Q)z.push(F),z.length<=K||(yield z.shift())}catch(F){D=F}for(const F of z)yield F;if(D)throw D}(H,G)}function t(H){return H[Symbol.asyncIterator]?async function(G){const K=[];for await(const Q of G)K.push(Q);return K}(H):Array.from(H)}function a(...H){return H.find(G=>G[Symbol.asyncIterator]!==void 0)?async function*(G){for await(const K of G)yield*K}(H):function*(G){for(const K of G)yield*K}(H)}function o(H){if(H[Symbol.asyncIterator])return async function(G){for await(const K of G);}(H);for(const G of H);}async function*e(H,G){for await(const K of G)await H(K)&&(yield K)}function n(H,G){return G===void 0?K=>e(H,K):e(H,G)}async function*h(H){for await(const G of H)G&&typeof G!="string"&&(G[Symbol.iterator]||G[Symbol.asyncIterator])?yield*h(G):yield G}async function*u(H,G){for await(const K of G)yield await H(K)}function d(H,G){return G===void 0?K=>u(H,K):u(H,G)}function l(H,G){return G===void 0?K=>l(H,K):n(K=>K!=null,h(d(H,G)))}function m(H,G,K){const Q=r(K),z=[],D=[];let F=!1,I=!1,P=0,V=null;function $(){for(;D.length>0&&z.length>0;){const{resolve:ot}=D.shift();ot({done:!1,value:z.shift()})}for(;D.length>0&&P===0&&F;){const{resolve:ot,reject:j}=D.shift();V?(j(V),V=null):ot({done:!0,value:void 0})}}async function W(){if(F)$();else if(!(I||P+z.length>=H)){I=!0,P++;try{const{done:ot,value:j}=await Q.next();ot?(F=!0,P--,$()):async function(Y){try{const X=await G(Y);if(X&&X[Symbol.asyncIterator])for await(const tt of X)z.push(tt);else z.push(X)}catch(X){F=!0,V=X}P--,$(),W()}(j)}catch(ot){F=!0,P--,V=ot,$()}I=!1,W()}}const et={next:async function(){if(z.length===0){const j=i();return D.push(j),W(),j.promise}const ot=z.shift();return W(),{done:!1,value:ot}},[Symbol.asyncIterator]:()=>et};return et}function A(H,G,K){return G===void 0?(Q,z)=>z?A(H,Q,z):A(H,Q):K===void 0?Q=>A(H,G,Q):n(Q=>Q!=null,h(m(H,G,K)))}async function B(H){return new Promise(G=>{H.once("readable",()=>{G()})})}function k(H){return typeof H[Symbol.asyncIterator]=="function"?H:async function*(G){for(;;){const K=G.read();if(K===null){if(G._readableState.ended)break;await B(G)}else yield K}}(H)}async function*T(...H){const G=new Set(H.map(r));for(;G.size>0;)for(const K of G){const Q=await K.next();Q.done?G.delete(K):yield Q.value}}function g(H,...G){let K=H();for(const Q of G)K=Q(K);return K}function E(H,G,K){return G===void 0?(Q,z)=>E(H,Q,z):K===void 0?Q=>E(H,G,Q):H===1?d(G,K):async function*(Q,z,D){let F=null;const I=r(g(()=>D,c(1),async function*(P){for await(const V of P){if(F)return;yield V}},d(P=>({value:z(P)})),c(Q-1)));for(;;){const{value:P,done:V}=await I.next();if(V)break;try{const $=await P.value;F||(yield $)}catch($){F=$}}if(F)throw F}(H,G,K)}function R(H,G,K){return G===void 0?(Q,z)=>z?R(H,Q,z):R(H,Q):K===void 0?Q=>R(H,G,Q):n(Q=>Q!=null,h(E(H,G,K)))}async function*S(...H){const G=H.map(r),K=new Set,Q=new Map;let z=null,D=null,F=null;const I=$=>{z=$,D&&D($)},P=$=>{F&&F($)},V=$=>{const W=Promise.resolve($.next()).then(async({done:et,value:ot})=>{et||Q.set($,ot),K.delete(W)});K.add(W),W.then(P,I)};for(const $ of G)V($);for(;;){if(K.size===0&&Q.size===0)return;await new Promise(($,W)=>{if(z&&W(z),Q.size>0)return $();F=$,D=W});for(const[$,W]of Q)Q.delete($),yield W,V($)}}async function M(H,G,K){let Q=G;for await(const z of K)Q=await H(Q,z);return Q}function y(H,G,K){return G===void 0?(Q,z)=>z?M(H,Q,z):y(H,Q):K===void 0?Q=>y(H,G,Q):M(H,G,K)}function p(H,G){return G===void 0?K=>p(H,K):G[Symbol.asyncIterator]?async function*(K,Q){let z=0;for await(const D of Q)if(yield await D,z++,z>=K)break}(H,G):function*(K,Q){let z=0;for(const D of Q)if(yield D,z++,z>=K)break}(H,G)}async function*w(H,G){for await(const K of G)await H(K),yield K}function v(H,G){return G===void 0?K=>w(H,K):w(H,G)}function _(H,G){let K=H[0]+G[0],Q=H[1]+G[1];if(Q>=1e9){const z=Q%1e9;K+=(Q-z)/1e9,Q=z}return[K,Q]}function C(H={},G){return G===void 0?K=>C(H,K):G[Symbol.asyncIterator]!==void 0?async function*(K,Q){const z=Q[Symbol.asyncIterator]();let D=[0,0];for(;;){const F=ce.hrtime(),{value:I,done:P}=await z.next(),V=ce.hrtime(F);if(D=_(D,V),K.progress&&K.progress(V,D),P)return K.total&&K.total(D),I;yield I}}(H,G):function*(K,Q){const z=Q[Symbol.iterator]();let D=[0,0];for(;;){const F=ce.hrtime(),{value:I,done:P}=z.next(),V=ce.hrtime(F);if(D=_(D,V),K.progress&&K.progress(V,D),P)return K.total&&K.total(D),I;yield I}}(H,G)}function L(H,G,K){const Q=r(K),z=[],D=[];let F=!1,I=!1,P=0,V=null;function $(){for(;D.length>0&&z.length>0;){const{resolve:ot}=D.shift();ot({done:!1,value:z.shift()})}for(;D.length>0&&P===0&&F;){const{resolve:ot,reject:j}=D.shift();V?(j(V),V=null):ot({done:!0,value:void 0})}}async function W(){if(F)$();else if(!(I||P+z.length>=H)){I=!0,P++;try{const{done:ot,value:j}=await Q.next();ot?(F=!0,P--,$()):async function(Y){try{const X=await G(Y);z.push(X)}catch(X){F=!0,V=X}P--,$(),W()}(j)}catch(ot){F=!0,P--,V=ot,$()}I=!1,W()}}const et={next:async function(){if(z.length===0){const j=i();return D.push(j),W(),j.promise}const ot=z.shift();return W(),{done:!1,value:ot}},[Symbol.asyncIterator]:()=>et};return et}function O(H,G,K){return G===void 0?(Q,z)=>z?O(H,Q,z):O(H,Q):K===void 0?Q=>O(H,G,Q):L(H,G,K)}async function U(H,G){let K=null,Q=null,z=null;const D=I=>{K=I,Q&&Q(I)},F=()=>{z&&z()};H.once("error",D);for await(const I of G)if(H.write(I)===!1&&await new Promise((P,V)=>{if(K)return V(K);H.once("drain",F),z=P,Q=V}),K)break;if(H.removeListener("error",D),H.removeListener("drain",F),K)throw K}function q(H,G){return G===void 0?K=>U(H,K):U(H,G)}b.r(x),b.d(x,"batch",function(){return s}),b.d(x,"buffer",function(){return c}),b.d(x,"collect",function(){return t}),b.d(x,"concat",function(){return a}),b.d(x,"consume",function(){return o}),b.d(x,"filter",function(){return n}),b.d(x,"flatMap",function(){return l}),b.d(x,"flatTransform",function(){return A}),b.d(x,"flatten",function(){return h}),b.d(x,"fromStream",function(){return k}),b.d(x,"getIterator",function(){return r}),b.d(x,"map",function(){return d}),b.d(x,"merge",function(){return T}),b.d(x,"parallelFlatMap",function(){return R}),b.d(x,"parallelMap",function(){return E}),b.d(x,"parallelMerge",function(){return S}),b.d(x,"pipeline",function(){return g}),b.d(x,"reduce",function(){return y}),b.d(x,"take",function(){return p}),b.d(x,"tap",function(){return v}),b.d(x,"time",function(){return C}),b.d(x,"transform",function(){return O}),b.d(x,"writeToStream",function(){return q})},function(N,x,b){const s=b(33),r=b(42),i=b(28),f=b(0),c=b(6)(`
`);async function t(a){for await(const o of a)return o}x.encode=a=>r.encode.single(new s([a,c])),x.write=(a,o)=>a.push(x.encode(o)),x.writeAll=(a,o)=>{a.push(o.reduce((e,n)=>e.append(x.encode(n)),new s))},x.read=async a=>{let o=1;const e={[Symbol.asyncIterator](){return this},next:()=>a.next(o)},n=await i(e,r.decode({onLength:h=>{o=h}}),t);if(n.get(n.length-1)!==c[0])throw f(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.shallowSlice(0,-1)}},function(N,x,b){const{Buffer:s}=b(4),r=b(33);N.exports=async function*(i){for await(const f of i)s.isBuffer(f)?yield f:r.isBufferList(f)?yield f.slice():yield s.from(f)},N.exports.toBuffer=N.exports,N.exports.toList=async function*(i){for await(const f of i)s.isBuffer(f)?yield new r().append(f):r.isBufferList(f)?yield f:yield new r().append(s.from(f))}},function(N,x,b){const s=b(2),r=b(87),i=b(0),f=b(155),c=b(156),t=b(157),a=b(158),o=b(167),e=b(176),n=b(178),h=b(179),u=b(43),{isNode:d}=b(244),{MemoryDatastore:l}=b(22),m=s("libp2p:repo"),A=Number.MAX_SAFE_INTEGER,B=b(56),k=d?{}:{sharding:!1,prefix:"",version:2},T={memory:b(113),fs:b(113)};N.exports=class{constructor(g,E={}){if(typeof g!="string")throw new Error("missing repoPath");this.options=function(R){const S=Object.assign({},h,R);return S.storageBackends=Object.assign({},h.storageBackends,S.storageBackends),S.storageBackendOptions=Object.assign({},h.storageBackendOptions,S.storageBackendOptions),S}(E),this.repoVersion=this.options.repoVersion||9,this.closed=!0,this.path=g,this._locker=this._getLocker(),this.root=t.create("root",this.path,this.options),this.version=a(this.root),this.config=o(this.root),this.spec=e(this.root),this.apiAddr=n(this.root),this.migrator=this.options.migrator||{revert:async(R,S,M,{ignoreLock:y,onProgress:p,isDryRun:w})=>{this.version.set(M)},migrate:async(R,S,M,{ignoreLock:y,onProgress:p,isDryRun:w})=>{this.version.set(M)}},this._datastores={}}async init(g){m("initializing at: %s",this.path),await this._openRoot(),await this.config.set(g.config||{}),await this.spec.set(g.spec||{}),await this.version.set(this.repoVersion)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch(g){return!1}}async openDatastore(g,E=B,R=k){try{this.options.useMemory&&(E=l,R={});const S=t.create(g,c(this.path,g),{storageBackends:{[g]:E},storageBackendOptions:R||{}});return await S.open(),this._datastores[g]=S,this[g]=S,S}catch(S){throw S}}async closeDatastore(g){if(!this._datastores[g])throw new Error("database is not open");try{await this[g].close(),delete this._datastores[g],delete this[g]}catch(E){throw E}}async open(){if(!this.closed)throw i(new Error("repo is already open"),u.ERR_REPO_ALREADY_OPEN);m("opening at: %s",this.path);try{if(await this._openRoot(),await this._checkInitialized(),this.lockfile=await this._openLock(this.path),m("acquired repo.lock"),!await this.version.check(this.repoVersion)){if(!await this._isAutoMigrationEnabled())throw new u.InvalidRepoVersionError("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");await this._migrate(this.repoVersion)}await this.openDatastore("keys"),this.closed=!1,m("all opened")}catch(g){if(this.lockfile)try{await this._closeLock(),this.lockfile=null}catch(E){m("error removing lock",E)}throw g}}_getLocker(){if(this.options.useMemory)return T.memory;if(typeof this.options.lock=="string"){if(!T[this.options.lock])throw new Error("Unknown lock type: "+this.options.lock);return T[this.options.lock]}if(!this.options.lock)throw new Error("No lock provided");return this.options.lock}async _openRoot(){try{await this.root.open()}catch(g){if(g.message!=="Already open")throw g}}async _openLock(g){const E=await this._locker.lock(g);if(typeof E.close!="function")throw i(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return E}_closeLock(){return this.lockfile.close()}async _checkInitialized(){let g;m("init check");try{[g]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(E){throw E.code==="ERR_NOT_FOUND"?i(new Error("repo is not initialized yet"),u.ERR_REPO_NOT_INITIALIZED,{path:this.path}):E}if(!g)throw i(new Error("repo is not initialized yet"),u.ERR_REPO_NOT_INITIALIZED,{path:this.path})}async close(){if(this.closed)throw i(new Error("repo is already closed"),u.ERR_REPO_ALREADY_CLOSED);m("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(g){if(g.code!==u.ERR_REPO_NOT_INITIALIZED&&!g.message.startsWith("ENOENT"))throw g}await Promise.all([this.root,...Object.values(this._datastores)].map(g=>g.close())),m("unlocking"),this.closed=!0,await this._closeLock(),this.lockfile=null}async exists(){return this.version.exists()}async stat(){const[g,E,...R]=await Promise.all([this._storageMaxStat(),this.version.get(),...Object.values(this._datastores).map(M=>async function(y){const p=new r(0);for await(const w of y.query({}))p.plus(w.value.byteLength).plus(w.key.uint8Array().byteLength);return p}(M))]),S=new r(0);return R.forEach(M=>S.plus(M)),{repoPath:this.path,storageMax:g,version:E,repoSize:S}}async _isAutoMigrationEnabled(){if(this.options.autoMigrate!==void 0)return this.options.autoMigrate;let g;try{g=await this.config.get("repoAutoMigrate")}catch(E){if(E.code!==u.NotFoundError.code)throw E;g=!0}return g}async _migrate(g){return await this.version.get()>g?(m("reverting to version "+g),this.migrator.revert(this.path,this.options,g,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(m("migrating to version "+g),this.migrator.migrate(this.path,this.options,g,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{const g=await this.config.get("Datastore.StorageMax");return new r(f(g))}catch(g){return new r(A)}}},N.exports.errors=u,N.exports.startRepo=b(246)},function(N,x,b){var s=1e3,r=6e4,i=60*r,f=24*i;function c(t,a,o,e){var n=a>=1.5*o;return Math.round(t/o)+" "+e+(n?"s":"")}N.exports=function(t,a){a=a||{};var o=typeof t;if(o==="string"&&t.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!n)return;var h=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*f;case"hours":case"hour":case"hrs":case"hr":case"h":return h*i;case"minutes":case"minute":case"mins":case"min":case"m":return h*r;case"seconds":case"second":case"secs":case"sec":case"s":return h*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}(t);if(o==="number"&&isFinite(t))return a.long?function(e){var n=Math.abs(e);return n>=f?c(e,n,f,"day"):n>=i?c(e,n,i,"hour"):n>=r?c(e,n,r,"minute"):n>=s?c(e,n,s,"second"):e+" ms"}(t):function(e){var n=Math.abs(e);return n>=f?Math.round(e/f)+"d":n>=i?Math.round(e/i)+"h":n>=r?Math.round(e/r)+"m":n>=s?Math.round(e/s)+"s":e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(N,x,b){var s;!function(r){var i,f=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,c=Math.ceil,t=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",e=1e14,n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e9;function u(T){var g=0|T;return T>0||T===g?g:g-1}function d(T){for(var g,E,R=1,S=T.length,M=T[0]+"";R<S;){for(E=14-(g=T[R++]+"").length;E--;g="0"+g);M+=g}for(S=M.length;M.charCodeAt(--S)===48;);return M.slice(0,S+1||1)}function l(T,g){var E,R,S=T.c,M=g.c,y=T.s,p=g.s,w=T.e,v=g.e;if(!y||!p)return null;if(E=S&&!S[0],R=M&&!M[0],E||R)return E?R?0:-p:y;if(y!=p)return y;if(E=y<0,R=w==v,!S||!M)return R?0:!S^E?1:-1;if(!R)return w>v^E?1:-1;for(p=(w=S.length)<(v=M.length)?w:v,y=0;y<p;y++)if(S[y]!=M[y])return S[y]>M[y]^E?1:-1;return w==v?0:w>v^E?1:-1}function m(T,g,E,R){if(T<g||T>E||T!==t(T))throw Error(a+(R||"Argument")+(typeof T=="number"?T<g||T>E?" out of range: ":" not an integer: ":" not a primitive number: ")+String(T))}function A(T){var g=T.c.length-1;return u(T.e/14)==g&&T.c[g]%2!=0}function B(T,g){return(T.length>1?T.charAt(0)+"."+T.slice(1):T)+(g<0?"e":"e+")+g}function k(T,g,E){var R,S;if(g<0){for(S=E+".";++g;S+=E);T=S+T}else if(++g>(R=T.length)){for(S=E,g-=R;--g;S+=E);T+=S}else g<R&&(T=T.slice(0,g)+"."+T.slice(g));return T}(i=function T(g){var E,R,S,M,y,p,w,v,_,C=P.prototype={constructor:P,toString:null,valueOf:null},L=new P(1),O=20,U=4,q=-7,H=21,G=-1e7,K=1e7,Q=!1,z=1,D=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function P(j,Y){var X,tt,rt,J,Z,nt,it,st,at=this;if(!(at instanceof P))return new P(j,Y);if(Y==null){if(j&&j._isBigNumber===!0)return at.s=j.s,void(!j.c||j.e>K?at.c=at.e=null:j.e<G?at.c=[at.e=0]:(at.e=j.e,at.c=j.c.slice()));if((nt=typeof j=="number")&&0*j==0){if(at.s=1/j<0?(j=-j,-1):1,j===~~j){for(J=0,Z=j;Z>=10;Z/=10,J++);return void(J>K?at.c=at.e=null:(at.e=J,at.c=[j]))}st=String(j)}else{if(!f.test(st=String(j)))return S(at,st,nt);at.s=st.charCodeAt(0)==45?(st=st.slice(1),-1):1}(J=st.indexOf("."))>-1&&(st=st.replace(".","")),(Z=st.search(/e/i))>0?(J<0&&(J=Z),J+=+st.slice(Z+1),st=st.substring(0,Z)):J<0&&(J=st.length)}else{if(m(Y,2,I.length,"Base"),Y==10)return et(at=new P(j),O+at.e+1,U);if(st=String(j),nt=typeof j=="number"){if(0*j!=0)return S(at,st,nt,Y);if(at.s=1/j<0?(st=st.slice(1),-1):1,P.DEBUG&&st.replace(/^0\.0*|\./,"").length>15)throw Error(o+j)}else at.s=st.charCodeAt(0)===45?(st=st.slice(1),-1):1;for(X=I.slice(0,Y),J=Z=0,it=st.length;Z<it;Z++)if(X.indexOf(tt=st.charAt(Z))<0){if(tt=="."){if(Z>J){J=it;continue}}else if(!rt&&(st==st.toUpperCase()&&(st=st.toLowerCase())||st==st.toLowerCase()&&(st=st.toUpperCase()))){rt=!0,Z=-1,J=0;continue}return S(at,String(j),nt,Y)}nt=!1,(J=(st=R(st,Y,10,at.s)).indexOf("."))>-1?st=st.replace(".",""):J=st.length}for(Z=0;st.charCodeAt(Z)===48;Z++);for(it=st.length;st.charCodeAt(--it)===48;);if(st=st.slice(Z,++it)){if(it-=Z,nt&&P.DEBUG&&it>15&&(j>9007199254740991||j!==t(j)))throw Error(o+at.s*j);if((J=J-Z-1)>K)at.c=at.e=null;else if(J<G)at.c=[at.e=0];else{if(at.e=J,at.c=[],Z=(J+1)%14,J<0&&(Z+=14),Z<it){for(Z&&at.c.push(+st.slice(0,Z)),it-=14;Z<it;)at.c.push(+st.slice(Z,Z+=14));Z=14-(st=st.slice(Z)).length}else Z-=it;for(;Z--;st+="0");at.c.push(+st)}}else at.c=[at.e=0]}function V(j,Y,X,tt){var rt,J,Z,nt,it;if(X==null?X=U:m(X,0,8),!j.c)return j.toString();if(rt=j.c[0],Z=j.e,Y==null)it=d(j.c),it=tt==1||tt==2&&(Z<=q||Z>=H)?B(it,Z):k(it,Z,"0");else if(J=(j=et(new P(j),Y,X)).e,nt=(it=d(j.c)).length,tt==1||tt==2&&(Y<=J||J<=q)){for(;nt<Y;it+="0",nt++);it=B(it,J)}else if(Y-=Z,it=k(it,J,"0"),J+1>nt){if(--Y>0)for(it+=".";Y--;it+="0");}else if((Y+=J-nt)>0)for(J+1==nt&&(it+=".");Y--;it+="0");return j.s<0&&rt?"-"+it:it}function $(j,Y){for(var X,tt=1,rt=new P(j[0]);tt<j.length;tt++){if(!(X=new P(j[tt])).s){rt=X;break}Y.call(rt,X)&&(rt=X)}return rt}function W(j,Y,X){for(var tt=1,rt=Y.length;!Y[--rt];Y.pop());for(rt=Y[0];rt>=10;rt/=10,tt++);return(X=tt+14*X-1)>K?j.c=j.e=null:X<G?j.c=[j.e=0]:(j.e=X,j.c=Y),j}function et(j,Y,X,tt){var rt,J,Z,nt,it,st,at,ct=j.c,ut=n;if(ct){t:{for(rt=1,nt=ct[0];nt>=10;nt/=10,rt++);if((J=Y-rt)<0)J+=14,Z=Y,at=(it=ct[st=0])/ut[rt-Z-1]%10|0;else if((st=c((J+1)/14))>=ct.length){if(!tt)break t;for(;ct.length<=st;ct.push(0));it=at=0,rt=1,Z=(J%=14)-14+1}else{for(it=nt=ct[st],rt=1;nt>=10;nt/=10,rt++);at=(Z=(J%=14)-14+rt)<0?0:it/ut[rt-Z-1]%10|0}if(tt=tt||Y<0||ct[st+1]!=null||(Z<0?it:it%ut[rt-Z-1]),tt=X<4?(at||tt)&&(X==0||X==(j.s<0?3:2)):at>5||at==5&&(X==4||tt||X==6&&(J>0?Z>0?it/ut[rt-Z]:0:ct[st-1])%10&1||X==(j.s<0?8:7)),Y<1||!ct[0])return ct.length=0,tt?(Y-=j.e+1,ct[0]=ut[(14-Y%14)%14],j.e=-Y||0):ct[0]=j.e=0,j;if(J==0?(ct.length=st,nt=1,st--):(ct.length=st+1,nt=ut[14-J],ct[st]=Z>0?t(it/ut[rt-Z]%ut[Z])*nt:0),tt)for(;;){if(st==0){for(J=1,Z=ct[0];Z>=10;Z/=10,J++);for(Z=ct[0]+=nt,nt=1;Z>=10;Z/=10,nt++);J!=nt&&(j.e++,ct[0]==e&&(ct[0]=1));break}if(ct[st]+=nt,ct[st]!=e)break;ct[st--]=0,nt=1}for(J=ct.length;ct[--J]===0;ct.pop());}j.e>K?j.c=j.e=null:j.e<G&&(j.c=[j.e=0])}return j}function ot(j){var Y,X=j.e;return X===null?j.toString():(Y=d(j.c),Y=X<=q||X>=H?B(Y,X):k(Y,X,"0"),j.s<0?"-"+Y:Y)}return P.clone=T,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(j){var Y,X;if(j!=null){if(typeof j!="object")throw Error(a+"Object expected: "+j);if(j.hasOwnProperty(Y="DECIMAL_PLACES")&&(m(X=j[Y],0,h,Y),O=X),j.hasOwnProperty(Y="ROUNDING_MODE")&&(m(X=j[Y],0,8,Y),U=X),j.hasOwnProperty(Y="EXPONENTIAL_AT")&&((X=j[Y])&&X.pop?(m(X[0],-h,0,Y),m(X[1],0,h,Y),q=X[0],H=X[1]):(m(X,-h,h,Y),q=-(H=X<0?-X:X))),j.hasOwnProperty(Y="RANGE"))if((X=j[Y])&&X.pop)m(X[0],-h,-1,Y),m(X[1],1,h,Y),G=X[0],K=X[1];else{if(m(X,-h,h,Y),!X)throw Error(a+Y+" cannot be zero: "+X);G=-(K=X<0?-X:X)}if(j.hasOwnProperty(Y="CRYPTO")){if((X=j[Y])!==!!X)throw Error(a+Y+" not true or false: "+X);if(X){if(typeof crypto=="undefined"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Q=!X,Error(a+"crypto unavailable");Q=X}else Q=X}if(j.hasOwnProperty(Y="MODULO_MODE")&&(m(X=j[Y],0,9,Y),z=X),j.hasOwnProperty(Y="POW_PRECISION")&&(m(X=j[Y],0,h,Y),D=X),j.hasOwnProperty(Y="FORMAT")){if(typeof(X=j[Y])!="object")throw Error(a+Y+" not an object: "+X);F=X}if(j.hasOwnProperty(Y="ALPHABET")){if(typeof(X=j[Y])!="string"||/^.?$|[+\-.\s]|(.).*\1/.test(X))throw Error(a+Y+" invalid: "+X);I=X}}return{DECIMAL_PLACES:O,ROUNDING_MODE:U,EXPONENTIAL_AT:[q,H],RANGE:[G,K],CRYPTO:Q,MODULO_MODE:z,POW_PRECISION:D,FORMAT:F,ALPHABET:I}},P.isBigNumber=function(j){if(!j||j._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var Y,X,tt=j.c,rt=j.e,J=j.s;t:if({}.toString.call(tt)=="[object Array]"){if((J===1||J===-1)&&rt>=-h&&rt<=h&&rt===t(rt)){if(tt[0]===0){if(rt===0&&tt.length===1)return!0;break t}if((Y=(rt+1)%14)<1&&(Y+=14),String(tt[0]).length==Y){for(Y=0;Y<tt.length;Y++)if((X=tt[Y])<0||X>=e||X!==t(X))break t;if(X!==0)return!0}}}else if(tt===null&&rt===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+j)},P.maximum=P.max=function(){return $(arguments,C.lt)},P.minimum=P.min=function(){return $(arguments,C.gt)},P.random=(M=9007199254740992*Math.random()&2097151?function(){return t(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(j){var Y,X,tt,rt,J,Z=0,nt=[],it=new P(L);if(j==null?j=O:m(j,0,h),rt=c(j/14),Q)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(rt*=2));Z<rt;)(J=131072*Y[Z]+(Y[Z+1]>>>11))>=9e15?(X=crypto.getRandomValues(new Uint32Array(2)),Y[Z]=X[0],Y[Z+1]=X[1]):(nt.push(J%1e14),Z+=2);Z=rt/2}else{if(!crypto.randomBytes)throw Q=!1,Error(a+"crypto unavailable");for(Y=crypto.randomBytes(rt*=7);Z<rt;)(J=281474976710656*(31&Y[Z])+1099511627776*Y[Z+1]+4294967296*Y[Z+2]+16777216*Y[Z+3]+(Y[Z+4]<<16)+(Y[Z+5]<<8)+Y[Z+6])>=9e15?crypto.randomBytes(7).copy(Y,Z):(nt.push(J%1e14),Z+=7);Z=rt/7}if(!Q)for(;Z<rt;)(J=M())<9e15&&(nt[Z++]=J%1e14);for(j%=14,(rt=nt[--Z])&&j&&(J=n[14-j],nt[Z]=t(rt/J)*J);nt[Z]===0;nt.pop(),Z--);if(Z<0)nt=[tt=0];else{for(tt=-1;nt[0]===0;nt.splice(0,1),tt-=14);for(Z=1,J=nt[0];J>=10;J/=10,Z++);Z<14&&(tt-=14-Z)}return it.e=tt,it.c=nt,it}),P.sum=function(){for(var j=1,Y=arguments,X=new P(Y[0]);j<Y.length;)X=X.plus(Y[j++]);return X},R=function(){function j(Y,X,tt,rt){for(var J,Z,nt=[0],it=0,st=Y.length;it<st;){for(Z=nt.length;Z--;nt[Z]*=X);for(nt[0]+=rt.indexOf(Y.charAt(it++)),J=0;J<nt.length;J++)nt[J]>tt-1&&(nt[J+1]==null&&(nt[J+1]=0),nt[J+1]+=nt[J]/tt|0,nt[J]%=tt)}return nt.reverse()}return function(Y,X,tt,rt,J){var Z,nt,it,st,at,ct,ut,bt,ht=Y.indexOf("."),yt=O,Ct=U;for(ht>=0&&(st=D,D=0,Y=Y.replace(".",""),ct=(bt=new P(X)).pow(Y.length-ht),D=st,bt.c=j(k(d(ct.c),ct.e,"0"),10,tt,"0123456789"),bt.e=bt.c.length),it=st=(ut=j(Y,X,tt,J?(Z=I,"0123456789"):(Z="0123456789",I))).length;ut[--st]==0;ut.pop());if(!ut[0])return Z.charAt(0);if(ht<0?--it:(ct.c=ut,ct.e=it,ct.s=rt,ut=(ct=E(ct,bt,yt,Ct,tt)).c,at=ct.r,it=ct.e),ht=ut[nt=it+yt+1],st=tt/2,at=at||nt<0||ut[nt+1]!=null,at=Ct<4?(ht!=null||at)&&(Ct==0||Ct==(ct.s<0?3:2)):ht>st||ht==st&&(Ct==4||at||Ct==6&&1&ut[nt-1]||Ct==(ct.s<0?8:7)),nt<1||!ut[0])Y=at?k(Z.charAt(1),-yt,Z.charAt(0)):Z.charAt(0);else{if(ut.length=nt,at)for(--tt;++ut[--nt]>tt;)ut[nt]=0,nt||(++it,ut=[1].concat(ut));for(st=ut.length;!ut[--st];);for(ht=0,Y="";ht<=st;Y+=Z.charAt(ut[ht++]));Y=k(Y,it,Z.charAt(0))}return Y}}(),E=function(){function j(tt,rt,J){var Z,nt,it,st,at=0,ct=tt.length,ut=rt%1e7,bt=rt/1e7|0;for(tt=tt.slice();ct--;)at=((nt=ut*(it=tt[ct]%1e7)+(Z=bt*it+(st=tt[ct]/1e7|0)*ut)%1e7*1e7+at)/J|0)+(Z/1e7|0)+bt*st,tt[ct]=nt%J;return at&&(tt=[at].concat(tt)),tt}function Y(tt,rt,J,Z){var nt,it;if(J!=Z)it=J>Z?1:-1;else for(nt=it=0;nt<J;nt++)if(tt[nt]!=rt[nt]){it=tt[nt]>rt[nt]?1:-1;break}return it}function X(tt,rt,J,Z){for(var nt=0;J--;)tt[J]-=nt,nt=tt[J]<rt[J]?1:0,tt[J]=nt*Z+tt[J]-rt[J];for(;!tt[0]&&tt.length>1;tt.splice(0,1));}return function(tt,rt,J,Z,nt){var it,st,at,ct,ut,bt,ht,yt,Ct,ft,dt,Kt,Tt,Rt,jt,It,Bt,Vt=tt.s==rt.s?1:-1,pt=tt.c,lt=rt.c;if(!(pt&&pt[0]&&lt&&lt[0]))return new P(tt.s&&rt.s&&(pt?!lt||pt[0]!=lt[0]:lt)?pt&&pt[0]==0||!lt?0*Vt:Vt/0:NaN);for(Ct=(yt=new P(Vt)).c=[],Vt=J+(st=tt.e-rt.e)+1,nt||(nt=e,st=u(tt.e/14)-u(rt.e/14),Vt=Vt/14|0),at=0;lt[at]==(pt[at]||0);at++);if(lt[at]>(pt[at]||0)&&st--,Vt<0)Ct.push(1),ct=!0;else{for(Rt=pt.length,It=lt.length,at=0,Vt+=2,(ut=t(nt/(lt[0]+1)))>1&&(lt=j(lt,ut,nt),pt=j(pt,ut,nt),It=lt.length,Rt=pt.length),Tt=It,dt=(ft=pt.slice(0,It)).length;dt<It;ft[dt++]=0);Bt=lt.slice(),Bt=[0].concat(Bt),jt=lt[0],lt[1]>=nt/2&&jt++;do{if(ut=0,(it=Y(lt,ft,It,dt))<0){if(Kt=ft[0],It!=dt&&(Kt=Kt*nt+(ft[1]||0)),(ut=t(Kt/jt))>1)for(ut>=nt&&(ut=nt-1),ht=(bt=j(lt,ut,nt)).length,dt=ft.length;Y(bt,ft,ht,dt)==1;)ut--,X(bt,It<ht?Bt:lt,ht,nt),ht=bt.length,it=1;else ut==0&&(it=ut=1),ht=(bt=lt.slice()).length;if(ht<dt&&(bt=[0].concat(bt)),X(ft,bt,dt,nt),dt=ft.length,it==-1)for(;Y(lt,ft,It,dt)<1;)ut++,X(ft,It<dt?Bt:lt,dt,nt),dt=ft.length}else it===0&&(ut++,ft=[0]);Ct[at++]=ut,ft[0]?ft[dt++]=pt[Tt]||0:(ft=[pt[Tt]],dt=1)}while((Tt++<Rt||ft[0]!=null)&&Vt--);ct=ft[0]!=null,Ct[0]||Ct.splice(0,1)}if(nt==e){for(at=1,Vt=Ct[0];Vt>=10;Vt/=10,at++);et(yt,J+(yt.e=at+14*st-1)+1,Z,ct)}else yt.e=st,yt.r=+ct;return yt}}(),y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,p=/^([^.]+)\.$/,w=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(j,Y,X,tt){var rt,J=X?Y:Y.replace(_,"");if(v.test(J))j.s=isNaN(J)?null:J<0?-1:1;else{if(!X&&(J=J.replace(y,function(Z,nt,it){return rt=(it=it.toLowerCase())=="x"?16:it=="b"?2:8,tt&&tt!=rt?Z:nt}),tt&&(rt=tt,J=J.replace(p,"$1").replace(w,"0.$1")),Y!=J))return new P(J,rt);if(P.DEBUG)throw Error(a+"Not a"+(tt?" base "+tt:"")+" number: "+Y);j.s=null}j.c=j.e=null},C.absoluteValue=C.abs=function(){var j=new P(this);return j.s<0&&(j.s=1),j},C.comparedTo=function(j,Y){return l(this,new P(j,Y))},C.decimalPlaces=C.dp=function(j,Y){var X,tt,rt,J=this;if(j!=null)return m(j,0,h),Y==null?Y=U:m(Y,0,8),et(new P(J),j+J.e+1,Y);if(!(X=J.c))return null;if(tt=14*((rt=X.length-1)-u(this.e/14)),rt=X[rt])for(;rt%10==0;rt/=10,tt--);return tt<0&&(tt=0),tt},C.dividedBy=C.div=function(j,Y){return E(this,new P(j,Y),O,U)},C.dividedToIntegerBy=C.idiv=function(j,Y){return E(this,new P(j,Y),0,1)},C.exponentiatedBy=C.pow=function(j,Y){var X,tt,rt,J,Z,nt,it,st,at=this;if((j=new P(j)).c&&!j.isInteger())throw Error(a+"Exponent not an integer: "+ot(j));if(Y!=null&&(Y=new P(Y)),Z=j.e>14,!at.c||!at.c[0]||at.c[0]==1&&!at.e&&at.c.length==1||!j.c||!j.c[0])return st=new P(Math.pow(+ot(at),Z?2-A(j):+ot(j))),Y?st.mod(Y):st;if(nt=j.s<0,Y){if(Y.c?!Y.c[0]:!Y.s)return new P(NaN);(tt=!nt&&at.isInteger()&&Y.isInteger())&&(at=at.mod(Y))}else{if(j.e>9&&(at.e>0||at.e<-1||(at.e==0?at.c[0]>1||Z&&at.c[1]>=24e7:at.c[0]<8e13||Z&&at.c[0]<=9999975e7)))return J=(at.s<0&&A(j),-0),at.e>-1&&(J=1/J),new P(nt?1/J:J);D&&(J=c(D/14+2))}for(Z?(X=new P(.5),nt&&(j.s=1),it=A(j)):it=(rt=Math.abs(+ot(j)))%2,st=new P(L);;){if(it){if(!(st=st.times(at)).c)break;J?st.c.length>J&&(st.c.length=J):tt&&(st=st.mod(Y))}if(rt){if((rt=t(rt/2))===0)break;it=rt%2}else if(et(j=j.times(X),j.e+1,1),j.e>14)it=A(j);else{if((rt=+ot(j))===0)break;it=rt%2}at=at.times(at),J?at.c&&at.c.length>J&&(at.c.length=J):tt&&(at=at.mod(Y))}return tt?st:(nt&&(st=L.div(st)),Y?st.mod(Y):J?et(st,D,U,void 0):st)},C.integerValue=function(j){var Y=new P(this);return j==null?j=U:m(j,0,8),et(Y,Y.e+1,j)},C.isEqualTo=C.eq=function(j,Y){return l(this,new P(j,Y))===0},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(j,Y){return l(this,new P(j,Y))>0},C.isGreaterThanOrEqualTo=C.gte=function(j,Y){return(Y=l(this,new P(j,Y)))===1||Y===0},C.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},C.isLessThan=C.lt=function(j,Y){return l(this,new P(j,Y))<0},C.isLessThanOrEqualTo=C.lte=function(j,Y){return(Y=l(this,new P(j,Y)))===-1||Y===0},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&this.c[0]==0},C.minus=function(j,Y){var X,tt,rt,J,Z=this,nt=Z.s;if(Y=(j=new P(j,Y)).s,!nt||!Y)return new P(NaN);if(nt!=Y)return j.s=-Y,Z.plus(j);var it=Z.e/14,st=j.e/14,at=Z.c,ct=j.c;if(!it||!st){if(!at||!ct)return at?(j.s=-Y,j):new P(ct?Z:NaN);if(!at[0]||!ct[0])return ct[0]?(j.s=-Y,j):new P(at[0]?Z:(U==3,-0))}if(it=u(it),st=u(st),at=at.slice(),nt=it-st){for((J=nt<0)?(nt=-nt,rt=at):(st=it,rt=ct),rt.reverse(),Y=nt;Y--;rt.push(0));rt.reverse()}else for(tt=(J=(nt=at.length)<(Y=ct.length))?nt:Y,nt=Y=0;Y<tt;Y++)if(at[Y]!=ct[Y]){J=at[Y]<ct[Y];break}if(J&&(rt=at,at=ct,ct=rt,j.s=-j.s),(Y=(tt=ct.length)-(X=at.length))>0)for(;Y--;at[X++]=0);for(Y=e-1;tt>nt;){if(at[--tt]<ct[tt]){for(X=tt;X&&!at[--X];at[X]=Y);--at[X],at[tt]+=e}at[tt]-=ct[tt]}for(;at[0]==0;at.splice(0,1),--st);return at[0]?W(j,at,st):(j.s=U==3?-1:1,j.c=[j.e=0],j)},C.modulo=C.mod=function(j,Y){var X,tt,rt=this;return j=new P(j,Y),!rt.c||!j.s||j.c&&!j.c[0]?new P(NaN):!j.c||rt.c&&!rt.c[0]?new P(rt):(z==9?(tt=j.s,j.s=1,X=E(rt,j,0,3),j.s=tt,X.s*=tt):X=E(rt,j,0,z),(j=rt.minus(X.times(j))).c[0]||z!=1||(j.s=rt.s),j)},C.multipliedBy=C.times=function(j,Y){var X,tt,rt,J,Z,nt,it,st,at,ct,ut,bt,ht,yt,Ct=this,ft=Ct.c,dt=(j=new P(j,Y)).c;if(!(ft&&dt&&ft[0]&&dt[0]))return!Ct.s||!j.s||ft&&!ft[0]&&!dt||dt&&!dt[0]&&!ft?j.c=j.e=j.s=null:(j.s*=Ct.s,ft&&dt?(j.c=[0],j.e=0):j.c=j.e=null),j;for(tt=u(Ct.e/14)+u(j.e/14),j.s*=Ct.s,(it=ft.length)<(ct=dt.length)&&(ht=ft,ft=dt,dt=ht,rt=it,it=ct,ct=rt),rt=it+ct,ht=[];rt--;ht.push(0));for(yt=e,rt=ct;--rt>=0;){for(X=0,ut=dt[rt]%1e7,bt=dt[rt]/1e7|0,J=rt+(Z=it);J>rt;)X=((st=ut*(st=ft[--Z]%1e7)+(nt=bt*st+(at=ft[Z]/1e7|0)*ut)%1e7*1e7+ht[J]+X)/yt|0)+(nt/1e7|0)+bt*at,ht[J--]=st%yt;ht[J]=X}return X?++tt:ht.splice(0,1),W(j,ht,tt)},C.negated=function(){var j=new P(this);return j.s=-j.s||null,j},C.plus=function(j,Y){var X,tt=this,rt=tt.s;if(Y=(j=new P(j,Y)).s,!rt||!Y)return new P(NaN);if(rt!=Y)return j.s=-Y,tt.minus(j);var J=tt.e/14,Z=j.e/14,nt=tt.c,it=j.c;if(!J||!Z){if(!nt||!it)return new P(rt/0);if(!nt[0]||!it[0])return it[0]?j:new P(nt[0]?tt:0*rt)}if(J=u(J),Z=u(Z),nt=nt.slice(),rt=J-Z){for(rt>0?(Z=J,X=it):(rt=-rt,X=nt),X.reverse();rt--;X.push(0));X.reverse()}for((rt=nt.length)-(Y=it.length)<0&&(X=it,it=nt,nt=X,Y=rt),rt=0;Y;)rt=(nt[--Y]=nt[Y]+it[Y]+rt)/e|0,nt[Y]=e===nt[Y]?0:nt[Y]%e;return rt&&(nt=[rt].concat(nt),++Z),W(j,nt,Z)},C.precision=C.sd=function(j,Y){var X,tt,rt,J=this;if(j!=null&&j!==!!j)return m(j,1,h),Y==null?Y=U:m(Y,0,8),et(new P(J),j,Y);if(!(X=J.c))return null;if(tt=14*(rt=X.length-1)+1,rt=X[rt]){for(;rt%10==0;rt/=10,tt--);for(rt=X[0];rt>=10;rt/=10,tt++);}return j&&J.e+1>tt&&(tt=J.e+1),tt},C.shiftedBy=function(j){return m(j,-9007199254740991,9007199254740991),this.times("1e"+j)},C.squareRoot=C.sqrt=function(){var j,Y,X,tt,rt,J=this,Z=J.c,nt=J.s,it=J.e,st=O+4,at=new P("0.5");if(nt!==1||!Z||!Z[0])return new P(!nt||nt<0&&(!Z||Z[0])?NaN:Z?J:1/0);if((nt=Math.sqrt(+ot(J)))==0||nt==1/0?(((Y=d(Z)).length+it)%2==0&&(Y+="0"),nt=Math.sqrt(+Y),it=u((it+1)/2)-(it<0||it%2),X=new P(Y=nt==1/0?"5e"+it:(Y=nt.toExponential()).slice(0,Y.indexOf("e")+1)+it)):X=new P(nt+""),X.c[0]){for((nt=(it=X.e)+st)<3&&(nt=0);;)if(rt=X,X=at.times(rt.plus(E(J,rt,st,1))),d(rt.c).slice(0,nt)===(Y=d(X.c)).slice(0,nt)){if(X.e<it&&--nt,(Y=Y.slice(nt-3,nt+1))!="9999"&&(tt||Y!="4999")){+Y&&(+Y.slice(1)||Y.charAt(0)!="5")||(et(X,X.e+O+2,1),j=!X.times(X).eq(J));break}if(!tt&&(et(rt,rt.e+O+2,0),rt.times(rt).eq(J))){X=rt;break}st+=4,nt+=4,tt=1}}return et(X,X.e+O+1,U,j)},C.toExponential=function(j,Y){return j!=null&&(m(j,0,h),j++),V(this,j,Y,1)},C.toFixed=function(j,Y){return j!=null&&(m(j,0,h),j=j+this.e+1),V(this,j,Y)},C.toFormat=function(j,Y,X){var tt,rt=this;if(X==null)j!=null&&Y&&typeof Y=="object"?(X=Y,Y=null):j&&typeof j=="object"?(X=j,j=Y=null):X=F;else if(typeof X!="object")throw Error(a+"Argument not an object: "+X);if(tt=rt.toFixed(j,Y),rt.c){var J,Z=tt.split("."),nt=+X.groupSize,it=+X.secondaryGroupSize,st=X.groupSeparator||"",at=Z[0],ct=Z[1],ut=rt.s<0,bt=ut?at.slice(1):at,ht=bt.length;if(it&&(J=nt,nt=it,it=J,ht-=J),nt>0&&ht>0){for(J=ht%nt||nt,at=bt.substr(0,J);J<ht;J+=nt)at+=st+bt.substr(J,nt);it>0&&(at+=st+bt.slice(J)),ut&&(at="-"+at)}tt=ct?at+(X.decimalSeparator||"")+((it=+X.fractionGroupSize)?ct.replace(new RegExp("\\d{"+it+"}\\B","g"),"$&"+(X.fractionGroupSeparator||"")):ct):at}return(X.prefix||"")+tt+(X.suffix||"")},C.toFraction=function(j){var Y,X,tt,rt,J,Z,nt,it,st,at,ct,ut,bt=this,ht=bt.c;if(j!=null&&(!(nt=new P(j)).isInteger()&&(nt.c||nt.s!==1)||nt.lt(L)))throw Error(a+"Argument "+(nt.isInteger()?"out of range: ":"not an integer: ")+ot(nt));if(!ht)return new P(bt);for(Y=new P(L),st=X=new P(L),tt=it=new P(L),ut=d(ht),J=Y.e=ut.length-bt.e-1,Y.c[0]=n[(Z=J%14)<0?14+Z:Z],j=!j||nt.comparedTo(Y)>0?J>0?Y:st:nt,Z=K,K=1/0,nt=new P(ut),it.c[0]=0;at=E(nt,Y,0,1),(rt=X.plus(at.times(tt))).comparedTo(j)!=1;)X=tt,tt=rt,st=it.plus(at.times(rt=st)),it=rt,Y=nt.minus(at.times(rt=Y)),nt=rt;return rt=E(j.minus(X),tt,0,1),it=it.plus(rt.times(st)),X=X.plus(rt.times(tt)),it.s=st.s=bt.s,ct=E(st,tt,J*=2,U).minus(bt).abs().comparedTo(E(it,X,J,U).minus(bt).abs())<1?[st,tt]:[it,X],K=Z,ct},C.toNumber=function(){return+ot(this)},C.toPrecision=function(j,Y){return j!=null&&m(j,1,h),V(this,j,Y,2)},C.toString=function(j){var Y,X=this,tt=X.s,rt=X.e;return rt===null?tt?(Y="Infinity",tt<0&&(Y="-"+Y)):Y="NaN":(j==null?Y=rt<=q||rt>=H?B(d(X.c),rt):k(d(X.c),rt,"0"):j===10?Y=k(d((X=et(new P(X),O+rt+1,U)).c),X.e,"0"):(m(j,2,I.length,"Base"),Y=R(k(d(X.c),rt,"0"),10,j,tt,!0)),tt<0&&X.c[0]&&(Y="-"+Y)),Y},C.valueOf=C.toJSON=function(){return ot(this)},C._isBigNumber=!0,g!=null&&P.set(g),P}()).default=i.BigNumber=i,(s=function(){return i}.call(x,b,x,N))===void 0||(N.exports=s)}()},function(N,x,b){const{nanoid:s}=b(89),r=b(24),{utf8Encoder:i,utf8Decoder:f}=b(54),c=b(91),t=i.encode("/"),a=t[0];class o{constructor(n,h){if(typeof n=="string")this._buf=i.encode(n);else{if(!(n instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=n}if(h==null&&(h=!0),h&&this.clean(),this._buf.byteLength===0||this._buf[0]!==a)throw new Error("Invalid key")}toString(n="utf8"){return n==="utf8"||n==="utf-8"?f.decode(this._buf):new c(n).decode(this._buf)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(n){return new e(n.join("/"))}static random(){return new e(s().replace(/-/g,""))}clean(){if(this._buf&&this._buf.byteLength!==0||(this._buf=t),this._buf[0]!==a){const n=new Uint8Array(this._buf.byteLength+1);n.fill(a,0,1),n.set(this._buf,1),this._buf=n}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===a;)this._buf=this._buf.subarray(0,-1)}less(n){const h=this.list(),u=n.list();for(let d=0;d<h.length;d++){if(u.length<d+1)return!1;const l=h[d],m=u[d];if(l<m)return!0;if(l>m)return!1}return h.length<u.length}reverse(){return o.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const n=this.namespaces();return n[n.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(n){const h=n.split(":");return h.length<2?"":h.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(n){const h=n.split(":");return h[h.length-1]}(this.baseNamespace())}instance(n){return new e(this.toString()+":"+n)}path(){let n=this.parent().toString();return n.endsWith("/")||(n+="/"),n+=this.type(),new e(n)}parent(){const n=this.list();return n.length===1?new e("/"):new e(n.slice(0,-1).join("/"))}child(n){return this.toString()==="/"?n:n.toString()==="/"?this:new e(this.toString()+n.toString(),!1)}isAncestorOf(n){return n.toString()!==this.toString()&&n.toString().startsWith(this.toString())}isDecendantOf(n){return n.toString()!==this.toString()&&this.toString().startsWith(n.toString())}isTopLevel(){return this.list().length===1}concat(...n){return o.withNamespaces([...this.namespaces(),...(h=n.map(u=>u.namespaces()),[].concat(...h))]);var h}}const e=r(o,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});N.exports=e},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"urlAlphabet",{enumerable:!0,get:function(){return s.urlAlphabet}}),x.random=x.customRandom=x.customAlphabet=x.nanoid=void 0;var s=b(159);let r=f=>crypto.getRandomValues(new Uint8Array(f));x.random=r;let i=(f,c,t)=>{let a=(2<<Math.log(f.length-1)/Math.LN2)-1,o=-~(1.6*a*c/f.length);return()=>{let e="";for(;;){let n=t(o),h=o;for(;h--;)if(e+=f[n[h]&a]||"",e.length===c)return e}}};x.customRandom=i,x.customAlphabet=(f,c)=>i(f,c,r),x.nanoid=(f=21)=>{let c="",t=crypto.getRandomValues(new Uint8Array(f));for(;f--;){let a=63&t[f];c+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return c}},function(N,x,b){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),N.exports=globalThis},function(N,x,b){N.exports=b(90).TextDecoder},function(N,x,b){const{filter:s,sortAll:r,take:i,map:f}=b(54),c=b(163);N.exports=class{async open(){}async close(){}async put(t,a,o={}){}async*putMany(t,a={}){for await(const{key:o,value:e}of t)await this.put(o,e,a),yield{key:o,value:e}}async get(t,a={}){}async*getMany(t,a={}){for await(const o of t)yield this.get(o,a)}async has(t){}async delete(t,a={}){}async*deleteMany(t,a={}){for await(const o of t)await this.delete(o,a),yield o}batch(){let t=[],a=[];return{put(o,e){t.push({key:o,value:e})},delete(o){a.push(o)},commit:async o=>{await c(this.putMany(t,o)),t=[],await c(this.deleteMany(a,o)),a=[]}}}async*_all(t,a){}async*query(t,a){let o=this._all(t,a);if(t.prefix!=null&&(o=s(o,e=>e.key.toString().startsWith(t.prefix))),Array.isArray(t.filters)&&(o=t.filters.reduce((e,n)=>s(e,n),o)),Array.isArray(t.orders)&&(o=t.orders.reduce((e,n)=>r(e,n),o)),t.offset!=null){let e=0;o=s(o,()=>e++>=t.offset)}t.limit!=null&&(o=i(o,t.limit)),t.keysOnly===!0&&(o=f(o,e=>({key:e.key}))),yield*o}}},function(N,x,b){const s=b(0);N.exports.dbOpenFailedError=r=>(r=r||new Error("Cannot open database"),s(r,"ERR_DB_OPEN_FAILED")),N.exports.dbDeleteFailedError=r=>(r=r||new Error("Delete failed"),s(r,"ERR_DB_DELETE_FAILED")),N.exports.dbWriteFailedError=r=>(r=r||new Error("Write failed"),s(r,"ERR_DB_WRITE_FAILED")),N.exports.notFoundError=r=>(r=r||new Error("Not Found"),s(r,"ERR_NOT_FOUND")),N.exports.abortedError=r=>(r=r||new Error("Aborted"),s(r,"ERR_ABORTED"))},function(N,x,b){N.exports=s=>{if(Object.prototype.toString.call(s)!=="[object Object]")return!1;const r=Object.getPrototypeOf(s);return r===null||r===Object.prototype}},function(N,x,b){x.AbstractLevelDOWN=b(187),x.AbstractIterator=b(96),x.AbstractChainedBatch=b(97)},function(N,x,b){var s=b(58);function r(i){if(typeof i!="object"||i===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=i,this._ended=!1,this._nexting=!1}r.prototype.next=function(i){var f=this;if(typeof i!="function")throw new Error("next() requires a callback argument");return f._ended?(s(i,new Error("cannot call next() after end()")),f):f._nexting?(s(i,new Error("cannot call next() before previous next() has completed")),f):(f._nexting=!0,f._next(function(){f._nexting=!1,i.apply(null,arguments)}),f)},r.prototype._next=function(i){s(i)},r.prototype.seek=function(i){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");i=this.db._serializeKey(i),this._seek(i)},r.prototype._seek=function(i){},r.prototype.end=function(i){if(typeof i!="function")throw new Error("end() requires a callback argument");if(this._ended)return s(i,new Error("end() already called on iterator"));this._ended=!0,this._end(i)},r.prototype._end=function(i){s(i)},r.prototype._nextTick=s,N.exports=r},function(N,x,b){var s=b(58);function r(i){if(typeof i!="object"||i===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=i,this._operations=[],this._written=!1}r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(i,f){this._checkWritten();var c=this.db._checkKey(i)||this.db._checkValue(f);if(c)throw c;return i=this.db._serializeKey(i),f=this.db._serializeValue(f),this._put(i,f),this},r.prototype._put=function(i,f){this._operations.push({type:"put",key:i,value:f})},r.prototype.del=function(i){this._checkWritten();var f=this.db._checkKey(i);if(f)throw f;return i=this.db._serializeKey(i),this._del(i),this},r.prototype._del=function(i){this._operations.push({type:"del",key:i})},r.prototype.clear=function(){return this._checkWritten(),this._clear(),this},r.prototype._clear=function(){this._operations=[]},r.prototype.write=function(i,f){if(this._checkWritten(),typeof i=="function"&&(f=i),typeof f!="function")throw new Error("write() requires a callback argument");typeof i=="object"&&i!==null||(i={}),this._written=!0,this._write(i,f)},r.prototype._write=function(i,f){this.db._batch(this._operations,i,f)},r.prototype._nextTick=s,N.exports=r},function(N,x,b){(function(s,r){var i;N.exports=M,M.ReadableState=S,b(16).EventEmitter;var f=function(D,F){return D.listeners(F).length},c=b(99),t=b(4).Buffer,a=s.Uint8Array||function(){},o,e=b(202);o=e&&e.debuglog?e.debuglog("stream"):function(){};var n,h,u,d=b(203),l=b(100),m=b(101).getHighWaterMark,A=b(30).codes,B=A.ERR_INVALID_ARG_TYPE,k=A.ERR_STREAM_PUSH_AFTER_EOF,T=A.ERR_METHOD_NOT_IMPLEMENTED,g=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;b(12)(M,c);var E=l.errorOrDestroy,R=["error","close","destroy","pause","resume"];function S(D,F,I){i=i||b(31),D=D||{},typeof I!="boolean"&&(I=F instanceof i),this.objectMode=!!D.objectMode,I&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=m(this,D,"readableHighWaterMark",I),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(n||(n=b(103).StringDecoder),this.decoder=new n(D.encoding),this.encoding=D.encoding)}function M(D){if(i=i||b(31),!(this instanceof M))return new M(D);var F=this instanceof i;this._readableState=new S(D,this,F),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),c.call(this)}function y(D,F,I,P,V){o("readableAddChunk",F);var $,W=D._readableState;if(F===null)W.reading=!1,function(et,ot){if(o("onEofChunk"),ot.ended)return;if(ot.decoder){var j=ot.decoder.end();j&&j.length&&(ot.buffer.push(j),ot.length+=ot.objectMode?1:j.length)}ot.ended=!0,ot.sync?v(et):(ot.needReadable=!1,ot.emittedReadable||(ot.emittedReadable=!0,_(et)))}(D,W);else if(V||($=function(et,ot){var j;Y=ot,t.isBuffer(Y)||Y instanceof a||typeof ot=="string"||ot===void 0||et.objectMode||(j=new B("chunk",["string","Buffer","Uint8Array"],ot));var Y;return j}(W,F)),$)E(D,$);else if(W.objectMode||F&&F.length>0)if(typeof F=="string"||W.objectMode||Object.getPrototypeOf(F)===t.prototype||(F=function(et){return t.from(et)}(F)),P)W.endEmitted?E(D,new g):p(D,W,F,!0);else if(W.ended)E(D,new k);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!I?(F=W.decoder.write(F),W.objectMode||F.length!==0?p(D,W,F,!1):C(D,W)):p(D,W,F,!1)}else P||(W.reading=!1,C(D,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function p(D,F,I,P){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,D.emit("data",I)):(F.length+=F.objectMode?1:I.length,P?F.buffer.unshift(I):F.buffer.push(I),F.needReadable&&v(D)),C(D,F)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),M.prototype.destroy=l.destroy,M.prototype._undestroy=l.undestroy,M.prototype._destroy=function(D,F){F(D)},M.prototype.push=function(D,F){var I,P=this._readableState;return P.objectMode?I=!0:typeof D=="string"&&((F=F||P.defaultEncoding)!==P.encoding&&(D=t.from(D,F),F=""),I=!0),y(this,D,F,!1,I)},M.prototype.unshift=function(D){return y(this,D,null,!0,!1)},M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(D){n||(n=b(103).StringDecoder);var F=new n(D);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var I=this._readableState.buffer.head,P="";I!==null;)P+=F.write(I.data),I=I.next;return this._readableState.buffer.clear(),P!==""&&this._readableState.buffer.push(P),this._readableState.length=P.length,this};function w(D,F){return D<=0||F.length===0&&F.ended?0:F.objectMode?1:D!=D?F.flowing&&F.length?F.buffer.head.data.length:F.length:(D>F.highWaterMark&&(F.highWaterMark=function(I){return I>=1073741824?I=1073741824:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}(D)),D<=F.length?D:F.ended?F.length:(F.needReadable=!0,0))}function v(D){var F=D._readableState;o("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(o("emitReadable",F.flowing),F.emittedReadable=!0,r.nextTick(_,D))}function _(D){var F=D._readableState;o("emitReadable_",F.destroyed,F.length,F.ended),F.destroyed||!F.length&&!F.ended||(D.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,H(D)}function C(D,F){F.readingMore||(F.readingMore=!0,r.nextTick(L,D,F))}function L(D,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var I=F.length;if(o("maybeReadMore read 0"),D.read(0),I===F.length)break}F.readingMore=!1}function O(D){var F=D._readableState;F.readableListening=D.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:D.listenerCount("data")>0&&D.resume()}function U(D){o("readable nexttick read 0"),D.read(0)}function q(D,F){o("resume",F.reading),F.reading||D.read(0),F.resumeScheduled=!1,D.emit("resume"),H(D),F.flowing&&!F.reading&&D.read(0)}function H(D){var F=D._readableState;for(o("flow",F.flowing);F.flowing&&D.read()!==null;);}function G(D,F){return F.length===0?null:(F.objectMode?I=F.buffer.shift():!D||D>=F.length?(I=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):I=F.buffer.consume(D,F.decoder),I);var I}function K(D){var F=D._readableState;o("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,r.nextTick(Q,F,D))}function Q(D,F){if(o("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,F.readable=!1,F.emit("end"),D.autoDestroy)){var I=F._writableState;(!I||I.autoDestroy&&I.finished)&&F.destroy()}}function z(D,F){for(var I=0,P=D.length;I<P;I++)if(D[I]===F)return I;return-1}M.prototype.read=function(D){o("read",D),D=parseInt(D,10);var F=this._readableState,I=D;if(D!==0&&(F.emittedReadable=!1),D===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return o("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?K(this):v(this),null;if((D=w(D,F))===0&&F.ended)return F.length===0&&K(this),null;var P,V=F.needReadable;return o("need readable",V),(F.length===0||F.length-D<F.highWaterMark)&&o("length less than watermark",V=!0),F.ended||F.reading?o("reading or ended",V=!1):V&&(o("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(D=w(I,F))),(P=D>0?G(D,F):null)===null?(F.needReadable=F.length<=F.highWaterMark,D=0):(F.length-=D,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),I!==D&&F.ended&&K(this)),P!==null&&this.emit("data",P),P},M.prototype._read=function(D){E(this,new T("_read()"))},M.prototype.pipe=function(D,F){var I=this,P=this._readableState;switch(P.pipesCount){case 0:P.pipes=D;break;case 1:P.pipes=[P.pipes,D];break;default:P.pipes.push(D)}P.pipesCount+=1,o("pipe count=%d opts=%j",P.pipesCount,F);var V=(!F||F.end!==!1)&&D!==r.stdout&&D!==r.stderr?W:rt;function $(J,Z){o("onunpipe"),J===I&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,o("cleanup"),D.removeListener("close",X),D.removeListener("finish",tt),D.removeListener("drain",et),D.removeListener("error",Y),D.removeListener("unpipe",$),I.removeListener("end",W),I.removeListener("end",rt),I.removeListener("data",j),ot=!0,!P.awaitDrain||D._writableState&&!D._writableState.needDrain||et())}function W(){o("onend"),D.end()}P.endEmitted?r.nextTick(V):I.once("end",V),D.on("unpipe",$);var et=function(J){return function(){var Z=J._readableState;o("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&f(J,"data")&&(Z.flowing=!0,H(J))}}(I);D.on("drain",et);var ot=!1;function j(J){o("ondata");var Z=D.write(J);o("dest.write",Z),Z===!1&&((P.pipesCount===1&&P.pipes===D||P.pipesCount>1&&z(P.pipes,D)!==-1)&&!ot&&(o("false write response, pause",P.awaitDrain),P.awaitDrain++),I.pause())}function Y(J){o("onerror",J),rt(),D.removeListener("error",Y),f(D,"error")===0&&E(D,J)}function X(){D.removeListener("finish",tt),rt()}function tt(){o("onfinish"),D.removeListener("close",X),rt()}function rt(){o("unpipe"),I.unpipe(D)}return I.on("data",j),function(J,Z,nt){if(typeof J.prependListener=="function")return J.prependListener(Z,nt);J._events&&J._events[Z]?Array.isArray(J._events[Z])?J._events[Z].unshift(nt):J._events[Z]=[nt,J._events[Z]]:J.on(Z,nt)}(D,"error",Y),D.once("close",X),D.once("finish",tt),D.emit("pipe",I),P.flowing||(o("pipe resume"),I.resume()),D},M.prototype.unpipe=function(D){var F=this._readableState,I={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return D&&D!==F.pipes||(D||(D=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,D&&D.emit("unpipe",this,I)),this;if(!D){var P=F.pipes,V=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var $=0;$<V;$++)P[$].emit("unpipe",this,{hasUnpiped:!1});return this}var W=z(F.pipes,D);return W===-1||(F.pipes.splice(W,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),D.emit("unpipe",this,I)),this},M.prototype.on=function(D,F){var I=c.prototype.on.call(this,D,F),P=this._readableState;return D==="data"?(P.readableListening=this.listenerCount("readable")>0,P.flowing!==!1&&this.resume()):D==="readable"&&(P.endEmitted||P.readableListening||(P.readableListening=P.needReadable=!0,P.flowing=!1,P.emittedReadable=!1,o("on readable",P.length,P.reading),P.length?v(this):P.reading||r.nextTick(U,this))),I},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(D,F){var I=c.prototype.removeListener.call(this,D,F);return D==="readable"&&r.nextTick(O,this),I},M.prototype.removeAllListeners=function(D){var F=c.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||r.nextTick(O,this),F},M.prototype.resume=function(){var D=this._readableState;return D.flowing||(o("resume"),D.flowing=!D.readableListening,function(F,I){I.resumeScheduled||(I.resumeScheduled=!0,r.nextTick(q,F,I))}(this,D)),D.paused=!1,this},M.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(D){var F=this,I=this._readableState,P=!1;for(var V in D.on("end",function(){if(o("wrapped end"),I.decoder&&!I.ended){var W=I.decoder.end();W&&W.length&&F.push(W)}F.push(null)}),D.on("data",function(W){(o("wrapped data"),I.decoder&&(W=I.decoder.write(W)),I.objectMode&&W==null)||(I.objectMode||W&&W.length)&&(F.push(W)||(P=!0,D.pause()))}),D)this[V]===void 0&&typeof D[V]=="function"&&(this[V]=function(W){return function(){return D[W].apply(D,arguments)}}(V));for(var $=0;$<R.length;$++)D.on(R[$],this.emit.bind(this,R[$]));return this._read=function(W){o("wrapped _read",W),P&&(P=!1,D.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return h===void 0&&(h=b(207)),h(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),M._fromList=G,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(M.from=function(D,F){return u===void 0&&(u=b(208)),u(M,D,F)})}).call(this,b(7),b(11))},function(N,x,b){N.exports=b(16).EventEmitter},function(N,x,b){(function(s){function r(c,t){f(c,t),i(c)}function i(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function f(c,t){c.emit("error",t)}N.exports={destroy:function(c,t){var a=this,o=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return o||e?(t?t(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(f,this,c)):s.nextTick(f,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(n){!t&&n?a._writableState?a._writableState.errorEmitted?s.nextTick(i,a):(a._writableState.errorEmitted=!0,s.nextTick(r,a,n)):s.nextTick(r,a,n):t?(s.nextTick(i,a),t(n)):s.nextTick(i,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,t){var a=c._readableState,o=c._writableState;a&&a.autoDestroy||o&&o.autoDestroy?c.destroy(t):c.emit("error",t)}}}).call(this,b(11))},function(N,x,b){var s=b(30).codes.ERR_INVALID_OPT_VALUE;N.exports={getHighWaterMark:function(r,i,f,c){var t=function(a,o,e){return a.highWaterMark!=null?a.highWaterMark:o?a[e]:null}(i,c,f);if(t!=null){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new s(c?f:"highWaterMark",t);return Math.floor(t)}return r.objectMode?16:16384}}},function(N,x,b){(function(s,r){function i(L){var O=this;this.next=null,this.entry=null,this.finish=function(){!function(U,q,H){var G=U.entry;for(U.entry=null;G;){var K=G.callback;q.pendingcb--,K(H),G=G.next}q.corkedRequestsFree.next=U}(O,L)}}var f;N.exports=M,M.WritableState=S;var c={deprecate:b(205)},t=b(99),a=b(4).Buffer,o=s.Uint8Array||function(){},e,n=b(100),h=b(101).getHighWaterMark,u=b(30).codes,d=u.ERR_INVALID_ARG_TYPE,l=u.ERR_METHOD_NOT_IMPLEMENTED,m=u.ERR_MULTIPLE_CALLBACK,A=u.ERR_STREAM_CANNOT_PIPE,B=u.ERR_STREAM_DESTROYED,k=u.ERR_STREAM_NULL_VALUES,T=u.ERR_STREAM_WRITE_AFTER_END,g=u.ERR_UNKNOWN_ENCODING,E=n.errorOrDestroy;function R(){}function S(L,O,U){f=f||b(31),L=L||{},typeof U!="boolean"&&(U=O instanceof f),this.objectMode=!!L.objectMode,U&&(this.objectMode=this.objectMode||!!L.writableObjectMode),this.highWaterMark=h(this,L,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=L.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){!function(G,K){var Q=G._writableState,z=Q.sync,D=Q.writecb;if(typeof D!="function")throw new m;if(function(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}(Q),K)!function(I,P,V,$,W){--P.pendingcb,V?(r.nextTick(W,$),r.nextTick(C,I,P),I._writableState.errorEmitted=!0,E(I,$)):(W($),I._writableState.errorEmitted=!0,E(I,$),C(I,P))}(G,Q,z,K,D);else{var F=v(Q)||G.destroyed;F||Q.corked||Q.bufferProcessing||!Q.bufferedRequest||w(G,Q),z?r.nextTick(p,G,Q,F,D):p(G,Q,F,D)}}(O,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function M(L){var O=this instanceof(f=f||b(31));if(!O&&!e.call(M,this))return new M(L);this._writableState=new S(L,this,O),this.writable=!0,L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final)),t.call(this)}function y(L,O,U,q,H,G,K){O.writelen=q,O.writecb=K,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new B("write")):U?L._writev(H,O.onwrite):L._write(H,G,O.onwrite),O.sync=!1}function p(L,O,U,q){U||function(H,G){G.length===0&&G.needDrain&&(G.needDrain=!1,H.emit("drain"))}(L,O),O.pendingcb--,q(),C(L,O)}function w(L,O){O.bufferProcessing=!0;var U=O.bufferedRequest;if(L._writev&&U&&U.next){var q=O.bufferedRequestCount,H=new Array(q),G=O.corkedRequestsFree;G.entry=U;for(var K=0,Q=!0;U;)H[K]=U,U.isBuf||(Q=!1),U=U.next,K+=1;H.allBuffers=Q,y(L,O,!0,O.length,H,"",G.finish),O.pendingcb++,O.lastBufferedRequest=null,G.next?(O.corkedRequestsFree=G.next,G.next=null):O.corkedRequestsFree=new i(O),O.bufferedRequestCount=0}else{for(;U;){var z=U.chunk,D=U.encoding,F=U.callback;if(y(L,O,!1,O.objectMode?1:z.length,z,D,F),U=U.next,O.bufferedRequestCount--,O.writing)break}U===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=U,O.bufferProcessing=!1}function v(L){return L.ending&&L.length===0&&L.bufferedRequest===null&&!L.finished&&!L.writing}function _(L,O){L._final(function(U){O.pendingcb--,U&&E(L,U),O.prefinished=!0,L.emit("prefinish"),C(L,O)})}function C(L,O){var U=v(O);if(U&&(function(H,G){G.prefinished||G.finalCalled||(typeof H._final!="function"||G.destroyed?(G.prefinished=!0,H.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,r.nextTick(_,H,G)))}(L,O),O.pendingcb===0&&(O.finished=!0,L.emit("finish"),O.autoDestroy))){var q=L._readableState;(!q||q.autoDestroy&&q.endEmitted)&&L.destroy()}return U}b(12)(M,t),S.prototype.getBuffer=function(){for(var L=this.bufferedRequest,O=[];L;)O.push(L),L=L.next;return O},function(){try{Object.defineProperty(S.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(L){}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(e=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(L){return!!e.call(this,L)||this===M&&L&&L._writableState instanceof S}})):e=function(L){return L instanceof this},M.prototype.pipe=function(){E(this,new A)},M.prototype.write=function(L,O,U){var q,H=this._writableState,G=!1,K=!H.objectMode&&(q=L,a.isBuffer(q)||q instanceof o);return K&&!a.isBuffer(L)&&(L=function(Q){return a.from(Q)}(L)),typeof O=="function"&&(U=O,O=null),K?O="buffer":O||(O=H.defaultEncoding),typeof U!="function"&&(U=R),H.ending?function(Q,z){var D=new T;E(Q,D),r.nextTick(z,D)}(this,U):(K||function(Q,z,D,F){var I;return D===null?I=new k:typeof D=="string"||z.objectMode||(I=new d("chunk",["string","Buffer"],D)),!I||(E(Q,I),r.nextTick(F,I),!1)}(this,H,L,U))&&(H.pendingcb++,G=function(Q,z,D,F,I,P){if(!D){var V=function(ot,j,Y){return ot.objectMode||ot.decodeStrings===!1||typeof j!="string"||(j=a.from(j,Y)),j}(z,F,I);F!==V&&(D=!0,I="buffer",F=V)}var $=z.objectMode?1:F.length;z.length+=$;var W=z.length<z.highWaterMark;if(W||(z.needDrain=!0),z.writing||z.corked){var et=z.lastBufferedRequest;z.lastBufferedRequest={chunk:F,encoding:I,isBuf:D,callback:P,next:null},et?et.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else y(Q,z,!1,$,F,I,P);return W}(this,H,K,L,O,U)),G},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var L=this._writableState;L.corked&&(L.corked--,L.writing||L.corked||L.bufferProcessing||!L.bufferedRequest||w(this,L))},M.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new g(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(L,O,U){U(new l("_write()"))},M.prototype._writev=null,M.prototype.end=function(L,O,U){var q=this._writableState;return typeof L=="function"?(U=L,L=null,O=null):typeof O=="function"&&(U=O,O=null),L!=null&&this.write(L,O),q.corked&&(q.corked=1,this.uncork()),q.ending||function(H,G,K){G.ending=!0,C(H,G),K&&(G.finished?r.nextTick(K):H.once("finish",K)),G.ended=!0,H.writable=!1}(this,q,U),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),M.prototype.destroy=n.destroy,M.prototype._undestroy=n.undestroy,M.prototype._destroy=function(L,O){O(L)}}).call(this,b(7),b(11))},function(N,x,b){var s=b(206).Buffer,r=s.isEncoding||function(u){switch((u=""+u)&&u.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(u){var d;switch(this.encoding=function(l){var m=function(A){if(!A)return"utf8";for(var B;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(B)return;A=(""+A).toLowerCase(),B=!0}}(l);if(typeof m!="string"&&(s.isEncoding===r||!r(l)))throw new Error("Unknown encoding: "+l);return m||l}(u),this.encoding){case"utf16le":this.text=t,this.end=a,d=4;break;case"utf8":this.fillLast=c,d=4;break;case"base64":this.text=o,this.end=e,d=3;break;default:return this.write=n,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(d)}function f(u){return u<=127?0:u>>5==6?2:u>>4==14?3:u>>3==30?4:u>>6==2?-1:-2}function c(u){var d=this.lastTotal-this.lastNeed,l=function(m,A,B){if((192&A[0])!=128)return m.lastNeed=0,"\uFFFD";if(m.lastNeed>1&&A.length>1){if((192&A[1])!=128)return m.lastNeed=1,"\uFFFD";if(m.lastNeed>2&&A.length>2&&(192&A[2])!=128)return m.lastNeed=2,"\uFFFD"}}(this,u);return l!==void 0?l:this.lastNeed<=u.length?(u.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(u.copy(this.lastChar,d,0,u.length),void(this.lastNeed-=u.length))}function t(u,d){if((u.length-d)%2==0){var l=u.toString("utf16le",d);if(l){var m=l.charCodeAt(l.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1],l.slice(0,-1)}return l}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=u[u.length-1],u.toString("utf16le",d,u.length-1)}function a(u){var d=u&&u.length?this.write(u):"";if(this.lastNeed){var l=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,l)}return d}function o(u,d){var l=(u.length-d)%3;return l===0?u.toString("base64",d):(this.lastNeed=3-l,this.lastTotal=3,l===1?this.lastChar[0]=u[u.length-1]:(this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1]),u.toString("base64",d,u.length-l))}function e(u){var d=u&&u.length?this.write(u):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function n(u){return u.toString(this.encoding)}function h(u){return u&&u.length?this.write(u):""}x.StringDecoder=i,i.prototype.write=function(u){if(u.length===0)return"";var d,l;if(this.lastNeed){if((d=this.fillLast(u))===void 0)return"";l=this.lastNeed,this.lastNeed=0}else l=0;return l<u.length?d?d+this.text(u,l):this.text(u,l):d||""},i.prototype.end=function(u){var d=u&&u.length?this.write(u):"";return this.lastNeed?d+"\uFFFD":d},i.prototype.text=function(u,d){var l=function(A,B,k){var T=B.length-1;if(T<k)return 0;var g=f(B[T]);return g>=0?(g>0&&(A.lastNeed=g-1),g):--T<k||g===-2?0:(g=f(B[T]))>=0?(g>0&&(A.lastNeed=g-2),g):--T<k||g===-2?0:(g=f(B[T]))>=0?(g>0&&(g===2?g=0:A.lastNeed=g-3),g):0}(this,u,d);if(!this.lastNeed)return u.toString("utf8",d);this.lastTotal=l;var m=u.length-(l-this.lastNeed);return u.copy(this.lastChar,0,m),u.toString("utf8",d,m)},i.prototype.fillLast=function(u){if(this.lastNeed<=u.length)return u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,u.length),this.lastNeed-=u.length}},function(N,x,b){N.exports=o;var s=b(30).codes,r=s.ERR_METHOD_NOT_IMPLEMENTED,i=s.ERR_MULTIPLE_CALLBACK,f=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,t=b(31);function a(h,u){var d=this._transformState;d.transforming=!1;var l=d.writecb;if(l===null)return this.emit("error",new i);d.writechunk=null,d.writecb=null,u!=null&&this.push(u),l(h);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function o(h){if(!(this instanceof o))return new o(h);t.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",e)}function e(){var h=this;typeof this._flush!="function"||this._readableState.destroyed?n(this,null,null):this._flush(function(u,d){n(h,u,d)})}function n(h,u,d){if(u)return h.emit("error",u);if(d!=null&&h.push(d),h._writableState.length)throw new c;if(h._transformState.transforming)throw new f;return h.push(null)}b(12)(o,t),o.prototype.push=function(h,u){return this._transformState.needTransform=!1,t.prototype.push.call(this,h,u)},o.prototype._transform=function(h,u,d){d(new r("_transform()"))},o.prototype._write=function(h,u,d){var l=this._transformState;if(l.writecb=d,l.writechunk=h,l.writeencoding=u,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(h){var u=this._transformState;u.writechunk===null||u.transforming?u.needTransform=!0:(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform))},o.prototype._destroy=function(h,u){t.prototype._destroy.call(this,h,function(d){u(d)})}},function(N,x,b){N.exports=function(){var s,r=new Promise(function(i,f){s=function(c,t){c?f(c):i(t)}});return s.promise=r,s}},function(N,x,b){var s=b(62);function r(i){if(typeof i!="object"||i===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=i,this._ended=!1,this._nexting=!1}r.prototype.next=function(i){var f=this;if(typeof i!="function")throw new Error("next() requires a callback argument");return f._ended?(s(i,new Error("cannot call next() after end()")),f):f._nexting?(s(i,new Error("cannot call next() before previous next() has completed")),f):(f._nexting=!0,f._next(function(){f._nexting=!1,i.apply(null,arguments)}),f)},r.prototype._next=function(i){s(i)},r.prototype.seek=function(i){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");i=this.db._serializeKey(i),this._seek(i)},r.prototype._seek=function(i){},r.prototype.end=function(i){if(typeof i!="function")throw new Error("end() requires a callback argument");if(this._ended)return s(i,new Error("end() already called on iterator"));this._ended=!0,this._end(i)},r.prototype._end=function(i){s(i)},r.prototype._nextTick=s,N.exports=r},function(N,x,b){var s=b(62);function r(i){if(typeof i!="object"||i===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=i,this._operations=[],this._written=!1}r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(i,f){this._checkWritten();var c=this.db._checkKey(i)||this.db._checkValue(f);if(c)throw c;return i=this.db._serializeKey(i),f=this.db._serializeValue(f),this._put(i,f),this},r.prototype._put=function(i,f){this._operations.push({type:"put",key:i,value:f})},r.prototype.del=function(i){this._checkWritten();var f=this.db._checkKey(i);if(f)throw f;return i=this.db._serializeKey(i),this._del(i),this},r.prototype._del=function(i){this._operations.push({type:"del",key:i})},r.prototype.clear=function(){return this._checkWritten(),this._clear(),this},r.prototype._clear=function(){this._operations=[]},r.prototype.write=function(i,f){if(this._checkWritten(),typeof i=="function"&&(f=i),typeof f!="function")throw new Error("write() requires a callback argument");typeof i=="object"&&i!==null||(i={}),this._written=!0,this._write(i,f)},r.prototype._write=function(i,f){this.db._batch(this._operations,i,f)},r.prototype._nextTick=s,N.exports=r},function(N,x,b){x.AbstractLevelDOWN=b(232),x.AbstractIterator=b(109),x.AbstractChainedBatch=b(110)},function(N,x,b){(function(s){function r(i){if(typeof i!="object"||i===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=i,this._ended=!1,this._nexting=!1}r.prototype.next=function(i){var f=this;if(typeof i!="function")throw new Error("next() requires a callback argument");return f._ended?(s.nextTick(i,new Error("cannot call next() after end()")),f):f._nexting?(s.nextTick(i,new Error("cannot call next() before previous next() has completed")),f):(f._nexting=!0,f._next(function(){f._nexting=!1,i.apply(null,arguments)}),f)},r.prototype._next=function(i){s.nextTick(i)},r.prototype.seek=function(i){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");i=this.db._serializeKey(i),this._seek(i)},r.prototype._seek=function(i){},r.prototype.end=function(i){if(typeof i!="function")throw new Error("end() requires a callback argument");if(this._ended)return s.nextTick(i,new Error("end() already called on iterator"));this._ended=!0,this._end(i)},r.prototype._end=function(i){s.nextTick(i)},N.exports=r}).call(this,b(11))},function(N,x,b){function s(r){if(typeof r!="object"||r===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=r,this._operations=[],this._written=!1}s.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},s.prototype.put=function(r,i){this._checkWritten();var f=this.db._checkKey(r)||this.db._checkValue(i);if(f)throw f;return r=this.db._serializeKey(r),i=this.db._serializeValue(i),this._put(r,i),this},s.prototype._put=function(r,i){this._operations.push({type:"put",key:r,value:i})},s.prototype.del=function(r){this._checkWritten();var i=this.db._checkKey(r);if(i)throw i;return r=this.db._serializeKey(r),this._del(r),this},s.prototype._del=function(r){this._operations.push({type:"del",key:r})},s.prototype.clear=function(){return this._checkWritten(),this._clear(),this},s.prototype._clear=function(){this._operations=[]},s.prototype.write=function(r,i){if(this._checkWritten(),typeof r=="function"&&(i=r),typeof i!="function")throw new Error("write() requires a callback argument");typeof r=="object"&&r!==null||(r={}),this._written=!0,this._write(r,i)},s.prototype._write=function(r,i){this.db._batch(this._operations,r,i)},N.exports=s},function(N,x,b){(function(s){var r=b(235);N.exports=function(i){return i instanceof Uint8Array?r(i):i instanceof ArrayBuffer?s.from(i):s.from(String(i))}}).call(this,b(4).Buffer)},function(N,x,b){N.exports=b(237)},function(N,x,b){const s=b(43),r=b(2)("ipfs:repo:lock"),i={};x.lock=async f=>{const c=f+"/repo.lock";if(r("locking %s",c),i[c]===!0)throw new s.LockExistsError("Lock already being held for file: "+c);return i[c]=!0,{async close(){i[c]&&delete i[c]}}},x.locked=async f=>{const c=f+"/repo.lock";return r("checking lock: "+c),Boolean(i[c])}},function(N,x,b){const s=b(9),r=b(256),i=b(257),f=b(115),c=b(260);(x=N.exports).addPrefix=(a,o)=>{let e;if(a instanceof Uint8Array)e=f.varintUint8ArrayEncode(a);else{if(!i[a])throw new Error("multicodec not recognized");e=i[a]}return c([e,o],e.length+o.length)},x.rmPrefix=a=>(s.decode(a),a.slice(s.decode.bytes)),x.getCodec=a=>{const o=s.decode(a),e=r.get(o);if(e===void 0)throw new Error(`Code ${o} not found`);return e},x.getName=a=>r.get(a),x.getNumber=a=>{const o=i[a];if(o===void 0)throw new Error("Codec `"+a+"` not found");return s.decode(o)},x.getCode=a=>s.decode(a),x.getCodeVarint=a=>{const o=i[a];if(o===void 0)throw new Error("Codec `"+a+"` not found");return o},x.getVarint=a=>s.encode(a);const t=b(261);Object.assign(x,t),x.print=b(262)},function(N,x,b){const s=b(9),r=b(258),i=b(259);function f(c){return parseInt(r(c,"base16"),16)}N.exports={numberToUint8Array:function(c){let t=c.toString(16);return t.length%2==1&&(t="0"+t),i(t,"base16")},uint8ArrayToNumber:f,varintUint8ArrayEncode:function(c){return Uint8Array.from(s.encode(f(c)))},varintEncode:function(c){return Uint8Array.from(s.encode(c))}}},function(N,x,b){var s=b(1);if(b(38),b(23),b(67),b(25),b(37),b(119),b(69),b(26),b(290),b(46),b(3),r===void 0)var r=s.jsbn.BigInteger;var i=s.asn1,f=s.pki=s.pki||{};N.exports=f.pbe=s.pbe=s.pbe||{};var c=f.oids,t={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},a={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function e(u,d){return u.start().update(d).digest().getBytes()}function n(u){var d;if(u){if(!(d=f.oids[i.derToOid(u)])){var l=new Error("Unsupported PRF OID.");throw l.oid=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}}else d="hmacWithSHA1";return h(d)}function h(u){var d=s.md;switch(u){case"hmacWithSHA224":d=s.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":u=u.substr(8).toLowerCase();break;default:var l=new Error("Unsupported PRF algorithm.");throw l.algorithm=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}if(!d||!(u in d))throw new Error("Unknown hash algorithm: "+u);return d[u].create()}f.encryptPrivateKeyInfo=function(u,d,l){(l=l||{}).saltSize=l.saltSize||8,l.count=l.count||2048,l.algorithm=l.algorithm||"aes128",l.prfAlgorithm=l.prfAlgorithm||"sha1";var m,A,B,k=s.random.getBytesSync(l.saltSize),T=l.count,g=i.integerToDer(T);if(l.algorithm.indexOf("aes")===0||l.algorithm==="des"){var E,R,S;switch(l.algorithm){case"aes128":m=16,E=16,R=c["aes128-CBC"],S=s.aes.createEncryptionCipher;break;case"aes192":m=24,E=16,R=c["aes192-CBC"],S=s.aes.createEncryptionCipher;break;case"aes256":m=32,E=16,R=c["aes256-CBC"],S=s.aes.createEncryptionCipher;break;case"des":m=8,E=8,R=c.desCBC,S=s.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_}var M="hmacWith"+l.prfAlgorithm.toUpperCase(),y=h(M),p=s.pkcs5.pbkdf2(d,k,T,m,y),w=s.random.getBytesSync(E);(C=S(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes();var v=function(O,U,q,H){var G=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,U.getBytes())]);return H!=="hmacWithSHA1"&&G.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,s.util.hexToBytes(q.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f.oids[H]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),G}(k,g,m,M);A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBKDF2).getBytes()),v]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(R).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,w)])])])}else{var _;if(l.algorithm!=="3des")throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_;m=24;var C,L=new s.util.ByteBuffer(k);p=f.pbe.generatePkcs12Key(d,L,1,T,m),w=f.pbe.generatePkcs12Key(d,L,2,T,m),(C=s.des.createEncryptionCipher(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes(),A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,k),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,g.getBytes())])])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[A,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B)])},f.decryptPrivateKeyInfo=function(u,d){var l=null,m={},A=[];if(!i.validate(u,t,m,A)){var B=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw B.errors=A,B}var k=i.derToOid(m.encryptionOid),T=f.pbe.getCipher(k,m.encryptionParams,d),g=s.util.createBuffer(m.encryptedData);return T.update(g),T.finish()&&(l=i.fromDer(T.output)),l},f.encryptedPrivateKeyToPem=function(u,d){var l={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(u).getBytes()};return s.pem.encode(l,{maxline:d})},f.encryptedPrivateKeyFromPem=function(u){var d=s.pem.decode(u)[0];if(d.type!=="ENCRYPTED PRIVATE KEY"){var l=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw l.headerType=d.type,l}if(d.procType&&d.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(d.body)},f.encryptRsaPrivateKey=function(u,d,l){if(!(l=l||{}).legacy){var m=f.wrapRsaPrivateKey(f.privateKeyToAsn1(u));return m=f.encryptPrivateKeyInfo(m,d,l),f.encryptedPrivateKeyToPem(m)}var A,B,k,T;switch(l.algorithm){case"aes128":A="AES-128-CBC",k=16,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes192":A="AES-192-CBC",k=24,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes256":A="AES-256-CBC",k=32,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"3des":A="DES-EDE3-CBC",k=24,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;case"des":A="DES-CBC",k=8,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;default:var g=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+l.algorithm+'".');throw g.algorithm=l.algorithm,g}var E=T(s.pbe.opensslDeriveBytes(d,B.substr(0,8),k));E.start(B),E.update(i.toDer(f.privateKeyToAsn1(u))),E.finish();var R={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:A,parameters:s.util.bytesToHex(B).toUpperCase()},body:E.output.getBytes()};return s.pem.encode(R)},f.decryptRsaPrivateKey=function(u,d){var l=null,m=s.pem.decode(u)[0];if(m.type!=="ENCRYPTED PRIVATE KEY"&&m.type!=="PRIVATE KEY"&&m.type!=="RSA PRIVATE KEY")throw(k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=k,k;if(m.procType&&m.procType.type==="ENCRYPTED"){var A,B;switch(m.dekInfo.algorithm){case"DES-CBC":A=8,B=s.des.createDecryptionCipher;break;case"DES-EDE3-CBC":A=24,B=s.des.createDecryptionCipher;break;case"AES-128-CBC":A=16,B=s.aes.createDecryptionCipher;break;case"AES-192-CBC":A=24,B=s.aes.createDecryptionCipher;break;case"AES-256-CBC":A=32,B=s.aes.createDecryptionCipher;break;case"RC2-40-CBC":A=5,B=function(E){return s.rc2.createDecryptionCipher(E,40)};break;case"RC2-64-CBC":A=8,B=function(E){return s.rc2.createDecryptionCipher(E,64)};break;case"RC2-128-CBC":A=16,B=function(E){return s.rc2.createDecryptionCipher(E,128)};break;default:var k;throw(k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+m.dekInfo.algorithm+'".')).algorithm=m.dekInfo.algorithm,k}var T=s.util.hexToBytes(m.dekInfo.parameters),g=B(s.pbe.opensslDeriveBytes(d,T.substr(0,8),A));if(g.start(T),g.update(s.util.createBuffer(m.body)),!g.finish())return l;l=g.output.getBytes()}else l=m.body;return(l=m.type==="ENCRYPTED PRIVATE KEY"?f.decryptPrivateKeyInfo(i.fromDer(l),d):i.fromDer(l))!==null&&(l=f.privateKeyFromAsn1(l)),l},f.pbe.generatePkcs12Key=function(u,d,l,m,A,B){var k,T;if(B==null){if(!("sha1"in s.md))throw new Error('"sha1" hash algorithm unavailable.');B=s.md.sha1.create()}var g=B.digestLength,E=B.blockLength,R=new s.util.ByteBuffer,S=new s.util.ByteBuffer;if(u!=null){for(T=0;T<u.length;T++)S.putInt16(u.charCodeAt(T));S.putInt16(0)}var M=S.length(),y=d.length(),p=new s.util.ByteBuffer;p.fillWithByte(l,E);var w=E*Math.ceil(y/E),v=new s.util.ByteBuffer;for(T=0;T<w;T++)v.putByte(d.at(T%y));var _=E*Math.ceil(M/E),C=new s.util.ByteBuffer;for(T=0;T<_;T++)C.putByte(S.at(T%M));var L=v;L.putBuffer(C);for(var O=Math.ceil(A/g),U=1;U<=O;U++){var q=new s.util.ByteBuffer;q.putBytes(p.bytes()),q.putBytes(L.bytes());for(var H=0;H<m;H++)B.start(),B.update(q.getBytes()),q=B.digest();var G=new s.util.ByteBuffer;for(T=0;T<E;T++)G.putByte(q.at(T%g));var K=Math.ceil(y/E)+Math.ceil(M/E),Q=new s.util.ByteBuffer;for(k=0;k<K;k++){var z=new s.util.ByteBuffer(L.getBytes(E)),D=511;for(T=G.length()-1;T>=0;T--)D>>=8,D+=G.at(T)+z.at(T),z.setAt(T,255&D);Q.putBuffer(z)}L=Q,R.putBuffer(q)}return R.truncate(R.length()-A),R},f.pbe.getCipher=function(u,d,l){switch(u){case f.oids.pkcs5PBES2:return f.pbe.getCipherForPBES2(u,d,l);case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case f.oids["pbewithSHAAnd40BitRC2-CBC"]:return f.pbe.getCipherForPKCS12PBE(u,d,l);default:var m=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw m.oid=u,m.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],m}},f.pbe.getCipherForPBES2=function(u,d,l){var m,A={},B=[];if(!i.validate(d,a,A,B))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=B,m;if((u=i.derToOid(A.kdfOid))!==f.oids.pkcs5PBKDF2)throw(m=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=u,m.supportedOids=["pkcs5PBKDF2"],m;if((u=i.derToOid(A.encOid))!==f.oids["aes128-CBC"]&&u!==f.oids["aes192-CBC"]&&u!==f.oids["aes256-CBC"]&&u!==f.oids["des-EDE3-CBC"]&&u!==f.oids.desCBC)throw(m=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=u,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m;var k,T,g=A.kdfSalt,E=s.util.createBuffer(A.kdfIterationCount);switch(E=E.getInt(E.length()<<3),f.oids[u]){case"aes128-CBC":k=16,T=s.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,T=s.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,T=s.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,T=s.des.createDecryptionCipher;break;case"desCBC":k=8,T=s.des.createDecryptionCipher}var R=n(A.prfOid),S=s.pkcs5.pbkdf2(l,g,E,k,R),M=A.encIv,y=T(S);return y.start(M),y},f.pbe.getCipherForPKCS12PBE=function(u,d,l){var m={},A=[];if(!i.validate(d,o,m,A))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=A,R;var B,k,T,g=s.util.createBuffer(m.salt),E=s.util.createBuffer(m.iterations);switch(E=E.getInt(E.length()<<3),u){case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:B=24,k=8,T=s.des.startDecrypting;break;case f.oids["pbewithSHAAnd40BitRC2-CBC"]:B=5,k=8,T=function(y,p){var w=s.rc2.createDecryptionCipher(y,40);return w.start(p,null),w};break;default:var R;throw(R=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=u,R}var S=n(m.prfOid),M=f.pbe.generatePkcs12Key(l,g,1,E,B,S);return S.start(),T(M,f.pbe.generatePkcs12Key(l,g,2,E,k,S))},f.pbe.opensslDeriveBytes=function(u,d,l,m){if(m==null){if(!("md5"in s.md))throw new Error('"md5" hash algorithm unavailable.');m=s.md.md5.create()}d===null&&(d="");for(var A=[e(m,u+d)],B=16,k=1;B<l;++k,B+=16)A.push(e(m,A[k-1]+u+d));return A.join("").substr(0,l)}},function(N,x,b){var s=b(1);b(3),N.exports=s.cipher=s.cipher||{},s.cipher.algorithms=s.cipher.algorithms||{},s.cipher.createCipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!1})},s.cipher.createDecipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!0})},s.cipher.registerAlgorithm=function(i,f){i=i.toUpperCase(),s.cipher.algorithms[i]=f},s.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in s.cipher.algorithms?s.cipher.algorithms[i]:null};var r=s.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};r.prototype.start=function(i){i=i||{};var f={};for(var c in i)f[c]=i[c];f.decrypt=this._decrypt,this._finish=!1,this._input=s.util.createBuffer(),this.output=i.output||s.util.createBuffer(),this.mode.start(f)},r.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(i){!i||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(c){return i(this.blockSize,c,!1)},this.mode.unpad=function(c){return i(this.blockSize,c,!0)});var f={};return f.decrypt=this._decrypt,f.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,f))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,f))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,f)))}},function(N,x,b){var s=b(1);b(3),s.cipher=s.cipher||{};var r=N.exports=s.cipher.modes=s.cipher.modes||{};function i(t,a){if(typeof t=="string"&&(t=s.util.createBuffer(t)),s.util.isArray(t)&&t.length>4){var o=t;t=s.util.createBuffer();for(var e=0;e<o.length;++e)t.putByte(o[e])}if(t.length()<a)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+a+" bytes.");if(!s.util.isArray(t)){var n=[],h=a/4;for(e=0;e<h;++e)n.push(t.getInt32());t=n}return t}function f(t){t[t.length-1]=t[t.length-1]+1&4294967295}function c(t){return[t/4294967296|0,4294967295&t]}r.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(t){},r.ecb.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.ecb.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},r.cbc.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.cbc.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],a.putInt32(this._inBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.cfb.prototype.decrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),a.putInt32(this._inBlock[n]^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(t,a,o){var e=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}f(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var a,o=s.util.createBuffer(t.iv);if(this._cipherLength=0,a="additionalData"in t?s.util.createBuffer(t.additionalData):s.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=s.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var e=o.length();if(e===12)this._j0=[o.getInt32(),o.getInt32(),o.getInt32(),1];else{for(this._j0=[0,0,0,0];o.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(8*e)))}this._inBlock=this._j0.slice(0),f(this._inBlock),this._partialBytes=0,a=s.util.createBuffer(a),this._aDataLength=c(8*a.length());var n=a.length()%this.blockSize;for(n&&a.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},r.gcm.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize){for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h<=0||o){if(o){var u=e%this.blockSize;this._cipherLength+=u,this._partialOutput.truncate(this.blockSize-u)}else this._cipherLength+=this.blockSize;for(n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return t.read-=this.blockSize,a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),f(this._inBlock)},r.gcm.prototype.decrypt=function(t,a,o){var e=t.length();if(e<this.blockSize&&!(o&&e>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),f(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^this._hashBlock[n]);e<this.blockSize?this._cipherLength+=e%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(t,a){var o=!0;a.decrypt&&a.overflow&&t.truncate(this.blockSize-a.overflow),this.tag=s.util.createBuffer();var e=this._aDataLength.concat(c(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,e);var n=[];this.cipher.encrypt(this._j0,n);for(var h=0;h<this._ints;++h)this.tag.putInt32(this._s[h]^n[h]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),a.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o},r.gcm.prototype.multiply=function(t,a){for(var o=[0,0,0,0],e=a.slice(0),n=0;n<128;++n)t[n/32|0]&1<<31-n%32&&(o[0]^=e[0],o[1]^=e[1],o[2]^=e[2],o[3]^=e[3]),this.pow(e,e);return o},r.gcm.prototype.pow=function(t,a){for(var o=1&t[3],e=3;e>0;--e)a[e]=t[e]>>>1|(1&t[e-1])<<31;a[0]=t[0]>>>1,o&&(a[0]^=this._R)},r.gcm.prototype.tableMultiply=function(t){for(var a=[0,0,0,0],o=0;o<32;++o){var e=t[o/8|0]>>>4*(7-o%8)&15,n=this._m[o][e];a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]}return a},r.gcm.prototype.ghash=function(t,a,o){return a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3],this.tableMultiply(a)},r.gcm.prototype.generateHashTable=function(t,a){for(var o=8/a,e=4*o,n=16*o,h=new Array(n),u=0;u<n;++u){var d=[0,0,0,0],l=(e-1-u%e)*a;d[u/e|0]=1<<a-1<<l,h[u]=this.generateSubHashTable(this.multiply(d,t),a)}return h},r.gcm.prototype.generateSubHashTable=function(t,a){var o=1<<a,e=o>>>1,n=new Array(o);n[e]=t.slice(0);for(var h=e>>>1;h>0;)this.pow(n[2*h],n[h]=[]),h>>=1;for(h=2;h<e;){for(var u=1;u<h;++u){var d=n[h],l=n[u];n[h+u]=[d[0]^l[0],d[1]^l[1],d[2]^l[2],d[3]^l[3]]}h*=2}for(n[0]=[0,0,0,0],h=e+1;h<o;++h){var m=n[h^e];n[h]=[t[0]^m[0],t[1]^m[1],t[2]^m[2],t[3]^m[3]]}return n}},function(N,x,b){(function(s){var r=b(1);b(287),b(25),b(3);var i,f=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=b(68)),N.exports=r.pbkdf2=f.pbkdf2=function(c,t,a,o,e,n){if(typeof e=="function"&&(n=e,e=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(e===null||typeof e!="object")&&(i.pbkdf2Sync.length>4||!e||e==="sha1"))return typeof e!="string"&&(e="sha1"),c=s.from(c,"binary"),t=s.from(t,"binary"),n?i.pbkdf2Sync.length===4?i.pbkdf2(c,t,a,o,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2(c,t,a,o,e,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(c,t,a,o).toString("binary"):i.pbkdf2Sync(c,t,a,o,e).toString("binary");if(e==null&&(e="sha1"),typeof e=="string"){if(!(e in r.md.algorithms))throw new Error("Unknown hash algorithm: "+e);e=r.md[e].create()}var h=e.digestLength;if(o>4294967295*h){var u=new Error("Derived key is too long.");if(n)return n(u);throw u}var d=Math.ceil(o/h),l=o-(d-1)*h,m=r.hmac.create();m.start(e,c);var A,B,k,T="";if(!n){for(var g=1;g<=d;++g){m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes();for(var E=2;E<=a;++E)m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B;T+=g<d?A:A.substr(0,l)}return T}g=1;function R(){if(g>d)return n(null,T);m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes(),E=2,S()}function S(){if(E<=a)return m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B,++E,r.util.setImmediate(S);T+=g<d?A:A.substr(0,l),++g,R()}R()}}).call(this,b(4).Buffer)},function(N,x,b){const s=b(19),r=b(6),i=b(48);N.exports={create:function({algorithm:f="AES-GCM",nonceLength:c=12,keyLength:t=16,digest:a="SHA-256",saltLength:o=16,iterations:e=32767}={}){const n=i.get();return t*=8,{encrypt:async function(h,u){const d=n.getRandomValues(new Uint8Array(o)),l=n.getRandomValues(new Uint8Array(c)),m={name:f,iv:l},A={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},B=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),k=await n.subtle.deriveKey(A,B,{name:f,length:t},!0,["encrypt"]),T=await n.subtle.encrypt(m,k,h);return s([d,m.iv,new Uint8Array(T)])},decrypt:async function(h,u){const d=h.slice(0,o),l=h.slice(o,o+c),m=h.slice(o+c),A={name:f,iv:l},B={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},k=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),T=await n.subtle.deriveKey(B,k,{name:f,length:t},!0,["decrypt"]),g=await n.subtle.decrypt(A,T,m);return new Uint8Array(g)}}}}},function(N,x,b){(function(s){var r=b(1);b(47),b(26),b(70),b(3);var i=b(296),f=i.publicKeyValidator,c=i.privateKeyValidator;if(t===void 0)var t=r.jsbn.BigInteger;var a=r.util.ByteBuffer,o=s===void 0?Uint8Array:s;r.pki=r.pki||{},N.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var e=r.ed25519;function n(z){var D=z.message;if(D instanceof Uint8Array||D instanceof o)return D;var F=z.encoding;if(D===void 0){if(!z.md)throw new TypeError('"options.message" or "options.md" not specified.');D=z.md.digest().getBytes(),F="binary"}if(typeof D=="string"&&!F)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof D=="string"){if(s!==void 0)return s.from(D,F);D=new a(D,F)}else if(!(D instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var I=new o(D.length()),P=0;P<I.length;++P)I[P]=D.at(P);return I}e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(z){var D=(z=z||{}).seed;if(D===void 0)D=r.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if(typeof D=="string"){if(D.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(D instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');D=n({message:D,encoding:"binary"});for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=new o(e.constants.PRIVATE_KEY_BYTE_LENGTH),P=0;P<32;++P)I[P]=D[P];return function(V,$){var W,et=[q(),q(),q(),q()],ot=T($,32);for(ot[0]&=248,ot[31]&=127,ot[31]|=64,C(et,ot),M(V,et),W=0;W<32;++W)$[W+32]=V[W]}(F,I),{publicKey:F,privateKey:I}},e.privateKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,c,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.privateKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.privateKey;return{privateKeyBytes:n({message:r.asn1.fromDer($).value,encoding:"binary"})}},e.publicKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,f,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.publicKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.ed25519PublicKey;if($.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return n({message:$,encoding:"binary"})},e.publicKeyFromPrivateKey=function(z){var D=n({message:(z=z||{}).privateKey,encoding:"binary"});if(D.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=0;I<F.length;++I)F[I]=D[32+I];return F},e.sign=function(z){var D=n(z=z||{}),F=n({message:z.privateKey,encoding:"binary"});if(F.length===e.constants.SEED_BYTE_LENGTH)F=e.generateKeyPair({seed:F}).privateKey;else if(F.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.SEED_BYTE_LENGTH+" or "+e.constants.PRIVATE_KEY_BYTE_LENGTH);var I=new o(e.constants.SIGN_BYTE_LENGTH+D.length);!function($,W,et,ot){var j,Y,X=new Float64Array(64),tt=[q(),q(),q(),q()],rt=T(ot,32);for(rt[0]&=248,rt[31]&=127,rt[31]|=64,j=0;j<et;++j)$[64+j]=W[j];for(j=0;j<32;++j)$[32+j]=rt[32+j];var J=T($.subarray(32),et+32);for(E(J),C(tt,J),M($,tt),j=32;j<64;++j)$[j]=ot[j];var Z=T($,et+64);for(E(Z),j=32;j<64;++j)X[j]=0;for(j=0;j<32;++j)X[j]=J[j];for(j=0;j<32;++j)for(Y=0;Y<32;Y++)X[j+Y]+=Z[j]*rt[Y];g($.subarray(32),X)}(I,D,D.length,F);for(var P=new o(e.constants.SIGN_BYTE_LENGTH),V=0;V<P.length;++V)P[V]=I[V];return P},e.verify=function(z){var D=n(z=z||{});if(z.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var F=n({message:z.signature,encoding:"binary"});if(F.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var I=n({message:z.publicKey,encoding:"binary"});if(I.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var P,V=new o(e.constants.SIGN_BYTE_LENGTH+D.length),$=new o(e.constants.SIGN_BYTE_LENGTH+D.length);for(P=0;P<e.constants.SIGN_BYTE_LENGTH;++P)V[P]=F[P];for(P=0;P<D.length;++P)V[P+e.constants.SIGN_BYTE_LENGTH]=D[P];return function(W,et,ot,j){var Y,X=new o(32),tt=[q(),q(),q(),q()],rt=[q(),q(),q(),q()];if(ot<64)return-1;if(function(Z,nt){var it=q(),st=q(),at=q(),ct=q(),ut=q(),bt=q(),ht=q();return L(Z[2],u),function(yt,Ct){var ft;for(ft=0;ft<16;++ft)yt[ft]=Ct[2*ft]+(Ct[2*ft+1]<<8);yt[15]&=32767}(Z[1],nt),K(at,Z[1]),Q(ct,at,d),G(at,at,Z[2]),H(ct,Z[2],ct),K(ut,ct),K(bt,ut),Q(ht,bt,ut),Q(it,ht,at),Q(it,it,ct),function(yt,Ct){var ft,dt=q();for(ft=0;ft<16;++ft)dt[ft]=Ct[ft];for(ft=250;ft>=0;--ft)K(dt,dt),ft!==1&&Q(dt,dt,Ct);for(ft=0;ft<16;++ft)yt[ft]=dt[ft]}(it,it),Q(it,it,at),Q(it,it,ct),Q(it,it,ct),Q(Z[0],it,ct),K(st,Z[0]),Q(st,st,ct),p(st,at)&&Q(Z[0],Z[0],k),(K(st,Z[0]),Q(st,st,ct),p(st,at))?-1:(v(Z[0])===nt[31]>>7&&G(Z[0],h,Z[0]),Q(Z[3],Z[0],Z[1]),0)}(rt,j))return-1;for(Y=0;Y<ot;++Y)W[Y]=et[Y];for(Y=0;Y<32;++Y)W[Y+32]=j[Y];var J=T(W,ot);if(E(J),_(tt,rt,J),C(rt,et.subarray(32)),R(tt,rt),M(X,tt),ot-=64,w(et,0,X,0)){for(Y=0;Y<ot;++Y)W[Y]=0;return-1}for(Y=0;Y<ot;++Y)W[Y]=et[Y+64];return ot}($,V,V.length,I)>=0};var h=q(),u=q([1]),d=q([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=q([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=q([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=q([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),k=q([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,D){var F=r.md.sha512.create(),I=new a(z);F.update(I.getBytes(D),"binary");var P=F.digest().getBytes();if(s!==void 0)return s.from(P,"binary");for(var V=new o(e.constants.HASH_BYTE_LENGTH),$=0;$<64;++$)V[$]=P.charCodeAt($);return V}function g(z,D){var F,I,P,V;for(I=63;I>=32;--I){for(F=0,P=I-32,V=I-12;P<V;++P)D[P]+=F-16*D[I]*B[P-(I-32)],F=D[P]+128>>8,D[P]-=256*F;D[P]+=F,D[I]=0}for(F=0,P=0;P<32;++P)D[P]+=F-(D[31]>>4)*B[P],F=D[P]>>8,D[P]&=255;for(P=0;P<32;++P)D[P]-=F*B[P];for(I=0;I<32;++I)D[I+1]+=D[I]>>8,z[I]=255&D[I]}function E(z){for(var D=new Float64Array(64),F=0;F<64;++F)D[F]=z[F],z[F]=0;g(z,D)}function R(z,D){var F=q(),I=q(),P=q(),V=q(),$=q(),W=q(),et=q(),ot=q(),j=q();G(F,z[1],z[0]),G(j,D[1],D[0]),Q(F,F,j),H(I,z[0],z[1]),H(j,D[0],D[1]),Q(I,I,j),Q(P,z[3],D[3]),Q(P,P,l),Q(V,z[2],D[2]),H(V,V,V),G($,I,F),G(W,V,P),H(et,V,P),H(ot,I,F),Q(z[0],$,W),Q(z[1],ot,et),Q(z[2],et,W),Q(z[3],$,ot)}function S(z,D,F){for(var I=0;I<4;++I)U(z[I],D[I],F)}function M(z,D){var F=q(),I=q(),P=q();!function(V,$){var W,et=q();for(W=0;W<16;++W)et[W]=$[W];for(W=253;W>=0;--W)K(et,et),W!==2&&W!==4&&Q(et,et,$);for(W=0;W<16;++W)V[W]=et[W]}(P,D[2]),Q(F,D[0],P),Q(I,D[1],P),y(z,I),z[31]^=v(F)<<7}function y(z,D){var F,I,P,V=q(),$=q();for(F=0;F<16;++F)$[F]=D[F];for(O($),O($),O($),I=0;I<2;++I){for(V[0]=$[0]-65517,F=1;F<15;++F)V[F]=$[F]-65535-(V[F-1]>>16&1),V[F-1]&=65535;V[15]=$[15]-32767-(V[14]>>16&1),P=V[15]>>16&1,V[14]&=65535,U($,V,1-P)}for(F=0;F<16;F++)z[2*F]=255&$[F],z[2*F+1]=$[F]>>8}function p(z,D){var F=new o(32),I=new o(32);return y(F,z),y(I,D),w(F,0,I,0)}function w(z,D,F,I){return function(P,V,$,W,et){var ot,j=0;for(ot=0;ot<et;++ot)j|=P[V+ot]^$[W+ot];return(1&j-1>>>8)-1}(z,D,F,I,32)}function v(z){var D=new o(32);return y(D,z),1&D[0]}function _(z,D,F){var I,P;for(L(z[0],h),L(z[1],u),L(z[2],u),L(z[3],h),P=255;P>=0;--P)S(z,D,I=F[P/8|0]>>(7&P)&1),R(D,z),R(z,z),S(z,D,I)}function C(z,D){var F=[q(),q(),q(),q()];L(F[0],m),L(F[1],A),L(F[2],u),Q(F[3],m,A),_(z,F,D)}function L(z,D){var F;for(F=0;F<16;F++)z[F]=0|D[F]}function O(z){var D,F,I=1;for(D=0;D<16;++D)F=z[D]+I+65535,I=Math.floor(F/65536),z[D]=F-65536*I;z[0]+=I-1+37*(I-1)}function U(z,D,F){for(var I,P=~(F-1),V=0;V<16;++V)I=P&(z[V]^D[V]),z[V]^=I,D[V]^=I}function q(z){var D,F=new Float64Array(16);if(z)for(D=0;D<z.length;++D)F[D]=z[D];return F}function H(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]+F[I]}function G(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]-F[I]}function K(z,D){Q(z,D,D)}function Q(z,D,F){var I,P,V=0,$=0,W=0,et=0,ot=0,j=0,Y=0,X=0,tt=0,rt=0,J=0,Z=0,nt=0,it=0,st=0,at=0,ct=0,ut=0,bt=0,ht=0,yt=0,Ct=0,ft=0,dt=0,Kt=0,Tt=0,Rt=0,jt=0,It=0,Bt=0,Vt=0,pt=F[0],lt=F[1],Pt=F[2],gt=F[3],mt=F[4],Lt=F[5],vt=F[6],wt=F[7],Ot=F[8],Et=F[9],St=F[10],Dt=F[11],_t=F[12],kt=F[13],Ut=F[14],At=F[15];V+=(I=D[0])*pt,$+=I*lt,W+=I*Pt,et+=I*gt,ot+=I*mt,j+=I*Lt,Y+=I*vt,X+=I*wt,tt+=I*Ot,rt+=I*Et,J+=I*St,Z+=I*Dt,nt+=I*_t,it+=I*kt,st+=I*Ut,at+=I*At,$+=(I=D[1])*pt,W+=I*lt,et+=I*Pt,ot+=I*gt,j+=I*mt,Y+=I*Lt,X+=I*vt,tt+=I*wt,rt+=I*Ot,J+=I*Et,Z+=I*St,nt+=I*Dt,it+=I*_t,st+=I*kt,at+=I*Ut,ct+=I*At,W+=(I=D[2])*pt,et+=I*lt,ot+=I*Pt,j+=I*gt,Y+=I*mt,X+=I*Lt,tt+=I*vt,rt+=I*wt,J+=I*Ot,Z+=I*Et,nt+=I*St,it+=I*Dt,st+=I*_t,at+=I*kt,ct+=I*Ut,ut+=I*At,et+=(I=D[3])*pt,ot+=I*lt,j+=I*Pt,Y+=I*gt,X+=I*mt,tt+=I*Lt,rt+=I*vt,J+=I*wt,Z+=I*Ot,nt+=I*Et,it+=I*St,st+=I*Dt,at+=I*_t,ct+=I*kt,ut+=I*Ut,bt+=I*At,ot+=(I=D[4])*pt,j+=I*lt,Y+=I*Pt,X+=I*gt,tt+=I*mt,rt+=I*Lt,J+=I*vt,Z+=I*wt,nt+=I*Ot,it+=I*Et,st+=I*St,at+=I*Dt,ct+=I*_t,ut+=I*kt,bt+=I*Ut,ht+=I*At,j+=(I=D[5])*pt,Y+=I*lt,X+=I*Pt,tt+=I*gt,rt+=I*mt,J+=I*Lt,Z+=I*vt,nt+=I*wt,it+=I*Ot,st+=I*Et,at+=I*St,ct+=I*Dt,ut+=I*_t,bt+=I*kt,ht+=I*Ut,yt+=I*At,Y+=(I=D[6])*pt,X+=I*lt,tt+=I*Pt,rt+=I*gt,J+=I*mt,Z+=I*Lt,nt+=I*vt,it+=I*wt,st+=I*Ot,at+=I*Et,ct+=I*St,ut+=I*Dt,bt+=I*_t,ht+=I*kt,yt+=I*Ut,Ct+=I*At,X+=(I=D[7])*pt,tt+=I*lt,rt+=I*Pt,J+=I*gt,Z+=I*mt,nt+=I*Lt,it+=I*vt,st+=I*wt,at+=I*Ot,ct+=I*Et,ut+=I*St,bt+=I*Dt,ht+=I*_t,yt+=I*kt,Ct+=I*Ut,ft+=I*At,tt+=(I=D[8])*pt,rt+=I*lt,J+=I*Pt,Z+=I*gt,nt+=I*mt,it+=I*Lt,st+=I*vt,at+=I*wt,ct+=I*Ot,ut+=I*Et,bt+=I*St,ht+=I*Dt,yt+=I*_t,Ct+=I*kt,ft+=I*Ut,dt+=I*At,rt+=(I=D[9])*pt,J+=I*lt,Z+=I*Pt,nt+=I*gt,it+=I*mt,st+=I*Lt,at+=I*vt,ct+=I*wt,ut+=I*Ot,bt+=I*Et,ht+=I*St,yt+=I*Dt,Ct+=I*_t,ft+=I*kt,dt+=I*Ut,Kt+=I*At,J+=(I=D[10])*pt,Z+=I*lt,nt+=I*Pt,it+=I*gt,st+=I*mt,at+=I*Lt,ct+=I*vt,ut+=I*wt,bt+=I*Ot,ht+=I*Et,yt+=I*St,Ct+=I*Dt,ft+=I*_t,dt+=I*kt,Kt+=I*Ut,Tt+=I*At,Z+=(I=D[11])*pt,nt+=I*lt,it+=I*Pt,st+=I*gt,at+=I*mt,ct+=I*Lt,ut+=I*vt,bt+=I*wt,ht+=I*Ot,yt+=I*Et,Ct+=I*St,ft+=I*Dt,dt+=I*_t,Kt+=I*kt,Tt+=I*Ut,Rt+=I*At,nt+=(I=D[12])*pt,it+=I*lt,st+=I*Pt,at+=I*gt,ct+=I*mt,ut+=I*Lt,bt+=I*vt,ht+=I*wt,yt+=I*Ot,Ct+=I*Et,ft+=I*St,dt+=I*Dt,Kt+=I*_t,Tt+=I*kt,Rt+=I*Ut,jt+=I*At,it+=(I=D[13])*pt,st+=I*lt,at+=I*Pt,ct+=I*gt,ut+=I*mt,bt+=I*Lt,ht+=I*vt,yt+=I*wt,Ct+=I*Ot,ft+=I*Et,dt+=I*St,Kt+=I*Dt,Tt+=I*_t,Rt+=I*kt,jt+=I*Ut,It+=I*At,st+=(I=D[14])*pt,at+=I*lt,ct+=I*Pt,ut+=I*gt,bt+=I*mt,ht+=I*Lt,yt+=I*vt,Ct+=I*wt,ft+=I*Ot,dt+=I*Et,Kt+=I*St,Tt+=I*Dt,Rt+=I*_t,jt+=I*kt,It+=I*Ut,Bt+=I*At,at+=(I=D[15])*pt,$+=38*(ut+=I*Pt),W+=38*(bt+=I*gt),et+=38*(ht+=I*mt),ot+=38*(yt+=I*Lt),j+=38*(Ct+=I*vt),Y+=38*(ft+=I*wt),X+=38*(dt+=I*Ot),tt+=38*(Kt+=I*Et),rt+=38*(Tt+=I*St),J+=38*(Rt+=I*Dt),Z+=38*(jt+=I*_t),nt+=38*(It+=I*kt),it+=38*(Bt+=I*Ut),st+=38*(Vt+=I*At),V=(I=(V+=38*(ct+=I*lt))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V=(I=(V+=P-1+37*(P-1))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V+=P-1+37*(P-1),z[0]=V,z[1]=$,z[2]=W,z[3]=et,z[4]=ot,z[5]=j,z[6]=Y,z[7]=X,z[8]=tt,z[9]=rt,z[10]=J,z[11]=Z,z[12]=nt,z[13]=it,z[14]=st,z[15]=at}}).call(this,b(4).Buffer)},function(N,x,b){var s=x;function r(f){return f.length===1?"0"+f:f}function i(f){for(var c="",t=0;t<f.length;t++)c+=r(f[t].toString(16));return c}s.toArray=function(f,c){if(Array.isArray(f))return f.slice();if(!f)return[];var t=[];if(typeof f!="string"){for(var a=0;a<f.length;a++)t[a]=0|f[a];return t}if(c==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),a=0;a<f.length;a+=2)t.push(parseInt(f[a]+f[a+1],16));else for(a=0;a<f.length;a++){var o=f.charCodeAt(a),e=o>>8,n=255&o;e?t.push(e,n):t.push(n)}return t},s.zero2=r,s.toHex=i,s.encode=function(f,c){return c==="hex"?i(f):f}},function(N,x,b){var s;function r(f){this.rand=f}if(N.exports=function(f){return s||(s=new r(null)),s.generate(f)},N.exports.Rand=r,r.prototype.generate=function(f){return this._rand(f)},r.prototype._rand=function(f){if(this.rand.getBytes)return this.rand.getBytes(f);for(var c=new Uint8Array(f),t=0;t<c.length;t++)c[t]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=b(312);if(typeof i.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(f){return i.randomBytes(f)}}catch(f){}},function(N,x,b){var s=x;s.base=b(50),s.short=b(313),s.mont=b(314),s.edwards=b(315)},function(N,x,b){var s=b(18).rotr32;function r(c,t,a){return c&t^~c&a}function i(c,t,a){return c&t^c&a^t&a}function f(c,t,a){return c^t^a}x.ft_1=function(c,t,a,o){return c===0?r(t,a,o):c===1||c===3?f(t,a,o):c===2?i(t,a,o):void 0},x.ch32=r,x.maj32=i,x.p32=f,x.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},x.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},x.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},x.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},function(N,x,b){var s=b(18),r=b(39),i=b(125),f=b(27),c=s.sum32,t=s.sum32_4,a=s.sum32_5,o=i.ch32,e=i.maj32,n=i.s0_256,h=i.s1_256,u=i.g0_256,d=i.g1_256,l=r.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function A(){if(!(this instanceof A))return new A;l.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}s.inherits(A,l),N.exports=A,A.blockSize=512,A.outSize=256,A.hmacStrength=192,A.padLength=64,A.prototype._update=function(B,k){for(var T=this.W,g=0;g<16;g++)T[g]=B[k+g];for(;g<T.length;g++)T[g]=t(d(T[g-2]),T[g-7],u(T[g-15]),T[g-16]);var E=this.h[0],R=this.h[1],S=this.h[2],M=this.h[3],y=this.h[4],p=this.h[5],w=this.h[6],v=this.h[7];for(f(this.k.length===T.length),g=0;g<T.length;g++){var _=a(v,h(y),o(y,p,w),this.k[g],T[g]),C=c(n(E),e(E,R,S));v=w,w=p,p=y,y=c(M,_),M=S,S=R,R=E,E=c(_,C)}this.h[0]=c(this.h[0],E),this.h[1]=c(this.h[1],R),this.h[2]=c(this.h[2],S),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],y),this.h[5]=c(this.h[5],p),this.h[6]=c(this.h[6],w),this.h[7]=c(this.h[7],v)},A.prototype._digest=function(B){return B==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(18),r=b(39),i=b(27),f=s.rotr64_hi,c=s.rotr64_lo,t=s.shr64_hi,a=s.shr64_lo,o=s.sum64,e=s.sum64_hi,n=s.sum64_lo,h=s.sum64_4_hi,u=s.sum64_4_lo,d=s.sum64_5_hi,l=s.sum64_5_lo,m=r.BlockHash,A=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function B(){if(!(this instanceof B))return new B;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=A,this.W=new Array(160)}function k(C,L,O,U,q){var H=C&O^~C&q;return H<0&&(H+=4294967296),H}function T(C,L,O,U,q,H){var G=L&U^~L&H;return G<0&&(G+=4294967296),G}function g(C,L,O,U,q){var H=C&O^C&q^O&q;return H<0&&(H+=4294967296),H}function E(C,L,O,U,q,H){var G=L&U^L&H^U&H;return G<0&&(G+=4294967296),G}function R(C,L){var O=f(C,L,28)^f(L,C,2)^f(L,C,7);return O<0&&(O+=4294967296),O}function S(C,L){var O=c(C,L,28)^c(L,C,2)^c(L,C,7);return O<0&&(O+=4294967296),O}function M(C,L){var O=f(C,L,14)^f(C,L,18)^f(L,C,9);return O<0&&(O+=4294967296),O}function y(C,L){var O=c(C,L,14)^c(C,L,18)^c(L,C,9);return O<0&&(O+=4294967296),O}function p(C,L){var O=f(C,L,1)^f(C,L,8)^t(C,L,7);return O<0&&(O+=4294967296),O}function w(C,L){var O=c(C,L,1)^c(C,L,8)^a(C,L,7);return O<0&&(O+=4294967296),O}function v(C,L){var O=f(C,L,19)^f(L,C,29)^t(C,L,6);return O<0&&(O+=4294967296),O}function _(C,L){var O=c(C,L,19)^c(L,C,29)^a(C,L,6);return O<0&&(O+=4294967296),O}s.inherits(B,m),N.exports=B,B.blockSize=1024,B.outSize=512,B.hmacStrength=192,B.padLength=128,B.prototype._prepareBlock=function(C,L){for(var O=this.W,U=0;U<32;U++)O[U]=C[L+U];for(;U<O.length;U+=2){var q=v(O[U-4],O[U-3]),H=_(O[U-4],O[U-3]),G=O[U-14],K=O[U-13],Q=p(O[U-30],O[U-29]),z=w(O[U-30],O[U-29]),D=O[U-32],F=O[U-31];O[U]=h(q,H,G,K,Q,z,D,F),O[U+1]=u(q,H,G,K,Q,z,D,F)}},B.prototype._update=function(C,L){this._prepareBlock(C,L);var O=this.W,U=this.h[0],q=this.h[1],H=this.h[2],G=this.h[3],K=this.h[4],Q=this.h[5],z=this.h[6],D=this.h[7],F=this.h[8],I=this.h[9],P=this.h[10],V=this.h[11],$=this.h[12],W=this.h[13],et=this.h[14],ot=this.h[15];i(this.k.length===O.length);for(var j=0;j<O.length;j+=2){var Y=et,X=ot,tt=M(F,I),rt=y(F,I),J=k(F,I,P,V,$),Z=T(F,I,P,V,$,W),nt=this.k[j],it=this.k[j+1],st=O[j],at=O[j+1],ct=d(Y,X,tt,rt,J,Z,nt,it,st,at),ut=l(Y,X,tt,rt,J,Z,nt,it,st,at);Y=R(U,q),X=S(U,q),tt=g(U,q,H,G,K),rt=E(U,q,H,G,K,Q);var bt=e(Y,X,tt,rt),ht=n(Y,X,tt,rt);et=$,ot=W,$=P,W=V,P=F,V=I,F=e(z,D,ct,ut),I=n(D,D,ct,ut),z=K,D=Q,K=H,Q=G,H=U,G=q,U=e(ct,ut,bt,ht),q=n(ct,ut,bt,ht)}o(this.h,0,U,q),o(this.h,2,H,G),o(this.h,4,K,Q),o(this.h,6,z,D),o(this.h,8,F,I),o(this.h,10,P,V),o(this.h,12,$,W),o(this.h,14,et,ot)},B.prototype._digest=function(C){return C==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){const s=b(48),r=b(331),i={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};x.create=async function(f,c){const t=i[f],a=await s.get().subtle.importKey("raw",c,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{digest:async o=>(async(e,n)=>{const h=await s.get().subtle.sign({name:"HMAC"},e,n);return new Uint8Array(h,h.byteOffset,h.byteLength)})(a,o),length:r[f]}}},function(N,x,b){class s extends Error{constructor(i){super(i||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(i){return(...f)=>new r((c,t,a)=>{f.push(a),i(...f).then(c,t)})}constructor(i){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((f,c)=>{this._reject=c;const t=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(t,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),i(a=>{this._isPending=!1,f(a)},a=>{this._isPending=!1,c(a)},t)})}then(i,f){return this._promise.then(i,f)}catch(i){return this._promise.catch(i)}finally(i){return this._promise.finally(i)}cancel(i){if(this._isPending&&!this._isCanceled){if(this._cancelHandlers.length>0)try{for(const f of this._cancelHandlers)f()}catch(f){this._reject(f)}this._isCanceled=!0,this._rejectOnCancel&&this._reject(new s(i))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),N.exports=r,N.exports.CancelError=s},function(N,x,b){const s=b(8),r=b(14),i=b(0),{codes:f}=b(10);N.exports=function(c){let t;if(typeof c=="string"&&(c=r(c)),r.isMultiaddr(c)){t=c;try{c=s.createFromB58String(c.getPeerId())}catch(a){throw i(new Error(c+" is not a valid peer type"),f.ERR_INVALID_MULTIADDR)}}return{id:c,multiaddrs:t?[t]:void 0}}},function(N,x,b){var s=b(359),r=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,f=Array.prototype.concat,c=Object.defineProperty,t=c&&function(){var e={};try{for(var n in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(h){return!1}}(),a=function(e,n,h,u){var d;(!(n in e)||typeof(d=u)=="function"&&i.call(d)==="[object Function]"&&u())&&(t?c(e,n,{configurable:!0,enumerable:!1,value:h,writable:!0}):e[n]=h)},o=function(e,n){var h=arguments.length>2?arguments[2]:{},u=s(n);r&&(u=f.call(u,Object.getOwnPropertySymbols(n)));for(var d=0;d<u.length;d+=1)a(e,u[d],n[u[d]],h[u[d]])};o.supportsDescriptors=!!t,N.exports=o},function(N,x,b){var s=Object.prototype.toString;N.exports=function(r){var i=s.call(r),f=i==="[object Arguments]";return f||(f=i!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s.call(r.callee)==="[object Function]"),f}},function(N,x,b){typeof self!="undefined"?N.exports=self:typeof window!="undefined"?N.exports=window:N.exports=Function("return this")()},function(N,x,b){(function(s){var r=b(133);N.exports=function(){return typeof s=="object"&&s&&s.Math===Math&&s.Array===Array?s:r}}).call(this,b(7))},function(N,x,b){const s=b(363).version;N.exports.PROTOCOL_VERSION="ipfs/0.1.0",N.exports.AGENT_VERSION="js-libp2p/"+s,N.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0",N.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"},function(N,x,b){const s=b(364),{codes:r}=b(10),i=b(0),f=b(2),c=f("libp2p:transports");c.error=f("libp2p:transports:error");class t{constructor({libp2p:o,upgrader:e,faultTolerance:n=a.FATAL_ALL}){this.libp2p=o,this.upgrader=e,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=n}add(o,e,n={}){if(c("adding %s",o),!o)throw i(new Error(`Transport must have a valid key, was given '${o}'`),r.ERR_INVALID_KEY);if(this._transports.has(o))throw i(new Error("There is already a transport with this key"),r.ERR_DUPLICATE_TRANSPORT);const h=new e({...n,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(o,h),this._listenerOptions.set(o,n.listenerOptions||{}),this._listeners.has(o)||this._listeners.set(o,[])}async close(){const o=[];for(const[e,n]of this._listeners)for(c("closing listeners for %s",e);n.length;){const h=n.pop();o.push(h.close())}await Promise.all(o),c("all listeners closed");for(const e of this._listeners.keys())this._listeners.set(e,[])}async dial(o,e){const n=this.transportForMultiaddr(o);if(!n)throw i(new Error("No transport available for address "+String(o)),r.ERR_TRANSPORT_UNAVAILABLE);try{return await n.dial(o,e)}catch(h){throw h.code||(h.code=r.ERR_TRANSPORT_DIAL_FAILED),h}}getAddrs(){let o=[];for(const e of this._listeners.values())for(const n of e)o=[...o,...n.getAddrs()];return o}getTransports(){return this._transports.values()}transportForMultiaddr(o){for(const e of this._transports.values())if(e.filter([o]).length)return e;return null}async listen(){const o=this.libp2p.addressManager.getListenAddrs();if(o.length===0)return void c("no addresses were provided for listening, this node is dial only");const e=[];for(const[n,h]of this._transports.entries()){const u=h.filter(o),d=[];for(const l of u){c("creating listener for %s on %s",n,l);const m=h.createListener(this._listenerOptions.get(n),this.onConnection);this._listeners.get(n).push(m),d.push(m.listen(l))}if(d.length===0){e.push(n);continue}if(!(await s(d)).find(l=>l.isFulfilled===!0))throw i(new Error(`Transport (${n}) could not listen on any available address`),r.ERR_NO_VALID_ADDRESSES)}if(e.length===this._transports.size){const n=`no valid addresses were provided for transports [${e}]`;if(this.faultTolerance===a.FATAL_ALL)throw i(new Error(n),r.ERR_NO_VALID_ADDRESSES);c("libp2p in dial mode only: "+n)}}async remove(o){if(c("removing %s",o),this._listeners.has(o))for(const e of this._listeners.get(o))await e.close();this._transports.delete(o),this._listeners.delete(o)}async removeAll(){const o=[];for(const e of this._transports.keys())o.push(this.remove(e));await Promise.all(o)}}const a={FATAL_ALL:0,NO_FATAL:1};t.FaultTolerance=a,N.exports=t},function(N,x,b){const s=b(14),{CircuitRelay:r}=b(41);function i(f,c){f.write({type:r.Type.STATUS,code:c})}N.exports={validateAddrs:function(f,c){try{f.dstPeer.addrs.forEach(t=>s(t))}catch(t){throw i(c,f.type===r.Type.HOP?r.Status.HOP_DST_MULTIADDR_INVALID:r.Status.STOP_DST_MULTIADDR_INVALID),t}try{f.srcPeer.addrs.forEach(t=>s(t))}catch(t){throw i(c,f.type===r.Type.HOP?r.Status.HOP_SRC_MULTIADDR_INVALID:r.Status.STOP_SRC_MULTIADDR_INVALID),t}}}},function(N,x,b){const s=b(9),{Buffer:r}=b(4),i=(f,c,t)=>{const a=s.encode(f,c,t);return i.bytes=s.encode.bytes,c||r.from(a)};N.exports=i},function(N,x,b){const{Buffer:s}=b(4),r=b(9),i=f=>{const c=r.decode(s.isBuffer(f)?f:(t=f,new Proxy({},{get:(a,o)=>o[0]==="l"?t[o]:t.get(parseInt(o))})));var t;return i.bytes=r.decode.bytes,c};N.exports=i},function(N,x,b){const s=b(33);N.exports=r=>{const i=async function*(){let f=yield,c=new s;for await(const t of r)if(f)for(c.append(t);c.length>=f;){const a=c.shallowSlice(0,f);if(c.consume(f),f=yield a,!f){c.length&&(f=yield c,c=new s);break}}else f=yield c.append(t),c=new s;if(f)throw Object.assign(new Error(`stream ended before ${f} bytes became available`),{code:"ERR_UNDER_READ",buffer:c})}();return i.next(),i}},function(N,x,b){const s=b(386);N.exports=class{constructor(r){this.hwm=r||16,this.head=new s(this.hwm),this.tail=this.head}push(r){if(!this.head.push(r)){const i=this.head;this.head=i.next=new s(2*this.head.buffer.length),this.head.push(r)}}shift(){const r=this.tail.shift();if(r===void 0&&this.tail.next){const i=this.tail.next;return this.tail.next=null,this.tail=i,this.tail.shift()}return r}isEmpty(){return this.head.isEmpty()}}},function(N,x,b){N.exports=()=>{const s={};return s.promise=new Promise((r,i)=>{s.resolve=r,s.reject=i}),s}},function(N,x,b){const{CircuitRelay:s}=b(41),r=b(80),i=b(81),{validateAddrs:f}=b(137),c=b(2),t=c("libp2p:circuit:stop");t.error=c("libp2p:circuit:stop:error"),N.exports.handleStop=function({connection:a,request:o,streamHandler:e}){try{f(o,e)}catch(n){return t.error("invalid stop request via peer %s",a.remotePeer.toB58String(),n)}return t("stop request is valid"),e.write({type:s.Type.STATUS,code:s.Status.SUCCESS}),e.rest()},N.exports.stop=async function({connection:a,request:o}){const{stream:e}=await a.newStream([r.relay]);t("starting stop request to %s",a.remotePeer.toB58String());const n=new i({stream:e});n.write(o);const h=await n.read();if(h.code===s.Status.SUCCESS)return t("stop request to %s was successful",a.remotePeer.toB58String()),n.rest();t("stop request failed with code %d",h.code),n.close()}},function(N,x,b){const{AbortController:s,AbortSignal:r}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;N.exports=s,N.exports.AbortSignal=r,N.exports.default=s},function(N,x,b){const s=b(389);function r(i){const f=new s;function c(){f.abort();for(const t of i)t&&t.removeEventListener&&t.removeEventListener("abort",c)}for(const t of i)if(t&&t.addEventListener){if(t.aborted){c();break}t.addEventListener("abort",c)}return f.signal}N.exports=r,N.exports.anySignal=r},function(N,x,b){const s=b(128),r=b(397),i=b(64);x.aes=r,x.hmac=s,x.keys=i,x.randomBytes=b(71),x.pbkdf2=b(400)},function(N,x,b){var s=b(1);b(38),b(23),b(67),b(25),b(404),b(37),b(69),b(406),b(46),b(3);var r=s.asn1,i=N.exports=s.pki=s.pki||{},f=i.oids,c={};c.CN=f.commonName,c.commonName="CN",c.C=f.countryName,c.countryName="C",c.L=f.localityName,c.localityName="L",c.ST=f.stateOrProvinceName,c.stateOrProvinceName="ST",c.O=f.organizationName,c.organizationName="O",c.OU=f.organizationalUnitName,c.organizationalUnitName="OU",c.E=f.emailAddress,c.emailAddress="E";var t=s.pki.rsa.publicKeyValidator,a={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},t,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},e={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},t,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},n={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[e,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(E,R){typeof R=="string"&&(R={shortName:R});for(var S,M=null,y=0;M===null&&y<E.attributes.length;++y)S=E.attributes[y],(R.type&&R.type===S.type||R.name&&R.name===S.name||R.shortName&&R.shortName===S.shortName)&&(M=S);return M}i.RDNAttributesAsArray=function(E,R){for(var S,M,y,p=[],w=0;w<E.value.length;++w){S=E.value[w];for(var v=0;v<S.value.length;++v)y={},M=S.value[v],y.type=r.derToOid(M.value[0].value),y.value=M.value[1].value,y.valueTagClass=M.value[1].type,y.type in f&&(y.name=f[y.type],y.name in c&&(y.shortName=c[y.name])),R&&(R.update(y.type),R.update(y.value)),p.push(y)}return p},i.CRIAttributesAsArray=function(E){for(var R=[],S=0;S<E.length;++S)for(var M=E[S],y=r.derToOid(M.value[0].value),p=M.value[1].value,w=0;w<p.length;++w){var v={};if(v.type=y,v.value=p[w].value,v.valueTagClass=p[w].type,v.type in f&&(v.name=f[v.type],v.name in c&&(v.shortName=c[v.name])),v.type===f.extensionRequest){v.extensions=[];for(var _=0;_<v.value.length;++_)v.extensions.push(i.certificateExtensionFromAsn1(v.value[_]))}R.push(v)}return R};var u=function(E,R,S){var M={};if(E!==f["RSASSA-PSS"])return M;S&&(M={hash:{algorithmOid:f.sha1},mgf:{algorithmOid:f.mgf1,hash:{algorithmOid:f.sha1}},saltLength:20});var y={},p=[];if(!r.validate(R,o,y,p)){var w=new Error("Cannot read RSASSA-PSS parameter block.");throw w.errors=p,w}return y.hashOid!==void 0&&(M.hash=M.hash||{},M.hash.algorithmOid=r.derToOid(y.hashOid)),y.maskGenOid!==void 0&&(M.mgf=M.mgf||{},M.mgf.algorithmOid=r.derToOid(y.maskGenOid),M.mgf.hash=M.mgf.hash||{},M.mgf.hash.algorithmOid=r.derToOid(y.maskGenHashOid)),y.saltLength!==void 0&&(M.saltLength=y.saltLength.charCodeAt(0)),M};function d(E){for(var R,S,M=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),y=E.attributes,p=0;p<y.length;++p){var w=(R=y[p]).value,v=r.Type.PRINTABLESTRING;"valueTagClass"in R&&(v=R.valueTagClass)===r.Type.UTF8&&(w=s.util.encodeUtf8(w)),S=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.type).getBytes()),r.create(r.Class.UNIVERSAL,v,!1,w)])]),M.value.push(S)}return M}function l(E){for(var R,S=0;S<E.length;++S){if((R=E[S]).name===void 0&&(R.type&&R.type in i.oids?R.name=i.oids[R.type]:R.shortName&&R.shortName in c&&(R.name=i.oids[c[R.shortName]])),R.type===void 0){if(!R.name||!(R.name in i.oids))throw(y=new Error("Attribute type not specified.")).attribute=R,y;R.type=i.oids[R.name]}if(R.shortName===void 0&&R.name&&R.name in c&&(R.shortName=c[R.name]),R.type===f.extensionRequest&&(R.valueConstructed=!0,R.valueTagClass=r.Type.SEQUENCE,!R.value&&R.extensions)){R.value=[];for(var M=0;M<R.extensions.length;++M)R.value.push(i.certificateExtensionToAsn1(m(R.extensions[M])))}var y;if(R.value===void 0)throw(y=new Error("Attribute value not specified.")).attribute=R,y}}function m(E,R){if(R=R||{},E.name===void 0&&E.id&&E.id in i.oids&&(E.name=i.oids[E.id]),E.id===void 0){if(!E.name||!(E.name in i.oids))throw(K=new Error("Extension ID not specified.")).extension=E,K;E.id=i.oids[E.name]}if(E.value!==void 0)return E;if(E.name==="keyUsage"){var S=0,M=0,y=0;E.digitalSignature&&(M|=128,S=7),E.nonRepudiation&&(M|=64,S=6),E.keyEncipherment&&(M|=32,S=5),E.dataEncipherment&&(M|=16,S=4),E.keyAgreement&&(M|=8,S=3),E.keyCertSign&&(M|=4,S=2),E.cRLSign&&(M|=2,S=1),E.encipherOnly&&(M|=1,S=0),E.decipherOnly&&(y|=128,S=7);var p=String.fromCharCode(S);y!==0?p+=String.fromCharCode(M)+String.fromCharCode(y):M!==0&&(p+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,p)}else if(E.name==="basicConstraints")E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),E.cA&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in E&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.pathLenConstraint).getBytes()));else if(E.name==="extKeyUsage"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var w=E.value.value;for(var v in E)E[v]===!0&&(v in f?w.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f[v]).getBytes())):v.indexOf(".")!==-1&&w.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(v).getBytes())))}else if(E.name==="nsCertType")S=0,M=0,E.client&&(M|=128,S=7),E.server&&(M|=64,S=6),E.email&&(M|=32,S=5),E.objsign&&(M|=16,S=4),E.reserved&&(M|=8,S=3),E.sslCA&&(M|=4,S=2),E.emailCA&&(M|=2,S=1),E.objCA&&(M|=1,S=0),p=String.fromCharCode(S),M!==0&&(p+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,p);else if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var _=0;_<E.altNames.length;++_){if(p=(q=E.altNames[_]).value,q.type===7&&q.ip){if((p=s.util.bytesFromIP(q.ip))===null)throw(K=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=E,K}else q.type===8&&(p=q.oid?r.oidToDer(r.oidToDer(q.oid)):r.oidToDer(p));E.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,q.type,!1,p))}}else if(E.name==="nsComment"&&R.cert){if(!/^[\x00-\x7F]*$/.test(E.comment)||E.comment.length<1||E.comment.length>128)throw new Error('Invalid "nsComment" content.');E.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,E.comment)}else if(E.name==="subjectKeyIdentifier"&&R.cert){var C=R.cert.generateSubjectKeyIdentifier();E.subjectKeyIdentifier=C.toHex(),E.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C.getBytes())}else if(E.name==="authorityKeyIdentifier"&&R.cert){if(E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),w=E.value.value,E.keyIdentifier){var L=E.keyIdentifier===!0?R.cert.generateSubjectKeyIdentifier().getBytes():E.keyIdentifier;w.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,L))}if(E.authorityCertIssuer){var O=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[d(E.authorityCertIssuer===!0?R.cert.issuer:E.authorityCertIssuer)])];w.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,O))}if(E.serialNumber){var U=s.util.hexToBytes(E.serialNumber===!0?R.cert.serialNumber:E.serialNumber);w.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,U))}}else if(E.name==="cRLDistributionPoints"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),w=E.value.value;var q,H=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),G=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(_=0;_<E.altNames.length;++_){if(p=(q=E.altNames[_]).value,q.type===7&&q.ip){if((p=s.util.bytesFromIP(q.ip))===null)throw(K=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=E,K}else q.type===8&&(p=q.oid?r.oidToDer(r.oidToDer(q.oid)):r.oidToDer(p));G.value.push(r.create(r.Class.CONTEXT_SPECIFIC,q.type,!1,p))}H.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[G])),w.push(H)}var K;if(E.value===void 0)throw(K=new Error("Extension value not specified.")).extension=E,K;return E}function A(E,R){switch(E){case f["RSASSA-PSS"]:var S=[];return R.hash.algorithmOid!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),R.mgf.algorithmOid!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),R.saltLength!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(R.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,S);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function B(E){var R=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(E.attributes.length===0)return R;for(var S=E.attributes,M=0;M<S.length;++M){var y=S[M],p=y.value,w=r.Type.UTF8;"valueTagClass"in y&&(w=y.valueTagClass),w===r.Type.UTF8&&(p=s.util.encodeUtf8(p));var v=!1;"valueConstructed"in y&&(v=y.valueConstructed);var _=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(y.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,w,v,p)])]);R.value.push(_)}return R}i.certificateFromPem=function(E,R,S){var M=s.pem.decode(E)[0];if(M.type!=="CERTIFICATE"&&M.type!=="X509 CERTIFICATE"&&M.type!=="TRUSTED CERTIFICATE"){var y=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw y.headerType=M.type,y}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var p=r.fromDer(M.body,S);return i.certificateFromAsn1(p,R)},i.certificateToPem=function(E,R){var S={type:"CERTIFICATE",body:r.toDer(i.certificateToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.publicKeyFromPem=function(E){var R=s.pem.decode(E)[0];if(R.type!=="PUBLIC KEY"&&R.type!=="RSA PUBLIC KEY"){var S=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw S.headerType=R.type,S}if(R.procType&&R.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var M=r.fromDer(R.body);return i.publicKeyFromAsn1(M)},i.publicKeyToPem=function(E,R){var S={type:"PUBLIC KEY",body:r.toDer(i.publicKeyToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.publicKeyToRSAPublicKeyPem=function(E,R){var S={type:"RSA PUBLIC KEY",body:r.toDer(i.publicKeyToRSAPublicKey(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.getPublicKeyFingerprint=function(E,R){var S,M=(R=R||{}).md||s.md.sha1.create();switch(R.type||"RSAPublicKey"){case"RSAPublicKey":S=r.toDer(i.publicKeyToRSAPublicKey(E)).getBytes();break;case"SubjectPublicKeyInfo":S=r.toDer(i.publicKeyToAsn1(E)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+R.type+'".')}M.start(),M.update(S);var y=M.digest();if(R.encoding==="hex"){var p=y.toHex();return R.delimiter?p.match(/.{2}/g).join(R.delimiter):p}if(R.encoding==="binary")return y.getBytes();if(R.encoding)throw new Error('Unknown encoding "'+R.encoding+'".');return y},i.certificationRequestFromPem=function(E,R,S){var M=s.pem.decode(E)[0];if(M.type!=="CERTIFICATE REQUEST"){var y=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw y.headerType=M.type,y}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var p=r.fromDer(M.body,S);return i.certificationRequestFromAsn1(p,R)},i.certificationRequestToPem=function(E,R){var S={type:"CERTIFICATE REQUEST",body:r.toDer(i.certificationRequestToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.createCertificate=function(){var E={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return E.siginfo.algorithmOid=null,E.validity={},E.validity.notBefore=new Date,E.validity.notAfter=new Date,E.issuer={},E.issuer.getField=function(R){return h(E.issuer,R)},E.issuer.addField=function(R){l([R]),E.issuer.attributes.push(R)},E.issuer.attributes=[],E.issuer.hash=null,E.subject={},E.subject.getField=function(R){return h(E.subject,R)},E.subject.addField=function(R){l([R]),E.subject.attributes.push(R)},E.subject.attributes=[],E.subject.hash=null,E.extensions=[],E.publicKey=null,E.md=null,E.setSubject=function(R,S){l(R),E.subject.attributes=R,delete E.subject.uniqueId,S&&(E.subject.uniqueId=S),E.subject.hash=null},E.setIssuer=function(R,S){l(R),E.issuer.attributes=R,delete E.issuer.uniqueId,S&&(E.issuer.uniqueId=S),E.issuer.hash=null},E.setExtensions=function(R){for(var S=0;S<R.length;++S)m(R[S],{cert:E});E.extensions=R},E.getExtension=function(R){typeof R=="string"&&(R={name:R});for(var S,M=null,y=0;M===null&&y<E.extensions.length;++y)S=E.extensions[y],(R.id&&S.id===R.id||R.name&&S.name===R.name)&&(M=S);return M},E.sign=function(R,S){E.md=S||s.md.sha1.create();var M=f[E.md.algorithm+"WithRSAEncryption"];if(!M){var y=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw y.algorithm=E.md.algorithm,y}E.signatureOid=E.siginfo.algorithmOid=M,E.tbsCertificate=i.getTBSCertificate(E);var p=r.toDer(E.tbsCertificate);E.md.update(p.getBytes()),E.signature=R.sign(E.md)},E.verify=function(R){var S=!1;if(!E.issued(R)){var M=R.issuer,y=E.subject;throw(O=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=M.attributes,O.actualIssuer=y.attributes,O}var p=R.md;if(p===null){if(R.signatureOid in f)switch(f[R.signatureOid]){case"sha1WithRSAEncryption":p=s.md.sha1.create();break;case"md5WithRSAEncryption":p=s.md.md5.create();break;case"sha256WithRSAEncryption":p=s.md.sha256.create();break;case"sha384WithRSAEncryption":p=s.md.sha384.create();break;case"sha512WithRSAEncryption":p=s.md.sha512.create();break;case"RSASSA-PSS":p=s.md.sha256.create()}if(p===null)throw(O=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=R.signatureOid,O;var w=R.tbsCertificate||i.getTBSCertificate(R),v=r.toDer(w);p.update(v.getBytes())}if(p!==null){var _;switch(R.signatureOid){case f.sha1WithRSAEncryption:_=void 0;break;case f["RSASSA-PSS"]:var C,L,O;if((C=f[R.signatureParameters.mgf.hash.algorithmOid])===void 0||s.md[C]===void 0)throw(O=new Error("Unsupported MGF hash function.")).oid=R.signatureParameters.mgf.hash.algorithmOid,O.name=C,O;if((L=f[R.signatureParameters.mgf.algorithmOid])===void 0||s.mgf[L]===void 0)throw(O=new Error("Unsupported MGF function.")).oid=R.signatureParameters.mgf.algorithmOid,O.name=L,O;if(L=s.mgf[L].create(s.md[C].create()),(C=f[R.signatureParameters.hash.algorithmOid])===void 0||s.md[C]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:R.signatureParameters.hash.algorithmOid,name:C};_=s.pss.create(s.md[C].create(),L,R.signatureParameters.saltLength)}S=E.publicKey.verify(p.digest().getBytes(),R.signature,_)}return S},E.isIssuer=function(R){var S=!1,M=E.issuer,y=R.subject;if(M.hash&&y.hash)S=M.hash===y.hash;else if(M.attributes.length===y.attributes.length){var p,w;S=!0;for(var v=0;S&&v<M.attributes.length;++v)p=M.attributes[v],w=y.attributes[v],p.type===w.type&&p.value===w.value||(S=!1)}return S},E.issued=function(R){return R.isIssuer(E)},E.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(E.publicKey,{type:"RSAPublicKey"})},E.verifySubjectKeyIdentifier=function(){for(var R=f.subjectKeyIdentifier,S=0;S<E.extensions.length;++S){var M=E.extensions[S];if(M.id===R){var y=E.generateSubjectKeyIdentifier().getBytes();return s.util.hexToBytes(M.subjectKeyIdentifier)===y}}return!1},E},i.certificateFromAsn1=function(E,R){var S={},M=[];if(!r.validate(E,a,S,M))throw(v=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=M,v;if(r.derToOid(S.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=i.createCertificate();y.version=S.certVersion?S.certVersion.charCodeAt(0):0;var p=s.util.createBuffer(S.certSerialNumber);y.serialNumber=p.toHex(),y.signatureOid=s.asn1.derToOid(S.certSignatureOid),y.signatureParameters=u(y.signatureOid,S.certSignatureParams,!0),y.siginfo.algorithmOid=s.asn1.derToOid(S.certinfoSignatureOid),y.siginfo.parameters=u(y.siginfo.algorithmOid,S.certinfoSignatureParams,!1),y.signature=S.certSignature;var w=[];if(S.certValidity1UTCTime!==void 0&&w.push(r.utcTimeToDate(S.certValidity1UTCTime)),S.certValidity2GeneralizedTime!==void 0&&w.push(r.generalizedTimeToDate(S.certValidity2GeneralizedTime)),S.certValidity3UTCTime!==void 0&&w.push(r.utcTimeToDate(S.certValidity3UTCTime)),S.certValidity4GeneralizedTime!==void 0&&w.push(r.generalizedTimeToDate(S.certValidity4GeneralizedTime)),w.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(w.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(y.validity.notBefore=w[0],y.validity.notAfter=w[1],y.tbsCertificate=S.tbsCertificate,R){var v;if(y.md=null,y.signatureOid in f)switch(f[y.signatureOid]){case"sha1WithRSAEncryption":y.md=s.md.sha1.create();break;case"md5WithRSAEncryption":y.md=s.md.md5.create();break;case"sha256WithRSAEncryption":y.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":y.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":y.md=s.md.sha512.create();break;case"RSASSA-PSS":y.md=s.md.sha256.create()}if(y.md===null)throw(v=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=y.signatureOid,v;var _=r.toDer(y.tbsCertificate);y.md.update(_.getBytes())}var C=s.md.sha1.create();y.issuer.getField=function(O){return h(y.issuer,O)},y.issuer.addField=function(O){l([O]),y.issuer.attributes.push(O)},y.issuer.attributes=i.RDNAttributesAsArray(S.certIssuer,C),S.certIssuerUniqueId&&(y.issuer.uniqueId=S.certIssuerUniqueId),y.issuer.hash=C.digest().toHex();var L=s.md.sha1.create();return y.subject.getField=function(O){return h(y.subject,O)},y.subject.addField=function(O){l([O]),y.subject.attributes.push(O)},y.subject.attributes=i.RDNAttributesAsArray(S.certSubject,L),S.certSubjectUniqueId&&(y.subject.uniqueId=S.certSubjectUniqueId),y.subject.hash=L.digest().toHex(),S.certExtensions?y.extensions=i.certificateExtensionsFromAsn1(S.certExtensions):y.extensions=[],y.publicKey=i.publicKeyFromAsn1(S.subjectPublicKeyInfo),y},i.certificateExtensionsFromAsn1=function(E){for(var R=[],S=0;S<E.value.length;++S)for(var M=E.value[S],y=0;y<M.value.length;++y)R.push(i.certificateExtensionFromAsn1(M.value[y]));return R},i.certificateExtensionFromAsn1=function(E){var R={};if(R.id=r.derToOid(E.value[0].value),R.critical=!1,E.value[1].type===r.Type.BOOLEAN?(R.critical=E.value[1].value.charCodeAt(0)!==0,R.value=E.value[2].value):R.value=E.value[1].value,R.id in f)if(R.name=f[R.id],R.name==="keyUsage"){var S=0,M=0;(p=r.fromDer(R.value)).value.length>1&&(S=p.value.charCodeAt(1),M=p.value.length>2?p.value.charCodeAt(2):0),R.digitalSignature=(128&S)==128,R.nonRepudiation=(64&S)==64,R.keyEncipherment=(32&S)==32,R.dataEncipherment=(16&S)==16,R.keyAgreement=(8&S)==8,R.keyCertSign=(4&S)==4,R.cRLSign=(2&S)==2,R.encipherOnly=(1&S)==1,R.decipherOnly=(128&M)==128}else if(R.name==="basicConstraints"){(p=r.fromDer(R.value)).value.length>0&&p.value[0].type===r.Type.BOOLEAN?R.cA=p.value[0].value.charCodeAt(0)!==0:R.cA=!1;var y=null;p.value.length>0&&p.value[0].type===r.Type.INTEGER?y=p.value[0].value:p.value.length>1&&(y=p.value[1].value),y!==null&&(R.pathLenConstraint=r.derToInteger(y))}else if(R.name==="extKeyUsage")for(var p=r.fromDer(R.value),w=0;w<p.value.length;++w){var v=r.derToOid(p.value[w].value);v in f?R[f[v]]=!0:R[v]=!0}else if(R.name==="nsCertType")S=0,(p=r.fromDer(R.value)).value.length>1&&(S=p.value.charCodeAt(1)),R.client=(128&S)==128,R.server=(64&S)==64,R.email=(32&S)==32,R.objsign=(16&S)==16,R.reserved=(8&S)==8,R.sslCA=(4&S)==4,R.emailCA=(2&S)==2,R.objCA=(1&S)==1;else if(R.name==="subjectAltName"||R.name==="issuerAltName"){var _;R.altNames=[],p=r.fromDer(R.value);for(var C=0;C<p.value.length;++C){var L={type:(_=p.value[C]).type,value:_.value};switch(R.altNames.push(L),_.type){case 1:case 2:case 6:break;case 7:L.ip=s.util.bytesToIP(_.value);break;case 8:L.oid=r.derToOid(_.value)}}}else R.name==="subjectKeyIdentifier"&&(p=r.fromDer(R.value),R.subjectKeyIdentifier=s.util.bytesToHex(p.value));return R},i.certificationRequestFromAsn1=function(E,R){var S={},M=[];if(!r.validate(E,n,S,M))throw(p=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=M,p;if(r.derToOid(S.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=i.createCertificationRequest();if(y.version=S.csrVersion?S.csrVersion.charCodeAt(0):0,y.signatureOid=s.asn1.derToOid(S.csrSignatureOid),y.signatureParameters=u(y.signatureOid,S.csrSignatureParams,!0),y.siginfo.algorithmOid=s.asn1.derToOid(S.csrSignatureOid),y.siginfo.parameters=u(y.siginfo.algorithmOid,S.csrSignatureParams,!1),y.signature=S.csrSignature,y.certificationRequestInfo=S.certificationRequestInfo,R){var p;if(y.md=null,y.signatureOid in f)switch(f[y.signatureOid]){case"sha1WithRSAEncryption":y.md=s.md.sha1.create();break;case"md5WithRSAEncryption":y.md=s.md.md5.create();break;case"sha256WithRSAEncryption":y.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":y.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":y.md=s.md.sha512.create();break;case"RSASSA-PSS":y.md=s.md.sha256.create()}if(y.md===null)throw(p=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=y.signatureOid,p;var w=r.toDer(y.certificationRequestInfo);y.md.update(w.getBytes())}var v=s.md.sha1.create();return y.subject.getField=function(_){return h(y.subject,_)},y.subject.addField=function(_){l([_]),y.subject.attributes.push(_)},y.subject.attributes=i.RDNAttributesAsArray(S.certificationRequestInfoSubject,v),y.subject.hash=v.digest().toHex(),y.publicKey=i.publicKeyFromAsn1(S.subjectPublicKeyInfo),y.getAttribute=function(_){return h(y,_)},y.addAttribute=function(_){l([_]),y.attributes.push(_)},y.attributes=i.CRIAttributesAsArray(S.certificationRequestInfoAttributes||[]),y},i.createCertificationRequest=function(){var E={version:0,signatureOid:null,signature:null,siginfo:{}};return E.siginfo.algorithmOid=null,E.subject={},E.subject.getField=function(R){return h(E.subject,R)},E.subject.addField=function(R){l([R]),E.subject.attributes.push(R)},E.subject.attributes=[],E.subject.hash=null,E.publicKey=null,E.attributes=[],E.getAttribute=function(R){return h(E,R)},E.addAttribute=function(R){l([R]),E.attributes.push(R)},E.md=null,E.setSubject=function(R){l(R),E.subject.attributes=R,E.subject.hash=null},E.setAttributes=function(R){l(R),E.attributes=R},E.sign=function(R,S){E.md=S||s.md.sha1.create();var M=f[E.md.algorithm+"WithRSAEncryption"];if(!M){var y=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw y.algorithm=E.md.algorithm,y}E.signatureOid=E.siginfo.algorithmOid=M,E.certificationRequestInfo=i.getCertificationRequestInfo(E);var p=r.toDer(E.certificationRequestInfo);E.md.update(p.getBytes()),E.signature=R.sign(E.md)},E.verify=function(){var R=!1,S=E.md;if(S===null){if(E.signatureOid in f)switch(f[E.signatureOid]){case"sha1WithRSAEncryption":S=s.md.sha1.create();break;case"md5WithRSAEncryption":S=s.md.md5.create();break;case"sha256WithRSAEncryption":S=s.md.sha256.create();break;case"sha384WithRSAEncryption":S=s.md.sha384.create();break;case"sha512WithRSAEncryption":S=s.md.sha512.create();break;case"RSASSA-PSS":S=s.md.sha256.create()}if(S===null)throw(_=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=E.signatureOid,_;var M=E.certificationRequestInfo||i.getCertificationRequestInfo(E),y=r.toDer(M);S.update(y.getBytes())}if(S!==null){var p;switch(E.signatureOid){case f.sha1WithRSAEncryption:break;case f["RSASSA-PSS"]:var w,v,_;if((w=f[E.signatureParameters.mgf.hash.algorithmOid])===void 0||s.md[w]===void 0)throw(_=new Error("Unsupported MGF hash function.")).oid=E.signatureParameters.mgf.hash.algorithmOid,_.name=w,_;if((v=f[E.signatureParameters.mgf.algorithmOid])===void 0||s.mgf[v]===void 0)throw(_=new Error("Unsupported MGF function.")).oid=E.signatureParameters.mgf.algorithmOid,_.name=v,_;if(v=s.mgf[v].create(s.md[w].create()),(w=f[E.signatureParameters.hash.algorithmOid])===void 0||s.md[w]===void 0)throw(_=new Error("Unsupported RSASSA-PSS hash function.")).oid=E.signatureParameters.hash.algorithmOid,_.name=w,_;p=s.pss.create(s.md[w].create(),v,E.signatureParameters.saltLength)}R=E.publicKey.verify(S.digest().getBytes(),E.signature,p)}return R},E};var k=new Date("1950-01-01T00:00:00Z"),T=new Date("2050-01-01T00:00:00Z");function g(E){return E>=k&&E<T?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(E)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(E))}i.getTBSCertificate=function(E){var R=g(E.validity.notBefore),S=g(E.validity.notAfter),M=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(E.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.siginfo.algorithmOid).getBytes()),A(E.siginfo.algorithmOid,E.siginfo.parameters)]),d(E.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,S]),d(E.subject),i.publicKeyToAsn1(E.publicKey)]);return E.issuer.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.issuer.uniqueId)])),E.subject.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.subject.uniqueId)])),E.extensions.length>0&&M.value.push(i.certificateExtensionsToAsn1(E.extensions)),M},i.getCertificationRequestInfo=function(E){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes()),d(E.subject),i.publicKeyToAsn1(E.publicKey),B(E)])},i.distinguishedNameToAsn1=function(E){return d(E)},i.certificateToAsn1=function(E){var R=E.tbsCertificate||i.getTBSCertificate(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),A(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},i.certificateExtensionsToAsn1=function(E){var R=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),S=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);R.value.push(S);for(var M=0;M<E.length;++M)S.value.push(i.certificateExtensionToAsn1(E[M]));return R},i.certificateExtensionToAsn1=function(E){var R=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);R.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.id).getBytes())),E.critical&&R.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var S=E.value;return typeof E.value!="string"&&(S=r.toDer(S).getBytes()),R.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,S)),R},i.certificationRequestToAsn1=function(E){var R=E.certificationRequestInfo||i.getCertificationRequestInfo(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),A(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},i.createCaStore=function(E){var R={certs:{}};function S(w){return M(w),R.certs[w.hash]||null}function M(w){if(!w.hash){var v=s.md.sha1.create();w.attributes=i.RDNAttributesAsArray(d(w),v),w.hash=v.digest().toHex()}}if(R.getIssuer=function(w){return S(w.issuer)},R.addCertificate=function(w){if(typeof w=="string"&&(w=s.pki.certificateFromPem(w)),M(w.subject),!R.hasCertificate(w))if(w.subject.hash in R.certs){var v=R.certs[w.subject.hash];s.util.isArray(v)||(v=[v]),v.push(w),R.certs[w.subject.hash]=v}else R.certs[w.subject.hash]=w},R.hasCertificate=function(w){typeof w=="string"&&(w=s.pki.certificateFromPem(w));var v=S(w.subject);if(!v)return!1;s.util.isArray(v)||(v=[v]);for(var _=r.toDer(i.certificateToAsn1(w)).getBytes(),C=0;C<v.length;++C)if(_===r.toDer(i.certificateToAsn1(v[C])).getBytes())return!0;return!1},R.listAllCertificates=function(){var w=[];for(var v in R.certs)if(R.certs.hasOwnProperty(v)){var _=R.certs[v];if(s.util.isArray(_))for(var C=0;C<_.length;++C)w.push(_[C]);else w.push(_)}return w},R.removeCertificate=function(w){var v;if(typeof w=="string"&&(w=s.pki.certificateFromPem(w)),M(w.subject),!R.hasCertificate(w))return null;var _=S(w.subject);if(!s.util.isArray(_))return v=R.certs[w.subject.hash],delete R.certs[w.subject.hash],v;for(var C=r.toDer(i.certificateToAsn1(w)).getBytes(),L=0;L<_.length;++L)C===r.toDer(i.certificateToAsn1(_[L])).getBytes()&&(v=_[L],_.splice(L,1));return _.length===0&&delete R.certs[w.subject.hash],v},E)for(var y=0;y<E.length;++y){var p=E[y];R.addCertificate(p)}return R},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(E,R,S){typeof S=="function"&&(S={verify:S}),S=S||{};var M=(R=R.slice(0)).slice(0),y=S.validityCheckDate;y===void 0&&(y=new Date);var p=!0,w=null,v=0;do{var _=R.shift(),C=null,L=!1;if(y&&(y<_.validity.notBefore||y>_.validity.notAfter)&&(w={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:_.validity.notBefore,notAfter:_.validity.notAfter,now:y}),w===null){if((C=R[0]||E.getIssuer(_))===null&&_.isIssuer(_)&&(L=!0,C=_),C){var O=C;s.util.isArray(O)||(O=[O]);for(var U=!1;!U&&O.length>0;){C=O.shift();try{U=C.verify(_)}catch(F){}}U||(w={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}w!==null||C&&!L||E.hasCertificate(_)||(w={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(w===null&&C&&!_.isIssuer(C)&&(w={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),w===null)for(var q={keyUsage:!0,basicConstraints:!0},H=0;w===null&&H<_.extensions.length;++H){var G=_.extensions[H];G.critical&&!(G.name in q)&&(w={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(w===null&&(!p||R.length===0&&(!C||L))){var K=_.getExtension("basicConstraints"),Q=_.getExtension("keyUsage");(Q!==null&&(Q.keyCertSign&&K!==null||(w={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate})),w!==null||K===null||K.cA||(w={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),w===null&&Q!==null&&"pathLenConstraint"in K)&&(v-1>K.pathLenConstraint&&(w={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate}))}var z=w===null||w.error,D=S.verify?S.verify(z,v,M):z;if(D!==!0)throw z===!0&&(w={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(D||D===0)&&(typeof D!="object"||s.util.isArray(D)?typeof D=="string"&&(w.error=D):(D.message&&(w.message=D.message),D.error&&(w.error=D.error))),w;w=null,p=!1,++v}while(R.length>0);return!0}},function(N,x,b){x.PROTOCOL_ID="/multistream/1.0.0"},function(N,x,b){N.exports={OPEN:"open",CLOSING:"closing",CLOSED:"closed"}},function(N,x,b){const s=b(0),r=b(2);r("libp2p:peer-store").error=r("libp2p:peer-store:error");const{EventEmitter:i}=b(16),f=b(8),c=b(421),t=b(427),a=b(428),o=b(429),{ERR_INVALID_PARAMETERS:e}=b(10);N.exports=class extends i{constructor({peerId:n}){super(),this._peerId=n,this.addressBook=new c(this),this.keyBook=new t(this),this.metadataBook=new a(this),this.protoBook=new o(this)}start(){}stop(){}get peers(){const n=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&n.delete(this._peerId.toB58String());const h=new Map;return n.forEach(u=>{h.set(u,this.get(f.createFromCID(u)))}),h}delete(n){const h=this.addressBook.delete(n),u=this.keyBook.delete(n),d=this.protoBook.delete(n),l=this.metadataBook.delete(n);return h||u||d||l}get(n){if(!f.isPeerId(n))throw s(new Error("peerId must be an instance of peer-id"),e);const h=this.keyBook.data.get(n.toB58String()),u=this.addressBook.get(n),d=this.metadataBook.get(n),l=this.protoBook.get(n);if(h||u||d||l)return{id:h||n,addresses:u||[],protocols:l||[],metadata:d}}}},function(N,x,b){const s=b(14),r=b(8),i=b(422),f=b(423),c=b(424),{ENVELOPE_DOMAIN_PEER_RECORD:t,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:a}=b(425);class o extends i{constructor({peerId:e,multiaddrs:n=[],seqNumber:h=Date.now()}){super(t,a),this.peerId=e,this.multiaddrs=n,this.seqNumber=h,this._marshal=void 0}marshal(){return this._marshal||(this._marshal=c.encode({peer_id:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))})),this._marshal}equals(e){return!!this.peerId.equals(e.peerId)&&this.seqNumber===e.seqNumber&&!!f(this.multiaddrs,e.multiaddrs)}}o.createFromProtobuf=e=>{const n=c.decode(e),h=r.createFromBytes(n.peer_id),u=(n.addresses||[]).map(l=>s(l.multiaddr)),d=n.seq;return new o({peerId:h,multiaddrs:u,seqNumber:d})},o.DOMAIN=t,N.exports=o},function(N,x,b){const s=b(2);s("libp2p:envelope").error=s("libp2p:envelope:error");const r=b(0),i=b(19),f=b(6),c=b(64),t=b(8),a=b(9),o=b(20),{codes:e}=b(10),n=b(426);class h{constructor({peerId:d,payloadType:l,payload:m,signature:A}){this.peerId=d,this.payloadType=l,this.payload=m,this.signature=A,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;const d=c.marshalPublicKey(this.peerId.pubKey);return this._marshal=n.encode({public_key:d,payload_type:this.payloadType,payload:this.payload,signature:this.signature}),this._marshal}equals(d){return o(this.peerId.pubKey.bytes,d.peerId.pubKey.bytes)&&o(this.payloadType,d.payloadType)&&o(this.payload,d.payload)&&o(this.signature,d.signature)}validate(d){const l=u(d,this.payloadType,this.payload);return this.peerId.pubKey.verify(l,this.signature)}}const u=(d,l,m)=>{d=f(d);const A=a.encode(d.byteLength),B=a.encode(l.length),k=a.encode(m.length);return i([new Uint8Array(A),d,new Uint8Array(B),l,new Uint8Array(k),m])};h.createFromProtobuf=async d=>{const l=n.decode(d),m=await t.createFromPubKey(l.public_key);return new h({peerId:m,payloadType:l.payload_type,payload:l.payload,signature:l.signature})},h.seal=async(d,l)=>{const m=d.domain,A=d.codec,B=d.marshal(),k=u(m,A,B),T=await l.privKey.sign(k);return new h({peerId:l,payloadType:A,payload:B,signature:T})},h.openAndCertify=async(d,l)=>{const m=await h.createFromProtobuf(d);if(!await m.validate(l))throw r(new Error("envelope signature is not valid for the given domain"),e.ERR_SIGNATURE_NOT_VALID);return m},N.exports=h},function(N,x,b){N.exports=b(85)},function(N,x,b){N.exports=function(s){function r(c){let t,a=null;function o(...e){if(!o.enabled)return;const n=o,h=Number(new Date),u=h-(t||h);n.diff=u,n.prev=t,n.curr=h,t=h,e[0]=r.coerce(e[0]),typeof e[0]!="string"&&e.unshift("%O");let d=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(l,m)=>{if(l==="%%")return"%";d++;const A=r.formatters[m];if(typeof A=="function"){const B=e[d];l=A.call(n,B),e.splice(d,1),d--}return l}),r.formatArgs.call(n,e),(n.log||r.log).apply(n,e)}return o.namespace=c,o.useColors=r.useColors(),o.color=r.selectColor(c),o.extend=i,o.destroy=r.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>a===null?r.enabled(c):a,set:e=>{a=e}}),typeof r.init=="function"&&r.init(o),o}function i(c,t){const a=r(this.namespace+(t===void 0?":":t)+c);return a.log=this.log,a}function f(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(c){return c instanceof Error?c.stack||c.message:c},r.disable=function(){const c=[...r.names.map(f),...r.skips.map(f).map(t=>"-"+t)].join(",");return r.enable(""),c},r.enable=function(c){let t;r.save(c),r.names=[],r.skips=[];const a=(typeof c=="string"?c:"").split(/[\s,]+/),o=a.length;for(t=0;t<o;t++)a[t]&&((c=a[t].replace(/\*/g,".*?"))[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))},r.enabled=function(c){if(c[c.length-1]==="*")return!0;let t,a;for(t=0,a=r.skips.length;t<a;t++)if(r.skips[t].test(c))return!1;for(t=0,a=r.names.length;t<a;t++)if(r.names[t].test(c))return!0;return!1},r.humanize=b(86),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(s).forEach(c=>{r[c]=s[c]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(c){let t=0;for(let a=0;a<c.length;a++)t=(t<<5)-t+c.charCodeAt(a),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},function(N,x,b){N.exports=function(a,o){return typeof a=="string"?t(a):typeof a=="number"?c(a,o):null},N.exports.format=c,N.exports.parse=t;var s=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},f=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function c(a,o){if(!Number.isFinite(a))return null;var e=Math.abs(a),n=o&&o.thousandsSeparator||"",h=o&&o.unitSeparator||"",u=o&&o.decimalPlaces!==void 0?o.decimalPlaces:2,d=Boolean(o&&o.fixedDecimals),l=o&&o.unit||"";l&&i[l.toLowerCase()]||(l=e>=i.pb?"PB":e>=i.tb?"TB":e>=i.gb?"GB":e>=i.mb?"MB":e>=i.kb?"KB":"B");var m=(a/i[l.toLowerCase()]).toFixed(u);return d||(m=m.replace(r,"$1")),n&&(m=m.replace(s,n)),m+h+l}function t(a){if(typeof a=="number"&&!isNaN(a))return a;if(typeof a!="string")return null;var o,e=f.exec(a),n="b";return e?(o=parseFloat(e[1]),n=e[4].toLowerCase()):(o=parseInt(a,10),n="b"),Math.floor(i[n]*o)}},function(N,x,b){N.exports=function(...s){return s.length===0?".":s.join("/")}},function(N,x,b){x.create=function(s,r,i){return new i.storageBackends[s](r,Object.assign({},i.storageBackendOptions[s]||{}))}},function(N,x,b){const s=b(22).Key,r=b(2)("ipfs:repo:version"),i=b(5),f=b(6),c=new s("version");N.exports=t=>({exists:async()=>t.has(c),async get(){const a=await t.get(c);return parseInt(i(a),10)},set:async a=>t.put(c,f(String(a))),async check(a){const o=await this.get();return r("comparing version: %s and %s",o,a),o===a||o===6&&a===7||a===6&&o===7}})},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0}),x.urlAlphabet=void 0,x.urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"},function(N,x,b){const{nanoid:s}=b(89);N.exports=(r=i=>i)=>r(s())},function(N,x,b){N.exports=b(90).TextEncoder},function(N,x,b){const s=b(88),r=b(92),i=b(93);N.exports=class extends r{constructor(){super(),this.data={}}async put(f,c){this.data[f.toString()]=c}async get(f){if(!await this.has(f))throw i.notFoundError();return this.data[f.toString()]}async has(f){return this.data[f.toString()]!==void 0}async delete(f){delete this.data[f.toString()]}*_all(){yield*Object.entries(this.data).map(([f,c])=>({key:new s(f),value:c}))}}},function(N,x,b){N.exports=async s=>{for await(const r of s);}},function(N,x,b){N.exports=function(s){if(s.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var f=0;f<s.length;f++){var c=s.charAt(f),t=c.charCodeAt(0);if(r[t]!==255)throw new TypeError(c+" is ambiguous");r[t]=f}var a=s.length,o=s.charAt(0),e=Math.log(a)/Math.log(256),n=Math.log(256)/Math.log(a);function h(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var d=0;if(u[d]!==" "){for(var l=0,m=0;u[d]===o;)l++,d++;for(var A=(u.length-d)*e+1>>>0,B=new Uint8Array(A);u[d];){var k=r[u.charCodeAt(d)];if(k===255)return;for(var T=0,g=A-1;(k!==0||T<m)&&g!==-1;g--,T++)k+=a*B[g]>>>0,B[g]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=T,d++}if(u[d]!==" "){for(var E=A-m;E!==A&&B[E]===0;)E++;for(var R=new Uint8Array(l+(A-E)),S=l;E!==A;)R[S++]=B[E++];return R}}}return{encode:function(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var d=0,l=0,m=0,A=u.length;m!==A&&u[m]===0;)m++,d++;for(var B=(A-m)*n+1>>>0,k=new Uint8Array(B);m!==A;){for(var T=u[m],g=0,E=B-1;(T!==0||g<l)&&E!==-1;E--,g++)T+=256*k[E]>>>0,k[E]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");l=g,m++}for(var R=B-l;R!==B&&k[R]===0;)R++;for(var S=o.repeat(d);R<B;++R)S+=s.charAt(k[R]);return S},decodeUnsafe:h,decode:function(u){var d=h(u);if(d)return d;throw new Error("Non-base"+a+" character")}}}},function(N,x,b){const{encodeText:s}=b(55);N.exports=class{constructor(r,i,f,c){this.name=r,this.code=i,this.codeBuf=s(this.code),this.alphabet=c,this.codec=f(c)}encode(r){return this.codec.encode(r)}decode(r){for(const i of r)if(this.alphabet&&this.alphabet.indexOf(i)<0)throw new Error(`invalid character '${i}' in '${r}'`);return this.codec.decode(r)}}},function(N,x,b){N.exports={rfc4648:s=>r=>({encode:i=>((f,c,t)=>{const a=c[c.length-1]==="=",o=(1<<t)-1;let e="",n=0,h=0;for(let u=0;u<f.length;++u)for(h=h<<8|f[u],n+=8;n>t;)n-=t,e+=c[o&h>>n];if(n&&(e+=c[o&h<<t-n]),a)for(;e.length*t&7;)e+="=";return e})(i,r,s),decode:i=>((f,c,t)=>{const a={};for(let d=0;d<c.length;++d)a[c[d]]=d;let o=f.length;for(;f[o-1]==="=";)--o;const e=new Uint8Array(o*t/8|0);let n=0,h=0,u=0;for(let d=0;d<o;++d){const l=a[f[d]];if(l===void 0)throw new SyntaxError("Invalid character "+f[d]);h=h<<t|l,n+=t,n>=8&&(n-=8,e[u++]=255&h>>n)}if(n>=t||255&h<<8-n)throw new SyntaxError("Unexpected end of data");return e})(i,r,s)})}},function(N,x,b){const s=b(22).Key,{default:r}=b(168),i=b(174),f=b(175),c=b(0),t=b(43),a=b(5),o=b(6),e=new s("config");N.exports=n=>{const h=new r({concurrency:1}),u={getAll:async(m={})=>u.get(void 0,m),async get(m,A={}){m||(m=void 0);const B=await n.get(e);if(A.signal&&A.signal.aborted)return;const k=JSON.parse(a(B));if(m!==void 0&&i(k,m)===void 0)throw new t.NotFoundError(`Key ${m} does not exist in config`);return m!==void 0?i(k,m):k},async set(m,A,B={}){if(arguments.length===1)A=m,m=void 0;else if(!m||typeof m!="string")throw c(new Error("Invalid key type: "+typeof m),"ERR_INVALID_KEY");if(A===void 0||A instanceof Uint8Array)throw c(new Error("Invalid value type: "+typeof A),"ERR_INVALID_VALUE");return h.add(()=>d({key:m,value:A},B.signal))},async replace(m,A={}){if(!m||m instanceof Uint8Array)throw c(new Error("Invalid value type: "+typeof m),"ERR_INVALID_VALUE");return h.add(()=>d({key:void 0,value:m},A.signal))},exists:async()=>n.has(e)};return u;async function d(m,A){if(A&&A.aborted)return;const B=m.key,k=m.value;if(B){const T=await u.get();return f(T,B,k),l(T)}return l(k)}function l(m){const A=o(JSON.stringify(m,null,2));return n.put(e,A)}}},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0});const s=b(169),r=b(170),i=b(172),f=()=>{},c=new r.TimeoutError;x.default=class extends s{constructor(t){var a,o,e,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!(typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},t)).intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(o=(a=t.intervalCap)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(n=(e=t.interval)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(this._intervalId===void 0){const a=this._intervalEnd-t;if(!(a<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},a)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const a=this._queue.dequeue();return!!a&&(this.emit("active"),a(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,a={}){return new Promise((o,e)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const n=this._timeout===void 0&&a.timeout===void 0?t():r.default(Promise.resolve(t()),a.timeout===void 0?this._timeout:a.timeout,()=>{(a.throwOnTimeout===void 0?this._throwOnTimeout:a.throwOnTimeout)&&e(c)});o(await n)}catch(n){e(n)}this._next()},a),this._tryToStartAnother(),this.emit("add")})}async addAll(t,a){return Promise.all(t.map(async o=>this.add(o,a)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{const a=this._resolveEmpty;this._resolveEmpty=()=>{a(),t()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(t=>{const a=this._resolveIdle;this._resolveIdle=()=>{a(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},function(N,x,b){var s=Object.prototype.hasOwnProperty,r="~";function i(){}function f(o,e,n){this.fn=o,this.context=e,this.once=n||!1}function c(o,e,n,h,u){if(typeof n!="function")throw new TypeError("The listener must be a function");var d=new f(n,h||o,u),l=r?r+e:e;return o._events[l]?o._events[l].fn?o._events[l]=[o._events[l],d]:o._events[l].push(d):(o._events[l]=d,o._eventsCount++),o}function t(o,e){--o._eventsCount==0?o._events=new i:delete o._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),a.prototype.eventNames=function(){var o,e,n=[];if(this._eventsCount===0)return n;for(e in o=this._events)s.call(o,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(o)):n},a.prototype.listeners=function(o){var e=r?r+o:o,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var h=0,u=n.length,d=new Array(u);h<u;h++)d[h]=n[h].fn;return d},a.prototype.listenerCount=function(o){var e=r?r+o:o,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(o,e,n,h,u,d){var l=r?r+o:o;if(!this._events[l])return!1;var m,A,B=this._events[l],k=arguments.length;if(B.fn){switch(B.once&&this.removeListener(o,B.fn,void 0,!0),k){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,e),!0;case 3:return B.fn.call(B.context,e,n),!0;case 4:return B.fn.call(B.context,e,n,h),!0;case 5:return B.fn.call(B.context,e,n,h,u),!0;case 6:return B.fn.call(B.context,e,n,h,u,d),!0}for(A=1,m=new Array(k-1);A<k;A++)m[A-1]=arguments[A];B.fn.apply(B.context,m)}else{var T,g=B.length;for(A=0;A<g;A++)switch(B[A].once&&this.removeListener(o,B[A].fn,void 0,!0),k){case 1:B[A].fn.call(B[A].context);break;case 2:B[A].fn.call(B[A].context,e);break;case 3:B[A].fn.call(B[A].context,e,n);break;case 4:B[A].fn.call(B[A].context,e,n,h);break;default:if(!m)for(T=1,m=new Array(k-1);T<k;T++)m[T-1]=arguments[T];B[A].fn.apply(B[A].context,m)}}return!0},a.prototype.on=function(o,e,n){return c(this,o,e,n,!1)},a.prototype.once=function(o,e,n){return c(this,o,e,n,!0)},a.prototype.removeListener=function(o,e,n,h){var u=r?r+o:o;if(!this._events[u])return this;if(!e)return t(this,u),this;var d=this._events[u];if(d.fn)d.fn!==e||h&&!d.once||n&&d.context!==n||t(this,u);else{for(var l=0,m=[],A=d.length;l<A;l++)(d[l].fn!==e||h&&!d[l].once||n&&d[l].context!==n)&&m.push(d[l]);m.length?this._events[u]=m.length===1?m[0]:m:t(this,u)}return this},a.prototype.removeAllListeners=function(o){var e;return o?(e=r?r+o:o,this._events[e]&&t(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,N.exports=a},function(N,x,b){const s=b(171);class r extends Error{constructor(f){super(f),this.name="TimeoutError"}}const i=(f,c,t)=>new Promise((a,o)=>{if(typeof c!="number"||c<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(c===1/0)return void a(f);const e=setTimeout(()=>{if(typeof t=="function"){try{a(t())}catch(h){o(h)}return}const n=t instanceof Error?t:new r(typeof t=="string"?t:`Promise timed out after ${c} milliseconds`);typeof f.cancel=="function"&&f.cancel(),o(n)},c);s(f.then(a,o),()=>{clearTimeout(e)})});N.exports=i,N.exports.default=i,N.exports.TimeoutError=r},function(N,x,b){N.exports=(s,r)=>(r=r||(()=>{}),s.then(i=>new Promise(f=>{f(r())}).then(()=>i),i=>new Promise(f=>{f(r())}).then(()=>{throw i})))},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0});const s=b(173);x.default=class{constructor(){this._queue=[]}enqueue(r,i){const f={priority:(i=Object.assign({priority:0},i)).priority,run:r};if(this.size&&this._queue[this.size-1].priority>=i.priority)return void this._queue.push(f);const c=s.default(this._queue,f,(t,a)=>a.priority-t.priority);this._queue.splice(c,0,f)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(i=>i.priority===r.priority).map(i=>i.run)}get size(){return this._queue.length}}},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(s,r,i){let f=0,c=s.length;for(;c>0;){const t=c/2|0;let a=f+t;i(s[a],r)<=0?(f=++a,c-=t+1):c=t}return f}},function(N,x,b){N.exports=function(s,r,i){if(!s)return i;var f,c;if(Array.isArray(r)&&(f=r.slice(0)),typeof r=="string"&&(f=r.split(".")),typeof r=="symbol"&&(f=[r]),!Array.isArray(f))throw new Error("props arg must be an array, a string or a symbol");for(;f.length;){if(c=f.shift(),!s)return i;if((s=s[c])===void 0)return i}return s}},function(N,x,b){N.exports=function(s,r,i){typeof r=="string"&&(r=r.split(".")),typeof r=="symbol"&&(r=[r]);var f,c=r.pop();if(!c)return!1;for(;f=r.shift();)if(s[f]===void 0&&(s[f]={}),!(s=s[f])||typeof s!="object")return!1;return s[c]=i,!0}},function(N,x,b){const s=b(22).Key,r=b(177),i=b(5),f=b(6),c=new s("datastore_spec");N.exports=t=>({exists:async()=>t.has(c),async get(){const a=await t.get(c);return JSON.parse(i(a))},set:async a=>t.put(c,f(JSON.stringify(r(a,{deep:!0}))))})},function(N,x,b){const s=b(94);N.exports=(r,i={})=>{if(!s(r)&&!Array.isArray(r))throw new TypeError("Expected a plain object or array");const{deep:f}=i,c=[],t=[],a=e=>{const n=c.indexOf(e);if(n!==-1)return t[n];const h=[];return c.push(e),t.push(h),h.push(...e.map(u=>Array.isArray(u)?a(u):s(u)?o(u):u)),h},o=e=>{const n=c.indexOf(e);if(n!==-1)return t[n];const h={},u=Object.keys(e).sort(i.compare);c.push(e),t.push(h);for(const d of u){const l=e[d];f&&Array.isArray(l)?h[d]=a(l):h[d]=f&&s(l)?o(l):l}return h};return Array.isArray(r)?f?a(r):r.slice():o(r)}},function(N,x,b){const s=b(22).Key,r=b(6),i=new s("api");N.exports=f=>({async get(){const c=await f.get(i);return c&&c.toString()},set:async c=>f.put(i,r(c.toString())),delete:async()=>f.delete(i)})},function(N,x,b){N.exports={repoVersion:0,lock:"memory",storageBackends:{root:b(56)},storageBackendOptions:{root:{extension:"",prefix:"",version:2}}}},function(N,x,b){N.exports=b(181)(b(231))},function(N,x,b){var s=b(182),r=b(220);N.exports=function(i){function f(t,a,o){return typeof t=="function"?o=t:typeof a=="function"&&(o=a),c(a)||(a=c(t)?t:{}),s(r(i(t,a),a),a,o)}function c(t){return typeof t=="object"&&t!==null}return["destroy","repair"].forEach(function(t){typeof i[t]=="function"&&(f[t]=function(){i[t].apply(i,arguments)})}),f.errors=s.errors,f}},function(N,x,b){(function(s){var r=b(16).EventEmitter,i=b(183).inherits,f=b(29),c=b(186),t=b(200),a=b(211),o=b(60),e=b(57),n=b(215),h=b(105),u=b(44).getCallback,d=b(44).getOptions,l=o.WriteError,m=o.ReadError,A=o.NotFoundError,B=o.OpenError,k=o.InitializationError;function T(E,R,S){if(!(this instanceof T))return new T(E,R,S);var M,y=this;if(r.call(this),this.setMaxListeners(1/0),typeof R=="function"&&(S=R,R={}),R=R||{},!E||typeof E!="object"){if(M=new k("First argument must be an abstract-leveldown compliant store"),typeof S=="function")return s.nextTick(S,M);throw M}n.strictEqual(typeof E.status,"string",".status required, old abstract-leveldown"),this.options=d(R),this._db=E,this.db=new c(E),this.open(S||function(p){p&&y.emit("error",p)}),this.supports=e(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0}),Object.keys(this.supports.additionalMethods).forEach(function(p){this[p]==null&&(this[p]=function(){return this.db[p].apply(this.db,arguments)})},this)}function g(E,R){if(!E._isOpening()&&!E.isOpen())return s.nextTick(R,new m("Database is not open")),!0}T.prototype.emit=r.prototype.emit,T.prototype.once=r.prototype.once,i(T,r),T.prototype.open=function(E,R){var S,M=this;return typeof E=="function"&&(R=E,E=null),R||(S=(R=h()).promise),E||(E=this.options),this.isOpen()?(s.nextTick(R,null,M),S):this._isOpening()?(this.once("open",function(){R(null,M)}),S):(this.emit("opening"),this.db.open(E,function(y){if(y)return R(new B(y));M.db=M._db,R(null,M),M.emit("open"),M.emit("ready")}),S)},T.prototype.close=function(E){var R,S=this;return E||(R=(E=h()).promise),this.isOpen()?(this.db.close(function(){S.emit("closed"),E.apply(null,arguments)}),this.emit("closing"),this.db=new c(this._db)):this.isClosed()?s.nextTick(E):this.db.status==="closing"?this.once("closed",E):this._isOpening()&&this.once("open",function(){S.close(E)}),R},T.prototype.isOpen=function(){return this.db.status==="open"},T.prototype._isOpening=function(){return this.db.status==="opening"},T.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},T.prototype.get=function(E,R,S){var M;return(S=u(R,S))||(M=(S=h()).promise),g(this,S)||(R=d(R),this.db.get(E,R,function(y,p){if(y)return y=/notfound/i.test(y)||y.notFound?new A("Key not found in database ["+E+"]",y):new m(y),S(y);S(null,p)})),M},T.prototype.put=function(E,R,S,M){var y,p=this;return(M=u(S,M))||(y=(M=h()).promise),g(this,M)||(S=d(S),this.db.put(E,R,S,function(w){if(w)return M(new l(w));p.emit("put",E,R),M()})),y},T.prototype.del=function(E,R,S){var M,y=this;return(S=u(R,S))||(M=(S=h()).promise),g(this,S)||(R=d(R),this.db.del(E,R,function(p){if(p)return S(new l(p));y.emit("del",E),S()})),M},T.prototype.batch=function(E,R,S){if(!arguments.length)return new a(this);var M,y=this;return(S=typeof E=="function"?E:u(R,S))||(M=(S=h()).promise),g(this,S)||(R=d(R),this.db.batch(E,R,function(p){if(p)return S(new l(p));y.emit("batch",E),S()})),M},T.prototype.iterator=function(E){return this.db.iterator(E)},T.prototype.clear=function(E,R){var S,M=this;return R=u(E,R),E=d(E),R||(S=(R=h()).promise),g(this,R)||this.db.clear(E,function(y){if(y)return R(new l(y));M.emit("clear",E),R()}),S},T.prototype.readStream=T.prototype.createReadStream=function(E){return typeof(E=f({keys:!0,values:!0},E)).limit!="number"&&(E.limit=-1),new t(this.db.iterator(E),E)},T.prototype.keyStream=T.prototype.createKeyStream=function(E){return this.createReadStream(f(E,{keys:!0,values:!1}))},T.prototype.valueStream=T.prototype.createValueStream=function(E){return this.createReadStream(f(E,{keys:!1,values:!0}))},T.prototype.toString=function(){return"LevelUP"},T.prototype.type="levelup",T.errors=o,N.exports=T.default=T}).call(this,b(11))},function(N,x,b){(function(s){var r=Object.getOwnPropertyDescriptors||function(C){for(var L=Object.keys(C),O={},U=0;U<L.length;U++)O[L[U]]=Object.getOwnPropertyDescriptor(C,L[U]);return O},i=/%[sdj%]/g;x.format=function(C){if(!A(C)){for(var L=[],O=0;O<arguments.length;O++)L.push(t(arguments[O]));return L.join(" ")}O=1;for(var U=arguments,q=U.length,H=String(C).replace(i,function(K){if(K==="%%")return"%";if(O>=q)return K;switch(K){case"%s":return String(U[O++]);case"%d":return Number(U[O++]);case"%j":try{return JSON.stringify(U[O++])}catch(Q){return"[Circular]"}default:return K}}),G=U[O];O<q;G=U[++O])l(G)||!T(G)?H+=" "+G:H+=" "+t(G);return H},x.deprecate=function(C,L){if(s!==void 0&&s.noDeprecation===!0)return C;if(s===void 0)return function(){return x.deprecate(C,L).apply(this,arguments)};var O=!1;return function(){if(!O){if(s.throwDeprecation)throw new Error(L);s.traceDeprecation?console.trace(L):console.error(L),O=!0}return C.apply(this,arguments)}};var f,c={};function t(C,L){var O={seen:[],stylize:o};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),d(L)?O.showHidden=L:L&&x._extend(O,L),B(O.showHidden)&&(O.showHidden=!1),B(O.depth)&&(O.depth=2),B(O.colors)&&(O.colors=!1),B(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=a),e(O,C,O.depth)}function a(C,L){var O=t.styles[L];return O?"["+t.colors[O][0]+"m"+C+"["+t.colors[O][1]+"m":C}function o(C,L){return C}function e(C,L,O){if(C.customInspect&&L&&R(L.inspect)&&L.inspect!==x.inspect&&(!L.constructor||L.constructor.prototype!==L)){var U=L.inspect(O,C);return A(U)||(U=e(C,U,O)),U}var q=function(I,P){if(B(P))return I.stylize("undefined","undefined");if(A(P)){var V="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(V,"string")}if(m(P))return I.stylize(""+P,"number");if(d(P))return I.stylize(""+P,"boolean");if(l(P))return I.stylize("null","null")}(C,L);if(q)return q;var H=Object.keys(L),G=function(I){var P={};return I.forEach(function(V,$){P[V]=!0}),P}(H);if(C.showHidden&&(H=Object.getOwnPropertyNames(L)),E(L)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return n(L);if(H.length===0){if(R(L)){var K=L.name?": "+L.name:"";return C.stylize("[Function"+K+"]","special")}if(k(L))return C.stylize(RegExp.prototype.toString.call(L),"regexp");if(g(L))return C.stylize(Date.prototype.toString.call(L),"date");if(E(L))return n(L)}var Q,z="",D=!1,F=["{","}"];return(u(L)&&(D=!0,F=["[","]"]),R(L))&&(z=" [Function"+(L.name?": "+L.name:"")+"]"),k(L)&&(z=" "+RegExp.prototype.toString.call(L)),g(L)&&(z=" "+Date.prototype.toUTCString.call(L)),E(L)&&(z=" "+n(L)),H.length!==0||D&&L.length!=0?O<0?k(L)?C.stylize(RegExp.prototype.toString.call(L),"regexp"):C.stylize("[Object]","special"):(C.seen.push(L),Q=D?function(I,P,V,$,W){for(var et=[],ot=0,j=P.length;ot<j;++ot)w(P,String(ot))?et.push(h(I,P,V,$,String(ot),!0)):et.push("");return W.forEach(function(Y){Y.match(/^\d+$/)||et.push(h(I,P,V,$,Y,!0))}),et}(C,L,O,G,H):H.map(function(I){return h(C,L,O,G,I,D)}),C.seen.pop(),function(I,P,V){return I.reduce(function($,W){return W.indexOf(`
`)>=0,$+W.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?V[0]+(P===""?"":P+`
 `)+" "+I.join(`,
  `)+" "+V[1]:V[0]+P+" "+I.join(", ")+" "+V[1]}(Q,z,F)):F[0]+z+F[1]}function n(C){return"["+Error.prototype.toString.call(C)+"]"}function h(C,L,O,U,q,H){var G,K,Q;if((Q=Object.getOwnPropertyDescriptor(L,q)||{value:L[q]}).get?K=Q.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):Q.set&&(K=C.stylize("[Setter]","special")),w(U,q)||(G="["+q+"]"),K||(C.seen.indexOf(Q.value)<0?(K=l(O)?e(C,Q.value,null):e(C,Q.value,O-1)).indexOf(`
`)>-1&&(K=H?K.split(`
`).map(function(z){return"  "+z}).join(`
`).substr(2):`
`+K.split(`
`).map(function(z){return"   "+z}).join(`
`)):K=C.stylize("[Circular]","special")),B(G)){if(H&&q.match(/^\d+$/))return K;(G=JSON.stringify(""+q)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=C.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=C.stylize(G,"string"))}return G+": "+K}function u(C){return Array.isArray(C)}function d(C){return typeof C=="boolean"}function l(C){return C===null}function m(C){return typeof C=="number"}function A(C){return typeof C=="string"}function B(C){return C===void 0}function k(C){return T(C)&&S(C)==="[object RegExp]"}function T(C){return typeof C=="object"&&C!==null}function g(C){return T(C)&&S(C)==="[object Date]"}function E(C){return T(C)&&(S(C)==="[object Error]"||C instanceof Error)}function R(C){return typeof C=="function"}function S(C){return Object.prototype.toString.call(C)}function M(C){return C<10?"0"+C.toString(10):C.toString(10)}x.debuglog=function(C){if(B(f)&&(f=""),C=C.toUpperCase(),!c[C])if(new RegExp("\\b"+C+"\\b","i").test(f)){var L=s.pid;c[C]=function(){var O=x.format.apply(x,arguments);console.error("%s %d: %s",C,L,O)}}else c[C]=function(){};return c[C]},x.inspect=t,t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=u,x.isBoolean=d,x.isNull=l,x.isNullOrUndefined=function(C){return C==null},x.isNumber=m,x.isString=A,x.isSymbol=function(C){return typeof C=="symbol"},x.isUndefined=B,x.isRegExp=k,x.isObject=T,x.isDate=g,x.isError=E,x.isFunction=R,x.isPrimitive=function(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||C===void 0},x.isBuffer=b(184);var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function p(){var C=new Date,L=[M(C.getHours()),M(C.getMinutes()),M(C.getSeconds())].join(":");return[C.getDate(),y[C.getMonth()],L].join(" ")}function w(C,L){return Object.prototype.hasOwnProperty.call(C,L)}x.log=function(){console.log("%s - %s",p(),x.format.apply(x,arguments))},x.inherits=b(185),x._extend=function(C,L){if(!L||!T(L))return C;for(var O=Object.keys(L),U=O.length;U--;)C[O[U]]=L[O[U]];return C};var v=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function _(C,L){if(!C){var O=new Error("Promise was rejected with a falsy value");O.reason=C,C=O}return L(C)}x.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(v&&C[v]){var L;if(typeof(L=C[v])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(L,v,{value:L,enumerable:!1,writable:!1,configurable:!0}),L}function L(){for(var O,U,q=new Promise(function(K,Q){O=K,U=Q}),H=[],G=0;G<arguments.length;G++)H.push(arguments[G]);H.push(function(K,Q){K?U(K):O(Q)});try{C.apply(this,H)}catch(K){U(K)}return q}return Object.setPrototypeOf(L,Object.getPrototypeOf(C)),v&&Object.defineProperty(L,v,{value:L,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(L,r(C))},x.promisify.custom=v,x.callbackify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function L(){for(var O=[],U=0;U<arguments.length;U++)O.push(arguments[U]);var q=O.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var H=this,G=function(){return q.apply(H,arguments)};C.apply(this,O).then(function(K){s.nextTick(G,null,K)},function(K){s.nextTick(_,K,G)})}return Object.setPrototypeOf(L,Object.getPrototypeOf(C)),Object.defineProperties(L,r(C)),L}}).call(this,b(11))},function(N,x,b){N.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(N,x,b){typeof Object.create=="function"?N.exports=function(s,r){s.super_=r,s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:N.exports=function(s,r){s.super_=r;var i=function(){};i.prototype=r.prototype,s.prototype=new i,s.prototype.constructor=s}},function(N,x,b){var s=b(95).AbstractLevelDOWN,r=b(12),i=b(199),f="put get del batch clear".split(" "),c="approximateSize compactRange".split(" ");function t(o){s.call(this,o.supports||{}),c.forEach(function(e){typeof o[e]!="function"||this.supports.additionalMethods[e]||(this.supports.additionalMethods[e]=!0)},this),this._db=o,this._operations=[],a(this)}function a(o){f.forEach(function(e){o["_"+e]=function(){this._operations.push({method:e,args:arguments})}}),Object.keys(o.supports.additionalMethods).forEach(function(e){o[e]=function(){this._operations.push({method:e,args:arguments})}}),o._iterator=function(e){var n=new i(o,e);return this._operations.push({iterator:n}),n}}r(t,s),t.prototype.type="deferred-leveldown",t.prototype._open=function(o,e){var n=this;this._db.open(o,function(h){if(h)return e(h);n._operations.forEach(function(u){u.iterator?u.iterator.setDb(n._db):n._db[u.method].apply(n._db,u.args)}),n._operations=[],function(u){f.concat("iterator").forEach(function(d){u["_"+d]=function(){return this._db[d].apply(this._db,arguments)}}),Object.keys(u.supports.additionalMethods).forEach(function(d){u[d]=function(){return this._db[d].apply(this._db,arguments)}})}(n),e()})},t.prototype._close=function(o){var e=this;this._db.close(function(n){if(n)return o(n);a(e),o()})},t.prototype._serializeKey=function(o){return o},t.prototype._serializeValue=function(o){return o},N.exports=t,N.exports.DeferredIterator=i},function(N,x,b){var s=b(29),r=b(57),i=b(4).Buffer,f=b(96),c=b(97),t=b(58),a=Object.prototype.hasOwnProperty,o="start end gt gte lt lte".split(" ");function e(u){this.status="new",this.supports=r(u,{status:!0})}function n(u,d){var l={};for(var m in d)if(a.call(d,m)){var A=d[m];h(m)&&(A=u._serializeKey(A)),l[m]=A}return l}function h(u){return o.indexOf(u)!==-1}e.prototype.open=function(u,d){var l=this,m=this.status;if(typeof u=="function"&&(d=u),typeof d!="function")throw new Error("open() requires a callback argument");typeof u=="object"&&u!==null||(u={}),u.createIfMissing=u.createIfMissing!==!1,u.errorIfExists=!!u.errorIfExists,this.status="opening",this._open(u,function(A){if(A)return l.status=m,d(A);l.status="open",d()})},e.prototype._open=function(u,d){t(d)},e.prototype.close=function(u){var d=this,l=this.status;if(typeof u!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(function(m){if(m)return d.status=l,u(m);d.status="closed",u()})},e.prototype._close=function(u){t(u)},e.prototype.get=function(u,d,l){if(typeof d=="function"&&(l=d),typeof l!="function")throw new Error("get() requires a callback argument");var m=this._checkKey(u);if(m)return t(l,m);u=this._serializeKey(u),typeof d=="object"&&d!==null||(d={}),d.asBuffer=d.asBuffer!==!1,this._get(u,d,l)},e.prototype._get=function(u,d,l){t(function(){l(new Error("NotFound"))})},e.prototype.put=function(u,d,l,m){if(typeof l=="function"&&(m=l),typeof m!="function")throw new Error("put() requires a callback argument");var A=this._checkKey(u)||this._checkValue(d);if(A)return t(m,A);u=this._serializeKey(u),d=this._serializeValue(d),typeof l=="object"&&l!==null||(l={}),this._put(u,d,l,m)},e.prototype._put=function(u,d,l,m){t(m)},e.prototype.del=function(u,d,l){if(typeof d=="function"&&(l=d),typeof l!="function")throw new Error("del() requires a callback argument");var m=this._checkKey(u);if(m)return t(l,m);u=this._serializeKey(u),typeof d=="object"&&d!==null||(d={}),this._del(u,d,l)},e.prototype._del=function(u,d,l){t(l)},e.prototype.batch=function(u,d,l){if(!arguments.length)return this._chainedBatch();if(typeof d=="function"&&(l=d),typeof u=="function"&&(l=u),typeof l!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(u))return t(l,new Error("batch(array) requires an array argument"));if(u.length===0)return t(l);typeof d=="object"&&d!==null||(d={});for(var m=new Array(u.length),A=0;A<u.length;A++){if(typeof u[A]!="object"||u[A]===null)return t(l,new Error("batch(array) element must be an object and not `null`"));var B=s(u[A]);if(B.type!=="put"&&B.type!=="del")return t(l,new Error("`type` must be 'put' or 'del'"));var k=this._checkKey(B.key);if(k)return t(l,k);if(B.key=this._serializeKey(B.key),B.type==="put"){var T=this._checkValue(B.value);if(T)return t(l,T);B.value=this._serializeValue(B.value)}m[A]=B}this._batch(m,d,l)},e.prototype._batch=function(u,d,l){t(l)},e.prototype.clear=function(u,d){if(typeof u=="function")d=u;else if(typeof d!="function")throw new Error("clear() requires a callback argument");(u=n(this,u)).reverse=!!u.reverse,u.limit="limit"in u?u.limit:-1,this._clear(u,d)},e.prototype._clear=function(u,d){u.keys=!0,u.values=!1,u.keyAsBuffer=!0,u.valueAsBuffer=!0;var l=this._iterator(u),m={},A=this,B=function(k){if(k)return l.end(function(){d(k)});l.next(function(T,g){return T?B(T):g===void 0?l.end(d):void A._del(g,m,B)})};B()},e.prototype._setupIteratorOptions=function(u){return(u=n(this,u)).reverse=!!u.reverse,u.keys=u.keys!==!1,u.values=u.values!==!1,u.limit="limit"in u?u.limit:-1,u.keyAsBuffer=u.keyAsBuffer!==!1,u.valueAsBuffer=u.valueAsBuffer!==!1,u},e.prototype.iterator=function(u){return typeof u=="object"&&u!==null||(u={}),u=this._setupIteratorOptions(u),this._iterator(u)},e.prototype._iterator=function(u){return new f(this)},e.prototype._chainedBatch=function(){return new c(this)},e.prototype._serializeKey=function(u){return u},e.prototype._serializeValue=function(u){return u},e.prototype._checkKey=function(u){return u==null?new Error("key cannot be `null` or `undefined`"):i.isBuffer(u)&&u.length===0?new Error("key cannot be an empty Buffer"):u===""?new Error("key cannot be an empty String"):Array.isArray(u)&&u.length===0?new Error("key cannot be an empty Array"):void 0},e.prototype._checkValue=function(u){if(u==null)return new Error("value cannot be `null` or `undefined`")},e.prototype._nextTick=t,N.exports=e},function(N,x,b){N.exports=function(r){for(var i=1;i<arguments.length;i++){var f=arguments[i];for(var c in f)s.call(f,c)&&(r[c]=f[c])}return r};var s=Object.prototype.hasOwnProperty},function(N,x,b){x.byteLength=function(e){var n=a(e),h=n[0],u=n[1];return 3*(h+u)/4-u},x.toByteArray=function(e){var n,h,u=a(e),d=u[0],l=u[1],m=new i(function(k,T,g){return 3*(T+g)/4-g}(0,d,l)),A=0,B=l>0?d-4:d;for(h=0;h<B;h+=4)n=r[e.charCodeAt(h)]<<18|r[e.charCodeAt(h+1)]<<12|r[e.charCodeAt(h+2)]<<6|r[e.charCodeAt(h+3)],m[A++]=n>>16&255,m[A++]=n>>8&255,m[A++]=255&n;return l===2&&(n=r[e.charCodeAt(h)]<<2|r[e.charCodeAt(h+1)]>>4,m[A++]=255&n),l===1&&(n=r[e.charCodeAt(h)]<<10|r[e.charCodeAt(h+1)]<<4|r[e.charCodeAt(h+2)]>>2,m[A++]=n>>8&255,m[A++]=255&n),m},x.fromByteArray=function(e){for(var n,h=e.length,u=h%3,d=[],l=0,m=h-u;l<m;l+=16383)d.push(o(e,l,l+16383>m?m:l+16383));return u===1?(n=e[h-1],d.push(s[n>>2]+s[n<<4&63]+"==")):u===2&&(n=(e[h-2]<<8)+e[h-1],d.push(s[n>>10]+s[n>>4&63]+s[n<<2&63]+"=")),d.join("")};for(var s=[],r=[],i=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,t=f.length;c<t;++c)s[c]=f[c],r[f.charCodeAt(c)]=c;function a(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=e.indexOf("=");return h===-1&&(h=n),[h,h===n?0:4-h%4]}function o(e,n,h){for(var u,d,l=[],m=n;m<h;m+=3)u=(e[m]<<16&16711680)+(e[m+1]<<8&65280)+(255&e[m+2]),l.push(s[(d=u)>>18&63]+s[d>>12&63]+s[d>>6&63]+s[63&d]);return l.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(N,x,b){x.read=function(s,r,i,f,c){var t,a,o=8*c-f-1,e=(1<<o)-1,n=e>>1,h=-7,u=i?c-1:0,d=i?-1:1,l=s[r+u];for(u+=d,t=l&(1<<-h)-1,l>>=-h,h+=o;h>0;t=256*t+s[r+u],u+=d,h-=8);for(a=t&(1<<-h)-1,t>>=-h,h+=f;h>0;a=256*a+s[r+u],u+=d,h-=8);if(t===0)t=1-n;else{if(t===e)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,f),t-=n}return(l?-1:1)*a*Math.pow(2,t-f)},x.write=function(s,r,i,f,c,t){var a,o,e,n=8*t-c-1,h=(1<<n)-1,u=h>>1,d=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=f?0:t-1,m=f?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,a=h):(a=Math.floor(Math.log(r)/Math.LN2),r*(e=Math.pow(2,-a))<1&&(a--,e*=2),(r+=a+u>=1?d/e:d*Math.pow(2,1-u))*e>=2&&(a++,e/=2),a+u>=h?(o=0,a=h):a+u>=1?(o=(r*e-1)*Math.pow(2,c),a+=u):(o=r*Math.pow(2,u-1)*Math.pow(2,c),a=0));c>=8;s[i+l]=255&o,l+=m,o/=256,c-=8);for(a=a<<c|o,n+=c;n>0;s[i+l]=255&a,l+=m,a/=256,n-=8);s[i+l-m]|=128*A}},function(N,x,b){var s={}.toString;N.exports=Array.isArray||function(r){return s.call(r)=="[object Array]"}},function(N,x,b){var s,r,i,f=[b(193),b(194),b(195),b(196),b(197),b(198)],c=-1,t=[],a=!1;function o(){s&&r&&(s=!1,r.length?t=r.concat(t):c=-1,t.length&&e())}function e(){if(!s){a=!1,s=!0;for(var d=t.length,l=setTimeout(o);d;){for(r=t,t=[];r&&++c<d;)r[c].run();c=-1,d=t.length}r=null,c=-1,s=!1,clearTimeout(l)}}for(var n=-1,h=f.length;++n<h;)if(f[n]&&f[n].test&&f[n].test()){i=f[n].install(e);break}function u(d,l){this.fun=d,this.array=l}u.prototype.run=function(){var d=this.fun,l=this.array;switch(l.length){case 0:return d();case 1:return d(l[0]);case 2:return d(l[0],l[1]);case 3:return d(l[0],l[1],l[2]);default:return d.apply(null,l)}},N.exports=function(d){var l=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)l[m-1]=arguments[m];t.push(new u(d,l)),a||s||(a=!0,i())}},function(N,x){},function(N,x,b){(function(s){x.test=function(){return typeof s.queueMicrotask=="function"},x.install=function(r){return function(){s.queueMicrotask(r)}}}).call(this,b(7))},function(N,x,b){(function(s){var r=s.MutationObserver||s.WebKitMutationObserver;x.test=function(){return r},x.install=function(i){var f=0,c=new r(i),t=s.document.createTextNode("");return c.observe(t,{characterData:!0}),function(){t.data=f=++f%2}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return!s.setImmediate&&s.MessageChannel!==void 0},x.install=function(r){var i=new s.MessageChannel;return i.port1.onmessage=r,function(){i.port2.postMessage(0)}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return"document"in s&&"onreadystatechange"in s.document.createElement("script")},x.install=function(r){return function(){var i=s.document.createElement("script");return i.onreadystatechange=function(){r(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},s.document.documentElement.appendChild(i),r}}}).call(this,b(7))},function(N,x,b){x.test=function(){return!0},x.install=function(s){return function(){setTimeout(s,0)}}},function(N,x,b){var s=b(95).AbstractIterator;function r(i,f){s.call(this,i),this._options=f,this._iterator=null,this._operations=[]}b(12)(r,s),r.prototype.setDb=function(i){var f=this._iterator=i.iterator(this._options);this._operations.forEach(function(c){f[c.method].apply(f,c.args)})},r.prototype._operation=function(i,f){if(this._iterator)return this._iterator[i].apply(this._iterator,f);this._operations.push({method:i,args:f})},"next end".split(" ").forEach(function(i){r.prototype["_"+i]=function(){this._operation(i,arguments)}}),r.prototype.seek=function(){this._operation("seek",arguments)},N.exports=r},function(N,x,b){var s=b(12),r=b(201).Readable,i=b(29);function f(c,t){if(!(this instanceof f))return new f(c,t);t=t||{},r.call(this,i(t,{objectMode:!0})),this._iterator=c,this._options=t,this.on("end",this.destroy.bind(this,null,null))}N.exports=f,s(f,r),f.prototype._read=function(){var c=this,t=this._options;this.destroyed||this._iterator.next(function(a,o,e){if(!c.destroyed)return a?c.destroy(a):void(o===void 0&&e===void 0?c.push(null):t.keys!==!1&&t.values===!1?c.push(o):t.keys===!1&&t.values!==!1?c.push(e):c.push({key:o,value:e}))})},f.prototype._destroy=function(c,t){this._iterator.end(function(a){t(c||a)})}},function(N,x,b){(x=N.exports=b(98)).Stream=x,x.Readable=x,x.Writable=b(102),x.Duplex=b(31),x.Transform=b(104),x.PassThrough=b(209),x.finished=b(59),x.pipeline=b(210)},function(N,x){},function(N,x,b){function s(a,o){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);o&&(n=n.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),e.push.apply(e,n)}return e}function r(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}function i(a,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}var f=b(4).Buffer,c=b(204).inspect,t=c&&c.custom||"inspect";N.exports=function(){function a(){!function(n,h){if(!(n instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),this.head=null,this.tail=null,this.length=0}var o,e;return o=a,(e=[{key:"push",value:function(n){var h={data:n,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(n){var h={data:n,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var h=this.head,u=""+h.data;h=h.next;)u+=n+h.data;return u}},{key:"concat",value:function(n){if(this.length===0)return f.alloc(0);for(var h,u,d,l=f.allocUnsafe(n>>>0),m=this.head,A=0;m;)h=m.data,u=l,d=A,f.prototype.copy.call(h,u,d),A+=m.data.length,m=m.next;return l}},{key:"consume",value:function(n,h){var u;return n<this.head.data.length?(u=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):u=n===this.head.data.length?this.shift():h?this._getString(n):this._getBuffer(n),u}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var h=this.head,u=1,d=h.data;for(n-=d.length;h=h.next;){var l=h.data,m=n>l.length?l.length:n;if(m===l.length?d+=l:d+=l.slice(0,n),(n-=m)==0){m===l.length?(++u,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=l.slice(m));break}++u}return this.length-=u,d}},{key:"_getBuffer",value:function(n){var h=f.allocUnsafe(n),u=this.head,d=1;for(u.data.copy(h),n-=u.data.length;u=u.next;){var l=u.data,m=n>l.length?l.length:n;if(l.copy(h,h.length-n,0,m),(n-=m)==0){m===l.length?(++d,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=l.slice(m));break}++d}return this.length-=d,h}},{key:t,value:function(n,h){return c(this,function(u){for(var d=1;d<arguments.length;d++){var l=arguments[d]!=null?arguments[d]:{};d%2?s(Object(l),!0).forEach(function(m){r(u,m,l[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(l)):s(Object(l)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(l,m))})}return u}({},h,{depth:0,customInspect:!1}))}}])&&i(o.prototype,e),a}()},function(N,x){},function(N,x,b){(function(s){function r(i){try{if(!s.localStorage)return!1}catch(c){return!1}var f=s.localStorage[i];return f!=null&&String(f).toLowerCase()==="true"}N.exports=function(i,f){if(r("noDeprecation"))return i;var c=!1;return function(){if(!c){if(r("throwDeprecation"))throw new Error(f);r("traceDeprecation")?console.trace(f):console.warn(f),c=!0}return i.apply(this,arguments)}}}).call(this,b(7))},function(N,x,b){var s=b(4),r=s.Buffer;function i(c,t){for(var a in c)t[a]=c[a]}function f(c,t,a){return r(c,t,a)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?N.exports=s:(i(s,x),x.Buffer=f),f.prototype=Object.create(r.prototype),i(r,f),f.from=function(c,t,a){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,t,a)},f.alloc=function(c,t,a){if(typeof c!="number")throw new TypeError("Argument must be a number");var o=r(c);return t!==void 0?typeof a=="string"?o.fill(t,a):o.fill(t):o.fill(0),o},f.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},f.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},function(N,x,b){(function(s){var r;function i(B,k,T){return k in B?Object.defineProperty(B,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):B[k]=T,B}var f=b(59),c=Symbol("lastResolve"),t=Symbol("lastReject"),a=Symbol("error"),o=Symbol("ended"),e=Symbol("lastPromise"),n=Symbol("handlePromise"),h=Symbol("stream");function u(B,k){return{value:B,done:k}}function d(B){var k=B[c];if(k!==null){var T=B[h].read();T!==null&&(B[e]=null,B[c]=null,B[t]=null,k(u(T,!1)))}}function l(B){s.nextTick(d,B)}var m=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function(){var B=this,k=this[a];if(k!==null)return Promise.reject(k);if(this[o])return Promise.resolve(u(void 0,!0));if(this[h].destroyed)return new Promise(function(R,S){s.nextTick(function(){B[a]?S(B[a]):R(u(void 0,!0))})});var T,g=this[e];if(g)T=new Promise(function(R,S){return function(M,y){R.then(function(){S[o]?M(u(void 0,!0)):S[n](M,y)},y)}}(g,this));else{var E=this[h].read();if(E!==null)return Promise.resolve(u(E,!1));T=new Promise(this[n])}return this[e]=T,T}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var B=this;return new Promise(function(k,T){B[h].destroy(null,function(g){g?T(g):k(u(void 0,!0))})})}),r),m);N.exports=function(B){var k,T=Object.create(A,(i(k={},h,{value:B,writable:!0}),i(k,c,{value:null,writable:!0}),i(k,t,{value:null,writable:!0}),i(k,a,{value:null,writable:!0}),i(k,o,{value:B._readableState.endEmitted,writable:!0}),i(k,n,{value:function(g,E){var R=T[h].read();R?(T[e]=null,T[c]=null,T[t]=null,g(u(R,!1))):(T[c]=g,T[t]=E)},writable:!0}),k));return T[e]=null,f(B,function(g){if(g&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"){var E=T[t];return E!==null&&(T[e]=null,T[c]=null,T[t]=null,E(g)),void(T[a]=g)}var R=T[c];R!==null&&(T[e]=null,T[c]=null,T[t]=null,R(u(void 0,!0))),T[o]=!0}),B.on("readable",l.bind(null,T)),T}}).call(this,b(11))},function(N,x,b){N.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(N,x,b){N.exports=r;var s=b(104);function r(i){if(!(this instanceof r))return new r(i);s.call(this,i)}b(12)(r,s),r.prototype._transform=function(i,f,c){c(null,i)}},function(N,x,b){var s,r=b(30).codes,i=r.ERR_MISSING_ARGS,f=r.ERR_STREAM_DESTROYED;function c(n){if(n)throw n}function t(n,h,u,d){d=function(A){var B=!1;return function(){B||(B=!0,A.apply(void 0,arguments))}}(d);var l=!1;n.on("close",function(){l=!0}),s===void 0&&(s=b(59)),s(n,{readable:h,writable:u},function(A){if(A)return d(A);l=!0,d()});var m=!1;return function(A){if(!l&&!m)return m=!0,function(B){return B.setHeader&&typeof B.abort=="function"}(n)?n.abort():typeof n.destroy=="function"?n.destroy():void d(A||new f("pipe"))}}function a(n){n()}function o(n,h){return n.pipe(h)}function e(n){return n.length?typeof n[n.length-1]!="function"?c:n.pop():c}N.exports=function(){for(var n=arguments.length,h=new Array(n),u=0;u<n;u++)h[u]=arguments[u];var d,l=e(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new i("streams");var m=h.map(function(A,B){var k=B<h.length-1;return t(A,k,B>0,function(T){d||(d=T),T&&m.forEach(a),k||(m.forEach(a),l(d))})});return h.reduce(o)}},function(N,x,b){var s=b(60).WriteError,r=b(105),i=b(44).getCallback,f=b(44).getOptions;function c(t){this.db=this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}c.prototype.put=function(t,a){try{this.batch.put(t,a)}catch(o){throw new s(o)}return this.ops.push({type:"put",key:t,value:a}),this.length++,this},c.prototype.del=function(t){try{this.batch.del(t)}catch(a){throw new s(a)}return this.ops.push({type:"del",key:t}),this.length++,this},c.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new s(t)}return this.ops=[],this.length=0,this},c.prototype.write=function(t,a){var o,e=this._levelup,n=this.ops;(a=i(t,a))||(o=(a=r()).promise),t=f(t);try{this.batch.write(t,function(h){if(h)return a(new s(h));e.emit("batch",n),a()})}catch(h){throw new s(h)}return o},N.exports=c},function(N,x,b){var s=N.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];N.exports.errno={},N.exports.code={},s.forEach(function(r){N.exports.errno[r.errno]=r,N.exports.code[r.code]=r}),N.exports.custom=b(213)(N.exports),N.exports.create=N.exports.custom.createError},function(N,x,b){var s=b(214);function r(f,c,t){c&&typeof c!="string"&&(c=c.message||c.name),s(this,{type:f,name:f,cause:typeof c!="string"?c:t,message:c},"ewr")}function i(f,c){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),r.call(this,"CustomError",f,c)}i.prototype=new Error,N.exports=function(f){var c=function(t,a){return function(o,e,n){var h=function(u,d){r.call(this,e,u,d),e=="FilesystemError"&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(o.errno[this.cause.errno]?o.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,h)};return h.prototype=n?new n:new i,h}(f,t,a)};return{CustomError:i,FilesystemError:c("FilesystemError"),createError:c}}},function(N,x,b){var s;s=function(){var r=typeof Object.defineProperty=="function"?function(i,f,c){return Object.defineProperty(i,f,c),i}:function(i,f,c){return i[f]=c.value,i};return function(i,f,c,t){var a;if(t=function(o,e){var n=typeof e=="object",h=!n&&typeof e=="string",u=function(d){return n?!!e[d]:!!h&&e.indexOf(d[0])>-1};return{enumerable:u("enumerable"),configurable:u("configurable"),writable:u("writable"),value:o}}(c,t),typeof f=="object"){for(a in f)Object.hasOwnProperty.call(f,a)&&(t.value=f[a],r(i,a,t));return i}return r(i,f,t)}},N.exports?N.exports=s():(void 0).prr=s()},function(N,x,b){(function(s){var r=b(216);function i(S,M){if(S===M)return 0;for(var y=S.length,p=M.length,w=0,v=Math.min(y,p);w<v;++w)if(S[w]!==M[w]){y=S[w],p=M[w];break}return y<p?-1:p<y?1:0}function f(S){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(S):!(S==null||!S._isBuffer)}var c=b(217),t=Object.prototype.hasOwnProperty,a=Array.prototype.slice,o=function(){}.name==="foo";function e(S){return Object.prototype.toString.call(S)}function n(S){return!f(S)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(S):!!S&&(S instanceof DataView||!!(S.buffer&&S.buffer instanceof ArrayBuffer)))}var h=N.exports=B,u=/\s*function\s+([^\(\s]*)\s*/;function d(S){if(c.isFunction(S)){if(o)return S.name;var M=S.toString().match(u);return M&&M[1]}}function l(S,M){return typeof S=="string"?S.length<M?S:S.slice(0,M):S}function m(S){if(o||!c.isFunction(S))return c.inspect(S);var M=d(S);return"[Function"+(M?": "+M:"")+"]"}function A(S,M,y,p,w){throw new h.AssertionError({message:y,actual:S,expected:M,operator:p,stackStartFunction:w})}function B(S,M){S||A(S,!0,M,"==",h.ok)}function k(S,M,y,p){if(S===M)return!0;if(f(S)&&f(M))return i(S,M)===0;if(c.isDate(S)&&c.isDate(M))return S.getTime()===M.getTime();if(c.isRegExp(S)&&c.isRegExp(M))return S.source===M.source&&S.global===M.global&&S.multiline===M.multiline&&S.lastIndex===M.lastIndex&&S.ignoreCase===M.ignoreCase;if(S!==null&&typeof S=="object"||M!==null&&typeof M=="object"){if(n(S)&&n(M)&&e(S)===e(M)&&!(S instanceof Float32Array||S instanceof Float64Array))return i(new Uint8Array(S.buffer),new Uint8Array(M.buffer))===0;if(f(S)!==f(M))return!1;var w=(p=p||{actual:[],expected:[]}).actual.indexOf(S);return w!==-1&&w===p.expected.indexOf(M)||(p.actual.push(S),p.expected.push(M),function(v,_,C,L){if(v==null||_==null)return!1;if(c.isPrimitive(v)||c.isPrimitive(_))return v===_;if(C&&Object.getPrototypeOf(v)!==Object.getPrototypeOf(_))return!1;var O=T(v),U=T(_);if(O&&!U||!O&&U)return!1;if(O)return v=a.call(v),_=a.call(_),k(v,_,C);var q,H,G=R(v),K=R(_);if(G.length!==K.length)return!1;for(G.sort(),K.sort(),H=G.length-1;H>=0;H--)if(G[H]!==K[H])return!1;for(H=G.length-1;H>=0;H--)if(q=G[H],!k(v[q],_[q],C,L))return!1;return!0}(S,M,y,p))}return y?S===M:S==M}function T(S){return Object.prototype.toString.call(S)=="[object Arguments]"}function g(S,M){if(!S||!M)return!1;if(Object.prototype.toString.call(M)=="[object RegExp]")return M.test(S);try{if(S instanceof M)return!0}catch(y){}return!Error.isPrototypeOf(M)&&M.call({},S)===!0}function E(S,M,y,p){var w;if(typeof M!="function")throw new TypeError('"block" argument must be a function');typeof y=="string"&&(p=y,y=null),w=function(C){var L;try{C()}catch(O){L=O}return L}(M),p=(y&&y.name?" ("+y.name+").":".")+(p?" "+p:"."),S&&!w&&A(w,y,"Missing expected exception"+p);var v=typeof p=="string",_=!S&&w&&!y;if((!S&&c.isError(w)&&v&&g(w,y)||_)&&A(w,y,"Got unwanted exception"+p),S&&w&&y&&!g(w,y)||!S&&w)throw w}h.AssertionError=function(S){this.name="AssertionError",this.actual=S.actual,this.expected=S.expected,this.operator=S.operator,S.message?(this.message=S.message,this.generatedMessage=!1):(this.message=function(C){return l(m(C.actual),128)+" "+C.operator+" "+l(m(C.expected),128)}(this),this.generatedMessage=!0);var M=S.stackStartFunction||A;if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var y=new Error;if(y.stack){var p=y.stack,w=d(M),v=p.indexOf(`
`+w);if(v>=0){var _=p.indexOf(`
`,v+1);p=p.substring(_+1)}this.stack=p}}},c.inherits(h.AssertionError,Error),h.fail=A,h.ok=B,h.equal=function(S,M,y){S!=M&&A(S,M,y,"==",h.equal)},h.notEqual=function(S,M,y){S==M&&A(S,M,y,"!=",h.notEqual)},h.deepEqual=function(S,M,y){k(S,M,!1)||A(S,M,y,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(S,M,y){k(S,M,!0)||A(S,M,y,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(S,M,y){k(S,M,!1)&&A(S,M,y,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function S(M,y,p){k(M,y,!0)&&A(M,y,p,"notDeepStrictEqual",S)},h.strictEqual=function(S,M,y){S!==M&&A(S,M,y,"===",h.strictEqual)},h.notStrictEqual=function(S,M,y){S===M&&A(S,M,y,"!==",h.notStrictEqual)},h.throws=function(S,M,y){E(!0,S,M,y)},h.doesNotThrow=function(S,M,y){E(!1,S,M,y)},h.ifError=function(S){if(S)throw S},h.strict=r(function S(M,y){M||A(M,!0,y,"==",S)},h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var R=Object.keys||function(S){var M=[];for(var y in S)t.call(S,y)&&M.push(y);return M}}).call(this,b(7))},function(N,x,b){var s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function f(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}N.exports=function(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if(Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(e){return!1}}()?Object.assign:function(c,t){for(var a,o,e=f(c),n=1;n<arguments.length;n++){for(var h in a=Object(arguments[n]))r.call(a,h)&&(e[h]=a[h]);if(s){o=s(a);for(var u=0;u<o.length;u++)i.call(a,o[u])&&(e[o[u]]=a[o[u]])}}return e}},function(N,x,b){(function(s,r){var i=/%[sdj%]/g;x.format=function(v){if(!A(v)){for(var _=[],C=0;C<arguments.length;C++)_.push(t(arguments[C]));return _.join(" ")}C=1;for(var L=arguments,O=L.length,U=String(v).replace(i,function(H){if(H==="%%")return"%";if(C>=O)return H;switch(H){case"%s":return String(L[C++]);case"%d":return Number(L[C++]);case"%j":try{return JSON.stringify(L[C++])}catch(G){return"[Circular]"}default:return H}}),q=L[C];C<O;q=L[++C])l(q)||!T(q)?U+=" "+q:U+=" "+t(q);return U},x.deprecate=function(v,_){if(B(s.process))return function(){return x.deprecate(v,_).apply(this,arguments)};if(r.noDeprecation===!0)return v;var C=!1;return function(){if(!C){if(r.throwDeprecation)throw new Error(_);r.traceDeprecation?console.trace(_):console.error(_),C=!0}return v.apply(this,arguments)}};var f,c={};function t(v,_){var C={seen:[],stylize:o};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),d(_)?C.showHidden=_:_&&x._extend(C,_),B(C.showHidden)&&(C.showHidden=!1),B(C.depth)&&(C.depth=2),B(C.colors)&&(C.colors=!1),B(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=a),e(C,v,C.depth)}function a(v,_){var C=t.styles[_];return C?"["+t.colors[C][0]+"m"+v+"["+t.colors[C][1]+"m":v}function o(v,_){return v}function e(v,_,C){if(v.customInspect&&_&&R(_.inspect)&&_.inspect!==x.inspect&&(!_.constructor||_.constructor.prototype!==_)){var L=_.inspect(C,v);return A(L)||(L=e(v,L,C)),L}var O=function(D,F){if(B(F))return D.stylize("undefined","undefined");if(A(F)){var I="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(I,"string")}if(m(F))return D.stylize(""+F,"number");if(d(F))return D.stylize(""+F,"boolean");if(l(F))return D.stylize("null","null")}(v,_);if(O)return O;var U=Object.keys(_),q=function(D){var F={};return D.forEach(function(I,P){F[I]=!0}),F}(U);if(v.showHidden&&(U=Object.getOwnPropertyNames(_)),E(_)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return n(_);if(U.length===0){if(R(_)){var H=_.name?": "+_.name:"";return v.stylize("[Function"+H+"]","special")}if(k(_))return v.stylize(RegExp.prototype.toString.call(_),"regexp");if(g(_))return v.stylize(Date.prototype.toString.call(_),"date");if(E(_))return n(_)}var G,K="",Q=!1,z=["{","}"];return(u(_)&&(Q=!0,z=["[","]"]),R(_))&&(K=" [Function"+(_.name?": "+_.name:"")+"]"),k(_)&&(K=" "+RegExp.prototype.toString.call(_)),g(_)&&(K=" "+Date.prototype.toUTCString.call(_)),E(_)&&(K=" "+n(_)),U.length!==0||Q&&_.length!=0?C<0?k(_)?v.stylize(RegExp.prototype.toString.call(_),"regexp"):v.stylize("[Object]","special"):(v.seen.push(_),G=Q?function(D,F,I,P,V){for(var $=[],W=0,et=F.length;W<et;++W)w(F,String(W))?$.push(h(D,F,I,P,String(W),!0)):$.push("");return V.forEach(function(ot){ot.match(/^\d+$/)||$.push(h(D,F,I,P,ot,!0))}),$}(v,_,C,q,U):U.map(function(D){return h(v,_,C,q,D,Q)}),v.seen.pop(),function(D,F,I){return D.reduce(function(P,V){return V.indexOf(`
`)>=0,P+V.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?I[0]+(F===""?"":F+`
 `)+" "+D.join(`,
  `)+" "+I[1]:I[0]+F+" "+D.join(", ")+" "+I[1]}(G,K,z)):z[0]+K+z[1]}function n(v){return"["+Error.prototype.toString.call(v)+"]"}function h(v,_,C,L,O,U){var q,H,G;if((G=Object.getOwnPropertyDescriptor(_,O)||{value:_[O]}).get?H=G.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):G.set&&(H=v.stylize("[Setter]","special")),w(L,O)||(q="["+O+"]"),H||(v.seen.indexOf(G.value)<0?(H=l(C)?e(v,G.value,null):e(v,G.value,C-1)).indexOf(`
`)>-1&&(H=U?H.split(`
`).map(function(K){return"  "+K}).join(`
`).substr(2):`
`+H.split(`
`).map(function(K){return"   "+K}).join(`
`)):H=v.stylize("[Circular]","special")),B(q)){if(U&&O.match(/^\d+$/))return H;(q=JSON.stringify(""+O)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.substr(1,q.length-2),q=v.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=v.stylize(q,"string"))}return q+": "+H}function u(v){return Array.isArray(v)}function d(v){return typeof v=="boolean"}function l(v){return v===null}function m(v){return typeof v=="number"}function A(v){return typeof v=="string"}function B(v){return v===void 0}function k(v){return T(v)&&S(v)==="[object RegExp]"}function T(v){return typeof v=="object"&&v!==null}function g(v){return T(v)&&S(v)==="[object Date]"}function E(v){return T(v)&&(S(v)==="[object Error]"||v instanceof Error)}function R(v){return typeof v=="function"}function S(v){return Object.prototype.toString.call(v)}function M(v){return v<10?"0"+v.toString(10):v.toString(10)}x.debuglog=function(v){if(B(f)&&(f=""),v=v.toUpperCase(),!c[v])if(new RegExp("\\b"+v+"\\b","i").test(f)){var _=r.pid;c[v]=function(){var C=x.format.apply(x,arguments);console.error("%s %d: %s",v,_,C)}}else c[v]=function(){};return c[v]},x.inspect=t,t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=u,x.isBoolean=d,x.isNull=l,x.isNullOrUndefined=function(v){return v==null},x.isNumber=m,x.isString=A,x.isSymbol=function(v){return typeof v=="symbol"},x.isUndefined=B,x.isRegExp=k,x.isObject=T,x.isDate=g,x.isError=E,x.isFunction=R,x.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},x.isBuffer=b(218);var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function p(){var v=new Date,_=[M(v.getHours()),M(v.getMinutes()),M(v.getSeconds())].join(":");return[v.getDate(),y[v.getMonth()],_].join(" ")}function w(v,_){return Object.prototype.hasOwnProperty.call(v,_)}x.log=function(){console.log("%s - %s",p(),x.format.apply(x,arguments))},x.inherits=b(219),x._extend=function(v,_){if(!_||!T(_))return v;for(var C=Object.keys(_),L=C.length;L--;)v[C[L]]=_[C[L]];return v}}).call(this,b(7),b(11))},function(N,x,b){N.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(N,x,b){typeof Object.create=="function"?N.exports=function(s,r){s.super_=r,s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:N.exports=function(s,r){s.super_=r;var i=function(){};i.prototype=r.prototype,s.prototype=new i,s.prototype.constructor=s}},function(N,x,b){var s=b(61).AbstractLevelDOWN,r=b(61).AbstractChainedBatch,i=b(61).AbstractIterator,f=b(12),c=b(229),t=b(60).EncodingError,a=["approximateSize","compactRange"];function o(h,u){if(!(this instanceof o))return new o(h,u);var d=h.supports||{},l=d.additionalMethods||{};s.call(this,d),this.supports.encodings=!0,this.supports.additionalMethods={},a.forEach(function(m){var A=typeof h[m]=="function";(l[m]||A)&&(this.supports.additionalMethods[m]=!0,this[m]=function(B,k,T,g){return B=this.codec.encodeKey(B,T),k=this.codec.encodeKey(k,T),this.db[m](B,k,T,g)})},this),(u=u||{}).keyEncoding===void 0&&(u.keyEncoding="utf8"),u.valueEncoding===void 0&&(u.valueEncoding="utf8"),this.db=h,this.codec=new c(u)}function e(h,u){i.call(this,h),this.codec=h.codec,this.keys=u.keys,this.values=u.values,this.opts=this.codec.encodeLtgt(u),this.it=h.db.iterator(this.opts)}function n(h,u){r.call(this,h),this.codec=h.codec,this.batch=h.db.batch()}N.exports=o.default=o,f(o,s),o.prototype.type="encoding-down",o.prototype._serializeKey=o.prototype._serializeValue=function(h){return h},o.prototype._open=function(h,u){this.db.open(h,u)},o.prototype._close=function(h){this.db.close(h)},o.prototype._put=function(h,u,d,l){h=this.codec.encodeKey(h,d),u=this.codec.encodeValue(u,d),this.db.put(h,u,d,l)},o.prototype._get=function(h,u,d){var l=this;h=this.codec.encodeKey(h,u),u.asBuffer=this.codec.valueAsBuffer(u),this.db.get(h,u,function(m,A){if(m)return d(m);try{A=l.codec.decodeValue(A,u)}catch(B){return d(new t(B))}d(null,A)})},o.prototype._del=function(h,u,d){h=this.codec.encodeKey(h,u),this.db.del(h,u,d)},o.prototype._chainedBatch=function(){return new n(this)},o.prototype._batch=function(h,u,d){h=this.codec.encodeBatch(h,u),this.db.batch(h,u,d)},o.prototype._iterator=function(h){return h.keyAsBuffer=this.codec.keyAsBuffer(h),h.valueAsBuffer=this.codec.valueAsBuffer(h),new e(this,h)},o.prototype._clear=function(h,u){h=this.codec.encodeLtgt(h),this.db.clear(h,u)},f(e,i),e.prototype._next=function(h){var u=this;this.it.next(function(d,l,m){if(d)return h(d);try{l=u.keys&&l!==void 0?u.codec.decodeKey(l,u.opts):void 0,m=u.values&&m!==void 0?u.codec.decodeValue(m,u.opts):void 0}catch(A){return h(new t(A))}h(null,l,m)})},e.prototype._seek=function(h){h=this.codec.encodeKey(h,this.opts),this.it.seek(h)},e.prototype._end=function(h){this.it.end(h)},f(n,r),n.prototype._put=function(h,u){h=this.codec.encodeKey(h),u=this.codec.encodeValue(u),this.batch.put(h,u)},n.prototype._del=function(h){h=this.codec.encodeKey(h),this.batch.del(h)},n.prototype._clear=function(){this.batch.clear()},n.prototype._write=function(h,u){this.batch.write(h,u)}},function(N,x,b){var s=b(29),r=b(57),i=b(4).Buffer,f=b(106),c=b(107),t=b(62),a=Object.prototype.hasOwnProperty,o="start end gt gte lt lte".split(" ");function e(u){this.status="new",this.supports=r(u,{status:!0})}function n(u,d){var l={};for(var m in d)if(a.call(d,m)){var A=d[m];h(m)&&(A=u._serializeKey(A)),l[m]=A}return l}function h(u){return o.indexOf(u)!==-1}e.prototype.open=function(u,d){var l=this,m=this.status;if(typeof u=="function"&&(d=u),typeof d!="function")throw new Error("open() requires a callback argument");typeof u=="object"&&u!==null||(u={}),u.createIfMissing=u.createIfMissing!==!1,u.errorIfExists=!!u.errorIfExists,this.status="opening",this._open(u,function(A){if(A)return l.status=m,d(A);l.status="open",d()})},e.prototype._open=function(u,d){t(d)},e.prototype.close=function(u){var d=this,l=this.status;if(typeof u!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(function(m){if(m)return d.status=l,u(m);d.status="closed",u()})},e.prototype._close=function(u){t(u)},e.prototype.get=function(u,d,l){if(typeof d=="function"&&(l=d),typeof l!="function")throw new Error("get() requires a callback argument");var m=this._checkKey(u);if(m)return t(l,m);u=this._serializeKey(u),typeof d=="object"&&d!==null||(d={}),d.asBuffer=d.asBuffer!==!1,this._get(u,d,l)},e.prototype._get=function(u,d,l){t(function(){l(new Error("NotFound"))})},e.prototype.put=function(u,d,l,m){if(typeof l=="function"&&(m=l),typeof m!="function")throw new Error("put() requires a callback argument");var A=this._checkKey(u)||this._checkValue(d);if(A)return t(m,A);u=this._serializeKey(u),d=this._serializeValue(d),typeof l=="object"&&l!==null||(l={}),this._put(u,d,l,m)},e.prototype._put=function(u,d,l,m){t(m)},e.prototype.del=function(u,d,l){if(typeof d=="function"&&(l=d),typeof l!="function")throw new Error("del() requires a callback argument");var m=this._checkKey(u);if(m)return t(l,m);u=this._serializeKey(u),typeof d=="object"&&d!==null||(d={}),this._del(u,d,l)},e.prototype._del=function(u,d,l){t(l)},e.prototype.batch=function(u,d,l){if(!arguments.length)return this._chainedBatch();if(typeof d=="function"&&(l=d),typeof u=="function"&&(l=u),typeof l!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(u))return t(l,new Error("batch(array) requires an array argument"));if(u.length===0)return t(l);typeof d=="object"&&d!==null||(d={});for(var m=new Array(u.length),A=0;A<u.length;A++){if(typeof u[A]!="object"||u[A]===null)return t(l,new Error("batch(array) element must be an object and not `null`"));var B=s(u[A]);if(B.type!=="put"&&B.type!=="del")return t(l,new Error("`type` must be 'put' or 'del'"));var k=this._checkKey(B.key);if(k)return t(l,k);if(B.key=this._serializeKey(B.key),B.type==="put"){var T=this._checkValue(B.value);if(T)return t(l,T);B.value=this._serializeValue(B.value)}m[A]=B}this._batch(m,d,l)},e.prototype._batch=function(u,d,l){t(l)},e.prototype.clear=function(u,d){if(typeof u=="function")d=u;else if(typeof d!="function")throw new Error("clear() requires a callback argument");(u=n(this,u)).reverse=!!u.reverse,u.limit="limit"in u?u.limit:-1,this._clear(u,d)},e.prototype._clear=function(u,d){u.keys=!0,u.values=!1,u.keyAsBuffer=!0,u.valueAsBuffer=!0;var l=this._iterator(u),m={},A=this,B=function(k){if(k)return l.end(function(){d(k)});l.next(function(T,g){return T?B(T):g===void 0?l.end(d):void A._del(g,m,B)})};B()},e.prototype._setupIteratorOptions=function(u){return(u=n(this,u)).reverse=!!u.reverse,u.keys=u.keys!==!1,u.values=u.values!==!1,u.limit="limit"in u?u.limit:-1,u.keyAsBuffer=u.keyAsBuffer!==!1,u.valueAsBuffer=u.valueAsBuffer!==!1,u},e.prototype.iterator=function(u){return typeof u=="object"&&u!==null||(u={}),u=this._setupIteratorOptions(u),this._iterator(u)},e.prototype._iterator=function(u){return new f(this)},e.prototype._chainedBatch=function(){return new c(this)},e.prototype._serializeKey=function(u){return u},e.prototype._serializeValue=function(u){return u},e.prototype._checkKey=function(u){return u==null?new Error("key cannot be `null` or `undefined`"):i.isBuffer(u)&&u.length===0?new Error("key cannot be an empty Buffer"):u===""?new Error("key cannot be an empty String"):Array.isArray(u)&&u.length===0?new Error("key cannot be an empty Array"):void 0},e.prototype._checkValue=function(u){if(u==null)return new Error("value cannot be `null` or `undefined`")},e.prototype._nextTick=t,N.exports=e},function(N,x,b){var s,r,i,f=[b(223),b(224),b(225),b(226),b(227),b(228)],c=-1,t=[],a=!1;function o(){s&&r&&(s=!1,r.length?t=r.concat(t):c=-1,t.length&&e())}function e(){if(!s){a=!1,s=!0;for(var d=t.length,l=setTimeout(o);d;){for(r=t,t=[];r&&++c<d;)r[c].run();c=-1,d=t.length}r=null,c=-1,s=!1,clearTimeout(l)}}for(var n=-1,h=f.length;++n<h;)if(f[n]&&f[n].test&&f[n].test()){i=f[n].install(e);break}function u(d,l){this.fun=d,this.array=l}u.prototype.run=function(){var d=this.fun,l=this.array;switch(l.length){case 0:return d();case 1:return d(l[0]);case 2:return d(l[0],l[1]);case 3:return d(l[0],l[1],l[2]);default:return d.apply(null,l)}},N.exports=function(d){var l=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)l[m-1]=arguments[m];t.push(new u(d,l)),a||s||(a=!0,i())}},function(N,x){},function(N,x,b){(function(s){x.test=function(){return typeof s.queueMicrotask=="function"},x.install=function(r){return function(){s.queueMicrotask(r)}}}).call(this,b(7))},function(N,x,b){(function(s){var r=s.MutationObserver||s.WebKitMutationObserver;x.test=function(){return r},x.install=function(i){var f=0,c=new r(i),t=s.document.createTextNode("");return c.observe(t,{characterData:!0}),function(){t.data=f=++f%2}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return!s.setImmediate&&s.MessageChannel!==void 0},x.install=function(r){var i=new s.MessageChannel;return i.port1.onmessage=r,function(){i.port2.postMessage(0)}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return"document"in s&&"onreadystatechange"in s.document.createElement("script")},x.install=function(r){return function(){var i=s.document.createElement("script");return i.onreadystatechange=function(){r(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},s.document.documentElement.appendChild(i),r}}}).call(this,b(7))},function(N,x,b){x.test=function(){return!0},x.install=function(s){return function(){setTimeout(s,0)}}},function(N,x,b){var s=b(230);function r(f){if(!(this instanceof r))return new r(f);this.opts=f||{},this.encodings=s}N.exports=r,r.prototype._encoding=function(f){return typeof f=="string"&&(f=s[f]),f||(f=s.id),f},r.prototype._keyEncoding=function(f,c){return this._encoding(c&&c.keyEncoding||f&&f.keyEncoding||this.opts.keyEncoding)},r.prototype._valueEncoding=function(f,c){return this._encoding(c&&(c.valueEncoding||c.encoding)||f&&(f.valueEncoding||f.encoding)||this.opts.valueEncoding||this.opts.encoding)},r.prototype.encodeKey=function(f,c,t){return this._keyEncoding(c,t).encode(f)},r.prototype.encodeValue=function(f,c,t){return this._valueEncoding(c,t).encode(f)},r.prototype.decodeKey=function(f,c){return this._keyEncoding(c).decode(f)},r.prototype.decodeValue=function(f,c){return this._valueEncoding(c).decode(f)},r.prototype.encodeBatch=function(f,c){var t=this;return f.map(function(a){var o={type:a.type,key:t.encodeKey(a.key,c,a)};return t.keyAsBuffer(c,a)&&(o.keyEncoding="binary"),a.prefix&&(o.prefix=a.prefix),"value"in a&&(o.value=t.encodeValue(a.value,c,a),t.valueAsBuffer(c,a)&&(o.valueEncoding="binary")),o})};var i=["lt","gt","lte","gte","start","end"];r.prototype.encodeLtgt=function(f){var c=this,t={};return Object.keys(f).forEach(function(a){t[a]=i.indexOf(a)>-1?c.encodeKey(f[a],f):f[a]}),t},r.prototype.createStreamDecoder=function(f){var c=this;return f.keys&&f.values?function(t,a){return{key:c.decodeKey(t,f),value:c.decodeValue(a,f)}}:f.keys?function(t){return c.decodeKey(t,f)}:f.values?function(t,a){return c.decodeValue(a,f)}:function(){}},r.prototype.keyAsBuffer=function(f){return this._keyEncoding(f).buffer},r.prototype.valueAsBuffer=function(f){return this._valueEncoding(f).buffer}},function(N,x,b){var s=b(4).Buffer;x.utf8=x["utf-8"]={encode:function(f){return i(f)?f:String(f)},decode:r,buffer:!1,type:"utf8"},x.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},x.binary={encode:function(f){return i(f)?f:s.from(f)},decode:r,buffer:!0,type:"binary"},x.none={encode:r,decode:r,buffer:!1,type:"id"},x.id=x.none;function r(f){return f}function i(f){return f==null||s.isBuffer(f)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(f){x[f]={encode:function(c){return i(c)?c:s.from(c,f)},decode:function(c){return c.toString(f)},buffer:!0,type:f}})},function(N,x,b){(function(s){N.exports=o;var r=b(108).AbstractLevelDOWN,i=b(12),f=b(233),c=b(111),t=b(112),a=b(243);function o(e,n){if(!(this instanceof o))return new o(e,n);if(r.call(this),n=n||{},typeof e!="string")throw new Error("constructor requires a location string argument");this.location=e,this.prefix=n.prefix==null?"level-js-":n.prefix,this.version=parseInt(n.version||1,10)}i(o,r),o.binaryKeys=a.binaryKeys(indexedDB),o.arrayKeys=a.arrayKeys(indexedDB),o.prototype._open=function(e,n){var h=indexedDB.open(this.prefix+this.location,this.version),u=this;h.onerror=function(){n(h.error||new Error("unknown error"))},h.onsuccess=function(){u.db=h.result,n()},h.onupgradeneeded=function(d){var l=d.target.result;l.objectStoreNames.contains(u.location)||l.createObjectStore(u.location)}},o.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},o.prototype.await=function(e,n){var h=e.transaction;h.onabort=function(){n(h.error||new Error("aborted by user"))},h.oncomplete=function(){n(null,e.result)}},o.prototype._get=function(e,n,h){var u=this.store("readonly");try{var d=u.get(e)}catch(l){return t(function(){h(l)})}this.await(d,function(l,m){return l?h(l):m===void 0?h(new Error("NotFound")):(n.asBuffer&&(m=c(m)),void h(null,m))})},o.prototype._del=function(e,n,h){var u=this.store("readwrite");try{var d=u.delete(e)}catch(l){return t(function(){h(l)})}this.await(d,h)},o.prototype._put=function(e,n,h,u){var d=this.store("readwrite");try{var l=d.put(n,e)}catch(m){return t(function(){u(m)})}this.await(l,u)},o.prototype._serializeKey=function(e){return s.isBuffer(e)?o.binaryKeys?e:e.toString():Array.isArray(e)?o.arrayKeys?e.map(this._serializeKey,this):String(e):e},o.prototype._serializeValue=function(e){return e},o.prototype._iterator=function(e){return new f(this,this.location,e)},o.prototype._batch=function(e,n,h){if(e.length===0)return t(h);var u,d=this.store("readwrite"),l=d.transaction,m=0;l.onabort=function(){h(u||l.error||new Error("aborted by user"))},l.oncomplete=function(){h()},function A(){var B=e[m++],k=B.key;try{var T=B.type==="del"?d.delete(k):d.put(B.value,k)}catch(g){return u=g,void l.abort()}m<e.length&&(T.onsuccess=A)}()},o.prototype._close=function(e){this.db.close(),t(e)},o.destroy=function(e,n,h){typeof n=="function"&&(h=n,n="level-js-");var u=indexedDB.deleteDatabase(n+e);u.onsuccess=function(){h()},u.onerror=function(d){h(d)}}}).call(this,b(4).Buffer)},function(N,x,b){(function(s,r){var i=b(29),f=b(109),c=b(110),t=Object.prototype.hasOwnProperty,a="start end gt gte lt lte".split(" ");function o(){this.status="new"}function e(n){return a.indexOf(n)!==-1}o.prototype.open=function(n,h){var u=this,d=this.status;if(typeof n=="function"&&(h=n),typeof h!="function")throw new Error("open() requires a callback argument");typeof n=="object"&&n!==null||(n={}),n.createIfMissing=n.createIfMissing!==!1,n.errorIfExists=!!n.errorIfExists,this.status="opening",this._open(n,function(l){if(l)return u.status=d,h(l);u.status="open",h()})},o.prototype._open=function(n,h){s.nextTick(h)},o.prototype.close=function(n){var h=this,u=this.status;if(typeof n!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(function(d){if(d)return h.status=u,n(d);h.status="closed",n()})},o.prototype._close=function(n){s.nextTick(n)},o.prototype.get=function(n,h,u){if(typeof h=="function"&&(u=h),typeof u!="function")throw new Error("get() requires a callback argument");var d=this._checkKey(n);if(d)return s.nextTick(u,d);n=this._serializeKey(n),typeof h=="object"&&h!==null||(h={}),h.asBuffer=h.asBuffer!==!1,this._get(n,h,u)},o.prototype._get=function(n,h,u){s.nextTick(function(){u(new Error("NotFound"))})},o.prototype.put=function(n,h,u,d){if(typeof u=="function"&&(d=u),typeof d!="function")throw new Error("put() requires a callback argument");var l=this._checkKey(n)||this._checkValue(h);if(l)return s.nextTick(d,l);n=this._serializeKey(n),h=this._serializeValue(h),typeof u=="object"&&u!==null||(u={}),this._put(n,h,u,d)},o.prototype._put=function(n,h,u,d){s.nextTick(d)},o.prototype.del=function(n,h,u){if(typeof h=="function"&&(u=h),typeof u!="function")throw new Error("del() requires a callback argument");var d=this._checkKey(n);if(d)return s.nextTick(u,d);n=this._serializeKey(n),typeof h=="object"&&h!==null||(h={}),this._del(n,h,u)},o.prototype._del=function(n,h,u){s.nextTick(u)},o.prototype.batch=function(n,h,u){if(!arguments.length)return this._chainedBatch();if(typeof h=="function"&&(u=h),typeof n=="function"&&(u=n),typeof u!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(n))return s.nextTick(u,new Error("batch(array) requires an array argument"));if(n.length===0)return s.nextTick(u);typeof h=="object"&&h!==null||(h={});for(var d=new Array(n.length),l=0;l<n.length;l++){if(typeof n[l]!="object"||n[l]===null)return s.nextTick(u,new Error("batch(array) element must be an object and not `null`"));var m=i(n[l]);if(m.type!=="put"&&m.type!=="del")return s.nextTick(u,new Error("`type` must be 'put' or 'del'"));var A=this._checkKey(m.key);if(A)return s.nextTick(u,A);if(m.key=this._serializeKey(m.key),m.type==="put"){var B=this._checkValue(m.value);if(B)return s.nextTick(u,B);m.value=this._serializeValue(m.value)}d[l]=m}this._batch(d,h,u)},o.prototype._batch=function(n,h,u){s.nextTick(u)},o.prototype._setupIteratorOptions=function(n){return(n=function(h,u){var d={};for(var l in u)if(t.call(u,l)){var m=u[l];e(l)&&(m=h._serializeKey(m)),d[l]=m}return d}(this,n)).reverse=!!n.reverse,n.keys=n.keys!==!1,n.values=n.values!==!1,n.limit="limit"in n?n.limit:-1,n.keyAsBuffer=n.keyAsBuffer!==!1,n.valueAsBuffer=n.valueAsBuffer!==!1,n},o.prototype.iterator=function(n){return typeof n=="object"&&n!==null||(n={}),n=this._setupIteratorOptions(n),this._iterator(n)},o.prototype._iterator=function(n){return new f(this)},o.prototype._chainedBatch=function(){return new c(this)},o.prototype._serializeKey=function(n){return n},o.prototype._serializeValue=function(n){return n},o.prototype._checkKey=function(n){return n==null?new Error("key cannot be `null` or `undefined`"):r.isBuffer(n)&&n.length===0?new Error("key cannot be an empty Buffer"):n===""?new Error("key cannot be an empty String"):Array.isArray(n)&&n.length===0?new Error("key cannot be an empty Array"):void 0},o.prototype._checkValue=function(n){if(n==null)return new Error("value cannot be `null` or `undefined`")},N.exports=o}).call(this,b(11),b(4).Buffer)},function(N,x,b){var s=b(12),r=b(108).AbstractIterator,i=b(234),f=b(111),c=b(112),t=function(){};function a(o,e,n){if(r.call(this,o),this._limit=n.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keyAsBuffer=n.keyAsBuffer,this._valueAsBuffer=n.valueAsBuffer,this._limit!==0){try{var h=this.createKeyRange(n)}catch(u){return void(this._completed=!0)}this.createIterator(e,h,n.reverse)}else this._completed=!0}N.exports=a,s(a,r),a.prototype.createKeyRange=function(o){var e=i.lowerBound(o),n=i.upperBound(o),h=i.lowerBoundExclusive(o),u=i.upperBoundExclusive(o);return e!==void 0&&n!==void 0?IDBKeyRange.bound(e,n,h,u):e!==void 0?IDBKeyRange.lowerBound(e,h):n!==void 0?IDBKeyRange.upperBound(n,u):null},a.prototype.createIterator=function(o,e,n){var h=this,u=this.db.db.transaction([o],"readonly");u.objectStore(o).openCursor(e,n?"prev":"next").onsuccess=function(d){var l=d.target.result;l&&h.onItem(l)},this._transaction=u,u.onabort=function(){h.onAbort(h._transaction.error||new Error("aborted by user"))},u.oncomplete=function(){h.onComplete()}},a.prototype.onItem=function(o){this._cache.push(o.key,o.value),(this._limit<=0||++this._count<this._limit)&&o.continue(),this.maybeNext()},a.prototype.onAbort=function(o){this._aborted=!0,this._error=o,this.maybeNext()},a.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},a.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},a.prototype._next=function(o){if(this._aborted){var e=this._error;this._error=null,c(function(){o(e)})}else if(this._cache.length>0){var n=this._cache.shift(),h=this._cache.shift();this._keyAsBuffer&&(n=f(n)),this._valueAsBuffer&&(h=f(h)),c(function(){o(null,n,h)})}else this._completed?c(o):this._callback=o},a.prototype._end=function(o){if(this._aborted||this._completed){var e=this._error;c(function(){o(e)})}else this.onItem=t,this.onAbort=o,this.onComplete=o}},function(N,x,b){(function(s){function r(l){return l!==void 0&&l!==""}function i(l,m){return Object.hasOwnProperty.call(l,m)}function f(l,m){return Object.hasOwnProperty.call(l,m)&&m}x.compare=function(l,m){if(s.isBuffer(l)){for(var A=Math.min(l.length,m.length),B=0;B<A;B++){var k=l[B]-m[B];if(k)return k}return l.length-m.length}return l<m?-1:l>m?1:0};var c=x.lowerBoundKey=function(l){return f(l,"gt")||f(l,"gte")||f(l,"min")||(l.reverse?f(l,"end"):f(l,"start"))||void 0},t=x.lowerBound=function(l,m){var A=c(l);return A?l[A]:m},a=x.lowerBoundInclusive=function(l){return!i(l,"gt")},o=x.upperBoundInclusive=function(l){return!i(l,"lt")},e=x.lowerBoundExclusive=function(l){return!a(l)},n=x.upperBoundExclusive=function(l){return!o(l)},h=x.upperBoundKey=function(l){return f(l,"lt")||f(l,"lte")||f(l,"max")||(l.reverse?f(l,"start"):f(l,"end"))||void 0},u=x.upperBound=function(l,m){var A=h(l);return A?l[A]:m};function d(l){return l}x.start=function(l,m){return l.reverse?u(l,m):t(l,m)},x.end=function(l,m){return l.reverse?t(l,m):u(l,m)},x.startInclusive=function(l){return l.reverse?o(l):a(l)},x.endInclusive=function(l){return l.reverse?a(l):o(l)},x.toLtgt=function(l,m,A,B,k){m=m||{},A=A||d;var T=arguments.length>3,g=x.lowerBoundKey(l),E=x.upperBoundKey(l);return g?g==="gt"?m.gt=A(l.gt,!1):m.gte=A(l[g],!1):T&&(m.gte=A(B,!1)),E?E==="lt"?m.lt=A(l.lt,!0):m.lte=A(l[E],!0):T&&(m.lte=A(k,!0)),l.reverse!=null&&(m.reverse=!!l.reverse),i(m,"max")&&delete m.max,i(m,"min")&&delete m.min,i(m,"start")&&delete m.start,i(m,"end")&&delete m.end,m},x.contains=function(l,m,A){A=A||x.compare;var B=t(l);if(r(B)&&((k=A(m,B))<0||k===0&&e(l)))return!1;var k,T=u(l);return!(r(T)&&((k=A(m,T))>0||k===0&&n(l)))},x.filter=function(l,m){return function(A){return x.contains(l,A,m)}}}).call(this,b(4).Buffer)},function(N,x,b){(function(s){var r=b(236).strict;N.exports=function(i){if(r(i)){var f=s.from(i.buffer);return i.byteLength!==i.buffer.byteLength&&(f=f.slice(i.byteOffset,i.byteOffset+i.byteLength)),f}return s.from(i)}}).call(this,b(4).Buffer)},function(N,x,b){N.exports=i,i.strict=f,i.loose=c;var s=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(t){return f(t)||c(t)}function f(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function c(t){return r[s.call(t)]}},function(N,x,b){var s,r,i,f=[b(238),b(239),b(240),b(241),b(242)],c=-1,t=[],a=!1;function o(){s&&r&&(s=!1,r.length?t=r.concat(t):c=-1,t.length&&e())}function e(){if(!s){a=!1,s=!0;for(var d=t.length,l=setTimeout(o);d;){for(r=t,t=[];r&&++c<d;)r[c].run();c=-1,d=t.length}r=null,c=-1,s=!1,clearTimeout(l)}}for(var n=-1,h=f.length;++n<h;)if(f[n]&&f[n].test&&f[n].test()){i=f[n].install(e);break}function u(d,l){this.fun=d,this.array=l}u.prototype.run=function(){var d=this.fun,l=this.array;switch(l.length){case 0:return d();case 1:return d(l[0]);case 2:return d(l[0],l[1]);case 3:return d(l[0],l[1],l[2]);default:return d.apply(null,l)}},N.exports=function(d){var l=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)l[m-1]=arguments[m];t.push(new u(d,l)),a||s||(a=!0,i())}},function(N,x,b){(function(s){x.test=function(){return s!==void 0&&!s.browser},x.install=function(r){return function(){s.nextTick(r)}}}).call(this,b(11))},function(N,x,b){(function(s){var r=s.MutationObserver||s.WebKitMutationObserver;x.test=function(){return r},x.install=function(i){var f=0,c=new r(i),t=s.document.createTextNode("");return c.observe(t,{characterData:!0}),function(){t.data=f=++f%2}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return!s.setImmediate&&s.MessageChannel!==void 0},x.install=function(r){var i=new s.MessageChannel;return i.port1.onmessage=r,function(){i.port2.postMessage(0)}}}).call(this,b(7))},function(N,x,b){(function(s){x.test=function(){return"document"in s&&"onreadystatechange"in s.document.createElement("script")},x.install=function(r){return function(){var i=s.document.createElement("script");return i.onreadystatechange=function(){r(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},s.document.documentElement.appendChild(i),r}}}).call(this,b(7))},function(N,x,b){x.test=function(){return!0},x.install=function(s){return function(){setTimeout(s,0)}}},function(N,x,b){x.test=function(s){return function(r){try{return r.cmp(s,0),!0}catch(i){return!1}}},x.binaryKeys=x.test(new Uint8Array(0)),x.arrayKeys=x.test([1])},function(N,x,b){(function(s){const r=b(245),i=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,f=r(),c=i&&!f,t=f&&!i,a=f&&i,o=s!==void 0&&s.release!==void 0&&s.release.name==="node"&&!f,e=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,n=s!==void 0&&{NODE_ENV:"production"}!==void 0&&!1;N.exports={isTest:n,isElectron:f,isElectronMain:t,isElectronRenderer:a,isNode:o,isBrowser:c,isWebWorker:e,isEnvWithDom:i}}).call(this,b(11))},function(N,x,b){(function(s){N.exports=function(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||!(s===void 0||typeof s.versions!="object"||!s.versions.electron)||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}}).call(this,b(11))},function(N,x,b){const s=b(2)("ipfs:components:peer:storage"),r=b(247),{ERR_REPO_NOT_INITIALIZED:i}=b(43),f=b(6),c=b(5),t=b(8),a=b(336);N.exports=async m=>{const{repoAutoMigrate:A,repo:B,silent:k,useMemory:T}=m,g=m.silent?s:console.log;m.print=g;const E=typeof B=="string"||B==null?r({path:B,autoMigrate:A,silent:k,useMemory:T}):B,{peerId:R,keychain:S,isNew:M}=await o(E,m);return{peerId:R,keychain:S,repo:E,print:g,isNew:M}};const o=async(m,A)=>{const B=await e(m);if(B==null)return{...await l(m,A),isNew:!1};if(B.code===i){if(A.allowNew===!1)throw new Error("Initialization of new repos disabled by config, pass `config.init.isNew: true` to enable it");return{...await n(m,A),isNew:!0}}throw B},e=async m=>{if(!m.closed)return null;try{return await m.open(),null}catch(A){return A}},n=async(m,A)=>{const B=await m.exists();if(s("repo exists?",B),B===!0)throw new Error("repo already exists");const k=A.privateKey?await h(A.privateKey):await u(A),T=d(k);s("peer identity: %s",T.PeerID);const g={...A.config,Identity:T};await m.init(g),await m.open(),s("repo opened");const E=a({peerId:k,repo:m,keychainConfig:{pass:A.pass},libp2pConfig:A.libp2pConfig});return E.keychain&&E.keychain.opts&&(await E.loadKeychain(),await m.config.set("Keychain",{dek:E.keychain.opts.dek})),{peerId:k,keychain:E.keychain}},h=m=>(s("using user-supplied private-key"),typeof m=="object"?m:t.createFromPrivKey(f(m,"base64pad"))),u=({print:m,algorithm:A="RSA",bits:B=2048})=>(m("generating %s-bit (rsa only) %s keypair...",B,A),t.create({keyType:A,bits:B})),d=m=>({PeerID:m.toB58String(),PrivKey:c(m.privKey.bytes,"base64pad")}),l=async(m,{libp2pConfig:A,pass:B})=>{const k=await m.config.getAll();let T;k.Identity&&(T=await t.createFromPrivKey(k.Identity.PrivKey));const g=a({peerId:T||await t.create(),repo:m,keychainConfig:{pass:B,...k.Keychain},libp2pConfig:A});return g.keychain&&await g.loadKeychain(),{peerId:T,keychain:g.keychain}}},function(N,x,b){const s=b(85);N.exports=(r={})=>{const i=r.path;let f=null;return new s(i,{autoMigrate:r.autoMigrate,onMigrationProgress:r.silent?null:(c,t,a)=>{c!==f&&(f=c,console.info(`Migrating repo from v${c-1} to v${c}`)),console.info(`${t.toString().padStart(6," ")}% ${a}`)},useMemory:r.useMemory})}},function(N,x,b){N.exports={encode:b(249),decode:b(250),encodingLength:b(251)}},function(N,x,b){N.exports=function r(i,f,c){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw r.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o||t>49)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});N.exports={names:s}},function(N,x,b){N.exports=function r(i,f,c){f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=b(36),r=new Map;for(const i in s){const f=s[i];r.set(f,i)}N.exports=Object.freeze(r)},function(N,x,b){const s=b(36),r=b(115).varintEncode,i={};for(const f in s){const c=s[f];i[f]=r(c)}N.exports=Object.freeze(i)},function(N,x,b){const{names:s}=b(34),{TextDecoder:r}=b(35),i=new r("utf8");N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.decode(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.encode(f)}},function(N,x,b){const{names:s}=b(34),{TextEncoder:r}=b(35),i=new r;N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.encode(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.decode(f)}},function(N,x,b){N.exports=function(s,r){r||(r=s.reduce((c,t)=>c+t.length,0));const i=new Uint8Array(r);let f=0;for(const c of s)i.set(c,f),f+=c.length;return i}},function(N,x,b){const s=b(36),r={};for(const[i,f]of Object.entries(s))r[i.toUpperCase().replace(/-/g,"_")]=f;N.exports=Object.freeze(r)},function(N,x,b){const s=b(36),r={};for(const[i,f]of Object.entries(s))r[f]===void 0&&(r[f]=i);N.exports=Object.freeze(r)},function(N,x,b){const s=b(45),r={checkCIDComponents:function(i){if(i==null)return"null values are not valid CIDs";if(i.version!==0&&i.version!==1)return"Invalid version, must be a number equal to 1 or 0";if(typeof i.codec!="string")return"codec must be string";if(i.version===0){if(i.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(i.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(i.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{s.validate(i.multihash)}catch(f){let c=f.message;return c||(c="Multihash validation failed"),c}}};N.exports=r},function(N,x,b){var s=b(265),r=b(267);N.exports=s,N.exports.parse=s,N.exports.stringify=r},function(N,x,b){var s=b(266),r=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(k){for(var T={};k.length;)switch(k[0]){case"[":case",":k.shift();var g=k.shift();if(g==="("&&(g=k.shift(),k.shift()),k[0]!=="=")throw new Error("Unexpected token in field options: "+k[0]);if(k.shift(),k[0]==="]")throw new Error("Unexpected ] in field option");T[g]=k.shift();break;case"]":return k.shift(),T;default:throw new Error("Unexpected token in field options: "+k[0])}throw new Error("No closing tag for field options")},f=function(k){for(var T={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};k.length;)switch(k[0]){case"=":k.shift(),T.tag=Number(k.shift());break;case"map":if(T.type="map",T.map={from:null,to:null},k.shift(),k[0]!=="<")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.from=k.shift(),k[0]!==",")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.to=k.shift(),k[0]!==">")throw new Error("Unexpected token in map type: "+k[0]);k.shift(),T.name=k.shift();break;case"repeated":case"required":case"optional":var g=k.shift();T.required=g==="required",T.repeated=g==="repeated",T.type=k.shift(),T.name=k.shift();break;case"[":T.options=i(k);break;case";":if(T.name===null)throw new Error("Missing field name");if(T.type===null)throw new Error("Missing type in message field: "+T.name);if(T.tag===-1)throw new Error("Missing tag number in message field: "+T.name);return k.shift(),T;default:throw new Error("Unexpected token in message field: "+k[0])}throw new Error("No ; found for message field")},c=function(k){for(var T={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};k.length;)switch(k[0]){case"map":case"repeated":case"optional":case"required":T.fields.push(f(k));break;case"enum":T.enums.push(u(k));break;case"message":T.messages.push(o(k));break;case"extensions":T.extensions=a(k);break;case"oneof":k.shift();var g=k.shift();if(k[0]!=="{")throw new Error("Unexpected token in oneof: "+k[0]);for(k.shift();k[0]!=="}";){k.unshift("optional");var E=f(k);E.oneof=g,T.fields.push(E)}k.shift();break;case"extend":T.extends.push(t(k));break;case";":k.shift();break;case"reserved":for(k.shift();k[0]!==";";)k.shift();break;case"option":var R=d(k);if(T.options[R.name]!==void 0)throw new Error("Duplicate option "+R.name);T.options[R.name]=R.value;break;default:k.unshift("optional"),T.fields.push(f(k))}return T},t=function(k){return{name:k[1],message:o(k)}},a=function(k){k.shift();var T=Number(k.shift());if(isNaN(T))throw new Error("Invalid from in extensions definition");if(k.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var g=k.shift();if(g==="max"&&(g=536870911),g=Number(g),isNaN(g))throw new Error("Invalid to in extensions definition");if(k.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:T,to:g}},o=function(k){k.shift();var T=1,g=[],E={name:k.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="{"?T++:k[0]==="}"&&T--,!T)return k.shift(),g=c(g),E.enums=g.enums,E.messages=g.messages,E.fields=g.fields,E.extends=g.extends,E.extensions=g.extensions,E.options=g.options,E;g.push(k.shift())}if(T)throw new Error("No closing tag for message")},e=function(k){k.shift();var T=k.shift();if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},n=function(k){if(k.shift(),k[0]!=="=")throw new Error("Expected = but found "+k[0]);k.shift();var T=k.shift();switch(T){case'"proto2"':T=2;break;case'"proto3"':T=3;break;default:throw new Error("Expected protobuf syntax version but found "+T)}if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},h=function(k){if(k.length<4)throw new Error("Invalid enum value: "+k.slice(0,3).join(" "));if(k[1]!=="=")throw new Error("Expected = but found "+k[1]);if(k[3]!==";"&&k[3]!=="[")throw new Error("Expected ; or [ but found "+k[1]);var T=k.shift();k.shift();var g={value:null,options:{}};return g.value=Number(k.shift()),k[0]==="["&&(g.options=i(k)),k.shift(),{name:T,val:g}},u=function(k){k.shift();var T={},g={name:k.shift(),values:{},options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),g;if(k[0]!=="option"){var E=h(k);g.values[E.name]=E.val}else T=d(k),g.options[T.name]=T.value}throw new Error("No closing tag for enum")},d=function(k){for(var T=null,g=null,E=function(S){return S==="true"||S!=="false"&&S.replace(/^"+|"+$/gm,"")};k.length;){if(k[0]===";")return k.shift(),{name:T,value:g};switch(k[0]){case"option":k.shift();var R=k[0]==="(";if(R&&k.shift(),T=k.shift(),R){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}k[0][0]==="."&&(T+=k.shift());break;case"=":if(k.shift(),T===null)throw new Error("Expected key for option with value: "+k[0]);if(g=E(k.shift()),T==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(g))throw new Error("Unexpected value for option optimize_for: "+g);g==="{"&&(g=l(k));break;default:throw new Error("Unexpected token in option: "+k[0])}}},l=function(k){for(var T=function(M){return M==="true"||M!=="false"&&M.replace(/^"+|"+$/gm,"")},g={};k.length;){if(k[0]==="}")return k.shift(),g;var E=k[0]==="(";E&&k.shift();var R=k.shift();if(E){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}var S=null;switch(k[0]){case":":if(g[R]!==void 0)throw new Error("Duplicate option map key "+R);k.shift(),(S=T(k.shift()))==="{"&&(S=l(k)),g[R]=S,k[0]===";"&&k.shift();break;case"{":if(k.shift(),S=l(k),g[R]===void 0&&(g[R]=[]),!Array.isArray(g[R]))throw new Error("Duplicate option map key "+R);g[R].push(S);break;default:throw new Error("Unexpected token in option map: "+k[0])}}throw new Error("No closing tag for option map")},m=function(k){k.shift();var T=k.shift().replace(/^"+|"+$/gm,"");if(k[0]!==";")throw new Error("Unexpected token: "+k[0]+'. Expected ";"');return k.shift(),T},A=function(k){k.shift();var T={name:k.shift(),methods:[],options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;switch(k[0]){case"option":var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value;break;case"rpc":T.methods.push(B(k));break;default:throw new Error("Unexpected token in service: "+k[0])}}throw new Error("No closing tag for service")},B=function(k){k.shift();var T={name:k.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.client_streaming=!0),T.input_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]!=="returns")throw new Error("Expected returns but found "+k[0]);if(k.shift(),k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.server_streaming=!0),T.output_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]===";")return k.shift(),T;if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;if(k[0]!=="option")throw new Error("Unexpected token in rpc options: "+k[0]);var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value}throw new Error("No closing tag for rpc")};N.exports=function(k){for(var T=s(k.toString()),g=0;g<T.length;g++){var E;if(/^("|')([^'"]*)$/.test(T[g])){for(E=T[g].length===1?g+1:g;E<T.length;E++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(T[E])){T=T.slice(0,g).concat(T.slice(g,E+1).join("")).concat(T.slice(E+1));break}}}for(var R={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},S=!0;T.length;){switch(T[0]){case"package":R.package=e(T);break;case"syntax":if(!S)throw new Error("Protobuf syntax version should be first thing in file");R.syntax=n(T);break;case"message":R.messages.push(o(T));break;case"enum":R.enums.push(u(T));break;case"option":var M=d(T);if(R.options[M.name])throw new Error("Duplicate option "+M.name);R.options[M.name]=M.value;break;case"import":R.imports.push(m(T));break;case"extend":R.extends.push(t(T));break;case"service":R.services||(R.services=[]),R.services.push(A(T));break;default:throw new Error("Unexpected token: "+T[0])}S=!1}return R.extends.forEach(function(y){R.messages.forEach(function(p){p.name===y.name&&y.message.fields.forEach(function(w){if(!p.extensions||w.tag<p.extensions.from||w.tag>p.extensions.to)throw new Error(p.name+" does not declare "+w.tag+" as an extension number");p.fields.push(w)})})}),R.messages.forEach(function(y){y.fields.forEach(function(p){var w,v,_,C;if(p.options&&p.options.packed==="true"&&r.indexOf(p.type)===-1){if(p.type.indexOf(".")===-1){if(y.enums&&y.enums.some(function(L){return L.name===p.type}))return}else{if((w=p.type.split(".")).length>2)throw new Error("what is this?");if(v=w[0],_=w[1],R.messages.some(function(L){if(L.name===v)return C=L,L}),C&&C.enums&&C.enums.some(function(L){return L.name===_}))return}throw new Error("Fields of type "+p.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),R}},function(N,x,b){N.exports=function(s){var r,i=function(f){return f.trim()};return s.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(i).filter(Boolean).map(function(f){var c=f.indexOf("//");return c>-1?f.slice(0,c):f}).map(i).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter((r=!1,function(f){return f==="/*"?(r=!0,!1):f==="*/"?(r=!1,!1):!r}))}},function(N,x,b){var s=function(e,n){var h=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(h="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(h="");var u=Object.keys(e.options||{}).map(function(d){return d+" = "+e.options[d]}).join(",");return u&&(u=" ["+u+"]"),n.push((h?h+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+u+";"),n},r=function(e,n){n.push("message "+e.name+" {"),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(u){n.push(i(u,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(u){n.push(r(u,[]))});var h={};return e.fields||(e.fields=[]),e.fields.forEach(function(u){u.oneof?(h[u.oneof]||(h[u.oneof]=[]),h[u.oneof].push(s(u,[]))):n.push(s(u,[]))}),Object.keys(h).forEach(function(u){h[u].unshift("oneof "+u+" {"),h[u].push("}"),n.push(h[u])}),n.push("}",""),n},i=function(e,n){n.push("enum "+e.name+" {"),e.options||(e.options={});var h=c(e.options,[]);return h.length>1&&n.push(h.slice(0,-1)),Object.keys(e.values).map(function(u){var d=f(e.values[u]);n.push([u+" = "+d+";"])}),n.push("}",""),n},f=function(e,n){var h=Object.keys(e.options||{}).map(function(u){return u+" = "+e.options[u]}).join(",");return h&&(h=" ["+h+"]"),e.value+h},c=function(e,n){var h=Object.keys(e);return h.forEach(function(u){var d=e[u];~u.indexOf(".")&&(u="("+u+")");var l=typeof d;l==="object"?(d=t(d,[])).length&&n.push("option "+u+" = {",d,"};"):(l==="string"&&u!=="optimize_for"&&(d='"'+d+'"'),n.push("option "+u+" = "+d+";"))}),h.length>0&&n.push(""),n},t=function(e,n){return Object.keys(e).forEach(function(h){var u=e[h],d=typeof u;d==="object"?Array.isArray(u)?u.forEach(function(l){(l=t(l,[])).length&&n.push(h+" {",l,"}")}):(u=t(u,[])).length&&n.push(h+" {",u,"}"):(d==="string"&&(u='"'+u+'"'),n.push(h+": "+u))}),n},a=function(e,n){var h="rpc "+e.name+"(";e.client_streaming&&(h+="stream "),h+=e.input_type+") returns (",e.server_streaming&&(h+="stream "),h+=e.output_type+")",e.options||(e.options={});var u=c(e.options,[]);return u.length>1?n.push(h+" {",u.slice(0,-1),"}"):n.push(h+";"),n},o=function(e){return function(n){return Array.isArray(n)?n.map(o(e+"  ")).join(`
`):e+n}};N.exports=function(e){var n=[];return n.push('syntax = "proto'+e.syntax+'";',""),e.package&&n.push("package "+e.package+";",""),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(h){i(h,n)}),e.messages||(e.messages=[]),e.messages.forEach(function(h){r(h,n)}),e.services&&e.services.forEach(function(h){!function(u,d){d.push("service "+u.name+" {"),u.options||(u.options={}),c(u.options,d),u.methods||(u.methods=[]),u.methods.forEach(function(l){d.push(a(l,[]))}),d.push("}","")}(h,n)}),n.map(o("")).join(`
`)}},function(N,x,b){const s=b(269),r=b(283),i=b(284),f=b(285),c=b(9);N.exports=function(t,a){const o={},e={},n={},h=function(l,m){l.enums&&l.enums.forEach(function(A){A.id=m+(m?".":"")+A.name,e[A.id]=A,h(A,A.id)}),l.messages&&l.messages.forEach(function(A){A.id=m+(m?".":"")+A.name,o[A.id]=A,A.fields.forEach(function(B){if(!B.map)return;const k="Map_"+B.map.from+"_"+B.map.to,T={name:k,enums:[],messages:[],fields:[{name:"key",type:B.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:B.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:m+(m?".":"")+k};o[T.id]||(o[T.id]=T,l.messages.push(T)),B.type=k,B.repeated=!0}),h(A,A.id)})};h(t,"");const u=function(l,m){l.messages.forEach(function(E){m[E.name]=d(E.name,l.id)}),l.enums.forEach(function(E){m[E.name]=function(R){if(!R)return null;const S={};return Object.keys(R).forEach(function(M){S[M]=R[M].value}),S}(E.values)}),m.type=2,m.message=!0,m.name=l.name;const A={};l.fields.forEach(function(E){E.oneof&&(A[E.oneof]||(A[E.oneof]=[]),A[E.oneof].push(E.name))});const B=l.fields.map(function(E){return d(E.type,l.id)}),k=f(l,B,A),T=i(l,d,B,A,k),g=r(l,d,B);return T.bytes=g.bytes=0,m.buffer=!0,m.encode=T,m.decode=g,m.encodingLength=k,m},d=function(l,m,A){if(a&&a[l])return a[l];if(s[l])return s[l];const B=(m?m+"."+l:l).split(".").map(function(k,T,g){return g.slice(0,T).concat(l).join(".")}).reverse().reduce(function(k,T){return k||o[T]||e[T]},null);if(A===!1)return B;if(!B)throw new Error("Could not resolve "+l);return B.values?function(k){const T=Object.keys(k.values||[]).map(function(g){return parseInt(k.values[g].value,10)});return s.make(0,function g(E,R,S,M){if(!T.length||T.indexOf(E)===-1)throw new Error("Invalid enum value: "+E);return c.encode(E,R,M),g.bytes=c.encode.bytes,R},function g(E,R,S){var M=c.decode(E,S);if(!T.length||T.indexOf(M)===-1)throw new Error("Invalid enum value: "+M);return g.bytes=c.decode.bytes,M},c.encodingLength)}(B):n[B.id]||u(B,n[B.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(l){return d(l.id)}))}},function(N,x,b){x.make=b(13),x.bytes=b(270),x.string=b(271),x.bool=b(272),x.int32=b(273),x.int64=b(274),x.sint32=x.sint64=b(275),x.uint32=x.uint64=x.enum=x.varint=b(277),x.fixed64=x.sfixed64=b(278),x.double=b(279),x.fixed32=b(280),x.sfixed32=b(281),x.float=b(282)},function(N,x,b){const s=b(9),r=b(13);function i(f){return f.byteLength}N.exports=r(2,function f(c,t,a,o){const e=o,n=i(c);s.encode(n,t,o),o+=s.encode.bytes,t.set(c,o),f.bytes=(o+=n)-e},function f(c,t,a){const o=a,e=s.decode(c,a);a+=s.decode.bytes;const n=c.slice(a,a+e);return a+=n.length,f.bytes=a-o,n},function(f){const c=i(f);return s.encodingLength(c)+c})},function(N,x,b){const s=b(9),r=b(6),i=b(5),f=b(13);N.exports=f(2,function c(t,a,o,e){const n=e,h=r(t).byteLength;s.encode(h,a,e,"utf-8"),e+=s.encode.bytes;const u=r(t);a.set(u,e),e+=u.length,c.bytes=e-n},function c(t,a,o){const e=o,n=s.decode(t,o);o+=s.decode.bytes;const h=i(t.subarray(o,o+n));return c.bytes=(o+=n)-e,h},function(c){const t=r(c).byteLength;return s.encodingLength(t)+t})},function(N,x,b){const s=b(13);N.exports=s(0,function r(i,f,c,t){f[t]=i?1:0,r.bytes=1},function r(i,f,c){const t=i[c]>0;return r.bytes=1,t},function(){return 1})},function(N,x,b){const s=b(9),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f<0?f+4294967296:f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a>2147483647?a-4294967296:a},function(i){return s.encodingLength(i<0?i+4294967296:i)})},function(N,x,b){const s=b(9),r=b(13);N.exports=r(0,function i(f,c,t,a){if(f<0){const o=a+9;for(s.encode(-1*f,c,a),c[a+=s.encode.bytes-1]=128|c[a];a<o-1;)c[++a]=255;c[o]=1,i.bytes=10}else s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){let a=s.decode(f,t);if(a>=Math.pow(2,63)){let o=9;for(;f[t+o-1]===255;)o--;o=o||9;const e=f.subarray(t,t+o);e[o-1]=127&e[o-1],a=-1*s.decode(e,0),i.bytes=10}else i.bytes=s.decode.bytes;return a},function(i){return i<0?10:s.encodingLength(i)})},function(N,x,b){const s=b(276),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){var s=b(9);x.encode=function r(i,f,c){i=i>=0?2*i:-2*i-1;var t=s.encode(i,f,c);return r.bytes=s.encode.bytes,t},x.decode=function r(i,f){var c=s.decode(i,f);return r.bytes=s.decode.bytes,1&c?(c+1)/-2:c/2},x.encodingLength=function(r){return s.encodingLength(r>=0?2*r:-2*r-1)}},function(N,x,b){const s=b(9),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){const s=b(13);N.exports=s(1,function r(i,f,c,t){for(const a of i)f[t]=a,t++;r.bytes=8},function r(i,f,c){const t=i.slice(c,c+8);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(13);N.exports=s(1,function r(i,f,c,t){c.setFloat64(t,i,!0),r.bytes=8},function r(i,f,c){const t=f.getFloat64(c,!0);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setUint32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getUint32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setInt32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getInt32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setFloat32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getFloat32(c,!0);return r.bytes=4,t},function(){return 4})},function(N,x,b){const s=b(9),r=b(65).defined;function i(o){return`${o.substring(0,1).toUpperCase()}${o.substring(1)}`}function f(o,e,n,h){if(Object.prototype.hasOwnProperty.call(o,e))return;const u=i(e);Object.defineProperties(o,{[e]:{enumerable:!0,configurable:!0,set:d=>{n=d},get:()=>n===void 0?h:n},["has"+u]:{configurable:!0,value:()=>n!==void 0},["set"+u]:{configurable:!0,value:d=>{n=d}},["get"+u]:{configurable:!0,value:()=>n},["clear"+u]:{configurable:!0,value:()=>{n=void 0,o[e]=void 0}}})}var c=function(o,e,n,h){switch(o){case 0:return s.decode(e,h),h+s.decode.bytes;case 1:return h+8;case 2:var u=s.decode(e,h);return h+s.decode.bytes+u;case 3:case 4:throw new Error("Groups are not supported");case 5:return h+4;default:throw new Error("Unknown wire type: "+o)}},t=function(o){if(o.map)return{};if(o.repeated)return[];switch(o.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},a=function(o,e){if(e===void 0)return e;switch(o.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};N.exports=function(o,e,n){const h=[],u={},d=[],l=[];for(var m=0;m<n.length;m++){const B=o.fields[m];u[B.tag]=m;const k=B.options&&B.options.default,T=e(B.type,o.id,!1);l[m]=[k,T&&T.values],o.fields[m].packed=B.repeated&&B.options&&B.options.packed&&B.options.packed!=="false",B.required&&h.push(B.name),B.oneof&&d.push(B.name)}function A(B,k,T,g,E,R,S){const M=k.name;if(k.oneof){const w=Object.keys(T);for(var y=0;y<w.length;y++)if(d.indexOf(w[y])>-1){const v=i(w[y]);delete T["has"+v],delete T["get"+v],delete T["set"+v],delete T["clear"+v],delete T[w[y]]}}let p;if(B.message){const w=s.decode(g,R);R+=s.decode.bytes;const v=B.decode(g,E,R,R+w);k.map?(p=T[M]||{},p[v.key]=v.value):k.repeated?(p=T[M]||[],p.push(v)):p=v}else k.repeated?(p=T[M]||[],p.push(B.decode(g,E,R))):p=B.decode(g,E,R);return f(T,M,p),R+=B.decode.bytes}return function B(k,T,g,E){if(g==null&&(g=0),E==null&&(E=k.length),!(E<=k.length&&g<=k.length))throw new Error("Decoded message is not valid");T||(T=new DataView(k.buffer,k.byteOffset,k.byteLength));for(var R,S=g,M={};;){if(E<=g){var y,p,w="",v=0;for(v=0;v<h.length;v++)if(w=h[v],!r(M[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(v=0;v<n.length;v++){let G;if(R=o.fields[v],p=l[v][0],y=l[v][1],w=R.name,!Object.prototype.hasOwnProperty.call(M,w)){var _=!1;if(R.oneof){for(var C=Object.keys(M),L=0;L<C.length;L++)if(d.indexOf(C[L])>-1){_=!0;break}}_||(y?R.repeated?p=[]:(p=p&&y[p]?y[p].value:y[Object.keys(y)[0]].value,p=parseInt(p||0,10)):(G=t(R),p=a(R,p)),f(M,w,p,G))}}return B.bytes=g-S,M}var O=s.decode(k,g);g+=s.decode.bytes;var U=u[O>>3];if(U!=null){var q=n[U];if((R=o.fields[U]).packed){var H=s.decode(k,g);for(H+=g+=s.decode.bytes;g<H;)g=A(q,R,M,k,T,g)}else g=A(q,R,M,k,T,g)}else g=c(7&O,k,T,g)}}}},function(N,x,b){var s=b(65).defined,r=b(9);N.exports=function(i,f,c,t,a){const o=Object.keys(t),e=c.length,n={};for(let u=0;u<e;u++){n[u]={p:r.encode(i.fields[u].tag<<3|2),h:r.encode(i.fields[u].tag<<3|c[u].type)};const d=i.fields[u];i.fields[u].packed=d.repeated&&d.options&&d.options.packed&&d.options.packed!=="false"}function h(u,d,l,m,A,B,k){let T=0;if(!B)for(T=0;T<m.length;T++)u[l++]=m[T];return A.message&&(r.encode(A.encodingLength(k),u,l),l+=r.encode.bytes),A.encode(k,u,d,l),l+A.encode.bytes}return function u(d,l,m,A=0){l==null&&(l=new Uint8Array(a(d))),m==null&&(m=new DataView(l.buffer,l.byteOffset,l.byteLength));const B=A,k=Object.keys(d);let T=0,g=!1;for(T=0;T<o.length;T++){const E=o[T],R=t[T];if(k.indexOf(R)>-1){if(g)throw new Error("only one of the properties defined in oneof "+E+" can be set");g=!0}}for(T=0;T<e;T++){const E=c[T],R=i.fields[T];let S=d[R.name],M=0;if(!s(S)){if(R.required)throw new Error(R.name+" is required");continue}const y=n[T].p,p=n[T].h,w=R.packed;if(R.map){const v=Object.keys(S);for(M=0;M<v.length;M++)v[M]={key:v[M],value:S[v[M]]};S=v}if(w){let v=0;for(M=0;M<S.length;M++)Object.prototype.hasOwnProperty.call(S,M)&&(v+=E.encodingLength(S[M]));if(v){for(M=0;M<p.length;M++)l[A++]=y[M];r.encode(v,l,A),A+=r.encode.bytes}}if(R.repeated){let v;for(M=0;M<S.length;M++)v=S[M],s(v)&&(A=h(l,m,A,p,E,w,v))}else A=h(l,m,A,p,E,w,S)}return u.bytes=A-B,l}}},function(N,x,b){var s=b(65).defined,r=b(9);N.exports=function(i,f,c){const t=Object.keys(c),a=f.length,o=new Array(a);for(let e=0;e<i.fields.length;e++){o[e]=r.encodingLength(i.fields[e].tag<<3|f[e].type);const n=i.fields[e];i.fields[e].packed=n.repeated&&n.options&&n.options.packed&&n.options.packed!=="false"}return function(e){let n=0,h=0,u=0;for(h=0;h<t.length;h++){const d=t[h],l=c[d];let m=!1;for(u=0;u<l.length;u++)if(s(e[l[u]])){if(m)throw new Error("only one of the properties defined in oneof "+d+" can be set");m=!0}}for(h=0;h<a;h++){const d=f[h],l=i.fields[h];let m=e[l.name];const A=o[h];let B;if(s(m)){if(l.map){const k=Object.keys(m);for(u=0;u<k.length;u++)k[u]={key:k[u],value:m[k[u]]};m=k}if(l.packed){let k=0;for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),k+=B,d.message&&(k+=r.encodingLength(B)));k&&(n+=A+k+r.encodingLength(k))}else if(l.repeated)for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),n+=A+B+(d.message?r.encodingLength(B):0));else B=d.encodingLength(m),n+=A+B+(d.message?r.encodingLength(B):0)}else if(l.required)throw new Error(l.name+" is required")}return n}}},function(N,x,b){(function(s){var r={};N.exports=r;var i={};r.encode=function(f,c,t){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');var a="";if(f instanceof Uint8Array){var o=0,e=c.length,n=c.charAt(0),h=[0];for(o=0;o<f.length;++o){for(var u=0,d=f[o];u<h.length;++u)d+=h[u]<<8,h[u]=d%e,d=d/e|0;for(;d>0;)h.push(d%e),d=d/e|0}for(o=0;f[o]===0&&o<f.length-1;++o)a+=n;for(o=h.length-1;o>=0;--o)a+=c[h[o]]}else a=function(m,A){var B=0,k=A.length,T=A.charAt(0),g=[0];for(B=0;B<m.length();++B){for(var E=0,R=m.at(B);E<g.length;++E)R+=g[E]<<8,g[E]=R%k,R=R/k|0;for(;R>0;)g.push(R%k),R=R/k|0}var S="";for(B=0;m.at(B)===0&&B<m.length()-1;++B)S+=T;for(B=g.length-1;B>=0;--B)S+=A[g[B]];return S}(f,c);if(t){var l=new RegExp(".{1,"+t+"}","g");a=a.match(l).join(`\r
`)}return a},r.decode=function(f,c){if(typeof f!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var t=i[c];if(!t){t=i[c]=[];for(var a=0;a<c.length;++a)t[c.charCodeAt(a)]=a}f=f.replace(/\s/g,"");var o=c.length,e=c.charAt(0),n=[0];for(a=0;a<f.length;a++){var h=t[f.charCodeAt(a)];if(h===void 0)return;for(var u=0,d=h;u<n.length;++u)d+=n[u]*o,n[u]=255&d,d>>=8;for(;d>0;)n.push(255&d),d>>=8}for(var l=0;f[l]===e&&l<f.length-1;++l)n.push(0);return s!==void 0?s.from(n.reverse()):new Uint8Array(n.reverse())}}).call(this,b(4).Buffer)},function(N,x,b){var s=b(1);b(25),b(3),(N.exports=s.hmac=s.hmac||{}).create=function(){var r=null,i=null,f=null,c=null,t={start:function(a,o){if(a!==null)if(typeof a=="string"){if(!((a=a.toLowerCase())in s.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');i=s.md.algorithms[a].create()}else i=a;if(o===null)o=r;else{if(typeof o=="string")o=s.util.createBuffer(o);else if(s.util.isArray(o)){var e=o;o=s.util.createBuffer();for(var n=0;n<e.length;++n)o.putByte(e[n])}var h=o.length();for(h>i.blockLength&&(i.start(),i.update(o.bytes()),o=i.digest()),f=s.util.createBuffer(),c=s.util.createBuffer(),h=o.length(),n=0;n<h;++n)e=o.at(n),f.putByte(54^e),c.putByte(92^e);if(h<i.blockLength)for(e=i.blockLength-h,n=0;n<e;++n)f.putByte(54),c.putByte(92);r=o,f=f.bytes(),c=c.bytes()}i.start(),i.update(f)},update:function(a){i.update(a)},getMac:function(){var a=i.digest().bytes();return i.start(),i.update(c),i.update(a),i.digest()}};return t.digest=t.getMac,t}},function(N,x,b){var s=b(1);b(25),b(3);var r=N.exports=s.sha256=s.sha256||{};s.md.sha256=s.md.algorithms.sha256=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=!0);var a=null,o=s.util.createBuffer(),e=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var h=n.messageLengthSize/4,u=0;u<h;++u)n.fullMessageLength.push(0);return o=s.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n}};return n.start(),n.update=function(h,u){u==="utf8"&&(h=s.util.encodeUtf8(h));var d=h.length;n.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=d[1],d[1]=d[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,d[0]=d[1]/4294967296>>>0;return o.putBytes(h),t(a,e,o),(o.read>2048||o.length()===0)&&o.compact(),n},n.digest=function(){var h=s.util.createBuffer();h.putBytes(o.bytes());var u,d=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;h.putBytes(i.substr(0,n.blockLength-d));for(var l=8*n.fullMessageLength[0],m=0;m<n.fullMessageLength.length-1;++m)l+=(u=8*n.fullMessageLength[m+1])/4294967296>>>0,h.putInt32(l>>>0),l=u>>>0;h.putInt32(l);var A={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};t(A,e,h);var B=s.util.createBuffer();return B.putInt32(A.h0),B.putInt32(A.h1),B.putInt32(A.h2),B.putInt32(A.h3),B.putInt32(A.h4),B.putInt32(A.h5),B.putInt32(A.h6),B.putInt32(A.h7),B},n};var i=null,f=!1,c=null;function t(a,o,e){for(var n,h,u,d,l,m,A,B,k,T,g,E,R,S=e.length();S>=64;){for(l=0;l<16;++l)o[l]=e.getInt32();for(;l<64;++l)n=((n=o[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,h=((h=o[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,o[l]=n+o[l-7]+h+o[l-16]|0;for(m=a.h0,A=a.h1,B=a.h2,k=a.h3,T=a.h4,g=a.h5,E=a.h6,R=a.h7,l=0;l<64;++l)u=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),d=m&A|B&(m^A),n=R+((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(E^T&(g^E))+c[l]+o[l],R=E,E=g,g=T,T=k+n>>>0,k=B,B=A,A=m,m=n+(h=u+d)>>>0;a.h0=a.h0+m|0,a.h1=a.h1+A|0,a.h2=a.h2+B|0,a.h3=a.h3+k|0,a.h4=a.h4+T|0,a.h5=a.h5+g|0,a.h6=a.h6+E|0,a.h7=a.h7+R|0,S-=64}}},function(N,x,b){(function(s){var r=b(1);b(3);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||s.versions["node-webkit"]||(i=b(68)),(N.exports=r.prng=r.prng||{}).create=function(f){for(var c={plugin:f,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=f.md,a=new Array(32),o=0;o<32;++o)a[o]=t.create();function e(){if(c.pools[0].messageLength>=32)return n();var u=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(u)),n()}function n(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var u=c.plugin.md.create();u.update(c.keyBytes);for(var d=1,l=0;l<32;++l)c.reseeds%d==0&&(u.update(c.pools[l].digest().getBytes()),c.pools[l].start()),d<<=1;c.keyBytes=u.digest().getBytes(),u.start(),u.update(c.keyBytes);var m=u.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(m),c.generated=0}function h(u){var d=null,l=r.util.globalScope,m=l.crypto||l.msCrypto;m&&m.getRandomValues&&(d=function(M){return m.getRandomValues(M)});var A=r.util.createBuffer();if(d)for(;A.length()<u;){var B=Math.max(1,Math.min(u-A.length(),65536)/4),k=new Uint32Array(Math.floor(B));try{d(k);for(var T=0;T<k.length;++T)A.putInt32(k[T])}catch(M){if(!(typeof QuotaExceededError!="undefined"&&M instanceof QuotaExceededError))throw M}}if(A.length()<u)for(var g,E,R,S=Math.floor(65536*Math.random());A.length()<u;)for(E=16807*(65535&S),E+=(32767&(g=16807*(S>>16)))<<16,S=4294967295&(E=(2147483647&(E+=g>>15))+(E>>31)),T=0;T<3;++T)R=S>>>(T<<3),R^=Math.floor(256*Math.random()),A.putByte(String.fromCharCode(255&R));return A.getBytes(u)}return c.pools=a,c.pool=0,c.generate=function(u,d){if(!d)return c.generateSync(u);var l=c.plugin.cipher,m=c.plugin.increment,A=c.plugin.formatKey,B=c.plugin.formatSeed,k=r.util.createBuffer();c.key=null,function T(g){if(g)return d(g);if(k.length()>=u)return d(null,k.getBytes(u));if(c.generated>1048575&&(c.key=null),c.key===null)return r.util.nextTick(function(){!function(R){if(c.pools[0].messageLength>=32)return n(),R();var S=32-c.pools[0].messageLength<<5;c.seedFile(S,function(M,y){if(M)return R(M);c.collect(y),n(),R()})}(T)});var E=l(c.key,c.seed);c.generated+=E.length,k.putBytes(E),c.key=A(l(c.key,m(c.seed))),c.seed=B(l(c.key,c.seed)),r.util.setImmediate(T)}()},c.generateSync=function(u){var d=c.plugin.cipher,l=c.plugin.increment,m=c.plugin.formatKey,A=c.plugin.formatSeed;c.key=null;for(var B=r.util.createBuffer();B.length()<u;){c.generated>1048575&&(c.key=null),c.key===null&&e();var k=d(c.key,c.seed);c.generated+=k.length,B.putBytes(k),c.key=m(d(c.key,l(c.seed))),c.seed=A(d(c.key,c.seed))}return B.getBytes(u)},i?(c.seedFile=function(u,d){i.randomBytes(u,function(l,m){if(l)return d(l);d(null,m.toString())})},c.seedFileSync=function(u){return i.randomBytes(u).toString()}):(c.seedFile=function(u,d){try{d(null,h(u))}catch(l){d(l)}},c.seedFileSync=h),c.collect=function(u){for(var d=u.length,l=0;l<d;++l)c.pools[c.pool].update(u.substr(l,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(u,d){for(var l="",m=0;m<d;m+=8)l+=String.fromCharCode(u>>m&255);c.collect(l)},c.registerWorker=function(u){u===self?c.seedFile=function(d,l){self.addEventListener("message",function m(A){var B=A.data;B.forge&&B.forge.prng&&(self.removeEventListener("message",m),l(B.forge.prng.err,B.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:d}}})}:u.addEventListener("message",function(d){var l=d.data;l.forge&&l.forge.prng&&c.seedFile(l.forge.prng.needed,function(m,A){u.postMessage({forge:{prng:{err:m,bytes:A}}})})})},c}}).call(this,b(11))},function(N,x,b){var s=b(1);b(3);var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],f=function(a,o){return a<<o&65535|(65535&a)>>16-o},c=function(a,o){return(65535&a)>>o|a<<16-o&65535};N.exports=s.rc2=s.rc2||{},s.rc2.expandKey=function(a,o){typeof a=="string"&&(a=s.util.createBuffer(a)),o=o||128;var e,n=a,h=a.length(),u=o,d=Math.ceil(u/8),l=255>>(7&u);for(e=h;e<128;e++)n.putByte(r[n.at(e-1)+n.at(e-h)&255]);for(n.setAt(128-d,r[n.at(128-d)&l]),e=127-d;e>=0;e--)n.setAt(e,r[n.at(e+1)^n.at(e+d)]);return n};var t=function(a,o,e){var n,h,u,d,l=!1,m=null,A=null,B=null,k=[];for(a=s.rc2.expandKey(a,o),u=0;u<64;u++)k.push(a.getInt16Le());e?(n=function(E){for(u=0;u<4;u++)E[u]+=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),E[u]=f(E[u],i[u]),d++},h=function(E){for(u=0;u<4;u++)E[u]+=k[63&E[(u+3)%4]]}):(n=function(E){for(u=3;u>=0;u--)E[u]=c(E[u],i[u]),E[u]-=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),d--},h=function(E){for(u=3;u>=0;u--)E[u]-=k[63&E[(u+3)%4]]});var T=function(E){var R=[];for(u=0;u<4;u++){var S=m.getInt16Le();B!==null&&(e?S^=B.getInt16Le():B.putInt16Le(S)),R.push(65535&S)}d=e?0:63;for(var M=0;M<E.length;M++)for(var y=0;y<E[M][0];y++)E[M][1](R);for(u=0;u<4;u++)B!==null&&(e?B.putInt16Le(R[u]):R[u]^=B.getInt16Le()),A.putInt16Le(R[u])},g=null;return g={start:function(E,R){E&&typeof E=="string"&&(E=s.util.createBuffer(E)),l=!1,m=s.util.createBuffer(),A=R||new s.util.createBuffer,B=E,g.output=A},update:function(E){for(l||m.putBuffer(E);m.length()>=8;)T([[5,n],[1,h],[6,n],[1,h],[5,n]])},finish:function(E){var R=!0;if(e)if(E)R=E(8,m,!e);else{var S=m.length()===8?8:8-m.length();m.fillWithByte(S,S)}if(R&&(l=!0,g.update()),!e&&(R=m.length()===0))if(E)R=E(8,A,!e);else{var M=A.length(),y=A.at(M-1);y>M?R=!1:A.truncate(y)}return R}}};s.rc2.startEncrypting=function(a,o,e){var n=s.rc2.createEncryptionCipher(a,128);return n.start(o,e),n},s.rc2.createEncryptionCipher=function(a,o){return t(a,o,!0)},s.rc2.startDecrypting=function(a,o,e){var n=s.rc2.createDecryptionCipher(a,128);return n.start(o,e),n},s.rc2.createDecryptionCipher=function(a,o){return t(a,o,!1)}},function(N,x,b){var s=b(1);b(3),b(26),b(292);var r=N.exports=s.pkcs1=s.pkcs1||{};function i(f,c,t){t||(t=s.md.sha1.create());for(var a="",o=Math.ceil(c/t.digestLength),e=0;e<o;++e){var n=String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e);t.start(),t.update(f+n),a+=t.digest().getBytes()}return a.substring(0,c)}r.encode_rsa_oaep=function(f,c,t){var a,o,e,n;typeof t=="string"?(a=t,o=arguments[3]||void 0,e=arguments[4]||void 0):t&&(a=t.label||void 0,o=t.seed||void 0,e=t.md||void 0,t.mgf1&&t.mgf1.md&&(n=t.mgf1.md)),e?e.start():e=s.md.sha1.create(),n||(n=e);var h=Math.ceil(f.n.bitLength()/8),u=h-2*e.digestLength-2;if(c.length>u)throw(k=new Error("RSAES-OAEP input message length is too long.")).length=c.length,k.maxLength=u,k;a||(a=""),e.update(a,"raw");for(var d=e.digest(),l="",m=u-c.length,A=0;A<m;A++)l+="\0";var B=d.getBytes()+l+""+c;if(o){if(o.length!==e.digestLength){var k;throw(k=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,k.digestLength=e.digestLength,k}}else o=s.random.getBytes(e.digestLength);var T=i(o,h-e.digestLength-1,n),g=s.util.xorBytes(B,T,B.length),E=i(g,e.digestLength,n),R=s.util.xorBytes(o,E,o.length);return"\0"+R+g},r.decode_rsa_oaep=function(f,c,t){var a,o,e;typeof t=="string"?(a=t,o=arguments[3]||void 0):t&&(a=t.label||void 0,o=t.md||void 0,t.mgf1&&t.mgf1.md&&(e=t.mgf1.md));var n=Math.ceil(f.n.bitLength()/8);if(c.length!==n)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=c.length,g.expectedLength=n,g;if(o===void 0?o=s.md.sha1.create():o.start(),e||(e=o),n<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var h=o.digest().getBytes(),u=c.charAt(0),d=c.substring(1,o.digestLength+1),l=c.substring(1+o.digestLength),m=i(l,o.digestLength,e),A=s.util.xorBytes(d,m,d.length),B=i(A,n-o.digestLength-1,e),k=s.util.xorBytes(l,B,l.length),T=k.substring(0,o.digestLength),g=u!=="\0",E=0;E<o.digestLength;++E)g|=h.charAt(E)!==T.charAt(E);for(var R=1,S=o.digestLength,M=o.digestLength;M<k.length;M++){var y=k.charCodeAt(M),p=1&y^1,w=R?65534:0;g|=y&w,S+=R&=p}if(g||k.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return k.substring(S+1)}},function(N,x,b){var s=b(1);b(25),b(3);var r=N.exports=s.sha1=s.sha1||{};s.md.sha1=s.md.algorithms.sha1=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),f=!0);var t=null,a=s.util.createBuffer(),o=new Array(80),e={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){e.messageLength=0,e.fullMessageLength=e.messageLength64=[];for(var n=e.messageLengthSize/4,h=0;h<n;++h)e.fullMessageLength.push(0);return a=s.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},e}};return e.start(),e.update=function(n,h){h==="utf8"&&(n=s.util.encodeUtf8(n));var u=n.length;e.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=e.fullMessageLength.length-1;d>=0;--d)e.fullMessageLength[d]+=u[1],u[1]=u[0]+(e.fullMessageLength[d]/4294967296>>>0),e.fullMessageLength[d]=e.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return a.putBytes(n),c(t,o,a),(a.read>2048||a.length()===0)&&a.compact(),e},e.digest=function(){var n=s.util.createBuffer();n.putBytes(a.bytes());var h,u=e.fullMessageLength[e.fullMessageLength.length-1]+e.messageLengthSize&e.blockLength-1;n.putBytes(i.substr(0,e.blockLength-u));for(var d=8*e.fullMessageLength[0],l=0;l<e.fullMessageLength.length-1;++l)d+=(h=8*e.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(d>>>0),d=h>>>0;n.putInt32(d);var m={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};c(m,o,n);var A=s.util.createBuffer();return A.putInt32(m.h0),A.putInt32(m.h1),A.putInt32(m.h2),A.putInt32(m.h3),A.putInt32(m.h4),A},e};var i=null,f=!1;function c(t,a,o){for(var e,n,h,u,d,l,m,A=o.length();A>=64;){for(n=t.h0,h=t.h1,u=t.h2,d=t.h3,l=t.h4,m=0;m<16;++m)e=o.getInt32(),a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<20;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<32;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<40;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<60;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h&u|d&(h^u))+l+2400959708+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<80;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+3395469782+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;t.h0=t.h0+n|0,t.h1=t.h1+h|0,t.h2=t.h2+u|0,t.h3=t.h3+d|0,t.h4=t.h4+l|0,A-=64}}},function(N,x,b){var s=b(1);b(3),b(47),b(26),function(){if(s.prime)N.exports=s.prime;else{var r=N.exports=s.prime=s.prime||{},i=s.jsbn.BigInteger,f=[6,4,2,4,2,4,6,2],c=new i(null);c.fromInt(30);var t=function(e,n){return e|n};r.generateProbablePrime=function(e,n,h){typeof n=="function"&&(h=n,n={});var u=(n=n||{}).algorithm||"PRIMEINC";typeof u=="string"&&(u={name:u}),u.options=u.options||{};var d=n.prng||s.random,l={nextBytes:function(m){for(var A=d.getBytesSync(m.length),B=0;B<m.length;++B)m[B]=A.charCodeAt(B)}};if(u.name==="PRIMEINC")return function(m,A,B,k){return"workers"in B?function(T,g,E,R){if(typeof Worker=="undefined")return a(T,g,E,R);var S=o(T,g),M=E.workers,y=E.workLoad||100,p=30*y/8,w=E.workerScript||"forge/prime.worker.js";if(M===-1)return s.util.estimateCores(function(_,C){_&&(C=2),M=C-1,v()});function v(){M=Math.max(1,M);for(var _=[],C=0;C<M;++C)_[C]=new Worker(w);for(C=0;C<M;++C)_[C].addEventListener("message",O);var L=!1;function O(U){if(!L){var q=U.data;if(q.found){for(var H=0;H<_.length;++H)_[H].terminate();return L=!0,R(null,new i(q.prime,16))}S.bitLength()>T&&(S=o(T,g));var G=S.toString(16);U.target.postMessage({hex:G,workLoad:y}),S.dAddOffset(p,0)}}}v()}(m,A,B,k):a(m,A,B,k)}(e,l,u.options,h);throw new Error("Invalid prime generation algorithm: "+u.name)}}function a(e,n,h,u){var d=o(e,n),l=function(A){return A<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2}(d.bitLength());"millerRabinTests"in h&&(l=h.millerRabinTests);var m=10;"maxBlockTime"in h&&(m=h.maxBlockTime),function A(B,k,T,g,E,R,S){var M=+new Date;do{if(B.bitLength()>k&&(B=o(k,T)),B.isProbablePrime(E))return S(null,B);B.dAddOffset(f[g++%8],0)}while(R<0||+new Date-M<R);s.util.setImmediate(function(){A(B,k,T,g,E,R,S)})}(d,e,n,0,l,m,u)}function o(e,n){var h=new i(e,n),u=e-1;return h.testBit(u)||h.bitwiseTo(i.ONE.shiftLeft(u),t,h),h.dAddOffset(31-h.mod(c).byteValue(),0),h}}()},function(N,x,b){const s=b(32),r=b(120);N.exports={import:async function(i,f){const c=s.names.base64.decode(i),t=r.create();return await t.decrypt(c,f)}}},function(N,x,b){const s=b(49),r=b(17),i=b(0),f=b(20),c=b(5);b(70),b(121);const t=b(1),a=b(297),o=r(b(66)),e=b(73);class n{constructor(u){this._key=u}async verify(u,d){return a.hashAndVerify(this._key,d,u)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return o.PublicKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}encrypt(u){return a.encrypt(this._key,u)}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class h{constructor(u,d){this._key=u,this._publicKey=d}genSecret(){return a.getRandomValues(16)}async sign(u){return a.hashAndSign(this._key,u)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new n(this._publicKey)}decrypt(u){return a.decrypt(this._key,u)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return o.PrivateKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return c(u,"base58btc")}async export(u,d="pkcs-8"){if(d==="pkcs-8"){const l=new t.util.ByteBuffer(this.marshal()),m=t.asn1.fromDer(l),A=t.pki.privateKeyFromAsn1(m),B={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return t.pki.encryptRsaPrivateKey(A,u,B)}if(d==="libp2p-key")return e.export(this.bytes,u);throw i(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}N.exports={RsaPublicKey:n,RsaPrivateKey:h,unmarshalRsaPublicKey:function(u){const d=a.utils.pkixToJwk(u);return new n(d)},unmarshalRsaPrivateKey:async function(u){const d=a.utils.pkcs1ToJwk(u),l=await a.unmarshalPrivateKey(d);return new h(l.privateKey,l.publicKey)},generateKeyPair:async function(u){const d=await a.generateKey(u);return new h(d.privateKey,d.publicKey)},fromJwk:async function(u){const d=await a.unmarshalPrivateKey(u);return new h(d.privateKey,d.publicKey)}}},function(N,x,b){var s=b(1);b(23);var r=s.asn1;x.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(N,x,b){const s=b(48),r=b(71),i=b(5),f=b(6);function c(e){return Promise.all([s.get().subtle.exportKey("jwk",e.privateKey),s.get().subtle.exportKey("jwk",e.publicKey)])}x.utils=b(299),x.generateKey=async function(e){const n=await s.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),h=await c(n);return{privateKey:h[0],publicKey:h[1]}},x.unmarshalPrivateKey=async function(e){const n=[await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await(h=e,s.get().subtle.importKey("jwk",{kty:h.kty,n:h.n,e:h.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))];var h;const u=await c({privateKey:n[0],publicKey:n[1]});return{privateKey:u[0],publicKey:u[1]}},x.getRandomValues=r,x.hashAndSign=async function(e,n){const h=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),u=await s.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},h,Uint8Array.from(n));return new Uint8Array(u,u.byteOffset,u.byteLength)},x.hashAndVerify=async function(e,n,h){const u=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return s.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},u,n,h)};const{jwk2pub:t,jwk2priv:a}=b(300);function o(e,n,h,u){const d=n?t(e):a(e),l=u(i(Uint8Array.from(h),"ascii"),d);return f(l,"ascii")}x.encrypt=function(e,n){return o(e,!0,n,(h,u)=>u.encrypt(h))},x.decrypt=function(e,n){return o(e,!1,n,(h,u)=>u.decrypt(h))}},function(N,x,b){const s=self.crypto||self.msCrypto,{Buffer:r}=b(4);s&&s.getRandomValues?N.exports=function(i){const f=new Uint8Array(i);let c=0;if(i>0)if(i>65536)for(;c<i;)c+65536>i?(s.getRandomValues(f.subarray(c,c+(i-c))),c+=i-c):(s.getRandomValues(f.subarray(c,c+65536)),c+=65536);else s.getRandomValues(f);return r.from(f)}:N.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},function(N,x,b){b(23),b(46);const s=b(1),{bigIntegerToUintBase64url:r,base64urlToBigInteger:i}=b(72),f=b(6),c=b(5);x.pkcs1ToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.privateKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),d:r(o.d),p:r(o.p),q:r(o.q),dp:r(o.dP),dq:r(o.dQ),qi:r(o.qInv),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkcs1=function(t){const a=s.pki.privateKeyToAsn1({n:i(t.n),e:i(t.e),d:i(t.d),p:i(t.p),q:i(t.q),dP:i(t.dp),dQ:i(t.dq),qInv:i(t.qi)});return f(s.asn1.toDer(a).getBytes(),"ascii")},x.pkixToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.publicKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkix=function(t){const a=s.pki.publicKeyToAsn1({n:i(t.n),e:i(t.e)});return f(s.asn1.toDer(a).getBytes(),"ascii")}},function(N,x,b){b(46);const s=b(1),{base64urlToBigInteger:r}=b(72);function i(f,c){return c.map(t=>r(f[t]))}N.exports={jwk2pub:function(f){return s.pki.setRsaPublicKey(...i(f,["n","e"]))},jwk2priv:function(f){return s.pki.setRsaPrivateKey(...i(f,["n","e","d","p","q","dp","dq","qi"]))}}},function(N,x,b){const s=b(49),r=b(17),i=b(32),f=b(0),c=b(20),t=b(302),a=r(b(66)),o=b(73);class e{constructor(u){this._key=h(u,t.publicKeyLength)}async verify(u,d){return t.hashAndVerify(this._key,d,u)}marshal(){return this._key}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(u,d){this._key=h(u,t.privateKeyLength),this._publicKey=h(d,t.publicKeyLength)}async sign(u){return t.hashAndSign(this._key,u)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return i.encode("base58btc",u).toString().slice(1)}async export(u,d="libp2p-key"){if(d==="libp2p-key")return o.export(this.bytes,u);throw f(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function h(u,d){if((u=Uint8Array.from(u||[])).length!==d)throw f(new Error(`Key must be a Uint8Array of length ${d}, got ${u.length}`),"ERR_INVALID_KEY_TYPE");return u}N.exports={Ed25519PublicKey:e,Ed25519PrivateKey:n,unmarshalEd25519PrivateKey:function(u){if(u.length>t.privateKeyLength){const m=(u=h(u,t.privateKeyLength+t.publicKeyLength)).slice(0,t.privateKeyLength),A=u.slice(t.privateKeyLength,u.length);return new n(m,A)}const d=(u=h(u,t.privateKeyLength)).slice(0,t.privateKeyLength),l=u.slice(t.publicKeyLength);return new n(d,l)},unmarshalEd25519PublicKey:function(u){return u=h(u,t.publicKeyLength),new e(u)},generateKeyPair:async function(){const{privateKey:u,publicKey:d}=await t.generateKey();return new n(u,d)},generateKeyPairFromSeed:async function(u){const{privateKey:d,publicKey:l}=await t.generateKeyFromSeed(u);return new n(d,l)}}},function(N,x,b){b(121);const s=b(1);x.publicKeyLength=s.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,x.privateKeyLength=s.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,x.generateKey=async function(){return s.pki.ed25519.generateKeyPair()},x.generateKeyFromSeed=async function(r){return s.pki.ed25519.generateKeyPair({seed:r})},x.hashAndSign=async function(r,i){return s.pki.ed25519.sign({message:i,privateKey:r})},x.hashAndVerify=async function(r,i,f){return s.pki.ed25519.verify({signature:i,message:f,publicKey:r})}},function(N,x,b){const s=b(49),r=b(0),i=b(20),f=b(5),c=b(73);N.exports=(t,a,o)=>{o=o||b(304)(a);class e{constructor(h){o.validatePublicKey(h),this._key=h}verify(h,u){return o.hashAndVerify(this._key,u,h)}marshal(){return o.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(h,u){this._key=h,this._publicKey=u||o.computePublicKey(h),o.validatePrivateKey(this._key),o.validatePublicKey(this._publicKey)}sign(h){return o.hashAndSign(this._key,h)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const h=await this.public.hash();return f(h,"base58btc")}async export(h,u="libp2p-key"){if(u==="libp2p-key")return c.export(this.bytes,h);throw r(new Error(`export format '${u}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:e,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:function(h){return new n(h)},unmarshalSecp256k1PublicKey:function(h){return new e(h)},generateKeyPair:async function(){const h=await o.generateKey();return new n(h)}}}},function(N,x,b){const s=b(305),r=b(49);N.exports=i=>{function f(c){if(!s.privateKeyVerify(c))throw new Error("Invalid private key")}return{generateKey:function(){let c;do c=i(32);while(!s.privateKeyVerify(c));return c},privateKeyLength:32,hashAndSign:async function(c,t){const a=await r.digest(t,"sha2-256"),o=s.ecdsaSign(a,c);return s.signatureExport(o.signature)},hashAndVerify:async function(c,t,a){const o=await r.digest(a,"sha2-256");return t=s.signatureImport(t),s.ecdsaVerify(t,o,c)},compressPublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key");return s.publicKeyConvert(c,!0)},decompressPublicKey:function(c){return s.publicKeyConvert(c,!1)},validatePrivateKey:f,validatePublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key")},computePublicKey:function(c){return f(c),s.publicKeyCreate(c)}}}},function(N,x,b){N.exports=b(306)(b(307))},function(N,x,b){const s="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",i="The tweak was out of range or equal to zero",f="Unknow error on context randomization",c="Private Key is invalid",t="Public Key could not be parsed",a="Public Key serialization error",o="The sum of the public keys is not valid",e="Signature could not be parsed",n="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",u="Scalar was invalid (zero or overflow)";function d(k,T){if(!k)throw new Error(T)}function l(k,T,g){if(d(T instanceof Uint8Array,`Expected ${k} to be an Uint8Array`),g!==void 0)if(Array.isArray(g)){const E=`Expected ${k} to be an Uint8Array with length [${g.join(", ")}]`;d(g.includes(T.length),E)}else{const E=`Expected ${k} to be an Uint8Array with length ${g}`;d(T.length===g,E)}}function m(k){d(B(k)==="Boolean","Expected compressed to be a Boolean")}function A(k=g=>new Uint8Array(g),T){return typeof k=="function"&&(k=k(T)),l("output",k,T),k}function B(k){return Object.prototype.toString.call(k).slice(8,-1)}N.exports=k=>({contextRandomize(T){switch(d(T===null||T instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),T!==null&&l("seed",T,32),k.contextRandomize(T)){case 1:throw new Error(f)}},privateKeyVerify:T=>(l("private key",T,32),k.privateKeyVerify(T)===0),privateKeyNegate(T){switch(l("private key",T,32),k.privateKeyNegate(T)){case 0:return T;case 1:throw new Error(s)}},privateKeyTweakAdd(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakAdd(T,g)){case 0:return T;case 1:throw new Error(r)}},privateKeyTweakMul(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakMul(T,g)){case 0:return T;case 1:throw new Error(i)}},publicKeyVerify:T=>(l("public key",T,[33,65]),k.publicKeyVerify(T)===0),publicKeyCreate(T,g=!0,E){switch(l("private key",T,32),m(g),E=A(E,g?33:65),k.publicKeyCreate(E,T)){case 0:return E;case 1:throw new Error(c);case 2:throw new Error(a)}},publicKeyConvert(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyConvert(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(a)}},publicKeyNegate(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyNegate(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(s);case 3:throw new Error(a)}},publicKeyCombine(T,g=!0,E){d(Array.isArray(T),"Expected public keys to be an Array"),d(T.length>0,"Expected public keys array will have more than zero items");for(const R of T)l("public key",R,[33,65]);switch(m(g),E=A(E,g?33:65),k.publicKeyCombine(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(o);case 3:throw new Error(a)}},publicKeyTweakAdd(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakAdd(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(r)}},publicKeyTweakMul(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakMul(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(i)}},signatureNormalize(T){switch(l("signature",T,64),k.signatureNormalize(T)){case 0:return T;case 1:throw new Error(e)}},signatureExport(T,g){l("signature",T,64);const E={output:g=A(g,72),outputlen:72};switch(k.signatureExport(E,T)){case 0:return g.slice(0,E.outputlen);case 1:throw new Error(e);case 2:throw new Error(s)}},signatureImport(T,g){switch(l("signature",T),g=A(g,64),k.signatureImport(g,T)){case 0:return g;case 1:throw new Error(e);case 2:throw new Error(s)}},ecdsaSign(T,g,E={},R){l("message",T,32),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.noncefn!==void 0&&d(B(E.noncefn)==="Function","Expected options.noncefn to be a Function");const S={signature:R=A(R,64),recid:null};switch(k.ecdsaSign(S,T,g,E.data,E.noncefn)){case 0:return S;case 1:throw new Error(n);case 2:throw new Error(s)}},ecdsaVerify(T,g,E){switch(l("signature",T,64),l("message",g,32),l("public key",E,[33,65]),k.ecdsaVerify(T,g,E)){case 0:return!0;case 3:return!1;case 1:throw new Error(e);case 2:throw new Error(t)}},ecdsaRecover(T,g,E,R=!0,S){switch(l("signature",T,64),d(B(g)==="Number"&&g>=0&&g<=3,"Expected recovery id to be a Number within interval [0, 3]"),l("message",E,32),m(R),S=A(S,R?33:65),k.ecdsaRecover(S,T,g,E)){case 0:return S;case 1:throw new Error(e);case 2:throw new Error(h);case 3:throw new Error(s)}},ecdh(T,g,E={},R){switch(l("public key",T,[33,65]),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.hashfn!==void 0?(d(B(E.hashfn)==="Function","Expected options.hashfn to be a Function"),E.xbuf!==void 0&&l("options.xbuf",E.xbuf,32),E.ybuf!==void 0&&l("options.ybuf",E.ybuf,32),l("output",R)):R=A(R,32),k.ecdh(R,T,g,E.data,E.hashfn,E.xbuf,E.ybuf)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(u)}}})},function(N,x,b){const s=new(b(308)).ec("secp256k1"),r=s.curve,i=r.n.constructor;function f(t){const a=t[0];switch(a){case 2:case 3:return t.length!==33?null:function(o,e){let n=new i(e);if(n.cmp(r.p)>=0)return null;n=n.toRed(r.red);let h=n.redSqr().redIMul(n).redIAdd(r.b).redSqrt();return o===3!==h.isOdd()&&(h=h.redNeg()),s.keyPair({pub:{x:n,y:h}})}(a,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:function(o,e,n){let h=new i(e),u=new i(n);if(h.cmp(r.p)>=0||u.cmp(r.p)>=0)return null;if(h=h.toRed(r.red),u=u.toRed(r.red),(o===6||o===7)&&u.isOdd()!==(o===7))return null;const d=h.redSqr().redIMul(h);return u.redSqr().redISub(d.redIAdd(r.b)).isZero()?s.keyPair({pub:{x:h,y:u}}):null}(a,t.subarray(1,33),t.subarray(33,65));default:return null}}function c(t,a){const o=a.encode(null,t.length===33);for(let e=0;e<t.length;++e)t[e]=o[e]}N.exports={contextRandomize:()=>0,privateKeyVerify(t){const a=new i(t);return a.cmp(r.n)<0&&!a.isZero()?0:1},privateKeyNegate(t){const a=new i(t),o=r.n.sub(a).umod(r.n).toArrayLike(Uint8Array,"be",32);return t.set(o),0},privateKeyTweakAdd(t,a){const o=new i(a);if(o.cmp(r.n)>=0)return 1;if(o.iadd(new i(t)),o.cmp(r.n)>=0&&o.isub(r.n),o.isZero())return 1;const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakMul(t,a){let o=new i(a);if(o.cmp(r.n)>=0||o.isZero())return 1;o.imul(new i(t)),o.cmp(r.n)>=0&&(o=o.umod(r.n));const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},publicKeyVerify:t=>f(t)===null?1:0,publicKeyCreate(t,a){const o=new i(a);return o.cmp(r.n)>=0||o.isZero()?1:(c(t,s.keyFromPrivate(a).getPublic()),0)},publicKeyConvert(t,a){const o=f(a);return o===null?1:(c(t,o.getPublic()),0)},publicKeyNegate(t,a){const o=f(a);if(o===null)return 1;const e=o.getPublic();return e.y=e.y.redNeg(),c(t,e),0},publicKeyCombine(t,a){const o=new Array(a.length);for(let n=0;n<a.length;++n)if(o[n]=f(a[n]),o[n]===null)return 1;let e=o[0].getPublic();for(let n=1;n<o.length;++n)e=e.add(o[n].pub);return e.isInfinity()?2:(c(t,e),0)},publicKeyTweakAdd(t,a,o){const e=f(a);if(e===null)return 1;if((o=new i(o)).cmp(r.n)>=0)return 2;const n=e.getPublic().add(r.g.mul(o));return n.isInfinity()?2:(c(t,n),0)},publicKeyTweakMul(t,a,o){const e=f(a);return e===null?1:(o=new i(o)).cmp(r.n)>=0||o.isZero()?2:(c(t,e.getPublic().mul(o)),0)},signatureNormalize(t){const a=new i(t.subarray(0,32)),o=new i(t.subarray(32,64));return a.cmp(r.n)>=0||o.cmp(r.n)>=0?1:(o.cmp(s.nh)===1&&t.set(r.n.sub(o).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,a){const o=a.subarray(0,32),e=a.subarray(32,64);if(new i(o).cmp(r.n)>=0)return 1;if(new i(e).cmp(r.n)>=0)return 1;const{output:n}=t;let h=n.subarray(4,37);h[0]=0,h.set(o,1);let u=33,d=0;for(;u>1&&h[d]===0&&!(128&h[d+1]);--u,++d);if(h=h.subarray(d),128&h[0])return 1;if(u>1&&h[0]===0&&!(128&h[1]))return 1;let l=n.subarray(39,72);l[0]=0,l.set(e,1);let m=33,A=0;for(;m>1&&l[A]===0&&!(128&l[A+1]);--m,++A);return l=l.subarray(A),128&l[0]||m>1&&l[0]===0&&!(128&l[1])?1:(t.outputlen=6+u+m,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=h.length,n.set(h,4),n[4+u]=2,n[5+u]=l.length,n.set(l,6+u),0)},signatureImport(t,a){if(a.length<8)return 1;if(a.length>72)return 1;if(a[0]!==48)return 1;if(a[1]!==a.length-2)return 1;if(a[2]!==2)return 1;const o=a[3];if(o===0)return 1;if(5+o>=a.length)return 1;if(a[4+o]!==2)return 1;const e=a[5+o];if(e===0)return 1;if(6+o+e!==a.length)return 1;if(128&a[4])return 1;if(o>1&&a[4]===0&&!(128&a[5]))return 1;if(128&a[o+6])return 1;if(e>1&&a[o+6]===0&&!(128&a[o+7]))return 1;let n=a.subarray(4,4+o);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let h=a.subarray(6+o);if(h.length===33&&h[0]===0&&(h=h.slice(1)),h.length>32)throw new Error("S length is too long");let u=new i(n);u.cmp(r.n)>=0&&(u=new i(0));let d=new i(a.subarray(6+o));return d.cmp(r.n)>=0&&(d=new i(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(d.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,a,o,e,n){if(n){const d=n;n=l=>{const m=d(a,o,null,e,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new i(m)}}const h=new i(o);if(h.cmp(r.n)>=0||h.isZero())return 1;let u;try{u=s.sign(a,o,{canonical:!0,k:n,pers:e})}catch(d){return 1}return t.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),t.recid=u.recoveryParam,0},ecdsaVerify(t,a,o){const e={r:t.subarray(0,32),s:t.subarray(32,64)},n=new i(e.r),h=new i(e.s);if(n.cmp(r.n)>=0||h.cmp(r.n)>=0)return 1;if(h.cmp(s.nh)===1||n.isZero()||h.isZero())return 3;const u=f(o);if(u===null)return 2;const d=u.getPublic();return s.verify(a,e,d)?0:3},ecdsaRecover(t,a,o,e){const n={r:a.slice(0,32),s:a.slice(32,64)},h=new i(n.r),u=new i(n.s);if(h.cmp(r.n)>=0||u.cmp(r.n)>=0)return 1;if(h.isZero()||u.isZero())return 2;let d;try{d=s.recoverPubKey(e,n,o)}catch(l){return 2}return c(t,d),0},ecdh(t,a,o,e,n,h,u){const d=f(a);if(d===null)return 1;const l=new i(o);if(l.cmp(r.n)>=0||l.isZero())return 2;const m=d.getPublic().mul(l);if(n===void 0){const A=m.encode(null,!0),B=s.hash().update(A).digest();for(let k=0;k<32;++k)t[k]=B[k]}else{h||(h=new Uint8Array(32));const A=m.getX().toArray("be",32);for(let T=0;T<32;++T)h[T]=A[T];u||(u=new Uint8Array(32));const B=m.getY().toArray("be",32);for(let T=0;T<32;++T)u[T]=B[T];const k=n(h,u,e);if(!(k instanceof Uint8Array&&k.length===t.length))return 2;t.set(k)}return 0}}},function(N,x,b){var s=x;s.version=b(309).version,s.utils=b(15),s.rand=b(123),s.curve=b(124),s.curves=b(74),s.ec=b(323),s.eddsa=b(327)},function(N){N.exports=JSON.parse('{"name":"elliptic","version":"6.5.3","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(N,x,b){N.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(N,x){},function(N,x){},function(N,x,b){var s=b(15),r=b(21),i=b(12),f=b(50),c=s.assert;function t(e){f.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function a(e,n,h,u){f.BasePoint.call(this,e,"affine"),n===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(n,16),this.y=new r(h,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,n,h,u){f.BasePoint.call(this,e,"jacobian"),n===null&&h===null&&u===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(n,16),this.y=new r(h,16),this.z=new r(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(t,f),N.exports=t,t.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var n,h;if(e.beta)n=new r(e.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);n=(n=u[0].cmp(u[1])<0?u[0]:u[1]).toRed(this.red)}if(e.lambda)h=new r(e.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(n))===0?h=d[0]:(h=d[1],c(this.g.mul(h).x.cmp(this.g.x.redMul(n))===0))}return{beta:n,lambda:h,basis:e.basis?e.basis.map(function(l){return{a:new r(l.a,16),b:new r(l.b,16)}}):this._getEndoBasis(h)}}},t.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:r.mont(e),h=new r(2).toRed(n).redInvm(),u=h.redNeg(),d=new r(3).toRed(n).redNeg().redSqrt().redMul(h);return[u.redAdd(d).fromRed(),u.redSub(d).fromRed()]},t.prototype._getEndoBasis=function(e){for(var n,h,u,d,l,m,A,B,k,T=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=e,E=this.n.clone(),R=new r(1),S=new r(0),M=new r(0),y=new r(1),p=0;g.cmpn(0)!==0;){var w=E.div(g);B=E.sub(w.mul(g)),k=M.sub(w.mul(R));var v=y.sub(w.mul(S));if(!u&&B.cmp(T)<0)n=A.neg(),h=R,u=B.neg(),d=k;else if(u&&++p==2)break;A=B,E=g,g=B,M=R,R=k,y=S,S=v}l=B.neg(),m=k;var _=u.sqr().add(d.sqr());return l.sqr().add(m.sqr()).cmp(_)>=0&&(l=n,m=h),u.negative&&(u=u.neg(),d=d.neg()),l.negative&&(l=l.neg(),m=m.neg()),[{a:u,b:d},{a:l,b:m}]},t.prototype._endoSplit=function(e){var n=this.endo.basis,h=n[0],u=n[1],d=u.b.mul(e).divRound(this.n),l=h.b.neg().mul(e).divRound(this.n),m=d.mul(h.a),A=l.mul(u.a),B=d.mul(h.b),k=l.mul(u.b);return{k1:e.sub(m).sub(A),k2:B.add(k).neg()}},t.prototype.pointFromX=function(e,n){(e=new r(e,16)).red||(e=e.toRed(this.red));var h=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),u=h.redSqrt();if(u.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var d=u.fromRed().isOdd();return(n&&!d||!n&&d)&&(u=u.redNeg()),this.point(e,u)},t.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,h=e.y,u=this.a.redMul(n),d=n.redSqr().redMul(n).redIAdd(u).redIAdd(this.b);return h.redSqr().redISub(d).cmpn(0)===0},t.prototype._endoWnafMulAdd=function(e,n,h){for(var u=this._endoWnafT1,d=this._endoWnafT2,l=0;l<e.length;l++){var m=this._endoSplit(n[l]),A=e[l],B=A._getBeta();m.k1.negative&&(m.k1.ineg(),A=A.neg(!0)),m.k2.negative&&(m.k2.ineg(),B=B.neg(!0)),u[2*l]=A,u[2*l+1]=B,d[2*l]=m.k1,d[2*l+1]=m.k2}for(var k=this._wnafMulAdd(1,u,d,2*l,h),T=0;T<2*l;T++)u[T]=null,d[T]=null;return k},i(a,f.BasePoint),t.prototype.point=function(e,n,h){return new a(this,e,n,h)},t.prototype.pointFromJSON=function(e,n){return a.fromJSON(this,e,n)},a.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var h=this.curve,u=function(d){return h.point(d.x.redMul(h.endo.beta),d.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(u)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(u)}}}return n}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(e,n,h){typeof n=="string"&&(n=JSON.parse(n));var u=e.point(n[0],n[1],h);if(!n[2])return u;function d(m){return e.point(m[0],m[1],h)}var l=n[2];return u.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[u].concat(l.doubles.points.map(d))},naf:l.naf&&{wnd:l.naf.wnd,points:[u].concat(l.naf.points.map(d))}},u},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var h=n.redSqr().redISub(this.x).redISub(e.x),u=n.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,u)},a.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,h=this.x.redSqr(),u=e.redInvm(),d=h.redAdd(h).redIAdd(h).redIAdd(n).redMul(u),l=d.redSqr().redISub(this.x.redAdd(this.x)),m=d.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,m)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},a.prototype.mulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d):this.curve._wnafMulAdd(1,u,d,2)},a.prototype.jmulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d,!0):this.curve._wnafMulAdd(1,u,d,2,!0)},a.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},a.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var h=this.precomputed,u=function(d){return d.neg()};n.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(u)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(u)}}}return n},a.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(o,f.BasePoint),t.prototype.jpoint=function(e,n,h){return new o(this,e,n,h)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),h=this.x.redMul(n),u=this.y.redMul(n).redMul(e);return this.curve.point(h,u)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),h=this.z.redSqr(),u=this.x.redMul(n),d=e.x.redMul(h),l=this.y.redMul(n.redMul(e.z)),m=e.y.redMul(h.redMul(this.z)),A=u.redSub(d),B=l.redSub(m);if(A.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=A.redSqr(),T=k.redMul(A),g=u.redMul(k),E=B.redSqr().redIAdd(T).redISub(g).redISub(g),R=B.redMul(g.redISub(E)).redISub(l.redMul(T)),S=this.z.redMul(e.z).redMul(A);return this.curve.jpoint(E,R,S)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),h=this.x,u=e.x.redMul(n),d=this.y,l=e.y.redMul(n).redMul(this.z),m=h.redSub(u),A=d.redSub(l);if(m.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=m.redSqr(),k=B.redMul(m),T=h.redMul(B),g=A.redSqr().redIAdd(k).redISub(T).redISub(T),E=A.redMul(T.redISub(g)).redISub(d.redMul(k)),R=this.z.redMul(m);return this.curve.jpoint(g,E,R)},o.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var n=this,h=0;h<e;h++)n=n.dbl();return n}var u=this.curve.a,d=this.curve.tinv,l=this.x,m=this.y,A=this.z,B=A.redSqr().redSqr(),k=m.redAdd(m);for(h=0;h<e;h++){var T=l.redSqr(),g=k.redSqr(),E=g.redSqr(),R=T.redAdd(T).redIAdd(T).redIAdd(u.redMul(B)),S=l.redMul(g),M=R.redSqr().redISub(S.redAdd(S)),y=S.redISub(M),p=R.redMul(y);p=p.redIAdd(p).redISub(E);var w=k.redMul(A);h+1<e&&(B=B.redMul(E)),l=M,A=w,k=p}return this.curve.jpoint(l,k.redMul(d),A)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u),B=A.redSqr().redISub(m).redISub(m),k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),e=B,n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.x.redSqr(),g=this.y.redSqr(),E=g.redSqr(),R=this.x.redAdd(g).redSqr().redISub(T).redISub(E);R=R.redIAdd(R);var S=T.redAdd(T).redIAdd(T),M=S.redSqr(),y=E.redIAdd(E);y=(y=y.redIAdd(y)).redIAdd(y),e=M.redISub(R).redISub(R),n=S.redMul(R.redISub(e)).redISub(y),h=(h=this.y.redMul(this.z)).redIAdd(h)}return this.curve.jpoint(e,n,h)},o.prototype._threeDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),B=A.redSqr().redISub(m).redISub(m);e=B;var k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.z.redSqr(),g=this.y.redSqr(),E=this.x.redMul(g),R=this.x.redSub(T).redMul(this.x.redAdd(T));R=R.redAdd(R).redIAdd(R);var S=E.redIAdd(E),M=(S=S.redIAdd(S)).redAdd(S);e=R.redSqr().redISub(M),h=this.y.redAdd(this.z).redSqr().redISub(g).redISub(T);var y=g.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),n=R.redMul(S.redISub(e)).redISub(y)}return this.curve.jpoint(e,n,h)},o.prototype._dbl=function(){var e=this.curve.a,n=this.x,h=this.y,u=this.z,d=u.redSqr().redSqr(),l=n.redSqr(),m=h.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(d)),B=n.redAdd(n),k=(B=B.redIAdd(B)).redMul(m),T=A.redSqr().redISub(k.redAdd(k)),g=k.redISub(T),E=m.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=A.redMul(g).redISub(E),S=h.redAdd(h).redMul(u);return this.curve.jpoint(T,R,S)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),h=this.z.redSqr(),u=n.redSqr(),d=e.redAdd(e).redIAdd(e),l=d.redSqr(),m=this.x.redAdd(n).redSqr().redISub(e).redISub(u),A=(m=(m=(m=m.redIAdd(m)).redAdd(m).redIAdd(m)).redISub(l)).redSqr(),B=u.redIAdd(u);B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var k=d.redIAdd(m).redSqr().redISub(l).redISub(A).redISub(B),T=n.redMul(k);T=(T=T.redIAdd(T)).redIAdd(T);var g=this.x.redMul(A).redISub(T);g=(g=g.redIAdd(g)).redIAdd(g);var E=this.y.redMul(k.redMul(B.redISub(k)).redISub(m.redMul(A)));E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=this.z.redAdd(m).redSqr().redISub(h).redISub(A);return this.curve.jpoint(g,E,R)},o.prototype.mul=function(e,n){return e=new r(e,n),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),h=e.z.redSqr();if(this.x.redMul(h).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var u=n.redMul(this.z),d=h.redMul(e.z);return this.y.redMul(d).redISub(e.y.redMul(u)).cmpn(0)===0},o.prototype.eqXToP=function(e){var n=this.z.redSqr(),h=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(h)===0)return!0;for(var u=e.clone(),d=this.curve.redN.redMul(n);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(d),this.x.cmp(h)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},function(N,x,b){var s=b(21),r=b(12),i=b(50),f=b(15);function c(a){i.call(this,"mont",a),this.a=new s(a.a,16).toRed(this.red),this.b=new s(a.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function t(a,o,e){i.BasePoint.call(this,a,"projective"),o===null&&e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(o,16),this.z=new s(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(c,i),N.exports=c,c.prototype.validate=function(a){var o=a.normalize().x,e=o.redSqr(),n=e.redMul(o).redAdd(e.redMul(this.a)).redAdd(o);return n.redSqrt().redSqr().cmp(n)===0},r(t,i.BasePoint),c.prototype.decodePoint=function(a,o){return this.point(f.toArray(a,o),1)},c.prototype.point=function(a,o){return new t(this,a,o)},c.prototype.pointFromJSON=function(a){return t.fromJSON(this,a)},t.prototype.precompute=function(){},t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},t.fromJSON=function(a,o){return new t(a,o[0],o[1]||a.one)},t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},t.prototype.dbl=function(){var a=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),e=a.redSub(o),n=a.redMul(o),h=e.redMul(o.redAdd(this.curve.a24.redMul(e)));return this.curve.point(n,h)},t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.diffAdd=function(a,o){var e=this.x.redAdd(this.z),n=this.x.redSub(this.z),h=a.x.redAdd(a.z),u=a.x.redSub(a.z).redMul(e),d=h.redMul(n),l=o.z.redMul(u.redAdd(d).redSqr()),m=o.x.redMul(u.redISub(d).redSqr());return this.curve.point(l,m)},t.prototype.mul=function(a){for(var o=a.clone(),e=this,n=this.curve.point(null,null),h=[];o.cmpn(0)!==0;o.iushrn(1))h.push(o.andln(1));for(var u=h.length-1;u>=0;u--)h[u]===0?(e=e.diffAdd(n,this),n=n.dbl()):(n=e.diffAdd(n,this),e=e.dbl());return n},t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},t.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(N,x,b){var s=b(15),r=b(21),i=b(12),f=b(50),c=s.assert;function t(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,f.call(this,"edwards",o),this.a=new r(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function a(o,e,n,h,u){f.BasePoint.call(this,o,"projective"),e===null&&n===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(n,16),this.z=h?new r(h,16):this.curve.one,this.t=u&&new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(t,f),N.exports=t,t.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},t.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},t.prototype.jpoint=function(o,e,n,h){return this.point(o,e,n,h)},t.prototype.pointFromX=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=this.c2.redSub(this.a.redMul(n)),u=this.one.redSub(this.c2.redMul(this.d).redMul(n)),d=h.redMul(u.redInvm()),l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var m=l.fromRed().isOdd();return(e&&!m||!e&&m)&&(l=l.redNeg()),this.point(o,l)},t.prototype.pointFromY=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=n.redSub(this.c2),u=n.redMul(this.d).redMul(this.c2).redSub(this.a),d=h.redMul(u.redInvm());if(d.cmp(this.zero)===0){if(e)throw new Error("invalid point");return this.point(this.zero,o)}var l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return l.fromRed().isOdd()!==e&&(l=l.redNeg()),this.point(l,o)},t.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var e=o.x.redSqr(),n=o.y.redSqr(),h=e.redMul(this.a).redAdd(n),u=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return h.cmp(u)===0},i(a,f.BasePoint),t.prototype.pointFromJSON=function(o){return a.fromJSON(this,o)},t.prototype.point=function(o,e,n,h){return new a(this,o,e,n,h)},a.fromJSON=function(o,e){return new a(o,e[0],e[1],e[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var o=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var h=this.curve._mulA(o),u=this.x.redAdd(this.y).redSqr().redISub(o).redISub(e),d=h.redAdd(e),l=d.redSub(n),m=h.redSub(e),A=u.redMul(l),B=d.redMul(m),k=u.redMul(m),T=l.redMul(d);return this.curve.point(A,B,T,k)},a.prototype._projDbl=function(){var o,e,n,h=this.x.redAdd(this.y).redSqr(),u=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var l=(B=this.curve._mulA(u)).redAdd(d);if(this.zOne)o=h.redSub(u).redSub(d).redMul(l.redSub(this.curve.two)),e=l.redMul(B.redSub(d)),n=l.redSqr().redSub(l).redSub(l);else{var m=this.z.redSqr(),A=l.redSub(m).redISub(m);o=h.redSub(u).redISub(d).redMul(A),e=l.redMul(B.redSub(d)),n=l.redMul(A)}}else{var B=u.redAdd(d);m=this.curve._mulC(this.z).redSqr(),A=B.redSub(m).redSub(m),o=this.curve._mulC(h.redISub(B)).redMul(A),e=this.curve._mulC(B).redMul(u.redISub(d)),n=B.redMul(A)}return this.curve.point(o,e,n)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(o){var e=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),n=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),h=this.t.redMul(this.curve.dd).redMul(o.t),u=this.z.redMul(o.z.redAdd(o.z)),d=n.redSub(e),l=u.redSub(h),m=u.redAdd(h),A=n.redAdd(e),B=d.redMul(l),k=m.redMul(A),T=d.redMul(A),g=l.redMul(m);return this.curve.point(B,k,g,T)},a.prototype._projAdd=function(o){var e,n,h=this.z.redMul(o.z),u=h.redSqr(),d=this.x.redMul(o.x),l=this.y.redMul(o.y),m=this.curve.d.redMul(d).redMul(l),A=u.redSub(m),B=u.redAdd(m),k=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(d).redISub(l),T=h.redMul(A).redMul(k);return this.curve.twisted?(e=h.redMul(B).redMul(l.redSub(this.curve._mulA(d))),n=A.redMul(B)):(e=h.redMul(B).redMul(l.redSub(d)),n=this.curve._mulC(A).redMul(B)),this.curve.point(T,e,n)},a.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},a.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},a.prototype.mulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!1)},a.prototype.jmulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},a.prototype.eqXToP=function(o){var e=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var n=o.clone(),h=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(h),this.x.cmp(e)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add},function(N,x,b){x.sha1=b(317),x.sha224=b(318),x.sha256=b(126),x.sha384=b(319),x.sha512=b(127)},function(N,x,b){var s=b(18),r=b(39),i=b(125),f=s.rotl32,c=s.sum32,t=s.sum32_5,a=i.ft_1,o=r.BlockHash,e=[1518500249,1859775393,2400959708,3395469782];function n(){if(!(this instanceof n))return new n;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(n,o),N.exports=n,n.blockSize=512,n.outSize=160,n.hmacStrength=80,n.padLength=64,n.prototype._update=function(h,u){for(var d=this.W,l=0;l<16;l++)d[l]=h[u+l];for(;l<d.length;l++)d[l]=f(d[l-3]^d[l-8]^d[l-14]^d[l-16],1);var m=this.h[0],A=this.h[1],B=this.h[2],k=this.h[3],T=this.h[4];for(l=0;l<d.length;l++){var g=~~(l/20),E=t(f(m,5),a(g,A,B,k),T,d[l],e[g]);T=k,k=B,B=f(A,30),A=m,m=E}this.h[0]=c(this.h[0],m),this.h[1]=c(this.h[1],A),this.h[2]=c(this.h[2],B),this.h[3]=c(this.h[3],k),this.h[4]=c(this.h[4],T)},n.prototype._digest=function(h){return h==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(18),r=b(126);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},function(N,x,b){var s=b(18),r=b(127);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},function(N,x,b){var s=b(18),r=b(39),i=s.rotl32,f=s.sum32,c=s.sum32_3,t=s.sum32_4,a=r.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function e(A,B,k,T){return A<=15?B^k^T:A<=31?B&k|~B&T:A<=47?(B|~k)^T:A<=63?B&T|k&~T:B^(k|~T)}function n(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}function h(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}s.inherits(o,a),x.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(A,B){for(var k=this.h[0],T=this.h[1],g=this.h[2],E=this.h[3],R=this.h[4],S=k,M=T,y=g,p=E,w=R,v=0;v<80;v++){var _=f(i(t(k,e(v,T,g,E),A[u[v]+B],n(v)),l[v]),R);k=R,R=E,E=i(g,10),g=T,T=_,_=f(i(t(S,e(79-v,M,y,p),A[d[v]+B],h(v)),m[v]),w),S=w,w=p,p=i(y,10),y=M,M=_}_=c(this.h[1],g,p),this.h[1]=c(this.h[2],E,w),this.h[2]=c(this.h[3],R,S),this.h[3]=c(this.h[4],k,M),this.h[4]=c(this.h[0],T,y),this.h[0]=_},o.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(N,x,b){var s=b(18),r=b(27);function i(f,c,t){if(!(this instanceof i))return new i(f,c,t);this.Hash=f,this.blockSize=f.blockSize/8,this.outSize=f.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,t))}N.exports=i,i.prototype._init=function(f){f.length>this.blockSize&&(f=new this.Hash().update(f).digest()),r(f.length<=this.blockSize);for(var c=f.length;c<this.blockSize;c++)f.push(0);for(c=0;c<f.length;c++)f[c]^=54;for(this.inner=new this.Hash().update(f),c=0;c<f.length;c++)f[c]^=106;this.outer=new this.Hash().update(f)},i.prototype.update=function(f,c){return this.inner.update(f,c),this},i.prototype.digest=function(f){return this.outer.update(this.inner.digest()),this.outer.digest(f)}},function(N,x,b){N.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(N,x,b){var s=b(21),r=b(324),i=b(15),f=b(74),c=b(123),t=i.assert,a=b(325),o=b(326);function e(n){if(!(this instanceof e))return new e(n);typeof n=="string"&&(t(f.hasOwnProperty(n),"Unknown curve "+n),n=f[n]),n instanceof f.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}N.exports=e,e.prototype.keyPair=function(n){return new a(this,n)},e.prototype.keyFromPrivate=function(n,h){return a.fromPrivate(this,n,h)},e.prototype.keyFromPublic=function(n,h){return a.fromPublic(this,n,h)},e.prototype.genKeyPair=function(n){n||(n={});for(var h=new r({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||c(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),d=this.n.sub(new s(2));;){var l=new s(h.generate(u));if(!(l.cmp(d)>0))return l.iaddn(1),this.keyFromPrivate(l)}},e.prototype._truncateToN=function(n,h){var u=8*n.byteLength()-this.n.bitLength();return u>0&&(n=n.ushrn(u)),!h&&n.cmp(this.n)>=0?n.sub(this.n):n},e.prototype.sign=function(n,h,u,d){typeof u=="object"&&(d=u,u=null),d||(d={}),h=this.keyFromPrivate(h,u),n=this._truncateToN(new s(n,16));for(var l=this.n.byteLength(),m=h.getPrivate().toArray("be",l),A=n.toArray("be",l),B=new r({hash:this.hash,entropy:m,nonce:A,pers:d.pers,persEnc:d.persEnc||"utf8"}),k=this.n.sub(new s(1)),T=0;;T++){var g=d.k?d.k(T):new s(B.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(k)>=0)){var E=this.g.mul(g);if(!E.isInfinity()){var R=E.getX(),S=R.umod(this.n);if(S.cmpn(0)!==0){var M=g.invm(this.n).mul(S.mul(h.getPrivate()).iadd(n));if((M=M.umod(this.n)).cmpn(0)!==0){var y=(E.getY().isOdd()?1:0)|(R.cmp(S)!==0?2:0);return d.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),y^=1),new o({r:S,s:M,recoveryParam:y})}}}}}},e.prototype.verify=function(n,h,u,d){n=this._truncateToN(new s(n,16)),u=this.keyFromPublic(u,d);var l=(h=new o(h,"hex")).r,m=h.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;if(m.cmpn(1)<0||m.cmp(this.n)>=0)return!1;var A,B=m.invm(this.n),k=B.mul(n).umod(this.n),T=B.mul(l).umod(this.n);return this.curve._maxwellTrick?!(A=this.g.jmulAdd(k,u.getPublic(),T)).isInfinity()&&A.eqXToP(l):!(A=this.g.mulAdd(k,u.getPublic(),T)).isInfinity()&&A.getX().umod(this.n).cmp(l)===0},e.prototype.recoverPubKey=function(n,h,u,d){t((3&u)===u,"The recovery param is more than two bits"),h=new o(h,d);var l=this.n,m=new s(n),A=h.r,B=h.s,k=1&u,T=u>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");A=T?this.curve.pointFromX(A.add(this.curve.n),k):this.curve.pointFromX(A,k);var g=h.r.invm(l),E=l.sub(m).mul(g).umod(l),R=B.mul(g).umod(l);return this.g.mulAdd(E,A,R)},e.prototype.getKeyRecoveryParam=function(n,h,u,d){if((h=new o(h,d)).recoveryParam!==null)return h.recoveryParam;for(var l=0;l<4;l++){var m;try{m=this.recoverPubKey(n,h,l)}catch(A){continue}if(m.eq(u))return l}throw new Error("Unable to find valid recovery factor")}},function(N,x,b){var s=b(75),r=b(122),i=b(27);function f(c){if(!(this instanceof f))return new f(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(c.entropy,c.entropyEnc||"hex"),a=r.toArray(c.nonce,c.nonceEnc||"hex"),o=r.toArray(c.pers,c.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,a,o)}N.exports=f,f.prototype._init=function(c,t,a){var o=c.concat(t).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},f.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},f.prototype._update=function(c){var t=this._hmac().update(this.V).update([0]);c&&(t=t.update(c)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},f.prototype.reseed=function(c,t,a,o){typeof t!="string"&&(o=a,a=t,t=null),c=r.toArray(c,t),a=r.toArray(a,o),i(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(a||[])),this._reseed=1},f.prototype.generate=function(c,t,a,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=a,a=t,t=null),a&&(a=r.toArray(a,o||"hex"),this._update(a));for(var e=[];e.length<c;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var n=e.slice(0,c);return this._update(a),this._reseed++,r.encode(n,t)}},function(N,x,b){var s=b(21),r=b(15).assert;function i(f,c){this.ec=f,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}N.exports=i,i.fromPublic=function(f,c,t){return c instanceof i?c:new i(f,{pub:c,pubEnc:t})},i.fromPrivate=function(f,c,t){return c instanceof i?c:new i(f,{priv:c,privEnc:t})},i.prototype.validate=function(){var f=this.getPublic();return f.isInfinity()?{result:!1,reason:"Invalid public key"}:f.validate()?f.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(f,c){return typeof f=="string"&&(c=f,f=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,f):this.pub},i.prototype.getPrivate=function(f){return f==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(f,c){this.priv=new s(f,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(f,c){if(f.x||f.y)return this.ec.curve.type==="mont"?r(f.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(f.x&&f.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(f.x,f.y));this.pub=this.ec.curve.decodePoint(f,c)},i.prototype.derive=function(f){return f.mul(this.priv).getX()},i.prototype.sign=function(f,c,t){return this.ec.sign(f,this,c,t)},i.prototype.verify=function(f,c){return this.ec.verify(f,c,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(N,x,b){var s=b(21),r=b(15),i=r.assert;function f(e,n){if(e instanceof f)return e;this._importDER(e,n)||(i(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function c(){this.place=0}function t(e,n){var h=e[n.place++];if(!(128&h))return h;var u=15&h;if(u===0||u>4)return!1;for(var d=0,l=0,m=n.place;l<u;l++,m++)d<<=8,d|=e[m],d>>>=0;return!(d<=127)&&(n.place=m,d)}function a(e){for(var n=0,h=e.length-1;!e[n]&&!(128&e[n+1])&&n<h;)n++;return n===0?e:e.slice(n)}function o(e,n){if(n<128)e.push(n);else{var h=1+(Math.log(n)/Math.LN2>>>3);for(e.push(128|h);--h;)e.push(n>>>(h<<3)&255);e.push(n)}}N.exports=f,f.prototype._importDER=function(e,n){e=r.toArray(e,n);var h=new c;if(e[h.place++]!==48)return!1;var u=t(e,h);if(u===!1)return!1;if(u+h.place!==e.length)return!1;if(e[h.place++]!==2)return!1;var d=t(e,h);if(d===!1)return!1;var l=e.slice(h.place,d+h.place);if(h.place+=d,e[h.place++]!==2)return!1;var m=t(e,h);if(m===!1)return!1;if(e.length!==m+h.place)return!1;var A=e.slice(h.place,m+h.place);if(l[0]===0){if(!(128&l[1]))return!1;l=l.slice(1)}if(A[0]===0){if(!(128&A[1]))return!1;A=A.slice(1)}return this.r=new s(l),this.s=new s(A),this.recoveryParam=null,!0},f.prototype.toDER=function(e){var n=this.r.toArray(),h=this.s.toArray();for(128&n[0]&&(n=[0].concat(n)),128&h[0]&&(h=[0].concat(h)),n=a(n),h=a(h);!(h[0]||128&h[1]);)h=h.slice(1);var u=[2];o(u,n.length),(u=u.concat(n)).push(2),o(u,h.length);var d=u.concat(h),l=[48];return o(l,d.length),l=l.concat(d),r.encode(l,e)}},function(N,x,b){var s=b(75),r=b(74),i=b(15),f=i.assert,c=i.parseBytes,t=b(328),a=b(329);function o(e){if(f(e==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(e);e=r[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=s.sha512}N.exports=o,o.prototype.sign=function(e,n){e=c(e);var h=this.keyFromSecret(n),u=this.hashInt(h.messagePrefix(),e),d=this.g.mul(u),l=this.encodePoint(d),m=this.hashInt(l,h.pubBytes(),e).mul(h.priv()),A=u.add(m).umod(this.curve.n);return this.makeSignature({R:d,S:A,Rencoded:l})},o.prototype.verify=function(e,n,h){e=c(e),n=this.makeSignature(n);var u=this.keyFromPublic(h),d=this.hashInt(n.Rencoded(),u.pubBytes(),e),l=this.g.mul(n.S());return n.R().add(u.pub().mul(d)).eq(l)},o.prototype.hashInt=function(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return i.intFromLE(e.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(e){return t.fromPublic(this,e)},o.prototype.keyFromSecret=function(e){return t.fromSecret(this,e)},o.prototype.makeSignature=function(e){return e instanceof a?e:new a(this,e)},o.prototype.encodePoint=function(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n},o.prototype.decodePoint=function(e){var n=(e=i.parseBytes(e)).length-1,h=e.slice(0,n).concat(-129&e[n]),u=(128&e[n])!=0,d=i.intFromLE(h);return this.curve.pointFromY(d,u)},o.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(e){return i.intFromLE(e)},o.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(N,x,b){var s=b(15),r=s.assert,i=s.parseBytes,f=s.cachedProperty;function c(t,a){this.eddsa=t,this._secret=i(a.secret),t.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=i(a.pub)}c.fromPublic=function(t,a){return a instanceof c?a:new c(t,{pub:a})},c.fromSecret=function(t,a){return a instanceof c?a:new c(t,{secret:a})},c.prototype.secret=function(){return this._secret},f(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),f(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),f(c,"privBytes",function(){var t=this.eddsa,a=this.hash(),o=t.encodingLength-1,e=a.slice(0,t.encodingLength);return e[0]&=248,e[o]&=127,e[o]|=64,e}),f(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),f(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),f(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},c.prototype.verify=function(t,a){return this.eddsa.verify(t,a,this)},c.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),s.encode(this.secret(),t)},c.prototype.getPublic=function(t){return s.encode(this.pubBytes(),t)},N.exports=c},function(N,x,b){var s=b(21),r=b(15),i=r.assert,f=r.cachedProperty,c=r.parseBytes;function t(a,o){this.eddsa=a,typeof o!="object"&&(o=c(o)),Array.isArray(o)&&(o={R:o.slice(0,a.encodingLength),S:o.slice(a.encodingLength)}),i(o.R&&o.S,"Signature without R or S"),a.isPoint(o.R)&&(this._R=o.R),o.S instanceof s&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}f(t,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),f(t,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),f(t,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),f(t,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},N.exports=t},function(N,x,b){const s=b(0),r=b(19),i=b(6),f=b(128),c={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};N.exports=async(t,a,o)=>{const e=c[t];if(!e){const S=Object.keys(c).join(" / ");throw s(new Error(`unknown cipher type '${t}'. Must be ${S}`),"ERR_INVALID_CIPHER_TYPE")}if(!a)throw s(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const n=e.keySize,h=e.ivSize,u=i("key expansion"),d=2*(h+n+20),l=await f.create(a,o);let m=await l.digest(u);const A=[];let B=0;for(;B<d;){const S=await l.digest(r([m,u]));let M=S.length;B+M>d&&(M=d-B),A.push(S),B+=M,m=await l.digest(m)}const k=d/2,T=r(A),g=T.slice(0,k),E=T.slice(k,d),R=S=>({iv:S.slice(0,h),cipherKey:S.slice(h,h+n),macKey:S.slice(h+n)});return{k1:R(g),k2:R(E)}}},function(N,x,b){N.exports={SHA1:20,SHA256:32,SHA512:64}},function(N,x,b){const s=b(333);N.exports=async r=>s.generateEphmeralKeyPair(r)},function(N,x,b){const s=b(0),r=b(48),{base64urlToBuffer:i}=b(72),f=b(334),c=b(5),t=b(19),a=b(20),o={"P-256":256,"P-384":384,"P-521":521};x.generateEphmeralKeyPair=async function(d){f(Object.keys(o),d);const l=await r.get().subtle.generateKey({name:"ECDH",namedCurve:d},!0,["deriveBits"]);return{key:n(await r.get().subtle.exportKey("jwk",l.publicKey)),genSharedKey:async(m,A)=>{let B;B=A?await r.get().subtle.importKey("jwk",u(d,A),{name:"ECDH",namedCurve:d},!1,["deriveBits"]):l.privateKey;const k=[await r.get().subtle.importKey("jwk",h(d,m),{name:"ECDH",namedCurve:d},!1,[]),B],T=await r.get().subtle.deriveBits({name:"ECDH",namedCurve:d,public:k[0]},k[1],o[d]);return new Uint8Array(T,T.byteOffset,T.byteLength)}}};const e={"P-256":32,"P-384":48,"P-521":66};function n(d){const l=e[d.crv];return t([Uint8Array.from([4]),i(d.x,l),i(d.y,l)],1+2*l)}function h(d,l){const m=e[d];if(a(!l.slice(0,1),Uint8Array.from([4])))throw s(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:d,x:c(l.slice(1,m+1),"base64url"),y:c(l.slice(1+m),"base64url"),ext:!0}}const u=(d,l)=>({...h(d,l.public),d:c(l.private,"base64url")})},function(N,x,b){const s=b(0);N.exports=function(r,i){if(!r.includes(i)){const f=r.join(" / ");throw s(new Error(`Unknown curve: ${i}. Must be ${f}`),"ERR_INVALID_CURVE")}}},function(N,x,b){const s=b(17);N.exports=s(`

message PeerIdProto {
  required bytes id = 1;
  bytes pubKey = 2;
  bytes privKey = 3;
}

`)},function(N,x,b){const s=b(40);N.exports=({peerId:r,repo:i,keychainConfig:f={},libp2pConfig:c})=>{const{datastore:t,keys:a}=i,o={datastore:t,peerId:r,keychain:{datastore:a,...f}};return new(b(337))(s(o,c))}},function(N,x,b){const{EventEmitter:s}=b(16),r=b(2),i=b(76),f=r("libp2p");f.error=r("libp2p:error");const c=b(0),t=b(8),a=b(338),o=b(344),e=b(130),{validate:n}=b(351),{codes:h,messages:u}=b(10),d=b(368),l=b(369),m=b(373),A=b(387),B=b(392),k=b(408),T=b(136),g=b(413),E=b(150),R=b(430),S=b(431),M=b(435),y=b(437),{IdentifyService:p,multicodecs:w}=b(439);class v extends s{constructor(_){if(super(),this._options=n(_),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new S({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new E({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new d(this._options.addresses),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this._options.connectionManager.minPeers&&(this._options.connectionManager.minConnections=this._options.connectionManager.minPeers),this.connectionManager=new l(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new k({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){f("creating keychain");const C=B.generateOptions();this.keychain=new B(this._options.keychain.datastore,{passPhrase:this._options.keychain.pass,...C,...this._options.keychain}),f("keychain constructed")}if(this.upgrader=new g({localPeer:this.peerId,metrics:this.metrics,onConnection:C=>this.connectionManager.onConnect(C),onConnectionEnd:C=>this.connectionManager.onDisconnect(C)}),this.transportManager=new T({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.registrar=new M({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw c(new Error(u.CONN_ENCRYPTION_REQUIRED),h.CONN_ENCRYPTION_REQUIRED);if((this._modules.connEncryption.forEach(C=>{this.upgrader.cryptos.set(C.protocol,C)}),this.dialer=new A({transportManager:this.transportManager,peerStore:this.peerStore,concurrency:this._options.dialer.maxParallelDials,perPeerLimit:this._options.dialer.maxDialsPerPeer,timeout:this._options.dialer.dialTimeout,resolvers:this._options.dialer.resolvers}),this._modules.transport.forEach(C=>{const L=C.prototype[Symbol.toStringTag],O=this._config.transport[L];this.transportManager.add(L,C,O)}),this._config.relay.enabled&&this.transportManager.add(m.prototype[Symbol.toStringTag],m),this._modules.streamMuxer)&&(this._modules.streamMuxer.forEach(C=>{this.upgrader.muxers.set(C.multicodec,C)}),this.identifyService=new p({libp2p:this,protocols:this.upgrader.protocols}),this.handle(Object.values(w),this.identifyService.handleMessage)),this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(i.process!==void 0&&i.process.env&&i.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const C=this._modules.dht;this._dht=new C({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){const C=this._modules.pubsub;this.pubsub=R(C,this,this._config.pubsub)}this.peerRouting=a(this),this.contentRouting=o(this),y.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(_,...C){_!=="error"||this._events.error?super.emit(_,...C):f.error(...C)}async start(){f("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),f("libp2p has started")}catch(_){throw this.emit("error",_),f.error("An error occurred starting libp2p",_),await this.stop(),_}}async stop(){f("libp2p is stopping");try{for(const _ of this._discovery.values())_.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),_=>_.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.transportManager.close(),y.unmount(this),this.dialer.destroy()}catch(_){_&&(f.error(_),this.emit("error",_))}this._isStarted=!1,f("libp2p has stopped")}async loadKeychain(){try{await this.keychain.findKeyByName("self")}catch(_){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(_,C){return this.dialProtocol(_,null,C)}async dialProtocol(_,C,L){const{id:O,multiaddrs:U}=e(_);if(O.equals(this.peerId))throw c(new Error("Cannot dial self"),h.ERR_DIALED_SELF);let q=this.connectionManager.get(O);return q?U&&this.peerStore.addressBook.add(O,U):q=await this.dialer.connectToPeer(_,L),C?q.newStream(C):q}get multiaddrs(){const _=this.addressManager.getNoAnnounceAddrs();return this.transportManager.getAddrs().concat(this.addressManager.getAnnounceAddrs()).filter((C,L,O)=>O.findIndex(U=>U.equals(C))===L&&!_.find(U=>U.equals(C)))}async hangUp(_){const{id:C}=e(_),L=this.connectionManager.connections.get(C.toB58String());L&&await Promise.all(L.map(O=>O.close()))}ping(_){const{id:C,multiaddrs:L}=e(_);return y(this,L?L[0]:C)}handle(_,C){(_=Array.isArray(_)?_:[_]).forEach(L=>{this.upgrader.protocols.set(L,C)}),this.isStarted()&&this.identifyService&&this.identifyService.pushToPeerStore(this.peerStore)}unhandle(_){(_=Array.isArray(_)?_:[_]).forEach(C=>{this.upgrader.protocols.delete(C)}),this.isStarted()&&this.identifyService&&this.identifyService.pushToPeerStore(this.peerStore)}async _onStarting(){await this.transportManager.listen(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",_=>{this.emit("peer:discovery",_),this._maybeConnect(_)});for(const _ of this.peerStore.peers.values())this.emit("peer:discovery",_.id);this.connectionManager.start(),await this._setupPeerDiscovery()}_onDiscoveryPeer(_){_.id.toB58String()!==this.peerId.toB58String()?(_.multiaddrs&&this.peerStore.addressBook.add(_.id,_.multiaddrs),_.protocols&&this.peerStore.protoBook.set(_.id,_.protocols)):f.error(new Error(h.ERR_DISCOVERED_SELF))}async _maybeConnect(_){if(this._config.peerDiscovery.autoDial===!0&&!this.connectionManager.get(_)&&(this._options.connectionManager.minConnections||0)>this.connectionManager.size){f("connecting to discovered peer %s",_.toB58String());try{await this.dialer.connectToPeer(_)}catch(C){f.error("could not connect to discovered peer",C)}}}async _setupPeerDiscovery(){const _=C=>{let L={enabled:!0};if(C.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[C.tag]&&(L={...L,...this._config.peerDiscovery[C.tag]}),L.enabled&&!this._discovery.has(C.tag)){let O;O=typeof C=="function"?new C(Object.assign({},L,{peerId:this.peerId,libp2p:this})):C,O.on("peer",this._onDiscoveryPeer),this._discovery.set(C.tag,O)}};for(const C of this._modules.peerDiscovery||[])_(C);for(const C of this.transportManager.getTransports())C.discovery&&_(C.discovery);await Promise.all(Array.from(this._discovery.values(),C=>C.start()))}}v.create=async function(_={}){if(_.peerId)return new v(_);const C=await t.create();return _.peerId=C,new v(_)},N.exports=v},function(N,x,b){const s=b(0),r=b(77);N.exports=i=>{const f=i._modules.peerRouting||[];return i._dht&&f.unshift(i._dht),{findPeer:async(c,t)=>{if(!f.length)throw s(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");return r(f.map(async a=>{const o=await a.findPeer(c,t);if(!o||Object.keys(o).length===0)throw s(new Error("not found"),"NOT_FOUND");return o}))}}}},function(N,x,b){const s=b(340),r=b(129);class i extends Error{}N.exports=(f,c)=>new r((t,a,o)=>{const{count:e,filter:n=()=>!0}=c;if(!Number.isFinite(e))return void a(new TypeError("Expected a finite number, got "+typeof c.count));const h=[],u=[];let d=0,l=!1;const m=new Set,A=()=>{for(const B of f)m.has(B)||typeof B.cancel!="function"||B.cancel()};o(A);for(const B of f)d++,(async()=>{try{const k=await B;if(l)return;if(!n(k))throw new i("Value does not satisfy filter");h.push(k)}catch(k){u.push(k)}finally{m.add(B),!l&&(h.length===e&&(t(h),l=!0),d-u.length<e&&(a(new s(u)),l=!0),l)&&A()}})();e>d&&(a(new RangeError(`Expected input to contain at least ${c.count} items, but contains ${d} items`)),A())}),N.exports.AggregateError=s,N.exports.FilterError=i},function(N,x,b){const s=b(341),r=b(342);class i extends Error{constructor(f){if(!Array.isArray(f))throw new TypeError("Expected input to be an Array, got "+typeof f);let c=(f=[...f].map(t=>t instanceof Error?t:t!==null&&typeof t=="object"?Object.assign(new Error(t.message),t):new Error(t))).map(t=>typeof t.stack=="string"?r(t.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(t)).join(`
`);c=`
`+s(c,4),super(c),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:f})}*[Symbol.iterator](){for(const f of this._errors)yield f}}N.exports=i},function(N,x,b){N.exports=(s,r=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof s!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof s}\``);if(typeof r!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof r}\``);if(typeof i.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(r===0)return s;const f=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return s.replace(f,i.indent.repeat(r))}},function(N,x,b){const s=b(343),r=/\s+at.*(?:\(|\s)(.*)\)?/,i=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,f=s.homedir===void 0?"":s.homedir();N.exports=(c,t)=>(t=Object.assign({pretty:!1},t),c.replace(/\\/g,"/").split(`
`).filter(a=>{const o=a.match(r);if(o===null||!o[1])return!0;const e=o[1];return!e.includes(".app/Contents/Resources/electron.asar")&&!e.includes(".app/Contents/Resources/default_app.asar")&&!i.test(e)}).filter(a=>a.trim()!=="").map(a=>t.pretty?a.replace(r,(o,e)=>o.replace(e,e.replace(f,"~"))):a).join(`
`))},function(N,x){},function(N,x,b){const s=b(0),{messages:r,codes:i}=b(10),f=b(345),c=b(77);N.exports=t=>{const a=t._modules.contentRouting||[],o=t._dht;return o&&a.unshift(o),{async*findProviders(e,n){if(!a.length)throw s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");const h=await c(a.map(async u=>{const d=await f(u.findProviders(e,n));if(!d||!d.length)throw s(new Error("not found"),"NOT_FOUND");return d}));for(const u of h)yield u},async provide(e){if(!a.length)throw s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");return Promise.all(a.map(n=>n.provide(e)))},async put(e,n,h){if(!t.isStarted()||!o.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return o.put(e,n,h)},async get(e,n){if(!t.isStarted()||!o.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return o.get(e,n)},async getMany(e,n,h){if(!t.isStarted()||!o.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return o.getMany(e,n,h)}}}},function(N,x,b){N.exports=async s=>{const r=[];for await(const i of s)r.push(i);return r}},function(N,x,b){const s=b(347),r=b(51),i=b(9),f=b(19),c=b(5);function t(T){const g=[],E=T.split("/").slice(1);if(E.length===1&&E[0]==="")return[];for(let R=0;R<E.length;R++){const S=E[R],M=r(S);if(M.size!==0){if(R++,R>=E.length)throw B("invalid address: "+T);if(M.path){g.push([S,A(E.slice(R).join("/"))]);break}g.push([S,E[R]])}else g.push([S])}return g}function a(T){const g=[];return T.map(E=>{const R=k(E);g.push(R.name),E.length>1&&g.push(E[1])}),A(g.join("/"))}function o(T){return T.map(g=>{Array.isArray(g)||(g=[g]);const E=k(g);return g.length>1?[E.code,s.toBytes(E.code,g[1])]:[E.code]})}function e(T){return T.map(g=>{const E=k(g);return g.length>1?[E.code,s.toString(E.code,g[1])]:[E.code]})}function n(T){return l(f(T.map(g=>{const E=k(g);let R=Uint8Array.from(i.encode(E.code));return g.length>1&&(R=f([R,g[1]])),R})))}function h(T,g){return T.size>0?T.size/8:T.size===0?0:i.decode(g)+i.decode.bytes}function u(T){const g=[];let E=0;for(;E<T.length;){const R=i.decode(T,E),S=i.decode.bytes,M=h(r(R),T.slice(E+S));if(M===0){g.push([R]),E+=S;continue}const y=T.slice(E+S,E+S+M);if(E+=M+S,E>T.length)throw B("Invalid address Uint8Array: "+c(T,"base16"));g.push([R,y])}return g}function d(T){return n(o(t(T=A(T))))}function l(T){const g=m(T);if(g)throw g;return Uint8Array.from(T)}function m(T){try{u(T)}catch(g){return g}}function A(T){return"/"+T.trim().split("/").filter(g=>g).join("/")}function B(T){return new Error("Error parsing address: "+T)}function k(T){return r(T[0])}N.exports={stringToStringTuples:t,stringTuplesToString:a,tuplesToStringTuples:e,stringTuplesToTuples:o,bytesToTuples:u,tuplesToBytes:n,bytesToString:function(T){const g=u(T);return a(e(g))},stringToBytes:d,fromString:function(T){return d(T)},fromBytes:l,validateBytes:m,isValidBytes:function(T){return m(T)===void 0},cleanPath:A,ParseError:B,protoFromTuple:k,sizeForAddr:h}},function(N,x,b){const s=b(348),r=b(51),i=b(63),f=b(32),c=b(9),t=b(5),a=b(6),o=b(19);function e(l,m){return m instanceof Uint8Array?e.toString(l,m):e.toBytes(l,m)}function n(l){if(!s.isIP(l))throw new Error("invalid ip address");return s.toBytes(l)}function h(l){const m=new ArrayBuffer(2);return new DataView(m).setUint16(0,l),new Uint8Array(m)}function u(l){return new DataView(l.buffer).getUint16(0)}function d(l){const m=l.slice(0,l.length-2),A=l.slice(l.length-2);return t(m,"base32")+":"+u(A)}N.exports=e,e.toString=function(l,m){switch((l=r(l)).code){case 4:case 41:return function(A){const B=s.toString(A);if(!B||!s.isIP(B))throw new Error("invalid ip address");return B}(m);case 6:case 273:case 33:case 132:return u(m);case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=c.decode(A);if((A=A.slice(c.decode.bytes)).length!==B)throw new Error("inconsistent lengths");return t(A)}(m);case 421:return function(A){const B=c.decode(A),k=A.slice(c.decode.bytes);if(k.length!==B)throw new Error("inconsistent lengths");return t(k,"base58btc")}(m);case 444:case 445:return d(m);default:return t(m,"base16")}},e.toBytes=function(l,m){switch((l=r(l)).code){case 4:case 41:return n(m);case 6:case 273:case 33:case 132:return h(parseInt(m,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=a(A),k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 421:return function(A){const B=new i(A).multihash,k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 444:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==16)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);case 445:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==56)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion3 address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);default:return a(m,"base16")}}},function(N,x,b){const s=b(349),r=b(5),i=s,f=s.v4,c=s.v6,t=function(a,o,e){var n;if(e=~~e,f(a))n=o||new Uint8Array(e+4),a.split(/\./g).map(function(A){n[e++]=255&parseInt(A,10)});else if(c(a)){var h,u=a.split(":",8);for(h=0;h<u.length;h++){var d;f(u[h])&&(d=t(u[h]),u[h]=r(d.slice(0,2),"base16")),d&&++h<8&&u.splice(h,0,r(d.slice(2,4),"base16"))}if(u[0]==="")for(;u.length<8;)u.unshift("0");else if(u[u.length-1]==="")for(;u.length<8;)u.push("0");else if(u.length<8){for(h=0;h<u.length&&u[h]!=="";h++);var l=[h,"1"];for(h=9-u.length;h>0;h--)l.push("0");u.splice.apply(u,l)}for(n=o||new Uint8Array(e+16),h=0;h<u.length;h++){var m=parseInt(u[h],16);n[e++]=m>>8&255,n[e++]=255&m}}if(!n)throw Error("Invalid ip address: "+a);return n};N.exports={isIP:i,isV4:f,isV6:c,toBytes:t,toString:function(a,o,e){o=~~o,e=e||a.length-o;var n,h=[];const u=new DataView(a.buffer);if(e===4){for(let d=0;d<e;d++)h.push(a[o+d]);n=h.join(".")}else if(e===16){for(let d=0;d<e;d+=2)h.push(u.getUint16(o+d).toString(16));n=(n=(n=h.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n}}},function(N,x,b){const s=b(350),r=i=>s({exact:!0}).test(i);r.v4=i=>s.v4({exact:!0}).test(i),r.v6=i=>s.v6({exact:!0}).test(i),r.version=i=>r(i)?r.v4(i)?4:6:void 0,N.exports=r},function(N,x,b){const s=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",f=`
(
(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${i}:){6}(?:${r}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${i}:){5}(?::${r}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${i}:){4}(?:(:${i}){0,1}:${r}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${i}:){3}(?:(:${i}){0,2}:${r}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${i}:){2}(?:(:${i}){0,3}:${r}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${i}:){1}(?:(:${i}){0,4}:${r}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${i}){0,5}:${r}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),c=new RegExp(`(?:^${r}$)|(?:^${f}$)`),t=new RegExp(`^${r}$`),a=new RegExp(`^${f}$`),o=e=>e&&e.exact?c:new RegExp(`(?:${s(e)}${r}${s(e)})|(?:${s(e)}${f}${s(e)})`,"g");o.v4=e=>e&&e.exact?t:new RegExp(`${s(e)}${r}${s(e)}`,"g"),o.v6=e=>e&&e.exact?a:new RegExp(`${s(e)}${f}${s(e)}`,"g"),N.exports=o},function(N,x,b){const s=b(40),{dnsaddrResolver:r}=b(352),i=b(78),{AGENT_VERSION:f}=b(135),{FaultTolerance:c}=b(136),t={addresses:{listen:[],announce:[],noAnnounce:[]},connectionManager:{minConnections:25},transportManager:{faultTolerance:c.FATAL_ALL},dialer:{maxParallelDials:i.MAX_PARALLEL_DIALS,maxDialsPerPeer:i.MAX_PER_PEER_DIALS,dialTimeout:i.DIAL_TIMEOUT,resolvers:{dnsaddr:r}},host:{agentVersion:f},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0,emitSelf:!0,signMessages:!0,strictSigning:!0},relay:{enabled:!0,hop:{enabled:!1,active:!1}},transport:{}}};N.exports.validate=a=>{if((a=s(t,a)).modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return a}},function(N,x,b){b(14);const s=b(51),{code:r}=s("dnsaddr");N.exports={dnsaddrResolver:async function(i){const{Resolver:f}=b(353),c=new f,t=i.getPeerId(),[,a]=i.stringTuples().find(([e])=>e===r)||[];let o=(await c.resolveTxt("_dnsaddr."+a)).flat().map(e=>e.split("=")[1]);return t&&(o=o.filter(e=>e.includes(t))),o}}},function(N,x,b){let s;try{if(s=b(!function(){var r=new Error("Cannot find module 'dns'");throw r.code="MODULE_NOT_FOUND",r}()).promises,!s)throw new Error("no dns available")}catch(r){s=b(354)}N.exports=s},function(N,x,b){const s=b(2),r=s("dns-over-http-resolver");r.error=s("dns-over-http-resolver:error");const i=b(355),{buildResource:f,fetch:c,getCacheKey:t}=b(356);class a{constructor({maxCache:o=100}={}){this._cache=new i({max:o}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){const o=[].concat(this._servers);for(let e=o.length-1;e>0;e--){const n=Math.floor(Math.random()*e),h=o[e];o[e]=o[n],o[n]=h}return o}setServers(o){this._servers=o}resolve(o,e="A"){switch(e){case"A":return this.resolve4(o);case"AAAA":return this.resolve6(o);case"TXT":return this.resolveTxt(o);default:throw new Error(e+" is not supported")}}async resolve4(o){const e=this._cache.get(t(o,"A"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"A"})),u=await h.json(),d=u.Answer.map(m=>m.data),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"A"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record A`)}throw new Error(`Could not resolve ${o} record A`)}async resolve6(o){const e=this._cache.get(t(o,"AAAA"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"AAAA"})),u=await h.json(),d=u.Answer.map(m=>m.data),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"AAAA"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record AAAA`)}throw new Error(`Could not resolve ${o} record AAAA`)}async resolveTxt(o){const e=this._cache.get(t(o,"TXT"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"TXT"})),u=await h.json(),d=u.Answer.map(m=>[m.data.replace(/['"]+/g,"")]),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"TXT"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record TXT`)}throw new Error(`Could not resolve ${o} record TXT`)}}a.Resolver=a,N.exports=a},function(N,x,b){N.exports=f;var s=b(86),r=f.prototype,i=new Date%1e9;function f(c){c=c||{},this.id=c.id||(1e9*Math.random()>>>0)+i++,this.max=c.max||1/0,this.items=c.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(c.lastModified||new Date);for(var t,a,o=this.items.length;o--;)t=this.items[o],a=new Date(t.expires)-new Date,this._lookup[t.key]=t,a>0?this.expire(t.key,a):a<=0&&this.delete(t.key)}r.has=function(c){return c in this._lookup},r.get=function(c){if(!this.has(c))return null;var t=this._lookup[c];return t.refresh&&this.expire(c,t.refresh),this.items.splice(this.items.indexOf(t),1),this.items.push(t),t.value},r.meta=function(c){if(!this.has(c))return null;var t=this._lookup[c];return"meta"in t?t.meta:null},r.set=function(c,t,a){var o=this._lookup[c],e=this._lookup[c]={key:c,value:t};return this.lastModified=new Date,o?(clearTimeout(o.timeout),this.items.splice(this.items.indexOf(o),1,e)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(e),this.size++),a&&("ttl"in a&&this.expire(c,a.ttl),"meta"in a&&(e.meta=a.meta),a.refresh&&(e.refresh=a.ttl)),this},r.delete=function(c){var t=this._lookup[c];return!!t&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(t),1),clearTimeout(t.timeout),delete this._lookup[c],this.size--,this)},r.expire=function(c,t){var a=t||0,o=this._lookup[c];if(!o)return this;if(typeof a=="string"&&(a=s(t)),typeof a!="number")throw new TypeError("Expiration time must be a string or number.");return clearTimeout(o.timeout),o.timeout=setTimeout(this.delete.bind(this,o.key),a),o.expires=Number(new Date)+a,this},r.clear=function(){for(var c=this.items.length;c--;)this.delete(this.items[c].key);return this},r.toJSON=function(){for(var c,t=new Array(this.items.length),a=t.length;a--;)c=this.items[a],t[a]={key:c.key,meta:c.meta,value:c.value,expires:c.expires,refresh:c.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:t}}},function(N,x,b){const{default:s,Headers:r}=b(357);N.exports.buildResource=function({serverResolver:i,hostname:f,recordType:c}){return`${i}?name=${f}&type=${c}`},N.exports.fetch=function(i){return s(i,{headers:new r({accept:"application/dns-json"})})},N.exports.getCacheKey=function(i,f){return`${f}_${i}`}},function(N,x,b){const s=b(358)();s.fetch&&s.Headers&&s.Request&&s.Response?(N.exports=function(...r){return s.fetch(...r)},N.exports.Headers=s.Headers,N.exports.Request=s.Request,N.exports.Response=s.Response,N.exports.default=N.exports):N.exports=b(362)},function(N,x,b){var s=b(131),r=b(133),i=b(134),f=b(361),c=i(),t=function(){return c};s(t,{getPolyfill:i,implementation:r,shim:f}),N.exports=t},function(N,x,b){var s=Array.prototype.slice,r=b(132),i=Object.keys,f=i?function(t){return i(t)}:b(360),c=Object.keys;f.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?c(s.call(t)):c(t)}):Object.keys=f,Object.keys||f},N.exports=f},function(N,x,b){var s;if(!Object.keys){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,f=b(132),c=Object.prototype.propertyIsEnumerable,t=!c.call({toString:null},"toString"),a=c.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(u){var d=u.constructor;return d&&d.prototype===u},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window=="undefined")return!1;for(var u in window)try{if(!n["$"+u]&&r.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{e(window[u])}catch(d){return!0}}catch(d){return!0}return!1}();s=function(u){var d=u!==null&&typeof u=="object",l=i.call(u)==="[object Function]",m=f(u),A=d&&i.call(u)==="[object String]",B=[];if(!d&&!l&&!m)throw new TypeError("Object.keys called on a non-object");var k=a&&l;if(A&&u.length>0&&!r.call(u,0))for(var T=0;T<u.length;++T)B.push(String(T));if(m&&u.length>0)for(var g=0;g<u.length;++g)B.push(String(g));else for(var E in u)k&&E==="prototype"||!r.call(u,E)||B.push(String(E));if(t)for(var R=function(M){if(typeof window=="undefined"||!h)return e(M);try{return e(M)}catch(y){return!1}}(u),S=0;S<o.length;++S)R&&o[S]==="constructor"||!r.call(u,o[S])||B.push(o[S]);return B}}N.exports=s},function(N,x,b){var s=b(131),r=b(134);N.exports=function(){var i=r();if(s.supportsDescriptors){var f=Object.getOwnPropertyDescriptor(i,"globalThis");(!f||f.configurable&&(f.enumerable||f.writable||globalThis!==i))&&Object.defineProperty(i,"globalThis",{configurable:!0,enumerable:!1,value:i,writable:!1})}else typeof globalThis=="object"&&globalThis===i||(i.globalThis=i);return i}},function(N,x,b){var s=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(s!==void 0)return s;throw new Error("unable to locate global object")}();N.exports=x=s.fetch,s.fetch&&(x.default=s.fetch.bind(s)),x.Headers=s.Headers,x.Request=s.Request,x.Response=s.Response},function(N){N.exports=JSON.parse('{"name":"libp2p","version":"0.29.4","description":"JavaScript implementation of libp2p, a modular peer to peer network stack","leadMaintainer":"Jacob Heun <jacobheun@gmail.com>","main":"src/index.js","files":["dist","src"],"scripts":{"lint":"aegir lint","build":"aegir build","test":"npm run test:node && npm run test:browser","test:node":"aegir test -t node -f \\"./test/**/*.{node,spec}.js\\"","test:browser":"aegir test -t browser","release":"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser","coverage":"nyc --reporter=text --reporter=lcov npm run test:node"},"repository":{"type":"git","url":"https://github.com/libp2p/js-libp2p.git"},"keywords":["libp2p","network","p2p","peer","peer-to-peer","IPFS"],"bugs":{"url":"https://github.com/libp2p/js-libp2p/issues"},"homepage":"https://libp2p.io","license":"MIT","engines":{"node":">=12.0.0","npm":">=6.0.0"},"dependencies":{"abort-controller":"^3.0.0","aggregate-error":"^3.0.1","any-signal":"^1.1.0","bignumber.js":"^9.0.0","class-is":"^1.1.0","debug":"^4.1.1","err-code":"^2.0.0","events":"^3.1.0","hashlru":"^2.3.0","interface-datastore":"^2.0.0","ipfs-utils":"^2.2.0","it-all":"^1.0.1","it-buffer":"^0.1.2","it-handshake":"^1.0.1","it-length-prefixed":"^3.0.1","it-pipe":"^1.1.0","it-protocol-buffers":"^0.2.0","libp2p-crypto":"^0.18.0","libp2p-interfaces":"^0.5.1","libp2p-utils":"^0.2.0","mafmt":"^8.0.0","merge-options":"^2.0.0","moving-average":"^1.0.0","multiaddr":"^8.1.0","multicodec":"^2.0.0","multistream-select":"^1.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.9.1","p-any":"^3.0.0","p-fifo":"^1.0.0","p-settle":"^4.0.1","peer-id":"^0.14.2","protons":"^2.0.0","retimer":"^2.0.0","sanitize-filename":"^1.6.3","streaming-iterables":"^5.0.2","timeout-abort-controller":"^1.1.1","varint":"^5.0.0","xsalsa20":"^1.0.2"},"devDependencies":{"@nodeutils/defaults-deep":"^1.1.0","abortable-iterator":"^3.0.0","aegir":"^27.0.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-bytes":"^0.1.2","chai-string":"^1.5.0","cids":"^1.0.0","delay":"^4.3.0","dirty-chai":"^2.0.1","interop-libp2p":"^0.3.0","ipfs-http-client":"^47.0.1","it-concat":"^1.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0","libp2p":".","libp2p-bootstrap":"^0.12.0","libp2p-delegated-content-routing":"^0.7.0","libp2p-delegated-peer-routing":"^0.7.0","libp2p-floodsub":"^0.23.0","libp2p-gossipsub":"^0.6.0","libp2p-kad-dht":"^0.20.0","libp2p-mdns":"^0.15.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^2.0.0","libp2p-secio":"^0.13.1","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.20.0","libp2p-websockets":"^0.14.0","multihashes":"^3.0.1","nock":"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.1.0","promisify-es6":"^1.0.3","rimraf":"^3.0.2","sinon":"^9.0.2","uint8arrays":"^1.1.0"},"contributors":["David Dias <daviddias.p@gmail.com>","Jacob Heun <jacobheun@gmail.com>","Vasco Santos <vasco.santos@moxy.studio>","Alan Shaw <alan@tableflip.io>","Alex Potsides <alex@achingbrain.net>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Kr\xFCger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","dirkmc <dirkmdev@gmail.com>","Volker Mische <volker.mische@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","a1300 <matthias-knopp@gmx.net>","Elven <mon.samuel@qq.com>","Andrew Nesbitt <andrewnez@gmail.com>","Giovanni T. Parra <fiatjaf@gmail.com>","Ryan Bell <ryan@piing.net>","Thomas Eizinger <thomas@eizinger.io>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Didrik Nordstr\xF6m <didrik@betamos.se>","Irakli Gozalishvili <rfobic@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","Joel Gustafson <joelg@mit.edu>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","RasmusErik Voel Jensen <github@solsort.com>","Diogo Silva <fsdiogo@gmail.com>","Samlior <samlior@foxmail.com>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","S\xF6nke Hahn <soenkehahn@gmail.com>","robertkiel <robert.kiel@validitylabs.org>","Tiago Alves <alvesjtiago@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","ebinks <elizabethjbinks@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Felipe Martins <felipebrasil93@gmail.com>","isan_rivkin <isanrivkin@gmail.com>","Henrique Dias <hacdias@gmail.com>","Fei Liu <liu.feiwood@gmail.com>"]}')},function(N,x,b){const s=b(365),r=b(366);N.exports=async(i,f={})=>{const{concurrency:c=1/0}=f,t=r(c);return Promise.all(i.map(a=>a&&typeof a.then=="function"?s(a):s(typeof a=="function"?t(()=>a()):Promise.resolve(a))))}},function(N,x,b){const s=async r=>{try{return{isFulfilled:!0,isRejected:!1,value:await r}}catch(i){return{isFulfilled:!1,isRejected:!0,reason:i}}};N.exports=s,N.exports.default=s},function(N,x,b){const s=b(367),r=i=>{if(!Number.isInteger(i)&&i!==1/0||!(i>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const f=[];let c=0;const t=()=>{c--,f.length>0&&f.shift()()},a=(e,n,...h)=>{c++;const u=s(e,...h);n(u),u.then(t,t)},o=(e,...n)=>new Promise(h=>((u,d,...l)=>{c<i?a(u,d,...l):f.push(a.bind(null,u,d,...l))})(e,h,...n));return Object.defineProperties(o,{activeCount:{get:()=>c},pendingCount:{get:()=>f.length},clearQueue:{value:()=>{f.length=0}}}),o};N.exports=r,N.exports.default=r},function(N,x,b){const s=(r,...i)=>new Promise(f=>{f(r(...i))});N.exports=s,N.exports.default=s},function(N,x,b){const s=b(2);s("libp2p:addresses").error=s("libp2p:addresses:error");const r=b(14);N.exports=class{constructor({listen:i=[],announce:f=[],noAnnounce:c=[]}={}){this.listen=new Set(i),this.announce=new Set(f),this.noAnnounce=new Set(c)}getListenAddrs(){return Array.from(this.listen).map(i=>r(i))}getAnnounceAddrs(){return Array.from(this.announce).map(i=>r(i))}getNoAnnounceAddrs(){return Array.from(this.noAnnounce).map(i=>r(i))}}},function(N,x,b){const s=b(2),r=s("libp2p:connection-manager");r.error=s("libp2p:connection-manager:error");const i=b(0),f=b(40),c=b(370),t=b(79),{EventEmitter:a}=b(16),o=b(8),{ERR_INVALID_PARAMETERS:e}=b(10),n={maxConnections:1/0,minConnections:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1};function h(u,d){return u[1]-d[1]}N.exports=class extends a{constructor(u,d){if(super(),this._libp2p=u,this._peerId=u.peerId.toB58String(),this._options=f.call({ignoreUndefined:!0},n,d),this._options.maxConnections<this._options.minConnections)throw i(new Error("Connection Manager maxConnections must be greater than minConnections"),e);r("options: %j",this._options),this._libp2p=u,this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this)}get size(){return Array.from(this.connections.values()).reduce((u,d)=>u+d.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||t(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor=new c({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,r("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor&&this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._started=!1,await this._close(),r("stopped")}async _close(){const u=[];for(const d of this.connections.values())for(const l of d)u.push(l.close());await u,this.connections.clear()}setPeerValue(u,d){if(d<0||d>1)throw new Error("value should be a number between 0 and 1");u.toB58String&&(u=u.toB58String()),this._peerValues.set(u,d)}_checkMetrics(){const u=this._libp2p.metrics.global.movingAverages,d=u.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",d);const l=u.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",l);const m=d+l;this._checkMaxLimit("maxData",m),r("metrics update",m),this._timer=t(this._checkMetrics,this._options.pollInterval)}onConnect(u){const d=u.remotePeer,l=d.toB58String(),m=this.connections.get(l);this.emit("peer:connect",u),m?m.push(u):this.connections.set(l,[u]),this._libp2p.peerStore.keyBook.set(d,d.pubKey),this._peerValues.has(l)||this._peerValues.set(l,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(u){const d=u.remotePeer.toB58String();let l=this.connections.get(d);l&&l.length>1?(l=l.filter(m=>m.id!==u.id),this.connections.set(d,l)):l&&(this.connections.delete(d),this._peerValues.delete(u.remotePeer.toB58String()),this.emit("peer:disconnect",u))}get(u){const d=this.getAll(u);return d.length?d[0]:null}getAll(u){if(!o.isPeerId(u))throw i(new Error("peerId must be an instance of peer-id"),e);const d=u.toB58String(),l=this.connections.get(d);return l?l.filter(m=>m.stat.status==="open"):[]}_onLatencyMeasure(u){this._checkMaxLimit("maxEventLoopDelay",u.avgMs)}_checkMaxLimit(u,d){const l=this._options[u];r("checking limit of %s. current value: %d of %d",u,d,l),d>l&&(r("%s: limit exceeded: %s, %d",this._peerId,u,d),this._maybeDisconnectOne())}async _autoDial(){const u=this._options.minConnections;if(this.size>=u)return void(this._autoDialTimeout=t(this._autoDial,this._options.autoDialInterval));const d=Array.from(this._libp2p.peerStore.peers.values()).sort((l,m)=>!m.protocols||!m.protocols.length||l.protocols&&l.protocols.length?m.id.pubKey&&!l.id.pubKey?1:-1:1);for(let l=0;l<d.length&&this.size<u;l++)if(!this.get(d[l].id)){r("connecting to a peerStore stored peer %s",d[l].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(d[l].id),!this._started)return}catch(m){r.error("could not connect to peerStore stored peer",m)}}this._autoDialTimeout=t(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){const u=Array.from(this._peerValues).sort(h);r("%s: sorted peer values: %j",this._peerId,u);const d=u[0];if(d){const l=d[0];r("%s: lowest value peer is %s",this._peerId,l),r("%s: closing a connection to %j",this._peerId,l);for(const m of this.connections.values())if(m[0].remotePeer.toB58String()===l){m[0].close();break}}}}}},function(N,x,b){const s=b(76),r=b(16),i=b(371),f=b(2)("latency-monitor:LatencyMonitor");N.exports=class extends r{constructor({latencyCheckIntervalMs:c,dataEmitIntervalMs:t,asyncTestFn:a,latencyRandomPercentage:o}={}){super();const e=this;e.latencyCheckIntervalMs=c||500,e.latencyRandomPercentage=o||10,e._latecyCheckMultiply=e.latencyRandomPercentage/100*2*e.latencyCheckIntervalMs,e._latecyCheckSubtract=e._latecyCheckMultiply/2,e.dataEmitIntervalMs=t===null||t===0?void 0:t||5e3,f("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",e.latencyCheckIntervalMs,e.dataEmitIntervalMs),e.dataEmitIntervalMs?f("Expecting ~%s events per summary",e.latencyCheckIntervalMs/e.dataEmitIntervalMs):f("Not emitting summaries"),e.asyncTestFn=a,s.process&&s.process.hrtime?(f("Using process.hrtime for timing"),e.now=s.process.hrtime,e.getDeltaMS=n=>{const h=e.now(n);return 1e3*h[0]+h[1]/1e6}):typeof window!="undefined"&&window.performance&&window.performance.now?(f("Using performance.now for timing"),e.now=window.performance.now.bind(window.performance),e.getDeltaMS=n=>Math.round(e.now()-n)):(f("Using Date.now for timing"),e.now=Date.now,e.getDeltaMS=n=>e.now()-n),e._latencyData=e._initLatencyData(),typeof window!="undefined"&&(e._visibilityChangeEmitter=new i,e._visibilityChangeEmitter.on("visibilityChange",n=>{n?e._startTimers():(e._emitSummary(),e._stopTimers())})),e._visibilityChangeEmitter&&!e._visibilityChangeEmitter.isVisible()||e._startTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),typeof this._emitIntervalID.unref=="function"&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){const c=this.getSummary();c.events>0&&this.emit("data",c)}getSummary(){const c={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),f("Summary: %O",c),c}_checkLatency(){const c=this,t=Math.random()*c._latecyCheckMultiply-c._latecyCheckSubtract,a={deltaOffset:Math.ceil(c.latencyCheckIntervalMs+t),startTime:c.now()},o=()=>{if(!this._checkLatencyID)return;const e=c.getDeltaMS(a.startTime)-a.deltaOffset;c._checkLatency(),c._latencyData.events++,c._latencyData.minMs=Math.min(c._latencyData.minMs,e),c._latencyData.maxMs=Math.max(c._latencyData.maxMs,e),c._latencyData.totalMs+=e,f("MS: %s Data: %O",e,c._latencyData)};f("localData: %O",a),this._checkLatencyID=setTimeout(()=>{c.asyncTestFn?(a.deltaOffset=0,a.startTime=c.now(),c.asyncTestFn(o)):(a.deltaOffset-=1,o())},a.deltaOffset),typeof this._checkLatencyID.unref=="function"&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}},function(N,x,b){const s=b(16),r=b(2)("latency-monitor:VisibilityChangeEmitter");N.exports=class extends s{constructor(){super(),typeof document!="undefined"?(this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()):r('This is not a browser, no "document" found. Stopping.')}_initializeVisibilityVarNames(){let i,f;document.hidden!==void 0?(i="hidden",f="visibilitychange"):document.mozHidden!==void 0?(i="mozHidden",f="mozvisibilitychange"):document.msHidden!==void 0?(i="msHidden",f="msvisibilitychange"):document.webkitHidden!==void 0&&(i="webkitHidden",f="webkitvisibilitychange"),this._hidden=i,this._visibilityChange=f}_addVisibilityChangeListener(){document.addEventListener===void 0||document[this._hidden]===void 0?r("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(this._hidden!==void 0&&document[this._hidden]!==void 0)return!document[this._hidden]}_handleVisibilityChange(){const i=!document[this._hidden];r(i?"Page Visible":"Page Hidden"),this.emit("visibilityChange",i)}}},function(N,x,b){N.exports=function(){return Date.now()}},function(N,x,b){const s=b(374),r=b(14),i=b(8),f=b(24),{CircuitRelay:c}=b(41),t=b(2),a=t("libp2p:circuit");a.error=t("libp2p:circuit:error");const o=b(375),{relay:e}=b(80),n=b(379),{handleCanHop:h,handleHop:u,hop:d}=b(380),{handleStop:l}=b(143),m=b(81);N.exports=f(class{constructor({libp2p:A,upgrader:B}){this._dialer=A.dialer,this._registrar=A.registrar,this._connectionManager=A.connectionManager,this._upgrader=B,this._options=A._config.relay,this._libp2p=A,this.peerId=A.peerId,this._registrar.handle(e,this._onProtocol.bind(this))}async _onProtocol({connection:A,stream:B,protocol:k}){const T=new m({stream:B}),g=await T.read(),E=this;let R;switch(g.type){case c.Type.CAN_HOP:a("received CAN_HOP request from %s",A.remotePeer.toB58String()),await h({circuit:E,connection:A,streamHandler:T});break;case c.Type.HOP:a("received HOP request from %s",A.remotePeer.toB58String()),R=await u({connection:A,request:g,streamHandler:T,circuit:E});break;case c.Type.STOP:a("received STOP request from %s",A.remotePeer.toB58String()),R=await l({connection:A,request:g,streamHandler:T,circuit:E});break;default:a("Request of type %s not supported",g.type)}if(R){const S=r(g.dstPeer.addrs[0]),M=r(g.srcPeer.addrs[0]),y=o({stream:R,remoteAddr:S,localAddr:M}),p=c.Type===c.Type.HOP?"relay":"inbound";a("new %s connection %s",p,y.remoteAddr);const w=await this._upgrader.upgradeInbound(y);a("%s connection %s upgraded",p,y.remoteAddr),this.handler&&this.handler(w)}}async dial(A,B){const k=A.toString().split("/p2p-circuit"),T=r(k[0]),g=r(k[k.length-1]),E=i.createFromCID(T.getPeerId()),R=i.createFromCID(g.getPeerId());let S=!1,M=this._connectionManager.get(E);M||(M=await this._dialer.connectToPeer(T,B),S=!0);try{const y=await d({connection:M,circuit:this,request:{type:c.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(v=>v.bytes)},dstPeer:{id:R.toBytes(),addrs:[r(g).bytes]}}}),p=T.encapsulate("/p2p-circuit/p2p/"+this.peerId.toB58String()),w=o({stream:y,remoteAddr:A,localAddr:p});return a("new outbound connection %s",w.remoteAddr),this._upgrader.upgradeOutbound(w)}catch(y){throw a.error("Circuit relay dial failed",y),S&&await M.close(),y}}createListener(A,B){return typeof A=="function"&&(B=A,A={}),this.handler=B,n(this,A)}filter(A){return(A=Array.isArray(A)?A:[A]).filter(B=>s.Circuit.matches(B))}},{className:"Circuit",symbolName:"@libp2p/js-libp2p-circuit/circuit"})},function(N,x,b){const s=b(14),r=w("dns4"),i=w("dns6"),f=w("dnsaddr"),c=p(w("dns"),f,r,i),t=p(w("ip4"),w("ip6")),a=p(y(t,w("tcp")),y(c,w("tcp"))),o=y(t,w("udp")),e=y(o,w("utp")),n=p(y(a,w("ws")),y(c,w("ws"))),h=p(y(a,w("wss")),y(c,w("wss"))),u=p(y(a,w("http")),y(t,w("http")),y(c,w("http"))),d=p(y(a,w("https")),y(t,w("https")),y(c,w("https"))),l=p(y(n,w("p2p-webrtc-star"),w("p2p")),y(h,w("p2p-webrtc-star"),w("p2p")),y(n,w("p2p-webrtc-star")),y(h,w("p2p-webrtc-star"))),m=p(y(n,w("p2p-websocket-star"),w("p2p")),y(h,w("p2p-websocket-star"),w("p2p")),y(n,w("p2p-websocket-star")),y(h,w("p2p-websocket-star"))),A=p(y(u,w("p2p-webrtc-direct")),y(d,w("p2p-webrtc-direct"))),B=p(n,h,u,d,l,A,a,e,c),k=p(y(B,w("p2p-stardust"),w("p2p")),y(B,w("p2p-stardust"))),T=p(y(B,w("p2p")),l,w("p2p")),g=p(y(T,w("p2p-circuit"),T),y(T,w("p2p-circuit")),y(w("p2p-circuit"),T),y(B,w("p2p-circuit")),y(w("p2p-circuit"),B),w("p2p-circuit")),E=()=>p(y(g,E),g),R=E(),S=p(y(R,T,R),y(T,R),y(R,T),R,T);function M(v){return function(_){if(!s.isMultiaddr(_))try{_=s(_)}catch(L){return!1}const C=v(_.protoNames());return C!==null&&C.length===0}}function y(){const v=Array.from(arguments);function _(C){return C.length<v.length?null:(v.some(L=>{if((C=typeof L=="function"?L().partialMatch(C):L.partialMatch(C))===null)return!0}),C)}return{toString:function(){return"{ "+v.join(" ")+" }"},input:v,matches:M(_),partialMatch:_}}function p(){const v=Array.from(arguments);function _(L){let O=null;return v.some(U=>{const q=typeof U=="function"?U().partialMatch(L):U.partialMatch(L);if(q)return O=q,!0}),O}const C={toString:function(){return"{ "+v.join(" ")+" }"},input:v,matches:M(_),partialMatch:_};return C}function w(v){const _=v;return{toString:function(){return _},matches:function(C){if(typeof C=="string")try{C=s(C)}catch(O){return!1}const L=C.protoNames();return L.length===1&&L[0]===_},partialMatch:function(C){return C.length===0?null:C[0]===_?C.slice(1):null}}}x.DNS=c,x.DNS4=r,x.DNS6=i,x.DNSADDR=f,x.IP=t,x.TCP=a,x.UDP=o,x.UTP=e,x.HTTP=u,x.HTTPS=d,x.WebSockets=n,x.WebSocketsSecure=h,x.WebSocketStar=m,x.WebRTCStar=l,x.WebRTCDirect=A,x.Reliable=B,x.Stardust=k,x.Circuit=R,x.P2P=S,x.IPFS=S},function(N,x,b){const s=b(376),r=b(2)("libp2p:stream:converter");N.exports=function({stream:i,remoteAddr:f,localAddr:c},t={}){const{sink:a,source:o}=i,e={async sink(h){t.signal&&(h=s(h,t.signal));try{await a(h)}catch(u){u.type!=="aborted"&&r(u)}n()},source:t.signal?s(o,t.signal):o,conn:i,localAddr:c,remoteAddr:f,timeline:{open:Date.now()},close(){a([]),n()}};function n(){e.timeline.close||(e.timeline.close=Date.now())}return e}},function(N,x,b){const s=b(377),r=b(378),i=(o,e,n)=>f(o,Array.isArray(e)?e:[{signal:e,options:n}]),f=(o,e)=>(o=s(o),e=e.map(({signal:n,options:h})=>({signal:n,options:h||{}})),async function*(){let n;const h=()=>{n&&n()};for(const{signal:u}of e)u.addEventListener("abort",h);for(;;){let u;try{for(const{signal:l,options:m}of e)if(l.aborted){const{abortMessage:A,abortCode:B}=m;throw new r(A,B)}const d=new Promise((l,m)=>{n=()=>{const{options:A}=e.find(({signal:T})=>T.aborted),{abortMessage:B,abortCode:k}=A;m(new r(B,k))}});u=await Promise.race([d,o.next()]),n=null}catch(d){for(const{signal:A}of e)A.removeEventListener("abort",h);const l=e.find(({signal:A})=>A.aborted),m=d.type==="aborted"&&l;if(m&&l.options.onAbort&&await l.options.onAbort(o),typeof o.return=="function"&&await o.return(),m&&l.options.returnOnAbort)return;throw d}if(u.done)break;yield u.value}for(const{signal:u}of e)u.removeEventListener("abort",h)}()),c=(o,e,n)=>t(o,Array.isArray(e)?e:[{signal:e,options:n}]),t=(o,e)=>n=>o(f(n,e)),a=(o,e)=>({sink:t(o.sink,e),source:f(o.source,e)});N.exports=i,N.exports.AbortError=r,N.exports.source=i,N.exports.sink=c,N.exports.transform=c,N.exports.duplex=(o,e,n)=>a(o,Array.isArray(e)?e:[{signal:e,options:n}])},function(N,x,b){N.exports=function(s){if(s){if(typeof s[Symbol.iterator]=="function")return s[Symbol.iterator]();if(typeof s[Symbol.asyncIterator]=="function")return s[Symbol.asyncIterator]();if(typeof s.next=="function")return s}throw new Error("argument is not an iterator or iterable")}},function(N,x,b){N.exports=class extends Error{constructor(s,r){super(s||"The operation was aborted"),this.type="aborted",this.code=r||"ABORT_ERR"}}},function(N,x,b){const s=b(16),r=b(14),i=b(2);i("libp2p:circuit:listener").err=i("libp2p:circuit:error:listener"),N.exports=f=>{const c=new s,t=new Map;return c.listen=async a=>{const o=String(a).split("/p2p-circuit").find(h=>h!==""),e=await f._dialer.connectToPeer(r(o)),n=e.remoteAddr.encapsulate("/p2p-circuit");t.set(e.remotePeer.toB58String(),n),c.emit("listening")},c.close=()=>{},c.getAddrs=()=>{const a=[];for(const o of t.values())a.push(o);return a},c}},function(N,x,b){const s=b(2),r=s("libp2p:circuit:hop");r.error=s("libp2p:circuit:hop:error");const i=b(8),{validateAddrs:f}=b(137),c=b(81),{CircuitRelay:t}=b(41),a=b(28),o=b(0),{codes:e}=b(10),{stop:n}=b(143),h=b(80);N.exports.handleHop=async function({connection:u,request:d,streamHandler:l,circuit:m}){if(!m._options.hop.enabled)return r("HOP request received but we are not acting as a relay"),l.end({type:t.Type.STATUS,code:t.Status.HOP_CANT_SPEAK_RELAY});try{f(d,l)}catch(E){return r.error("invalid hop request via peer %s",u.remotePeer.toB58String(),E)}const A=new i(d.dstPeer.id),B=m._connectionManager.get(A);if(!B&&!m._options.hop.active)return r("HOP request received but we are not connected to the destination peer"),l.end({type:t.Type.STATUS,code:t.Status.HOP_NO_CONN_TO_DST});const k={type:t.Type.STOP,dstPeer:d.dstPeer,srcPeer:d.srcPeer};let T;try{T=await n({connection:B,request:k,circuit:m})}catch(E){return r.error(E)}r("hop request from %s is valid",u.remotePeer.toB58String()),l.write({type:t.Type.STATUS,code:t.Status.SUCCESS});const g=l.rest();return a(g,T,g)},N.exports.hop=async function({connection:u,request:d}){const{stream:l}=await u.newStream([h.relay]),m=new c({stream:l});m.write(d);const A=await m.read();if(A.code===t.Status.SUCCESS)return r("hop request was successful"),m.rest();throw r("hop request failed with code %d, closing stream",A.code),m.close(),o(new Error("HOP request failed with code "+A.code),e.ERR_HOP_REQUEST_FAILED)},N.exports.handleCanHop=function({connection:u,streamHandler:d,circuit:l}){const m=l._options.hop.enabled;r("can hop (%s) request from %s",m,u.remotePeer.toB58String()),d.end({type:t.Type.STATUS,code:m?t.Status.SUCCESS:t.Status.HOP_CANT_SPEAK_RELAY})}},function(N,x,b){const{Buffer:s}=b(4),r=b(33),i=b(138);function f(c){c=c||{};const t=Math.max(c.poolSize||10240,c.minPoolSize||8),a=c.lengthEncoder||i;return o=>async function*(){let e=s.alloc(t),n=0;for await(const h of o){a(h.length,e,n);const u=e.slice(n,n+a.bytes);n+=a.bytes,e.length-n<8&&(e=s.alloc(t),n=0),yield new r().append(u).append(h)}}()}f.single=(c,t)=>{const a=(t=t||{}).lengthEncoder||i;return new r([a(c.length),c])},N.exports=f,N.exports.MIN_POOL_SIZE=8,N.exports.DEFAULT_POOL_SIZE=10240},function(N,x,b){const{Buffer:s}=b(4),r=b(33),i=b(139),f=s.alloc(0),c="readLength",t="readData",a={[c]:(e,n,h,u)=>{let d;n=n.append(e);try{d=u.lengthDecoder(n)}catch(l){if(n.length>u.maxLengthLength)throw Object.assign(l,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(l instanceof RangeError)return{mode:c,buffer:n};throw l}if(d>u.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=n.shallowSlice(u.lengthDecoder.bytes),n=new r,u.onLength&&u.onLength(d),d<=0?(u.onData&&u.onData(f),{mode:c,chunk:e,buffer:n,data:f}):{mode:t,chunk:e,buffer:n,state:{dataLength:d}}},[t]:(e,n,h,u)=>{if((n=n.append(e)).length<h.dataLength)return{mode:t,buffer:n,state:h};const{dataLength:d}=h,l=n.shallowSlice(0,d);return e=n.length>d?n.shallowSlice(d):null,n=new r,u.onData&&u.onData(l),{mode:c,chunk:e,buffer:n,data:l}}};function o(e){return(e=e||{}).lengthDecoder=e.lengthDecoder||i,e.maxLengthLength=e.maxLengthLength||8,e.maxDataLength=e.maxDataLength||4194304,n=>async function*(){let h,u=new r,d=c;for await(let l of n)for(;l;){const m=a[d](l,u,h,e);({mode:d,chunk:l,buffer:u,state:h}=m),m.data&&(yield m.data)}if(u.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}()}o.fromReader=(e,n)=>{n=n||{};let h=1;const u={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(h)}catch(d){if(d.code==="ERR_UNDER_READ")return{done:!0,value:null};throw d}finally{h=1}}};return n.onLength=d=>{h=d},o(n)(u)},N.exports=o,N.exports.MAX_LENGTH_LENGTH=8,N.exports.MAX_DATA_LENGTH=4194304},function(N,x,b){const{Buffer:s}=b(4),r=(i,f,c)=>((f=f||s.allocUnsafe(4)).writeInt32BE(i,c),f);r.bytes=4,N.exports=r},function(N,x,b){const s=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};s.bytes=4,N.exports=s},function(N,x,b){const s=b(141);N.exports=r=>{let i;typeof(r=r||{})=="function"?(i=r,r={}):i=r.onEnd;let f,c,t,a=new s;const o=u=>c?c(u):(a.push(u),f),e=u=>t?f:o({done:!1,value:u}),n=u=>t?f:(t=!0,u?(d=>(a=new s,c?c({error:d}):(a.push({error:d}),f)))(u):o({done:!0}));if(f={[Symbol.asyncIterator](){return this},next:()=>{if(!a.isEmpty()){if(r.writev){let d;const l=[];for(;!a.isEmpty();){if(d=a.shift(),d.error)throw d.error;l.push(d.value)}return{done:d.done,value:l}}const u=a.shift();if(u.error)throw u.error;return u}return t?{done:!0}:new Promise((u,d)=>{c=l=>(c=null,l.error?d(l.error):r.writev&&!l.done?u({done:l.done,value:[l.value]}):u(l),f)})},return:()=>(a=new s,n(),{done:!0}),throw:u=>(n(u),{done:!0}),push:e,end:n},!i)return f;const h=f;return f={[Symbol.asyncIterator](){return this},next:()=>h.next(),throw:u=>(h.throw(u),i&&(i(u),i=null),{done:!0}),return:()=>(h.return(),i&&(i(),i=null),{done:!0}),push:e,end:u=>(h.end(u),i&&(i(u),i=null),f)},f}},function(N,x,b){N.exports=class{constructor(s){if(!(s>0)||(s-1&s)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(s),this.mask=s-1,this.top=0,this.btm=0,this.next=null}push(s){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=s,this.top=this.top+1&this.mask,!0)}shift(){const s=this.buffer[this.btm];if(s!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,s}isEmpty(){return this.buffer[this.btm]===void 0}}},function(N,x,b){const s=b(14),r=b(0),i=b(388),f=b(145),c=b(2),t=c("libp2p:dialer");t.error=c("libp2p:dialer:error");const{DialRequest:a}=b(390),o=b(130),{codes:e}=b(10),{DIAL_TIMEOUT:n,MAX_PARALLEL_DIALS:h,MAX_PER_PEER_DIALS:u}=b(78);N.exports=class{constructor({transportManager:d,peerStore:l,concurrency:m=h,timeout:A=n,perPeerLimit:B=u,resolvers:k={}}){this.transportManager=d,this.peerStore=l,this.concurrency=m,this.timeout=A,this.perPeerLimit=B,this.tokens=[...new Array(m)].map((T,g)=>g),this._pendingDials=new Map;for(const[T,g]of Object.entries(k))s.resolvers.set(T,g)}destroy(){for(const d of this._pendingDials.values())try{d.controller.abort()}catch(l){t.error(l)}this._pendingDials.clear()}async connectToPeer(d,l={}){const m=await this._createDialTarget(d);if(!m.addrs.length)throw r(new Error("The dial request has no addresses"),e.ERR_NO_VALID_ADDRESSES);const A=this._pendingDials.get(m.id)||this._createPendingDial(m,l);try{const B=await A.promise;return t("dial succeeded to %s",m.id),B}catch(B){throw A.controller.signal.aborted&&(B.code=e.ERR_TIMEOUT),t.error(B),B}finally{A.destroy()}}async _createDialTarget(d){const{id:l,multiaddrs:m}=o(d);m&&this.peerStore.addressBook.add(l,m);let A=this.peerStore.addressBook.getMultiaddrsForPeer(l)||[];s.isMultiaddr(d)&&(A=A.filter(k=>!d.equals(k)),A.unshift(d));const B=[];for(const k of A)(await this._resolve(k)).forEach(T=>B.push(T));return{id:l.toB58String(),addrs:B}}_createPendingDial(d,l){const m=new a({addrs:d.addrs,dialAction:(g,E)=>{if(E.signal.aborted)throw r(new Error("already aborted"),e.ERR_ALREADY_ABORTED);return this.transportManager.dial(g,E)},dialer:this}),A=new i(this.timeout),B=[A.signal];l.signal&&B.push(l.signal);const k=f(B),T={dialRequest:m,controller:A,promise:m.run({...l,signal:k}),destroy:()=>{A.clear(),this._pendingDials.delete(d.id)}};return this._pendingDials.set(d.id,T),T}getTokens(d){const l=Math.min(d,this.perPeerLimit,this.tokens.length),m=this.tokens.splice(0,l);return t("%d tokens request, returning %d, %d remaining",d,l,this.tokens.length),m}releaseToken(d){this.tokens.indexOf(d)>-1||(t("token %d released",d),this.tokens.push(d))}async _resolve(d){if(!d.protoNames().includes("dnsaddr"))return[d];const l=await this._resolveRecord(d);return(await Promise.all(l.map(m=>this._resolve(m)))).flat().reduce((m,A)=>(m.find(B=>B.equals(A))||m.push(A),m),[])}async _resolveRecord(d){try{return d=s(d.toString()),await d.resolve()}catch(l){return t.error(`multiaddr ${d} could not be resolved`),[]}}}},function(N,x,b){const{AbortController:s}=typeof self!="undefined"?self:typeof window!="undefined"?window:b(144),r=b(79);class i extends s{constructor(f){super(),this._ms=f,this._timer=r(()=>this.abort(),f),Object.setPrototypeOf(this,i.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=r(()=>this.abort(),this._ms)}}N.exports=i,N.exports.TimeoutController=i},function(N,x,b){N.exports=AbortController},function(N,x,b){const s=b(144),r=b(145),i=b(2),f=b(0);i("libp2p:dialer:request").error=i("libp2p:dialer:request:error");const c=b(391),t=b(77);N.exports.DialRequest=class{constructor({addrs:a,dialAction:o,dialer:e}){this.addrs=a,this.dialer=e,this.dialAction=o}async run(a){const o=this.dialer.getTokens(this.addrs.length);if(o.length<1)throw f(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");const e=new c;o.forEach(u=>e.push(u));const n=this.addrs.map(()=>new s);let h=0;try{return await t(this.addrs.map(async(u,d)=>{const l=await e.shift();let m;try{const A=n[d].signal;m=await this.dialAction(u,{...a,signal:r([A,a.signal])}),n.splice(d,1)}finally{h++,this.addrs.length-h>=o.length?e.push(l):this.dialer.releaseToken(o.splice(o.indexOf(l),1)[0])}return m}))}finally{n.map(u=>u.abort()),o.forEach(u=>this.dialer.releaseToken(u))}}}},function(N,x,b){const s=b(141),r=b(142);N.exports=class{constructor(){this._buffer=new s,this._waitingConsumers=new s}push(i){const{promise:f,resolve:c}=r();return this._buffer.push({chunk:i,resolve:c}),this._consume(),f}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){const i=this._waitingConsumers.shift(),f=this._buffer.shift();i.resolve(f.chunk),f.resolve()}}shift(){const{promise:i,resolve:f}=r();return this._waitingConsumers.push({resolve:f}),this._consume(),i}isEmpty(){return this._buffer.isEmpty()}}},function(N,x,b){const s=b(393),r=b(40),i=b(146),f=b(22),c=b(401),t=b(0),{Number:a}=b(76),o=b(5),e=b(6);b(70);const n=14,h=16,u=1e3,d={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function l(k){return!!k&&typeof k=="string"&&k===s(k.trim())}async function m(k){const T=800*Math.random()+200;throw await new Promise(g=>setTimeout(g,T)),k}function A(k){return new f.Key("/pkcs8/"+k)}function B(k){return new f.Key("/info/"+k)}N.exports=class{constructor(k,T){if(!k)throw new Error("store is required");if(this.store=k,this.opts=r(d,T),this.opts.passPhrase&&this.opts.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(this.opts.dek.keyLength<n)throw new Error(`dek.keyLength must be least ${n} bytes`);if(this.opts.dek.salt.length<h)throw new Error(`dek.saltLength must be least ${h} bytes`);if(this.opts.dek.iterationCount<u)throw new Error("dek.iterationCount must be least "+u);const g=this.opts.passPhrase?i.pbkdf2(this.opts.passPhrase,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";Object.defineProperty(this,"_",{value:()=>g})}get cms(){return new c(this)}static generateOptions(){const k=Object.assign({},d),T=3*Math.ceil(h/3);return k.dek.salt=o(i.randomBytes(T),"base64"),k}static get options(){return d}async createKey(k,T,g){const E=this;if(!l(k)||k==="self")return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));if(typeof T!="string")return m(t(new Error(`Invalid key type '${T}'`),"ERR_INVALID_KEY_TYPE"));const R=A(k);if(await E.store.has(R))return m(t(new Error(`Key '${k}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(T.toLowerCase()){case"rsa":if(!a.isSafeInteger(g)||g<2048)return m(t(new Error("Invalid RSA key size "+g),"ERR_INVALID_KEY_SIZE"))}let S;try{const M=await i.keys.generateKeyPair(T,g),y=await M.id(),p=await M.export(this._());S={name:k,id:y};const w=E.store.batch();w.put(R,e(p)),w.put(B(k),e(JSON.stringify(S))),await w.commit()}catch(M){return m(M)}return S}async listKeys(){const k=this,T={prefix:"/info/"},g=[];for await(const E of k.store.query(T))g.push(JSON.parse(o(E.value)));return g}async findKeyById(k){try{return(await this.listKeys()).find(T=>T.id===k)}catch(T){return m(T)}}async findKeyByName(k){if(!l(k))return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));const T=B(k);try{const g=await this.store.get(T);return JSON.parse(o(g))}catch(g){return m(t(new Error(`Key '${k}' does not exist. ${g.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(k){if(!l(k)||k==="self")return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));const T=A(k),g=await this.findKeyByName(k),E=this.store.batch();return E.delete(T),E.delete(B(k)),await E.commit(),g}async renameKey(k,T){const g=this;if(!l(k)||k==="self")return m(t(new Error(`Invalid old key name '${k}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!l(T)||T==="self")return m(t(new Error(`Invalid new key name '${T}'`),"ERR_NEW_KEY_NAME_INVALID"));const E=A(k),R=A(T),S=B(k),M=B(T);if(await g.store.has(R))return m(t(new Error(`Key '${T}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const y=await g.store.get(E),p=await g.store.get(S),w=JSON.parse(o(p));w.name=T;const v=g.store.batch();return v.put(R,y),v.put(M,e(JSON.stringify(w))),v.delete(E),v.delete(S),await v.commit(),w}catch(y){return m(y)}}async exportKey(k,T){if(!l(k))return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));if(!T)return m(t(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const g=A(k);try{const E=await this.store.get(g),R=o(E);return(await i.keys.import(R,this._())).export(T)}catch(E){return m(E)}}async importKey(k,T,g){if(!l(k)||k==="self")return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));if(!T)return m(t(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));const E=A(k);if(await this.store.has(E))return m(t(new Error(`Key '${k}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let R,S;try{R=await i.keys.import(T,g)}catch(p){return m(t(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}try{S=await R.id(),T=await R.export(this._())}catch(p){return m(p)}const M={name:k,id:S},y=this.store.batch();return y.put(E,e(T)),y.put(B(k),e(JSON.stringify(M))),await y.commit(),M}async importPeer(k,T){const g=this;if(!l(k))return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));if(!T||!T.privKey)return m(t(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const E=T.privKey,R=A(k);if(await g.store.has(R))return m(t(new Error(`Key '${k}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const S=await E.id(),M=await E.export(this._()),y={name:k,id:S},p=g.store.batch();return p.put(R,e(M)),p.put(B(k),e(JSON.stringify(y))),await p.commit(),y}catch(S){return m(S)}}async _getPrivateKey(k){if(!l(k))return m(t(new Error(`Invalid key name '${k}'`),"ERR_INVALID_KEY_NAME"));try{const T=A(k),g=await this.store.get(T);return o(g)}catch(T){return m(t(new Error(`Key '${k}' does not exist. ${T.message}`),"ERR_KEY_NOT_FOUND"))}}}},function(N,x,b){var s=b(394),r=/[\/\?<>\\:\*\|"]/g,i=/[\x00-\x1f\x80-\x9f]/g,f=/^\.+$/,c=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,t=/[\. ]+$/;function a(o,e){if(typeof o!="string")throw new Error("Input must be string");var n=o.replace(r,e).replace(i,e).replace(f,e).replace(c,e).replace(t,e);return s(n,255)}N.exports=function(o,e){var n=e&&e.replacement||"",h=a(o,n);return n===""?h:a(h,"")}},function(N,x,b){var s=b(395),r=b(396);N.exports=s.bind(null,r)},function(N,x,b){function s(i){return i>=55296&&i<=56319}function r(i){return i>=56320&&i<=57343}N.exports=function(i,f,c){if(typeof f!="string")throw new Error("Input must be string");for(var t,a,o=f.length,e=0,n=0;n<o;n+=1){if(t=f.charCodeAt(n),a=f[n],s(t)&&r(f.charCodeAt(n+1))&&(a+=f[n+=1]),(e+=i(a))===c)return f.slice(0,n+1);if(e>c)return f.slice(0,n-a.length+1)}return f}},function(N,x,b){function s(i){return i>=55296&&i<=56319}function r(i){return i>=56320&&i<=57343}N.exports=function(i){if(typeof i!="string")throw new Error("Input must be string");for(var f=i.length,c=0,t=null,a=null,o=0;o<f;o++)r(t=i.charCodeAt(o))?a!=null&&s(a)?c+=1:c+=3:t<=127?c+=1:t>=128&&t<=2047?c+=2:t>=2048&&t<=65535&&(c+=3),a=t;return c}},function(N,x,b){const s=b(398),r=b(399);x.create=async function(i,f){const c=r(i),t=s.createCipheriv(c,i,f),a=s.createDecipheriv(c,i,f);return{encrypt:async o=>t.update(o),decrypt:async o=>a.update(o)}}},function(N,x,b){b(38);const s=b(1),r=b(5),i=b(6);N.exports={createCipheriv:(f,c,t)=>{const a=s.cipher.createCipher("AES-CTR",r(c,"ascii"));return a.start({iv:r(t,"ascii")}),{update:o=>(a.update(s.util.createBuffer(r(o,"ascii"))),i(a.output.getBytes(),"ascii"))}},createDecipheriv:(f,c,t)=>{const a=s.cipher.createDecipher("AES-CTR",r(c,"ascii"));return a.start({iv:r(t,"ascii")}),{update:o=>(a.update(s.util.createBuffer(r(o,"ascii"))),i(a.output.getBytes(),"ascii"))}}}},function(N,x,b){const s=b(0),r={16:"aes-128-ctr",32:"aes-256-ctr"};N.exports=function(i){const f=r[i.length];if(!f){const c=Object.entries(r).map(([t,a])=>`${t} (${a})`).join(" / ");throw s(new Error(`Invalid key length ${i.length} bytes. Must be ${c}`),"ERR_INVALID_KEY_LENGTH")}return f}},function(N,x,b){const s=b(119),r=b(3),i=b(0),f={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};N.exports=function(c,t,a,o,e){const n=f[e];if(!n){const u=Object.keys(f).join(" / ");throw i(new Error(`Hash '${e}' is unknown or not supported. Must be ${u}`),"ERR_UNSUPPORTED_HASH_TYPE")}const h=s(c,t,a,o,n);return r.encode64(h)}},function(N,x,b){b(402),b(116);const s=b(1),{certificateForKey:r,findAsync:i}=b(407),f=b(0),c=b(6),t=b(5);N.exports=class{constructor(a){if(!a)throw f(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=a}async encrypt(a,o){if(!(o instanceof Uint8Array))throw f(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");const e=await this.keychain.findKeyByName(a),n=await this.keychain._getPrivateKey(a),h=s.pki.decryptRsaPrivateKey(n,this.keychain._()),u=await r(e,h),d=s.pkcs7.createEnvelopedData();d.addRecipient(u),d.content=s.util.createBuffer(o),d.encrypt();const l=s.asn1.toDer(d.toAsn1()).getBytes();return c(l,"ascii")}async decrypt(a){if(!(a instanceof Uint8Array))throw f(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let o;try{const l=s.util.createBuffer(t(a,"ascii")),m=s.asn1.fromDer(l);o=s.pkcs7.messageFromAsn1(m)}catch(l){throw f(new Error("Invalid CMS: "+l.message),"ERR_INVALID_CMS")}const e=o.recipients.filter(l=>l.issuer.find(m=>m.shortName==="O"&&m.value==="ipfs")).filter(l=>l.issuer.find(m=>m.shortName==="CN")).map(l=>({recipient:l,keyId:l.issuer.find(m=>m.shortName==="CN").value})),n=await i(e,async l=>{try{if(await this.keychain.findKeyById(l.keyId))return!0}catch(m){return!1}return!1});if(!n){const l=e.map(m=>m.keyId);throw f(new Error("Decryption needs one of the key(s): "+l.join(", ")),"ERR_MISSING_KEYS",{missingKeys:l})}const h=await this.keychain.findKeyById(n.keyId),u=await this.keychain._getPrivateKey(h.name),d=s.pki.decryptRsaPrivateKey(u,this.keychain._());return o.decrypt(n.recipient,d),c(o.content.getBytes(),"ascii")}}},function(N,x,b){var s=b(1);b(38),b(23),b(67),b(37),b(69),b(403),b(26),b(3),b(147);var r=s.asn1,i=N.exports=s.pkcs7=s.pkcs7||{};function f(n){var h={},u=[];if(!r.validate(n,i.asn1.recipientInfoValidator,h,u)){var d=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw d.errors=u,d}return{version:h.version.charCodeAt(0),issuer:s.pki.RDNAttributesAsArray(h.issuer),serialNumber:s.util.createBuffer(h.serial).toHex(),encryptedContent:{algorithm:r.derToOid(h.encAlgorithm),parameter:h.encParameter.value,content:h.encKey}}}function c(n){for(var h,u=[],d=0;d<n.length;++d)u.push((h=n[d],r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[s.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.encryptedContent.content)])));return u}function t(n){var h=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[s.pki.distinguishedNameToAsn1({attributes:n.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(n.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(n.authenticatedAttributesAsn1&&h.value.push(n.authenticatedAttributesAsn1),h.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),h.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n.signature)),n.unauthenticatedAttributes.length>0){for(var u=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),d=0;d<n.unauthenticatedAttributes.length;++d){var l=n.unauthenticatedAttributes[d];u.values.push(a(l))}h.value.push(u)}return h}function a(n){var h;if(n.type===s.pki.oids.contentType)h=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.value).getBytes());else if(n.type===s.pki.oids.messageDigest)h=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n.value.bytes());else if(n.type===s.pki.oids.signingTime){var u=new Date("1950-01-01T00:00:00Z"),d=new Date("2050-01-01T00:00:00Z"),l=n.value;if(typeof l=="string"){var m=Date.parse(l);l=isNaN(m)?l.length===13?r.utcTimeToDate(l):r.generalizedTimeToDate(l):new Date(m)}h=l>=u&&l<d?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(l)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(l))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[h])])}function o(n,h,u){var d={};if(!r.validate(h,u,d,[])){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}if(r.derToOid(d.contentType)!==s.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(d.encryptedContent){var m="";if(s.util.isArray(d.encryptedContent))for(var A=0;A<d.encryptedContent.length;++A){if(d.encryptedContent[A].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");m+=d.encryptedContent[A].value}else m=d.encryptedContent;n.encryptedContent={algorithm:r.derToOid(d.encAlgorithm),parameter:s.util.createBuffer(d.encParameter.value),content:s.util.createBuffer(m)}}if(d.content){if(m="",s.util.isArray(d.content))for(A=0;A<d.content.length;++A){if(d.content[A].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");m+=d.content[A].value}else m=d.content;n.content=s.util.createBuffer(m)}return n.version=d.version.charCodeAt(0),n.rawCapture=d,d}function e(n){if(n.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(n.content===void 0){var h;switch(n.encryptedContent.algorithm){case s.pki.oids["aes128-CBC"]:case s.pki.oids["aes192-CBC"]:case s.pki.oids["aes256-CBC"]:h=s.aes.createDecryptionCipher(n.encryptedContent.key);break;case s.pki.oids.desCBC:case s.pki.oids["des-EDE3-CBC"]:h=s.des.createDecryptionCipher(n.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+n.encryptedContent.algorithm)}if(h.start(n.encryptedContent.parameter),h.update(n.encryptedContent.content),!h.finish())throw new Error("Symmetric decryption failed.");n.content=h.output}}i.messageFromPem=function(n){var h=s.pem.decode(n)[0];if(h.type!=="PKCS7"){var u=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw u.headerType=h.type,u}if(h.procType&&h.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var d=r.fromDer(h.body);return i.messageFromAsn1(d)},i.messageToPem=function(n,h){var u={type:"PKCS7",body:r.toDer(n.toAsn1()).getBytes()};return s.pem.encode(u,{maxline:h})},i.messageFromAsn1=function(n){var h={},u=[];if(!r.validate(n,i.asn1.contentInfoValidator,h,u)){var d=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw d.errors=u,d}var l,m=r.derToOid(h.contentType);switch(m){case s.pki.oids.envelopedData:l=i.createEnvelopedData();break;case s.pki.oids.encryptedData:l=i.createEncryptedData();break;case s.pki.oids.signedData:l=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+m+" is not (yet) supported.")}return l.fromAsn1(h.content.value[0]),l},i.createSignedData=function(){var n=null;return n={type:s.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(h){if(o(n,h,i.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[],n.rawCapture.certificates)for(var u=n.rawCapture.certificates.value,d=0;d<u.length;++d)n.certificates.push(s.pki.certificateFromAsn1(u[d]))},toAsn1:function(){n.contentInfo||n.sign();for(var h=[],u=0;u<n.certificates.length;++u)h.push(s.pki.certificateToAsn1(n.certificates[u]));var d=[],l=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return h.length>0&&l.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,h)),d.length>0&&l.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,d)),l.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,n.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),l])},addSigner:function(h){var u=h.issuer,d=h.serialNumber;if(h.certificate){var l=h.certificate;typeof l=="string"&&(l=s.pki.certificateFromPem(l)),u=l.issuer.attributes,d=l.serialNumber}var m=h.key;if(!m)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof m=="string"&&(m=s.pki.privateKeyFromPem(m));var A=h.digestAlgorithm||s.pki.oids.sha1;switch(A){case s.pki.oids.sha1:case s.pki.oids.sha256:case s.pki.oids.sha384:case s.pki.oids.sha512:case s.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+A)}var B=h.authenticatedAttributes||[];if(B.length>0){for(var k=!1,T=!1,g=0;g<B.length;++g){var E=B[g];if(k||E.type!==s.pki.oids.contentType){if(!(T||E.type!==s.pki.oids.messageDigest)){if(T=!0,k)break}}else if(k=!0,T)break}if(!k||!T)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:m,version:1,issuer:u,serialNumber:d,digestAlgorithm:A,signatureAlgorithm:s.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:B,unauthenticatedAttributes:[]})},sign:function(h){var u;(h=h||{},typeof n.content!="object"||n.contentInfo===null)&&(n.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pki.oids.data).getBytes())]),"content"in n&&(n.content instanceof s.util.ByteBuffer?u=n.content.bytes():typeof n.content=="string"&&(u=s.util.encodeUtf8(n.content)),h.detached?n.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,u):n.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,u)])))),n.signers.length!==0&&function(d){var l;if(l=n.detachedContent?n.detachedContent:(l=n.contentInfo.value[1]).value[0],!l)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var m=r.derToOid(n.contentInfo.value[0].value),A=r.toDer(l);for(var B in A.getByte(),r.getBerValueLength(A),A=A.getBytes(),d)d[B].start().update(A);for(var k=new Date,T=0;T<n.signers.length;++T){var g=n.signers[T];if(g.authenticatedAttributes.length===0){if(m!==s.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{g.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),R=0;R<g.authenticatedAttributes.length;++R){var S=g.authenticatedAttributes[R];S.type===s.pki.oids.messageDigest?S.value=d[g.digestAlgorithm].digest():S.type===s.pki.oids.signingTime&&(S.value||(S.value=k)),E.value.push(a(S)),g.authenticatedAttributesAsn1.value.push(a(S))}A=r.toDer(E).getBytes(),g.md.start().update(A)}g.signature=g.key.sign(g.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=function(M){for(var y=[],p=0;p<M.length;++p)y.push(t(M[p]));return y}(n.signers)}(function(){for(var d={},l=0;l<n.signers.length;++l){var m=n.signers[l];(A=m.digestAlgorithm)in d||(d[A]=s.md[s.pki.oids[A]].create()),m.authenticatedAttributes.length===0?m.md=d[A]:m.md=s.md[s.pki.oids[A]].create()}for(var A in n.digestAlgorithmIdentifiers=[],d)n.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(A).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return d}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(h){typeof h=="string"&&(h=s.pki.certificateFromPem(h)),n.certificates.push(h)},addCertificateRevokationList:function(h){throw new Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var n=null;return n={type:s.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:s.pki.oids["aes256-CBC"]},fromAsn1:function(h){o(n,h,i.asn1.encryptedDataValidator)},decrypt:function(h){h!==void 0&&(n.encryptedContent.key=h),e(n)}}},i.createEnvelopedData=function(){var n=null;return n={type:s.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:s.pki.oids["aes256-CBC"]},fromAsn1:function(h){var u=o(n,h,i.asn1.envelopedDataValidator);n.recipients=function(d){for(var l=[],m=0;m<d.length;++m)l.push(f(d[m]));return l}(u.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,c(n.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,(h=n.encryptedContent,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.parameter.getBytes())]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.content.getBytes())])]))])])]);var h},findRecipient:function(h){for(var u=h.issuer.attributes,d=0;d<n.recipients.length;++d){var l=n.recipients[d],m=l.issuer;if(l.serialNumber===h.serialNumber&&m.length===u.length){for(var A=!0,B=0;B<u.length;++B)if(m[B].type!==u[B].type||m[B].value!==u[B].value){A=!1;break}if(A)return l}}return null},decrypt:function(h,u){if(n.encryptedContent.key===void 0&&h!==void 0&&u!==void 0)switch(h.encryptedContent.algorithm){case s.pki.oids.rsaEncryption:case s.pki.oids.desCBC:var d=u.decrypt(h.encryptedContent.content);n.encryptedContent.key=s.util.createBuffer(d);break;default:throw new Error("Unsupported asymmetric cipher, OID "+h.encryptedContent.algorithm)}e(n)},addRecipient:function(h){n.recipients.push({version:0,issuer:h.issuer.attributes,serialNumber:h.serialNumber,encryptedContent:{algorithm:s.pki.oids.rsaEncryption,key:h.publicKey}})},encrypt:function(h,u){if(n.encryptedContent.content===void 0){var d,l,m;switch(u=u||n.encryptedContent.algorithm,h=h||n.encryptedContent.key,u){case s.pki.oids["aes128-CBC"]:d=16,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["aes192-CBC"]:d=24,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["aes256-CBC"]:d=32,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["des-EDE3-CBC"]:d=24,l=8,m=s.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+u)}if(h===void 0)h=s.util.createBuffer(s.random.getBytes(d));else if(h.length()!=d)throw new Error("Symmetric key has wrong length; got "+h.length()+" bytes, expected "+d+".");n.encryptedContent.algorithm=u,n.encryptedContent.key=h,n.encryptedContent.parameter=s.util.createBuffer(s.random.getBytes(l));var A=m(h);if(A.start(n.encryptedContent.parameter.copy()),A.update(n.content),!A.finish())throw new Error("Symmetric encryption failed.");n.encryptedContent.content=A.output}for(var B=0;B<n.recipients.length;++B){var k=n.recipients[B];if(k.encryptedContent.content===void 0)switch(k.encryptedContent.algorithm){case s.pki.oids.rsaEncryption:k.encryptedContent.content=k.encryptedContent.key.encrypt(n.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+k.encryptedContent.algorithm)}}}}}},function(N,x,b){var s=b(1);b(23),b(3);var r=s.asn1,i=N.exports=s.pkcs7asn1=s.pkcs7asn1||{};s.pkcs7=s.pkcs7||{},s.pkcs7.asn1=i;var f={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=f;var c={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(c)},i.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(c)};var t={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},f,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[t]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(N,x,b){var s=b(1);b(405),N.exports=s.mgf=s.mgf||{},s.mgf.mgf1=s.mgf1},function(N,x,b){var s=b(1);b(3),s.mgf=s.mgf||{},(N.exports=s.mgf.mgf1=s.mgf1=s.mgf1||{}).create=function(r){return{generate:function(i,f){for(var c=new s.util.ByteBuffer,t=Math.ceil(f/r.digestLength),a=0;a<t;a++){var o=new s.util.ByteBuffer;o.putInt32(a),r.start(),r.update(i+o.getBytes()),c.putBuffer(r.digest())}return c.truncate(c.length()-f),c.getBytes()}}}},function(N,x,b){var s=b(1);b(26),b(3),(N.exports=s.pss=s.pss||{}).create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var i,f=r.md,c=r.mgf,t=f.digestLength,a=r.salt||null;if(typeof a=="string"&&(a=s.util.createBuffer(a)),"saltLength"in r)i=r.saltLength;else{if(a===null)throw new Error("Salt length not specified or specific salt not given.");i=a.length()}if(a!==null&&a.length()!==i)throw new Error("Given salt length does not match length of given salt.");var o=r.prng||s.random,e={encode:function(n,h){var u,d,l=h-1,m=Math.ceil(l/8),A=n.digest().getBytes();if(m<t+i+2)throw new Error("Message is too long to encrypt.");d=a===null?o.getBytesSync(i):a.bytes();var B=new s.util.ByteBuffer;B.fillWithByte(0,8),B.putBytes(A),B.putBytes(d),f.start(),f.update(B.getBytes());var k=f.digest().getBytes(),T=new s.util.ByteBuffer;T.fillWithByte(0,m-i-t-2),T.putByte(1),T.putBytes(d);var g=T.getBytes(),E=m-t-1,R=c.generate(k,E),S="";for(u=0;u<E;u++)S+=String.fromCharCode(g.charCodeAt(u)^R.charCodeAt(u));var M=65280>>8*m-l&255;return(S=String.fromCharCode(S.charCodeAt(0)&~M)+S.substr(1))+k+String.fromCharCode(188)},verify:function(n,h,u){var d,l=u-1,m=Math.ceil(l/8);if(h=h.substr(-m),m<t+i+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(h.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=m-t-1,B=h.substr(0,A),k=h.substr(A,t),T=65280>>8*m-l&255;if((B.charCodeAt(0)&T)!=0)throw new Error("Bits beyond keysize not zero as expected.");var g=c.generate(k,A),E="";for(d=0;d<A;d++)E+=String.fromCharCode(B.charCodeAt(d)^g.charCodeAt(d));E=String.fromCharCode(E.charCodeAt(0)&~T)+E.substr(1);var R=m-t-i-2;for(d=0;d<R;d++)if(E.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(E.charCodeAt(R)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var S=E.substr(-i),M=new s.util.ByteBuffer;return M.fillWithByte(0,8),M.putBytes(n),M.putBytes(S),f.start(),f.update(M.getBytes()),k===f.digest().getBytes()}};return e}},function(N,x,b){b(147);const s=b(1).pki;N.exports.certificateForKey=(r,i)=>{const f=s.setRsaPublicKey(i.n,i.e),c=s.createCertificate();c.publicKey=f,c.serialNumber="01",c.validity.notBefore=new Date,c.validity.notAfter=new Date,c.validity.notAfter.setFullYear(c.validity.notBefore.getFullYear()+10);const t=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:r.id}];return c.setSubject(t),c.setIssuer(t),c.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),c.sign(i),c},N.exports.findAsync=async function(r,i){const f=r.map(i);return r[(await Promise.all(f)).findIndex(c=>c)]}},function(N,x,b){const s=b(40),r=b(28),{tap:i}=b(82),f=b(409),{METRICS:c}=b(78),t=b(411),a=["dataReceived","dataSent"],o={in:"dataReceived",out:"dataSent"};class e{constructor(n){this._options=s(c,n),this._globalStats=new t(a,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=f(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=n.connectionManager,this._connectionManager.on("peer:disconnect",h=>{this.onPeerDisconnected(h.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(const n of this._peerStats.values())n.stop();for(const n of this._protocolStats.values())n.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(n){const h=n.toB58String();return this._peerStats.get(h)||this._oldPeers.get(h)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(n){return this._protocolStats.get(n)}onPeerDisconnected(n){const h=n.toB58String(),u=this._peerStats.get(h);u&&(u.stop(),this._peerStats.delete(h),this._oldPeers.set(h,u))}_onMessage({remotePeer:n,protocol:h,direction:u,dataLength:d}){if(!this._running)return;const l=o[u];let m=this.forPeer(n);if(m||(m=new t(a,this._options),this._peerStats.set(n.toB58String(),m)),m.push(l,d),this._globalStats.push(l,d),h){let A=this.forProtocol(h);A||(A=new t(a,this._options),this._protocolStats.set(h,A)),A.push(l,d)}}updatePlaceholder(n,h){if(!this._running)return;const u=this.forPeer(n),d=h.toB58String(),l=this.forPeer(h);let m=u;l&&(m=e.mergeStats(l,m),this._oldPeers.delete(d)),this._peerStats.delete(n.toB58String()),this._peerStats.set(d,m),m.start()}trackStream({stream:n,remotePeer:h,protocol:u}){const d=this,l=n.source;n.source=i(A=>d._onMessage({remotePeer:h,protocol:u,direction:"in",dataLength:A.length}))(l);const m=n.sink;return n.sink=A=>r(A,i(B=>d._onMessage({remotePeer:h,protocol:u,direction:"out",dataLength:B.length})),m),n}static mergeStats(n,h){return n.stop(),h.stop(),n._queue=[...n._queue,...h._queue],n}}N.exports=e},function(N,x,b){const s=b(410);N.exports=r=>{const i=s(r);return i.delete=i.remove,i}},function(N,x,b){N.exports=function(s){if(!s)throw Error("hashlru must have a max value, of type number, greater than 0");var r=0,i=Object.create(null),f=Object.create(null);function c(t,a){i[t]=a,++r>=s&&(r=0,f=i,i=Object.create(null))}return{has:function(t){return i[t]!==void 0||f[t]!==void 0},remove:function(t){i[t]!==void 0&&(i[t]=void 0),f[t]!==void 0&&(f[t]=void 0)},get:function(t){var a=i[t];return a!==void 0?a:(a=f[t])!==void 0?(c(t,a),a):void 0},set:function(t,a){i[t]!==void 0?i[t]=a:c(t,a)},clear:function(){i=Object.create(null),f=Object.create(null)}}}},function(N,x,b){const s=b(16),r=b(87),i=b(412),f=b(79);N.exports=class extends s{constructor(c,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const a=this._options.movingAverageIntervals;for(var o=0;o<c.length;o++){var e=c[o];this._stats[e]=r(0),this._movingAverages[e]={};for(var n=0;n<a.length;n++){var h=a[n];(this._movingAverages[e][h]=i(h)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){const c=this.snapshot,t=this.movingAverages,a={dataReceived:c.dataReceived.toString(),dataSent:c.dataSent.toString(),movingAverages:{}},o=Object.keys(t);for(const e of o){a.movingAverages[e]={};for(const n of Object.keys(t[e]))a.movingAverages[e][n]=t[e][n].movingAverage()}return a}push(c,t){this._queue.push([c,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=f(this._update,this._nextTimeout())}_nextTimeout(){const c=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-c),0)}_update(){if(this._timeout=null,this._queue.length){let c;for(c of this._queue)this._applyOp(c);this._queue=[],this._updateFrequency(c[2]),this.emit("update",this._stats)}}_updateFrequency(c){const t=c-this._frequencyLastTime;Object.keys(this._stats).forEach(a=>{this._updateFrequencyFor(a,t,c)}),this._frequencyLastTime=c}_updateFrequencyFor(c,t,a){const o=this._frequencyAccumulators[c]||0;this._frequencyAccumulators[c]=0;const e=o/(t||1)*1e3;let n=this._movingAverages[c];n||(n=this._movingAverages[c]={});const h=this._options.movingAverageIntervals;for(var u=0;u<h.length;u++){var d=h[u],l=n[d];l||(l=n[d]=i(d)),l.push(a,e)}}_applyOp(c){const t=c[0],a=c[1];if(typeof a!="number")throw new Error("invalid increment number:",a);let o;o=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=r(0),this._stats[t]=o.plus(a),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=a}}},function(N,x,b){const s=Math.exp;N.exports=function(r){if(typeof r!="number")throw new Error("must provide a timespan to the moving average constructor");if(r<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let i,f,c=0,t=0,a=0,o={};return o.push=function(e,n){if(f){const h=1-s(-(e-f)/r),u=n-i;i=h*n+(1-h)*i,c=(1-h)*(c+u*(h*u)),t=Math.sqrt(c),a=i+h*u}else i=n;f=e},o.movingAverage=function(){return i},o.variance=function(){return c},o.deviation=function(){return t},o.forecast=function(){return a},o}},function(N,x,b){const s=b(2),r=s("libp2p:upgrader");r.error=s("libp2p:upgrader:error");const i=b(414),{Connection:f}=b(418),c=b(149),t=b(8),a=b(28),o=b(0),e=b(420),{codes:n}=b(10);N.exports=class{constructor({localPeer:h,metrics:u,cryptos:d,muxers:l,onConnectionEnd:m=()=>{},onConnection:A=()=>{}}){this.localPeer=h,this.metrics=u,this.cryptos=d||new Map,this.muxers=l||new Map,this.protector=null,this.protocols=new Map,this.onConnection=A,this.onConnectionEnd=m}async upgradeInbound(h){let u,d,l,m,A,B,k;if(this.metrics){({setTarget:B,proxy:k}=e());const g=parseInt(1e9*Math.random()).toString(36)+Date.now();B({toB58String:()=>g}),h=this.metrics.trackStream({stream:h,remotePeer:k})}r("Starting the inbound connection upgrade");let T=h;this.protector&&(T=await this.protector.protect(h));try{({conn:u,remotePeer:d,protocol:A}=await this._encryptInbound(this.localPeer,T,this.cryptos)),this.muxers.size?{stream:l,Muxer:m}=await this._multiplexInbound(u,this.muxers):l=u}catch(g){throw r.error("Failed to upgrade inbound connection",g),await h.close(g),g}return this.metrics&&(this.metrics.updatePlaceholder(k,d),B(d)),r("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:A,direction:"inbound",maConn:h,upgradedConn:l,Muxer:m,remotePeer:d})}async upgradeOutbound(h){let u,d,l,m,A,B,k,T;try{u=t.createFromB58String(h.remoteAddr.getPeerId())}catch(E){r.error("multiaddr did not contain a valid peer id",E)}if(this.metrics){({setTarget:k,proxy:T}=e());const E=parseInt(1e9*Math.random()).toString(36)+Date.now();k({toB58String:()=>E}),h=this.metrics.trackStream({stream:h,remotePeer:T})}r("Starting the outbound connection upgrade");let g=h;this.protector&&(g=await this.protector.protect(h));try{({conn:d,remotePeer:l,protocol:A}=await this._encryptOutbound(this.localPeer,g,u,this.cryptos)),this.muxers.size?{stream:m,Muxer:B}=await this._multiplexOutbound(d,this.muxers):m=d}catch(E){throw r.error("Failed to upgrade outbound connection",E),await h.close(E),E}return this.metrics&&(this.metrics.updatePlaceholder(T,l),k(l)),r("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:A,direction:"outbound",maConn:h,upgradedConn:m,Muxer:B,remotePeer:l})}_createConnection({cryptoProtocol:h,direction:u,maConn:d,upgradedConn:l,Muxer:m,remotePeer:A}){let B,k,T;m&&(B=new m({onStream:async R=>{const S=new i.Listener(R);try{const{stream:M,protocol:y}=await S.handle(Array.from(this.protocols.keys()));r("%s: incoming stream opened on %s",u,y),this.metrics&&this.metrics.trackStream({stream:M,remotePeer:A,protocol:y}),T.addStream(R,{protocol:y}),this._onStream({connection:T,stream:{...R,...M},protocol:y})}catch(M){r.error(M)}},onStreamEnd:R=>{T.removeStream(R.id)}}),k=async R=>{r("%s: starting new stream on %s",u,R);const S=B.newStream(),M=new i.Dialer(S);try{const{stream:y,protocol:p}=await M.select(R);return this.metrics&&this.metrics.trackStream({stream:y,remotePeer:A,protocol:p}),{stream:{...S,...y},protocol:p}}catch(y){throw r.error("could not create new stream",y),o(y,n.ERR_UNSUPPORTED_PROTOCOL)}},a(l,B,l).catch(r.error));const g=d.timeline;d.timeline=new Proxy(g,{set:(...R)=>(T&&R[1]==="close"&&R[2]&&!g.close&&(async()=>{try{T.stat.status===c.OPEN&&await T.close()}catch(S){r.error(S)}finally{this.onConnectionEnd(T)}})(),Reflect.set(...R))}),d.timeline.upgraded=Date.now();const E=()=>{throw o(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return T=new f({localAddr:d.localAddr,remoteAddr:d.remoteAddr,localPeer:this.localPeer,remotePeer:A,stat:{direction:u,timeline:d.timeline,multiplexer:m&&m.multicodec,encryption:h},newStream:k||E,getStreams:()=>B?B.streams:E,close:async R=>{await d.close(R),B&&B.streams.map(S=>S.abort(R))}}),this.onConnection(T),T}_onStream({connection:h,stream:u,protocol:d}){this.protocols.get(d)({connection:h,stream:u,protocol:d})}async _encryptInbound(h,u,d){const l=new i.Listener(u),m=Array.from(d.keys());r("handling inbound crypto protocol selection",m);try{const{stream:A,protocol:B}=await l.handle(m),k=d.get(B);return r("encrypting inbound connection..."),{...await k.secureInbound(h,A),protocol:B}}catch(A){throw o(A,n.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(h,u,d,l){const m=new i.Dialer(u),A=Array.from(l.keys());r("selecting outbound crypto protocol",A);try{const{stream:B,protocol:k}=await m.select(A),T=l.get(k);return r("encrypting outbound connection to %j",d),{...await T.secureOutbound(h,B,d),protocol:k}}catch(B){throw o(B,n.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(h,u){const d=new i.Dialer(h),l=Array.from(u.keys());r("outbound selecting muxer %s",l);try{const{stream:m,protocol:A}=await d.select(l);return r("%s selected as muxer protocol",A),{stream:m,Muxer:u.get(A)}}catch(m){throw o(m,n.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(h,u){const d=new i.Listener(h),l=Array.from(u.keys());r("inbound handling muxers %s",l);try{const{stream:m,protocol:A}=await d.handle(l);return{stream:m,Muxer:u.get(A)}}catch(m){throw o(m,n.ERR_MUXER_UNAVAILABLE)}}}},function(N,x,b){const s=b(415),r=b(416),i=b(417),{PROTOCOL_ID:f}=b(148);x.PROTOCOL_ID=f;class c{constructor(t){this._stream=t,this._shaken=!1}async _handshake(){if(this._shaken)return;const{stream:t}=await s(this._stream,f);this._stream=t,this._shaken=!0}}x.Dialer=class extends c{select(t){return s(this._stream,t,this._shaken?null:f)}async ls(){await this._handshake();const{stream:t,protocols:a}=await i(this._stream);return this._stream=t,a}},x.Listener=class extends c{handle(t){return r(this._stream,t)}}},function(N,x,b){const s=b(2)("mss:select"),r=b(0),i=b(83),f=b(52);N.exports=async(c,t,a)=>{t=Array.isArray(t)?[...t]:[t];const{reader:o,writer:e,rest:n,stream:h}=f(c),u=t.shift();a?(s('select: write ["%s", "%s"]',a,u),i.writeAll(e,[a,u])):(s('select: write "%s"',u),i.write(e,u));let d=(await i.read(o)).toString();if(s('select: read "%s"',d),d===a&&(d=(await i.read(o)).toString(),s('select: read "%s"',d)),d===u)return n(),{stream:h,protocol:u};for(const l of t){s('select: write "%s"',l),i.write(e,l);const m=(await i.read(o)).toString();if(s('select: read "%s" for "%s"',m,l),m===l)return n(),{stream:h,protocol:l}}throw n(),r(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}},function(N,x,b){const s=b(2)("mss:handle"),r=b(33),i=b(83),f=b(52),{PROTOCOL_ID:c}=b(148);N.exports=async(t,a)=>{a=Array.isArray(a)?a:[a];const{writer:o,reader:e,rest:n,stream:h}=f(t);for(;;){const u=(await i.read(e)).toString();if(s('read "%s"',u),u!==c){if(a.includes(u))return i.write(o,u),s('respond with "%s" for "%s"',u,u),n(),{stream:h,protocol:u};u!=="ls"?(i.write(o,"na"),s('respond with "na" for "%s"',u)):(i.write(o,new r(a.map(d=>i.encode(d)))),s('respond with "%s" for %s',a,u))}else s('respond with "%s" for "%s"',c,u),i.write(o,c)}}},function(N,x,b){const s=b(140),r=b(2)("it-multistream-select:ls"),i=b(83),f=b(52),c=b(42),t=b(28);N.exports=async a=>{const{reader:o,writer:e,rest:n,stream:h}=f(a);r('write "ls"'),i.write(e,"ls"),n();const u=await i.read(o),d=s([u]),l=[];return await t(d,c.decode(),async m=>{for await(const A of m)l.push(A.shallowSlice(0,-1).toString())}),{stream:h,protocols:l}}},function(N,x,b){x.Connection=b(419)},function(N,x,b){const s=b(8),r=b(14),i=b(24),f=b(0),c=b(149);N.exports=i(class{constructor({localAddr:t,remoteAddr:a,localPeer:o,remotePeer:e,newStream:n,close:h,getStreams:u,stat:d}){!function(l,m,A,B,k,T,g){if(l&&!r.isMultiaddr(l))throw f(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!s.isPeerId(m))throw f(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!s.isPeerId(A))throw f(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(typeof B!="function")throw f(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if(typeof k!="function")throw f(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if(typeof T!="function")throw f(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!g)throw f(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if(g.direction!=="inbound"&&g.direction!=="outbound")throw f(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!g.timeline)throw f(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!g.timeline.open)throw f(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!g.timeline.upgraded)throw f(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}(t,o,e,n,h,u,d),this.id=parseInt(1e9*Math.random()).toString(36)+Date.now(),this.localAddr=t,this.remoteAddr=a,this.localPeer=o,this.remotePeer=e,this._stat={...d,status:c.OPEN},this._newStream=n,this._close=h,this._getStreams=u,this.registry=new Map,this.tags=[]}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(t){if(this.stat.status===c.CLOSING)throw f(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===c.CLOSED)throw f(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(t)||(t=[t]);const{stream:a,protocol:o}=await this._newStream(t);return this.addStream(a,{protocol:o}),{stream:a,protocol:o}}addStream(t,{protocol:a,metadata:o={}}){this.registry.set(t.id,{protocol:a,...o})}removeStream(t){this.registry.delete(t)}async close(){if(this.stat.status!==c.CLOSED){if(this._closing)return this._closing;this.stat.status=c.CLOSING,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=c.CLOSED}}},{className:"Connection",symbolName:"@libp2p/interface-connection/connection"})},function(N,x,b){function s(r){if(Array.isArray(r)){for(var i=0,f=Array(r.length);i<r.length;i++)f[i]=r[i];return f}return Array.from(r)}N.exports=function(r){var i=void 0,f=void 0;function c(o){if(!(o instanceof Object))throw new Error('Target "'+o+'" is not an object');f=o}function t(o){Object.keys(o).forEach(function(e){var n=o[e];if(typeof n!="function")throw new Error('Trap "'+e+": "+n+'" is not a function');if(!Reflect[e])throw new Error('Trap "'+e+": "+n+'" is not a valid trap')}),i=o}c(function(){}),r&&c(r),t(Reflect);var a=new Proxy({},{get:function(o,e){return function(){for(var n=arguments.length,h=Array(n),u=0;u<n;u++)h[u]=arguments[u];return i[e].apply(null,[f].concat(s(h.slice(1))))}}});return{setTarget:c,setHandler:t,getTarget:function(){return f},getHandler:function(){return i},proxy:new Proxy(f,a)}}},function(N,x,b){const s=b(0),r=b(2),i=r("libp2p:peer-store:address-book");i.error=r("libp2p:peer-store:address-book:error");const f=b(14),c=b(8),t=b(53),a=b(151),{codes:{ERR_INVALID_PARAMETERS:o}}=b(10),e=b(152);N.exports=class extends t{constructor(n){super({peerStore:n,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:h=>h.addresses?h.addresses.map(u=>u.multiaddr):[]}),this.data=new Map}consumePeerRecord(n){let h;try{h=a.createFromProtobuf(n.payload)}catch(A){return i.error("invalid peer record received"),!1}if(!h.peerId.equals(n.peerId))return i("signing key does not match PeerId in the PeerRecord"),!1;if(!h.multiaddrs||!h.multiaddrs.length)return!1;const u=h.peerId,d=u.toB58String(),l=(this.data.get(d)||{}).record;if(l&&l.seqNumber>=h.seqNumber)return!1;const m=this._toAddresses(h.multiaddrs,!0);return this._setData(u,{addresses:m,record:{raw:n.marshal(),seqNumber:h.seqNumber}}),i("stored provided peer record for "+d),!0}getRawEnvelope(n){const h=this.data.get(n.toB58String());if(h&&h.record&&h.record.raw)return h.record.raw}getPeerRecord(n){const h=this.getRawEnvelope(n);if(h)return e.createFromProtobuf(h)}set(n,h){if(!c.isPeerId(n))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),o);const u=this._toAddresses(h),d=n.toB58String(),l=this.data.get(d)||{},m=l.addresses;return u.length?m&&m.length===u.length&&m.filter(A=>u.some(B=>A.multiaddr.equals(B.multiaddr))).length===m.length?(i("the addresses provided to store are equal to the already stored for "+d),this):(this._setData(n,{addresses:u,record:l.record}),i("stored provided multiaddrs for "+d),m||this._ps.emit("peer",n),this):this}add(n,h){if(!c.isPeerId(n))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),o);const u=this._toAddresses(h),d=n.toB58String(),l=this.data.get(d)||{},m=l.addresses||[];return m.forEach(A=>{u.find(B=>B.multiaddr.equals(A.multiaddr))||u.push(A)}),m&&m.length===u.length?(i("the addresses provided to store are already stored for "+d),this):(this._setData(n,{addresses:u,record:l.record}),i("added provided multiaddrs for "+d),l.addresses||this._ps.emit("peer",n),this)}get(n){if(!c.isPeerId(n))throw s(new Error("peerId must be an instance of peer-id"),o);const h=this.data.get(n.toB58String());return h&&h.addresses?[...h.addresses]:void 0}_toAddresses(n,h=!1){if(!n)throw i.error("multiaddrs must be provided to store data"),s(new Error("multiaddrs must be provided"),o);const u=[];return n.forEach(d=>{if(!f.isMultiaddr(d))throw i.error(`multiaddr ${d} must be an instance of multiaddr`),s(new Error(`multiaddr ${d} must be an instance of multiaddr`),o);u.push({multiaddr:d,isCertified:h})}),u}getMultiaddrsForPeer(n){if(!c.isPeerId(n))throw s(new Error("peerId must be an instance of peer-id"),o);const h=this.data.get(n.toB58String());if(h&&h.addresses)return h.addresses.map(u=>{const d=u.multiaddr,l=d.getPeerId();return l&&l===n.toB58String()?d:d.encapsulate("/p2p/"+n.toB58String())})}}},function(N,x,b){const s=b(0);N.exports=class{constructor(r,i){this.domain=r,this.codec=i}marshal(){throw s(new Error("marshal must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}equals(r){throw s(new Error("equals must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}}},function(N,x,b){N.exports=function(s,r){return s.length===r.length&&r.sort()&&s.sort().every((i,f)=>r[f].equals(i))}},function(N,x,b){const s=b(17);N.exports=s(`
message PeerRecord {
    // AddressInfo is a wrapper around a binary multiaddr. It is defined as a
    // separate message to allow us to add per-address metadata in the future.
    message AddressInfo {
        bytes multiaddr = 1;
    }

    // peer_id contains a libp2p peer id in its binary representation.
    bytes peer_id = 1;

    // seq contains a monotonically-increasing sequence counter to order PeerRecords in time.
    uint64 seq = 2;

    // addresses is a list of public listen addresses for the peer.
    repeated AddressInfo addresses = 3;
}
`).PeerRecord},function(N,x,b){const s=b(114);N.exports.ENVELOPE_DOMAIN_PEER_RECORD=s.getName(s.LIBP2P_PEER_RECORD),N.exports.ENVELOPE_PAYLOAD_TYPE_PEER_RECORD=Uint8Array.from([3,1])},function(N,x,b){const s=b(17);N.exports=s(`
message Envelope {
  // public_key is the public key of the keypair the enclosed payload was
  // signed with.
  bytes public_key = 1;

  // payload_type encodes the type of payload, so that it can be deserialized
  // deterministically.
  bytes payload_type = 2;

  // payload is the actual payload carried inside this envelope.
  bytes payload = 3;

  // signature is the signature produced by the private key corresponding to
  // the enclosed public key, over the payload, prefixing a domain string for
  // additional security.
  bytes signature = 5;
}
`).Envelope},function(N,x,b){const s=b(0),r=b(2),i=r("libp2p:peer-store:key-book");i.error=r("libp2p:peer-store:key-book:error");const f=b(8),c=b(53),{codes:{ERR_INVALID_PARAMETERS:t}}=b(10);N.exports=class extends c{constructor(a){super({peerStore:a,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:o=>o.pubKey}),this.data=new Map}set(a,o){if(!f.isPeerId(a))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),t);const e=a.toB58String();return!this.data.get(e)&&o&&(a.pubKey=o,this._setData(a,a),i("stored provided public key for "+e)),this}get(a){if(!f.isPeerId(a))throw s(new Error("peerId must be an instance of peer-id"),t);const o=this.data.get(a.toB58String());return o?o.pubKey:void 0}}},function(N,x,b){const s=b(0),r=b(2),i=r("libp2p:peer-store:proto-book");i.error=r("libp2p:peer-store:proto-book:error");const f=b(20),c=b(8),t=b(53),{codes:{ERR_INVALID_PARAMETERS:a}}=b(10);N.exports=class extends t{constructor(o){super({peerStore:o,eventName:"change:metadata",eventProperty:"metadata"}),this.data=new Map}set(o,e,n){if(!c.isPeerId(o))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),a);if(typeof e!="string"||!(n instanceof Uint8Array))throw i.error("valid key and value must be provided to store data"),s(new Error("valid key and value must be provided"),a);return this._setValue(o,e,n),this}_setValue(o,e,n,{emit:h=!0}={}){const u=o.toB58String(),d=this.data.get(u)||new Map,l=d.get(e);l&&f(n,l)?i(`the metadata provided to store is equal to the already stored for ${u} on ${e}`):(d.set(e,n),this.data.set(u,d),h&&this._emit(o,e))}get(o){if(!c.isPeerId(o))throw s(new Error("peerId must be an instance of peer-id"),a);return this.data.get(o.toB58String())}getValue(o,e){if(!c.isPeerId(o))throw s(new Error("peerId must be an instance of peer-id"),a);const n=this.data.get(o.toB58String());return n&&n.get(e)}delete(o){if(!c.isPeerId(o))throw s(new Error("peerId must be an instance of peer-id"),a);return!!this.data.delete(o.toB58String())&&(this._emit(o),!0)}deleteValue(o,e){if(!c.isPeerId(o))throw s(new Error("peerId must be an instance of peer-id"),a);const n=this.data.get(o.toB58String());return!(!n||!n.delete(e))&&(this._emit(o,e),!0)}}},function(N,x,b){const s=b(0),r=b(2),i=r("libp2p:peer-store:proto-book");i.error=r("libp2p:peer-store:proto-book:error");const f=b(8),c=b(53),{codes:{ERR_INVALID_PARAMETERS:t}}=b(10);N.exports=class extends c{constructor(a){super({peerStore:a,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:o=>Array.from(o)}),this.data=new Map}set(a,o){if(!f.isPeerId(a))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),t);if(!o)throw i.error("protocols must be provided to store data"),s(new Error("protocols must be provided"),t);const e=a.toB58String(),n=this.data.get(e),h=new Set(o);return n&&(d=h,(u=n).size===d.size&&[...u].every(l=>d.has(l)))?(i("the protocols provided to store are equal to the already stored for "+e),this):(this._setData(a,h),i("stored provided protocols for "+e),this);var u,d}add(a,o){if(!f.isPeerId(a))throw i.error("peerId must be an instance of peer-id to store data"),s(new Error("peerId must be an instance of peer-id"),t);if(!o)throw i.error("protocols must be provided to store data"),s(new Error("protocols must be provided"),t);const e=a.toB58String(),n=this.data.get(e)||new Set,h=new Set([...n,...o]);return n.size===h.size?(i("the protocols provided to store are already stored for "+e),this):(o=[...h],this._setData(a,h),i("added provided protocols for "+e),this)}}},function(N,x,b){N.exports=(s,r,i)=>new class extends s{subscribe(f,c){c&&this.on(f,c),super.subscribe(f)}unsubscribe(f,c){c?this.removeListener(f,c):this.removeAllListeners(f),this.listenerCount(f)===0&&super.unsubscribe(f)}}(r,i)},function(N,x,b){const s=b(2),r=s("libp2p:persistent-peer-store");r.error=s("libp2p:persistent-peer-store:error");const{Key:i}=b(22),f=b(14),c=b(8),t=b(150),{NAMESPACE_ADDRESS:a,NAMESPACE_COMMON:o,NAMESPACE_KEYS:e,NAMESPACE_METADATA:n,NAMESPACE_PROTOCOL:h}=b(432),u=b(433),d=b(434);N.exports=class extends t{constructor({peerId:l,datastore:m,threshold:A=5}){super({peerId:l}),this._datastore=m,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=A,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){r("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(const l of this._datastore.query({prefix:o}))await this._processDatastoreEntry(l);r("PeerStore started")}async stop(){r("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),r("PeerStore stopped")}_addDirtyPeer({peerId:l}){const m=l.toB58String();r("add dirty peer",m),this._dirtyPeers.add(m),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(A=>{r.error("error committing data",A)})}_addDirtyPeerKey({peerId:l}){if(l.hasInlinePublicKey())return;const m=l.toB58String();r("add dirty peer key",m),this._dirtyPeers.add(m),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(A=>{r.error("error committing data",A)})}_addDirtyPeerMetadata({peerId:l,metadata:m}){const A=l.toB58String();r("add dirty metadata peer",A),this._dirtyPeers.add(A);const B=this._dirtyMetadata.get(A)||new Set;B.add(m),this._dirtyMetadata.set(A,B),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(k=>{r.error("error committing data",k)})}async _commitData(){const l=Array.from(this._dirtyPeers);if(!l.length)return;this._dirtyPeers.clear(),r("create batch commit");const m=this._datastore.batch();for(const A of l){const B=this.keyBook.data.get(A)||c.createFromCID(A);this._batchAddressBook(B,m),!B.hasInlinePublicKey()&&this._batchKeyBook(B,m),this._batchMetadataBook(B,m),this._batchProtoBook(B,m)}await m.commit(),r("batch committed")}_batchAddressBook(l,m){const A=l.toString(),B=new i(`${a}${A}`),k=this.addressBook.data.get(l.toB58String());try{if(!k)return void m.delete(B);const T=u.encode({addrs:k.addresses.map(g=>({multiaddr:g.multiaddr.bytes,isCertified:g.isCertified})),certified_record:k.record?{seq:k.record.seqNumber,raw:k.record.raw}:void 0});m.put(B,T)}catch(T){r.error(T)}}_batchKeyBook(l,m){const A=l.toString(),B=new i(`${e}${A}`);try{if(!l.pubKey)return void m.delete(B);const k=l.marshalPubKey();m.put(B,k)}catch(k){r.error(k)}}_batchMetadataBook(l,m){const A=l.toString(),B=this._dirtyMetadata.get(l.toB58String())||[];try{B.forEach(k=>{const T=new i(`${n}${A}/${k}`),g=this.metadataBook.getValue(l,k);g?m.put(T,g):m.delete(T)})}catch(k){r.error(k)}}_batchProtoBook(l,m){const A=l.toString(),B=new i(`${h}${A}`),k=this.protoBook.get(l);try{if(!k)return void m.delete(B);const T=d.encode({protocols:k});m.put(B,T)}catch(T){r.error(T)}}async _processDatastoreEntry({key:l,value:m}){try{const A=l.toString().split("/"),B=c.createFromCID(A[3]);let k;switch(A[2]){case"addrs":k=u.decode(m),this.addressBook._setData(B,{addresses:k.addrs.map(T=>({multiaddr:f(T.multiaddr),isCertified:Boolean(T.isCertified)})),record:k.certified_record?{raw:k.certified_record.raw,seqNumber:k.certified_record.seq}:void 0},{emit:!1});break;case"keys":k=await c.createFromPubKey(m),this.keyBook._setData(k,k,{emit:!1});break;case"metadata":this.metadataBook._setValue(B,A[4],m,{emit:!1});break;case"protos":k=d.decode(m),this.protoBook._setData(B,new Set(k.protocols),{emit:!1});break;default:r("invalid data persisted for: ",l.toString())}}catch(A){r.error(A)}}}},function(N,x,b){N.exports.NAMESPACE_COMMON="/peers/",N.exports.NAMESPACE_ADDRESS="/peers/addrs/",N.exports.NAMESPACE_KEYS="/peers/keys/",N.exports.NAMESPACE_METADATA="/peers/metadata/",N.exports.NAMESPACE_PROTOCOL="/peers/protos/"},function(N,x,b){const s=b(17);N.exports=s(`
message Addresses {
  // Address represents a single multiaddr.
  message Address {
    required bytes multiaddr = 1;

    // Flag to indicate if the address comes from a certified source.
    optional bool isCertified = 2;
  }

  // CertifiedRecord contains a serialized signed PeerRecord used to
  // populate the signedAddrs list.
  message CertifiedRecord {
    // The Seq counter from the signed PeerRecord envelope
    uint64 seq = 1;

    // The serialized bytes of the SignedEnvelope containing the PeerRecord.
    bytes raw = 2;
  }

  // The known multiaddrs.
  repeated Address addrs = 1;

  // The most recently received signed PeerRecord.
  CertifiedRecord certified_record = 2;
}
`).Addresses},function(N,x,b){const s=b(17);N.exports=s(`
message Protocols {
  repeated string protocols = 1;
}
`).Protocols},function(N,x,b){const s=b(2),r=b(0);s("libp2p:peer-store").error=s("libp2p:peer-store:error");const{ERR_INVALID_PARAMETERS:i}=b(10),f=b(436);N.exports=class{constructor({peerStore:c,connectionManager:t}){this.peerStore=c,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(c){this._handle=c}getConnection(c){return this.connectionManager.get(c)}register(c){if(!f.isTopology(c))throw r(new Error("topology must be an instance of interfaces/topology"),i);const t=parseInt(1e9*Math.random()).toString(36)+Date.now();return this.topologies.set(t,c),c.registrar=this,t}unregister(c){return this.topologies.delete(c)}_onDisconnect(c,t){for(const[,a]of this.topologies)a.disconnect(c.remotePeer,t)}}},function(N,x,b){const s=b(24),r=()=>{};N.exports=s(class{constructor({min:i=0,max:f=1/0,handlers:c={}}){this.min=i,this.max=f,this._onConnect=c.onConnect||r,this._onDisconnect=c.onDisconnect||r,this.peers=new Set}set registrar(i){this._registrar=i}disconnect(i){this._onDisconnect(i)}},{className:"Topology",symbolName:"@libp2p/js-interfaces/topology"})},function(N,x,b){const s=b(2),r=s("libp2p-ping");r.error=s("libp2p-ping:error");const i=b(0),f=b(146),c=b(28),{toBuffer:t}=b(84),{collect:a,take:o}=b(82),{PROTOCOL:e,PING_LENGTH:n}=b(438);(x=N.exports=async function(h,u){r("dialing %s to %s",e,u.toB58String?u.toB58String():u);const{stream:d}=await h.dialProtocol(u,e),l=new Date,m=f.randomBytes(n),[A]=await c([m],d,k=>o(1,k),t,a),B=Date.now();if(!m.equals(A))throw i(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return B-l}).mount=function(h){h.handle(e,({stream:u})=>c(u,u))},x.unmount=function(h){h.unhandle(e)}},function(N,x,b){N.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}},function(N,x,b){const s=b(2),r=s("libp2p:identify");r.error=s("libp2p:identify:error");const i=b(0),f=b(440),c=b(42),t=b(28),{collect:a,take:o,consume:e}=b(82),n=b(6),h=b(8),u=b(14),{toBuffer:d}=b(84),l=b(442),m=b(152),A=b(151),{MULTICODEC_IDENTIFY:B,MULTICODEC_IDENTIFY_PUSH:k,AGENT_VERSION:T,PROTOCOL_VERSION:g}=b(135),{codes:E}=b(10);class R{static getCleanMultiaddr(S){if(S&&S.length>0)try{return u(S)}catch(M){return null}return null}constructor({libp2p:S,protocols:M}){this.peerStore=S.peerStore,this.connectionManager=S.connectionManager,this.connectionManager.on("peer:connect",y=>{const p=y.remotePeer;this.identify(y,p).catch(r.error)}),this.peerId=S.peerId,this._libp2p=S,this._protocols=M,this.handleMessage=this.handleMessage.bind(this),this._host={agentVersion:T,protocolVersion:g,...S._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",n(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",n(this._host.protocolVersion))}async push(S){const M=await this._getSelfPeerRecord(),y=this._libp2p.multiaddrs.map(v=>v.bytes),p=Array.from(this._protocols.keys()),w=S.map(async v=>{try{const{stream:_}=await v.newStream(k);await t([{listenAddrs:y,signedPeerRecord:M,protocols:p}],f.encode(l),_,e)}catch(_){r.error("could not push identify update to peer",_)}});return Promise.all(w)}pushToPeerStore(S){const M=[];let y;for(const p of S.peers.values())p.protocols.includes(k)&&(y=this.connectionManager.get(p.id))&&M.push(y);this.push(M)}async identify(S){const{stream:M}=await S.newStream(B),[y]=await t([],M,c.decode(),o(1),d,a);if(!y)throw i(new Error("No data could be retrieved"),E.ERR_CONNECTION_ENDED);let p;try{p=l.decode(y)}catch(U){throw i(U,E.ERR_INVALID_MESSAGE)}let{publicKey:w,listenAddrs:v,protocols:_,observedAddr:C,signedPeerRecord:L}=p;const O=await h.createFromPubKey(w);if(S.remotePeer.toB58String()!==O.toB58String())throw i(new Error("identified peer does not match the expected peer"),E.ERR_INVALID_PEER);C=R.getCleanMultiaddr(C);try{const U=await m.openAndCertify(L,A.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(U))return void this.peerStore.protoBook.set(O,_)}catch(U){r("received invalid envelope, discard it and fallback to listenAddrs is available",U)}try{this.peerStore.addressBook.set(O,v.map(U=>u(U)))}catch(U){r.error("received invalid addrs",U)}this.peerStore.protoBook.set(O,_),this.peerStore.metadataBook.set(O,"AgentVersion",n(p.agentVersion)),r("received observed address of %s",C)}handleMessage({connection:S,stream:M,protocol:y}){switch(y){case B:return this._handleIdentify({connection:S,stream:M});case k:return this._handlePush({connection:S,stream:M});default:r.error("cannot handle unknown protocol %s",y)}}async _handleIdentify({connection:S,stream:M}){let y=new Uint8Array(0);this.peerId.pubKey&&(y=this.peerId.pubKey.bytes);const p=await this._getSelfPeerRecord(),w=l.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:y,listenAddrs:this._libp2p.multiaddrs.map(v=>v.bytes),signedPeerRecord:p,observedAddr:S.remoteAddr.bytes,protocols:Array.from(this._protocols.keys())});try{await t([w],c.encode(),M,e)}catch(v){r.error("could not respond to identify request",v)}}async _handlePush({connection:S,stream:M}){let y;try{const[w]=await t([],M,c.decode(),o(1),d,a);y=l.decode(w)}catch(w){return r.error("received invalid message",w)}const p=S.remotePeer;try{const w=await m.openAndCertify(y.signedPeerRecord,A.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(w))return void this.peerStore.protoBook.set(p,y.protocols)}catch(w){r("received invalid envelope, discard it and fallback to listenAddrs is available",w)}try{this.peerStore.addressBook.set(p,y.listenAddrs.map(w=>u(w)))}catch(w){r.error("received invalid addrs",w)}this.peerStore.protoBook.set(p,y.protocols)}async _getSelfPeerRecord(){const S=this.peerStore.addressBook.getRawEnvelope(this.peerId);if(S)return S;try{const M=new A({peerId:this.peerId,multiaddrs:this._libp2p.multiaddrs}),y=await m.seal(M,this.peerId);return this.peerStore.addressBook.consumePeerRecord(y),this.peerStore.addressBook.getRawEnvelope(this.peerId)}catch(M){r.error("failed to get self peer record")}return null}}N.exports.IdentifyService=R,N.exports.multicodecs={IDENTIFY:B,IDENTIFY_PUSH:k},N.exports.Message=l},function(N,x,b){const s=b(42),r=b(441),i=b(84);N.exports.encode=f=>c=>s.encode()(r.encode(f)(c)),N.exports.decode=f=>c=>r.decode(f)(i(s.decode()(c))),N.exports.it=r},function(N,x,b){N.exports.encode=s=>r=>async function*(){for await(const i of r)yield s.encode(i)}(),N.exports.decode=s=>r=>async function*(){for await(const i of r)yield s.decode(i)}()},function(N,x,b){const s=b(17);N.exports=s(`
message Identify {
  // protocolVersion determines compatibility between peers
  optional string protocolVersion = 5; // e.g. ipfs/1.0.0

  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent
  // includes the client name and client.
  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0

  // publicKey is this node's public key (which also gives its node.ID)
  // - may not need to be sent, as secure channel implies it has been sent.
  // - then again, if we change / disable secure channel, may still want it.
  optional bytes publicKey = 1;

  // listenAddrs are the multiaddrs the sender node listens for open connections on
  repeated bytes listenAddrs = 2;

  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives
  // this is useful information to convey to the other side, as it helps the remote endpoint
  // determine whether its connection to the local peer goes through NAT.
  optional bytes observedAddr = 4;

  repeated string protocols = 3;

  // signedPeerRecord contains a serialized SignedEnvelope containing a PeerRecord,
  // signed by the sending node. It contains the same addresses as the listenAddrs field, but
  // in a form that lets us share authenticated addrs with other peers.
  optional bytes signedPeerRecord = 8;
}
`).Identify}])})}),be=de(ye),ge=he(function(ue,fe){/*! For license information please see index.min.js.LICENSE.txt */!function(N,x){ue.exports=x()}(self,function(){return function(N){var x={};function b(s){if(x[s])return x[s].exports;var r=x[s]={i:s,l:!1,exports:{}};return N[s].call(r.exports,r,r.exports,b),r.l=!0,r.exports}return b.m=N,b.c=x,b.d=function(s,r,i){b.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:i})},b.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},b.t=function(s,r){if(1&r&&(s=b(s)),8&r)return s;if(4&r&&typeof s=="object"&&s&&s.__esModule)return s;var i=Object.create(null);if(b.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:s}),2&r&&typeof s!="string")for(var f in s)b.d(i,f,function(c){return s[c]}.bind(null,f));return i},b.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return b.d(r,"a",r),r},b.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},b.p="",b(b.s=183)}([function(N,x,b){N.exports={options:{usePureJavaScript:!1}}},function(N,x,b){function s(r,i){for(const f in i)Object.defineProperty(r,f,{value:i[f],enumerable:!0,configurable:!0});return r}N.exports=function(r,i,f){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");f||(f={}),typeof i=="object"&&(f=i,i=void 0),i!=null&&(f.code=i);try{return s(r,f)}catch(c){f.message=r.message,f.stack=r.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(r)),s(new t,f)}}},function(N,x,b){N.exports={options:{usePureJavaScript:!1}}},function(N,x,b){(function(s){x.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+N.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;i.splice(1,0,f,"color: inherit");let c=0,t=0;i[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(c++,a==="%c"&&(t=c))}),i.splice(t,0,f)},x.save=function(i){try{i?x.storage.setItem("debug",i):x.storage.removeItem("debug")}catch(f){}},x.load=function(){let i;try{i=x.storage.getItem("debug")}catch(f){}return!i&&s!==void 0&&"env"in s&&(i={NODE_ENV:"production"}.DEBUG),i},x.useColors=function(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},x.storage=function(){try{return localStorage}catch(i){}}(),x.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),x.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],x.log=console.debug||console.log||(()=>{}),N.exports=b(185)(x);const{formatters:r}=N.exports;r.j=function(i){try{return JSON.stringify(i)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}).call(this,b(37))},function(N,x,b){(function(s,r,i){var f=b(0),c=b(231),t=N.exports=f.util=f.util||{};function a(g){if(g!==8&&g!==16&&g!==24&&g!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+g)}function o(g){if(this.data="",this.read=0,typeof g=="string")this.data=g;else if(t.isArrayBuffer(g)||t.isArrayBufferView(g))if(i!==void 0&&g instanceof i)this.data=g.toString("binary");else{var E=new Uint8Array(g);try{this.data=String.fromCharCode.apply(null,E)}catch(S){for(var R=0;R<E.length;++R)this.putByte(E[R])}}else(g instanceof o||typeof g=="object"&&typeof g.data=="string"&&typeof g.read=="number")&&(this.data=g.data,this.read=g.read);this._constructedStringLength=0}!function(){if(s!==void 0&&s.nextTick&&!s.browser)return t.nextTick=s.nextTick,void(typeof setImmediate=="function"?t.setImmediate=setImmediate:t.setImmediate=t.nextTick);if(typeof setImmediate=="function")return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(p){return setImmediate(p)});if(t.setImmediate=function(p){setTimeout(p,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){var g="forge.setImmediate",E=[];t.setImmediate=function(p){E.push(p),E.length===1&&window.postMessage(g,"*")},window.addEventListener("message",function(p){if(p.source===window&&p.data===g){p.stopPropagation();var w=E.slice();E.length=0,w.forEach(function(v){v()})}},!0)}if(typeof MutationObserver!="undefined"){var R=Date.now(),S=!0,M=document.createElement("div");E=[],new MutationObserver(function(){var p=E.slice();E.length=0,p.forEach(function(w){w()})}).observe(M,{attributes:!0});var y=t.setImmediate;t.setImmediate=function(p){Date.now()-R>15?(R=Date.now(),y(p)):(E.push(p),E.length===1&&M.setAttribute("a",S=!S))}}t.nextTick=t.setImmediate}(),t.isNodejs=s!==void 0&&s.versions&&s.versions.node,t.globalScope=t.isNodejs?r:typeof self=="undefined"?window:self,t.isArray=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},t.isArrayBuffer=function(g){return typeof ArrayBuffer!="undefined"&&g instanceof ArrayBuffer},t.isArrayBufferView=function(g){return g&&t.isArrayBuffer(g.buffer)&&g.byteLength!==void 0},t.ByteBuffer=o,t.ByteStringBuffer=o,t.ByteStringBuffer.prototype._optimizeConstructedString=function(g){this._constructedStringLength+=g,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(g){return this.putBytes(String.fromCharCode(g))},t.ByteStringBuffer.prototype.fillWithByte=function(g,E){g=String.fromCharCode(g);for(var R=this.data;E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return this.data=R,this._optimizeConstructedString(E),this},t.ByteStringBuffer.prototype.putBytes=function(g){return this.data+=g,this._optimizeConstructedString(g.length),this},t.ByteStringBuffer.prototype.putString=function(g){return this.putBytes(t.encodeUtf8(g))},t.ByteStringBuffer.prototype.putInt16=function(g){return this.putBytes(String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt24=function(g){return this.putBytes(String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt32=function(g){return this.putBytes(String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt16Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>24&255))},t.ByteStringBuffer.prototype.putInt=function(g,E){a(E);var R="";do E-=8,R+=String.fromCharCode(g>>E&255);while(E>0);return this.putBytes(R)},t.ByteStringBuffer.prototype.putSignedInt=function(g,E){return g<0&&(g+=2<<E-1),this.putInt(g,E)},t.ByteStringBuffer.prototype.putBuffer=function(g){return this.putBytes(g.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var g=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24=function(){var g=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32=function(){var g=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,g},t.ByteStringBuffer.prototype.getInt16Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,g},t.ByteStringBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.charCodeAt(this.read++),g-=8;while(g>0);return E},t.ByteStringBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.ByteStringBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.ByteStringBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.ByteStringBuffer.prototype.at=function(g){return this.data.charCodeAt(this.read+g)},t.ByteStringBuffer.prototype.setAt=function(g,E){return this.data=this.data.substr(0,this.read+g)+String.fromCharCode(E)+this.data.substr(this.read+g+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var g=t.createBuffer(this.data);return g.read=this.read,g},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(g){var E=Math.max(0,this.length()-g);return this.data=this.data.substr(this.read,E),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.length;++E){var R=this.data.charCodeAt(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(g,E){E=E||{},this.read=E.readOffset||0,this.growSize=E.growSize||1024;var R=t.isArrayBuffer(g),S=t.isArrayBufferView(g);if(R||S)return this.data=R?new DataView(g):new DataView(g.buffer,g.byteOffset,g.byteLength),void(this.write="writeOffset"in E?E.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,g!=null&&this.putBytes(g),"writeOffset"in E&&(this.write=E.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(g,E){if(this.length()>=g)return this;E=Math.max(E||this.growSize,g);var R=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),S=new Uint8Array(this.length()+E);return S.set(R),this.data=new DataView(S.buffer),this},t.DataBuffer.prototype.putByte=function(g){return this.accommodate(1),this.data.setUint8(this.write++,g),this},t.DataBuffer.prototype.fillWithByte=function(g,E){this.accommodate(E);for(var R=0;R<E;++R)this.data.setUint8(g);return this},t.DataBuffer.prototype.putBytes=function(g,E){if(t.isArrayBufferView(g)){var R=(S=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)).byteLength-S.byteOffset;return this.accommodate(R),new Uint8Array(this.data.buffer,this.write).set(S),this.write+=R,this}if(t.isArrayBuffer(g)){var S=new Uint8Array(g);return this.accommodate(S.byteLength),new Uint8Array(this.data.buffer).set(S,this.write),this.write+=S.byteLength,this}if(g instanceof t.DataBuffer||typeof g=="object"&&typeof g.read=="number"&&typeof g.write=="number"&&t.isArrayBufferView(g.data))return S=new Uint8Array(g.data.byteLength,g.read,g.length()),this.accommodate(S.byteLength),new Uint8Array(g.data.byteLength,this.write).set(S),this.write+=S.byteLength,this;if(g instanceof t.ByteStringBuffer&&(g=g.data,E="binary"),E=E||"binary",typeof g=="string"){var M;if(E==="hex")return this.accommodate(Math.ceil(g.length/2)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(g,M,this.write),this;if(E==="base64")return this.accommodate(3*Math.ceil(g.length/4)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(g,M,this.write),this;if(E==="utf8"&&(g=t.encodeUtf8(g),E="binary"),E==="binary"||E==="raw")return this.accommodate(g.length),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(M),this;if(E==="utf16")return this.accommodate(2*g.length),M=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(M),this;throw new Error("Invalid encoding: "+E)}throw Error("Invalid parameter: "+g)},t.DataBuffer.prototype.putBuffer=function(g){return this.putBytes(g),g.clear(),this},t.DataBuffer.prototype.putString=function(g){return this.putBytes(g,"utf16")},t.DataBuffer.prototype.putInt16=function(g){return this.accommodate(2),this.data.setInt16(this.write,g),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(g){return this.accommodate(3),this.data.setInt16(this.write,g>>8&65535),this.data.setInt8(this.write,g>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(g){return this.accommodate(4),this.data.setInt32(this.write,g),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(g){return this.accommodate(2),this.data.setInt16(this.write,g,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(g){return this.accommodate(3),this.data.setInt8(this.write,g>>16&255),this.data.setInt16(this.write,g>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(g){return this.accommodate(4),this.data.setInt32(this.write,g,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(g,E){a(E),this.accommodate(E/8);do E-=8,this.data.setInt8(this.write++,g>>E&255);while(E>0);return this},t.DataBuffer.prototype.putSignedInt=function(g,E){return a(E),this.accommodate(E/8),g<0&&(g+=2<<E-1),this.putInt(g,E)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var g=this.data.getInt16(this.read);return this.read+=2,g},t.DataBuffer.prototype.getInt24=function(){var g=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,g},t.DataBuffer.prototype.getInt32=function(){var g=this.data.getInt32(this.read);return this.read+=4,g},t.DataBuffer.prototype.getInt16Le=function(){var g=this.data.getInt16(this.read,!0);return this.read+=2,g},t.DataBuffer.prototype.getInt24Le=function(){var g=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,g},t.DataBuffer.prototype.getInt32Le=function(){var g=this.data.getInt32(this.read,!0);return this.read+=4,g},t.DataBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.getInt8(this.read++),g-=8;while(g>0);return E},t.DataBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.DataBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.DataBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.DataBuffer.prototype.at=function(g){return this.data.getUint8(this.read+g)},t.DataBuffer.prototype.setAt=function(g,E){return this.data.setUint8(g,E),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var g=new Uint8Array(this.data.buffer,this.read),E=new Uint8Array(g.byteLength);E.set(g),this.data=new DataView(E),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(g){return this.write=Math.max(0,this.length()-g),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.byteLength;++E){var R=this.data.getUint8(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.DataBuffer.prototype.toString=function(g){var E=new Uint8Array(this.data,this.read,this.length());if((g=g||"utf8")==="binary"||g==="raw")return t.binary.raw.encode(E);if(g==="hex")return t.binary.hex.encode(E);if(g==="base64")return t.binary.base64.encode(E);if(g==="utf8")return t.text.utf8.decode(E);if(g==="utf16")return t.text.utf16.decode(E);throw new Error("Invalid encoding: "+g)},t.createBuffer=function(g,E){return E=E||"raw",g!==void 0&&E==="utf8"&&(g=t.encodeUtf8(g)),new t.ByteBuffer(g)},t.fillString=function(g,E){for(var R="";E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return R},t.xorBytes=function(g,E,R){for(var S="",M="",y="",p=0,w=0;R>0;--R,++p)M=g.charCodeAt(p)^E.charCodeAt(p),w>=10&&(S+=y,y="",w=0),y+=String.fromCharCode(M),++w;return S+=y},t.hexToBytes=function(g){var E="",R=0;for(!0&g.length&&(R=1,E+=String.fromCharCode(parseInt(g[0],16)));R<g.length;R+=2)E+=String.fromCharCode(parseInt(g.substr(R,2),16));return E},t.bytesToHex=function(g){return t.createBuffer(g).toHex()},t.int32ToBytes=function(g){return String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g)};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.length;)R=g.charCodeAt(w++),S=g.charCodeAt(w++),M=g.charCodeAt(w++),y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.decode64=function(g){g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var E,R,S,M,y="",p=0;p<g.length;)E=n[g.charCodeAt(p++)-43],R=n[g.charCodeAt(p++)-43],S=n[g.charCodeAt(p++)-43],M=n[g.charCodeAt(p++)-43],y+=String.fromCharCode(E<<2|R>>4),S!==64&&(y+=String.fromCharCode((15&R)<<4|S>>2),M!==64&&(y+=String.fromCharCode((3&S)<<6|M)));return y},t.encodeUtf8=function(g){return unescape(encodeURIComponent(g))},t.decodeUtf8=function(g){return decodeURIComponent(escape(g))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:c.encode,decode:c.decode}},t.binary.raw.encode=function(g){return String.fromCharCode.apply(null,g)},t.binary.raw.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(Math.ceil(g.length/2)));var M=0,y=R=R||0;for(1&g.length&&(M=1,S[y++]=parseInt(g[0],16));M<g.length;M+=2)S[y++]=parseInt(g.substr(M,2),16);return E?y-R:S},t.binary.base64.encode=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.byteLength;)R=g[w++],S=g[w++],M=g[w++],y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.binary.base64.decode=function(g,E,R){var S,M,y,p,w=E;w||(w=new Uint8Array(3*Math.ceil(g.length/4))),g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var v=0,_=R=R||0;v<g.length;)S=n[g.charCodeAt(v++)-43],M=n[g.charCodeAt(v++)-43],y=n[g.charCodeAt(v++)-43],p=n[g.charCodeAt(v++)-43],w[_++]=S<<2|M>>4,y!==64&&(w[_++]=(15&M)<<4|y>>2,p!==64&&(w[_++]=(3&y)<<6|p));return E?_-R:w.subarray(0,_)},t.binary.base58.encode=function(g,E){return t.binary.baseN.encode(g,h,E)},t.binary.base58.decode=function(g,E){return t.binary.baseN.decode(g,h,E)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(g,E,R){g=t.encodeUtf8(g);var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.text.utf8.decode=function(g){return t.decodeUtf8(String.fromCharCode.apply(null,g))},t.text.utf16.encode=function(g,E,R){var S=E;S||(S=new Uint8Array(2*g.length));for(var M=new Uint16Array(S.buffer),y=R=R||0,p=R,w=0;w<g.length;++w)M[p++]=g.charCodeAt(w),y+=2;return E?y-R:S},t.text.utf16.decode=function(g){return String.fromCharCode.apply(null,new Uint16Array(g.buffer))},t.deflate=function(g,E,R){if(E=t.decode64(g.deflate(t.encode64(E)).rval),R){var S=2;32&E.charCodeAt(1)&&(S=6),E=E.substring(S,E.length-4)}return E},t.inflate=function(g,E,R){var S=g.inflate(t.encode64(E)).rval;return S===null?null:t.decode64(S)};var u=function(g,E,R){if(!g)throw new Error("WebStorage not available.");var S;if(R===null?S=g.removeItem(E):(R=t.encode64(JSON.stringify(R)),S=g.setItem(E,R)),S!==void 0&&S.rval!==!0){var M=new Error(S.error.message);throw M.id=S.error.id,M.name=S.error.name,M}},d=function(g,E){if(!g)throw new Error("WebStorage not available.");var R=g.getItem(E);if(g.init)if(R.rval===null){if(R.error){var S=new Error(R.error.message);throw S.id=R.error.id,S.name=R.error.name,S}R=null}else R=R.rval;return R!==null&&(R=JSON.parse(t.decode64(R))),R},l=function(g,E,R,S){var M=d(g,E);M===null&&(M={}),M[R]=S,u(g,E,M)},m=function(g,E,R){var S=d(g,E);return S!==null&&(S=R in S?S[R]:null),S},A=function(g,E,R){var S=d(g,E);if(S!==null&&R in S){delete S[R];var M=!0;for(var y in S){M=!1;break}M&&(S=null),u(g,E,S)}},B=function(g,E){u(g,E,null)},k=function(g,E,R){var S,M=null;R===void 0&&(R=["web","flash"]);var y=!1,p=null;for(var w in R){S=R[w];try{if(S==="flash"||S==="both"){if(E[0]===null)throw new Error("Flash local storage not available.");M=g.apply(this,E),y=S==="flash"}S!=="web"&&S!=="both"||(E[0]=localStorage,M=g.apply(this,E),y=!0)}catch(v){p=v}if(y)break}if(!y)throw p;return M};t.setItem=function(g,E,R,S,M){k(l,arguments,M)},t.getItem=function(g,E,R,S){return k(m,arguments,S)},t.removeItem=function(g,E,R,S){k(A,arguments,S)},t.clearItems=function(g,E,R){k(B,arguments,R)},t.parseUrl=function(g){var E=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;E.lastIndex=0;var R=E.exec(g),S=R===null?null:{full:g,scheme:R[1],host:R[2],port:R[3],path:R[4]};return S&&(S.fullHost=S.host,S.port?(S.port!==80&&S.scheme==="http"||S.port!==443&&S.scheme==="https")&&(S.fullHost+=":"+S.port):S.scheme==="http"?S.port=80:S.scheme==="https"&&(S.port=443),S.full=S.scheme+"://"+S.fullHost),S};var T=null;t.getQueryVariables=function(g){var E,R=function(S){for(var M={},y=S.split("&"),p=0;p<y.length;p++){var w,v,_=y[p].indexOf("=");_>0?(w=y[p].substring(0,_),v=y[p].substring(_+1)):(w=y[p],v=null),w in M||(M[w]=[]),w in Object.prototype||v===null||M[w].push(unescape(v))}return M};return g===void 0?(T===null&&(T=typeof window!="undefined"&&window.location&&window.location.search?R(window.location.search.substring(1)):{}),E=T):E=R(g),E},t.parseFragment=function(g){var E=g,R="",S=g.indexOf("?");S>0&&(E=g.substring(0,S),R=g.substring(S+1));var M=E.split("/");return M.length>0&&M[0]===""&&M.shift(),{pathString:E,queryString:R,path:M,query:R===""?{}:t.getQueryVariables(R)}},t.makeRequest=function(g){var E=t.parseFragment(g),R={path:E.pathString,query:E.queryString,getPath:function(S){return S===void 0?E.path:E.path[S]},getQuery:function(S,M){var y;return S===void 0?y=E.query:(y=E.query[S])&&M!==void 0&&(y=y[M]),y},getQueryLast:function(S,M){var y=R.getQuery(S);return y?y[y.length-1]:M}};return R},t.makeLink=function(g,E,R){g=jQuery.isArray(g)?g.join("/"):g;var S=jQuery.param(E||{});return R=R||"",g+(S.length>0?"?"+S:"")+(R.length>0?"#"+R:"")},t.setPath=function(g,E,R){if(typeof g=="object"&&g!==null)for(var S=0,M=E.length;S<M;){var y=E[S++];if(S==M)g[y]=R;else{var p=y in g;(!p||p&&typeof g[y]!="object"||p&&g[y]===null)&&(g[y]={}),g=g[y]}}},t.getPath=function(g,E,R){for(var S=0,M=E.length,y=!0;y&&S<M&&typeof g=="object"&&g!==null;){var p=E[S++];(y=p in g)&&(g=g[p])}return y?g:R},t.deletePath=function(g,E){if(typeof g=="object"&&g!==null)for(var R=0,S=E.length;R<S;){var M=E[R++];if(R==S)delete g[M];else{if(!(M in g)||typeof g[M]!="object"||g[M]===null)break;g=g[M]}}},t.isEmpty=function(g){for(var E in g)if(g.hasOwnProperty(E))return!1;return!0},t.format=function(g){for(var E,R,S=/%./g,M=0,y=[],p=0;E=S.exec(g);){(R=g.substring(p,S.lastIndex-2)).length>0&&y.push(R),p=S.lastIndex;var w=E[0][1];switch(w){case"s":case"o":M<arguments.length?y.push(arguments[1+M++]):y.push("<?>");break;case"%":y.push("%");break;default:y.push("<%"+w+"?>")}}return y.push(g.substring(p)),y.join("")},t.formatNumber=function(g,E,R,S){var M=g,y=isNaN(E=Math.abs(E))?2:E,p=R===void 0?",":R,w=S===void 0?".":S,v=M<0?"-":"",_=parseInt(M=Math.abs(+M||0).toFixed(y),10)+"",C=_.length>3?_.length%3:0;return v+(C?_.substr(0,C)+w:"")+_.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+w)+(y?p+Math.abs(M-_).toFixed(y).slice(2):"")},t.formatSize=function(g){return g=g>=1073741824?t.formatNumber(g/1073741824,2,".","")+" GiB":g>=1048576?t.formatNumber(g/1048576,2,".","")+" MiB":g>=1024?t.formatNumber(g/1024,0)+" KiB":t.formatNumber(g,0)+" bytes"},t.bytesFromIP=function(g){return g.indexOf(".")!==-1?t.bytesFromIPv4(g):g.indexOf(":")!==-1?t.bytesFromIPv6(g):null},t.bytesFromIPv4=function(g){if((g=g.split(".")).length!==4)return null;for(var E=t.createBuffer(),R=0;R<g.length;++R){var S=parseInt(g[R],10);if(isNaN(S))return null;E.putByte(S)}return E.getBytes()},t.bytesFromIPv6=function(g){for(var E=0,R=2*(8-(g=g.split(":").filter(function(p){return p.length===0&&++E,!0})).length+E),S=t.createBuffer(),M=0;M<8;++M)if(g[M]&&g[M].length!==0){var y=t.hexToBytes(g[M]);y.length<2&&S.putByte(0),S.putBytes(y)}else S.fillWithByte(0,R),R=0;return S.getBytes()},t.bytesToIP=function(g){return g.length===4?t.bytesToIPv4(g):g.length===16?t.bytesToIPv6(g):null},t.bytesToIPv4=function(g){if(g.length!==4)return null;for(var E=[],R=0;R<g.length;++R)E.push(g.charCodeAt(R));return E.join(".")},t.bytesToIPv6=function(g){if(g.length!==16)return null;for(var E=[],R=[],S=0,M=0;M<g.length;M+=2){for(var y=t.bytesToHex(g[M]+g[M+1]);y[0]==="0"&&y!=="0";)y=y.substr(1);if(y==="0"){var p=R[R.length-1],w=E.length;p&&w===p.end+1?(p.end=w,p.end-p.start>R[S].end-R[S].start&&(S=R.length-1)):R.push({start:w,end:w})}E.push(y)}if(R.length>0){var v=R[S];v.end-v.start>0&&(E.splice(v.start,v.end-v.start+1,""),v.start===0&&E.unshift(""),v.end===7&&E.push(""))}return E.join(":")},t.estimateCores=function(g,E){if(typeof g=="function"&&(E=g,g={}),g=g||{},"cores"in t&&!g.update)return E(null,t.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,E(null,t.cores);if(typeof Worker=="undefined")return t.cores=1,E(null,t.cores);if(typeof Blob=="undefined")return t.cores=2,E(null,t.cores);var R=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(S){for(var M=Date.now(),y=M+4;Date.now()<y;);self.postMessage({st:M,et:y})})}.toString(),")()"],{type:"application/javascript"}));!function S(M,y,p){if(y===0){var w=Math.floor(M.reduce(function(v,_){return v+_},0)/M.length);return t.cores=Math.max(1,w),URL.revokeObjectURL(R),E(null,t.cores)}!function(v,_){for(var C=[],L=[],O=0;O<v;++O){var U=new Worker(R);U.addEventListener("message",function(q){if(L.push(q.data),L.length===v){for(var H=0;H<v;++H)C[H].terminate();_(null,L)}}),C.push(U)}for(O=0;O<v;++O)C[O].postMessage(O)}(p,function(v,_){M.push(function(C,L){for(var O=[],U=0;U<C;++U)for(var q=L[U],H=O[U]=[],G=0;G<C;++G)if(U!==G){var K=L[G];(q.st>K.st&&q.st<K.et||K.st>q.st&&K.st<q.et)&&H.push(G)}return O.reduce(function(Q,z){return Math.max(Q,z.length)},0)}(p,_)),S(M,y-1,p)})}([],5,16)}}).call(this,b(37),b(44),b(8).Buffer)},function(N,x,b){(function(s,r,i){var f=b(2),c=b(435),t=N.exports=f.util=f.util||{};function a(g){if(g!==8&&g!==16&&g!==24&&g!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+g)}function o(g){if(this.data="",this.read=0,typeof g=="string")this.data=g;else if(t.isArrayBuffer(g)||t.isArrayBufferView(g))if(i!==void 0&&g instanceof i)this.data=g.toString("binary");else{var E=new Uint8Array(g);try{this.data=String.fromCharCode.apply(null,E)}catch(S){for(var R=0;R<E.length;++R)this.putByte(E[R])}}else(g instanceof o||typeof g=="object"&&typeof g.data=="string"&&typeof g.read=="number")&&(this.data=g.data,this.read=g.read);this._constructedStringLength=0}!function(){if(s!==void 0&&s.nextTick&&!s.browser)return t.nextTick=s.nextTick,void(typeof setImmediate=="function"?t.setImmediate=setImmediate:t.setImmediate=t.nextTick);if(typeof setImmediate=="function")return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(p){return setImmediate(p)});if(t.setImmediate=function(p){setTimeout(p,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){var g="forge.setImmediate",E=[];t.setImmediate=function(p){E.push(p),E.length===1&&window.postMessage(g,"*")},window.addEventListener("message",function(p){if(p.source===window&&p.data===g){p.stopPropagation();var w=E.slice();E.length=0,w.forEach(function(v){v()})}},!0)}if(typeof MutationObserver!="undefined"){var R=Date.now(),S=!0,M=document.createElement("div");E=[],new MutationObserver(function(){var p=E.slice();E.length=0,p.forEach(function(w){w()})}).observe(M,{attributes:!0});var y=t.setImmediate;t.setImmediate=function(p){Date.now()-R>15?(R=Date.now(),y(p)):(E.push(p),E.length===1&&M.setAttribute("a",S=!S))}}t.nextTick=t.setImmediate}(),t.isNodejs=s!==void 0&&s.versions&&s.versions.node,t.globalScope=t.isNodejs?r:typeof self=="undefined"?window:self,t.isArray=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"},t.isArrayBuffer=function(g){return typeof ArrayBuffer!="undefined"&&g instanceof ArrayBuffer},t.isArrayBufferView=function(g){return g&&t.isArrayBuffer(g.buffer)&&g.byteLength!==void 0},t.ByteBuffer=o,t.ByteStringBuffer=o,t.ByteStringBuffer.prototype._optimizeConstructedString=function(g){this._constructedStringLength+=g,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(g){return this.putBytes(String.fromCharCode(g))},t.ByteStringBuffer.prototype.fillWithByte=function(g,E){g=String.fromCharCode(g);for(var R=this.data;E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return this.data=R,this._optimizeConstructedString(E),this},t.ByteStringBuffer.prototype.putBytes=function(g){return this.data+=g,this._optimizeConstructedString(g.length),this},t.ByteStringBuffer.prototype.putString=function(g){return this.putBytes(t.encodeUtf8(g))},t.ByteStringBuffer.prototype.putInt16=function(g){return this.putBytes(String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt24=function(g){return this.putBytes(String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt32=function(g){return this.putBytes(String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g))},t.ByteStringBuffer.prototype.putInt16Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(g){return this.putBytes(String.fromCharCode(255&g)+String.fromCharCode(g>>8&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>24&255))},t.ByteStringBuffer.prototype.putInt=function(g,E){a(E);var R="";do E-=8,R+=String.fromCharCode(g>>E&255);while(E>0);return this.putBytes(R)},t.ByteStringBuffer.prototype.putSignedInt=function(g,E){return g<0&&(g+=2<<E-1),this.putInt(g,E)},t.ByteStringBuffer.prototype.putBuffer=function(g){return this.putBytes(g.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var g=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24=function(){var g=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32=function(){var g=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,g},t.ByteStringBuffer.prototype.getInt16Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,g},t.ByteStringBuffer.prototype.getInt24Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,g},t.ByteStringBuffer.prototype.getInt32Le=function(){var g=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,g},t.ByteStringBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.charCodeAt(this.read++),g-=8;while(g>0);return E},t.ByteStringBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.ByteStringBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.ByteStringBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.ByteStringBuffer.prototype.at=function(g){return this.data.charCodeAt(this.read+g)},t.ByteStringBuffer.prototype.setAt=function(g,E){return this.data=this.data.substr(0,this.read+g)+String.fromCharCode(E)+this.data.substr(this.read+g+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var g=t.createBuffer(this.data);return g.read=this.read,g},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(g){var E=Math.max(0,this.length()-g);return this.data=this.data.substr(this.read,E),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.length;++E){var R=this.data.charCodeAt(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(g,E){E=E||{},this.read=E.readOffset||0,this.growSize=E.growSize||1024;var R=t.isArrayBuffer(g),S=t.isArrayBufferView(g);if(R||S)return this.data=R?new DataView(g):new DataView(g.buffer,g.byteOffset,g.byteLength),void(this.write="writeOffset"in E?E.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,g!=null&&this.putBytes(g),"writeOffset"in E&&(this.write=E.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(g,E){if(this.length()>=g)return this;E=Math.max(E||this.growSize,g);var R=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),S=new Uint8Array(this.length()+E);return S.set(R),this.data=new DataView(S.buffer),this},t.DataBuffer.prototype.putByte=function(g){return this.accommodate(1),this.data.setUint8(this.write++,g),this},t.DataBuffer.prototype.fillWithByte=function(g,E){this.accommodate(E);for(var R=0;R<E;++R)this.data.setUint8(g);return this},t.DataBuffer.prototype.putBytes=function(g,E){if(t.isArrayBufferView(g)){var R=(S=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)).byteLength-S.byteOffset;return this.accommodate(R),new Uint8Array(this.data.buffer,this.write).set(S),this.write+=R,this}if(t.isArrayBuffer(g)){var S=new Uint8Array(g);return this.accommodate(S.byteLength),new Uint8Array(this.data.buffer).set(S,this.write),this.write+=S.byteLength,this}if(g instanceof t.DataBuffer||typeof g=="object"&&typeof g.read=="number"&&typeof g.write=="number"&&t.isArrayBufferView(g.data))return S=new Uint8Array(g.data.byteLength,g.read,g.length()),this.accommodate(S.byteLength),new Uint8Array(g.data.byteLength,this.write).set(S),this.write+=S.byteLength,this;if(g instanceof t.ByteStringBuffer&&(g=g.data,E="binary"),E=E||"binary",typeof g=="string"){var M;if(E==="hex")return this.accommodate(Math.ceil(g.length/2)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(g,M,this.write),this;if(E==="base64")return this.accommodate(3*Math.ceil(g.length/4)),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(g,M,this.write),this;if(E==="utf8"&&(g=t.encodeUtf8(g),E="binary"),E==="binary"||E==="raw")return this.accommodate(g.length),M=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(M),this;if(E==="utf16")return this.accommodate(2*g.length),M=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(M),this;throw new Error("Invalid encoding: "+E)}throw Error("Invalid parameter: "+g)},t.DataBuffer.prototype.putBuffer=function(g){return this.putBytes(g),g.clear(),this},t.DataBuffer.prototype.putString=function(g){return this.putBytes(g,"utf16")},t.DataBuffer.prototype.putInt16=function(g){return this.accommodate(2),this.data.setInt16(this.write,g),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(g){return this.accommodate(3),this.data.setInt16(this.write,g>>8&65535),this.data.setInt8(this.write,g>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(g){return this.accommodate(4),this.data.setInt32(this.write,g),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(g){return this.accommodate(2),this.data.setInt16(this.write,g,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(g){return this.accommodate(3),this.data.setInt8(this.write,g>>16&255),this.data.setInt16(this.write,g>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(g){return this.accommodate(4),this.data.setInt32(this.write,g,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(g,E){a(E),this.accommodate(E/8);do E-=8,this.data.setInt8(this.write++,g>>E&255);while(E>0);return this},t.DataBuffer.prototype.putSignedInt=function(g,E){return a(E),this.accommodate(E/8),g<0&&(g+=2<<E-1),this.putInt(g,E)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var g=this.data.getInt16(this.read);return this.read+=2,g},t.DataBuffer.prototype.getInt24=function(){var g=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,g},t.DataBuffer.prototype.getInt32=function(){var g=this.data.getInt32(this.read);return this.read+=4,g},t.DataBuffer.prototype.getInt16Le=function(){var g=this.data.getInt16(this.read,!0);return this.read+=2,g},t.DataBuffer.prototype.getInt24Le=function(){var g=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,g},t.DataBuffer.prototype.getInt32Le=function(){var g=this.data.getInt32(this.read,!0);return this.read+=4,g},t.DataBuffer.prototype.getInt=function(g){a(g);var E=0;do E=(E<<8)+this.data.getInt8(this.read++),g-=8;while(g>0);return E},t.DataBuffer.prototype.getSignedInt=function(g){var E=this.getInt(g),R=2<<g-2;return E>=R&&(E-=R<<1),E},t.DataBuffer.prototype.getBytes=function(g){var E;return g?(g=Math.min(this.length(),g),E=this.data.slice(this.read,this.read+g),this.read+=g):g===0?E="":(E=this.read===0?this.data:this.data.slice(this.read),this.clear()),E},t.DataBuffer.prototype.bytes=function(g){return g===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+g)},t.DataBuffer.prototype.at=function(g){return this.data.getUint8(this.read+g)},t.DataBuffer.prototype.setAt=function(g,E){return this.data.setUint8(g,E),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var g=new Uint8Array(this.data.buffer,this.read),E=new Uint8Array(g.byteLength);E.set(g),this.data=new DataView(E),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(g){return this.write=Math.max(0,this.length()-g),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var g="",E=this.read;E<this.data.byteLength;++E){var R=this.data.getUint8(E);R<16&&(g+="0"),g+=R.toString(16)}return g},t.DataBuffer.prototype.toString=function(g){var E=new Uint8Array(this.data,this.read,this.length());if((g=g||"utf8")==="binary"||g==="raw")return t.binary.raw.encode(E);if(g==="hex")return t.binary.hex.encode(E);if(g==="base64")return t.binary.base64.encode(E);if(g==="utf8")return t.text.utf8.decode(E);if(g==="utf16")return t.text.utf16.decode(E);throw new Error("Invalid encoding: "+g)},t.createBuffer=function(g,E){return E=E||"raw",g!==void 0&&E==="utf8"&&(g=t.encodeUtf8(g)),new t.ByteBuffer(g)},t.fillString=function(g,E){for(var R="";E>0;)1&E&&(R+=g),(E>>>=1)>0&&(g+=g);return R},t.xorBytes=function(g,E,R){for(var S="",M="",y="",p=0,w=0;R>0;--R,++p)M=g.charCodeAt(p)^E.charCodeAt(p),w>=10&&(S+=y,y="",w=0),y+=String.fromCharCode(M),++w;return S+=y},t.hexToBytes=function(g){var E="",R=0;for(!0&g.length&&(R=1,E+=String.fromCharCode(parseInt(g[0],16)));R<g.length;R+=2)E+=String.fromCharCode(parseInt(g.substr(R,2),16));return E},t.bytesToHex=function(g){return t.createBuffer(g).toHex()},t.int32ToBytes=function(g){return String.fromCharCode(g>>24&255)+String.fromCharCode(g>>16&255)+String.fromCharCode(g>>8&255)+String.fromCharCode(255&g)};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.length;)R=g.charCodeAt(w++),S=g.charCodeAt(w++),M=g.charCodeAt(w++),y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.decode64=function(g){g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var E,R,S,M,y="",p=0;p<g.length;)E=n[g.charCodeAt(p++)-43],R=n[g.charCodeAt(p++)-43],S=n[g.charCodeAt(p++)-43],M=n[g.charCodeAt(p++)-43],y+=String.fromCharCode(E<<2|R>>4),S!==64&&(y+=String.fromCharCode((15&R)<<4|S>>2),M!==64&&(y+=String.fromCharCode((3&S)<<6|M)));return y},t.encodeUtf8=function(g){return unescape(encodeURIComponent(g))},t.decodeUtf8=function(g){return decodeURIComponent(escape(g))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:c.encode,decode:c.decode}},t.binary.raw.encode=function(g){return String.fromCharCode.apply(null,g)},t.binary.raw.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(g,E,R){var S=E;S||(S=new Uint8Array(Math.ceil(g.length/2)));var M=0,y=R=R||0;for(1&g.length&&(M=1,S[y++]=parseInt(g[0],16));M<g.length;M+=2)S[y++]=parseInt(g.substr(M,2),16);return E?y-R:S},t.binary.base64.encode=function(g,E){for(var R,S,M,y="",p="",w=0;w<g.byteLength;)R=g[w++],S=g[w++],M=g[w++],y+=e.charAt(R>>2),y+=e.charAt((3&R)<<4|S>>4),isNaN(S)?y+="==":(y+=e.charAt((15&S)<<2|M>>6),y+=isNaN(M)?"=":e.charAt(63&M)),E&&y.length>E&&(p+=y.substr(0,E)+`\r
`,y=y.substr(E));return p+=y},t.binary.base64.decode=function(g,E,R){var S,M,y,p,w=E;w||(w=new Uint8Array(3*Math.ceil(g.length/4))),g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var v=0,_=R=R||0;v<g.length;)S=n[g.charCodeAt(v++)-43],M=n[g.charCodeAt(v++)-43],y=n[g.charCodeAt(v++)-43],p=n[g.charCodeAt(v++)-43],w[_++]=S<<2|M>>4,y!==64&&(w[_++]=(15&M)<<4|y>>2,p!==64&&(w[_++]=(3&y)<<6|p));return E?_-R:w.subarray(0,_)},t.binary.base58.encode=function(g,E){return t.binary.baseN.encode(g,h,E)},t.binary.base58.decode=function(g,E){return t.binary.baseN.decode(g,h,E)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(g,E,R){g=t.encodeUtf8(g);var S=E;S||(S=new Uint8Array(g.length));for(var M=R=R||0,y=0;y<g.length;++y)S[M++]=g.charCodeAt(y);return E?M-R:S},t.text.utf8.decode=function(g){return t.decodeUtf8(String.fromCharCode.apply(null,g))},t.text.utf16.encode=function(g,E,R){var S=E;S||(S=new Uint8Array(2*g.length));for(var M=new Uint16Array(S.buffer),y=R=R||0,p=R,w=0;w<g.length;++w)M[p++]=g.charCodeAt(w),y+=2;return E?y-R:S},t.text.utf16.decode=function(g){return String.fromCharCode.apply(null,new Uint16Array(g.buffer))},t.deflate=function(g,E,R){if(E=t.decode64(g.deflate(t.encode64(E)).rval),R){var S=2;32&E.charCodeAt(1)&&(S=6),E=E.substring(S,E.length-4)}return E},t.inflate=function(g,E,R){var S=g.inflate(t.encode64(E)).rval;return S===null?null:t.decode64(S)};var u=function(g,E,R){if(!g)throw new Error("WebStorage not available.");var S;if(R===null?S=g.removeItem(E):(R=t.encode64(JSON.stringify(R)),S=g.setItem(E,R)),S!==void 0&&S.rval!==!0){var M=new Error(S.error.message);throw M.id=S.error.id,M.name=S.error.name,M}},d=function(g,E){if(!g)throw new Error("WebStorage not available.");var R=g.getItem(E);if(g.init)if(R.rval===null){if(R.error){var S=new Error(R.error.message);throw S.id=R.error.id,S.name=R.error.name,S}R=null}else R=R.rval;return R!==null&&(R=JSON.parse(t.decode64(R))),R},l=function(g,E,R,S){var M=d(g,E);M===null&&(M={}),M[R]=S,u(g,E,M)},m=function(g,E,R){var S=d(g,E);return S!==null&&(S=R in S?S[R]:null),S},A=function(g,E,R){var S=d(g,E);if(S!==null&&R in S){delete S[R];var M=!0;for(var y in S){M=!1;break}M&&(S=null),u(g,E,S)}},B=function(g,E){u(g,E,null)},k=function(g,E,R){var S,M=null;R===void 0&&(R=["web","flash"]);var y=!1,p=null;for(var w in R){S=R[w];try{if(S==="flash"||S==="both"){if(E[0]===null)throw new Error("Flash local storage not available.");M=g.apply(this,E),y=S==="flash"}S!=="web"&&S!=="both"||(E[0]=localStorage,M=g.apply(this,E),y=!0)}catch(v){p=v}if(y)break}if(!y)throw p;return M};t.setItem=function(g,E,R,S,M){k(l,arguments,M)},t.getItem=function(g,E,R,S){return k(m,arguments,S)},t.removeItem=function(g,E,R,S){k(A,arguments,S)},t.clearItems=function(g,E,R){k(B,arguments,R)},t.parseUrl=function(g){var E=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;E.lastIndex=0;var R=E.exec(g),S=R===null?null:{full:g,scheme:R[1],host:R[2],port:R[3],path:R[4]};return S&&(S.fullHost=S.host,S.port?(S.port!==80&&S.scheme==="http"||S.port!==443&&S.scheme==="https")&&(S.fullHost+=":"+S.port):S.scheme==="http"?S.port=80:S.scheme==="https"&&(S.port=443),S.full=S.scheme+"://"+S.fullHost),S};var T=null;t.getQueryVariables=function(g){var E,R=function(S){for(var M={},y=S.split("&"),p=0;p<y.length;p++){var w,v,_=y[p].indexOf("=");_>0?(w=y[p].substring(0,_),v=y[p].substring(_+1)):(w=y[p],v=null),w in M||(M[w]=[]),w in Object.prototype||v===null||M[w].push(unescape(v))}return M};return g===void 0?(T===null&&(T=typeof window!="undefined"&&window.location&&window.location.search?R(window.location.search.substring(1)):{}),E=T):E=R(g),E},t.parseFragment=function(g){var E=g,R="",S=g.indexOf("?");S>0&&(E=g.substring(0,S),R=g.substring(S+1));var M=E.split("/");return M.length>0&&M[0]===""&&M.shift(),{pathString:E,queryString:R,path:M,query:R===""?{}:t.getQueryVariables(R)}},t.makeRequest=function(g){var E=t.parseFragment(g),R={path:E.pathString,query:E.queryString,getPath:function(S){return S===void 0?E.path:E.path[S]},getQuery:function(S,M){var y;return S===void 0?y=E.query:(y=E.query[S])&&M!==void 0&&(y=y[M]),y},getQueryLast:function(S,M){var y=R.getQuery(S);return y?y[y.length-1]:M}};return R},t.makeLink=function(g,E,R){g=jQuery.isArray(g)?g.join("/"):g;var S=jQuery.param(E||{});return R=R||"",g+(S.length>0?"?"+S:"")+(R.length>0?"#"+R:"")},t.setPath=function(g,E,R){if(typeof g=="object"&&g!==null)for(var S=0,M=E.length;S<M;){var y=E[S++];if(S==M)g[y]=R;else{var p=y in g;(!p||p&&typeof g[y]!="object"||p&&g[y]===null)&&(g[y]={}),g=g[y]}}},t.getPath=function(g,E,R){for(var S=0,M=E.length,y=!0;y&&S<M&&typeof g=="object"&&g!==null;){var p=E[S++];(y=p in g)&&(g=g[p])}return y?g:R},t.deletePath=function(g,E){if(typeof g=="object"&&g!==null)for(var R=0,S=E.length;R<S;){var M=E[R++];if(R==S)delete g[M];else{if(!(M in g)||typeof g[M]!="object"||g[M]===null)break;g=g[M]}}},t.isEmpty=function(g){for(var E in g)if(g.hasOwnProperty(E))return!1;return!0},t.format=function(g){for(var E,R,S=/%./g,M=0,y=[],p=0;E=S.exec(g);){(R=g.substring(p,S.lastIndex-2)).length>0&&y.push(R),p=S.lastIndex;var w=E[0][1];switch(w){case"s":case"o":M<arguments.length?y.push(arguments[1+M++]):y.push("<?>");break;case"%":y.push("%");break;default:y.push("<%"+w+"?>")}}return y.push(g.substring(p)),y.join("")},t.formatNumber=function(g,E,R,S){var M=g,y=isNaN(E=Math.abs(E))?2:E,p=R===void 0?",":R,w=S===void 0?".":S,v=M<0?"-":"",_=parseInt(M=Math.abs(+M||0).toFixed(y),10)+"",C=_.length>3?_.length%3:0;return v+(C?_.substr(0,C)+w:"")+_.substr(C).replace(/(\d{3})(?=\d)/g,"$1"+w)+(y?p+Math.abs(M-_).toFixed(y).slice(2):"")},t.formatSize=function(g){return g=g>=1073741824?t.formatNumber(g/1073741824,2,".","")+" GiB":g>=1048576?t.formatNumber(g/1048576,2,".","")+" MiB":g>=1024?t.formatNumber(g/1024,0)+" KiB":t.formatNumber(g,0)+" bytes"},t.bytesFromIP=function(g){return g.indexOf(".")!==-1?t.bytesFromIPv4(g):g.indexOf(":")!==-1?t.bytesFromIPv6(g):null},t.bytesFromIPv4=function(g){if((g=g.split(".")).length!==4)return null;for(var E=t.createBuffer(),R=0;R<g.length;++R){var S=parseInt(g[R],10);if(isNaN(S))return null;E.putByte(S)}return E.getBytes()},t.bytesFromIPv6=function(g){for(var E=0,R=2*(8-(g=g.split(":").filter(function(p){return p.length===0&&++E,!0})).length+E),S=t.createBuffer(),M=0;M<8;++M)if(g[M]&&g[M].length!==0){var y=t.hexToBytes(g[M]);y.length<2&&S.putByte(0),S.putBytes(y)}else S.fillWithByte(0,R),R=0;return S.getBytes()},t.bytesToIP=function(g){return g.length===4?t.bytesToIPv4(g):g.length===16?t.bytesToIPv6(g):null},t.bytesToIPv4=function(g){if(g.length!==4)return null;for(var E=[],R=0;R<g.length;++R)E.push(g.charCodeAt(R));return E.join(".")},t.bytesToIPv6=function(g){if(g.length!==16)return null;for(var E=[],R=[],S=0,M=0;M<g.length;M+=2){for(var y=t.bytesToHex(g[M]+g[M+1]);y[0]==="0"&&y!=="0";)y=y.substr(1);if(y==="0"){var p=R[R.length-1],w=E.length;p&&w===p.end+1?(p.end=w,p.end-p.start>R[S].end-R[S].start&&(S=R.length-1)):R.push({start:w,end:w})}E.push(y)}if(R.length>0){var v=R[S];v.end-v.start>0&&(E.splice(v.start,v.end-v.start+1,""),v.start===0&&E.unshift(""),v.end===7&&E.push(""))}return E.join(":")},t.estimateCores=function(g,E){if(typeof g=="function"&&(E=g,g={}),g=g||{},"cores"in t&&!g.update)return E(null,t.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,E(null,t.cores);if(typeof Worker=="undefined")return t.cores=1,E(null,t.cores);if(typeof Blob=="undefined")return t.cores=2,E(null,t.cores);var R=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(S){for(var M=Date.now(),y=M+4;Date.now()<y;);self.postMessage({st:M,et:y})})}.toString(),")()"],{type:"application/javascript"}));!function S(M,y,p){if(y===0){var w=Math.floor(M.reduce(function(v,_){return v+_},0)/M.length);return t.cores=Math.max(1,w),URL.revokeObjectURL(R),E(null,t.cores)}!function(v,_){for(var C=[],L=[],O=0;O<v;++O){var U=new Worker(R);U.addEventListener("message",function(q){if(L.push(q.data),L.length===v){for(var H=0;H<v;++H)C[H].terminate();_(null,L)}}),C.push(U)}for(O=0;O<v;++O)C[O].postMessage(O)}(p,function(v,_){M.push(function(C,L){for(var O=[],U=0;U<C;++U)for(var q=L[U],H=O[U]=[],G=0;G<C;++G)if(U!==G){var K=L[G];(q.st>K.st&&q.st<K.et||K.st>q.st&&K.st<q.et)&&H.push(G)}return O.reduce(function(Q,z){return Math.max(Q,z.length)},0)}(p,_)),S(M,y-1,p)})}([],5,16)}}).call(this,b(37),b(44),b(8).Buffer)},function(N,x,b){const{names:s}=b(74),{TextDecoder:r}=b(76),i=new r("utf8");N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.decode(f);if(c==="ascii")return function(a){let o="";for(let e=0;e<a.length;e++)o+=String.fromCharCode(a[e]);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.encode(f)}},function(N,x,b){const{names:s}=b(74),{TextEncoder:r}=b(76),i=new r;N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.encode(f);if(c==="ascii")return function(a){const o=new Uint8Array(a.length);for(let e=0;e<a.length;e++)o[e]=a.charCodeAt(e);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.decode(f)}},function(N,x,b){(function(s){var r=b(228),i=b(229),f=b(230);function c(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(I,P){if(c()<P)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(I=new Uint8Array(P)).__proto__=a.prototype:(I===null&&(I=new a(P)),I.length=P),I}function a(I,P,V){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(I,P,V);if(typeof I=="number"){if(typeof P=="string")throw new Error("If encoding is specified then the first argument must be a string");return n(this,I)}return o(this,I,P,V)}function o(I,P,V,$){if(typeof P=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&P instanceof ArrayBuffer?function(W,et,ot,j){if(et.byteLength,ot<0||et.byteLength<ot)throw new RangeError("'offset' is out of bounds");if(et.byteLength<ot+(j||0))throw new RangeError("'length' is out of bounds");return et=ot===void 0&&j===void 0?new Uint8Array(et):j===void 0?new Uint8Array(et,ot):new Uint8Array(et,ot,j),a.TYPED_ARRAY_SUPPORT?(W=et).__proto__=a.prototype:W=h(W,et),W}(I,P,V,$):typeof P=="string"?function(W,et,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!a.isEncoding(ot))throw new TypeError('"encoding" must be a valid string encoding');var j=0|d(et,ot),Y=(W=t(W,j)).write(et,ot);return Y!==j&&(W=W.slice(0,Y)),W}(I,P,V):function(W,et){if(a.isBuffer(et)){var ot=0|u(et.length);return(W=t(W,ot)).length===0||et.copy(W,0,0,ot),W}if(et){if(typeof ArrayBuffer!="undefined"&&et.buffer instanceof ArrayBuffer||"length"in et)return typeof et.length!="number"||(j=et.length)!=j?t(W,0):h(W,et);if(et.type==="Buffer"&&f(et.data))return h(W,et.data)}var j;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(I,P)}function e(I){if(typeof I!="number")throw new TypeError('"size" argument must be a number');if(I<0)throw new RangeError('"size" argument must not be negative')}function n(I,P){if(e(P),I=t(I,P<0?0:0|u(P)),!a.TYPED_ARRAY_SUPPORT)for(var V=0;V<P;++V)I[V]=0;return I}function h(I,P){var V=P.length<0?0:0|u(P.length);I=t(I,V);for(var $=0;$<V;$+=1)I[$]=255&P[$];return I}function u(I){if(I>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|I}function d(I,P){if(a.isBuffer(I))return I.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(I)||I instanceof ArrayBuffer))return I.byteLength;typeof I!="string"&&(I=""+I);var V=I.length;if(V===0)return 0;for(var $=!1;;)switch(P){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return z(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return D(I).length;default:if($)return z(I).length;P=(""+P).toLowerCase(),$=!0}}function l(I,P,V){var $=!1;if((P===void 0||P<0)&&(P=0),P>this.length)return"";if((V===void 0||V>this.length)&&(V=this.length),V<=0)return"";if((V>>>=0)<=(P>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return v(this,P,V);case"utf8":case"utf-8":return y(this,P,V);case"ascii":return p(this,P,V);case"latin1":case"binary":return w(this,P,V);case"base64":return M(this,P,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,P,V);default:if($)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),$=!0}}function m(I,P,V){var $=I[P];I[P]=I[V],I[V]=$}function A(I,P,V,$,W){if(I.length===0)return-1;if(typeof V=="string"?($=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=W?0:I.length-1),V<0&&(V=I.length+V),V>=I.length){if(W)return-1;V=I.length-1}else if(V<0){if(!W)return-1;V=0}if(typeof P=="string"&&(P=a.from(P,$)),a.isBuffer(P))return P.length===0?-1:B(I,P,V,$,W);if(typeof P=="number")return P&=255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(I,P,V):Uint8Array.prototype.lastIndexOf.call(I,P,V):B(I,[P],V,$,W);throw new TypeError("val must be string, number or Buffer")}function B(I,P,V,$,W){var et,ot=1,j=I.length,Y=P.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(I.length<2||P.length<2)return-1;ot=2,j/=2,Y/=2,V/=2}function X(Z,nt){return ot===1?Z[nt]:Z.readUInt16BE(nt*ot)}if(W){var tt=-1;for(et=V;et<j;et++)if(X(I,et)===X(P,tt===-1?0:et-tt)){if(tt===-1&&(tt=et),et-tt+1===Y)return tt*ot}else tt!==-1&&(et-=et-tt),tt=-1}else for(V+Y>j&&(V=j-Y),et=V;et>=0;et--){for(var rt=!0,J=0;J<Y;J++)if(X(I,et+J)!==X(P,J)){rt=!1;break}if(rt)return et}return-1}function k(I,P,V,$){V=Number(V)||0;var W=I.length-V;$?($=Number($))>W&&($=W):$=W;var et=P.length;if(et%2!=0)throw new TypeError("Invalid hex string");$>et/2&&($=et/2);for(var ot=0;ot<$;++ot){var j=parseInt(P.substr(2*ot,2),16);if(isNaN(j))return ot;I[V+ot]=j}return ot}function T(I,P,V,$){return F(z(P,I.length-V),I,V,$)}function g(I,P,V,$){return F(function(W){for(var et=[],ot=0;ot<W.length;++ot)et.push(255&W.charCodeAt(ot));return et}(P),I,V,$)}function E(I,P,V,$){return g(I,P,V,$)}function R(I,P,V,$){return F(D(P),I,V,$)}function S(I,P,V,$){return F(function(W,et){for(var ot,j,Y,X=[],tt=0;tt<W.length&&!((et-=2)<0);++tt)ot=W.charCodeAt(tt),j=ot>>8,Y=ot%256,X.push(Y),X.push(j);return X}(P,I.length-V),I,V,$)}function M(I,P,V){return P===0&&V===I.length?r.fromByteArray(I):r.fromByteArray(I.slice(P,V))}function y(I,P,V){V=Math.min(I.length,V);for(var $=[],W=P;W<V;){var et,ot,j,Y,X=I[W],tt=null,rt=X>239?4:X>223?3:X>191?2:1;if(W+rt<=V)switch(rt){case 1:X<128&&(tt=X);break;case 2:(192&(et=I[W+1]))==128&&(Y=(31&X)<<6|63&et)>127&&(tt=Y);break;case 3:et=I[W+1],ot=I[W+2],(192&et)==128&&(192&ot)==128&&(Y=(15&X)<<12|(63&et)<<6|63&ot)>2047&&(Y<55296||Y>57343)&&(tt=Y);break;case 4:et=I[W+1],ot=I[W+2],j=I[W+3],(192&et)==128&&(192&ot)==128&&(192&j)==128&&(Y=(15&X)<<18|(63&et)<<12|(63&ot)<<6|63&j)>65535&&Y<1114112&&(tt=Y)}tt===null?(tt=65533,rt=1):tt>65535&&(tt-=65536,$.push(tt>>>10&1023|55296),tt=56320|1023&tt),$.push(tt),W+=rt}return function(J){var Z=J.length;if(Z<=4096)return String.fromCharCode.apply(String,J);for(var nt="",it=0;it<Z;)nt+=String.fromCharCode.apply(String,J.slice(it,it+=4096));return nt}($)}x.Buffer=a,x.SlowBuffer=function(I){return+I!=I&&(I=0),a.alloc(+I)},x.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42&&typeof I.subarray=="function"&&I.subarray(1,1).byteLength===0}catch(P){return!1}}(),x.kMaxLength=c(),a.poolSize=8192,a._augment=function(I){return I.__proto__=a.prototype,I},a.from=function(I,P,V){return o(null,I,P,V)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(I,P,V){return function($,W,et,ot){return e(W),W<=0?t($,W):et!==void 0?typeof ot=="string"?t($,W).fill(et,ot):t($,W).fill(et):t($,W)}(null,I,P,V)},a.allocUnsafe=function(I){return n(null,I)},a.allocUnsafeSlow=function(I){return n(null,I)},a.isBuffer=function(I){return!(I==null||!I._isBuffer)},a.compare=function(I,P){if(!a.isBuffer(I)||!a.isBuffer(P))throw new TypeError("Arguments must be Buffers");if(I===P)return 0;for(var V=I.length,$=P.length,W=0,et=Math.min(V,$);W<et;++W)if(I[W]!==P[W]){V=I[W],$=P[W];break}return V<$?-1:$<V?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,P){if(!f(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);var V;if(P===void 0)for(P=0,V=0;V<I.length;++V)P+=I[V].length;var $=a.allocUnsafe(P),W=0;for(V=0;V<I.length;++V){var et=I[V];if(!a.isBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy($,W),W+=et.length}return $},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<I;P+=2)m(this,P,P+1);return this},a.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<I;P+=4)m(this,P,P+3),m(this,P+1,P+2);return this},a.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<I;P+=8)m(this,P,P+7),m(this,P+1,P+6),m(this,P+2,P+5),m(this,P+3,P+4);return this},a.prototype.toString=function(){var I=0|this.length;return I===0?"":arguments.length===0?y(this,0,I):l.apply(this,arguments)},a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||a.compare(this,I)===0},a.prototype.inspect=function(){var I="",P=x.INSPECT_MAX_BYTES;return this.length>0&&(I=this.toString("hex",0,P).match(/.{2}/g).join(" "),this.length>P&&(I+=" ... ")),"<Buffer "+I+">"},a.prototype.compare=function(I,P,V,$,W){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");if(P===void 0&&(P=0),V===void 0&&(V=I?I.length:0),$===void 0&&($=0),W===void 0&&(W=this.length),P<0||V>I.length||$<0||W>this.length)throw new RangeError("out of range index");if($>=W&&P>=V)return 0;if($>=W)return-1;if(P>=V)return 1;if(this===I)return 0;for(var et=(W>>>=0)-($>>>=0),ot=(V>>>=0)-(P>>>=0),j=Math.min(et,ot),Y=this.slice($,W),X=I.slice(P,V),tt=0;tt<j;++tt)if(Y[tt]!==X[tt]){et=Y[tt],ot=X[tt];break}return et<ot?-1:ot<et?1:0},a.prototype.includes=function(I,P,V){return this.indexOf(I,P,V)!==-1},a.prototype.indexOf=function(I,P,V){return A(this,I,P,V,!0)},a.prototype.lastIndexOf=function(I,P,V){return A(this,I,P,V,!1)},a.prototype.write=function(I,P,V,$){if(P===void 0)$="utf8",V=this.length,P=0;else if(V===void 0&&typeof P=="string")$=P,V=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P|=0,isFinite(V)?(V|=0,$===void 0&&($="utf8")):($=V,V=void 0)}var W=this.length-P;if((V===void 0||V>W)&&(V=W),I.length>0&&(V<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var et=!1;;)switch($){case"hex":return k(this,I,P,V);case"utf8":case"utf-8":return T(this,I,P,V);case"ascii":return g(this,I,P,V);case"latin1":case"binary":return E(this,I,P,V);case"base64":return R(this,I,P,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,I,P,V);default:if(et)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),et=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(I,P,V){var $="";V=Math.min(I.length,V);for(var W=P;W<V;++W)$+=String.fromCharCode(127&I[W]);return $}function w(I,P,V){var $="";V=Math.min(I.length,V);for(var W=P;W<V;++W)$+=String.fromCharCode(I[W]);return $}function v(I,P,V){var $=I.length;(!P||P<0)&&(P=0),(!V||V<0||V>$)&&(V=$);for(var W="",et=P;et<V;++et)W+=Q(I[et]);return W}function _(I,P,V){for(var $=I.slice(P,V),W="",et=0;et<$.length;et+=2)W+=String.fromCharCode($[et]+256*$[et+1]);return W}function C(I,P,V){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+P>V)throw new RangeError("Trying to access beyond buffer length")}function L(I,P,V,$,W,et){if(!a.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>W||P<et)throw new RangeError('"value" argument is out of bounds');if(V+$>I.length)throw new RangeError("Index out of range")}function O(I,P,V,$){P<0&&(P=65535+P+1);for(var W=0,et=Math.min(I.length-V,2);W<et;++W)I[V+W]=(P&255<<8*($?W:1-W))>>>8*($?W:1-W)}function U(I,P,V,$){P<0&&(P=4294967295+P+1);for(var W=0,et=Math.min(I.length-V,4);W<et;++W)I[V+W]=P>>>8*($?W:3-W)&255}function q(I,P,V,$,W,et){if(V+$>I.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function H(I,P,V,$,W){return W||q(I,0,V,4),i.write(I,P,V,$,23,4),V+4}function G(I,P,V,$,W){return W||q(I,0,V,8),i.write(I,P,V,$,52,8),V+8}a.prototype.slice=function(I,P){var V,$=this.length;if((I=~~I)<0?(I+=$)<0&&(I=0):I>$&&(I=$),(P=P===void 0?$:~~P)<0?(P+=$)<0&&(P=0):P>$&&(P=$),P<I&&(P=I),a.TYPED_ARRAY_SUPPORT)(V=this.subarray(I,P)).__proto__=a.prototype;else{var W=P-I;V=new a(W,void 0);for(var et=0;et<W;++et)V[et]=this[et+I]}return V},a.prototype.readUIntLE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I],W=1,et=0;++et<P&&(W*=256);)$+=this[I+et]*W;return $},a.prototype.readUIntBE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I+--P],W=1;P>0&&(W*=256);)$+=this[I+--P]*W;return $},a.prototype.readUInt8=function(I,P){return P||C(I,1,this.length),this[I]},a.prototype.readUInt16LE=function(I,P){return P||C(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUInt16BE=function(I,P){return P||C(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUInt32LE=function(I,P){return P||C(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},a.prototype.readUInt32BE=function(I,P){return P||C(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readIntLE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=this[I],W=1,et=0;++et<P&&(W*=256);)$+=this[I+et]*W;return $>=(W*=128)&&($-=Math.pow(2,8*P)),$},a.prototype.readIntBE=function(I,P,V){I|=0,P|=0,V||C(I,P,this.length);for(var $=P,W=1,et=this[I+--$];$>0&&(W*=256);)et+=this[I+--$]*W;return et>=(W*=128)&&(et-=Math.pow(2,8*P)),et},a.prototype.readInt8=function(I,P){return P||C(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},a.prototype.readInt16LE=function(I,P){P||C(I,2,this.length);var V=this[I]|this[I+1]<<8;return 32768&V?4294901760|V:V},a.prototype.readInt16BE=function(I,P){P||C(I,2,this.length);var V=this[I+1]|this[I]<<8;return 32768&V?4294901760|V:V},a.prototype.readInt32LE=function(I,P){return P||C(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,P){return P||C(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readFloatLE=function(I,P){return P||C(I,4,this.length),i.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,P){return P||C(I,4,this.length),i.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,P){return P||C(I,8,this.length),i.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,P){return P||C(I,8,this.length),i.read(this,I,!1,52,8)},a.prototype.writeUIntLE=function(I,P,V,$){(I=+I,P|=0,V|=0,$)||L(this,I,P,V,Math.pow(2,8*V)-1,0);var W=1,et=0;for(this[P]=255&I;++et<V&&(W*=256);)this[P+et]=I/W&255;return P+V},a.prototype.writeUIntBE=function(I,P,V,$){(I=+I,P|=0,V|=0,$)||L(this,I,P,V,Math.pow(2,8*V)-1,0);var W=V-1,et=1;for(this[P+W]=255&I;--W>=0&&(et*=256);)this[P+W]=I/et&255;return P+V},a.prototype.writeUInt8=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,1,255,0),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),this[P]=255&I,P+1},a.prototype.writeUInt16LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8):O(this,I,P,!0),P+2},a.prototype.writeUInt16BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>8,this[P+1]=255&I):O(this,I,P,!1),P+2},a.prototype.writeUInt32LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[P+3]=I>>>24,this[P+2]=I>>>16,this[P+1]=I>>>8,this[P]=255&I):U(this,I,P,!0),P+4},a.prototype.writeUInt32BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=255&I):U(this,I,P,!1),P+4},a.prototype.writeIntLE=function(I,P,V,$){if(I=+I,P|=0,!$){var W=Math.pow(2,8*V-1);L(this,I,P,V,W-1,-W)}var et=0,ot=1,j=0;for(this[P]=255&I;++et<V&&(ot*=256);)I<0&&j===0&&this[P+et-1]!==0&&(j=1),this[P+et]=(I/ot>>0)-j&255;return P+V},a.prototype.writeIntBE=function(I,P,V,$){if(I=+I,P|=0,!$){var W=Math.pow(2,8*V-1);L(this,I,P,V,W-1,-W)}var et=V-1,ot=1,j=0;for(this[P+et]=255&I;--et>=0&&(ot*=256);)I<0&&j===0&&this[P+et+1]!==0&&(j=1),this[P+et]=(I/ot>>0)-j&255;return P+V},a.prototype.writeInt8=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,1,127,-128),a.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),I<0&&(I=255+I+1),this[P]=255&I,P+1},a.prototype.writeInt16LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8):O(this,I,P,!0),P+2},a.prototype.writeInt16BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>8,this[P+1]=255&I):O(this,I,P,!1),P+2},a.prototype.writeInt32LE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[P]=255&I,this[P+1]=I>>>8,this[P+2]=I>>>16,this[P+3]=I>>>24):U(this,I,P,!0),P+4},a.prototype.writeInt32BE=function(I,P,V){return I=+I,P|=0,V||L(this,I,P,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),a.TYPED_ARRAY_SUPPORT?(this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=255&I):U(this,I,P,!1),P+4},a.prototype.writeFloatLE=function(I,P,V){return H(this,I,P,!0,V)},a.prototype.writeFloatBE=function(I,P,V){return H(this,I,P,!1,V)},a.prototype.writeDoubleLE=function(I,P,V){return G(this,I,P,!0,V)},a.prototype.writeDoubleBE=function(I,P,V){return G(this,I,P,!1,V)},a.prototype.copy=function(I,P,V,$){if(V||(V=0),$||$===0||($=this.length),P>=I.length&&(P=I.length),P||(P=0),$>0&&$<V&&($=V),$===V)return 0;if(I.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),I.length-P<$-V&&($=I.length-P+V);var W,et=$-V;if(this===I&&V<P&&P<$)for(W=et-1;W>=0;--W)I[W+P]=this[W+V];else if(et<1e3||!a.TYPED_ARRAY_SUPPORT)for(W=0;W<et;++W)I[W+P]=this[W+V];else Uint8Array.prototype.set.call(I,this.subarray(V,V+et),P);return et},a.prototype.fill=function(I,P,V,$){if(typeof I=="string"){if(typeof P=="string"?($=P,P=0,V=this.length):typeof V=="string"&&($=V,V=this.length),I.length===1){var W=I.charCodeAt(0);W<256&&(I=W)}if($!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!a.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else typeof I=="number"&&(I&=255);if(P<0||this.length<P||this.length<V)throw new RangeError("Out of range index");if(V<=P)return this;var et;if(P>>>=0,V=V===void 0?this.length:V>>>0,I||(I=0),typeof I=="number")for(et=P;et<V;++et)this[et]=I;else{var ot=a.isBuffer(I)?I:z(new a(I,$).toString()),j=ot.length;for(et=0;et<V-P;++et)this[et+P]=ot[et%j]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function Q(I){return I<16?"0"+I.toString(16):I.toString(16)}function z(I,P){var V;P=P||1/0;for(var $=I.length,W=null,et=[],ot=0;ot<$;++ot){if((V=I.charCodeAt(ot))>55295&&V<57344){if(!W){if(V>56319){(P-=3)>-1&&et.push(239,191,189);continue}if(ot+1===$){(P-=3)>-1&&et.push(239,191,189);continue}W=V;continue}if(V<56320){(P-=3)>-1&&et.push(239,191,189),W=V;continue}V=65536+(W-55296<<10|V-56320)}else W&&(P-=3)>-1&&et.push(239,191,189);if(W=null,V<128){if((P-=1)<0)break;et.push(V)}else if(V<2048){if((P-=2)<0)break;et.push(V>>6|192,63&V|128)}else if(V<65536){if((P-=3)<0)break;et.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;et.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return et}function D(I){return r.toByteArray(function(P){if((P=function(V){return V.trim?V.trim():V.replace(/^\s+|\s+$/g,"")}(P).replace(K,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(I))}function F(I,P,V,$){for(var W=0;W<$&&!(W+V>=P.length||W>=I.length);++W)P[W+V]=I[W];return W}}).call(this,b(44))},function(N,x,b){const s=b(42),r=b(56),i=b(77),f=b(89),{PeerIdProto:c}=b(279),t=b(19),a=b(7),o=b(6),e=f(class{constructor(d,l,m){if(!(d instanceof Uint8Array))throw new Error("invalid id provided");if(l&&m&&!t(l.public.bytes,m.bytes))throw new Error("inconsistent arguments");this._id=d,this._idB58String=s.toB58String(this.id),this._privKey=l,this._pubKey=m}get id(){return this._id}set id(d){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(d){this._privKey=d}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{const d=s.decode(this.id);d.name==="identity"&&(this._pubKey=i.unmarshalPublicKey(d.digest))}catch(d){}return this._pubKey}set pubKey(d){this._pubKey=d}marshalPubKey(){if(this.pubKey)return i.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return i.marshalPrivateKey(this.privKey)}marshal(d){return c.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:d?null:this.marshalPrivKey()})}toPrint(){let d=this.toB58String();d.startsWith("Qm")&&(d=d.slice(2));let l=6;return d.length<l&&(l=d.length),"<peer.ID "+d.substr(0,l)+">"}toJSON(){return{id:this.toB58String(),privKey:u(this.marshalPrivKey()),pubKey:u(this.marshalPubKey())}}toHexString(){return s.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const d=new r(1,"libp2p-key",this.id,"base32");this._idCIDString=d.toBaseEncodedString("base32")}return this._idCIDString}equals(d){if(d instanceof Uint8Array)return t(this.id,d);if(d.id)return t(this.id,d.id);throw new Error("not valid Id")}isEqual(d){return this.equals(d)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&t(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(s.decode(this.id).name==="identity")return!0}catch(d){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});x=N.exports=e;const n=d=>d.bytes.length<=42?s.encode(d.bytes,"identity"):d.hash(),h=async(d,l)=>{const m=await n(l);return new e(m,d,l)};x.create=async d=>{(d=d||{}).bits=d.bits||2048,d.keyType=d.keyType||"RSA";const l=await i.generateKeyPair(d.keyType,d.bits);return h(l,l.public)},x.createFromHexString=d=>new e(s.fromHexString(d)),x.createFromBytes=d=>new e(d),x.createFromB58String=d=>x.createFromCID(d);function u(d){if(d)return o(d,"base64pad")}x.createFromCID=d=>{if(!(l=>l.codec==="libp2p-key"||l.codec==="dag-pb")(d=r.isCID(d)?d:new r(d)))throw new Error("Supplied PeerID CID has invalid multicodec: "+d.codec);return new e(d.multihash)},x.createFromPubKey=async d=>{let l=d;if(typeof l=="string"&&(l=a(d,"base64pad")),!(l instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const m=await i.unmarshalPublicKey(l);return h(null,m)},x.createFromPrivKey=async d=>{if(typeof d=="string"&&(d=a(d,"base64pad")),!(d instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const l=await i.unmarshalPrivateKey(d);return h(l,l.public)},x.createFromJSON=async d=>{const l=s.fromB58String(d.id),m=d.privKey&&a(d.privKey,"base64pad"),A=d.pubKey&&a(d.pubKey,"base64pad"),B=A&&await i.unmarshalPublicKey(A);if(!m)return new e(l,null,B);const k=await i.unmarshalPrivateKey(m),T=await n(k.public);let g;if(B&&(g=await n(B)),B&&!t(T,g))throw new Error("Public and private key do not match");if(l&&!t(T,l))throw new Error("Id and private key do not match");return new e(l,k,B)},x.createFromProtobuf=async d=>{typeof d=="string"&&(d=a(d,"base16"));let l,m,{id:A,privKey:B,pubKey:k}=c.decode(d);if(B=!!B&&await i.unmarshalPrivateKey(B),k=!!k&&await i.unmarshalPublicKey(k),B&&(m=await n(B.public)),k&&(l=await n(k)),B){if(k&&!t(m,l))throw new Error("Public and private key do not match");return new e(m,B,B.public)}if(k)return new e(l,null,k);if(A)return new e(A);throw new Error("Protobuf did not contain any usable key material")},x.isPeerId=d=>Boolean(typeof d=="object"&&d._id&&d._idB58String)},function(N,x,b){x.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"},x.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}},function(N,x,b){N.exports={encode:b(210),decode:b(211),encodingLength:b(212)}},function(N,x,b){const{names:s}=b(100),{TextDecoder:r}=b(102),i=new r("utf8");N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.decode(f);if(c==="ascii")return function(a){let o="";for(let e=0;e<a.length;e++)o+=String.fromCharCode(a[e]);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.encode(f)}},function(N,x,b){N.exports=function(s,r,i,f){return r.bytes=i.bytes=0,{type:s,encode:r,decode:i,encodingLength:f}}},function(N,x,b){const s=b(287),r=b(62),i=b(11),f=b(56),c=b(89),t=b(1),a=Symbol.for("nodejs.util.inspect.custom"),o=b(6),e=b(19),n=new Map,h=c.proto(function(u){if(!(this instanceof h))return new h(u);if(u==null&&(u=""),u instanceof Uint8Array)this.bytes=s.fromBytes(u);else if(typeof u=="string"||u instanceof String){if(u.length>0&&u.charAt(0)!=="/")throw new Error(`multiaddr "${u}" must start with a "/"`);this.bytes=s.fromString(u)}else{if(!(u.bytes&&u.protos&&u.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=s.fromBytes(u.bytes)}},{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});h.prototype.toString=function(){return s.bytesToString(this.bytes)},h.prototype.toJSON=h.prototype.toString,h.prototype.toOptions=function(){const u={},d=this.toString().split("/");return u.family=d[1]==="ip4"?"ipv4":"ipv6",u.host=d[2],u.transport=d[3],u.port=parseInt(d[4]),u},h.prototype[a]=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.inspect=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.protos=function(){return this.protoCodes().map(u=>Object.assign({},r(u)))},h.prototype.protoCodes=function(){const u=[],d=this.bytes;let l=0;for(;l<d.length;){const m=i.decode(d,l),A=i.decode.bytes,B=r(m);l+=s.sizeForAddr(B,d.slice(l+A))+A,u.push(m)}return u},h.prototype.protoNames=function(){return this.protos().map(u=>u.name)},h.prototype.tuples=function(){return s.bytesToTuples(this.bytes)},h.prototype.stringTuples=function(){const u=s.bytesToTuples(this.bytes);return s.tuplesToStringTuples(u)},h.prototype.encapsulate=function(u){return u=h(u),h(this.toString()+u.toString())},h.prototype.decapsulate=function(u){u=u.toString();const d=this.toString(),l=d.lastIndexOf(u);if(l<0)throw new Error("Address "+this+" does not contain subaddress: "+u);return h(d.slice(0,l))},h.prototype.decapsulateCode=function(u){const d=this.tuples();for(let l=d.length-1;l>=0;l--)if(d[l][0]===u)return h(s.tuplesToBytes(d.slice(0,l)));return this},h.prototype.getPeerId=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(d[0]===r.names.ipfs.code)return!0}).pop()[1],u=o(new f(u).multihash,"base58btc")}catch(d){u=null}return u},h.prototype.getPath=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(r(d[0]).path)return!0})[0][1]}catch(d){u=null}return u},h.prototype.equals=function(u){return e(this.bytes,u.bytes)},h.prototype.resolve=async function(){const u=this.protos().find(l=>l.resolvable);if(!u)return[this];const d=n.get(u.name);if(!d)throw t(new Error("no available resolver for "+u.name),"ERR_NO_AVAILABLE_RESOLVER");return(await d(this)).map(l=>h(l))},h.prototype.nodeAddress=function(){const u=this.protoCodes(),d=this.protoNames(),l=this.toString().split("/").slice(1);if(l.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(u[0]!==4&&u[0]!==41&&u[0]!==54&&u[0]!==55)throw new Error(`no protocol with name: "'${d[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(l[2]!=="tcp"&&l[2]!=="udp")throw new Error(`no protocol with name: "'${d[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:u[0]===41||u[0]===55?6:4,address:l[1],port:parseInt(l[3])}},h.fromNodeAddress=function(u,d){if(!u)throw new Error("requires node address object");if(!d)throw new Error("requires transport protocol");let l;switch(u.family){case"IPv4":l="ip4";break;case"IPv6":l="ip6";break;default:throw Error(`Invalid addr family. Got '${u.family}' instead of 'IPv4' or 'IPv6'`)}return h("/"+[l,u.address,d,u.port].join("/"))},h.prototype.isThinWaistAddress=function(u){const d=(u||this).protos();return d.length===2&&(d[0].code===4||d[0].code===41)&&(d[1].code===6||d[1].code===273)},h.protocols=r,h.isName=function(u){return!!h.isMultiaddr(u)&&u.protos().some(d=>d.resolvable)},h.resolve=function(u){return h.isMultiaddr(u)&&h.isName(u)?Promise.reject(new Error("not implemented yet")):Promise.reject(Error("not a valid name"))},h.resolvers=n,N.exports=h},function(N,x,b){N.exports=function(s,r,i,f){return r.bytes=i.bytes=0,{type:s,encode:r,decode:i,encodingLength:f}}},function(N,x,b){N.exports={encode:b(417),decode:b(418),encodingLength:b(419)}},function(N,x,b){var s=x,r=b(26),i=b(33),f=b(125);s.assert=i,s.toArray=f.toArray,s.zero2=f.zero2,s.toHex=f.toHex,s.encode=f.encode,s.getNAF=function(c,t,a){var o=new Array(Math.max(c.bitLength(),a)+1);o.fill(0);for(var e=1<<t+1,n=c.clone(),h=0;h<o.length;h++){var u,d=n.andln(e-1);n.isOdd()?(u=d>(e>>1)-1?(e>>1)-d:d,n.isubn(u)):u=0,o[h]=u,n.iushrn(1)}return o},s.getJSF=function(c,t){var a=[[],[]];c=c.clone(),t=t.clone();for(var o=0,e=0;c.cmpn(-o)>0||t.cmpn(-e)>0;){var n,h,u,d=c.andln(3)+o&3,l=t.andln(3)+e&3;(d===3&&(d=-1),l===3&&(l=-1),(1&d)==0)?n=0:n=(u=c.andln(7)+o&7)!==3&&u!==5||l!==2?d:-d,(a[0].push(n),(1&l)==0)?h=0:h=(u=t.andln(7)+e&7)!==3&&u!==5||d!==2?l:-l,a[1].push(h),2*o===n+1&&(o=1-o),2*e===h+1&&(e=1-e),c.iushrn(1),t.iushrn(1)}return a},s.cachedProperty=function(c,t,a){var o="_"+t;c.prototype[t]=function(){return this[o]!==void 0?this[o]:this[o]=a.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new r(c,"hex","le")}},function(N,x,b){var s=x,r=b(28),i=b(36),f=b(175);s.assert=i,s.toArray=f.toArray,s.zero2=f.zero2,s.toHex=f.toHex,s.encode=f.encode,s.getNAF=function(c,t,a){var o=new Array(Math.max(c.bitLength(),a)+1);o.fill(0);for(var e=1<<t+1,n=c.clone(),h=0;h<o.length;h++){var u,d=n.andln(e-1);n.isOdd()?(u=d>(e>>1)-1?(e>>1)-d:d,n.isubn(u)):u=0,o[h]=u,n.iushrn(1)}return o},s.getJSF=function(c,t){var a=[[],[]];c=c.clone(),t=t.clone();for(var o=0,e=0;c.cmpn(-o)>0||t.cmpn(-e)>0;){var n,h,u,d=c.andln(3)+o&3,l=t.andln(3)+e&3;(d===3&&(d=-1),l===3&&(l=-1),(1&d)==0)?n=0:n=(u=c.andln(7)+o&7)!==3&&u!==5||l!==2?d:-d,(a[0].push(n),(1&l)==0)?h=0:h=(u=t.andln(7)+e&7)!==3&&u!==5||d!==2?l:-l,a[1].push(h),2*o===n+1&&(o=1-o),2*e===h+1&&(e=1-e),c.iushrn(1),t.iushrn(1)}return a},s.cachedProperty=function(c,t,a){var o="_"+t;c.prototype[t]=function(){return this[o]!==void 0?this[o]:this[o]=a.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new r(c,"hex","le")}},function(N,x,b){N.exports=function(s,r){if(s===r)return!0;if(s.byteLength!==r.byteLength)return!1;for(let i=0;i<s.byteLength;i++)if(s[i]!==r[i])return!1;return!0}},function(N,x,b){const{names:s}=b(100),{TextEncoder:r}=b(102),i=new r;N.exports=function(f,c="utf8"){if(c==="utf8"||c==="utf-8")return i.encode(f);if(c==="ascii")return function(a){const o=new Uint8Array(a.length);for(let e=0;e<a.length;e++)o[e]=a.charCodeAt(e);return o}(f);const t=s[c];if(!t)throw new Error("Unknown base");return t.decode(f)}},function(N,x,b){N.exports=function(s,r){r||(r=s.reduce((c,t)=>c+t.length,0));const i=new Uint8Array(r);let f=0;for(const c of s)i.set(c,f),f+=c.length;return i}},function(N,x,b){var s=b(203),r=b(207);N.exports=function(i,f){if(f||(f={}),!i)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var c=typeof i!="object"||i instanceof Uint8Array?s.parse(i):i,t=function(){var a=this;r(c,f.encodings||{}).forEach(function(o){a[o.name]=function(e){if(!e)return null;var n={};return Object.keys(e).forEach(function(h){n[h]=e[h].value}),n}(o.values)||o})};return t.prototype.toString=function(){return s.stringify(c)},t.prototype.toJSON=function(){return c},new t}},function(N,x,b){var s=b(33),r=b(61);function i(a,o){return(64512&a.charCodeAt(o))==55296&&!(o<0||o+1>=a.length)&&(64512&a.charCodeAt(o+1))==56320}function f(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function c(a){return a.length===1?"0"+a:a}function t(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}x.inherits=r,x.toArray=function(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var e=[];if(typeof a=="string")if(o){if(o==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),h=0;h<a.length;h+=2)e.push(parseInt(a[h]+a[h+1],16))}else for(var n=0,h=0;h<a.length;h++){var u=a.charCodeAt(h);u<128?e[n++]=u:u<2048?(e[n++]=u>>6|192,e[n++]=63&u|128):i(a,h)?(u=65536+((1023&u)<<10)+(1023&a.charCodeAt(++h)),e[n++]=u>>18|240,e[n++]=u>>12&63|128,e[n++]=u>>6&63|128,e[n++]=63&u|128):(e[n++]=u>>12|224,e[n++]=u>>6&63|128,e[n++]=63&u|128)}else for(h=0;h<a.length;h++)e[h]=0|a[h];return e},x.toHex=function(a){for(var o="",e=0;e<a.length;e++)o+=c(a[e].toString(16));return o},x.htonl=f,x.toHex32=function(a,o){for(var e="",n=0;n<a.length;n++){var h=a[n];o==="little"&&(h=f(h)),e+=t(h.toString(16))}return e},x.zero2=c,x.zero8=t,x.join32=function(a,o,e,n){var h=e-o;s(h%4==0);for(var u=new Array(h/4),d=0,l=o;d<u.length;d++,l+=4){var m;m=n==="big"?a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3]:a[l+3]<<24|a[l+2]<<16|a[l+1]<<8|a[l],u[d]=m>>>0}return u},x.split32=function(a,o){for(var e=new Array(4*a.length),n=0,h=0;n<a.length;n++,h+=4){var u=a[n];o==="big"?(e[h]=u>>>24,e[h+1]=u>>>16&255,e[h+2]=u>>>8&255,e[h+3]=255&u):(e[h+3]=u>>>24,e[h+2]=u>>>16&255,e[h+1]=u>>>8&255,e[h]=255&u)}return e},x.rotr32=function(a,o){return a>>>o|a<<32-o},x.rotl32=function(a,o){return a<<o|a>>>32-o},x.sum32=function(a,o){return a+o>>>0},x.sum32_3=function(a,o,e){return a+o+e>>>0},x.sum32_4=function(a,o,e,n){return a+o+e+n>>>0},x.sum32_5=function(a,o,e,n,h){return a+o+e+n+h>>>0},x.sum64=function(a,o,e,n){var h=a[o],u=n+a[o+1]>>>0,d=(u<n?1:0)+e+h;a[o]=d>>>0,a[o+1]=u},x.sum64_hi=function(a,o,e,n){return(o+n>>>0<o?1:0)+a+e>>>0},x.sum64_lo=function(a,o,e,n){return o+n>>>0},x.sum64_4_hi=function(a,o,e,n,h,u,d,l){var m=0,A=o;return m+=(A=A+n>>>0)<o?1:0,m+=(A=A+u>>>0)<u?1:0,a+e+h+d+(m+=(A=A+l>>>0)<l?1:0)>>>0},x.sum64_4_lo=function(a,o,e,n,h,u,d,l){return o+n+u+l>>>0},x.sum64_5_hi=function(a,o,e,n,h,u,d,l,m,A){var B=0,k=o;return B+=(k=k+n>>>0)<o?1:0,B+=(k=k+u>>>0)<u?1:0,B+=(k=k+l>>>0)<l?1:0,a+e+h+d+m+(B+=(k=k+A>>>0)<A?1:0)>>>0},x.sum64_5_lo=function(a,o,e,n,h,u,d,l,m,A){return o+n+u+l+A>>>0},x.rotr64_hi=function(a,o,e){return(o<<32-e|a>>>e)>>>0},x.rotr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0},x.shr64_hi=function(a,o,e){return a>>>e},x.shr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0}},function(N,x,b){function s(r,i){for(const f in i)Object.defineProperty(r,f,{value:i[f],enumerable:!0,configurable:!0});return r}N.exports=function(r,i,f){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");f||(f={}),typeof i=="object"&&(f=i,i=void 0),i!=null&&(f.code=i);try{return s(r,f)}catch(c){f.message=r.message,f.stack=r.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(r)),s(new t,f)}}},function(N,x,b){var s=b(36),r=b(72);function i(a,o){return(64512&a.charCodeAt(o))==55296&&!(o<0||o+1>=a.length)&&(64512&a.charCodeAt(o+1))==56320}function f(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function c(a){return a.length===1?"0"+a:a}function t(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}x.inherits=r,x.toArray=function(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var e=[];if(typeof a=="string")if(o){if(o==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),h=0;h<a.length;h+=2)e.push(parseInt(a[h]+a[h+1],16))}else for(var n=0,h=0;h<a.length;h++){var u=a.charCodeAt(h);u<128?e[n++]=u:u<2048?(e[n++]=u>>6|192,e[n++]=63&u|128):i(a,h)?(u=65536+((1023&u)<<10)+(1023&a.charCodeAt(++h)),e[n++]=u>>18|240,e[n++]=u>>12&63|128,e[n++]=u>>6&63|128,e[n++]=63&u|128):(e[n++]=u>>12|224,e[n++]=u>>6&63|128,e[n++]=63&u|128)}else for(h=0;h<a.length;h++)e[h]=0|a[h];return e},x.toHex=function(a){for(var o="",e=0;e<a.length;e++)o+=c(a[e].toString(16));return o},x.htonl=f,x.toHex32=function(a,o){for(var e="",n=0;n<a.length;n++){var h=a[n];o==="little"&&(h=f(h)),e+=t(h.toString(16))}return e},x.zero2=c,x.zero8=t,x.join32=function(a,o,e,n){var h=e-o;s(h%4==0);for(var u=new Array(h/4),d=0,l=o;d<u.length;d++,l+=4){var m;m=n==="big"?a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3]:a[l+3]<<24|a[l+2]<<16|a[l+1]<<8|a[l],u[d]=m>>>0}return u},x.split32=function(a,o){for(var e=new Array(4*a.length),n=0,h=0;n<a.length;n++,h+=4){var u=a[n];o==="big"?(e[h]=u>>>24,e[h+1]=u>>>16&255,e[h+2]=u>>>8&255,e[h+3]=255&u):(e[h+3]=u>>>24,e[h+2]=u>>>16&255,e[h+1]=u>>>8&255,e[h]=255&u)}return e},x.rotr32=function(a,o){return a>>>o|a<<32-o},x.rotl32=function(a,o){return a<<o|a>>>32-o},x.sum32=function(a,o){return a+o>>>0},x.sum32_3=function(a,o,e){return a+o+e>>>0},x.sum32_4=function(a,o,e,n){return a+o+e+n>>>0},x.sum32_5=function(a,o,e,n,h){return a+o+e+n+h>>>0},x.sum64=function(a,o,e,n){var h=a[o],u=n+a[o+1]>>>0,d=(u<n?1:0)+e+h;a[o]=d>>>0,a[o+1]=u},x.sum64_hi=function(a,o,e,n){return(o+n>>>0<o?1:0)+a+e>>>0},x.sum64_lo=function(a,o,e,n){return o+n>>>0},x.sum64_4_hi=function(a,o,e,n,h,u,d,l){var m=0,A=o;return m+=(A=A+n>>>0)<o?1:0,m+=(A=A+u>>>0)<u?1:0,a+e+h+d+(m+=(A=A+l>>>0)<l?1:0)>>>0},x.sum64_4_lo=function(a,o,e,n,h,u,d,l){return o+n+u+l>>>0},x.sum64_5_hi=function(a,o,e,n,h,u,d,l,m,A){var B=0,k=o;return B+=(k=k+n>>>0)<o?1:0,B+=(k=k+u>>>0)<u?1:0,B+=(k=k+l>>>0)<l?1:0,a+e+h+d+m+(B+=(k=k+A>>>0)<A?1:0)>>>0},x.sum64_5_lo=function(a,o,e,n,h,u,d,l,m,A){return o+n+u+l+A>>>0},x.rotr64_hi=function(a,o,e){return(o<<32-e|a>>>e)>>>0},x.rotr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0},x.shr64_hi=function(a,o,e){return a>>>e},x.shr64_lo=function(a,o,e){return(a<<32-e|o>>>e)>>>0}},function(N,x,b){(function(s){!function(r,i){function f(y,p){if(!y)throw new Error(p||"Assertion failed")}function c(y,p){y.super_=p;var w=function(){};w.prototype=p.prototype,y.prototype=new w,y.prototype.constructor=y}function t(y,p,w){if(t.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&(p!=="le"&&p!=="be"||(w=p,p=10),this._init(y||0,p||10,w||"be"))}var a;typeof r=="object"?r.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{a=b(255).Buffer}catch(y){}function o(y,p,w){for(var v=0,_=Math.min(y.length,w),C=p;C<_;C++){var L=y.charCodeAt(C)-48;v<<=4,v|=L>=49&&L<=54?L-49+10:L>=17&&L<=22?L-17+10:15&L}return v}function e(y,p,w,v){for(var _=0,C=Math.min(y.length,w),L=p;L<C;L++){var O=y.charCodeAt(L)-48;_*=v,_+=O>=49?O-49+10:O>=17?O-17+10:O}return _}t.isBN=function(y){return y instanceof t||y!==null&&typeof y=="object"&&y.constructor.wordSize===t.wordSize&&Array.isArray(y.words)},t.max=function(y,p){return y.cmp(p)>0?y:p},t.min=function(y,p){return y.cmp(p)<0?y:p},t.prototype._init=function(y,p,w){if(typeof y=="number")return this._initNumber(y,p,w);if(typeof y=="object")return this._initArray(y,p,w);p==="hex"&&(p=16),f(p===(0|p)&&p>=2&&p<=36);var v=0;(y=y.toString().replace(/\s+/g,""))[0]==="-"&&v++,p===16?this._parseHex(y,v):this._parseBase(y,p,v),y[0]==="-"&&(this.negative=1),this.strip(),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initNumber=function(y,p,w){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[67108863&y],this.length=1):y<4503599627370496?(this.words=[67108863&y,y/67108864&67108863],this.length=2):(f(y<9007199254740992),this.words=[67108863&y,y/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initArray=function(y,p,w){if(f(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,C,L=0;if(w==="be")for(v=y.length-1,_=0;v>=0;v-=3)C=y[v]|y[v-1]<<8|y[v-2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if(w==="le")for(v=0,_=0;v<y.length;v+=3)C=y[v]|y[v+1]<<8|y[v+2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},t.prototype._parseHex=function(y,p){this.length=Math.ceil((y.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,_,C=0;for(w=y.length-6,v=0;w>=p;w-=6)_=o(y,w,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303,(C+=24)>=26&&(C-=26,v++);w+6!==p&&(_=o(y,p,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303),this.strip()},t.prototype._parseBase=function(y,p,w){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=p)v++;v--,_=_/p|0;for(var C=y.length-w,L=C%v,O=Math.min(C,C-L)+w,U=0,q=w;q<O;q+=v)U=e(y,q,q+v,p),this.imuln(_),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(L!==0){var H=1;for(U=e(y,q,y.length,p),q=0;q<L;q++)H*=p;this.imuln(H),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}},t.prototype.copy=function(y){y.words=new Array(this.length);for(var p=0;p<this.length;p++)y.words[p]=this.words[p];y.length=this.length,y.negative=this.negative,y.red=this.red},t.prototype.clone=function(){var y=new t(null);return this.copy(y),y},t.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(y,p,w){w.negative=p.negative^y.negative;var v=y.length+p.length|0;w.length=v,v=v-1|0;var _=0|y.words[0],C=0|p.words[0],L=_*C,O=67108863&L,U=L/67108864|0;w.words[0]=O;for(var q=1;q<v;q++){for(var H=U>>>26,G=67108863&U,K=Math.min(q,p.length-1),Q=Math.max(0,q-y.length+1);Q<=K;Q++){var z=q-Q|0;H+=(L=(_=0|y.words[z])*(C=0|p.words[Q])+G)/67108864|0,G=67108863&L}w.words[q]=0|G,U=0|H}return U!==0?w.words[q]=0|U:w.length--,w.strip()}t.prototype.toString=function(y,p){var w;if(p=0|p||1,(y=y||10)===16||y==="hex"){w="";for(var v=0,_=0,C=0;C<this.length;C++){var L=this.words[C],O=(16777215&(L<<v|_)).toString(16);w=(_=L>>>24-v&16777215)!==0||C!==this.length-1?n[6-O.length]+O+w:O+w,(v+=2)>=26&&(v-=26,C--)}for(_!==0&&(w=_.toString(16)+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(y===(0|y)&&y>=2&&y<=36){var U=h[y],q=u[y];w="";var H=this.clone();for(H.negative=0;!H.isZero();){var G=H.modn(q).toString(y);w=(H=H.idivn(q)).isZero()?G+w:n[U-G.length]+G+w}for(this.isZero()&&(w="0"+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}f(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=67108864*this.words[1]:this.length===3&&this.words[2]===1?y+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(y,p){return f(a!==void 0),this.toArrayLike(a,y,p)},t.prototype.toArray=function(y,p){return this.toArrayLike(Array,y,p)},t.prototype.toArrayLike=function(y,p,w){var v=this.byteLength(),_=w||Math.max(1,v);f(v<=_,"byte array longer than desired length"),f(_>0,"Requested array length <= 0"),this.strip();var C,L,O=p==="le",U=new y(_),q=this.clone();if(O){for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[L]=C;for(;L<_;L++)U[L]=0}else{for(L=0;L<_-v;L++)U[L]=0;for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[_-L-1]=C}return U},Math.clz32?t.prototype._countBits=function(y){return 32-Math.clz32(y)}:t.prototype._countBits=function(y){var p=y,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},t.prototype._zeroBits=function(y){if(y===0)return 26;var p=y,w=0;return(8191&p)==0&&(w+=13,p>>>=13),(127&p)==0&&(w+=7,p>>>=7),(15&p)==0&&(w+=4,p>>>=4),(3&p)==0&&(w+=2,p>>>=2),(1&p)==0&&w++,w},t.prototype.bitLength=function(){var y=this.words[this.length-1],p=this._countBits(y);return 26*(this.length-1)+p},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(y+=w,w!==26)break}return y},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},t.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var p=0;p<y.length;p++)this.words[p]=this.words[p]|y.words[p];return this.strip()},t.prototype.ior=function(y){return f((this.negative|y.negative)==0),this.iuor(y)},t.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},t.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},t.prototype.iuand=function(y){var p;p=this.length>y.length?y:this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&y.words[w];return this.length=p.length,this.strip()},t.prototype.iand=function(y){return f((this.negative|y.negative)==0),this.iuand(y)},t.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},t.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},t.prototype.iuxor=function(y){var p,w;this.length>y.length?(p=this,w=y):(p=y,w=this);for(var v=0;v<w.length;v++)this.words[v]=p.words[v]^w.words[v];if(this!==p)for(;v<p.length;v++)this.words[v]=p.words[v];return this.length=p.length,this.strip()},t.prototype.ixor=function(y){return f((this.negative|y.negative)==0),this.iuxor(y)},t.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},t.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},t.prototype.inotn=function(y){f(typeof y=="number"&&y>=0);var p=0|Math.ceil(y/26),w=y%26;this._expand(p),w>0&&p--;for(var v=0;v<p;v++)this.words[v]=67108863&~this.words[v];return w>0&&(this.words[v]=~this.words[v]&67108863>>26-w),this.strip()},t.prototype.notn=function(y){return this.clone().inotn(y)},t.prototype.setn=function(y,p){f(typeof y=="number"&&y>=0);var w=y/26|0,v=y%26;return this._expand(w+1),this.words[w]=p?this.words[w]|1<<v:this.words[w]&~(1<<v),this.strip()},t.prototype.iadd=function(y){var p,w,v;if(this.negative!==0&&y.negative===0)return this.negative=0,p=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,p=this.isub(y),y.negative=1,p._normSign();this.length>y.length?(w=this,v=y):(w=y,v=this);for(var _=0,C=0;C<v.length;C++)p=(0|w.words[C])+(0|v.words[C])+_,this.words[C]=67108863&p,_=p>>>26;for(;_!==0&&C<w.length;C++)p=(0|w.words[C])+_,this.words[C]=67108863&p,_=p>>>26;if(this.length=w.length,_!==0)this.words[this.length]=_,this.length++;else if(w!==this)for(;C<w.length;C++)this.words[C]=w.words[C];return this},t.prototype.add=function(y){var p;return y.negative!==0&&this.negative===0?(y.negative=0,p=this.sub(y),y.negative^=1,p):y.negative===0&&this.negative!==0?(this.negative=0,p=y.sub(this),this.negative=1,p):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},t.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var p=this.iadd(y);return y.negative=1,p._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var w,v,_=this.cmp(y);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(w=this,v=y):(w=y,v=this);for(var C=0,L=0;L<v.length;L++)C=(p=(0|w.words[L])-(0|v.words[L])+C)>>26,this.words[L]=67108863&p;for(;C!==0&&L<w.length;L++)C=(p=(0|w.words[L])+C)>>26,this.words[L]=67108863&p;if(C===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(y){return this.clone().isub(y)};var l=function(y,p,w){var v,_,C,L=y.words,O=p.words,U=w.words,q=0,H=0|L[0],G=8191&H,K=H>>>13,Q=0|L[1],z=8191&Q,D=Q>>>13,F=0|L[2],I=8191&F,P=F>>>13,V=0|L[3],$=8191&V,W=V>>>13,et=0|L[4],ot=8191&et,j=et>>>13,Y=0|L[5],X=8191&Y,tt=Y>>>13,rt=0|L[6],J=8191&rt,Z=rt>>>13,nt=0|L[7],it=8191&nt,st=nt>>>13,at=0|L[8],ct=8191&at,ut=at>>>13,bt=0|L[9],ht=8191&bt,yt=bt>>>13,Ct=0|O[0],ft=8191&Ct,dt=Ct>>>13,Kt=0|O[1],Tt=8191&Kt,Rt=Kt>>>13,jt=0|O[2],It=8191&jt,Bt=jt>>>13,Vt=0|O[3],pt=8191&Vt,lt=Vt>>>13,Pt=0|O[4],gt=8191&Pt,mt=Pt>>>13,Lt=0|O[5],vt=8191&Lt,wt=Lt>>>13,Ot=0|O[6],Et=8191&Ot,St=Ot>>>13,Dt=0|O[7],_t=8191&Dt,kt=Dt>>>13,Ut=0|O[8],At=8191&Ut,Mt=Ut>>>13,$t=0|O[9],Nt=8191&$t,xt=$t>>>13;w.negative=y.negative^p.negative,w.length=19;var qt=(q+(v=Math.imul(G,ft))|0)+((8191&(_=(_=Math.imul(G,dt))+Math.imul(K,ft)|0))<<13)|0;q=((C=Math.imul(K,dt))+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,v=Math.imul(z,ft),_=(_=Math.imul(z,dt))+Math.imul(D,ft)|0,C=Math.imul(D,dt);var Ft=(q+(v=v+Math.imul(G,Tt)|0)|0)+((8191&(_=(_=_+Math.imul(G,Rt)|0)+Math.imul(K,Tt)|0))<<13)|0;q=((C=C+Math.imul(K,Rt)|0)+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,v=Math.imul(I,ft),_=(_=Math.imul(I,dt))+Math.imul(P,ft)|0,C=Math.imul(P,dt),v=v+Math.imul(z,Tt)|0,_=(_=_+Math.imul(z,Rt)|0)+Math.imul(D,Tt)|0,C=C+Math.imul(D,Rt)|0;var zt=(q+(v=v+Math.imul(G,It)|0)|0)+((8191&(_=(_=_+Math.imul(G,Bt)|0)+Math.imul(K,It)|0))<<13)|0;q=((C=C+Math.imul(K,Bt)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,v=Math.imul($,ft),_=(_=Math.imul($,dt))+Math.imul(W,ft)|0,C=Math.imul(W,dt),v=v+Math.imul(I,Tt)|0,_=(_=_+Math.imul(I,Rt)|0)+Math.imul(P,Tt)|0,C=C+Math.imul(P,Rt)|0,v=v+Math.imul(z,It)|0,_=(_=_+Math.imul(z,Bt)|0)+Math.imul(D,It)|0,C=C+Math.imul(D,Bt)|0;var Ht=(q+(v=v+Math.imul(G,pt)|0)|0)+((8191&(_=(_=_+Math.imul(G,lt)|0)+Math.imul(K,pt)|0))<<13)|0;q=((C=C+Math.imul(K,lt)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,v=Math.imul(ot,ft),_=(_=Math.imul(ot,dt))+Math.imul(j,ft)|0,C=Math.imul(j,dt),v=v+Math.imul($,Tt)|0,_=(_=_+Math.imul($,Rt)|0)+Math.imul(W,Tt)|0,C=C+Math.imul(W,Rt)|0,v=v+Math.imul(I,It)|0,_=(_=_+Math.imul(I,Bt)|0)+Math.imul(P,It)|0,C=C+Math.imul(P,Bt)|0,v=v+Math.imul(z,pt)|0,_=(_=_+Math.imul(z,lt)|0)+Math.imul(D,pt)|0,C=C+Math.imul(D,lt)|0;var Gt=(q+(v=v+Math.imul(G,gt)|0)|0)+((8191&(_=(_=_+Math.imul(G,mt)|0)+Math.imul(K,gt)|0))<<13)|0;q=((C=C+Math.imul(K,mt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(X,ft),_=(_=Math.imul(X,dt))+Math.imul(tt,ft)|0,C=Math.imul(tt,dt),v=v+Math.imul(ot,Tt)|0,_=(_=_+Math.imul(ot,Rt)|0)+Math.imul(j,Tt)|0,C=C+Math.imul(j,Rt)|0,v=v+Math.imul($,It)|0,_=(_=_+Math.imul($,Bt)|0)+Math.imul(W,It)|0,C=C+Math.imul(W,Bt)|0,v=v+Math.imul(I,pt)|0,_=(_=_+Math.imul(I,lt)|0)+Math.imul(P,pt)|0,C=C+Math.imul(P,lt)|0,v=v+Math.imul(z,gt)|0,_=(_=_+Math.imul(z,mt)|0)+Math.imul(D,gt)|0,C=C+Math.imul(D,mt)|0;var Yt=(q+(v=v+Math.imul(G,vt)|0)|0)+((8191&(_=(_=_+Math.imul(G,wt)|0)+Math.imul(K,vt)|0))<<13)|0;q=((C=C+Math.imul(K,wt)|0)+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(J,ft),_=(_=Math.imul(J,dt))+Math.imul(Z,ft)|0,C=Math.imul(Z,dt),v=v+Math.imul(X,Tt)|0,_=(_=_+Math.imul(X,Rt)|0)+Math.imul(tt,Tt)|0,C=C+Math.imul(tt,Rt)|0,v=v+Math.imul(ot,It)|0,_=(_=_+Math.imul(ot,Bt)|0)+Math.imul(j,It)|0,C=C+Math.imul(j,Bt)|0,v=v+Math.imul($,pt)|0,_=(_=_+Math.imul($,lt)|0)+Math.imul(W,pt)|0,C=C+Math.imul(W,lt)|0,v=v+Math.imul(I,gt)|0,_=(_=_+Math.imul(I,mt)|0)+Math.imul(P,gt)|0,C=C+Math.imul(P,mt)|0,v=v+Math.imul(z,vt)|0,_=(_=_+Math.imul(z,wt)|0)+Math.imul(D,vt)|0,C=C+Math.imul(D,wt)|0;var Wt=(q+(v=v+Math.imul(G,Et)|0)|0)+((8191&(_=(_=_+Math.imul(G,St)|0)+Math.imul(K,Et)|0))<<13)|0;q=((C=C+Math.imul(K,St)|0)+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,v=Math.imul(it,ft),_=(_=Math.imul(it,dt))+Math.imul(st,ft)|0,C=Math.imul(st,dt),v=v+Math.imul(J,Tt)|0,_=(_=_+Math.imul(J,Rt)|0)+Math.imul(Z,Tt)|0,C=C+Math.imul(Z,Rt)|0,v=v+Math.imul(X,It)|0,_=(_=_+Math.imul(X,Bt)|0)+Math.imul(tt,It)|0,C=C+Math.imul(tt,Bt)|0,v=v+Math.imul(ot,pt)|0,_=(_=_+Math.imul(ot,lt)|0)+Math.imul(j,pt)|0,C=C+Math.imul(j,lt)|0,v=v+Math.imul($,gt)|0,_=(_=_+Math.imul($,mt)|0)+Math.imul(W,gt)|0,C=C+Math.imul(W,mt)|0,v=v+Math.imul(I,vt)|0,_=(_=_+Math.imul(I,wt)|0)+Math.imul(P,vt)|0,C=C+Math.imul(P,wt)|0,v=v+Math.imul(z,Et)|0,_=(_=_+Math.imul(z,St)|0)+Math.imul(D,Et)|0,C=C+Math.imul(D,St)|0;var Qt=(q+(v=v+Math.imul(G,_t)|0)|0)+((8191&(_=(_=_+Math.imul(G,kt)|0)+Math.imul(K,_t)|0))<<13)|0;q=((C=C+Math.imul(K,kt)|0)+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ct,ft),_=(_=Math.imul(ct,dt))+Math.imul(ut,ft)|0,C=Math.imul(ut,dt),v=v+Math.imul(it,Tt)|0,_=(_=_+Math.imul(it,Rt)|0)+Math.imul(st,Tt)|0,C=C+Math.imul(st,Rt)|0,v=v+Math.imul(J,It)|0,_=(_=_+Math.imul(J,Bt)|0)+Math.imul(Z,It)|0,C=C+Math.imul(Z,Bt)|0,v=v+Math.imul(X,pt)|0,_=(_=_+Math.imul(X,lt)|0)+Math.imul(tt,pt)|0,C=C+Math.imul(tt,lt)|0,v=v+Math.imul(ot,gt)|0,_=(_=_+Math.imul(ot,mt)|0)+Math.imul(j,gt)|0,C=C+Math.imul(j,mt)|0,v=v+Math.imul($,vt)|0,_=(_=_+Math.imul($,wt)|0)+Math.imul(W,vt)|0,C=C+Math.imul(W,wt)|0,v=v+Math.imul(I,Et)|0,_=(_=_+Math.imul(I,St)|0)+Math.imul(P,Et)|0,C=C+Math.imul(P,St)|0,v=v+Math.imul(z,_t)|0,_=(_=_+Math.imul(z,kt)|0)+Math.imul(D,_t)|0,C=C+Math.imul(D,kt)|0;var Xt=(q+(v=v+Math.imul(G,At)|0)|0)+((8191&(_=(_=_+Math.imul(G,Mt)|0)+Math.imul(K,At)|0))<<13)|0;q=((C=C+Math.imul(K,Mt)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(ht,ft),_=(_=Math.imul(ht,dt))+Math.imul(yt,ft)|0,C=Math.imul(yt,dt),v=v+Math.imul(ct,Tt)|0,_=(_=_+Math.imul(ct,Rt)|0)+Math.imul(ut,Tt)|0,C=C+Math.imul(ut,Rt)|0,v=v+Math.imul(it,It)|0,_=(_=_+Math.imul(it,Bt)|0)+Math.imul(st,It)|0,C=C+Math.imul(st,Bt)|0,v=v+Math.imul(J,pt)|0,_=(_=_+Math.imul(J,lt)|0)+Math.imul(Z,pt)|0,C=C+Math.imul(Z,lt)|0,v=v+Math.imul(X,gt)|0,_=(_=_+Math.imul(X,mt)|0)+Math.imul(tt,gt)|0,C=C+Math.imul(tt,mt)|0,v=v+Math.imul(ot,vt)|0,_=(_=_+Math.imul(ot,wt)|0)+Math.imul(j,vt)|0,C=C+Math.imul(j,wt)|0,v=v+Math.imul($,Et)|0,_=(_=_+Math.imul($,St)|0)+Math.imul(W,Et)|0,C=C+Math.imul(W,St)|0,v=v+Math.imul(I,_t)|0,_=(_=_+Math.imul(I,kt)|0)+Math.imul(P,_t)|0,C=C+Math.imul(P,kt)|0,v=v+Math.imul(z,At)|0,_=(_=_+Math.imul(z,Mt)|0)+Math.imul(D,At)|0,C=C+Math.imul(D,Mt)|0;var Zt=(q+(v=v+Math.imul(G,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(G,xt)|0)+Math.imul(K,Nt)|0))<<13)|0;q=((C=C+Math.imul(K,xt)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(ht,Tt),_=(_=Math.imul(ht,Rt))+Math.imul(yt,Tt)|0,C=Math.imul(yt,Rt),v=v+Math.imul(ct,It)|0,_=(_=_+Math.imul(ct,Bt)|0)+Math.imul(ut,It)|0,C=C+Math.imul(ut,Bt)|0,v=v+Math.imul(it,pt)|0,_=(_=_+Math.imul(it,lt)|0)+Math.imul(st,pt)|0,C=C+Math.imul(st,lt)|0,v=v+Math.imul(J,gt)|0,_=(_=_+Math.imul(J,mt)|0)+Math.imul(Z,gt)|0,C=C+Math.imul(Z,mt)|0,v=v+Math.imul(X,vt)|0,_=(_=_+Math.imul(X,wt)|0)+Math.imul(tt,vt)|0,C=C+Math.imul(tt,wt)|0,v=v+Math.imul(ot,Et)|0,_=(_=_+Math.imul(ot,St)|0)+Math.imul(j,Et)|0,C=C+Math.imul(j,St)|0,v=v+Math.imul($,_t)|0,_=(_=_+Math.imul($,kt)|0)+Math.imul(W,_t)|0,C=C+Math.imul(W,kt)|0,v=v+Math.imul(I,At)|0,_=(_=_+Math.imul(I,Mt)|0)+Math.imul(P,At)|0,C=C+Math.imul(P,Mt)|0;var Jt=(q+(v=v+Math.imul(z,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(z,xt)|0)+Math.imul(D,Nt)|0))<<13)|0;q=((C=C+Math.imul(D,xt)|0)+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(ht,It),_=(_=Math.imul(ht,Bt))+Math.imul(yt,It)|0,C=Math.imul(yt,Bt),v=v+Math.imul(ct,pt)|0,_=(_=_+Math.imul(ct,lt)|0)+Math.imul(ut,pt)|0,C=C+Math.imul(ut,lt)|0,v=v+Math.imul(it,gt)|0,_=(_=_+Math.imul(it,mt)|0)+Math.imul(st,gt)|0,C=C+Math.imul(st,mt)|0,v=v+Math.imul(J,vt)|0,_=(_=_+Math.imul(J,wt)|0)+Math.imul(Z,vt)|0,C=C+Math.imul(Z,wt)|0,v=v+Math.imul(X,Et)|0,_=(_=_+Math.imul(X,St)|0)+Math.imul(tt,Et)|0,C=C+Math.imul(tt,St)|0,v=v+Math.imul(ot,_t)|0,_=(_=_+Math.imul(ot,kt)|0)+Math.imul(j,_t)|0,C=C+Math.imul(j,kt)|0,v=v+Math.imul($,At)|0,_=(_=_+Math.imul($,Mt)|0)+Math.imul(W,At)|0,C=C+Math.imul(W,Mt)|0;var te=(q+(v=v+Math.imul(I,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(I,xt)|0)+Math.imul(P,Nt)|0))<<13)|0;q=((C=C+Math.imul(P,xt)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,v=Math.imul(ht,pt),_=(_=Math.imul(ht,lt))+Math.imul(yt,pt)|0,C=Math.imul(yt,lt),v=v+Math.imul(ct,gt)|0,_=(_=_+Math.imul(ct,mt)|0)+Math.imul(ut,gt)|0,C=C+Math.imul(ut,mt)|0,v=v+Math.imul(it,vt)|0,_=(_=_+Math.imul(it,wt)|0)+Math.imul(st,vt)|0,C=C+Math.imul(st,wt)|0,v=v+Math.imul(J,Et)|0,_=(_=_+Math.imul(J,St)|0)+Math.imul(Z,Et)|0,C=C+Math.imul(Z,St)|0,v=v+Math.imul(X,_t)|0,_=(_=_+Math.imul(X,kt)|0)+Math.imul(tt,_t)|0,C=C+Math.imul(tt,kt)|0,v=v+Math.imul(ot,At)|0,_=(_=_+Math.imul(ot,Mt)|0)+Math.imul(j,At)|0,C=C+Math.imul(j,Mt)|0;var ee=(q+(v=v+Math.imul($,Nt)|0)|0)+((8191&(_=(_=_+Math.imul($,xt)|0)+Math.imul(W,Nt)|0))<<13)|0;q=((C=C+Math.imul(W,xt)|0)+(_>>>13)|0)+(ee>>>26)|0,ee&=67108863,v=Math.imul(ht,gt),_=(_=Math.imul(ht,mt))+Math.imul(yt,gt)|0,C=Math.imul(yt,mt),v=v+Math.imul(ct,vt)|0,_=(_=_+Math.imul(ct,wt)|0)+Math.imul(ut,vt)|0,C=C+Math.imul(ut,wt)|0,v=v+Math.imul(it,Et)|0,_=(_=_+Math.imul(it,St)|0)+Math.imul(st,Et)|0,C=C+Math.imul(st,St)|0,v=v+Math.imul(J,_t)|0,_=(_=_+Math.imul(J,kt)|0)+Math.imul(Z,_t)|0,C=C+Math.imul(Z,kt)|0,v=v+Math.imul(X,At)|0,_=(_=_+Math.imul(X,Mt)|0)+Math.imul(tt,At)|0,C=C+Math.imul(tt,Mt)|0;var re=(q+(v=v+Math.imul(ot,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ot,xt)|0)+Math.imul(j,Nt)|0))<<13)|0;q=((C=C+Math.imul(j,xt)|0)+(_>>>13)|0)+(re>>>26)|0,re&=67108863,v=Math.imul(ht,vt),_=(_=Math.imul(ht,wt))+Math.imul(yt,vt)|0,C=Math.imul(yt,wt),v=v+Math.imul(ct,Et)|0,_=(_=_+Math.imul(ct,St)|0)+Math.imul(ut,Et)|0,C=C+Math.imul(ut,St)|0,v=v+Math.imul(it,_t)|0,_=(_=_+Math.imul(it,kt)|0)+Math.imul(st,_t)|0,C=C+Math.imul(st,kt)|0,v=v+Math.imul(J,At)|0,_=(_=_+Math.imul(J,Mt)|0)+Math.imul(Z,At)|0,C=C+Math.imul(Z,Mt)|0;var ne=(q+(v=v+Math.imul(X,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(X,xt)|0)+Math.imul(tt,Nt)|0))<<13)|0;q=((C=C+Math.imul(tt,xt)|0)+(_>>>13)|0)+(ne>>>26)|0,ne&=67108863,v=Math.imul(ht,Et),_=(_=Math.imul(ht,St))+Math.imul(yt,Et)|0,C=Math.imul(yt,St),v=v+Math.imul(ct,_t)|0,_=(_=_+Math.imul(ct,kt)|0)+Math.imul(ut,_t)|0,C=C+Math.imul(ut,kt)|0,v=v+Math.imul(it,At)|0,_=(_=_+Math.imul(it,Mt)|0)+Math.imul(st,At)|0,C=C+Math.imul(st,Mt)|0;var ie=(q+(v=v+Math.imul(J,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(J,xt)|0)+Math.imul(Z,Nt)|0))<<13)|0;q=((C=C+Math.imul(Z,xt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,v=Math.imul(ht,_t),_=(_=Math.imul(ht,kt))+Math.imul(yt,_t)|0,C=Math.imul(yt,kt),v=v+Math.imul(ct,At)|0,_=(_=_+Math.imul(ct,Mt)|0)+Math.imul(ut,At)|0,C=C+Math.imul(ut,Mt)|0;var se=(q+(v=v+Math.imul(it,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(it,xt)|0)+Math.imul(st,Nt)|0))<<13)|0;q=((C=C+Math.imul(st,xt)|0)+(_>>>13)|0)+(se>>>26)|0,se&=67108863,v=Math.imul(ht,At),_=(_=Math.imul(ht,Mt))+Math.imul(yt,At)|0,C=Math.imul(yt,Mt);var oe=(q+(v=v+Math.imul(ct,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ct,xt)|0)+Math.imul(ut,Nt)|0))<<13)|0;q=((C=C+Math.imul(ut,xt)|0)+(_>>>13)|0)+(oe>>>26)|0,oe&=67108863;var ae=(q+(v=Math.imul(ht,Nt))|0)+((8191&(_=(_=Math.imul(ht,xt))+Math.imul(yt,Nt)|0))<<13)|0;return q=((C=Math.imul(yt,xt))+(_>>>13)|0)+(ae>>>26)|0,ae&=67108863,U[0]=qt,U[1]=Ft,U[2]=zt,U[3]=Ht,U[4]=Gt,U[5]=Yt,U[6]=Wt,U[7]=Qt,U[8]=Xt,U[9]=Zt,U[10]=Jt,U[11]=te,U[12]=ee,U[13]=re,U[14]=ne,U[15]=ie,U[16]=se,U[17]=oe,U[18]=ae,q!==0&&(U[19]=q,w.length++),w};function m(y,p,w){return new A().mulp(y,p,w)}function A(y,p){this.x=y,this.y=p}Math.imul||(l=d),t.prototype.mulTo=function(y,p){var w=this.length+y.length;return this.length===10&&y.length===10?l(this,y,p):w<63?d(this,y,p):w<1024?function(v,_,C){C.negative=_.negative^v.negative,C.length=v.length+_.length;for(var L=0,O=0,U=0;U<C.length-1;U++){var q=O;O=0;for(var H=67108863&L,G=Math.min(U,_.length-1),K=Math.max(0,U-v.length+1);K<=G;K++){var Q=U-K,z=(0|v.words[Q])*(0|_.words[K]),D=67108863&z;H=67108863&(D=D+H|0),O+=(q=(q=q+(z/67108864|0)|0)+(D>>>26)|0)>>>26,q&=67108863}C.words[U]=H,L=q,q=O}return L!==0?C.words[U]=L:C.length--,C.strip()}(this,y,p):m(this,y,p)},A.prototype.makeRBT=function(y){for(var p=new Array(y),w=t.prototype._countBits(y)-1,v=0;v<y;v++)p[v]=this.revBin(v,w,y);return p},A.prototype.revBin=function(y,p,w){if(y===0||y===w-1)return y;for(var v=0,_=0;_<p;_++)v|=(1&y)<<p-_-1,y>>=1;return v},A.prototype.permute=function(y,p,w,v,_,C){for(var L=0;L<C;L++)v[L]=p[y[L]],_[L]=w[y[L]]},A.prototype.transform=function(y,p,w,v,_,C){this.permute(C,y,p,w,v,_);for(var L=1;L<_;L<<=1)for(var O=L<<1,U=Math.cos(2*Math.PI/O),q=Math.sin(2*Math.PI/O),H=0;H<_;H+=O)for(var G=U,K=q,Q=0;Q<L;Q++){var z=w[H+Q],D=v[H+Q],F=w[H+Q+L],I=v[H+Q+L],P=G*F-K*I;I=G*I+K*F,F=P,w[H+Q]=z+F,v[H+Q]=D+I,w[H+Q+L]=z-F,v[H+Q+L]=D-I,Q!==O&&(P=U*G-q*K,K=U*K+q*G,G=P)}},A.prototype.guessLen13b=function(y,p){var w=1|Math.max(p,y),v=1&w,_=0;for(w=w/2|0;w;w>>>=1)_++;return 1<<_+1+v},A.prototype.conjugate=function(y,p,w){if(!(w<=1))for(var v=0;v<w/2;v++){var _=y[v];y[v]=y[w-v-1],y[w-v-1]=_,_=p[v],p[v]=-p[w-v-1],p[w-v-1]=-_}},A.prototype.normalize13b=function(y,p){for(var w=0,v=0;v<p/2;v++){var _=8192*Math.round(y[2*v+1]/p)+Math.round(y[2*v]/p)+w;y[v]=67108863&_,w=_<67108864?0:_/67108864|0}return y},A.prototype.convert13b=function(y,p,w,v){for(var _=0,C=0;C<p;C++)_+=0|y[C],w[2*C]=8191&_,_>>>=13,w[2*C+1]=8191&_,_>>>=13;for(C=2*p;C<v;++C)w[C]=0;f(_===0),f((-8192&_)==0)},A.prototype.stub=function(y){for(var p=new Array(y),w=0;w<y;w++)p[w]=0;return p},A.prototype.mulp=function(y,p,w){var v=2*this.guessLen13b(y.length,p.length),_=this.makeRBT(v),C=this.stub(v),L=new Array(v),O=new Array(v),U=new Array(v),q=new Array(v),H=new Array(v),G=new Array(v),K=w.words;K.length=v,this.convert13b(y.words,y.length,L,v),this.convert13b(p.words,p.length,q,v),this.transform(L,C,O,U,v,_),this.transform(q,C,H,G,v,_);for(var Q=0;Q<v;Q++){var z=O[Q]*H[Q]-U[Q]*G[Q];U[Q]=O[Q]*G[Q]+U[Q]*H[Q],O[Q]=z}return this.conjugate(O,U,v),this.transform(O,U,K,C,v,_),this.conjugate(K,C,v),this.normalize13b(K,v),w.negative=y.negative^p.negative,w.length=y.length+p.length,w.strip()},t.prototype.mul=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),this.mulTo(y,p)},t.prototype.mulf=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),m(this,y,p)},t.prototype.imul=function(y){return this.clone().mulTo(y,this)},t.prototype.imuln=function(y){f(typeof y=="number"),f(y<67108864);for(var p=0,w=0;w<this.length;w++){var v=(0|this.words[w])*y,_=(67108863&v)+(67108863&p);p>>=26,p+=v/67108864|0,p+=_>>>26,this.words[w]=67108863&_}return p!==0&&(this.words[w]=p,this.length++),this},t.prototype.muln=function(y){return this.clone().imuln(y)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(y){var p=function(C){for(var L=new Array(C.bitLength()),O=0;O<L.length;O++){var U=O/26|0,q=O%26;L[O]=(C.words[U]&1<<q)>>>q}return L}(y);if(p.length===0)return new t(1);for(var w=this,v=0;v<p.length&&p[v]===0;v++,w=w.sqr());if(++v<p.length)for(var _=w.sqr();v<p.length;v++,_=_.sqr())p[v]!==0&&(w=w.mul(_));return w},t.prototype.iushln=function(y){f(typeof y=="number"&&y>=0);var p,w=y%26,v=(y-w)/26,_=67108863>>>26-w<<26-w;if(w!==0){var C=0;for(p=0;p<this.length;p++){var L=this.words[p]&_,O=(0|this.words[p])-L<<w;this.words[p]=O|C,C=L>>>26-w}C&&(this.words[p]=C,this.length++)}if(v!==0){for(p=this.length-1;p>=0;p--)this.words[p+v]=this.words[p];for(p=0;p<v;p++)this.words[p]=0;this.length+=v}return this.strip()},t.prototype.ishln=function(y){return f(this.negative===0),this.iushln(y)},t.prototype.iushrn=function(y,p,w){var v;f(typeof y=="number"&&y>=0),v=p?(p-p%26)/26:0;var _=y%26,C=Math.min((y-_)/26,this.length),L=67108863^67108863>>>_<<_,O=w;if(v-=C,v=Math.max(0,v),O){for(var U=0;U<C;U++)O.words[U]=this.words[U];O.length=C}if(!(C===0))if(this.length>C)for(this.length-=C,U=0;U<this.length;U++)this.words[U]=this.words[U+C];else this.words[0]=0,this.length=1;var q=0;for(U=this.length-1;U>=0&&(q!==0||U>=v);U--){var H=0|this.words[U];this.words[U]=q<<26-_|H>>>_,q=H&L}return O&&q!==0&&(O.words[O.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(y,p,w){return f(this.negative===0),this.iushrn(y,p,w)},t.prototype.shln=function(y){return this.clone().ishln(y)},t.prototype.ushln=function(y){return this.clone().iushln(y)},t.prototype.shrn=function(y){return this.clone().ishrn(y)},t.prototype.ushrn=function(y){return this.clone().iushrn(y)},t.prototype.testn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26,v=1<<p;return!(this.length<=w)&&!!(this.words[w]&v)},t.prototype.imaskn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var v=67108863^67108863>>>p<<p;this.words[this.length-1]&=v}return this.strip()},t.prototype.maskn=function(y){return this.clone().imaskn(y)},t.prototype.iaddn=function(y){return f(typeof y=="number"),f(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(0|this.words[0])<y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},t.prototype._iaddn=function(y){this.words[0]+=y;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},t.prototype.isubn=function(y){if(f(typeof y=="number"),f(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},t.prototype.addn=function(y){return this.clone().iaddn(y)},t.prototype.subn=function(y){return this.clone().isubn(y)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(y,p,w){var v,_,C=y.length+w;this._expand(C);var L=0;for(v=0;v<y.length;v++){_=(0|this.words[v+w])+L;var O=(0|y.words[v])*p;L=((_-=67108863&O)>>26)-(O/67108864|0),this.words[v+w]=67108863&_}for(;v<this.length-w;v++)L=(_=(0|this.words[v+w])+L)>>26,this.words[v+w]=67108863&_;if(L===0)return this.strip();for(f(L===-1),L=0,v=0;v<this.length;v++)L=(_=-(0|this.words[v])+L)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},t.prototype._wordDiv=function(y,p){var w=(this.length,y.length),v=this.clone(),_=y,C=0|_.words[_.length-1];(w=26-this._countBits(C))!==0&&(_=_.ushln(w),v.iushln(w),C=0|_.words[_.length-1]);var L,O=v.length-_.length;if(p!=="mod"){(L=new t(null)).length=O+1,L.words=new Array(L.length);for(var U=0;U<L.length;U++)L.words[U]=0}var q=v.clone()._ishlnsubmul(_,1,O);q.negative===0&&(v=q,L&&(L.words[O]=1));for(var H=O-1;H>=0;H--){var G=67108864*(0|v.words[_.length+H])+(0|v.words[_.length+H-1]);for(G=Math.min(G/C|0,67108863),v._ishlnsubmul(_,G,H);v.negative!==0;)G--,v.negative=0,v._ishlnsubmul(_,1,H),v.isZero()||(v.negative^=1);L&&(L.words[H]=G)}return L&&L.strip(),v.strip(),p!=="div"&&w!==0&&v.iushrn(w),{div:L||null,mod:v}},t.prototype.divmod=function(y,p,w){return f(!y.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&y.negative===0?(C=this.neg().divmod(y,p),p!=="mod"&&(v=C.div.neg()),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.iadd(y)),{div:v,mod:_}):this.negative===0&&y.negative!==0?(C=this.divmod(y.neg(),p),p!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):(this.negative&y.negative)!=0?(C=this.neg().divmod(y.neg(),p),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.isub(y)),{div:C.div,mod:_}):y.length>this.length||this.cmp(y)<0?{div:new t(0),mod:this}:y.length===1?p==="div"?{div:this.divn(y.words[0]),mod:null}:p==="mod"?{div:null,mod:new t(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new t(this.modn(y.words[0]))}:this._wordDiv(y,p);var v,_,C},t.prototype.div=function(y){return this.divmod(y,"div",!1).div},t.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},t.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},t.prototype.divRound=function(y){var p=this.divmod(y);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(y):p.mod,v=y.ushrn(1),_=y.andln(1),C=w.cmp(v);return C<0||_===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},t.prototype.modn=function(y){f(y<=67108863);for(var p=(1<<26)%y,w=0,v=this.length-1;v>=0;v--)w=(p*w+(0|this.words[v]))%y;return w},t.prototype.idivn=function(y){f(y<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var v=(0|this.words[w])+67108864*p;this.words[w]=v/y|0,p=v%y}return this.strip()},t.prototype.divn=function(y){return this.clone().idivn(y)},t.prototype.egcd=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v=new t(1),_=new t(0),C=new t(0),L=new t(1),O=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++O;for(var U=w.clone(),q=p.clone();!p.isZero();){for(var H=0,G=1;(p.words[0]&G)==0&&H<26;++H,G<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(U),_.isub(q)),v.iushrn(1),_.iushrn(1);for(var K=0,Q=1;(w.words[0]&Q)==0&&K<26;++K,Q<<=1);if(K>0)for(w.iushrn(K);K-- >0;)(C.isOdd()||L.isOdd())&&(C.iadd(U),L.isub(q)),C.iushrn(1),L.iushrn(1);p.cmp(w)>=0?(p.isub(w),v.isub(C),_.isub(L)):(w.isub(p),C.isub(v),L.isub(_))}return{a:C,b:L,gcd:w.iushln(O)}},t.prototype._invmp=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v,_=new t(1),C=new t(0),L=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var O=0,U=1;(p.words[0]&U)==0&&O<26;++O,U<<=1);if(O>0)for(p.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(L),_.iushrn(1);for(var q=0,H=1;(w.words[0]&H)==0&&q<26;++q,H<<=1);if(q>0)for(w.iushrn(q);q-- >0;)C.isOdd()&&C.iadd(L),C.iushrn(1);p.cmp(w)>=0?(p.isub(w),_.isub(C)):(w.isub(p),C.isub(_))}return(v=p.cmpn(1)===0?_:C).cmpn(0)<0&&v.iadd(y),v},t.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var p=this.clone(),w=y.clone();p.negative=0,w.negative=0;for(var v=0;p.isEven()&&w.isEven();v++)p.iushrn(1),w.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var _=p.cmp(w);if(_<0){var C=p;p=w,w=C}else if(_===0||w.cmpn(1)===0)break;p.isub(w)}return w.iushln(v)},t.prototype.invm=function(y){return this.egcd(y).a.umod(y)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(y){return this.words[0]&y},t.prototype.bincn=function(y){f(typeof y=="number");var p=y%26,w=(y-p)/26,v=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=v,this;for(var _=v,C=w;_!==0&&C<this.length;C++){var L=0|this.words[C];_=(L+=_)>>>26,L&=67108863,this.words[C]=L}return _!==0&&(this.words[C]=_,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(y){var p,w=y<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this.strip(),this.length>1)p=1;else{w&&(y=-y),f(y<=67108863,"Number is too big");var v=0|this.words[0];p=v===y?0:v<y?-1:1}return this.negative!==0?0|-p:p},t.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var p=this.ucmp(y);return this.negative!==0?0|-p:p},t.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var v=0|this.words[w],_=0|y.words[w];if(v!==_){v<_?p=-1:v>_&&(p=1);break}}return p},t.prototype.gtn=function(y){return this.cmpn(y)===1},t.prototype.gt=function(y){return this.cmp(y)===1},t.prototype.gten=function(y){return this.cmpn(y)>=0},t.prototype.gte=function(y){return this.cmp(y)>=0},t.prototype.ltn=function(y){return this.cmpn(y)===-1},t.prototype.lt=function(y){return this.cmp(y)===-1},t.prototype.lten=function(y){return this.cmpn(y)<=0},t.prototype.lte=function(y){return this.cmp(y)<=0},t.prototype.eqn=function(y){return this.cmpn(y)===0},t.prototype.eq=function(y){return this.cmp(y)===0},t.red=function(y){return new S(y)},t.prototype.toRed=function(y){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},t.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(y){return this.red=y,this},t.prototype.forceRed=function(y){return f(!this.red,"Already a number in reduction context"),this._forceRed(y)},t.prototype.redAdd=function(y){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},t.prototype.redIAdd=function(y){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},t.prototype.redSub=function(y){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},t.prototype.redISub=function(y){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},t.prototype.redShl=function(y){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},t.prototype.redMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},t.prototype.redIMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},t.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(y){return f(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var B={k256:null,p224:null,p192:null,p25519:null};function k(y,p){this.name=y,this.p=new t(p,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(y){if(typeof y=="string"){var p=t._prime(y);this.m=p.p,this.prime=p}else f(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function M(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var y=new t(null);return y.words=new Array(Math.ceil(this.n/13)),y},k.prototype.ireduce=function(y){var p,w=y;do this.split(w,this.tmp),p=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(p>this.n);var v=p<this.n?-1:w.ucmp(this.p);return v===0?(w.words[0]=0,w.length=1):v>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},k.prototype.split=function(y,p){y.iushrn(this.n,0,p)},k.prototype.imulK=function(y){return y.imul(this.k)},c(T,k),T.prototype.split=function(y,p){for(var w=Math.min(y.length,9),v=0;v<w;v++)p.words[v]=y.words[v];if(p.length=w,y.length<=9)return y.words[0]=0,void(y.length=1);var _=y.words[9];for(p.words[p.length++]=4194303&_,v=10;v<y.length;v++){var C=0|y.words[v];y.words[v-10]=(4194303&C)<<4|_>>>22,_=C}_>>>=22,y.words[v-10]=_,_===0&&y.length>10?y.length-=10:y.length-=9},T.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var p=0,w=0;w<y.length;w++){var v=0|y.words[w];p+=977*v,y.words[w]=67108863&p,p=64*v+(p/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y},c(g,k),c(E,k),c(R,k),R.prototype.imulK=function(y){for(var p=0,w=0;w<y.length;w++){var v=19*(0|y.words[w])+p,_=67108863&v;v>>>=26,y.words[w]=_,p=v}return p!==0&&(y.words[y.length++]=p),y},t._prime=function(y){if(B[y])return B[y];var p;if(y==="k256")p=new T;else if(y==="p224")p=new g;else if(y==="p192")p=new E;else{if(y!=="p25519")throw new Error("Unknown prime "+y);p=new R}return B[y]=p,p},S.prototype._verify1=function(y){f(y.negative===0,"red works only with positives"),f(y.red,"red works only with red numbers")},S.prototype._verify2=function(y,p){f((y.negative|p.negative)==0,"red works only with positives"),f(y.red&&y.red===p.red,"red works only with red numbers")},S.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},S.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},S.prototype.add=function(y,p){this._verify2(y,p);var w=y.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},S.prototype.iadd=function(y,p){this._verify2(y,p);var w=y.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},S.prototype.sub=function(y,p){this._verify2(y,p);var w=y.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},S.prototype.isub=function(y,p){this._verify2(y,p);var w=y.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},S.prototype.shl=function(y,p){return this._verify1(y),this.imod(y.ushln(p))},S.prototype.imul=function(y,p){return this._verify2(y,p),this.imod(y.imul(p))},S.prototype.mul=function(y,p){return this._verify2(y,p),this.imod(y.mul(p))},S.prototype.isqr=function(y){return this.imul(y,y.clone())},S.prototype.sqr=function(y){return this.mul(y,y)},S.prototype.sqrt=function(y){if(y.isZero())return y.clone();var p=this.m.andln(3);if(f(p%2==1),p===3){var w=this.m.add(new t(1)).iushrn(2);return this.pow(y,w)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);f(!v.isZero());var C=new t(1).toRed(this),L=C.redNeg(),O=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new t(2*U*U).toRed(this);this.pow(U,O).cmp(L)!==0;)U.redIAdd(L);for(var q=this.pow(U,v),H=this.pow(y,v.addn(1).iushrn(1)),G=this.pow(y,v),K=_;G.cmp(C)!==0;){for(var Q=G,z=0;Q.cmp(C)!==0;z++)Q=Q.redSqr();f(z<K);var D=this.pow(q,new t(1).iushln(K-z-1));H=H.redMul(D),q=D.redSqr(),G=G.redMul(q),K=z}return H},S.prototype.invm=function(y){var p=y._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},S.prototype.pow=function(y,p){if(p.isZero())return new t(1).toRed(this);if(p.cmpn(1)===0)return y.clone();var w=new Array(16);w[0]=new t(1).toRed(this),w[1]=y;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],y);var _=w[0],C=0,L=0,O=p.bitLength()%26;for(O===0&&(O=26),v=p.length-1;v>=0;v--){for(var U=p.words[v],q=O-1;q>=0;q--){var H=U>>q&1;_!==w[0]&&(_=this.sqr(_)),H!==0||C!==0?(C<<=1,C|=H,(++L===4||v===0&&q===0)&&(_=this.mul(_,w[C]),L=0,C=0)):L=0}O=26}return _},S.prototype.convertTo=function(y){var p=y.umod(this.m);return p===y?p.clone():p},S.prototype.convertFrom=function(y){var p=y.clone();return p.red=null,p},t.mont=function(y){return new M(y)},c(M,S),M.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},M.prototype.convertFrom=function(y){var p=this.imod(y.mul(this.rinv));return p.red=null,p},M.prototype.imul=function(y,p){if(y.isZero()||p.isZero())return y.words[0]=0,y.length=1,y;var w=y.imul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.mul=function(y,p){if(y.isZero()||p.isZero())return new t(0)._forceRed(this);var w=y.mul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(s)}).call(this,b(124)(N))},function(N,x,b){N.exports=function(s,r){r||(r=s.reduce((c,t)=>c+t.length,0));const i=new Uint8Array(r);let f=0;for(const c of s)i.set(c,f),f+=c.length;return i}},function(N,x,b){(function(s){!function(r,i){function f(y,p){if(!y)throw new Error(p||"Assertion failed")}function c(y,p){y.super_=p;var w=function(){};w.prototype=p.prototype,y.prototype=new w,y.prototype.constructor=y}function t(y,p,w){if(t.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&(p!=="le"&&p!=="be"||(w=p,p=10),this._init(y||0,p||10,w||"be"))}var a;typeof r=="object"?r.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{a=b(463).Buffer}catch(y){}function o(y,p,w){for(var v=0,_=Math.min(y.length,w),C=p;C<_;C++){var L=y.charCodeAt(C)-48;v<<=4,v|=L>=49&&L<=54?L-49+10:L>=17&&L<=22?L-17+10:15&L}return v}function e(y,p,w,v){for(var _=0,C=Math.min(y.length,w),L=p;L<C;L++){var O=y.charCodeAt(L)-48;_*=v,_+=O>=49?O-49+10:O>=17?O-17+10:O}return _}t.isBN=function(y){return y instanceof t||y!==null&&typeof y=="object"&&y.constructor.wordSize===t.wordSize&&Array.isArray(y.words)},t.max=function(y,p){return y.cmp(p)>0?y:p},t.min=function(y,p){return y.cmp(p)<0?y:p},t.prototype._init=function(y,p,w){if(typeof y=="number")return this._initNumber(y,p,w);if(typeof y=="object")return this._initArray(y,p,w);p==="hex"&&(p=16),f(p===(0|p)&&p>=2&&p<=36);var v=0;(y=y.toString().replace(/\s+/g,""))[0]==="-"&&v++,p===16?this._parseHex(y,v):this._parseBase(y,p,v),y[0]==="-"&&(this.negative=1),this.strip(),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initNumber=function(y,p,w){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[67108863&y],this.length=1):y<4503599627370496?(this.words=[67108863&y,y/67108864&67108863],this.length=2):(f(y<9007199254740992),this.words=[67108863&y,y/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},t.prototype._initArray=function(y,p,w){if(f(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,C,L=0;if(w==="be")for(v=y.length-1,_=0;v>=0;v-=3)C=y[v]|y[v-1]<<8|y[v-2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if(w==="le")for(v=0,_=0;v<y.length;v+=3)C=y[v]|y[v+1]<<8|y[v+2]<<16,this.words[_]|=C<<L&67108863,this.words[_+1]=C>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},t.prototype._parseHex=function(y,p){this.length=Math.ceil((y.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,_,C=0;for(w=y.length-6,v=0;w>=p;w-=6)_=o(y,w,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303,(C+=24)>=26&&(C-=26,v++);w+6!==p&&(_=o(y,p,w+6),this.words[v]|=_<<C&67108863,this.words[v+1]|=_>>>26-C&4194303),this.strip()},t.prototype._parseBase=function(y,p,w){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=p)v++;v--,_=_/p|0;for(var C=y.length-w,L=C%v,O=Math.min(C,C-L)+w,U=0,q=w;q<O;q+=v)U=e(y,q,q+v,p),this.imuln(_),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(L!==0){var H=1;for(U=e(y,q,y.length,p),q=0;q<L;q++)H*=p;this.imuln(H),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}},t.prototype.copy=function(y){y.words=new Array(this.length);for(var p=0;p<this.length;p++)y.words[p]=this.words[p];y.length=this.length,y.negative=this.negative,y.red=this.red},t.prototype.clone=function(){var y=new t(null);return this.copy(y),y},t.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(y,p,w){w.negative=p.negative^y.negative;var v=y.length+p.length|0;w.length=v,v=v-1|0;var _=0|y.words[0],C=0|p.words[0],L=_*C,O=67108863&L,U=L/67108864|0;w.words[0]=O;for(var q=1;q<v;q++){for(var H=U>>>26,G=67108863&U,K=Math.min(q,p.length-1),Q=Math.max(0,q-y.length+1);Q<=K;Q++){var z=q-Q|0;H+=(L=(_=0|y.words[z])*(C=0|p.words[Q])+G)/67108864|0,G=67108863&L}w.words[q]=0|G,U=0|H}return U!==0?w.words[q]=0|U:w.length--,w.strip()}t.prototype.toString=function(y,p){var w;if(p=0|p||1,(y=y||10)===16||y==="hex"){w="";for(var v=0,_=0,C=0;C<this.length;C++){var L=this.words[C],O=(16777215&(L<<v|_)).toString(16);w=(_=L>>>24-v&16777215)!==0||C!==this.length-1?n[6-O.length]+O+w:O+w,(v+=2)>=26&&(v-=26,C--)}for(_!==0&&(w=_.toString(16)+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(y===(0|y)&&y>=2&&y<=36){var U=h[y],q=u[y];w="";var H=this.clone();for(H.negative=0;!H.isZero();){var G=H.modn(q).toString(y);w=(H=H.idivn(q)).isZero()?G+w:n[U-G.length]+G+w}for(this.isZero()&&(w="0"+w);w.length%p!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}f(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=67108864*this.words[1]:this.length===3&&this.words[2]===1?y+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(y,p){return f(a!==void 0),this.toArrayLike(a,y,p)},t.prototype.toArray=function(y,p){return this.toArrayLike(Array,y,p)},t.prototype.toArrayLike=function(y,p,w){var v=this.byteLength(),_=w||Math.max(1,v);f(v<=_,"byte array longer than desired length"),f(_>0,"Requested array length <= 0"),this.strip();var C,L,O=p==="le",U=new y(_),q=this.clone();if(O){for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[L]=C;for(;L<_;L++)U[L]=0}else{for(L=0;L<_-v;L++)U[L]=0;for(L=0;!q.isZero();L++)C=q.andln(255),q.iushrn(8),U[_-L-1]=C}return U},Math.clz32?t.prototype._countBits=function(y){return 32-Math.clz32(y)}:t.prototype._countBits=function(y){var p=y,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},t.prototype._zeroBits=function(y){if(y===0)return 26;var p=y,w=0;return(8191&p)==0&&(w+=13,p>>>=13),(127&p)==0&&(w+=7,p>>>=7),(15&p)==0&&(w+=4,p>>>=4),(3&p)==0&&(w+=2,p>>>=2),(1&p)==0&&w++,w},t.prototype.bitLength=function(){var y=this.words[this.length-1],p=this._countBits(y);return 26*(this.length-1)+p},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(y+=w,w!==26)break}return y},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},t.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var p=0;p<y.length;p++)this.words[p]=this.words[p]|y.words[p];return this.strip()},t.prototype.ior=function(y){return f((this.negative|y.negative)==0),this.iuor(y)},t.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},t.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},t.prototype.iuand=function(y){var p;p=this.length>y.length?y:this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&y.words[w];return this.length=p.length,this.strip()},t.prototype.iand=function(y){return f((this.negative|y.negative)==0),this.iuand(y)},t.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},t.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},t.prototype.iuxor=function(y){var p,w;this.length>y.length?(p=this,w=y):(p=y,w=this);for(var v=0;v<w.length;v++)this.words[v]=p.words[v]^w.words[v];if(this!==p)for(;v<p.length;v++)this.words[v]=p.words[v];return this.length=p.length,this.strip()},t.prototype.ixor=function(y){return f((this.negative|y.negative)==0),this.iuxor(y)},t.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},t.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},t.prototype.inotn=function(y){f(typeof y=="number"&&y>=0);var p=0|Math.ceil(y/26),w=y%26;this._expand(p),w>0&&p--;for(var v=0;v<p;v++)this.words[v]=67108863&~this.words[v];return w>0&&(this.words[v]=~this.words[v]&67108863>>26-w),this.strip()},t.prototype.notn=function(y){return this.clone().inotn(y)},t.prototype.setn=function(y,p){f(typeof y=="number"&&y>=0);var w=y/26|0,v=y%26;return this._expand(w+1),this.words[w]=p?this.words[w]|1<<v:this.words[w]&~(1<<v),this.strip()},t.prototype.iadd=function(y){var p,w,v;if(this.negative!==0&&y.negative===0)return this.negative=0,p=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,p=this.isub(y),y.negative=1,p._normSign();this.length>y.length?(w=this,v=y):(w=y,v=this);for(var _=0,C=0;C<v.length;C++)p=(0|w.words[C])+(0|v.words[C])+_,this.words[C]=67108863&p,_=p>>>26;for(;_!==0&&C<w.length;C++)p=(0|w.words[C])+_,this.words[C]=67108863&p,_=p>>>26;if(this.length=w.length,_!==0)this.words[this.length]=_,this.length++;else if(w!==this)for(;C<w.length;C++)this.words[C]=w.words[C];return this},t.prototype.add=function(y){var p;return y.negative!==0&&this.negative===0?(y.negative=0,p=this.sub(y),y.negative^=1,p):y.negative===0&&this.negative!==0?(this.negative=0,p=y.sub(this),this.negative=1,p):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},t.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var p=this.iadd(y);return y.negative=1,p._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var w,v,_=this.cmp(y);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(w=this,v=y):(w=y,v=this);for(var C=0,L=0;L<v.length;L++)C=(p=(0|w.words[L])-(0|v.words[L])+C)>>26,this.words[L]=67108863&p;for(;C!==0&&L<w.length;L++)C=(p=(0|w.words[L])+C)>>26,this.words[L]=67108863&p;if(C===0&&L<w.length&&w!==this)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=Math.max(this.length,L),w!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(y){return this.clone().isub(y)};var l=function(y,p,w){var v,_,C,L=y.words,O=p.words,U=w.words,q=0,H=0|L[0],G=8191&H,K=H>>>13,Q=0|L[1],z=8191&Q,D=Q>>>13,F=0|L[2],I=8191&F,P=F>>>13,V=0|L[3],$=8191&V,W=V>>>13,et=0|L[4],ot=8191&et,j=et>>>13,Y=0|L[5],X=8191&Y,tt=Y>>>13,rt=0|L[6],J=8191&rt,Z=rt>>>13,nt=0|L[7],it=8191&nt,st=nt>>>13,at=0|L[8],ct=8191&at,ut=at>>>13,bt=0|L[9],ht=8191&bt,yt=bt>>>13,Ct=0|O[0],ft=8191&Ct,dt=Ct>>>13,Kt=0|O[1],Tt=8191&Kt,Rt=Kt>>>13,jt=0|O[2],It=8191&jt,Bt=jt>>>13,Vt=0|O[3],pt=8191&Vt,lt=Vt>>>13,Pt=0|O[4],gt=8191&Pt,mt=Pt>>>13,Lt=0|O[5],vt=8191&Lt,wt=Lt>>>13,Ot=0|O[6],Et=8191&Ot,St=Ot>>>13,Dt=0|O[7],_t=8191&Dt,kt=Dt>>>13,Ut=0|O[8],At=8191&Ut,Mt=Ut>>>13,$t=0|O[9],Nt=8191&$t,xt=$t>>>13;w.negative=y.negative^p.negative,w.length=19;var qt=(q+(v=Math.imul(G,ft))|0)+((8191&(_=(_=Math.imul(G,dt))+Math.imul(K,ft)|0))<<13)|0;q=((C=Math.imul(K,dt))+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,v=Math.imul(z,ft),_=(_=Math.imul(z,dt))+Math.imul(D,ft)|0,C=Math.imul(D,dt);var Ft=(q+(v=v+Math.imul(G,Tt)|0)|0)+((8191&(_=(_=_+Math.imul(G,Rt)|0)+Math.imul(K,Tt)|0))<<13)|0;q=((C=C+Math.imul(K,Rt)|0)+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,v=Math.imul(I,ft),_=(_=Math.imul(I,dt))+Math.imul(P,ft)|0,C=Math.imul(P,dt),v=v+Math.imul(z,Tt)|0,_=(_=_+Math.imul(z,Rt)|0)+Math.imul(D,Tt)|0,C=C+Math.imul(D,Rt)|0;var zt=(q+(v=v+Math.imul(G,It)|0)|0)+((8191&(_=(_=_+Math.imul(G,Bt)|0)+Math.imul(K,It)|0))<<13)|0;q=((C=C+Math.imul(K,Bt)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,v=Math.imul($,ft),_=(_=Math.imul($,dt))+Math.imul(W,ft)|0,C=Math.imul(W,dt),v=v+Math.imul(I,Tt)|0,_=(_=_+Math.imul(I,Rt)|0)+Math.imul(P,Tt)|0,C=C+Math.imul(P,Rt)|0,v=v+Math.imul(z,It)|0,_=(_=_+Math.imul(z,Bt)|0)+Math.imul(D,It)|0,C=C+Math.imul(D,Bt)|0;var Ht=(q+(v=v+Math.imul(G,pt)|0)|0)+((8191&(_=(_=_+Math.imul(G,lt)|0)+Math.imul(K,pt)|0))<<13)|0;q=((C=C+Math.imul(K,lt)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,v=Math.imul(ot,ft),_=(_=Math.imul(ot,dt))+Math.imul(j,ft)|0,C=Math.imul(j,dt),v=v+Math.imul($,Tt)|0,_=(_=_+Math.imul($,Rt)|0)+Math.imul(W,Tt)|0,C=C+Math.imul(W,Rt)|0,v=v+Math.imul(I,It)|0,_=(_=_+Math.imul(I,Bt)|0)+Math.imul(P,It)|0,C=C+Math.imul(P,Bt)|0,v=v+Math.imul(z,pt)|0,_=(_=_+Math.imul(z,lt)|0)+Math.imul(D,pt)|0,C=C+Math.imul(D,lt)|0;var Gt=(q+(v=v+Math.imul(G,gt)|0)|0)+((8191&(_=(_=_+Math.imul(G,mt)|0)+Math.imul(K,gt)|0))<<13)|0;q=((C=C+Math.imul(K,mt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(X,ft),_=(_=Math.imul(X,dt))+Math.imul(tt,ft)|0,C=Math.imul(tt,dt),v=v+Math.imul(ot,Tt)|0,_=(_=_+Math.imul(ot,Rt)|0)+Math.imul(j,Tt)|0,C=C+Math.imul(j,Rt)|0,v=v+Math.imul($,It)|0,_=(_=_+Math.imul($,Bt)|0)+Math.imul(W,It)|0,C=C+Math.imul(W,Bt)|0,v=v+Math.imul(I,pt)|0,_=(_=_+Math.imul(I,lt)|0)+Math.imul(P,pt)|0,C=C+Math.imul(P,lt)|0,v=v+Math.imul(z,gt)|0,_=(_=_+Math.imul(z,mt)|0)+Math.imul(D,gt)|0,C=C+Math.imul(D,mt)|0;var Yt=(q+(v=v+Math.imul(G,vt)|0)|0)+((8191&(_=(_=_+Math.imul(G,wt)|0)+Math.imul(K,vt)|0))<<13)|0;q=((C=C+Math.imul(K,wt)|0)+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(J,ft),_=(_=Math.imul(J,dt))+Math.imul(Z,ft)|0,C=Math.imul(Z,dt),v=v+Math.imul(X,Tt)|0,_=(_=_+Math.imul(X,Rt)|0)+Math.imul(tt,Tt)|0,C=C+Math.imul(tt,Rt)|0,v=v+Math.imul(ot,It)|0,_=(_=_+Math.imul(ot,Bt)|0)+Math.imul(j,It)|0,C=C+Math.imul(j,Bt)|0,v=v+Math.imul($,pt)|0,_=(_=_+Math.imul($,lt)|0)+Math.imul(W,pt)|0,C=C+Math.imul(W,lt)|0,v=v+Math.imul(I,gt)|0,_=(_=_+Math.imul(I,mt)|0)+Math.imul(P,gt)|0,C=C+Math.imul(P,mt)|0,v=v+Math.imul(z,vt)|0,_=(_=_+Math.imul(z,wt)|0)+Math.imul(D,vt)|0,C=C+Math.imul(D,wt)|0;var Wt=(q+(v=v+Math.imul(G,Et)|0)|0)+((8191&(_=(_=_+Math.imul(G,St)|0)+Math.imul(K,Et)|0))<<13)|0;q=((C=C+Math.imul(K,St)|0)+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,v=Math.imul(it,ft),_=(_=Math.imul(it,dt))+Math.imul(st,ft)|0,C=Math.imul(st,dt),v=v+Math.imul(J,Tt)|0,_=(_=_+Math.imul(J,Rt)|0)+Math.imul(Z,Tt)|0,C=C+Math.imul(Z,Rt)|0,v=v+Math.imul(X,It)|0,_=(_=_+Math.imul(X,Bt)|0)+Math.imul(tt,It)|0,C=C+Math.imul(tt,Bt)|0,v=v+Math.imul(ot,pt)|0,_=(_=_+Math.imul(ot,lt)|0)+Math.imul(j,pt)|0,C=C+Math.imul(j,lt)|0,v=v+Math.imul($,gt)|0,_=(_=_+Math.imul($,mt)|0)+Math.imul(W,gt)|0,C=C+Math.imul(W,mt)|0,v=v+Math.imul(I,vt)|0,_=(_=_+Math.imul(I,wt)|0)+Math.imul(P,vt)|0,C=C+Math.imul(P,wt)|0,v=v+Math.imul(z,Et)|0,_=(_=_+Math.imul(z,St)|0)+Math.imul(D,Et)|0,C=C+Math.imul(D,St)|0;var Qt=(q+(v=v+Math.imul(G,_t)|0)|0)+((8191&(_=(_=_+Math.imul(G,kt)|0)+Math.imul(K,_t)|0))<<13)|0;q=((C=C+Math.imul(K,kt)|0)+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ct,ft),_=(_=Math.imul(ct,dt))+Math.imul(ut,ft)|0,C=Math.imul(ut,dt),v=v+Math.imul(it,Tt)|0,_=(_=_+Math.imul(it,Rt)|0)+Math.imul(st,Tt)|0,C=C+Math.imul(st,Rt)|0,v=v+Math.imul(J,It)|0,_=(_=_+Math.imul(J,Bt)|0)+Math.imul(Z,It)|0,C=C+Math.imul(Z,Bt)|0,v=v+Math.imul(X,pt)|0,_=(_=_+Math.imul(X,lt)|0)+Math.imul(tt,pt)|0,C=C+Math.imul(tt,lt)|0,v=v+Math.imul(ot,gt)|0,_=(_=_+Math.imul(ot,mt)|0)+Math.imul(j,gt)|0,C=C+Math.imul(j,mt)|0,v=v+Math.imul($,vt)|0,_=(_=_+Math.imul($,wt)|0)+Math.imul(W,vt)|0,C=C+Math.imul(W,wt)|0,v=v+Math.imul(I,Et)|0,_=(_=_+Math.imul(I,St)|0)+Math.imul(P,Et)|0,C=C+Math.imul(P,St)|0,v=v+Math.imul(z,_t)|0,_=(_=_+Math.imul(z,kt)|0)+Math.imul(D,_t)|0,C=C+Math.imul(D,kt)|0;var Xt=(q+(v=v+Math.imul(G,At)|0)|0)+((8191&(_=(_=_+Math.imul(G,Mt)|0)+Math.imul(K,At)|0))<<13)|0;q=((C=C+Math.imul(K,Mt)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,v=Math.imul(ht,ft),_=(_=Math.imul(ht,dt))+Math.imul(yt,ft)|0,C=Math.imul(yt,dt),v=v+Math.imul(ct,Tt)|0,_=(_=_+Math.imul(ct,Rt)|0)+Math.imul(ut,Tt)|0,C=C+Math.imul(ut,Rt)|0,v=v+Math.imul(it,It)|0,_=(_=_+Math.imul(it,Bt)|0)+Math.imul(st,It)|0,C=C+Math.imul(st,Bt)|0,v=v+Math.imul(J,pt)|0,_=(_=_+Math.imul(J,lt)|0)+Math.imul(Z,pt)|0,C=C+Math.imul(Z,lt)|0,v=v+Math.imul(X,gt)|0,_=(_=_+Math.imul(X,mt)|0)+Math.imul(tt,gt)|0,C=C+Math.imul(tt,mt)|0,v=v+Math.imul(ot,vt)|0,_=(_=_+Math.imul(ot,wt)|0)+Math.imul(j,vt)|0,C=C+Math.imul(j,wt)|0,v=v+Math.imul($,Et)|0,_=(_=_+Math.imul($,St)|0)+Math.imul(W,Et)|0,C=C+Math.imul(W,St)|0,v=v+Math.imul(I,_t)|0,_=(_=_+Math.imul(I,kt)|0)+Math.imul(P,_t)|0,C=C+Math.imul(P,kt)|0,v=v+Math.imul(z,At)|0,_=(_=_+Math.imul(z,Mt)|0)+Math.imul(D,At)|0,C=C+Math.imul(D,Mt)|0;var Zt=(q+(v=v+Math.imul(G,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(G,xt)|0)+Math.imul(K,Nt)|0))<<13)|0;q=((C=C+Math.imul(K,xt)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,v=Math.imul(ht,Tt),_=(_=Math.imul(ht,Rt))+Math.imul(yt,Tt)|0,C=Math.imul(yt,Rt),v=v+Math.imul(ct,It)|0,_=(_=_+Math.imul(ct,Bt)|0)+Math.imul(ut,It)|0,C=C+Math.imul(ut,Bt)|0,v=v+Math.imul(it,pt)|0,_=(_=_+Math.imul(it,lt)|0)+Math.imul(st,pt)|0,C=C+Math.imul(st,lt)|0,v=v+Math.imul(J,gt)|0,_=(_=_+Math.imul(J,mt)|0)+Math.imul(Z,gt)|0,C=C+Math.imul(Z,mt)|0,v=v+Math.imul(X,vt)|0,_=(_=_+Math.imul(X,wt)|0)+Math.imul(tt,vt)|0,C=C+Math.imul(tt,wt)|0,v=v+Math.imul(ot,Et)|0,_=(_=_+Math.imul(ot,St)|0)+Math.imul(j,Et)|0,C=C+Math.imul(j,St)|0,v=v+Math.imul($,_t)|0,_=(_=_+Math.imul($,kt)|0)+Math.imul(W,_t)|0,C=C+Math.imul(W,kt)|0,v=v+Math.imul(I,At)|0,_=(_=_+Math.imul(I,Mt)|0)+Math.imul(P,At)|0,C=C+Math.imul(P,Mt)|0;var Jt=(q+(v=v+Math.imul(z,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(z,xt)|0)+Math.imul(D,Nt)|0))<<13)|0;q=((C=C+Math.imul(D,xt)|0)+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(ht,It),_=(_=Math.imul(ht,Bt))+Math.imul(yt,It)|0,C=Math.imul(yt,Bt),v=v+Math.imul(ct,pt)|0,_=(_=_+Math.imul(ct,lt)|0)+Math.imul(ut,pt)|0,C=C+Math.imul(ut,lt)|0,v=v+Math.imul(it,gt)|0,_=(_=_+Math.imul(it,mt)|0)+Math.imul(st,gt)|0,C=C+Math.imul(st,mt)|0,v=v+Math.imul(J,vt)|0,_=(_=_+Math.imul(J,wt)|0)+Math.imul(Z,vt)|0,C=C+Math.imul(Z,wt)|0,v=v+Math.imul(X,Et)|0,_=(_=_+Math.imul(X,St)|0)+Math.imul(tt,Et)|0,C=C+Math.imul(tt,St)|0,v=v+Math.imul(ot,_t)|0,_=(_=_+Math.imul(ot,kt)|0)+Math.imul(j,_t)|0,C=C+Math.imul(j,kt)|0,v=v+Math.imul($,At)|0,_=(_=_+Math.imul($,Mt)|0)+Math.imul(W,At)|0,C=C+Math.imul(W,Mt)|0;var te=(q+(v=v+Math.imul(I,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(I,xt)|0)+Math.imul(P,Nt)|0))<<13)|0;q=((C=C+Math.imul(P,xt)|0)+(_>>>13)|0)+(te>>>26)|0,te&=67108863,v=Math.imul(ht,pt),_=(_=Math.imul(ht,lt))+Math.imul(yt,pt)|0,C=Math.imul(yt,lt),v=v+Math.imul(ct,gt)|0,_=(_=_+Math.imul(ct,mt)|0)+Math.imul(ut,gt)|0,C=C+Math.imul(ut,mt)|0,v=v+Math.imul(it,vt)|0,_=(_=_+Math.imul(it,wt)|0)+Math.imul(st,vt)|0,C=C+Math.imul(st,wt)|0,v=v+Math.imul(J,Et)|0,_=(_=_+Math.imul(J,St)|0)+Math.imul(Z,Et)|0,C=C+Math.imul(Z,St)|0,v=v+Math.imul(X,_t)|0,_=(_=_+Math.imul(X,kt)|0)+Math.imul(tt,_t)|0,C=C+Math.imul(tt,kt)|0,v=v+Math.imul(ot,At)|0,_=(_=_+Math.imul(ot,Mt)|0)+Math.imul(j,At)|0,C=C+Math.imul(j,Mt)|0;var ee=(q+(v=v+Math.imul($,Nt)|0)|0)+((8191&(_=(_=_+Math.imul($,xt)|0)+Math.imul(W,Nt)|0))<<13)|0;q=((C=C+Math.imul(W,xt)|0)+(_>>>13)|0)+(ee>>>26)|0,ee&=67108863,v=Math.imul(ht,gt),_=(_=Math.imul(ht,mt))+Math.imul(yt,gt)|0,C=Math.imul(yt,mt),v=v+Math.imul(ct,vt)|0,_=(_=_+Math.imul(ct,wt)|0)+Math.imul(ut,vt)|0,C=C+Math.imul(ut,wt)|0,v=v+Math.imul(it,Et)|0,_=(_=_+Math.imul(it,St)|0)+Math.imul(st,Et)|0,C=C+Math.imul(st,St)|0,v=v+Math.imul(J,_t)|0,_=(_=_+Math.imul(J,kt)|0)+Math.imul(Z,_t)|0,C=C+Math.imul(Z,kt)|0,v=v+Math.imul(X,At)|0,_=(_=_+Math.imul(X,Mt)|0)+Math.imul(tt,At)|0,C=C+Math.imul(tt,Mt)|0;var re=(q+(v=v+Math.imul(ot,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ot,xt)|0)+Math.imul(j,Nt)|0))<<13)|0;q=((C=C+Math.imul(j,xt)|0)+(_>>>13)|0)+(re>>>26)|0,re&=67108863,v=Math.imul(ht,vt),_=(_=Math.imul(ht,wt))+Math.imul(yt,vt)|0,C=Math.imul(yt,wt),v=v+Math.imul(ct,Et)|0,_=(_=_+Math.imul(ct,St)|0)+Math.imul(ut,Et)|0,C=C+Math.imul(ut,St)|0,v=v+Math.imul(it,_t)|0,_=(_=_+Math.imul(it,kt)|0)+Math.imul(st,_t)|0,C=C+Math.imul(st,kt)|0,v=v+Math.imul(J,At)|0,_=(_=_+Math.imul(J,Mt)|0)+Math.imul(Z,At)|0,C=C+Math.imul(Z,Mt)|0;var ne=(q+(v=v+Math.imul(X,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(X,xt)|0)+Math.imul(tt,Nt)|0))<<13)|0;q=((C=C+Math.imul(tt,xt)|0)+(_>>>13)|0)+(ne>>>26)|0,ne&=67108863,v=Math.imul(ht,Et),_=(_=Math.imul(ht,St))+Math.imul(yt,Et)|0,C=Math.imul(yt,St),v=v+Math.imul(ct,_t)|0,_=(_=_+Math.imul(ct,kt)|0)+Math.imul(ut,_t)|0,C=C+Math.imul(ut,kt)|0,v=v+Math.imul(it,At)|0,_=(_=_+Math.imul(it,Mt)|0)+Math.imul(st,At)|0,C=C+Math.imul(st,Mt)|0;var ie=(q+(v=v+Math.imul(J,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(J,xt)|0)+Math.imul(Z,Nt)|0))<<13)|0;q=((C=C+Math.imul(Z,xt)|0)+(_>>>13)|0)+(ie>>>26)|0,ie&=67108863,v=Math.imul(ht,_t),_=(_=Math.imul(ht,kt))+Math.imul(yt,_t)|0,C=Math.imul(yt,kt),v=v+Math.imul(ct,At)|0,_=(_=_+Math.imul(ct,Mt)|0)+Math.imul(ut,At)|0,C=C+Math.imul(ut,Mt)|0;var se=(q+(v=v+Math.imul(it,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(it,xt)|0)+Math.imul(st,Nt)|0))<<13)|0;q=((C=C+Math.imul(st,xt)|0)+(_>>>13)|0)+(se>>>26)|0,se&=67108863,v=Math.imul(ht,At),_=(_=Math.imul(ht,Mt))+Math.imul(yt,At)|0,C=Math.imul(yt,Mt);var oe=(q+(v=v+Math.imul(ct,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ct,xt)|0)+Math.imul(ut,Nt)|0))<<13)|0;q=((C=C+Math.imul(ut,xt)|0)+(_>>>13)|0)+(oe>>>26)|0,oe&=67108863;var ae=(q+(v=Math.imul(ht,Nt))|0)+((8191&(_=(_=Math.imul(ht,xt))+Math.imul(yt,Nt)|0))<<13)|0;return q=((C=Math.imul(yt,xt))+(_>>>13)|0)+(ae>>>26)|0,ae&=67108863,U[0]=qt,U[1]=Ft,U[2]=zt,U[3]=Ht,U[4]=Gt,U[5]=Yt,U[6]=Wt,U[7]=Qt,U[8]=Xt,U[9]=Zt,U[10]=Jt,U[11]=te,U[12]=ee,U[13]=re,U[14]=ne,U[15]=ie,U[16]=se,U[17]=oe,U[18]=ae,q!==0&&(U[19]=q,w.length++),w};function m(y,p,w){return new A().mulp(y,p,w)}function A(y,p){this.x=y,this.y=p}Math.imul||(l=d),t.prototype.mulTo=function(y,p){var w=this.length+y.length;return this.length===10&&y.length===10?l(this,y,p):w<63?d(this,y,p):w<1024?function(v,_,C){C.negative=_.negative^v.negative,C.length=v.length+_.length;for(var L=0,O=0,U=0;U<C.length-1;U++){var q=O;O=0;for(var H=67108863&L,G=Math.min(U,_.length-1),K=Math.max(0,U-v.length+1);K<=G;K++){var Q=U-K,z=(0|v.words[Q])*(0|_.words[K]),D=67108863&z;H=67108863&(D=D+H|0),O+=(q=(q=q+(z/67108864|0)|0)+(D>>>26)|0)>>>26,q&=67108863}C.words[U]=H,L=q,q=O}return L!==0?C.words[U]=L:C.length--,C.strip()}(this,y,p):m(this,y,p)},A.prototype.makeRBT=function(y){for(var p=new Array(y),w=t.prototype._countBits(y)-1,v=0;v<y;v++)p[v]=this.revBin(v,w,y);return p},A.prototype.revBin=function(y,p,w){if(y===0||y===w-1)return y;for(var v=0,_=0;_<p;_++)v|=(1&y)<<p-_-1,y>>=1;return v},A.prototype.permute=function(y,p,w,v,_,C){for(var L=0;L<C;L++)v[L]=p[y[L]],_[L]=w[y[L]]},A.prototype.transform=function(y,p,w,v,_,C){this.permute(C,y,p,w,v,_);for(var L=1;L<_;L<<=1)for(var O=L<<1,U=Math.cos(2*Math.PI/O),q=Math.sin(2*Math.PI/O),H=0;H<_;H+=O)for(var G=U,K=q,Q=0;Q<L;Q++){var z=w[H+Q],D=v[H+Q],F=w[H+Q+L],I=v[H+Q+L],P=G*F-K*I;I=G*I+K*F,F=P,w[H+Q]=z+F,v[H+Q]=D+I,w[H+Q+L]=z-F,v[H+Q+L]=D-I,Q!==O&&(P=U*G-q*K,K=U*K+q*G,G=P)}},A.prototype.guessLen13b=function(y,p){var w=1|Math.max(p,y),v=1&w,_=0;for(w=w/2|0;w;w>>>=1)_++;return 1<<_+1+v},A.prototype.conjugate=function(y,p,w){if(!(w<=1))for(var v=0;v<w/2;v++){var _=y[v];y[v]=y[w-v-1],y[w-v-1]=_,_=p[v],p[v]=-p[w-v-1],p[w-v-1]=-_}},A.prototype.normalize13b=function(y,p){for(var w=0,v=0;v<p/2;v++){var _=8192*Math.round(y[2*v+1]/p)+Math.round(y[2*v]/p)+w;y[v]=67108863&_,w=_<67108864?0:_/67108864|0}return y},A.prototype.convert13b=function(y,p,w,v){for(var _=0,C=0;C<p;C++)_+=0|y[C],w[2*C]=8191&_,_>>>=13,w[2*C+1]=8191&_,_>>>=13;for(C=2*p;C<v;++C)w[C]=0;f(_===0),f((-8192&_)==0)},A.prototype.stub=function(y){for(var p=new Array(y),w=0;w<y;w++)p[w]=0;return p},A.prototype.mulp=function(y,p,w){var v=2*this.guessLen13b(y.length,p.length),_=this.makeRBT(v),C=this.stub(v),L=new Array(v),O=new Array(v),U=new Array(v),q=new Array(v),H=new Array(v),G=new Array(v),K=w.words;K.length=v,this.convert13b(y.words,y.length,L,v),this.convert13b(p.words,p.length,q,v),this.transform(L,C,O,U,v,_),this.transform(q,C,H,G,v,_);for(var Q=0;Q<v;Q++){var z=O[Q]*H[Q]-U[Q]*G[Q];U[Q]=O[Q]*G[Q]+U[Q]*H[Q],O[Q]=z}return this.conjugate(O,U,v),this.transform(O,U,K,C,v,_),this.conjugate(K,C,v),this.normalize13b(K,v),w.negative=y.negative^p.negative,w.length=y.length+p.length,w.strip()},t.prototype.mul=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),this.mulTo(y,p)},t.prototype.mulf=function(y){var p=new t(null);return p.words=new Array(this.length+y.length),m(this,y,p)},t.prototype.imul=function(y){return this.clone().mulTo(y,this)},t.prototype.imuln=function(y){f(typeof y=="number"),f(y<67108864);for(var p=0,w=0;w<this.length;w++){var v=(0|this.words[w])*y,_=(67108863&v)+(67108863&p);p>>=26,p+=v/67108864|0,p+=_>>>26,this.words[w]=67108863&_}return p!==0&&(this.words[w]=p,this.length++),this},t.prototype.muln=function(y){return this.clone().imuln(y)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(y){var p=function(C){for(var L=new Array(C.bitLength()),O=0;O<L.length;O++){var U=O/26|0,q=O%26;L[O]=(C.words[U]&1<<q)>>>q}return L}(y);if(p.length===0)return new t(1);for(var w=this,v=0;v<p.length&&p[v]===0;v++,w=w.sqr());if(++v<p.length)for(var _=w.sqr();v<p.length;v++,_=_.sqr())p[v]!==0&&(w=w.mul(_));return w},t.prototype.iushln=function(y){f(typeof y=="number"&&y>=0);var p,w=y%26,v=(y-w)/26,_=67108863>>>26-w<<26-w;if(w!==0){var C=0;for(p=0;p<this.length;p++){var L=this.words[p]&_,O=(0|this.words[p])-L<<w;this.words[p]=O|C,C=L>>>26-w}C&&(this.words[p]=C,this.length++)}if(v!==0){for(p=this.length-1;p>=0;p--)this.words[p+v]=this.words[p];for(p=0;p<v;p++)this.words[p]=0;this.length+=v}return this.strip()},t.prototype.ishln=function(y){return f(this.negative===0),this.iushln(y)},t.prototype.iushrn=function(y,p,w){var v;f(typeof y=="number"&&y>=0),v=p?(p-p%26)/26:0;var _=y%26,C=Math.min((y-_)/26,this.length),L=67108863^67108863>>>_<<_,O=w;if(v-=C,v=Math.max(0,v),O){for(var U=0;U<C;U++)O.words[U]=this.words[U];O.length=C}if(!(C===0))if(this.length>C)for(this.length-=C,U=0;U<this.length;U++)this.words[U]=this.words[U+C];else this.words[0]=0,this.length=1;var q=0;for(U=this.length-1;U>=0&&(q!==0||U>=v);U--){var H=0|this.words[U];this.words[U]=q<<26-_|H>>>_,q=H&L}return O&&q!==0&&(O.words[O.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(y,p,w){return f(this.negative===0),this.iushrn(y,p,w)},t.prototype.shln=function(y){return this.clone().ishln(y)},t.prototype.ushln=function(y){return this.clone().iushln(y)},t.prototype.shrn=function(y){return this.clone().ishrn(y)},t.prototype.ushrn=function(y){return this.clone().iushrn(y)},t.prototype.testn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26,v=1<<p;return!(this.length<=w)&&!!(this.words[w]&v)},t.prototype.imaskn=function(y){f(typeof y=="number"&&y>=0);var p=y%26,w=(y-p)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var v=67108863^67108863>>>p<<p;this.words[this.length-1]&=v}return this.strip()},t.prototype.maskn=function(y){return this.clone().imaskn(y)},t.prototype.iaddn=function(y){return f(typeof y=="number"),f(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(0|this.words[0])<y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},t.prototype._iaddn=function(y){this.words[0]+=y;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},t.prototype.isubn=function(y){if(f(typeof y=="number"),f(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},t.prototype.addn=function(y){return this.clone().iaddn(y)},t.prototype.subn=function(y){return this.clone().isubn(y)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(y,p,w){var v,_,C=y.length+w;this._expand(C);var L=0;for(v=0;v<y.length;v++){_=(0|this.words[v+w])+L;var O=(0|y.words[v])*p;L=((_-=67108863&O)>>26)-(O/67108864|0),this.words[v+w]=67108863&_}for(;v<this.length-w;v++)L=(_=(0|this.words[v+w])+L)>>26,this.words[v+w]=67108863&_;if(L===0)return this.strip();for(f(L===-1),L=0,v=0;v<this.length;v++)L=(_=-(0|this.words[v])+L)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},t.prototype._wordDiv=function(y,p){var w=(this.length,y.length),v=this.clone(),_=y,C=0|_.words[_.length-1];(w=26-this._countBits(C))!==0&&(_=_.ushln(w),v.iushln(w),C=0|_.words[_.length-1]);var L,O=v.length-_.length;if(p!=="mod"){(L=new t(null)).length=O+1,L.words=new Array(L.length);for(var U=0;U<L.length;U++)L.words[U]=0}var q=v.clone()._ishlnsubmul(_,1,O);q.negative===0&&(v=q,L&&(L.words[O]=1));for(var H=O-1;H>=0;H--){var G=67108864*(0|v.words[_.length+H])+(0|v.words[_.length+H-1]);for(G=Math.min(G/C|0,67108863),v._ishlnsubmul(_,G,H);v.negative!==0;)G--,v.negative=0,v._ishlnsubmul(_,1,H),v.isZero()||(v.negative^=1);L&&(L.words[H]=G)}return L&&L.strip(),v.strip(),p!=="div"&&w!==0&&v.iushrn(w),{div:L||null,mod:v}},t.prototype.divmod=function(y,p,w){return f(!y.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&y.negative===0?(C=this.neg().divmod(y,p),p!=="mod"&&(v=C.div.neg()),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.iadd(y)),{div:v,mod:_}):this.negative===0&&y.negative!==0?(C=this.divmod(y.neg(),p),p!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):(this.negative&y.negative)!=0?(C=this.neg().divmod(y.neg(),p),p!=="div"&&(_=C.mod.neg(),w&&_.negative!==0&&_.isub(y)),{div:C.div,mod:_}):y.length>this.length||this.cmp(y)<0?{div:new t(0),mod:this}:y.length===1?p==="div"?{div:this.divn(y.words[0]),mod:null}:p==="mod"?{div:null,mod:new t(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new t(this.modn(y.words[0]))}:this._wordDiv(y,p);var v,_,C},t.prototype.div=function(y){return this.divmod(y,"div",!1).div},t.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},t.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},t.prototype.divRound=function(y){var p=this.divmod(y);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(y):p.mod,v=y.ushrn(1),_=y.andln(1),C=w.cmp(v);return C<0||_===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},t.prototype.modn=function(y){f(y<=67108863);for(var p=(1<<26)%y,w=0,v=this.length-1;v>=0;v--)w=(p*w+(0|this.words[v]))%y;return w},t.prototype.idivn=function(y){f(y<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var v=(0|this.words[w])+67108864*p;this.words[w]=v/y|0,p=v%y}return this.strip()},t.prototype.divn=function(y){return this.clone().idivn(y)},t.prototype.egcd=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v=new t(1),_=new t(0),C=new t(0),L=new t(1),O=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++O;for(var U=w.clone(),q=p.clone();!p.isZero();){for(var H=0,G=1;(p.words[0]&G)==0&&H<26;++H,G<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(U),_.isub(q)),v.iushrn(1),_.iushrn(1);for(var K=0,Q=1;(w.words[0]&Q)==0&&K<26;++K,Q<<=1);if(K>0)for(w.iushrn(K);K-- >0;)(C.isOdd()||L.isOdd())&&(C.iadd(U),L.isub(q)),C.iushrn(1),L.iushrn(1);p.cmp(w)>=0?(p.isub(w),v.isub(C),_.isub(L)):(w.isub(p),C.isub(v),L.isub(_))}return{a:C,b:L,gcd:w.iushln(O)}},t.prototype._invmp=function(y){f(y.negative===0),f(!y.isZero());var p=this,w=y.clone();p=p.negative!==0?p.umod(y):p.clone();for(var v,_=new t(1),C=new t(0),L=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var O=0,U=1;(p.words[0]&U)==0&&O<26;++O,U<<=1);if(O>0)for(p.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(L),_.iushrn(1);for(var q=0,H=1;(w.words[0]&H)==0&&q<26;++q,H<<=1);if(q>0)for(w.iushrn(q);q-- >0;)C.isOdd()&&C.iadd(L),C.iushrn(1);p.cmp(w)>=0?(p.isub(w),_.isub(C)):(w.isub(p),C.isub(_))}return(v=p.cmpn(1)===0?_:C).cmpn(0)<0&&v.iadd(y),v},t.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var p=this.clone(),w=y.clone();p.negative=0,w.negative=0;for(var v=0;p.isEven()&&w.isEven();v++)p.iushrn(1),w.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var _=p.cmp(w);if(_<0){var C=p;p=w,w=C}else if(_===0||w.cmpn(1)===0)break;p.isub(w)}return w.iushln(v)},t.prototype.invm=function(y){return this.egcd(y).a.umod(y)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(y){return this.words[0]&y},t.prototype.bincn=function(y){f(typeof y=="number");var p=y%26,w=(y-p)/26,v=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=v,this;for(var _=v,C=w;_!==0&&C<this.length;C++){var L=0|this.words[C];_=(L+=_)>>>26,L&=67108863,this.words[C]=L}return _!==0&&(this.words[C]=_,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(y){var p,w=y<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this.strip(),this.length>1)p=1;else{w&&(y=-y),f(y<=67108863,"Number is too big");var v=0|this.words[0];p=v===y?0:v<y?-1:1}return this.negative!==0?0|-p:p},t.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var p=this.ucmp(y);return this.negative!==0?0|-p:p},t.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var v=0|this.words[w],_=0|y.words[w];if(v!==_){v<_?p=-1:v>_&&(p=1);break}}return p},t.prototype.gtn=function(y){return this.cmpn(y)===1},t.prototype.gt=function(y){return this.cmp(y)===1},t.prototype.gten=function(y){return this.cmpn(y)>=0},t.prototype.gte=function(y){return this.cmp(y)>=0},t.prototype.ltn=function(y){return this.cmpn(y)===-1},t.prototype.lt=function(y){return this.cmp(y)===-1},t.prototype.lten=function(y){return this.cmpn(y)<=0},t.prototype.lte=function(y){return this.cmp(y)<=0},t.prototype.eqn=function(y){return this.cmpn(y)===0},t.prototype.eq=function(y){return this.cmp(y)===0},t.red=function(y){return new S(y)},t.prototype.toRed=function(y){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},t.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(y){return this.red=y,this},t.prototype.forceRed=function(y){return f(!this.red,"Already a number in reduction context"),this._forceRed(y)},t.prototype.redAdd=function(y){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},t.prototype.redIAdd=function(y){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},t.prototype.redSub=function(y){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},t.prototype.redISub=function(y){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},t.prototype.redShl=function(y){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},t.prototype.redMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},t.prototype.redIMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},t.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(y){return f(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var B={k256:null,p224:null,p192:null,p25519:null};function k(y,p){this.name=y,this.p=new t(p,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function T(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(y){if(typeof y=="string"){var p=t._prime(y);this.m=p.p,this.prime=p}else f(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function M(y){S.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var y=new t(null);return y.words=new Array(Math.ceil(this.n/13)),y},k.prototype.ireduce=function(y){var p,w=y;do this.split(w,this.tmp),p=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(p>this.n);var v=p<this.n?-1:w.ucmp(this.p);return v===0?(w.words[0]=0,w.length=1):v>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},k.prototype.split=function(y,p){y.iushrn(this.n,0,p)},k.prototype.imulK=function(y){return y.imul(this.k)},c(T,k),T.prototype.split=function(y,p){for(var w=Math.min(y.length,9),v=0;v<w;v++)p.words[v]=y.words[v];if(p.length=w,y.length<=9)return y.words[0]=0,void(y.length=1);var _=y.words[9];for(p.words[p.length++]=4194303&_,v=10;v<y.length;v++){var C=0|y.words[v];y.words[v-10]=(4194303&C)<<4|_>>>22,_=C}_>>>=22,y.words[v-10]=_,_===0&&y.length>10?y.length-=10:y.length-=9},T.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var p=0,w=0;w<y.length;w++){var v=0|y.words[w];p+=977*v,y.words[w]=67108863&p,p=64*v+(p/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y},c(g,k),c(E,k),c(R,k),R.prototype.imulK=function(y){for(var p=0,w=0;w<y.length;w++){var v=19*(0|y.words[w])+p,_=67108863&v;v>>>=26,y.words[w]=_,p=v}return p!==0&&(y.words[y.length++]=p),y},t._prime=function(y){if(B[y])return B[y];var p;if(y==="k256")p=new T;else if(y==="p224")p=new g;else if(y==="p192")p=new E;else{if(y!=="p25519")throw new Error("Unknown prime "+y);p=new R}return B[y]=p,p},S.prototype._verify1=function(y){f(y.negative===0,"red works only with positives"),f(y.red,"red works only with red numbers")},S.prototype._verify2=function(y,p){f((y.negative|p.negative)==0,"red works only with positives"),f(y.red&&y.red===p.red,"red works only with red numbers")},S.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},S.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},S.prototype.add=function(y,p){this._verify2(y,p);var w=y.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},S.prototype.iadd=function(y,p){this._verify2(y,p);var w=y.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},S.prototype.sub=function(y,p){this._verify2(y,p);var w=y.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},S.prototype.isub=function(y,p){this._verify2(y,p);var w=y.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},S.prototype.shl=function(y,p){return this._verify1(y),this.imod(y.ushln(p))},S.prototype.imul=function(y,p){return this._verify2(y,p),this.imod(y.imul(p))},S.prototype.mul=function(y,p){return this._verify2(y,p),this.imod(y.mul(p))},S.prototype.isqr=function(y){return this.imul(y,y.clone())},S.prototype.sqr=function(y){return this.mul(y,y)},S.prototype.sqrt=function(y){if(y.isZero())return y.clone();var p=this.m.andln(3);if(f(p%2==1),p===3){var w=this.m.add(new t(1)).iushrn(2);return this.pow(y,w)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);f(!v.isZero());var C=new t(1).toRed(this),L=C.redNeg(),O=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new t(2*U*U).toRed(this);this.pow(U,O).cmp(L)!==0;)U.redIAdd(L);for(var q=this.pow(U,v),H=this.pow(y,v.addn(1).iushrn(1)),G=this.pow(y,v),K=_;G.cmp(C)!==0;){for(var Q=G,z=0;Q.cmp(C)!==0;z++)Q=Q.redSqr();f(z<K);var D=this.pow(q,new t(1).iushln(K-z-1));H=H.redMul(D),q=D.redSqr(),G=G.redMul(q),K=z}return H},S.prototype.invm=function(y){var p=y._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},S.prototype.pow=function(y,p){if(p.isZero())return new t(1).toRed(this);if(p.cmpn(1)===0)return y.clone();var w=new Array(16);w[0]=new t(1).toRed(this),w[1]=y;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],y);var _=w[0],C=0,L=0,O=p.bitLength()%26;for(O===0&&(O=26),v=p.length-1;v>=0;v--){for(var U=p.words[v],q=O-1;q>=0;q--){var H=U>>q&1;_!==w[0]&&(_=this.sqr(_)),H!==0||C!==0?(C<<=1,C|=H,(++L===4||v===0&&q===0)&&(_=this.mul(_,w[C]),L=0,C=0)):L=0}O=26}return _},S.prototype.convertTo=function(y){var p=y.umod(this.m);return p===y?p.clone():p},S.prototype.convertFrom=function(y){var p=y.clone();return p.red=null,p},t.mont=function(y){return new M(y)},c(M,S),M.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},M.prototype.convertFrom=function(y){var p=this.imod(y.mul(this.rinv));return p.red=null,p},M.prototype.imul=function(y,p){if(y.isZero()||p.isZero())return y.words[0]=0,y.length=1,y;var w=y.imul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.mul=function(y,p){if(y.isZero()||p.isZero())return new t(0)._forceRed(this);var w=y.mul(p),v=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=w.isub(v).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},M.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(s)}).call(this,b(124)(N))},function(N,x,b){var s=b(0);b(4),b(45);var r=N.exports=s.asn1=s.asn1||{};function i(c,t,a){if(a>t){var o=new Error("Too few bytes to parse DER.");throw o.available=c.length(),o.remaining=t,o.requested=a,o}}r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(c,t,a,o,e){if(s.util.isArray(o)){for(var n=[],h=0;h<o.length;++h)o[h]!==void 0&&n.push(o[h]);o=n}var u={tagClass:c,type:t,constructed:a,composed:a||s.util.isArray(o),value:o};return e&&"bitStringContents"in e&&(u.bitStringContents=e.bitStringContents,u.original=r.copy(u)),u},r.copy=function(c,t){var a;if(s.util.isArray(c)){a=[];for(var o=0;o<c.length;++o)a.push(r.copy(c[o],t));return a}return typeof c=="string"?c:(a={tagClass:c.tagClass,type:c.type,constructed:c.constructed,composed:c.composed,value:r.copy(c.value,t)},t&&!t.excludeBitStringContents&&(a.bitStringContents=c.bitStringContents),a)},r.equals=function(c,t,a){if(s.util.isArray(c)){if(!s.util.isArray(t))return!1;if(c.length!==t.length)return!1;for(var o=0;o<c.length;++o)if(!r.equals(c[o],t[o]))return!1;return!0}if(typeof c!=typeof t)return!1;if(typeof c=="string")return c===t;var e=c.tagClass===t.tagClass&&c.type===t.type&&c.constructed===t.constructed&&c.composed===t.composed&&r.equals(c.value,t.value);return a&&a.includeBitStringContents&&(e=e&&c.bitStringContents===t.bitStringContents),e},r.getBerValueLength=function(c){var t=c.getByte();if(t!==128)return 128&t?c.getInt((127&t)<<3):t},r.fromDer=function(c,t){return t===void 0&&(t={strict:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof c=="string"&&(c=s.util.createBuffer(c)),function a(o,e,n,h){var u;i(o,e,2);var d=o.getByte();e--;var l=192&d,m=31&d;u=o.length();var A,B,k=function(_,C){var L=_.getByte();if(C--,L!==128){var O;if(128&L){var U=127&L;i(_,C,U),O=_.getInt(U<<3)}else O=L;if(O<0)throw new Error("Negative length: "+O);return O}}(o,e);if(e-=u-o.length(),k!==void 0&&k>e){if(h.strict){var T=new Error("Too few bytes to read ASN.1 value.");throw T.available=o.length(),T.remaining=e,T.requested=k,T}k=e}var g=(32&d)==32;if(g)if(A=[],k===void 0)for(;;){if(i(o,e,2),o.bytes(2)===String.fromCharCode(0,0)){o.getBytes(2),e-=2;break}u=o.length(),A.push(a(o,e,n+1,h)),e-=u-o.length()}else for(;k>0;)u=o.length(),A.push(a(o,k,n+1,h)),e-=u-o.length(),k-=u-o.length();if(A===void 0&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&(B=o.bytes(k)),A===void 0&&h.decodeBitStrings&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&k>1){var E=o.read,R=e,S=0;if(m===r.Type.BITSTRING&&(i(o,e,1),S=o.getByte(),e--),S===0)try{u=o.length();var M={verbose:h.verbose,strict:!0,decodeBitStrings:!0},y=a(o,e,n+1,M),p=u-o.length();e-=p,m==r.Type.BITSTRING&&p++;var w=y.tagClass;p!==k||w!==r.Class.UNIVERSAL&&w!==r.Class.CONTEXT_SPECIFIC||(A=[y])}catch(_){}A===void 0&&(o.read=E,e=R)}if(A===void 0){if(k===void 0){if(h.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=e}if(m===r.Type.BMPSTRING)for(A="";k>0;k-=2)i(o,e,2),A+=String.fromCharCode(o.getInt16()),e-=2;else A=o.getBytes(k)}var v=B===void 0?null:{bitStringContents:B};return r.create(l,m,g,A,v)}(c,c.length(),0,t)},r.toDer=function(c){var t=s.util.createBuffer(),a=c.tagClass|c.type,o=s.util.createBuffer(),e=!1;if("bitStringContents"in c&&(e=!0,c.original&&(e=r.equals(c,c.original))),e)o.putBytes(c.bitStringContents);else if(c.composed){c.constructed?a|=32:o.putByte(0);for(var n=0;n<c.value.length;++n)c.value[n]!==void 0&&o.putBuffer(r.toDer(c.value[n]))}else if(c.type===r.Type.BMPSTRING)for(n=0;n<c.value.length;++n)o.putInt16(c.value.charCodeAt(n));else c.type===r.Type.INTEGER&&c.value.length>1&&(c.value.charCodeAt(0)===0&&(128&c.value.charCodeAt(1))==0||c.value.charCodeAt(0)===255&&(128&c.value.charCodeAt(1))==128)?o.putBytes(c.value.substr(1)):o.putBytes(c.value);if(t.putByte(a),o.length()<=127)t.putByte(127&o.length());else{var h=o.length(),u="";do u+=String.fromCharCode(255&h),h>>>=8;while(h>0);for(t.putByte(128|u.length),n=u.length-1;n>=0;--n)t.putByte(u.charCodeAt(n))}return t.putBuffer(o),t},r.oidToDer=function(c){var t,a,o,e,n=c.split("."),h=s.util.createBuffer();h.putByte(40*parseInt(n[0],10)+parseInt(n[1],10));for(var u=2;u<n.length;++u){t=!0,a=[],o=parseInt(n[u],10);do e=127&o,o>>>=7,t||(e|=128),a.push(e),t=!1;while(o>0);for(var d=a.length-1;d>=0;--d)h.putByte(a[d])}return h},r.derToOid=function(c){var t;typeof c=="string"&&(c=s.util.createBuffer(c));var a=c.getByte();t=Math.floor(a/40)+"."+a%40;for(var o=0;c.length()>0;)o<<=7,128&(a=c.getByte())?o+=127&a:(t+="."+(o+a),o=0);return t},r.utcTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,2),10);a=a>=50?1900+a:2e3+a;var o=parseInt(c.substr(2,2),10)-1,e=parseInt(c.substr(4,2),10),n=parseInt(c.substr(6,2),10),h=parseInt(c.substr(8,2),10),u=0;if(c.length>11){var d=c.charAt(10),l=10;d!=="+"&&d!=="-"&&(u=parseInt(c.substr(10,2),10),l+=2)}if(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,0),l&&((d=c.charAt(l))==="+"||d==="-")){var m=60*parseInt(c.substr(l+1,2),10)+parseInt(c.substr(l+4,2),10);m*=6e4,d==="+"?t.setTime(+t-m):t.setTime(+t+m)}return t},r.generalizedTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,4),10),o=parseInt(c.substr(4,2),10)-1,e=parseInt(c.substr(6,2),10),n=parseInt(c.substr(8,2),10),h=parseInt(c.substr(10,2),10),u=parseInt(c.substr(12,2),10),d=0,l=0,m=!1;c.charAt(c.length-1)==="Z"&&(m=!0);var A=c.length-5,B=c.charAt(A);return B!=="+"&&B!=="-"||(l=60*parseInt(c.substr(A+1,2),10)+parseInt(c.substr(A+4,2),10),l*=6e4,B==="+"&&(l*=-1),m=!0),c.charAt(14)==="."&&(d=1e3*parseFloat(c.substr(14),10)),m?(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,d),t.setTime(+t+l)):(t.setFullYear(a,o,e),t.setHours(n,h,u,d)),t},r.dateToUtcTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push((""+c.getUTCFullYear()).substr(2)),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.dateToGeneralizedTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push(""+c.getUTCFullYear()),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.integerToDer=function(c){var t=s.util.createBuffer();if(c>=-128&&c<128)return t.putSignedInt(c,8);if(c>=-32768&&c<32768)return t.putSignedInt(c,16);if(c>=-8388608&&c<8388608)return t.putSignedInt(c,24);if(c>=-2147483648&&c<2147483648)return t.putSignedInt(c,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=c,a},r.derToInteger=function(c){typeof c=="string"&&(c=s.util.createBuffer(c));var t=8*c.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return c.getSignedInt(t)},r.validate=function(c,t,a,o){var e=!1;if(c.tagClass!==t.tagClass&&t.tagClass!==void 0||c.type!==t.type&&t.type!==void 0)o&&(c.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+c.tagClass+'"'),c.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+c.type+'"'));else if(c.constructed===t.constructed||t.constructed===void 0){if(e=!0,t.value&&s.util.isArray(t.value))for(var n=0,h=0;e&&h<t.value.length;++h)e=t.value[h].optional||!1,c.value[n]&&((e=r.validate(c.value[n],t.value[h],a,o))?++n:t.value[h].optional&&(e=!0)),!e&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+c.value.length+'"');if(e&&a&&(t.capture&&(a[t.capture]=c.value),t.captureAsn1&&(a[t.captureAsn1]=c),t.captureBitStringContents&&"bitStringContents"in c&&(a[t.captureBitStringContents]=c.bitStringContents),t.captureBitStringValue&&"bitStringContents"in c))if(c.bitStringContents.length<2)a[t.captureBitStringValue]="";else{if(c.bitStringContents.charCodeAt(0)!==0)throw new Error("captureBitStringValue only supported for zero unused bits");a[t.captureBitStringValue]=c.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+c.constructed+'"');return e};var f=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(c,t,a){var o="";a=a||2,(t=t||0)>0&&(o+=`
`);for(var e="",n=0;n<t*a;++n)e+=" ";switch(o+=e+"Tag: ",c.tagClass){case r.Class.UNIVERSAL:o+="Universal:";break;case r.Class.APPLICATION:o+="Application:";break;case r.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case r.Class.PRIVATE:o+="Private:"}if(c.tagClass===r.Class.UNIVERSAL)switch(o+=c.type,c.type){case r.Type.NONE:o+=" (None)";break;case r.Type.BOOLEAN:o+=" (Boolean)";break;case r.Type.INTEGER:o+=" (Integer)";break;case r.Type.BITSTRING:o+=" (Bit string)";break;case r.Type.OCTETSTRING:o+=" (Octet string)";break;case r.Type.NULL:o+=" (Null)";break;case r.Type.OID:o+=" (Object Identifier)";break;case r.Type.ODESC:o+=" (Object Descriptor)";break;case r.Type.EXTERNAL:o+=" (External or Instance of)";break;case r.Type.REAL:o+=" (Real)";break;case r.Type.ENUMERATED:o+=" (Enumerated)";break;case r.Type.EMBEDDED:o+=" (Embedded PDV)";break;case r.Type.UTF8:o+=" (UTF8)";break;case r.Type.ROID:o+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:o+=" (Sequence)";break;case r.Type.SET:o+=" (Set)";break;case r.Type.PRINTABLESTRING:o+=" (Printable String)";break;case r.Type.IA5String:o+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:o+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case r.Type.BMPSTRING:o+=" (BMP String)"}else o+=c.type;if(o+=`
`,o+=e+"Constructed: "+c.constructed+`
`,c.composed){var h=0,u="";for(n=0;n<c.value.length;++n)c.value[n]!==void 0&&(h+=1,u+=r.prettyPrint(c.value[n],t+1,a),n+1<c.value.length&&(u+=","));o+=e+"Sub values: "+h+u}else{if(o+=e+"Value: ",c.type===r.Type.OID){var d=r.derToOid(c.value);o+=d,s.pki&&s.pki.oids&&d in s.pki.oids&&(o+=" ("+s.pki.oids[d]+") ")}if(c.type===r.Type.INTEGER)try{o+=r.derToInteger(c.value)}catch(m){o+="0x"+s.util.bytesToHex(c.value)}else if(c.type===r.Type.BITSTRING){if(c.value.length>1?o+="0x"+s.util.bytesToHex(c.value.slice(1)):o+="(none)",c.value.length>0){var l=c.value.charCodeAt(0);l==1?o+=" (1 unused bit shown)":l>1&&(o+=" ("+l+" unused bits shown)")}}else c.type===r.Type.OCTETSTRING?(f.test(c.value)||(o+="("+c.value+") "),o+="0x"+s.util.bytesToHex(c.value)):c.type===r.Type.UTF8?o+=s.util.decodeUtf8(c.value):c.type===r.Type.PRINTABLESTRING||c.type===r.Type.IA5String?o+=c.value:f.test(c.value)?o+="0x"+s.util.bytesToHex(c.value):c.value.length===0?o+="[null]":o+=c.value}return o}},function(N,x,b){var s,r=typeof Reflect=="object"?Reflect:null,i=r&&typeof r.apply=="function"?r.apply:function(m,A,B){return Function.prototype.apply.call(m,A,B)};s=r&&typeof r.ownKeys=="function"?r.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var f=Number.isNaN||function(m){return m!=m};function c(){c.init.call(this)}N.exports=c,N.exports.once=function(m,A){return new Promise(function(B,k){function T(){g!==void 0&&m.removeListener("error",g),B([].slice.call(arguments))}var g;A!=="error"&&(g=function(E){m.removeListener(A,T),k(E)},m.once("error",g)),m.once(A,T)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var t=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function o(m){return m._maxListeners===void 0?c.defaultMaxListeners:m._maxListeners}function e(m,A,B,k){var T,g,E,R;if(a(B),(g=m._events)===void 0?(g=m._events=Object.create(null),m._eventsCount=0):(g.newListener!==void 0&&(m.emit("newListener",A,B.listener?B.listener:B),g=m._events),E=g[A]),E===void 0)E=g[A]=B,++m._eventsCount;else if(typeof E=="function"?E=g[A]=k?[B,E]:[E,B]:k?E.unshift(B):E.push(B),(T=o(m))>0&&E.length>T&&!E.warned){E.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=m,S.type=A,S.count=E.length,R=S,console&&console.warn&&console.warn(R)}return m}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(m,A,B){var k={fired:!1,wrapFn:void 0,target:m,type:A,listener:B},T=n.bind(k);return T.listener=B,k.wrapFn=T,T}function u(m,A,B){var k=m._events;if(k===void 0)return[];var T=k[A];return T===void 0?[]:typeof T=="function"?B?[T.listener||T]:[T]:B?function(g){for(var E=new Array(g.length),R=0;R<E.length;++R)E[R]=g[R].listener||g[R];return E}(T):l(T,T.length)}function d(m){var A=this._events;if(A!==void 0){var B=A[m];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}function l(m,A){for(var B=new Array(A),k=0;k<A;++k)B[k]=m[k];return B}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(m){if(typeof m!="number"||m<0||f(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");t=m}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||f(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},c.prototype.getMaxListeners=function(){return o(this)},c.prototype.emit=function(m){for(var A=[],B=1;B<arguments.length;B++)A.push(arguments[B]);var k=m==="error",T=this._events;if(T!==void 0)k=k&&T.error===void 0;else if(!k)return!1;if(k){var g;if(A.length>0&&(g=A[0]),g instanceof Error)throw g;var E=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw E.context=g,E}var R=T[m];if(R===void 0)return!1;if(typeof R=="function")i(R,this,A);else{var S=R.length,M=l(R,S);for(B=0;B<S;++B)i(M[B],this,A)}return!0},c.prototype.addListener=function(m,A){return e(this,m,A,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(m,A){return e(this,m,A,!0)},c.prototype.once=function(m,A){return a(A),this.on(m,h(this,m,A)),this},c.prototype.prependOnceListener=function(m,A){return a(A),this.prependListener(m,h(this,m,A)),this},c.prototype.removeListener=function(m,A){var B,k,T,g,E;if(a(A),(k=this._events)===void 0)return this;if((B=k[m])===void 0)return this;if(B===A||B.listener===A)--this._eventsCount==0?this._events=Object.create(null):(delete k[m],k.removeListener&&this.emit("removeListener",m,B.listener||A));else if(typeof B!="function"){for(T=-1,g=B.length-1;g>=0;g--)if(B[g]===A||B[g].listener===A){E=B[g].listener,T=g;break}if(T<0)return this;T===0?B.shift():function(R,S){for(;S+1<R.length;S++)R[S]=R[S+1];R.pop()}(B,T),B.length===1&&(k[m]=B[0]),k.removeListener!==void 0&&this.emit("removeListener",m,E||A)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(m){var A,B,k;if((B=this._events)===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete B[m]),this;if(arguments.length===0){var T,g=Object.keys(B);for(k=0;k<g.length;++k)(T=g[k])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(A=B[m])=="function")this.removeListener(m,A);else if(A!==void 0)for(k=A.length-1;k>=0;k--)this.removeListener(m,A[k]);return this},c.prototype.listeners=function(m){return u(this,m,!0)},c.prototype.rawListeners=function(m){return u(this,m,!1)},c.listenerCount=function(m,A){return typeof m.listenerCount=="function"?m.listenerCount(A):d.call(m,A)},c.prototype.listenerCount=d,c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},function(N,x,b){var s=b(0);N.exports=s.md=s.md||{},s.md.algorithms=s.md.algorithms||{}},function(N,x,b){var s=b(0);b(46),b(233),b(234),b(4),s.random&&s.random.getBytes?N.exports=s.random:function(r){var i={},f=new Array(4),c=s.util.createBuffer();function t(){var d=s.prng.create(i);return d.getBytes=function(l,m){return d.generate(l,m)},d.getBytesSync=function(l){return d.generate(l)},d}i.formatKey=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),s.aes._expandKey(d,!1)},i.formatSeed=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),d},i.cipher=function(d,l){return s.aes._updateBlock(d,l,f,!1),c.putInt32(f[0]),c.putInt32(f[1]),c.putInt32(f[2]),c.putInt32(f[3]),c.getBytes()},i.increment=function(d){return++d[3],d},i.md=s.md.sha256;var a=t(),o=null,e=s.util.globalScope,n=e.crypto||e.msCrypto;if(n&&n.getRandomValues&&(o=function(d){return n.getRandomValues(d)}),s.options.usePureJavaScript||!s.util.isNodejs&&!o){if(a.collectInt(+new Date,32),typeof navigator!="undefined"){var h="";for(var u in navigator)try{typeof navigator[u]=="string"&&(h+=navigator[u])}catch(d){}a.collect(h),h=null}r&&(r().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),r().keypress(function(d){a.collectInt(d.charCode,8)}))}if(s.random)for(var u in a)s.random[u]=a[u];else s.random=a;s.random.createInstance=t,N.exports=s.random}(typeof jQuery!="undefined"?jQuery:null)},function(N,x,b){function s(r,i){if(!r)throw new Error(i||"Assertion failed")}N.exports=s,s.equal=function(r,i,f){if(r!=i)throw new Error(f||"Assertion failed: "+r+" != "+i)}},function(N,x,b){const s=(...t)=>{let a;for(;t.length;)a=t.shift()(a);return a},r=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),i=t=>t&&typeof t.sink=="function"&&r(t.source),f=t=>a=>(t.sink(a),t.source),c=(...t)=>{if(i(t[0])){const a=t[0];t[0]=()=>a.source}else if(r(t[0])){const a=t[0];t[0]=()=>a}if(t.length>1&&i(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let a=1;a<t.length-1;a++)i(t[a])&&(t[a]=f(t[a]));return s(...t)};N.exports=c,N.exports.pipe=c,N.exports.rawPipe=s,N.exports.isIterable=r,N.exports.isDuplex=i},function(N,x,b){N.exports=function(s,r){if(s===r)return!0;if(s.byteLength!==r.byteLength)return!1;for(let i=0;i<s.byteLength;i++)if(s[i]!==r[i])return!1;return!0}},function(N,x,b){function s(r,i){if(!r)throw new Error(i||"Assertion failed")}N.exports=s,s.equal=function(r,i,f){if(r!=i)throw new Error(f||"Assertion failed: "+r+" != "+i)}},function(N,x,b){var s,r,i=N.exports={};function f(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function t(m){if(s===setTimeout)return setTimeout(m,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch(A){try{return s.call(null,m,0)}catch(B){return s.call(this,m,0)}}}!function(){try{s=typeof setTimeout=="function"?setTimeout:f}catch(m){s=f}try{r=typeof clearTimeout=="function"?clearTimeout:c}catch(m){r=c}}();var a,o=[],e=!1,n=-1;function h(){e&&a&&(e=!1,a.length?o=a.concat(o):n=-1,o.length&&u())}function u(){if(!e){var m=t(h);e=!0;for(var A=o.length;A;){for(a=o,o=[];++n<A;)a&&a[n].run();n=-1,A=o.length}a=null,e=!1,function(B){if(r===clearTimeout)return clearTimeout(B);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(B);try{r(B)}catch(k){try{return r.call(null,B)}catch(T){return r.call(this,B)}}}(m)}}function d(m,A){this.fun=m,this.array=A}function l(){}i.nextTick=function(m){var A=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)A[B-1]=arguments[B];o.push(new d(m,A)),o.length!==1||e||t(u)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=l,i.addListener=l,i.once=l,i.off=l,i.removeListener=l,i.removeAllListeners=l,i.emit=l,i.prependListener=l,i.prependOnceListener=l,i.listeners=function(m){return[]},i.binding=function(m){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(m){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(N,x,b){const s=b(74),{encodeText:r,decodeText:i,concat:f}=b(75);function c(t){if(s.names[t])return s.names[t];if(s.codes[t])return s.codes[t];throw new Error("Unsupported encoding: "+t)}(x=N.exports=function(t,a){if(!a)throw new Error("requires an encoded Uint8Array");const{name:o,codeBuf:e}=c(t);return function(n,h){c(n).decode(i(h))}(o,a),f([e,a],e.length+a.length)}).encode=function(t,a){const o=c(t),e=r(o.encode(a));return f([o.codeBuf,e],o.codeBuf.length+e.length)},x.decode=function(t){t instanceof Uint8Array&&(t=i(t));const a=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(a)&&(t=t.toLowerCase()),c(t[0]).decode(t.substring(1))},x.isEncoded=function(t){if(t instanceof Uint8Array&&(t=i(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return c(t[0]).name}catch(a){return!1}},x.encoding=c,x.encodingFromData=function(t){return t instanceof Uint8Array&&(t=i(t)),c(t[0])},x.names=Object.freeze(s.names),x.codes=Object.freeze(s.codes)},function(N,x,b){const{Buffer:s}=b(8),r=Symbol.for("BufferList");function i(f){if(!(this instanceof i))return new i(f);i._init.call(this,f)}i._init=function(f){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,f&&this.append(f)},i.prototype._new=function(f){return new i(f)},i.prototype._offset=function(f){if(f===0)return[0,0];let c=0;for(let t=0;t<this._bufs.length;t++){const a=c+this._bufs[t].length;if(f<a||t===this._bufs.length-1)return[t,f-c];c=a}},i.prototype._reverseOffset=function(f){const c=f[0];let t=f[1];for(let a=0;a<c;a++)t+=this._bufs[a].length;return t},i.prototype.get=function(f){if(f>this.length||f<0)return;const c=this._offset(f);return this._bufs[c[0]][c[1]]},i.prototype.slice=function(f,c){return typeof f=="number"&&f<0&&(f+=this.length),typeof c=="number"&&c<0&&(c+=this.length),this.copy(null,0,f,c)},i.prototype.copy=function(f,c,t,a){if((typeof t!="number"||t<0)&&(t=0),(typeof a!="number"||a>this.length)&&(a=this.length),t>=this.length)return f||s.alloc(0);if(a<=0)return f||s.alloc(0);const o=!!f,e=this._offset(t),n=a-t;let h=n,u=o&&c||0,d=e[1];if(t===0&&a===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(f,u),u+=this._bufs[l].length;return f}if(h<=this._bufs[e[0]].length-d)return o?this._bufs[e[0]].copy(f,c,d,d+h):this._bufs[e[0]].slice(d,d+h);o||(f=s.allocUnsafe(n));for(let l=e[0];l<this._bufs.length;l++){const m=this._bufs[l].length-d;if(!(h>m)){this._bufs[l].copy(f,u,d,d+h),u+=m;break}this._bufs[l].copy(f,u,d),u+=m,h-=m,d&&(d=0)}return f.length>u?f.slice(0,u):f},i.prototype.shallowSlice=function(f,c){if(f=f||0,c=typeof c!="number"?this.length:c,f<0&&(f+=this.length),c<0&&(c+=this.length),f===c)return this._new();const t=this._offset(f),a=this._offset(c),o=this._bufs.slice(t[0],a[0]+1);return a[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,a[1]),t[1]!==0&&(o[0]=o[0].slice(t[1])),this._new(o)},i.prototype.toString=function(f,c,t){return this.slice(c,t).toString(f)},i.prototype.consume=function(f){if(f=Math.trunc(f),Number.isNaN(f)||f<=0)return this;for(;this._bufs.length;){if(!(f>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(f),this.length-=f;break}f-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){const f=this._new();for(let c=0;c<this._bufs.length;c++)f.append(this._bufs[c]);return f},i.prototype.append=function(f){if(f==null)return this;if(f.buffer)this._appendBuffer(s.from(f.buffer,f.byteOffset,f.byteLength));else if(Array.isArray(f))for(let c=0;c<f.length;c++)this.append(f[c]);else if(this._isBufferList(f))for(let c=0;c<f._bufs.length;c++)this.append(f._bufs[c]);else typeof f=="number"&&(f=f.toString()),this._appendBuffer(s.from(f));return this},i.prototype._appendBuffer=function(f){this._bufs.push(f),this.length+=f.length},i.prototype.indexOf=function(f,c,t){if(t===void 0&&typeof c=="string"&&(t=c,c=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=s.from([f]):typeof f=="string"?f=s.from(f,t):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=s.from(f.buffer,f.byteOffset,f.byteLength):s.isBuffer(f)||(f=s.from(f)),c=Number(c||0),isNaN(c)&&(c=0),c<0&&(c=this.length+c),c<0&&(c=0),f.length===0)return c>this.length?this.length:c;const a=this._offset(c);let o=a[0],e=a[1];for(;o<this._bufs.length;o++){const n=this._bufs[o];for(;e<n.length;)if(n.length-e>=f.length){const h=n.indexOf(f,e);if(h!==-1)return this._reverseOffset([o,h]);e=n.length-f.length+1}else{const h=this._reverseOffset([o,e]);if(this._match(h,f))return h;e++}e=0}return-1},i.prototype._match=function(f,c){if(this.length-f<c.length)return!1;for(let t=0;t<c.length;t++)if(this.get(f+t)!==c[t])return!1;return!0},function(){const f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const c in f)!function(t){i.prototype[t]=f[t]===null?function(a,o){return this.slice(a,a+o)[t](0,o)}:function(a){return this.slice(a,a+f[t])[t](0)}}(c)}(),i.prototype._isBufferList=function(f){return f instanceof i||i.isBufferList(f)},i.isBufferList=function(f){return f!=null&&f[r]},N.exports=i},function(N,x,b){const s=b(100),{encodeText:r,decodeText:i,concat:f}=b(101);function c(t){if(s.names[t])return s.names[t];if(s.codes[t])return s.codes[t];throw new Error("Unsupported encoding: "+t)}(x=N.exports=function(t,a){if(!a)throw new Error("requires an encoded Uint8Array");const{name:o,codeBuf:e}=c(t);return function(n,h){c(n).decode(i(h))}(o,a),f([e,a],e.length+a.length)}).encode=function(t,a){const o=c(t),e=r(o.encode(a));return f([o.codeBuf,e],o.codeBuf.length+e.length)},x.decode=function(t){t instanceof Uint8Array&&(t=i(t));const a=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(a)&&(t=t.toLowerCase()),c(t[0]).decode(t.substring(1))},x.isEncoded=function(t){if(t instanceof Uint8Array&&(t=i(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return c(t[0]).name}catch(a){return!1}},x.encoding=c,x.encodingFromData=function(t){return t instanceof Uint8Array&&(t=i(t)),c(t[0])},x.names=Object.freeze(s.names),x.codes=Object.freeze(s.codes)},function(N,x,b){var s=b(2);N.exports=s.md=s.md||{},s.md.algorithms=s.md.algorithms||{}},function(N,x,b){const s=b(38),r=b(190),{names:i}=b(194),f=b(6),c=b(7),t=b(21),a={};for(const d in i)a[i[d]]=d;function o(d){if(!(d instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(d.length<2)throw new Error("multihash too short. must be > 2 bytes.");const l=r.decode(d);if(!h(l))throw new Error("multihash unknown function code: 0x"+l.toString(16));d=d.slice(r.decode.bytes);const m=r.decode(d);if(m<0)throw new Error("multihash invalid length: "+m);if((d=d.slice(r.decode.bytes)).length!==m)throw new Error("multihash length inconsistent: 0x"+f(d,"base16"));return{code:l,name:a[l],length:m,digest:d}}function e(d){let l=d;if(typeof d=="string"){if(i[d]===void 0)throw new Error("Unrecognized hash function named: "+d);l=i[d]}if(typeof l!="number")throw new Error("Hash function code should be a number. Got: "+l);if(a[l]===void 0&&!n(l))throw new Error("Unrecognized function code: "+l);return l}function n(d){return d>0&&d<16}function h(d){return!!n(d)||!!a[d]}function u(d){o(d)}N.exports={names:i,codes:Object.freeze(a),toHexString:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(d,"base16")},fromHexString:function(d){return c(d,"base16")},toB58String:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(s.encode("base58btc",d)).slice(1)},fromB58String:function(d){const l=d instanceof Uint8Array?f(d):d;return s.decode("z"+l)},decode:o,encode:function(d,l,m){if(!d||l===void 0)throw new Error("multihash encode requires at least two args: digest, code");const A=e(l);if(!(d instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(m==null&&(m=d.length),m&&d.length!==m)throw new Error("digest length should be equal to specified length.");const B=r.encode(A),k=r.encode(m);return t([B,k,d],B.length+k.length+d.length)},coerceCode:e,isAppCode:n,validate:u,prefix:function(d){return u(d),d.subarray(0,2)},isValidCode:h}},function(N,x,b){const s=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});N.exports={baseTable:s}},function(N,x,b){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(r){typeof window=="object"&&(s=window)}N.exports=s},function(N,x,b){var s=b(0);s.pki=s.pki||{};var r=N.exports=s.pki.oids=s.oids=s.oids||{};function i(c,t){r[c]=t,r[t]=c}function f(c,t){r[c]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.5","serialName"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),f("2.5.29.1","authorityKeyIdentifier"),f("2.5.29.2","keyAttributes"),f("2.5.29.3","certificatePolicies"),f("2.5.29.4","keyUsageRestriction"),f("2.5.29.5","policyMapping"),f("2.5.29.6","subtreesConstraint"),f("2.5.29.7","subjectAltName"),f("2.5.29.8","issuerAltName"),f("2.5.29.9","subjectDirectoryAttributes"),f("2.5.29.10","basicConstraints"),f("2.5.29.11","nameConstraints"),f("2.5.29.12","policyConstraints"),f("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),f("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),f("2.5.29.20","cRLNumber"),f("2.5.29.21","cRLReason"),f("2.5.29.22","expirationDate"),f("2.5.29.23","instructionCode"),f("2.5.29.24","invalidityDate"),f("2.5.29.25","cRLDistributionPoints"),f("2.5.29.26","issuingDistributionPoint"),f("2.5.29.27","deltaCRLIndicator"),f("2.5.29.28","issuingDistributionPoint"),f("2.5.29.29","certificateIssuer"),f("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),f("2.5.29.33","policyMappings"),f("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),f("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),f("2.5.29.46","freshestCRL"),f("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},function(N,x,b){var s=b(0);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.aes.Algorithm(d,l)})}b(119),b(120),b(4),N.exports=s.aes=s.aes||{},s.aes.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A});return B.start(l),B},s.aes.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.aes.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A});return B.start(l),B},s.aes.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.aes.Algorithm=function(d,l){o||e();var m=this;m.name=d,m.mode=new l({blockSize:16,cipher:{encrypt:function(A,B){return h(m._w,A,B,!1)},decrypt:function(A,B){return h(m._w,A,B,!0)}}}),m._init=!1},s.aes.Algorithm.prototype.initialize=function(d){if(!this._init){var l,m=d.key;if(typeof m!="string"||m.length!==16&&m.length!==24&&m.length!==32){if(s.util.isArray(m)&&(m.length===16||m.length===24||m.length===32)){l=m,m=s.util.createBuffer();for(var A=0;A<l.length;++A)m.putByte(l[A])}}else m=s.util.createBuffer(m);if(!s.util.isArray(m)){l=m,m=[];var B=l.length();if(B===16||B===24||B===32)for(B>>>=2,A=0;A<B;++A)m.push(l.getInt32())}if(!s.util.isArray(m)||m.length!==4&&m.length!==6&&m.length!==8)throw new Error("Invalid key parameter.");var k=this.mode.name,T=["CFB","OFB","CTR","GCM"].indexOf(k)!==-1;this._w=n(m,d.decrypt&&!T),this._init=!0}},s.aes._expandKey=function(d,l){return o||e(),n(d,l)},s.aes._updateBlock=h,r("AES-ECB",s.cipher.modes.ecb),r("AES-CBC",s.cipher.modes.cbc),r("AES-CFB",s.cipher.modes.cfb),r("AES-OFB",s.cipher.modes.ofb),r("AES-CTR",s.cipher.modes.ctr),r("AES-GCM",s.cipher.modes.gcm);var i,f,c,t,a,o=!1;function e(){o=!0,c=[0,1,2,4,8,16,32,64,128,27,54];for(var d=new Array(256),l=0;l<128;++l)d[l]=l<<1,d[l+128]=l+128<<1^283;for(i=new Array(256),f=new Array(256),t=new Array(4),a=new Array(4),l=0;l<4;++l)t[l]=new Array(256),a[l]=new Array(256);var m,A,B,k,T,g,E,R=0,S=0;for(l=0;l<256;++l){k=(k=S^S<<1^S<<2^S<<3^S<<4)>>8^255&k^99,i[R]=k,f[k]=R,g=(T=d[k])<<24^k<<16^k<<8^k^T,E=((m=d[R])^(A=d[m])^(B=d[A]))<<24^(R^B)<<16^(R^A^B)<<8^R^m^B;for(var M=0;M<4;++M)t[M][R]=g,a[M][k]=E,g=g<<24|g>>>8,E=E<<24|E>>>8;R===0?R=S=1:(R=m^d[d[d[m^B]]],S^=d[d[S]])}}function n(d,l){for(var m,A=d.slice(0),B=1,k=A.length,T=4*(k+6+1),g=k;g<T;++g)m=A[g-1],g%k==0?(m=i[m>>>16&255]<<24^i[m>>>8&255]<<16^i[255&m]<<8^i[m>>>24]^c[B]<<24,B++):k>6&&g%k==4&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),A[g]=A[g-k]^m;if(l){for(var E,R=a[0],S=a[1],M=a[2],y=a[3],p=A.slice(0),w=(g=0,(T=A.length)-4);g<T;g+=4,w-=4)if(g===0||g===T-4)p[g]=A[w],p[g+1]=A[w+3],p[g+2]=A[w+2],p[g+3]=A[w+1];else for(var v=0;v<4;++v)E=A[w+v],p[g+(3&-v)]=R[i[E>>>24]]^S[i[E>>>16&255]]^M[i[E>>>8&255]]^y[i[255&E]];A=p}return A}function h(d,l,m,A){var B,k,T,g,E,R,S,M,y,p,w,v,_=d.length/4-1;A?(B=a[0],k=a[1],T=a[2],g=a[3],E=f):(B=t[0],k=t[1],T=t[2],g=t[3],E=i),R=l[0]^d[0],S=l[A?3:1]^d[1],M=l[2]^d[2],y=l[A?1:3]^d[3];for(var C=3,L=1;L<_;++L)p=B[R>>>24]^k[S>>>16&255]^T[M>>>8&255]^g[255&y]^d[++C],w=B[S>>>24]^k[M>>>16&255]^T[y>>>8&255]^g[255&R]^d[++C],v=B[M>>>24]^k[y>>>16&255]^T[R>>>8&255]^g[255&S]^d[++C],y=B[y>>>24]^k[R>>>16&255]^T[S>>>8&255]^g[255&M]^d[++C],R=p,S=w,M=v;m[0]=E[R>>>24]<<24^E[S>>>16&255]<<16^E[M>>>8&255]<<8^E[255&y]^d[++C],m[A?3:1]=E[S>>>24]<<24^E[M>>>16&255]<<16^E[y>>>8&255]<<8^E[255&R]^d[++C],m[2]=E[M>>>24]<<24^E[y>>>16&255]<<16^E[R>>>8&255]<<8^E[255&S]^d[++C],m[A?1:3]=E[y>>>24]<<24^E[R>>>16&255]<<16^E[S>>>8&255]<<8^E[255&M]^d[++C]}function u(d){var l,m="AES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x,b){const s=b(42),r=self.crypto||self.msCrypto,i=async(f,c)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(c){case"sha1":return new Uint8Array(await r.subtle.digest({name:"SHA-1"},f));case"sha2-256":return new Uint8Array(await r.subtle.digest({name:"SHA-256"},f));case"sha2-512":return new Uint8Array(await r.subtle.digest({name:"SHA-512"},f));case"dbl-sha2-256":{const t=await r.subtle.digest({name:"SHA-256"},f);return new Uint8Array(await r.subtle.digest({name:"SHA-256"},t))}default:throw new Error(c+" is not a supported algorithm")}};N.exports={factory:f=>async c=>i(c,f),digest:i,multihashing:async(f,c,t)=>{const a=await i(f,c);return s.encode(a,c,t)}}},function(N,x,b){var s=b(23),r=b(33);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}x.BlockHash=i,i.prototype.update=function(f,c){if(f=s.toArray(f,c),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){var t=(f=this.pending).length%this._delta8;this.pending=f.slice(f.length-t,f.length),this.pending.length===0&&(this.pending=null),f=s.join32(f,0,f.length-t,this.endian);for(var a=0;a<f.length;a+=this._delta32)this._update(f,a,a+this._delta32)}return this},i.prototype.digest=function(f){return this.update(this._pad()),r(this.pending===null),this._digest(f)},i.prototype._pad=function(){var f=this.pendingTotal,c=this._delta8,t=c-(f+this.padLength)%c,a=new Array(t+this.padLength);a[0]=128;for(var o=1;o<t;o++)a[o]=0;if(f<<=3,this.endian==="big"){for(var e=8;e<this.padLength;e++)a[o++]=0;a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=f>>>24&255,a[o++]=f>>>16&255,a[o++]=f>>>8&255,a[o++]=255&f}else for(a[o++]=255&f,a[o++]=f>>>8&255,a[o++]=f>>>16&255,a[o++]=f>>>24&255,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,e=8;e<this.padLength;e++)a[o++]=0;return a}},function(N,x,b){const s=b(22);N.exports=s(`
message CircuitRelay {

  enum Status {
    SUCCESS                    = 100;
    HOP_SRC_ADDR_TOO_LONG      = 220;
    HOP_DST_ADDR_TOO_LONG      = 221;
    HOP_SRC_MULTIADDR_INVALID  = 250;
    HOP_DST_MULTIADDR_INVALID  = 251;
    HOP_NO_CONN_TO_DST         = 260;
    HOP_CANT_DIAL_DST          = 261;
    HOP_CANT_OPEN_DST_STREAM   = 262;
    HOP_CANT_SPEAK_RELAY       = 270;
    HOP_CANT_RELAY_TO_SELF     = 280;
    STOP_SRC_ADDR_TOO_LONG     = 320;
    STOP_DST_ADDR_TOO_LONG     = 321;
    STOP_SRC_MULTIADDR_INVALID = 350;
    STOP_DST_MULTIADDR_INVALID = 351;
    STOP_RELAY_REFUSED         = 390;
    MALFORMED_MESSAGE          = 400;
  }

  enum Type { // RPC identifier, either HOP, STOP or STATUS
    HOP = 1;
    STOP = 2;
    STATUS = 3;
    CAN_HOP = 4;
  }

  message Peer {
    required bytes id = 1;    // peer id
    repeated bytes addrs = 2; // peer's known addresses
  }

  optional Type type = 1;     // Type of the message

  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS
  optional Peer dstPeer = 3;

  optional Status code = 4;   // Status code, used when Type is STATUS
}
`)},function(N,x,b){x.encode=b(332),x.decode=b(333),x.varintEncode=b(146),x.varintDecode=b(147),x.int32BEEncode=b(334),x.int32BEDecode=b(335)},function(N,x,b){const s=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});N.exports={baseTable:s}},function(N,x,b){var s=b(2);b(5),b(106);var r=N.exports=s.asn1=s.asn1||{};function i(c,t,a){if(a>t){var o=new Error("Too few bytes to parse DER.");throw o.available=c.length(),o.remaining=t,o.requested=a,o}}r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(c,t,a,o,e){if(s.util.isArray(o)){for(var n=[],h=0;h<o.length;++h)o[h]!==void 0&&n.push(o[h]);o=n}var u={tagClass:c,type:t,constructed:a,composed:a||s.util.isArray(o),value:o};return e&&"bitStringContents"in e&&(u.bitStringContents=e.bitStringContents,u.original=r.copy(u)),u},r.copy=function(c,t){var a;if(s.util.isArray(c)){a=[];for(var o=0;o<c.length;++o)a.push(r.copy(c[o],t));return a}return typeof c=="string"?c:(a={tagClass:c.tagClass,type:c.type,constructed:c.constructed,composed:c.composed,value:r.copy(c.value,t)},t&&!t.excludeBitStringContents&&(a.bitStringContents=c.bitStringContents),a)},r.equals=function(c,t,a){if(s.util.isArray(c)){if(!s.util.isArray(t))return!1;if(c.length!==t.length)return!1;for(var o=0;o<c.length;++o)if(!r.equals(c[o],t[o]))return!1;return!0}if(typeof c!=typeof t)return!1;if(typeof c=="string")return c===t;var e=c.tagClass===t.tagClass&&c.type===t.type&&c.constructed===t.constructed&&c.composed===t.composed&&r.equals(c.value,t.value);return a&&a.includeBitStringContents&&(e=e&&c.bitStringContents===t.bitStringContents),e},r.getBerValueLength=function(c){var t=c.getByte();if(t!==128)return 128&t?c.getInt((127&t)<<3):t},r.fromDer=function(c,t){return t===void 0&&(t={strict:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof c=="string"&&(c=s.util.createBuffer(c)),function a(o,e,n,h){var u;i(o,e,2);var d=o.getByte();e--;var l=192&d,m=31&d;u=o.length();var A,B,k=function(_,C){var L=_.getByte();if(C--,L!==128){var O;if(128&L){var U=127&L;i(_,C,U),O=_.getInt(U<<3)}else O=L;if(O<0)throw new Error("Negative length: "+O);return O}}(o,e);if(e-=u-o.length(),k!==void 0&&k>e){if(h.strict){var T=new Error("Too few bytes to read ASN.1 value.");throw T.available=o.length(),T.remaining=e,T.requested=k,T}k=e}var g=(32&d)==32;if(g)if(A=[],k===void 0)for(;;){if(i(o,e,2),o.bytes(2)===String.fromCharCode(0,0)){o.getBytes(2),e-=2;break}u=o.length(),A.push(a(o,e,n+1,h)),e-=u-o.length()}else for(;k>0;)u=o.length(),A.push(a(o,k,n+1,h)),e-=u-o.length(),k-=u-o.length();if(A===void 0&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&(B=o.bytes(k)),A===void 0&&h.decodeBitStrings&&l===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&k>1){var E=o.read,R=e,S=0;if(m===r.Type.BITSTRING&&(i(o,e,1),S=o.getByte(),e--),S===0)try{u=o.length();var M={verbose:h.verbose,strict:!0,decodeBitStrings:!0},y=a(o,e,n+1,M),p=u-o.length();e-=p,m==r.Type.BITSTRING&&p++;var w=y.tagClass;p!==k||w!==r.Class.UNIVERSAL&&w!==r.Class.CONTEXT_SPECIFIC||(A=[y])}catch(_){}A===void 0&&(o.read=E,e=R)}if(A===void 0){if(k===void 0){if(h.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=e}if(m===r.Type.BMPSTRING)for(A="";k>0;k-=2)i(o,e,2),A+=String.fromCharCode(o.getInt16()),e-=2;else A=o.getBytes(k)}var v=B===void 0?null:{bitStringContents:B};return r.create(l,m,g,A,v)}(c,c.length(),0,t)},r.toDer=function(c){var t=s.util.createBuffer(),a=c.tagClass|c.type,o=s.util.createBuffer(),e=!1;if("bitStringContents"in c&&(e=!0,c.original&&(e=r.equals(c,c.original))),e)o.putBytes(c.bitStringContents);else if(c.composed){c.constructed?a|=32:o.putByte(0);for(var n=0;n<c.value.length;++n)c.value[n]!==void 0&&o.putBuffer(r.toDer(c.value[n]))}else if(c.type===r.Type.BMPSTRING)for(n=0;n<c.value.length;++n)o.putInt16(c.value.charCodeAt(n));else c.type===r.Type.INTEGER&&c.value.length>1&&(c.value.charCodeAt(0)===0&&(128&c.value.charCodeAt(1))==0||c.value.charCodeAt(0)===255&&(128&c.value.charCodeAt(1))==128)?o.putBytes(c.value.substr(1)):o.putBytes(c.value);if(t.putByte(a),o.length()<=127)t.putByte(127&o.length());else{var h=o.length(),u="";do u+=String.fromCharCode(255&h),h>>>=8;while(h>0);for(t.putByte(128|u.length),n=u.length-1;n>=0;--n)t.putByte(u.charCodeAt(n))}return t.putBuffer(o),t},r.oidToDer=function(c){var t,a,o,e,n=c.split("."),h=s.util.createBuffer();h.putByte(40*parseInt(n[0],10)+parseInt(n[1],10));for(var u=2;u<n.length;++u){t=!0,a=[],o=parseInt(n[u],10);do e=127&o,o>>>=7,t||(e|=128),a.push(e),t=!1;while(o>0);for(var d=a.length-1;d>=0;--d)h.putByte(a[d])}return h},r.derToOid=function(c){var t;typeof c=="string"&&(c=s.util.createBuffer(c));var a=c.getByte();t=Math.floor(a/40)+"."+a%40;for(var o=0;c.length()>0;)o<<=7,128&(a=c.getByte())?o+=127&a:(t+="."+(o+a),o=0);return t},r.utcTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,2),10);a=a>=50?1900+a:2e3+a;var o=parseInt(c.substr(2,2),10)-1,e=parseInt(c.substr(4,2),10),n=parseInt(c.substr(6,2),10),h=parseInt(c.substr(8,2),10),u=0;if(c.length>11){var d=c.charAt(10),l=10;d!=="+"&&d!=="-"&&(u=parseInt(c.substr(10,2),10),l+=2)}if(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,0),l&&((d=c.charAt(l))==="+"||d==="-")){var m=60*parseInt(c.substr(l+1,2),10)+parseInt(c.substr(l+4,2),10);m*=6e4,d==="+"?t.setTime(+t-m):t.setTime(+t+m)}return t},r.generalizedTimeToDate=function(c){var t=new Date,a=parseInt(c.substr(0,4),10),o=parseInt(c.substr(4,2),10)-1,e=parseInt(c.substr(6,2),10),n=parseInt(c.substr(8,2),10),h=parseInt(c.substr(10,2),10),u=parseInt(c.substr(12,2),10),d=0,l=0,m=!1;c.charAt(c.length-1)==="Z"&&(m=!0);var A=c.length-5,B=c.charAt(A);return B!=="+"&&B!=="-"||(l=60*parseInt(c.substr(A+1,2),10)+parseInt(c.substr(A+4,2),10),l*=6e4,B==="+"&&(l*=-1),m=!0),c.charAt(14)==="."&&(d=1e3*parseFloat(c.substr(14),10)),m?(t.setUTCFullYear(a,o,e),t.setUTCHours(n,h,u,d),t.setTime(+t+l)):(t.setFullYear(a,o,e),t.setHours(n,h,u,d)),t},r.dateToUtcTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push((""+c.getUTCFullYear()).substr(2)),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.dateToGeneralizedTime=function(c){if(typeof c=="string")return c;var t="",a=[];a.push(""+c.getUTCFullYear()),a.push(""+(c.getUTCMonth()+1)),a.push(""+c.getUTCDate()),a.push(""+c.getUTCHours()),a.push(""+c.getUTCMinutes()),a.push(""+c.getUTCSeconds());for(var o=0;o<a.length;++o)a[o].length<2&&(t+="0"),t+=a[o];return t+="Z"},r.integerToDer=function(c){var t=s.util.createBuffer();if(c>=-128&&c<128)return t.putSignedInt(c,8);if(c>=-32768&&c<32768)return t.putSignedInt(c,16);if(c>=-8388608&&c<8388608)return t.putSignedInt(c,24);if(c>=-2147483648&&c<2147483648)return t.putSignedInt(c,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=c,a},r.derToInteger=function(c){typeof c=="string"&&(c=s.util.createBuffer(c));var t=8*c.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return c.getSignedInt(t)},r.validate=function(c,t,a,o){var e=!1;if(c.tagClass!==t.tagClass&&t.tagClass!==void 0||c.type!==t.type&&t.type!==void 0)o&&(c.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+c.tagClass+'"'),c.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+c.type+'"'));else if(c.constructed===t.constructed||t.constructed===void 0){if(e=!0,t.value&&s.util.isArray(t.value))for(var n=0,h=0;e&&h<t.value.length;++h)e=t.value[h].optional||!1,c.value[n]&&((e=r.validate(c.value[n],t.value[h],a,o))?++n:t.value[h].optional&&(e=!0)),!e&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+c.value.length+'"');if(e&&a&&(t.capture&&(a[t.capture]=c.value),t.captureAsn1&&(a[t.captureAsn1]=c),t.captureBitStringContents&&"bitStringContents"in c&&(a[t.captureBitStringContents]=c.bitStringContents),t.captureBitStringValue&&"bitStringContents"in c))if(c.bitStringContents.length<2)a[t.captureBitStringValue]="";else{if(c.bitStringContents.charCodeAt(0)!==0)throw new Error("captureBitStringValue only supported for zero unused bits");a[t.captureBitStringValue]=c.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+c.constructed+'"');return e};var f=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(c,t,a){var o="";a=a||2,(t=t||0)>0&&(o+=`
`);for(var e="",n=0;n<t*a;++n)e+=" ";switch(o+=e+"Tag: ",c.tagClass){case r.Class.UNIVERSAL:o+="Universal:";break;case r.Class.APPLICATION:o+="Application:";break;case r.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case r.Class.PRIVATE:o+="Private:"}if(c.tagClass===r.Class.UNIVERSAL)switch(o+=c.type,c.type){case r.Type.NONE:o+=" (None)";break;case r.Type.BOOLEAN:o+=" (Boolean)";break;case r.Type.INTEGER:o+=" (Integer)";break;case r.Type.BITSTRING:o+=" (Bit string)";break;case r.Type.OCTETSTRING:o+=" (Octet string)";break;case r.Type.NULL:o+=" (Null)";break;case r.Type.OID:o+=" (Object Identifier)";break;case r.Type.ODESC:o+=" (Object Descriptor)";break;case r.Type.EXTERNAL:o+=" (External or Instance of)";break;case r.Type.REAL:o+=" (Real)";break;case r.Type.ENUMERATED:o+=" (Enumerated)";break;case r.Type.EMBEDDED:o+=" (Embedded PDV)";break;case r.Type.UTF8:o+=" (UTF8)";break;case r.Type.ROID:o+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:o+=" (Sequence)";break;case r.Type.SET:o+=" (Set)";break;case r.Type.PRINTABLESTRING:o+=" (Printable String)";break;case r.Type.IA5String:o+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:o+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case r.Type.BMPSTRING:o+=" (BMP String)"}else o+=c.type;if(o+=`
`,o+=e+"Constructed: "+c.constructed+`
`,c.composed){var h=0,u="";for(n=0;n<c.value.length;++n)c.value[n]!==void 0&&(h+=1,u+=r.prettyPrint(c.value[n],t+1,a),n+1<c.value.length&&(u+=","));o+=e+"Sub values: "+h+u}else{if(o+=e+"Value: ",c.type===r.Type.OID){var d=r.derToOid(c.value);o+=d,s.pki&&s.pki.oids&&d in s.pki.oids&&(o+=" ("+s.pki.oids[d]+") ")}if(c.type===r.Type.INTEGER)try{o+=r.derToInteger(c.value)}catch(m){o+="0x"+s.util.bytesToHex(c.value)}else if(c.type===r.Type.BITSTRING){if(c.value.length>1?o+="0x"+s.util.bytesToHex(c.value.slice(1)):o+="(none)",c.value.length>0){var l=c.value.charCodeAt(0);l==1?o+=" (1 unused bit shown)":l>1&&(o+=" ("+l+" unused bits shown)")}}else c.type===r.Type.OCTETSTRING?(f.test(c.value)||(o+="("+c.value+") "),o+="0x"+s.util.bytesToHex(c.value)):c.type===r.Type.UTF8?o+=s.util.decodeUtf8(c.value):c.type===r.Type.PRINTABLESTRING||c.type===r.Type.IA5String?o+=c.value:f.test(c.value)?o+="0x"+s.util.bytesToHex(c.value):c.value.length===0?o+="[null]":o+=c.value}return o}},function(N,x,b){var s=b(2);b(168),b(441),b(442),b(5),s.random&&s.random.getBytes?N.exports=s.random:function(r){var i={},f=new Array(4),c=s.util.createBuffer();function t(){var d=s.prng.create(i);return d.getBytes=function(l,m){return d.generate(l,m)},d.getBytesSync=function(l){return d.generate(l)},d}i.formatKey=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),s.aes._expandKey(d,!1)},i.formatSeed=function(d){var l=s.util.createBuffer(d);return(d=new Array(4))[0]=l.getInt32(),d[1]=l.getInt32(),d[2]=l.getInt32(),d[3]=l.getInt32(),d},i.cipher=function(d,l){return s.aes._updateBlock(d,l,f,!1),c.putInt32(f[0]),c.putInt32(f[1]),c.putInt32(f[2]),c.putInt32(f[3]),c.getBytes()},i.increment=function(d){return++d[3],d},i.md=s.md.sha256;var a=t(),o=null,e=s.util.globalScope,n=e.crypto||e.msCrypto;if(n&&n.getRandomValues&&(o=function(d){return n.getRandomValues(d)}),s.options.usePureJavaScript||!s.util.isNodejs&&!o){if(a.collectInt(+new Date,32),typeof navigator!="undefined"){var h="";for(var u in navigator)try{typeof navigator[u]=="string"&&(h+=navigator[u])}catch(d){}a.collect(h),h=null}r&&(r().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),r().keypress(function(d){a.collectInt(d.charCode,8)}))}if(s.random)for(var u in a)s.random[u]=a[u];else s.random=a;s.random.createInstance=t,N.exports=s.random}(typeof jQuery!="undefined"?jQuery:null)},function(N,x,b){var s=b(25),r=b(36);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}x.BlockHash=i,i.prototype.update=function(f,c){if(f=s.toArray(f,c),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){var t=(f=this.pending).length%this._delta8;this.pending=f.slice(f.length-t,f.length),this.pending.length===0&&(this.pending=null),f=s.join32(f,0,f.length-t,this.endian);for(var a=0;a<f.length;a+=this._delta32)this._update(f,a,a+this._delta32)}return this},i.prototype.digest=function(f){return this.update(this._pad()),r(this.pending===null),this._digest(f)},i.prototype._pad=function(){var f=this.pendingTotal,c=this._delta8,t=c-(f+this.padLength)%c,a=new Array(t+this.padLength);a[0]=128;for(var o=1;o<t;o++)a[o]=0;if(f<<=3,this.endian==="big"){for(var e=8;e<this.padLength;e++)a[o++]=0;a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=f>>>24&255,a[o++]=f>>>16&255,a[o++]=f>>>8&255,a[o++]=255&f}else for(a[o++]=255&f,a[o++]=f>>>8&255,a[o++]=f>>>16&255,a[o++]=f>>>24&255,a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0,e=8;e<this.padLength;e++)a[o++]=0;return a}},function(N,x,b){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),N.exports=globalThis},function(N,x,b){const s=b(42),r=b(38),i=b(115),{baseTable:f}=b(43),c=b(202),t=b(21),a=b(6),o=b(19),e=Object.keys(f).reduce((u,d)=>(u[f[d]]=d,u),{}),n=Symbol.for("@ipld/js-cid/CID");class h{constructor(u,d,l,m){if(Object.defineProperty(this,n,{value:!0}),h.isCID(u)){const A=u;return this.version=A.version,this.codec=A.codec,this.multihash=A.multihash,void(this.multibaseName=A.multibaseName||(A.version===0?"base58btc":"base32"))}if(typeof u=="string"){const A=r.isEncoded(u);if(A){const B=r.decode(u);this.version=parseInt(B[0].toString(),16),this.codec=i.getCodec(B.slice(1)),this.multihash=i.rmPrefix(B.slice(1)),this.multibaseName=A}else this.version=0,this.codec="dag-pb",this.multihash=s.fromB58String(u),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:u})}if(u instanceof Uint8Array){const A=parseInt(u[0].toString(),16);if(A===1){const B=u;this.version=A,this.codec=i.getCodec(B.slice(1)),this.multihash=i.rmPrefix(B.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=u,this.multibaseName="base58btc";h.validateCID(this)}else this.version=u,typeof d=="number"&&(d=e[d]),this.codec=d,this.multihash=l,this.multibaseName=m||(u===0?"base58btc":"base32"),h.validateCID(this)}get bytes(){let u=this._bytes;if(!u){if(this.version===0)u=this.multihash;else{if(this.version!==1)throw new Error("unsupported version");{const d=i.getCodeVarint(this.codec);u=t([[1],d,this.multihash],1+d.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:u})}return u}get prefix(){const u=i.getCodeVarint(this.codec),d=s.prefix(this.multihash);return t([[this.version],u,d],1+u.byteLength+d.byteLength)}get code(){return f[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:u,length:d}=s.decode(this.multihash);if(u!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(d!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash)}toBaseEncodedString(u=this.multibaseName){if(this.string&&this.string.length!==0&&u===this.multibaseName)return this.string;let d;if(this.version===0){if(u!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");d=s.toB58String(this.multihash)}else{if(this.version!==1)throw new Error("unsupported version");d=a(r.encode(u,this.bytes))}return u===this.multibaseName&&Object.defineProperty(this,"string",{value:d}),d}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(u){return this.toBaseEncodedString(u)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(u){return this.codec===u.codec&&this.version===u.version&&o(this.multihash,u.multihash)}static validateCID(u){const d=c.checkCIDComponents(u);if(d)throw new Error(d)}static isCID(u){return u instanceof h||Boolean(u&&u[n])}}h.codecs=f,N.exports=h},function(N,x,b){var s=b(0);if(b(29),b(58),b(45),b(236),b(238),b(32),b(4),r===void 0)var r=s.jsbn.BigInteger;var i=s.util.isNodejs?b(81):null,f=s.asn1,c=s.util;s.pki=s.pki||{},N.exports=s.pki.rsa=s.rsa=s.rsa||{};var t=s.pki,a=[6,4,2,4,2,4,6,2],o={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},u=function(S){var M;if(!(S.algorithm in t.oids)){var y=new Error("Unknown message digest algorithm.");throw y.algorithm=S.algorithm,y}M=t.oids[S.algorithm];var p=f.oidToDer(M).getBytes(),w=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),v=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);v.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,p)),v.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var _=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,S.digest().getBytes());return w.value.push(v),w.value.push(_),f.toDer(w).getBytes()},d=function(S,M,y){if(y)return S.modPow(M.e,M.n);if(!M.p||!M.q)return S.modPow(M.d,M.n);var p;M.dP||(M.dP=M.d.mod(M.p.subtract(r.ONE))),M.dQ||(M.dQ=M.d.mod(M.q.subtract(r.ONE))),M.qInv||(M.qInv=M.q.modInverse(M.p));do p=new r(s.util.bytesToHex(s.random.getBytes(M.n.bitLength()/8)),16);while(p.compareTo(M.n)>=0||!p.gcd(M.n).equals(r.ONE));for(var w=(S=S.multiply(p.modPow(M.e,M.n)).mod(M.n)).mod(M.p).modPow(M.dP,M.p),v=S.mod(M.q).modPow(M.dQ,M.q);w.compareTo(v)<0;)w=w.add(M.p);var _=w.subtract(v).multiply(M.qInv).mod(M.p).multiply(M.q).add(v);return _=_.multiply(p.modInverse(M.n)).mod(M.n)};function l(S,M,y){var p=s.util.createBuffer(),w=Math.ceil(M.n.bitLength()/8);if(S.length>w-11){var v=new Error("Message is too long for PKCS#1 v1.5 padding.");throw v.length=S.length,v.max=w-11,v}p.putByte(0),p.putByte(y);var _,C=w-3-S.length;if(y===0||y===1){_=y===0?0:255;for(var L=0;L<C;++L)p.putByte(_)}else for(;C>0;){var O=0,U=s.random.getBytes(C);for(L=0;L<C;++L)(_=U.charCodeAt(L))===0?++O:p.putByte(_);C=O}return p.putByte(0),p.putBytes(S),p}function m(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8),v=s.util.createBuffer(S),_=v.getByte(),C=v.getByte();if(_!==0||y&&C!==0&&C!==1||!y&&C!=2||y&&C===0&&p===void 0)throw new Error("Encryption block is invalid.");var L=0;if(C===0){L=w-3-p;for(var O=0;O<L;++O)if(v.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(C===1)for(L=0;v.length()>1;){if(v.getByte()!==255){--v.read;break}++L}else if(C===2)for(L=0;v.length()>1;){if(v.getByte()===0){--v.read;break}++L}if(v.getByte()!==0||L!==w-3-v.length())throw new Error("Encryption block is invalid.");return v.getBytes()}function A(S,M,y){typeof M=="function"&&(y=M,M={});var p={algorithm:{name:(M=M||{}).algorithm||"PRIMEINC",options:{workers:M.workers||2,workLoad:M.workLoad||100,workerScript:M.workerScript}}};function w(){v(S.pBits,function(C,L){return C?y(C):(S.p=L,S.q!==null?_(C,S.q):void v(S.qBits,_))})}function v(C,L){s.prime.generateProbablePrime(C,p,L)}function _(C,L){if(C)return y(C);if(S.q=L,S.p.compareTo(S.q)<0){var O=S.p;S.p=S.q,S.q=O}if(S.p.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.p=null,void w();if(S.q.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.q=null,void v(S.qBits,_);if(S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),S.phi.gcd(S.e).compareTo(r.ONE)!==0)return S.p=S.q=null,void w();if(S.n=S.p.multiply(S.q),S.n.bitLength()!==S.bits)return S.q=null,void v(S.qBits,_);var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)},y(null,S.keys)}"prng"in M&&(p.prng=M.prng),w()}function B(S){var M=S.toString(16);M[0]>="8"&&(M="00"+M);var y=s.util.hexToBytes(M);return y.length>1&&(y.charCodeAt(0)===0&&(128&y.charCodeAt(1))==0||y.charCodeAt(0)===255&&(128&y.charCodeAt(1))==128)?y.substr(1):y}function k(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}function T(S){return s.util.isNodejs&&typeof i[S]=="function"}function g(S){return c.globalScope!==void 0&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[S]=="function"}function E(S){return c.globalScope!==void 0&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[S]=="function"}function R(S){for(var M=s.util.hexToBytes(S.toString(16)),y=new Uint8Array(M.length),p=0;p<M.length;++p)y[p]=M.charCodeAt(p);return y}t.rsa.encrypt=function(S,M,y){var p,w=y,v=Math.ceil(M.n.bitLength()/8);y!==!1&&y!==!0?(w=y===2,p=l(S,M,y)):(p=s.util.createBuffer()).putBytes(S);for(var _=new r(p.toHex(),16),C=d(_,M,w).toString(16),L=s.util.createBuffer(),O=v-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),L.getBytes()},t.rsa.decrypt=function(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8);if(S.length!==w){var v=new Error("Encrypted message length is invalid.");throw v.length=S.length,v.expected=w,v}var _=new r(s.util.createBuffer(S).toHex(),16);if(_.compareTo(M.n)>=0)throw new Error("Encrypted message is invalid.");for(var C=d(_,M,y).toString(16),L=s.util.createBuffer(),O=w-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),p!==!1?m(L.getBytes(),M,y):L.getBytes()},t.rsa.createKeyPairGenerationState=function(S,M,y){typeof S=="string"&&(S=parseInt(S,10)),S=S||2048;var p,w=(y=y||{}).prng||s.random,v={nextBytes:function(C){for(var L=w.getBytesSync(C.length),O=0;O<C.length;++O)C[O]=L.charCodeAt(O)}},_=y.algorithm||"PRIMEINC";if(_!=="PRIMEINC")throw new Error("Invalid key generation algorithm: "+_);return(p={algorithm:_,state:0,bits:S,rng:v,eInt:M||65537,e:new r(null),p:null,q:null,qBits:S>>1,pBits:S-(S>>1),pqState:0,num:null,keys:null}).e.fromInt(p.eInt),p},t.rsa.stepKeyPairGenerationState=function(S,M){"algorithm"in S||(S.algorithm="PRIMEINC");var y=new r(null);y.fromInt(30);for(var p,w=0,v=function(q,H){return q|H},_=+new Date,C=0;S.keys===null&&(M<=0||C<M);){if(S.state===0){var L=S.p===null?S.pBits:S.qBits,O=L-1;S.pqState===0?(S.num=new r(L,S.rng),S.num.testBit(O)||S.num.bitwiseTo(r.ONE.shiftLeft(O),v,S.num),S.num.dAddOffset(31-S.num.mod(y).byteValue(),0),w=0,++S.pqState):S.pqState===1?S.num.bitLength()>L?S.pqState=0:S.num.isProbablePrime(k(S.num.bitLength()))?++S.pqState:S.num.dAddOffset(a[w++%8],0):S.pqState===2?S.pqState=S.num.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)===0?3:0:S.pqState===3&&(S.pqState=0,S.p===null?S.p=S.num:S.q=S.num,S.p!==null&&S.q!==null&&++S.state,S.num=null)}else if(S.state===1)S.p.compareTo(S.q)<0&&(S.num=S.p,S.p=S.q,S.q=S.num),++S.state;else if(S.state===2)S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),++S.state;else if(S.state===3)S.phi.gcd(S.e).compareTo(r.ONE)===0?++S.state:(S.p=null,S.q=null,S.state=0);else if(S.state===4)S.n=S.p.multiply(S.q),S.n.bitLength()===S.bits?++S.state:(S.q=null,S.state=0);else if(S.state===5){var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)}}C+=(p=+new Date)-_,_=p}return S.keys!==null},t.rsa.generateKeyPair=function(S,M,y,p){if(arguments.length===1?typeof S=="object"?(y=S,S=void 0):typeof S=="function"&&(p=S,S=void 0):arguments.length===2?typeof S=="number"?typeof M=="function"?(p=M,M=void 0):typeof M!="number"&&(y=M,M=void 0):(y=S,p=M,S=void 0,M=void 0):arguments.length===3&&(typeof M=="number"?typeof y=="function"&&(p=y,y=void 0):(p=y,y=M,M=void 0)),y=y||{},S===void 0&&(S=y.bits||2048),M===void 0&&(M=y.e||65537),!s.options.usePureJavaScript&&!y.prng&&S>=256&&S<=16384&&(M===65537||M===3)){if(p){if(T("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(C,L,O){if(C)return p(C);p(null,{privateKey:t.privateKeyFromPem(O),publicKey:t.publicKeyFromPem(L)})});if(g("generateKey")&&g("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(C){return c.globalScope.crypto.subtle.exportKey("pkcs8",C.privateKey)}).then(void 0,function(C){p(C)}).then(function(C){if(C){var L=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(C)));p(null,{privateKey:L,publicKey:t.setRsaPublicKey(L.n,L.e)})}});if(E("generateKey")&&E("exportKey")){var w=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]);return w.oncomplete=function(C){var L=C.target.result,O=c.globalScope.msCrypto.subtle.exportKey("pkcs8",L.privateKey);O.oncomplete=function(U){var q=U.target.result,H=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(q)));p(null,{privateKey:H,publicKey:t.setRsaPublicKey(H.n,H.e)})},O.onerror=function(U){p(U)}},void(w.onerror=function(C){p(C)})}}else if(T("generateKeyPairSync")){var v=i.generateKeyPairSync("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:t.privateKeyFromPem(v.privateKey),publicKey:t.publicKeyFromPem(v.publicKey)}}}var _=t.rsa.createKeyPairGenerationState(S,M,y);if(!p)return t.rsa.stepKeyPairGenerationState(_,0),_.keys;A(_,y,p)},t.setRsaPublicKey=t.rsa.setPublicKey=function(S,M){var y={n:S,e:M,encrypt:function(p,w,v){if(typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSAES-PKCS1-V1_5"),w==="RSAES-PKCS1-V1_5")w={encode:function(C,L,O){return l(C,L,2).getBytes()}};else if(w==="RSA-OAEP"||w==="RSAES-OAEP")w={encode:function(C,L){return s.pkcs1.encode_rsa_oaep(L,C,v)}};else if(["RAW","NONE","NULL",null].indexOf(w)!==-1)w={encode:function(C){return C}};else if(typeof w=="string")throw new Error('Unsupported encryption scheme: "'+w+'".');var _=w.encode(p,y,!0);return t.rsa.encrypt(_,y,!0)},verify:function(p,w,v){typeof v=="string"?v=v.toUpperCase():v===void 0&&(v="RSASSA-PKCS1-V1_5"),v==="RSASSA-PKCS1-V1_5"?v={verify:function(C,L){return L=m(L,y,!0),C===f.fromDer(L).value[1].value}}:v!=="NONE"&&v!=="NULL"&&v!==null||(v={verify:function(C,L){return C===(L=m(L,y,!0))}});var _=t.rsa.decrypt(w,y,!0,!1);return v.verify(p,_,y.n.bitLength())}};return y},t.setRsaPrivateKey=t.rsa.setPrivateKey=function(S,M,y,p,w,v,_,C){var L={n:S,e:M,d:y,p,q:w,dP:v,dQ:_,qInv:C,decrypt:function(O,U,q){typeof U=="string"?U=U.toUpperCase():U===void 0&&(U="RSAES-PKCS1-V1_5");var H=t.rsa.decrypt(O,L,!1,!1);if(U==="RSAES-PKCS1-V1_5")U={decode:m};else if(U==="RSA-OAEP"||U==="RSAES-OAEP")U={decode:function(G,K){return s.pkcs1.decode_rsa_oaep(K,G,q)}};else{if(["RAW","NONE","NULL",null].indexOf(U)===-1)throw new Error('Unsupported encryption scheme: "'+U+'".');U={decode:function(G){return G}}}return U.decode(H,L,!1)},sign:function(O,U){var q=!1;typeof U=="string"&&(U=U.toUpperCase()),U===void 0||U==="RSASSA-PKCS1-V1_5"?(U={encode:u},q=1):U!=="NONE"&&U!=="NULL"&&U!==null||(U={encode:function(){return O}},q=1);var H=U.encode(O,L.n.bitLength());return t.rsa.encrypt(H,L,q)}};return L},t.wrapRsaPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(S).getBytes())])},t.privateKeyFromAsn1=function(S){var M,y,p,w,v,_,C,L,O={},U=[];if(f.validate(S,o,O,U)&&(S=f.fromDer(s.util.createBuffer(O.privateKey))),O={},U=[],!f.validate(S,e,O,U)){var q=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw q.errors=U,q}return M=s.util.createBuffer(O.privateKeyModulus).toHex(),y=s.util.createBuffer(O.privateKeyPublicExponent).toHex(),p=s.util.createBuffer(O.privateKeyPrivateExponent).toHex(),w=s.util.createBuffer(O.privateKeyPrime1).toHex(),v=s.util.createBuffer(O.privateKeyPrime2).toHex(),_=s.util.createBuffer(O.privateKeyExponent1).toHex(),C=s.util.createBuffer(O.privateKeyExponent2).toHex(),L=s.util.createBuffer(O.privateKeyCoefficient).toHex(),t.setRsaPrivateKey(new r(M,16),new r(y,16),new r(p,16),new r(w,16),new r(v,16),new r(_,16),new r(C,16),new r(L,16))},t.privateKeyToAsn1=t.privateKeyToRSAPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.qInv))])},t.publicKeyFromAsn1=function(S){var M={},y=[];if(f.validate(S,h,M,y)){var p,w=f.derToOid(M.publicKeyOid);if(w!==t.oids.rsaEncryption)throw(p=new Error("Cannot read public key. Unknown OID.")).oid=w,p;S=M.rsaPublicKey}if(y=[],!f.validate(S,n,M,y))throw(p=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=y,p;var v=s.util.createBuffer(M.publicKeyModulus).toHex(),_=s.util.createBuffer(M.publicKeyExponent).toHex();return t.setRsaPublicKey(new r(v,16),new r(_,16))},t.publicKeyToAsn1=t.publicKeyToSubjectPublicKeyInfo=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[t.publicKeyToRSAPublicKey(S)])])},t.publicKeyToRSAPublicKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e))])}},function(N,x,b){var s,r=b(0);N.exports=r.jsbn=r.jsbn||{};function i(p,w,v){this.data=[],p!=null&&(typeof p=="number"?this.fromNumber(p,w,v):w==null&&typeof p!="string"?this.fromString(p,256):this.fromString(p,w))}function f(){return new i(null)}function c(p,w,v,_,C,L){for(var O=16383&w,U=w>>14;--L>=0;){var q=16383&this.data[p],H=this.data[p++]>>14,G=U*q+H*O;C=((q=O*q+((16383&G)<<14)+v.data[_]+C)>>28)+(G>>14)+U*H,v.data[_++]=268435455&q}return C}r.jsbn.BigInteger=i,typeof navigator=="undefined"?(i.prototype.am=c,s=28):navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=function(p,w,v,_,C,L){for(var O=32767&w,U=w>>15;--L>=0;){var q=32767&this.data[p],H=this.data[p++]>>15,G=U*q+H*O;C=((q=O*q+((32767&G)<<15)+v.data[_]+(1073741823&C))>>>30)+(G>>>15)+U*H+(C>>>30),v.data[_++]=1073741823&q}return C},s=30):navigator.appName!="Netscape"?(i.prototype.am=function(p,w,v,_,C,L){for(;--L>=0;){var O=w*this.data[p++]+v.data[_]+C;C=Math.floor(O/67108864),v.data[_++]=67108863&O}return C},s=26):(i.prototype.am=c,s=28),i.prototype.DB=s,i.prototype.DM=(1<<s)-1,i.prototype.DV=1<<s,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-s,i.prototype.F2=2*s-52;var t,a,o=new Array;for(t="0".charCodeAt(0),a=0;a<=9;++a)o[t++]=a;for(t="a".charCodeAt(0),a=10;a<36;++a)o[t++]=a;for(t="A".charCodeAt(0),a=10;a<36;++a)o[t++]=a;function e(p){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(p)}function n(p,w){var v=o[p.charCodeAt(w)];return v??-1}function h(p){var w=f();return w.fromInt(p),w}function u(p){var w,v=1;return(w=p>>>16)!=0&&(p=w,v+=16),(w=p>>8)!=0&&(p=w,v+=8),(w=p>>4)!=0&&(p=w,v+=4),(w=p>>2)!=0&&(p=w,v+=2),(w=p>>1)!=0&&(p=w,v+=1),v}function d(p){this.m=p}function l(p){this.m=p,this.mp=p.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<p.DB-15)-1,this.mt2=2*p.t}function m(p,w){return p&w}function A(p,w){return p|w}function B(p,w){return p^w}function k(p,w){return p&~w}function T(p){if(p==0)return-1;var w=0;return(65535&p)==0&&(p>>=16,w+=16),(255&p)==0&&(p>>=8,w+=8),(15&p)==0&&(p>>=4,w+=4),(3&p)==0&&(p>>=2,w+=2),(1&p)==0&&++w,w}function g(p){for(var w=0;p!=0;)p&=p-1,++w;return w}function E(){}function R(p){return p}function S(p){this.r2=f(),this.q3=f(),i.ONE.dlShiftTo(2*p.t,this.r2),this.mu=this.r2.divide(p),this.m=p}d.prototype.convert=function(p){return p.s<0||p.compareTo(this.m)>=0?p.mod(this.m):p},d.prototype.revert=function(p){return p},d.prototype.reduce=function(p){p.divRemTo(this.m,null,p)},d.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},d.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},l.prototype.convert=function(p){var w=f();return p.abs().dlShiftTo(this.m.t,w),w.divRemTo(this.m,null,w),p.s<0&&w.compareTo(i.ZERO)>0&&this.m.subTo(w,w),w},l.prototype.revert=function(p){var w=f();return p.copyTo(w),this.reduce(w),w},l.prototype.reduce=function(p){for(;p.t<=this.mt2;)p.data[p.t++]=0;for(var w=0;w<this.m.t;++w){var v=32767&p.data[w],_=v*this.mpl+((v*this.mph+(p.data[w]>>15)*this.mpl&this.um)<<15)&p.DM;for(v=w+this.m.t,p.data[v]+=this.m.am(0,_,p,w,0,this.m.t);p.data[v]>=p.DV;)p.data[v]-=p.DV,p.data[++v]++}p.clamp(),p.drShiftTo(this.m.t,p),p.compareTo(this.m)>=0&&p.subTo(this.m,p)},l.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},l.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},i.prototype.copyTo=function(p){for(var w=this.t-1;w>=0;--w)p.data[w]=this.data[w];p.t=this.t,p.s=this.s},i.prototype.fromInt=function(p){this.t=1,this.s=p<0?-1:0,p>0?this.data[0]=p:p<-1?this.data[0]=p+this.DV:this.t=0},i.prototype.fromString=function(p,w){var v;if(w==16)v=4;else if(w==8)v=3;else if(w==256)v=8;else if(w==2)v=1;else if(w==32)v=5;else{if(w!=4)return void this.fromRadix(p,w);v=2}this.t=0,this.s=0;for(var _=p.length,C=!1,L=0;--_>=0;){var O=v==8?255&p[_]:n(p,_);O<0?p.charAt(_)=="-"&&(C=!0):(C=!1,L==0?this.data[this.t++]=O:L+v>this.DB?(this.data[this.t-1]|=(O&(1<<this.DB-L)-1)<<L,this.data[this.t++]=O>>this.DB-L):this.data[this.t-1]|=O<<L,(L+=v)>=this.DB&&(L-=this.DB))}v==8&&(128&p[0])!=0&&(this.s=-1,L>0&&(this.data[this.t-1]|=(1<<this.DB-L)-1<<L)),this.clamp(),C&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var p=this.s&this.DM;this.t>0&&this.data[this.t-1]==p;)--this.t},i.prototype.dlShiftTo=function(p,w){var v;for(v=this.t-1;v>=0;--v)w.data[v+p]=this.data[v];for(v=p-1;v>=0;--v)w.data[v]=0;w.t=this.t+p,w.s=this.s},i.prototype.drShiftTo=function(p,w){for(var v=p;v<this.t;++v)w.data[v-p]=this.data[v];w.t=Math.max(this.t-p,0),w.s=this.s},i.prototype.lShiftTo=function(p,w){var v,_=p%this.DB,C=this.DB-_,L=(1<<C)-1,O=Math.floor(p/this.DB),U=this.s<<_&this.DM;for(v=this.t-1;v>=0;--v)w.data[v+O+1]=this.data[v]>>C|U,U=(this.data[v]&L)<<_;for(v=O-1;v>=0;--v)w.data[v]=0;w.data[O]=U,w.t=this.t+O+1,w.s=this.s,w.clamp()},i.prototype.rShiftTo=function(p,w){w.s=this.s;var v=Math.floor(p/this.DB);if(v>=this.t)w.t=0;else{var _=p%this.DB,C=this.DB-_,L=(1<<_)-1;w.data[0]=this.data[v]>>_;for(var O=v+1;O<this.t;++O)w.data[O-v-1]|=(this.data[O]&L)<<C,w.data[O-v]=this.data[O]>>_;_>0&&(w.data[this.t-v-1]|=(this.s&L)<<C),w.t=this.t-v,w.clamp()}},i.prototype.subTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]-p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_-=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_-=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_-=p.s}w.s=_<0?-1:0,_<-1?w.data[v++]=this.DV+_:_>0&&(w.data[v++]=_),w.t=v,w.clamp()},i.prototype.multiplyTo=function(p,w){var v=this.abs(),_=p.abs(),C=v.t;for(w.t=C+_.t;--C>=0;)w.data[C]=0;for(C=0;C<_.t;++C)w.data[C+v.t]=v.am(0,_.data[C],w,C,0,v.t);w.s=0,w.clamp(),this.s!=p.s&&i.ZERO.subTo(w,w)},i.prototype.squareTo=function(p){for(var w=this.abs(),v=p.t=2*w.t;--v>=0;)p.data[v]=0;for(v=0;v<w.t-1;++v){var _=w.am(v,w.data[v],p,2*v,0,1);(p.data[v+w.t]+=w.am(v+1,2*w.data[v],p,2*v+1,_,w.t-v-1))>=w.DV&&(p.data[v+w.t]-=w.DV,p.data[v+w.t+1]=1)}p.t>0&&(p.data[p.t-1]+=w.am(v,w.data[v],p,2*v,0,1)),p.s=0,p.clamp()},i.prototype.divRemTo=function(p,w,v){var _=p.abs();if(!(_.t<=0)){var C=this.abs();if(C.t<_.t)return w!=null&&w.fromInt(0),void(v!=null&&this.copyTo(v));v==null&&(v=f());var L=f(),O=this.s,U=p.s,q=this.DB-u(_.data[_.t-1]);q>0?(_.lShiftTo(q,L),C.lShiftTo(q,v)):(_.copyTo(L),C.copyTo(v));var H=L.t,G=L.data[H-1];if(G!=0){var K=G*(1<<this.F1)+(H>1?L.data[H-2]>>this.F2:0),Q=this.FV/K,z=(1<<this.F1)/K,D=1<<this.F2,F=v.t,I=F-H,P=w??f();for(L.dlShiftTo(I,P),v.compareTo(P)>=0&&(v.data[v.t++]=1,v.subTo(P,v)),i.ONE.dlShiftTo(H,P),P.subTo(L,L);L.t<H;)L.data[L.t++]=0;for(;--I>=0;){var V=v.data[--F]==G?this.DM:Math.floor(v.data[F]*Q+(v.data[F-1]+D)*z);if((v.data[F]+=L.am(0,V,v,I,0,H))<V)for(L.dlShiftTo(I,P),v.subTo(P,v);v.data[F]<--V;)v.subTo(P,v)}w!=null&&(v.drShiftTo(H,w),O!=U&&i.ZERO.subTo(w,w)),v.t=H,v.clamp(),q>0&&v.rShiftTo(q,v),O<0&&i.ZERO.subTo(v,v)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var p=this.data[0];if((1&p)==0)return 0;var w=3&p;return(w=(w=(w=(w=w*(2-(15&p)*w)&15)*(2-(255&p)*w)&255)*(2-((65535&p)*w&65535))&65535)*(2-p*w%this.DV)%this.DV)>0?this.DV-w:-w},i.prototype.isEven=function(){return(this.t>0?1&this.data[0]:this.s)==0},i.prototype.exp=function(p,w){if(p>4294967295||p<1)return i.ONE;var v=f(),_=f(),C=w.convert(this),L=u(p)-1;for(C.copyTo(v);--L>=0;)if(w.sqrTo(v,_),(p&1<<L)>0)w.mulTo(_,C,v);else{var O=v;v=_,_=O}return w.revert(v)},i.prototype.toString=function(p){if(this.s<0)return"-"+this.negate().toString(p);var w;if(p==16)w=4;else if(p==8)w=3;else if(p==2)w=1;else if(p==32)w=5;else{if(p!=4)return this.toRadix(p);w=2}var v,_=(1<<w)-1,C=!1,L="",O=this.t,U=this.DB-O*this.DB%w;if(O-- >0)for(U<this.DB&&(v=this.data[O]>>U)>0&&(C=!0,L=e(v));O>=0;)U<w?(v=(this.data[O]&(1<<U)-1)<<w-U,v|=this.data[--O]>>(U+=this.DB-w)):(v=this.data[O]>>(U-=w)&_,U<=0&&(U+=this.DB,--O)),v>0&&(C=!0),C&&(L+=e(v));return C?L:"0"},i.prototype.negate=function(){var p=f();return i.ZERO.subTo(this,p),p},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(p){var w=this.s-p.s;if(w!=0)return w;var v=this.t;if((w=v-p.t)!=0)return this.s<0?-w:w;for(;--v>=0;)if((w=this.data[v]-p.data[v])!=0)return w;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this.data[this.t-1]^this.s&this.DM)},i.prototype.mod=function(p){var w=f();return this.abs().divRemTo(p,null,w),this.s<0&&w.compareTo(i.ZERO)>0&&p.subTo(w,w),w},i.prototype.modPowInt=function(p,w){var v;return v=p<256||w.isEven()?new d(w):new l(w),this.exp(p,v)},i.ZERO=h(0),i.ONE=h(1),E.prototype.convert=R,E.prototype.revert=R,E.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v)},E.prototype.sqrTo=function(p,w){p.squareTo(w)},S.prototype.convert=function(p){if(p.s<0||p.t>2*this.m.t)return p.mod(this.m);if(p.compareTo(this.m)<0)return p;var w=f();return p.copyTo(w),this.reduce(w),w},S.prototype.revert=function(p){return p},S.prototype.reduce=function(p){for(p.drShiftTo(this.m.t-1,this.r2),p.t>this.m.t+1&&(p.t=this.m.t+1,p.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);p.compareTo(this.r2)<0;)p.dAddOffset(1,this.m.t+1);for(p.subTo(this.r2,p);p.compareTo(this.m)>=0;)p.subTo(this.m,p)},S.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},S.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)};var M=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],y=(1<<26)/M[M.length-1];i.prototype.chunkSize=function(p){return Math.floor(Math.LN2*this.DB/Math.log(p))},i.prototype.toRadix=function(p){if(p==null&&(p=10),this.signum()==0||p<2||p>36)return"0";var w=this.chunkSize(p),v=Math.pow(p,w),_=h(v),C=f(),L=f(),O="";for(this.divRemTo(_,C,L);C.signum()>0;)O=(v+L.intValue()).toString(p).substr(1)+O,C.divRemTo(_,C,L);return L.intValue().toString(p)+O},i.prototype.fromRadix=function(p,w){this.fromInt(0),w==null&&(w=10);for(var v=this.chunkSize(w),_=Math.pow(w,v),C=!1,L=0,O=0,U=0;U<p.length;++U){var q=n(p,U);q<0?p.charAt(U)=="-"&&this.signum()==0&&(C=!0):(O=w*O+q,++L>=v&&(this.dMultiply(_),this.dAddOffset(O,0),L=0,O=0))}L>0&&(this.dMultiply(Math.pow(w,L)),this.dAddOffset(O,0)),C&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(p,w,v){if(typeof w=="number")if(p<2)this.fromInt(1);else for(this.fromNumber(p,v),this.testBit(p-1)||this.bitwiseTo(i.ONE.shiftLeft(p-1),A,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(w);)this.dAddOffset(2,0),this.bitLength()>p&&this.subTo(i.ONE.shiftLeft(p-1),this);else{var _=new Array,C=7&p;_.length=1+(p>>3),w.nextBytes(_),C>0?_[0]&=(1<<C)-1:_[0]=0,this.fromString(_,256)}},i.prototype.bitwiseTo=function(p,w,v){var _,C,L=Math.min(p.t,this.t);for(_=0;_<L;++_)v.data[_]=w(this.data[_],p.data[_]);if(p.t<this.t){for(C=p.s&this.DM,_=L;_<this.t;++_)v.data[_]=w(this.data[_],C);v.t=this.t}else{for(C=this.s&this.DM,_=L;_<p.t;++_)v.data[_]=w(C,p.data[_]);v.t=p.t}v.s=w(this.s,p.s),v.clamp()},i.prototype.changeBit=function(p,w){var v=i.ONE.shiftLeft(p);return this.bitwiseTo(v,w,v),v},i.prototype.addTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]+p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_+=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_+=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=p.s}w.s=_<0?-1:0,_>0?w.data[v++]=_:_<-1&&(w.data[v++]=this.DV+_),w.t=v,w.clamp()},i.prototype.dMultiply=function(p){this.data[this.t]=this.am(0,p-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(p,w){if(p!=0){for(;this.t<=w;)this.data[this.t++]=0;for(this.data[w]+=p;this.data[w]>=this.DV;)this.data[w]-=this.DV,++w>=this.t&&(this.data[this.t++]=0),++this.data[w]}},i.prototype.multiplyLowerTo=function(p,w,v){var _,C=Math.min(this.t+p.t,w);for(v.s=0,v.t=C;C>0;)v.data[--C]=0;for(_=v.t-this.t;C<_;++C)v.data[C+this.t]=this.am(0,p.data[C],v,C,0,this.t);for(_=Math.min(p.t,w);C<_;++C)this.am(0,p.data[C],v,C,0,w-C);v.clamp()},i.prototype.multiplyUpperTo=function(p,w,v){--w;var _=v.t=this.t+p.t-w;for(v.s=0;--_>=0;)v.data[_]=0;for(_=Math.max(w-this.t,0);_<p.t;++_)v.data[this.t+_-w]=this.am(w-_,p.data[_],v,0,0,this.t+_-w);v.clamp(),v.drShiftTo(1,v)},i.prototype.modInt=function(p){if(p<=0)return 0;var w=this.DV%p,v=this.s<0?p-1:0;if(this.t>0)if(w==0)v=this.data[0]%p;else for(var _=this.t-1;_>=0;--_)v=(w*v+this.data[_])%p;return v},i.prototype.millerRabin=function(p){var w=this.subtract(i.ONE),v=w.getLowestSetBit();if(v<=0)return!1;for(var _,C=w.shiftRight(v),L={nextBytes:function(H){for(var G=0;G<H.length;++G)H[G]=Math.floor(256*Math.random())}},O=0;O<p;++O){do _=new i(this.bitLength(),L);while(_.compareTo(i.ONE)<=0||_.compareTo(w)>=0);var U=_.modPow(C,this);if(U.compareTo(i.ONE)!=0&&U.compareTo(w)!=0){for(var q=1;q++<v&&U.compareTo(w)!=0;)if((U=U.modPowInt(2,this)).compareTo(i.ONE)==0)return!1;if(U.compareTo(w)!=0)return!1}}return!0},i.prototype.clone=function(){var p=f();return this.copyTo(p),p},i.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},i.prototype.byteValue=function(){return this.t==0?this.s:this.data[0]<<24>>24},i.prototype.shortValue=function(){return this.t==0?this.s:this.data[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1},i.prototype.toByteArray=function(){var p=this.t,w=new Array;w[0]=this.s;var v,_=this.DB-p*this.DB%8,C=0;if(p-- >0)for(_<this.DB&&(v=this.data[p]>>_)!=(this.s&this.DM)>>_&&(w[C++]=v|this.s<<this.DB-_);p>=0;)_<8?(v=(this.data[p]&(1<<_)-1)<<8-_,v|=this.data[--p]>>(_+=this.DB-8)):(v=this.data[p]>>(_-=8)&255,_<=0&&(_+=this.DB,--p)),(128&v)!=0&&(v|=-256),C==0&&(128&this.s)!=(128&v)&&++C,(C>0||v!=this.s)&&(w[C++]=v);return w},i.prototype.equals=function(p){return this.compareTo(p)==0},i.prototype.min=function(p){return this.compareTo(p)<0?this:p},i.prototype.max=function(p){return this.compareTo(p)>0?this:p},i.prototype.and=function(p){var w=f();return this.bitwiseTo(p,m,w),w},i.prototype.or=function(p){var w=f();return this.bitwiseTo(p,A,w),w},i.prototype.xor=function(p){var w=f();return this.bitwiseTo(p,B,w),w},i.prototype.andNot=function(p){var w=f();return this.bitwiseTo(p,k,w),w},i.prototype.not=function(){for(var p=f(),w=0;w<this.t;++w)p.data[w]=this.DM&~this.data[w];return p.t=this.t,p.s=~this.s,p},i.prototype.shiftLeft=function(p){var w=f();return p<0?this.rShiftTo(-p,w):this.lShiftTo(p,w),w},i.prototype.shiftRight=function(p){var w=f();return p<0?this.lShiftTo(-p,w):this.rShiftTo(p,w),w},i.prototype.getLowestSetBit=function(){for(var p=0;p<this.t;++p)if(this.data[p]!=0)return p*this.DB+T(this.data[p]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var p=0,w=this.s&this.DM,v=0;v<this.t;++v)p+=g(this.data[v]^w);return p},i.prototype.testBit=function(p){var w=Math.floor(p/this.DB);return w>=this.t?this.s!=0:(this.data[w]&1<<p%this.DB)!=0},i.prototype.setBit=function(p){return this.changeBit(p,A)},i.prototype.clearBit=function(p){return this.changeBit(p,k)},i.prototype.flipBit=function(p){return this.changeBit(p,B)},i.prototype.add=function(p){var w=f();return this.addTo(p,w),w},i.prototype.subtract=function(p){var w=f();return this.subTo(p,w),w},i.prototype.multiply=function(p){var w=f();return this.multiplyTo(p,w),w},i.prototype.divide=function(p){var w=f();return this.divRemTo(p,w,null),w},i.prototype.remainder=function(p){var w=f();return this.divRemTo(p,null,w),w},i.prototype.divideAndRemainder=function(p){var w=f(),v=f();return this.divRemTo(p,w,v),new Array(w,v)},i.prototype.modPow=function(p,w){var v,_,C=p.bitLength(),L=h(1);if(C<=0)return L;v=C<18?1:C<48?3:C<144?4:C<768?5:6,_=C<8?new d(w):w.isEven()?new S(w):new l(w);var O=new Array,U=3,q=v-1,H=(1<<v)-1;if(O[1]=_.convert(this),v>1){var G=f();for(_.sqrTo(O[1],G);U<=H;)O[U]=f(),_.mulTo(G,O[U-2],O[U]),U+=2}var K,Q,z=p.t-1,D=!0,F=f();for(C=u(p.data[z])-1;z>=0;){for(C>=q?K=p.data[z]>>C-q&H:(K=(p.data[z]&(1<<C+1)-1)<<q-C,z>0&&(K|=p.data[z-1]>>this.DB+C-q)),U=v;(1&K)==0;)K>>=1,--U;if((C-=U)<0&&(C+=this.DB,--z),D)O[K].copyTo(L),D=!1;else{for(;U>1;)_.sqrTo(L,F),_.sqrTo(F,L),U-=2;U>0?_.sqrTo(L,F):(Q=L,L=F,F=Q),_.mulTo(F,O[K],L)}for(;z>=0&&(p.data[z]&1<<C)==0;)_.sqrTo(L,F),Q=L,L=F,F=Q,--C<0&&(C=this.DB-1,--z)}return _.revert(L)},i.prototype.modInverse=function(p){var w=p.isEven();if(this.isEven()&&w||p.signum()==0)return i.ZERO;for(var v=p.clone(),_=this.clone(),C=h(1),L=h(0),O=h(0),U=h(1);v.signum()!=0;){for(;v.isEven();)v.rShiftTo(1,v),w?(C.isEven()&&L.isEven()||(C.addTo(this,C),L.subTo(p,L)),C.rShiftTo(1,C)):L.isEven()||L.subTo(p,L),L.rShiftTo(1,L);for(;_.isEven();)_.rShiftTo(1,_),w?(O.isEven()&&U.isEven()||(O.addTo(this,O),U.subTo(p,U)),O.rShiftTo(1,O)):U.isEven()||U.subTo(p,U),U.rShiftTo(1,U);v.compareTo(_)>=0?(v.subTo(_,v),w&&C.subTo(O,C),L.subTo(U,L)):(_.subTo(v,_),w&&O.subTo(C,O),U.subTo(L,U))}return _.compareTo(i.ONE)!=0?i.ZERO:U.compareTo(p)>=0?U.subtract(p):U.signum()<0?(U.addTo(p,U),U.signum()<0?U.add(p):U):U},i.prototype.pow=function(p){return this.exp(p,new E)},i.prototype.gcd=function(p){var w=this.s<0?this.negate():this.clone(),v=p.s<0?p.negate():p.clone();if(w.compareTo(v)<0){var _=w;w=v,v=_}var C=w.getLowestSetBit(),L=v.getLowestSetBit();if(L<0)return w;for(C<L&&(L=C),L>0&&(w.rShiftTo(L,w),v.rShiftTo(L,v));w.signum()>0;)(C=w.getLowestSetBit())>0&&w.rShiftTo(C,w),(C=v.getLowestSetBit())>0&&v.rShiftTo(C,v),w.compareTo(v)>=0?(w.subTo(v,w),w.rShiftTo(1,w)):(v.subTo(w,v),v.rShiftTo(1,v));return L>0&&v.lShiftTo(L,v),v},i.prototype.isProbablePrime=function(p){var w,v=this.abs();if(v.t==1&&v.data[0]<=M[M.length-1]){for(w=0;w<M.length;++w)if(v.data[0]==M[w])return!0;return!1}if(v.isEven())return!1;for(w=1;w<M.length;){for(var _=M[w],C=w+1;C<M.length&&_<y;)_*=M[C++];for(_=v.modInt(_);w<C;)if(_%M[w++]==0)return!1}return v.millerRabin(p)}},function(N,x,b){x.get=(s=self)=>{const r=s.crypto||s.msCrypto;if(!r||!r.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return r}},function(N,x,b){var s=b(26),r=b(17),i=r.getNAF,f=r.getJSF,c=r.assert;function t(o,e){this.type=o,this.p=new s(e.p,16),this.red=e.prime?s.red(e.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=e.n&&new s(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function a(o,e){this.curve=o,this.type=e,this.precomputed=null}N.exports=t,t.prototype.point=function(){throw new Error("Not implemented")},t.prototype.validate=function(){throw new Error("Not implemented")},t.prototype._fixedNafMul=function(o,e){c(o.precomputed);var n=o._getDoubles(),h=i(e,1,this._bitLength),u=(1<<n.step+1)-(n.step%2==0?2:1);u/=3;for(var d=[],l=0;l<h.length;l+=n.step){var m=0;for(e=l+n.step-1;e>=l;e--)m=(m<<1)+h[e];d.push(m)}for(var A=this.jpoint(null,null,null),B=this.jpoint(null,null,null),k=u;k>0;k--){for(l=0;l<d.length;l++)(m=d[l])===k?B=B.mixedAdd(n.points[l]):m===-k&&(B=B.mixedAdd(n.points[l].neg()));A=A.add(B)}return A.toP()},t.prototype._wnafMul=function(o,e){var n=4,h=o._getNAFPoints(n);n=h.wnd;for(var u=h.points,d=i(e,n,this._bitLength),l=this.jpoint(null,null,null),m=d.length-1;m>=0;m--){for(e=0;m>=0&&d[m]===0;m--)e++;if(m>=0&&e++,l=l.dblp(e),m<0)break;var A=d[m];c(A!==0),l=o.type==="affine"?A>0?l.mixedAdd(u[A-1>>1]):l.mixedAdd(u[-A-1>>1].neg()):A>0?l.add(u[A-1>>1]):l.add(u[-A-1>>1].neg())}return o.type==="affine"?l.toP():l},t.prototype._wnafMulAdd=function(o,e,n,h,u){for(var d=this._wnafT1,l=this._wnafT2,m=this._wnafT3,A=0,B=0;B<h;B++){var k=(L=e[B])._getNAFPoints(o);d[B]=k.wnd,l[B]=k.points}for(B=h-1;B>=1;B-=2){var T=B-1,g=B;if(d[T]===1&&d[g]===1){var E=[e[T],null,null,e[g]];e[T].y.cmp(e[g].y)===0?(E[1]=e[T].add(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg())):e[T].y.cmp(e[g].y.redNeg())===0?(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].add(e[g].neg())):(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],S=f(n[T],n[g]);A=Math.max(S[0].length,A),m[T]=new Array(A),m[g]=new Array(A);for(var M=0;M<A;M++){var y=0|S[0][M],p=0|S[1][M];m[T][M]=R[3*(y+1)+(p+1)],m[g][M]=0,l[T]=E}}else m[T]=i(n[T],d[T],this._bitLength),m[g]=i(n[g],d[g],this._bitLength),A=Math.max(m[T].length,A),A=Math.max(m[g].length,A)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(B=A;B>=0;B--){for(var _=0;B>=0;){var C=!0;for(M=0;M<h;M++)v[M]=0|m[M][B],v[M]!==0&&(C=!1);if(!C)break;_++,B--}if(B>=0&&_++,w=w.dblp(_),B<0)break;for(M=0;M<h;M++){var L,O=v[M];O!==0&&(O>0?L=l[M][O-1>>1]:O<0&&(L=l[M][-O-1>>1].neg()),w=L.type==="affine"?w.mixedAdd(L):w.add(L))}}for(B=0;B<h;B++)l[B]=null;return u?w:w.toP()},t.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(o,e){o=r.toArray(o,e);var n=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1==2*n)return o[0]===6?c(o[o.length-1]%2==0):o[0]===7&&c(o[o.length-1]%2==1),this.point(o.slice(1,1+n),o.slice(1+n,1+2*n));if((o[0]===2||o[0]===3)&&o.length-1===n)return this.pointFromX(o.slice(1,1+n),o[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(o){return this.encode(o,!0)},a.prototype._encode=function(o){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return o?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},a.prototype.encode=function(o,e){return r.encode(this._encode(e),o)},a.prototype.precompute=function(o){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,o),e.beta=this._getBeta(),this.precomputed=e,this},a.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((o.bitLength()+1)/e.step)},a.prototype._getDoubles=function(o,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],h=this,u=0;u<e;u+=o){for(var d=0;d<o;d++)h=h.dbl();n.push(h)}return{step:o,points:n}},a.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<o)-1,h=n===1?null:this.dbl(),u=1;u<n;u++)e[u]=e[u-1].add(h);return{wnd:o,points:e}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(o){for(var e=this,n=0;n<o;n++)e=e.dbl();return e}},function(N,x,b){typeof Object.create=="function"?N.exports=function(s,r){r&&(s.super_=r,s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:N.exports=function(s,r){if(r){s.super_=r;var i=function(){};i.prototype=r.prototype,s.prototype=new i,s.prototype.constructor=s}}},function(N,x,b){function s(f){if(typeof f=="number"){if(s.codes[f])return s.codes[f];throw new Error("no protocol with code: "+f)}if(typeof f=="string"||f instanceof String){if(s.names[f])return s.names[f];throw new Error("no protocol with name: "+f)}throw new Error("invalid protocol id type: "+f)}const r=-1;function i(f,c,t,a,o){return{code:f,size:c,name:t,resolvable:Boolean(a),path:Boolean(o)}}s.lengthPrefixedVarSize=r,s.V=r,s.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,r,"ip6zone"],[53,r,"dns","resolvable"],[54,r,"dns4","resolvable"],[55,r,"dns6","resolvable"],[56,r,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,r,"unix",!1,"path"],[421,r,"ipfs"],[421,r,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,r,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,r,"memory"]],s.names={},s.codes={},s.table.map(f=>{const c=i.apply(null,f);s.codes[c.code]=c,s.names[c.name]=c}),s.object=i,N.exports=s},function(N,x,b){const s=b(292),{hasOwnProperty:r}=Object.prototype,{propertyIsEnumerable:i}=Object,f=(n,h,u)=>Object.defineProperty(n,h,{value:u,writable:!0,enumerable:!0,configurable:!0}),c={concatArrays:!1,ignoreUndefined:!1},t=n=>{const h=[];for(const u in n)r.call(n,u)&&h.push(u);if(Object.getOwnPropertySymbols){const u=Object.getOwnPropertySymbols(n);for(const d of u)i.call(n,d)&&h.push(d)}return h};function a(n){return Array.isArray(n)?function(h){const u=h.slice(0,0);return t(h).forEach(d=>{f(u,d,a(h[d]))}),u}(n):s(n)?function(h){const u=Object.getPrototypeOf(h)===null?Object.create(null):{};return t(h).forEach(d=>{f(u,d,a(h[d]))}),u}(n):n}const o=(n,h,u,d)=>(u.forEach(l=>{h[l]===void 0&&d.ignoreUndefined||(l in n&&n[l]!==Object.getPrototypeOf(n)?f(n,l,e(n[l],h[l],d)):f(n,l,a(h[l])))}),n);function e(n,h,u){return u.concatArrays&&Array.isArray(n)&&Array.isArray(h)?((d,l,m)=>{let A=d.slice(0,0),B=0;return[d,l].forEach(k=>{const T=[];for(let g=0;g<k.length;g++)r.call(k,g)&&(T.push(String(g)),f(A,B++,k===d?k[g]:a(k[g])));A=o(A,k,t(k).filter(g=>!T.includes(g)),m)}),A})(n,h,u):s(h)&&s(n)?o(n,h,t(h),u):a(h)}N.exports=function(...n){const h=e(a(c),this!==void 0&&this||{},c);let u={_:{}};for(const d of n)if(d!==void 0){if(!s(d))throw new TypeError("`"+d+"` is not an Option Object");u=e(u,{_:d},h)}return u._}},function(N,x,b){N.exports={relay:"/libp2p/circuit/relay/0.1.0"}},function(N,x,b){const s=b(148),r=b(336),i=b(150);N.exports=f=>{const c=r(),t=s(f.source),a=i();let o;const e=f.sink(async function*(){yield*c;const n=await a.promise;yield*n}());return e.catch(n=>{o=n}),{reader:t,writer:c,stream:{sink:n=>o?Promise.reject(o):(a.resolve(n),e),source:t},rest:()=>c.end(),write:c.push,read:async()=>(await t.next()).value}}},function(N,x,b){const s=b(40),r=b(395),{names:i}=b(399),f=b(12),c=b(20),t=b(27),a={};for(const d in i)a[i[d]]=d;function o(d){if(!(d instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(d.length<2)throw new Error("multihash too short. must be > 2 bytes.");const l=r.decode(d);if(!h(l))throw new Error("multihash unknown function code: 0x"+l.toString(16));d=d.slice(r.decode.bytes);const m=r.decode(d);if(m<0)throw new Error("multihash invalid length: "+m);if((d=d.slice(r.decode.bytes)).length!==m)throw new Error("multihash length inconsistent: 0x"+f(d,"base16"));return{code:l,name:a[l],length:m,digest:d}}function e(d){let l=d;if(typeof d=="string"){if(i[d]===void 0)throw new Error("Unrecognized hash function named: "+d);l=i[d]}if(typeof l!="number")throw new Error("Hash function code should be a number. Got: "+l);if(a[l]===void 0&&!n(l))throw new Error("Unrecognized function code: "+l);return l}function n(d){return d>0&&d<16}function h(d){return!!n(d)||!!a[d]}function u(d){o(d)}N.exports={names:i,codes:Object.freeze(a),toHexString:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(d,"base16")},fromHexString:function(d){return c(d,"base16")},toB58String:function(d){if(!(d instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return f(s.encode("base58btc",d)).slice(1)},fromB58String:function(d){const l=d instanceof Uint8Array?f(d):d;return s.decode("z"+l)},decode:o,encode:function(d,l,m){if(!d||l===void 0)throw new Error("multihash encode requires at least two args: digest, code");const A=e(l);if(!(d instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(m==null&&(m=d.length),m&&d.length!==m)throw new Error("digest length should be equal to specified length.");const B=r.encode(A),k=r.encode(m);return t([B,k,d],B.length+k.length+d.length)},coerceCode:e,isAppCode:n,validate:u,prefix:function(d){return u(d),d.subarray(0,2)},isValidCode:h}},function(N,x,b){var s=b(410),r=b(414);N.exports=function(i,f){if(f||(f={}),!i)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var c=typeof i!="object"||i instanceof Uint8Array?s.parse(i):i,t=function(){var a=this;r(c,f.encodings||{}).forEach(function(o){a[o.name]=function(e){if(!e)return null;var n={};return Object.keys(e).forEach(function(h){n[h]=e[h].value}),n}(o.values)||o})};return t.prototype.toString=function(){return s.stringify(c)},t.prototype.toJSON=function(){return c},new t}},function(N,x,b){var s,r=b(2);N.exports=r.jsbn=r.jsbn||{};function i(p,w,v){this.data=[],p!=null&&(typeof p=="number"?this.fromNumber(p,w,v):w==null&&typeof p!="string"?this.fromString(p,256):this.fromString(p,w))}function f(){return new i(null)}function c(p,w,v,_,C,L){for(var O=16383&w,U=w>>14;--L>=0;){var q=16383&this.data[p],H=this.data[p++]>>14,G=U*q+H*O;C=((q=O*q+((16383&G)<<14)+v.data[_]+C)>>28)+(G>>14)+U*H,v.data[_++]=268435455&q}return C}r.jsbn.BigInteger=i,typeof navigator=="undefined"?(i.prototype.am=c,s=28):navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=function(p,w,v,_,C,L){for(var O=32767&w,U=w>>15;--L>=0;){var q=32767&this.data[p],H=this.data[p++]>>15,G=U*q+H*O;C=((q=O*q+((32767&G)<<15)+v.data[_]+(1073741823&C))>>>30)+(G>>>15)+U*H+(C>>>30),v.data[_++]=1073741823&q}return C},s=30):navigator.appName!="Netscape"?(i.prototype.am=function(p,w,v,_,C,L){for(;--L>=0;){var O=w*this.data[p++]+v.data[_]+C;C=Math.floor(O/67108864),v.data[_++]=67108863&O}return C},s=26):(i.prototype.am=c,s=28),i.prototype.DB=s,i.prototype.DM=(1<<s)-1,i.prototype.DV=1<<s,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-s,i.prototype.F2=2*s-52;var t,a,o=new Array;for(t="0".charCodeAt(0),a=0;a<=9;++a)o[t++]=a;for(t="a".charCodeAt(0),a=10;a<36;++a)o[t++]=a;for(t="A".charCodeAt(0),a=10;a<36;++a)o[t++]=a;function e(p){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(p)}function n(p,w){var v=o[p.charCodeAt(w)];return v??-1}function h(p){var w=f();return w.fromInt(p),w}function u(p){var w,v=1;return(w=p>>>16)!=0&&(p=w,v+=16),(w=p>>8)!=0&&(p=w,v+=8),(w=p>>4)!=0&&(p=w,v+=4),(w=p>>2)!=0&&(p=w,v+=2),(w=p>>1)!=0&&(p=w,v+=1),v}function d(p){this.m=p}function l(p){this.m=p,this.mp=p.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<p.DB-15)-1,this.mt2=2*p.t}function m(p,w){return p&w}function A(p,w){return p|w}function B(p,w){return p^w}function k(p,w){return p&~w}function T(p){if(p==0)return-1;var w=0;return(65535&p)==0&&(p>>=16,w+=16),(255&p)==0&&(p>>=8,w+=8),(15&p)==0&&(p>>=4,w+=4),(3&p)==0&&(p>>=2,w+=2),(1&p)==0&&++w,w}function g(p){for(var w=0;p!=0;)p&=p-1,++w;return w}function E(){}function R(p){return p}function S(p){this.r2=f(),this.q3=f(),i.ONE.dlShiftTo(2*p.t,this.r2),this.mu=this.r2.divide(p),this.m=p}d.prototype.convert=function(p){return p.s<0||p.compareTo(this.m)>=0?p.mod(this.m):p},d.prototype.revert=function(p){return p},d.prototype.reduce=function(p){p.divRemTo(this.m,null,p)},d.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},d.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},l.prototype.convert=function(p){var w=f();return p.abs().dlShiftTo(this.m.t,w),w.divRemTo(this.m,null,w),p.s<0&&w.compareTo(i.ZERO)>0&&this.m.subTo(w,w),w},l.prototype.revert=function(p){var w=f();return p.copyTo(w),this.reduce(w),w},l.prototype.reduce=function(p){for(;p.t<=this.mt2;)p.data[p.t++]=0;for(var w=0;w<this.m.t;++w){var v=32767&p.data[w],_=v*this.mpl+((v*this.mph+(p.data[w]>>15)*this.mpl&this.um)<<15)&p.DM;for(v=w+this.m.t,p.data[v]+=this.m.am(0,_,p,w,0,this.m.t);p.data[v]>=p.DV;)p.data[v]-=p.DV,p.data[++v]++}p.clamp(),p.drShiftTo(this.m.t,p),p.compareTo(this.m)>=0&&p.subTo(this.m,p)},l.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},l.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)},i.prototype.copyTo=function(p){for(var w=this.t-1;w>=0;--w)p.data[w]=this.data[w];p.t=this.t,p.s=this.s},i.prototype.fromInt=function(p){this.t=1,this.s=p<0?-1:0,p>0?this.data[0]=p:p<-1?this.data[0]=p+this.DV:this.t=0},i.prototype.fromString=function(p,w){var v;if(w==16)v=4;else if(w==8)v=3;else if(w==256)v=8;else if(w==2)v=1;else if(w==32)v=5;else{if(w!=4)return void this.fromRadix(p,w);v=2}this.t=0,this.s=0;for(var _=p.length,C=!1,L=0;--_>=0;){var O=v==8?255&p[_]:n(p,_);O<0?p.charAt(_)=="-"&&(C=!0):(C=!1,L==0?this.data[this.t++]=O:L+v>this.DB?(this.data[this.t-1]|=(O&(1<<this.DB-L)-1)<<L,this.data[this.t++]=O>>this.DB-L):this.data[this.t-1]|=O<<L,(L+=v)>=this.DB&&(L-=this.DB))}v==8&&(128&p[0])!=0&&(this.s=-1,L>0&&(this.data[this.t-1]|=(1<<this.DB-L)-1<<L)),this.clamp(),C&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var p=this.s&this.DM;this.t>0&&this.data[this.t-1]==p;)--this.t},i.prototype.dlShiftTo=function(p,w){var v;for(v=this.t-1;v>=0;--v)w.data[v+p]=this.data[v];for(v=p-1;v>=0;--v)w.data[v]=0;w.t=this.t+p,w.s=this.s},i.prototype.drShiftTo=function(p,w){for(var v=p;v<this.t;++v)w.data[v-p]=this.data[v];w.t=Math.max(this.t-p,0),w.s=this.s},i.prototype.lShiftTo=function(p,w){var v,_=p%this.DB,C=this.DB-_,L=(1<<C)-1,O=Math.floor(p/this.DB),U=this.s<<_&this.DM;for(v=this.t-1;v>=0;--v)w.data[v+O+1]=this.data[v]>>C|U,U=(this.data[v]&L)<<_;for(v=O-1;v>=0;--v)w.data[v]=0;w.data[O]=U,w.t=this.t+O+1,w.s=this.s,w.clamp()},i.prototype.rShiftTo=function(p,w){w.s=this.s;var v=Math.floor(p/this.DB);if(v>=this.t)w.t=0;else{var _=p%this.DB,C=this.DB-_,L=(1<<_)-1;w.data[0]=this.data[v]>>_;for(var O=v+1;O<this.t;++O)w.data[O-v-1]|=(this.data[O]&L)<<C,w.data[O-v]=this.data[O]>>_;_>0&&(w.data[this.t-v-1]|=(this.s&L)<<C),w.t=this.t-v,w.clamp()}},i.prototype.subTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]-p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_-=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_-=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_-=p.s}w.s=_<0?-1:0,_<-1?w.data[v++]=this.DV+_:_>0&&(w.data[v++]=_),w.t=v,w.clamp()},i.prototype.multiplyTo=function(p,w){var v=this.abs(),_=p.abs(),C=v.t;for(w.t=C+_.t;--C>=0;)w.data[C]=0;for(C=0;C<_.t;++C)w.data[C+v.t]=v.am(0,_.data[C],w,C,0,v.t);w.s=0,w.clamp(),this.s!=p.s&&i.ZERO.subTo(w,w)},i.prototype.squareTo=function(p){for(var w=this.abs(),v=p.t=2*w.t;--v>=0;)p.data[v]=0;for(v=0;v<w.t-1;++v){var _=w.am(v,w.data[v],p,2*v,0,1);(p.data[v+w.t]+=w.am(v+1,2*w.data[v],p,2*v+1,_,w.t-v-1))>=w.DV&&(p.data[v+w.t]-=w.DV,p.data[v+w.t+1]=1)}p.t>0&&(p.data[p.t-1]+=w.am(v,w.data[v],p,2*v,0,1)),p.s=0,p.clamp()},i.prototype.divRemTo=function(p,w,v){var _=p.abs();if(!(_.t<=0)){var C=this.abs();if(C.t<_.t)return w!=null&&w.fromInt(0),void(v!=null&&this.copyTo(v));v==null&&(v=f());var L=f(),O=this.s,U=p.s,q=this.DB-u(_.data[_.t-1]);q>0?(_.lShiftTo(q,L),C.lShiftTo(q,v)):(_.copyTo(L),C.copyTo(v));var H=L.t,G=L.data[H-1];if(G!=0){var K=G*(1<<this.F1)+(H>1?L.data[H-2]>>this.F2:0),Q=this.FV/K,z=(1<<this.F1)/K,D=1<<this.F2,F=v.t,I=F-H,P=w??f();for(L.dlShiftTo(I,P),v.compareTo(P)>=0&&(v.data[v.t++]=1,v.subTo(P,v)),i.ONE.dlShiftTo(H,P),P.subTo(L,L);L.t<H;)L.data[L.t++]=0;for(;--I>=0;){var V=v.data[--F]==G?this.DM:Math.floor(v.data[F]*Q+(v.data[F-1]+D)*z);if((v.data[F]+=L.am(0,V,v,I,0,H))<V)for(L.dlShiftTo(I,P),v.subTo(P,v);v.data[F]<--V;)v.subTo(P,v)}w!=null&&(v.drShiftTo(H,w),O!=U&&i.ZERO.subTo(w,w)),v.t=H,v.clamp(),q>0&&v.rShiftTo(q,v),O<0&&i.ZERO.subTo(v,v)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var p=this.data[0];if((1&p)==0)return 0;var w=3&p;return(w=(w=(w=(w=w*(2-(15&p)*w)&15)*(2-(255&p)*w)&255)*(2-((65535&p)*w&65535))&65535)*(2-p*w%this.DV)%this.DV)>0?this.DV-w:-w},i.prototype.isEven=function(){return(this.t>0?1&this.data[0]:this.s)==0},i.prototype.exp=function(p,w){if(p>4294967295||p<1)return i.ONE;var v=f(),_=f(),C=w.convert(this),L=u(p)-1;for(C.copyTo(v);--L>=0;)if(w.sqrTo(v,_),(p&1<<L)>0)w.mulTo(_,C,v);else{var O=v;v=_,_=O}return w.revert(v)},i.prototype.toString=function(p){if(this.s<0)return"-"+this.negate().toString(p);var w;if(p==16)w=4;else if(p==8)w=3;else if(p==2)w=1;else if(p==32)w=5;else{if(p!=4)return this.toRadix(p);w=2}var v,_=(1<<w)-1,C=!1,L="",O=this.t,U=this.DB-O*this.DB%w;if(O-- >0)for(U<this.DB&&(v=this.data[O]>>U)>0&&(C=!0,L=e(v));O>=0;)U<w?(v=(this.data[O]&(1<<U)-1)<<w-U,v|=this.data[--O]>>(U+=this.DB-w)):(v=this.data[O]>>(U-=w)&_,U<=0&&(U+=this.DB,--O)),v>0&&(C=!0),C&&(L+=e(v));return C?L:"0"},i.prototype.negate=function(){var p=f();return i.ZERO.subTo(this,p),p},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(p){var w=this.s-p.s;if(w!=0)return w;var v=this.t;if((w=v-p.t)!=0)return this.s<0?-w:w;for(;--v>=0;)if((w=this.data[v]-p.data[v])!=0)return w;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this.data[this.t-1]^this.s&this.DM)},i.prototype.mod=function(p){var w=f();return this.abs().divRemTo(p,null,w),this.s<0&&w.compareTo(i.ZERO)>0&&p.subTo(w,w),w},i.prototype.modPowInt=function(p,w){var v;return v=p<256||w.isEven()?new d(w):new l(w),this.exp(p,v)},i.ZERO=h(0),i.ONE=h(1),E.prototype.convert=R,E.prototype.revert=R,E.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v)},E.prototype.sqrTo=function(p,w){p.squareTo(w)},S.prototype.convert=function(p){if(p.s<0||p.t>2*this.m.t)return p.mod(this.m);if(p.compareTo(this.m)<0)return p;var w=f();return p.copyTo(w),this.reduce(w),w},S.prototype.revert=function(p){return p},S.prototype.reduce=function(p){for(p.drShiftTo(this.m.t-1,this.r2),p.t>this.m.t+1&&(p.t=this.m.t+1,p.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);p.compareTo(this.r2)<0;)p.dAddOffset(1,this.m.t+1);for(p.subTo(this.r2,p);p.compareTo(this.m)>=0;)p.subTo(this.m,p)},S.prototype.mulTo=function(p,w,v){p.multiplyTo(w,v),this.reduce(v)},S.prototype.sqrTo=function(p,w){p.squareTo(w),this.reduce(w)};var M=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],y=(1<<26)/M[M.length-1];i.prototype.chunkSize=function(p){return Math.floor(Math.LN2*this.DB/Math.log(p))},i.prototype.toRadix=function(p){if(p==null&&(p=10),this.signum()==0||p<2||p>36)return"0";var w=this.chunkSize(p),v=Math.pow(p,w),_=h(v),C=f(),L=f(),O="";for(this.divRemTo(_,C,L);C.signum()>0;)O=(v+L.intValue()).toString(p).substr(1)+O,C.divRemTo(_,C,L);return L.intValue().toString(p)+O},i.prototype.fromRadix=function(p,w){this.fromInt(0),w==null&&(w=10);for(var v=this.chunkSize(w),_=Math.pow(w,v),C=!1,L=0,O=0,U=0;U<p.length;++U){var q=n(p,U);q<0?p.charAt(U)=="-"&&this.signum()==0&&(C=!0):(O=w*O+q,++L>=v&&(this.dMultiply(_),this.dAddOffset(O,0),L=0,O=0))}L>0&&(this.dMultiply(Math.pow(w,L)),this.dAddOffset(O,0)),C&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(p,w,v){if(typeof w=="number")if(p<2)this.fromInt(1);else for(this.fromNumber(p,v),this.testBit(p-1)||this.bitwiseTo(i.ONE.shiftLeft(p-1),A,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(w);)this.dAddOffset(2,0),this.bitLength()>p&&this.subTo(i.ONE.shiftLeft(p-1),this);else{var _=new Array,C=7&p;_.length=1+(p>>3),w.nextBytes(_),C>0?_[0]&=(1<<C)-1:_[0]=0,this.fromString(_,256)}},i.prototype.bitwiseTo=function(p,w,v){var _,C,L=Math.min(p.t,this.t);for(_=0;_<L;++_)v.data[_]=w(this.data[_],p.data[_]);if(p.t<this.t){for(C=p.s&this.DM,_=L;_<this.t;++_)v.data[_]=w(this.data[_],C);v.t=this.t}else{for(C=this.s&this.DM,_=L;_<p.t;++_)v.data[_]=w(C,p.data[_]);v.t=p.t}v.s=w(this.s,p.s),v.clamp()},i.prototype.changeBit=function(p,w){var v=i.ONE.shiftLeft(p);return this.bitwiseTo(v,w,v),v},i.prototype.addTo=function(p,w){for(var v=0,_=0,C=Math.min(p.t,this.t);v<C;)_+=this.data[v]+p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;if(p.t<this.t){for(_+=p.s;v<this.t;)_+=this.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=this.s}else{for(_+=this.s;v<p.t;)_+=p.data[v],w.data[v++]=_&this.DM,_>>=this.DB;_+=p.s}w.s=_<0?-1:0,_>0?w.data[v++]=_:_<-1&&(w.data[v++]=this.DV+_),w.t=v,w.clamp()},i.prototype.dMultiply=function(p){this.data[this.t]=this.am(0,p-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(p,w){if(p!=0){for(;this.t<=w;)this.data[this.t++]=0;for(this.data[w]+=p;this.data[w]>=this.DV;)this.data[w]-=this.DV,++w>=this.t&&(this.data[this.t++]=0),++this.data[w]}},i.prototype.multiplyLowerTo=function(p,w,v){var _,C=Math.min(this.t+p.t,w);for(v.s=0,v.t=C;C>0;)v.data[--C]=0;for(_=v.t-this.t;C<_;++C)v.data[C+this.t]=this.am(0,p.data[C],v,C,0,this.t);for(_=Math.min(p.t,w);C<_;++C)this.am(0,p.data[C],v,C,0,w-C);v.clamp()},i.prototype.multiplyUpperTo=function(p,w,v){--w;var _=v.t=this.t+p.t-w;for(v.s=0;--_>=0;)v.data[_]=0;for(_=Math.max(w-this.t,0);_<p.t;++_)v.data[this.t+_-w]=this.am(w-_,p.data[_],v,0,0,this.t+_-w);v.clamp(),v.drShiftTo(1,v)},i.prototype.modInt=function(p){if(p<=0)return 0;var w=this.DV%p,v=this.s<0?p-1:0;if(this.t>0)if(w==0)v=this.data[0]%p;else for(var _=this.t-1;_>=0;--_)v=(w*v+this.data[_])%p;return v},i.prototype.millerRabin=function(p){var w=this.subtract(i.ONE),v=w.getLowestSetBit();if(v<=0)return!1;for(var _,C=w.shiftRight(v),L={nextBytes:function(H){for(var G=0;G<H.length;++G)H[G]=Math.floor(256*Math.random())}},O=0;O<p;++O){do _=new i(this.bitLength(),L);while(_.compareTo(i.ONE)<=0||_.compareTo(w)>=0);var U=_.modPow(C,this);if(U.compareTo(i.ONE)!=0&&U.compareTo(w)!=0){for(var q=1;q++<v&&U.compareTo(w)!=0;)if((U=U.modPowInt(2,this)).compareTo(i.ONE)==0)return!1;if(U.compareTo(w)!=0)return!1}}return!0},i.prototype.clone=function(){var p=f();return this.copyTo(p),p},i.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},i.prototype.byteValue=function(){return this.t==0?this.s:this.data[0]<<24>>24},i.prototype.shortValue=function(){return this.t==0?this.s:this.data[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1},i.prototype.toByteArray=function(){var p=this.t,w=new Array;w[0]=this.s;var v,_=this.DB-p*this.DB%8,C=0;if(p-- >0)for(_<this.DB&&(v=this.data[p]>>_)!=(this.s&this.DM)>>_&&(w[C++]=v|this.s<<this.DB-_);p>=0;)_<8?(v=(this.data[p]&(1<<_)-1)<<8-_,v|=this.data[--p]>>(_+=this.DB-8)):(v=this.data[p]>>(_-=8)&255,_<=0&&(_+=this.DB,--p)),(128&v)!=0&&(v|=-256),C==0&&(128&this.s)!=(128&v)&&++C,(C>0||v!=this.s)&&(w[C++]=v);return w},i.prototype.equals=function(p){return this.compareTo(p)==0},i.prototype.min=function(p){return this.compareTo(p)<0?this:p},i.prototype.max=function(p){return this.compareTo(p)>0?this:p},i.prototype.and=function(p){var w=f();return this.bitwiseTo(p,m,w),w},i.prototype.or=function(p){var w=f();return this.bitwiseTo(p,A,w),w},i.prototype.xor=function(p){var w=f();return this.bitwiseTo(p,B,w),w},i.prototype.andNot=function(p){var w=f();return this.bitwiseTo(p,k,w),w},i.prototype.not=function(){for(var p=f(),w=0;w<this.t;++w)p.data[w]=this.DM&~this.data[w];return p.t=this.t,p.s=~this.s,p},i.prototype.shiftLeft=function(p){var w=f();return p<0?this.rShiftTo(-p,w):this.lShiftTo(p,w),w},i.prototype.shiftRight=function(p){var w=f();return p<0?this.lShiftTo(-p,w):this.rShiftTo(p,w),w},i.prototype.getLowestSetBit=function(){for(var p=0;p<this.t;++p)if(this.data[p]!=0)return p*this.DB+T(this.data[p]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var p=0,w=this.s&this.DM,v=0;v<this.t;++v)p+=g(this.data[v]^w);return p},i.prototype.testBit=function(p){var w=Math.floor(p/this.DB);return w>=this.t?this.s!=0:(this.data[w]&1<<p%this.DB)!=0},i.prototype.setBit=function(p){return this.changeBit(p,A)},i.prototype.clearBit=function(p){return this.changeBit(p,k)},i.prototype.flipBit=function(p){return this.changeBit(p,B)},i.prototype.add=function(p){var w=f();return this.addTo(p,w),w},i.prototype.subtract=function(p){var w=f();return this.subTo(p,w),w},i.prototype.multiply=function(p){var w=f();return this.multiplyTo(p,w),w},i.prototype.divide=function(p){var w=f();return this.divRemTo(p,w,null),w},i.prototype.remainder=function(p){var w=f();return this.divRemTo(p,null,w),w},i.prototype.divideAndRemainder=function(p){var w=f(),v=f();return this.divRemTo(p,w,v),new Array(w,v)},i.prototype.modPow=function(p,w){var v,_,C=p.bitLength(),L=h(1);if(C<=0)return L;v=C<18?1:C<48?3:C<144?4:C<768?5:6,_=C<8?new d(w):w.isEven()?new S(w):new l(w);var O=new Array,U=3,q=v-1,H=(1<<v)-1;if(O[1]=_.convert(this),v>1){var G=f();for(_.sqrTo(O[1],G);U<=H;)O[U]=f(),_.mulTo(G,O[U-2],O[U]),U+=2}var K,Q,z=p.t-1,D=!0,F=f();for(C=u(p.data[z])-1;z>=0;){for(C>=q?K=p.data[z]>>C-q&H:(K=(p.data[z]&(1<<C+1)-1)<<q-C,z>0&&(K|=p.data[z-1]>>this.DB+C-q)),U=v;(1&K)==0;)K>>=1,--U;if((C-=U)<0&&(C+=this.DB,--z),D)O[K].copyTo(L),D=!1;else{for(;U>1;)_.sqrTo(L,F),_.sqrTo(F,L),U-=2;U>0?_.sqrTo(L,F):(Q=L,L=F,F=Q),_.mulTo(F,O[K],L)}for(;z>=0&&(p.data[z]&1<<C)==0;)_.sqrTo(L,F),Q=L,L=F,F=Q,--C<0&&(C=this.DB-1,--z)}return _.revert(L)},i.prototype.modInverse=function(p){var w=p.isEven();if(this.isEven()&&w||p.signum()==0)return i.ZERO;for(var v=p.clone(),_=this.clone(),C=h(1),L=h(0),O=h(0),U=h(1);v.signum()!=0;){for(;v.isEven();)v.rShiftTo(1,v),w?(C.isEven()&&L.isEven()||(C.addTo(this,C),L.subTo(p,L)),C.rShiftTo(1,C)):L.isEven()||L.subTo(p,L),L.rShiftTo(1,L);for(;_.isEven();)_.rShiftTo(1,_),w?(O.isEven()&&U.isEven()||(O.addTo(this,O),U.subTo(p,U)),O.rShiftTo(1,O)):U.isEven()||U.subTo(p,U),U.rShiftTo(1,U);v.compareTo(_)>=0?(v.subTo(_,v),w&&C.subTo(O,C),L.subTo(U,L)):(_.subTo(v,_),w&&O.subTo(C,O),U.subTo(L,U))}return _.compareTo(i.ONE)!=0?i.ZERO:U.compareTo(p)>=0?U.subtract(p):U.signum()<0?(U.addTo(p,U),U.signum()<0?U.add(p):U):U},i.prototype.pow=function(p){return this.exp(p,new E)},i.prototype.gcd=function(p){var w=this.s<0?this.negate():this.clone(),v=p.s<0?p.negate():p.clone();if(w.compareTo(v)<0){var _=w;w=v,v=_}var C=w.getLowestSetBit(),L=v.getLowestSetBit();if(L<0)return w;for(C<L&&(L=C),L>0&&(w.rShiftTo(L,w),v.rShiftTo(L,v));w.signum()>0;)(C=w.getLowestSetBit())>0&&w.rShiftTo(C,w),(C=v.getLowestSetBit())>0&&v.rShiftTo(C,v),w.compareTo(v)>=0?(w.subTo(v,w),w.rShiftTo(1,w)):(v.subTo(w,v),v.rShiftTo(1,v));return L>0&&v.lShiftTo(L,v),v},i.prototype.isProbablePrime=function(p){var w,v=this.abs();if(v.t==1&&v.data[0]<=M[M.length-1]){for(w=0;w<M.length;++w)if(v.data[0]==M[w])return!0;return!1}if(v.isEven())return!1;for(w=1;w<M.length;){for(var _=M[w],C=w+1;C<M.length&&_<y;)_*=M[C++];for(_=v.modInt(_);w<C;)if(_%M[w++]==0)return!1}return v.millerRabin(p)}},function(N,x,b){x.get=(s=self)=>{const r=s.crypto||s.msCrypto;if(!r||!r.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return r}},function(N,x,b){const s=b(66),r=self.crypto||self.msCrypto,i=async(f,c)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(c){case"sha1":return new Uint8Array(await r.subtle.digest({name:"SHA-1"},f));case"sha2-256":return new Uint8Array(await r.subtle.digest({name:"SHA-256"},f));case"sha2-512":return new Uint8Array(await r.subtle.digest({name:"SHA-512"},f));case"dbl-sha2-256":{const t=await r.subtle.digest({name:"SHA-256"},f);return new Uint8Array(await r.subtle.digest({name:"SHA-256"},t))}default:throw new Error(c+" is not a supported algorithm")}};N.exports={factory:f=>async c=>i(c,f),digest:i,multihashing:async(f,c,t)=>{const a=await i(f,c);return s.encode(a,c,t)}}},function(N,x,b){var s=b(28),r=b(18),i=r.getNAF,f=r.getJSF,c=r.assert;function t(o,e){this.type=o,this.p=new s(e.p,16),this.red=e.prime?s.red(e.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=e.n&&new s(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function a(o,e){this.curve=o,this.type=e,this.precomputed=null}N.exports=t,t.prototype.point=function(){throw new Error("Not implemented")},t.prototype.validate=function(){throw new Error("Not implemented")},t.prototype._fixedNafMul=function(o,e){c(o.precomputed);var n=o._getDoubles(),h=i(e,1,this._bitLength),u=(1<<n.step+1)-(n.step%2==0?2:1);u/=3;for(var d=[],l=0;l<h.length;l+=n.step){var m=0;for(e=l+n.step-1;e>=l;e--)m=(m<<1)+h[e];d.push(m)}for(var A=this.jpoint(null,null,null),B=this.jpoint(null,null,null),k=u;k>0;k--){for(l=0;l<d.length;l++)(m=d[l])===k?B=B.mixedAdd(n.points[l]):m===-k&&(B=B.mixedAdd(n.points[l].neg()));A=A.add(B)}return A.toP()},t.prototype._wnafMul=function(o,e){var n=4,h=o._getNAFPoints(n);n=h.wnd;for(var u=h.points,d=i(e,n,this._bitLength),l=this.jpoint(null,null,null),m=d.length-1;m>=0;m--){for(e=0;m>=0&&d[m]===0;m--)e++;if(m>=0&&e++,l=l.dblp(e),m<0)break;var A=d[m];c(A!==0),l=o.type==="affine"?A>0?l.mixedAdd(u[A-1>>1]):l.mixedAdd(u[-A-1>>1].neg()):A>0?l.add(u[A-1>>1]):l.add(u[-A-1>>1].neg())}return o.type==="affine"?l.toP():l},t.prototype._wnafMulAdd=function(o,e,n,h,u){for(var d=this._wnafT1,l=this._wnafT2,m=this._wnafT3,A=0,B=0;B<h;B++){var k=(L=e[B])._getNAFPoints(o);d[B]=k.wnd,l[B]=k.points}for(B=h-1;B>=1;B-=2){var T=B-1,g=B;if(d[T]===1&&d[g]===1){var E=[e[T],null,null,e[g]];e[T].y.cmp(e[g].y)===0?(E[1]=e[T].add(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg())):e[T].y.cmp(e[g].y.redNeg())===0?(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].add(e[g].neg())):(E[1]=e[T].toJ().mixedAdd(e[g]),E[2]=e[T].toJ().mixedAdd(e[g].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],S=f(n[T],n[g]);A=Math.max(S[0].length,A),m[T]=new Array(A),m[g]=new Array(A);for(var M=0;M<A;M++){var y=0|S[0][M],p=0|S[1][M];m[T][M]=R[3*(y+1)+(p+1)],m[g][M]=0,l[T]=E}}else m[T]=i(n[T],d[T],this._bitLength),m[g]=i(n[g],d[g],this._bitLength),A=Math.max(m[T].length,A),A=Math.max(m[g].length,A)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(B=A;B>=0;B--){for(var _=0;B>=0;){var C=!0;for(M=0;M<h;M++)v[M]=0|m[M][B],v[M]!==0&&(C=!1);if(!C)break;_++,B--}if(B>=0&&_++,w=w.dblp(_),B<0)break;for(M=0;M<h;M++){var L,O=v[M];O!==0&&(O>0?L=l[M][O-1>>1]:O<0&&(L=l[M][-O-1>>1].neg()),w=L.type==="affine"?w.mixedAdd(L):w.add(L))}}for(B=0;B<h;B++)l[B]=null;return u?w:w.toP()},t.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(o,e){o=r.toArray(o,e);var n=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1==2*n)return o[0]===6?c(o[o.length-1]%2==0):o[0]===7&&c(o[o.length-1]%2==1),this.point(o.slice(1,1+n),o.slice(1+n,1+2*n));if((o[0]===2||o[0]===3)&&o.length-1===n)return this.pointFromX(o.slice(1,1+n),o[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(o){return this.encode(o,!0)},a.prototype._encode=function(o){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return o?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},a.prototype.encode=function(o,e){return r.encode(this._encode(e),o)},a.prototype.precompute=function(o){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,o),e.beta=this._getBeta(),this.precomputed=e,this},a.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((o.bitLength()+1)/e.step)},a.prototype._getDoubles=function(o,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],h=this,u=0;u<e;u+=o){for(var d=0;d<o;d++)h=h.dbl();n.push(h)}return{step:o,points:n}},a.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<o)-1,h=n===1?null:this.dbl(),u=1;u<n;u++)e[u]=e[u-1].add(h);return{wnd:o,points:e}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(o){for(var e=this,n=0;n<o;n++)e=e.dbl();return e}},function(N,x,b){typeof Object.create=="function"?N.exports=function(s,r){r&&(s.super_=r,s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:N.exports=function(s,r){if(r){s.super_=r;var i=function(){};i.prototype=r.prototype,s.prototype=new i,s.prototype.constructor=s}}},function(N,x,b){const s=b(1),r=b(9),{codes:{ERR_INVALID_PARAMETERS:i}}=b(10),f=c=>c;N.exports=class{constructor({peerStore:c,eventName:t,eventProperty:a,eventTransformer:o=f}){this._ps=c,this.eventName=t,this.eventProperty=a,this.eventTransformer=o,this.data=new Map}set(c,t){throw s(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(c,t,{emit:a=!0}={}){const o=c.toB58String();this.data.set(o,t),a&&this._emit(c,t)}_emit(c,t){this._ps.emit(this.eventName,{peerId:c,[this.eventProperty]:this.eventTransformer(t)})}get(c){if(!r.isPeerId(c))throw s(new Error("peerId must be an instance of peer-id"),i);const t=this.data.get(c.toB58String());return t?[...t]:void 0}delete(c){if(!r.isPeerId(c))throw s(new Error("peerId must be an instance of peer-id"),i);return!!this.data.delete(c.toB58String())&&(this._emit(c,[]),!0)}}},function(N,x,b){const s=b(187),r=b(188),{rfc4648:i}=b(189),{decodeText:f,encodeText:c}=b(75),t=[["identity","\0",()=>({encode:f,decode:c}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",s,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",s,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",s,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",s,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",s,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],a=t.reduce((e,n)=>(e[n[0]]=new r(n[0],n[1],n[2],n[3]),e),{}),o=t.reduce((e,n)=>(e[n[1]]=a[n[0]],e),{});N.exports={names:a,codes:o}},function(N,x,b){const{TextEncoder:s,TextDecoder:r}=b(76),i=new r,f=new s;N.exports={decodeText:c=>i.decode(c),encodeText:c=>f.encode(c),concat:function(c,t){const a=new Uint8Array(t);let o=0;for(const e of c)a.set(e,o),o+=e.length;return a}}},function(N,x,b){x.TextEncoder=TextEncoder,x.TextDecoder=TextDecoder},function(N,x,b){const s=b(22)(b(79));b(29),b(118);const r=b(0),i=b(1),f=b(7),c=b(239);x=N.exports;const t={rsa:b(240),ed25519:b(246),secp256k1:b(248)(s,b(84))};x.supportedKeys=t,x.keysPBM=s;const a="secp256k1 support requires libp2p-crypto-secp256k1 package",o="ERR_MISSING_PACKAGE";function e(n){const h=t[n.toLowerCase()];if(!h){const u=Object.keys(t).join(" / ");throw i(new Error(`invalid or unsupported key type ${n}. Must be ${u}`),"ERR_UNSUPPORTED_KEY_TYPE")}return h}x.keyStretcher=b(274),x.generateEphemeralKeyPair=b(276),x.generateKeyPair=async(n,h)=>e(n).generateKeyPair(h),x.generateKeyPairFromSeed=async(n,h,u)=>{const d=e(n);if(n.toLowerCase()!=="ed25519")throw i(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return d.generateKeyPairFromSeed(h,u)},x.unmarshalPublicKey=n=>{const h=s.PublicKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPublicKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PublicKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PublicKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPublicKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.unmarshalPrivateKey=async n=>{const h=s.PrivateKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPrivateKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PrivateKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PrivateKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPrivateKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.import=async(n,h)=>{try{const l=await c.import(n,h);return x.unmarshalPrivateKey(l)}catch(l){}const u=r.pki.decryptRsaPrivateKey(n,h);if(u===null)throw i(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let d=r.asn1.toDer(r.pki.privateKeyToAsn1(u));return d=f(d.getBytes(),"ascii"),t.rsa.unmarshalRsaPrivateKey(d)}},function(N,x,b){x.defined=function(s){return s!=null&&(typeof s!="number"||!isNaN(s))}},function(N,x,b){N.exports=`enum KeyType {
  RSA = 0;
  Ed25519 = 1;
  Secp256k1 = 2;
}
message PublicKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}
message PrivateKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}`},function(N,x,b){var s=b(0);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.des.Algorithm(d,l)})}b(119),b(120),b(4),N.exports=s.des=s.des||{},s.des.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.des.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.des.Algorithm=function(d,l){var m=this;m.name=d,m.mode=new l({blockSize:8,cipher:{encrypt:function(A,B){return h(m._keys,A,B,!1)},decrypt:function(A,B){return h(m._keys,A,B,!0)}}}),m._init=!1},s.des.Algorithm.prototype.initialize=function(d){if(!this._init){var l=s.util.createBuffer(d.key);if(this.name.indexOf("3DES")===0&&l.length()!==24)throw new Error("Invalid Triple-DES key size: "+8*l.length());this._keys=function(m){for(var A,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],k=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],T=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],g=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],E=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],R=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],S=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],M=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],y=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],w=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],v=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],_=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],C=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],L=m.length()>8?3:1,O=[],U=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],q=0,H=0;H<L;H++){var G=m.getInt32(),K=m.getInt32();G^=(A=252645135&(G>>>4^K))<<4,G^=A=65535&((K^=A)>>>-16^G),G^=(A=858993459&(G>>>2^(K^=A<<-16)))<<2,G^=A=65535&((K^=A)>>>-16^G),G^=(A=1431655765&(G>>>1^(K^=A<<-16)))<<1,G^=A=16711935&((K^=A)>>>8^G),A=(G^=(A=1431655765&(G>>>1^(K^=A<<8)))<<1)<<8|(K^=A)>>>20&240,G=K<<24|K<<8&16711680|K>>>8&65280|K>>>24&240,K=A;for(var Q=0;Q<U.length;++Q){U[Q]?(G=G<<2|G>>>26,K=K<<2|K>>>26):(G=G<<1|G>>>27,K=K<<1|K>>>27);var z=B[(G&=-15)>>>28]|k[G>>>24&15]|T[G>>>20&15]|g[G>>>16&15]|E[G>>>12&15]|R[G>>>8&15]|S[G>>>4&15],D=M[(K&=-15)>>>28]|y[K>>>24&15]|p[K>>>20&15]|w[K>>>16&15]|v[K>>>12&15]|_[K>>>8&15]|C[K>>>4&15];A=65535&(D>>>16^z),O[q++]=z^A,O[q++]=D^A<<16}}return O}(l),this._init=!0}},r("DES-ECB",s.cipher.modes.ecb),r("DES-CBC",s.cipher.modes.cbc),r("DES-CFB",s.cipher.modes.cfb),r("DES-OFB",s.cipher.modes.ofb),r("DES-CTR",s.cipher.modes.ctr),r("3DES-ECB",s.cipher.modes.ecb),r("3DES-CBC",s.cipher.modes.cbc),r("3DES-CFB",s.cipher.modes.cfb),r("3DES-OFB",s.cipher.modes.ofb),r("3DES-CTR",s.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],t=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],a=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],n=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(d,l,m,A){var B,k,T=d.length===32?3:9;B=T===3?A?[30,-2,-2]:[0,32,2]:A?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=l[0],E=l[1];g^=(k=252645135&(g>>>4^E))<<4,g^=(k=65535&(g>>>16^(E^=k)))<<16,g^=k=858993459&((E^=k)>>>2^g),g^=k=16711935&((E^=k<<2)>>>8^g),g=(g^=(k=1431655765&(g>>>1^(E^=k<<8)))<<1)<<1|g>>>31,E=(E^=k)<<1|E>>>31;for(var R=0;R<T;R+=3){for(var S=B[R+1],M=B[R+2],y=B[R];y!=S;y+=M){var p=E^d[y],w=(E>>>4|E<<28)^d[y+1];k=g,g=E,E=k^(f[p>>>24&63]|t[p>>>16&63]|o[p>>>8&63]|n[63&p]|i[w>>>24&63]|c[w>>>16&63]|a[w>>>8&63]|e[63&w])}k=g,g=E,E=k}E=E>>>1|E<<31,E^=k=1431655765&((g=g>>>1|g<<31)>>>1^E),E^=(k=16711935&(E>>>8^(g^=k<<1)))<<8,E^=(k=858993459&(E>>>2^(g^=k)))<<2,E^=k=65535&((g^=k)>>>16^E),E^=k=252645135&((g^=k<<16)>>>4^E),g^=k<<4,m[0]=g,m[1]=E}function u(d){var l,m="DES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x){},function(N,x,b){var s=b(0);b(4);var r=N.exports=s.pem=s.pem||{};function i(c){for(var t=c.name+": ",a=[],o=function(d,l){return" "+l},e=0;e<c.values.length;++e)a.push(c.values[e].replace(/^(\S+\r\n)/,o));t+=a.join(",")+`\r
`;var n=0,h=-1;for(e=0;e<t.length;++e,++n)if(n>65&&h!==-1){var u=t[h];u===","?(++h,t=t.substr(0,h)+`\r
 `+t.substr(h)):t=t.substr(0,h)+`\r
`+u+t.substr(h+1),n=e-h-1,h=-1,++e}else t[e]!==" "&&t[e]!=="	"&&t[e]!==","||(h=e);return t}function f(c){return c.replace(/^\s+/,"")}r.encode=function(c,t){t=t||{};var a,o="-----BEGIN "+c.type+`-----\r
`;if(c.procType&&(o+=i(a={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]})),c.contentDomain&&(o+=i(a={name:"Content-Domain",values:[c.contentDomain]})),c.dekInfo&&(a={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&a.values.push(c.dekInfo.parameters),o+=i(a)),c.headers)for(var e=0;e<c.headers.length;++e)o+=i(c.headers[e]);return c.procType&&(o+=`\r
`),o+=s.util.encode64(c.body,t.maxline||64)+`\r
`,o+="-----END "+c.type+`-----\r
`},r.decode=function(c){for(var t,a=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,e=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/;t=o.exec(c);){var h={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:s.util.decode64(t[3])};if(a.push(h),t[2]){for(var u=t[2].split(n),d=0;t&&d<u.length;){for(var l=u[d].replace(/\s+$/,""),m=d+1;m<u.length;++m){var A=u[m];if(!/\s/.test(A[0]))break;l+=A,d=m}if(t=l.match(e)){for(var B={name:t[1],values:[]},k=t[2].split(","),T=0;T<k.length;++T)B.values.push(f(k[T]));if(h.procType)if(h.contentDomain||B.name!=="Content-Domain")if(h.dekInfo||B.name!=="DEK-Info")h.headers.push(B);else{if(B.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');h.dekInfo={algorithm:k[0],parameters:k[1]||null}}else h.contentDomain=k[0]||"";else{if(B.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(B.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');h.procType={version:k[0],type:k[1]}}}++d}if(h.procType==="ENCRYPTED"&&!h.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(a.length===0)throw new Error("Invalid PEM formatted message.");return a}},function(N,x,b){var s=b(0);b(31),b(4);var r=N.exports=s.sha512=s.sha512||{};s.md.sha512=s.md.algorithms.sha512=r;var i=s.sha384=s.sha512.sha384=s.sha512.sha384||{};i.create=function(){return r.create("SHA-384")},s.md.sha384=s.md.algorithms.sha384=i,s.sha512.sha256=s.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},s.md["sha512/256"]=s.md.algorithms["sha512/256"]=s.sha512.sha256,s.sha512.sha224=s.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},s.md["sha512/224"]=s.md.algorithms["sha512/224"]=s.sha512.sha224,r.create=function(e){if(c||(f=String.fromCharCode(128),f+=s.util.fillString(String.fromCharCode(0),128),t=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(a={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0),e===void 0&&(e="SHA-512"),!(e in a))throw new Error("Invalid SHA-512 algorithm: "+e);for(var n=a[e],h=null,u=s.util.createBuffer(),d=new Array(80),l=0;l<80;++l)d[l]=new Array(2);var m=64;switch(e){case"SHA-384":m=48;break;case"SHA-512/256":m=32;break;case"SHA-512/224":m=28}var A={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:m,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){A.messageLength=0,A.fullMessageLength=A.messageLength128=[];for(var B=A.messageLengthSize/4,k=0;k<B;++k)A.fullMessageLength.push(0);for(u=s.util.createBuffer(),h=new Array(n.length),k=0;k<n.length;++k)h[k]=n[k].slice(0);return A}};return A.start(),A.update=function(B,k){k==="utf8"&&(B=s.util.encodeUtf8(B));var T=B.length;A.messageLength+=T,T=[T/4294967296>>>0,T>>>0];for(var g=A.fullMessageLength.length-1;g>=0;--g)A.fullMessageLength[g]+=T[1],T[1]=T[0]+(A.fullMessageLength[g]/4294967296>>>0),A.fullMessageLength[g]=A.fullMessageLength[g]>>>0,T[0]=T[1]/4294967296>>>0;return u.putBytes(B),o(h,d,u),(u.read>2048||u.length()===0)&&u.compact(),A},A.digest=function(){var B=s.util.createBuffer();B.putBytes(u.bytes());var k,T=A.fullMessageLength[A.fullMessageLength.length-1]+A.messageLengthSize&A.blockLength-1;B.putBytes(f.substr(0,A.blockLength-T));for(var g=8*A.fullMessageLength[0],E=0;E<A.fullMessageLength.length-1;++E)g+=(k=8*A.fullMessageLength[E+1])/4294967296>>>0,B.putInt32(g>>>0),g=k>>>0;B.putInt32(g);var R=new Array(h.length);for(E=0;E<h.length;++E)R[E]=h[E].slice(0);o(R,d,B);var S,M=s.util.createBuffer();for(S=e==="SHA-512"?R.length:e==="SHA-384"?R.length-2:R.length-4,E=0;E<S;++E)M.putInt32(R[E][0]),E===S-1&&e==="SHA-512/224"||M.putInt32(R[E][1]);return M},A};var f=null,c=!1,t=null,a=null;function o(e,n,h){for(var u,d,l,m,A,B,k,T,g,E,R,S,M,y,p,w,v,_,C,L,O,U,q,H,G,K,Q,z,D,F,I,P,V,$=h.length();$>=128;){for(Q=0;Q<16;++Q)n[Q][0]=h.getInt32()>>>0,n[Q][1]=h.getInt32()>>>0;for(;Q<80;++Q)u=(((z=(F=n[Q-2])[0])>>>19|(D=F[1])<<13)^(D>>>29|z<<3)^z>>>6)>>>0,d=((z<<13|D>>>19)^(D<<3|z>>>29)^(z<<26|D>>>6))>>>0,l=(((z=(P=n[Q-15])[0])>>>1|(D=P[1])<<31)^(z>>>8|D<<24)^z>>>7)>>>0,m=((z<<31|D>>>1)^(z<<24|D>>>8)^(z<<25|D>>>7))>>>0,I=n[Q-7],V=n[Q-16],D=d+I[1]+m+V[1],n[Q][0]=u+I[0]+l+V[0]+(D/4294967296>>>0)>>>0,n[Q][1]=D>>>0;for(R=e[0][0],S=e[0][1],M=e[1][0],y=e[1][1],p=e[2][0],w=e[2][1],v=e[3][0],_=e[3][1],C=e[4][0],L=e[4][1],O=e[5][0],U=e[5][1],q=e[6][0],H=e[6][1],G=e[7][0],K=e[7][1],Q=0;Q<80;++Q)k=((C>>>14|L<<18)^(C>>>18|L<<14)^(L>>>9|C<<23))>>>0,T=(q^C&(O^q))>>>0,A=((R>>>28|S<<4)^(S>>>2|R<<30)^(S>>>7|R<<25))>>>0,B=((R<<4|S>>>28)^(S<<30|R>>>2)^(S<<25|R>>>7))>>>0,g=(R&M|p&(R^M))>>>0,E=(S&y|w&(S^y))>>>0,D=K+(((C<<18|L>>>14)^(C<<14|L>>>18)^(L<<23|C>>>9))>>>0)+((H^L&(U^H))>>>0)+t[Q][1]+n[Q][1],u=G+k+T+t[Q][0]+n[Q][0]+(D/4294967296>>>0)>>>0,d=D>>>0,l=A+g+((D=B+E)/4294967296>>>0)>>>0,m=D>>>0,G=q,K=H,q=O,H=U,O=C,U=L,C=v+u+((D=_+d)/4294967296>>>0)>>>0,L=D>>>0,v=p,_=w,p=M,w=y,M=R,y=S,R=u+l+((D=d+m)/4294967296>>>0)>>>0,S=D>>>0;D=e[0][1]+S,e[0][0]=e[0][0]+R+(D/4294967296>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+y,e[1][0]=e[1][0]+M+(D/4294967296>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+w,e[2][0]=e[2][0]+p+(D/4294967296>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+_,e[3][0]=e[3][0]+v+(D/4294967296>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+L,e[4][0]=e[4][0]+C+(D/4294967296>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+U,e[5][0]=e[5][0]+O+(D/4294967296>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+H,e[6][0]=e[6][0]+q+(D/4294967296>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+K,e[7][0]=e[7][0]+G+(D/4294967296>>>0)>>>0,e[7][1]=D>>>0,$-=128}}},function(N,x,b){const s=b(243),r=b(1);N.exports=function(i){if(isNaN(i)||i<=0)throw r(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return s(i)}},function(N,x,b){b(4),b(58);const s=b(0),r=b(7),i=b(6),f=b(21);x.bigIntegerToUintBase64url=(c,t)=>{let a=Uint8Array.from(c.abs().toByteArray());if(a=a[0]===0?a.slice(1):a,t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return i(a,"base64url")},x.base64urlToBigInteger=c=>{const t=x.base64urlToBuffer(c);return new s.jsbn.BigInteger(i(t,"base16"),16)},x.base64urlToBuffer=(c,t)=>{let a=r(c,"base64urlpad");if(t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return a}},function(N,x,b){const s=b(38),r=b(122);N.exports={export:async function(i,f){const c=r.create(),t=await c.encrypt(i,f);return s.names.base64.encode(t)}}},function(N,x,b){var s,r=x,i=b(88),f=b(127),c=b(17).assert;function t(o){o.type==="short"?this.curve=new f.short(o):o.type==="edwards"?this.curve=new f.edwards(o):this.curve=new f.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(o,e){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var n=new t(e);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=t,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=b(266)}catch(o){s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},function(N,x,b){var s=x;s.utils=b(23),s.common=b(48),s.sha=b(260),s.ripemd=b(264),s.hmac=b(265),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},function(N,x,b){N.exports=function(s,{className:r,symbolName:i}){const f=Symbol.for(i),c={[r]:class extends s{constructor(...t){super(...t),Object.defineProperty(this,f,{value:!0})}get[Symbol.toStringTag](){return r}}}[r];return c["is"+r]=t=>!(!t||!t[f]),c},N.exports.proto=function(s,{className:r,symbolName:i,withoutNew:f}){const c=Symbol.for(i),t={[r]:function(...a){if(f&&!(this instanceof t))return new t(...a);const o=s.call(this,...a)||this;return o&&!o[c]&&Object.defineProperty(o,c,{value:!0}),o}}[r];return t.prototype=Object.create(s.prototype),t.prototype.constructor=t,Object.defineProperty(t.prototype,Symbol.toStringTag,{get:()=>r}),t["is"+r]=a=>!(!a||!a[c]),t}},function(N,x,b){const s=b(281),r=b(133);N.exports=(i,f)=>{const c=s(i,{...f,count:1});return r.fn(async t=>{t(()=>{c.cancel()});const[a]=await c;return a})()},N.exports.AggregateError=s.AggregateError},function(N,x,b){N.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50}}},function(N,x,b){N.exports={ADVERTISE_BOOT_DELAY:9e5,ADVERTISE_TTL:18e5,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}},function(N,x,b){const s=b(1),r=b(21),i=b(7),f=b(77),c=b(9),t=b(11),a=b(19),{codes:o}=b(10),e=b(316);class n{constructor({peerId:u,payloadType:d,payload:l,signature:m}){this.peerId=u,this.payloadType=d,this.payload=l,this.signature=m,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;const u=f.marshalPublicKey(this.peerId.pubKey);return this._marshal=e.Envelope.encode({public_key:u,payload_type:this.payloadType,payload:this.payload,signature:this.signature}),this._marshal}equals(u){return a(this.peerId.pubKey.bytes,u.peerId.pubKey.bytes)&&a(this.payloadType,u.payloadType)&&a(this.payload,u.payload)&&a(this.signature,u.signature)}validate(u){const d=h(u,this.payloadType,this.payload);return this.peerId.pubKey.verify(d,this.signature)}}const h=(u,d,l)=>{const m=i(u),A=t.encode(m.byteLength),B=t.encode(d.length),k=t.encode(l.length);return r([new Uint8Array(A),m,new Uint8Array(B),d,new Uint8Array(k),l])};n.createFromProtobuf=async u=>{const d=e.Envelope.decode(u),l=await c.createFromPubKey(d.public_key);return new n({peerId:l,payloadType:d.payload_type,payload:d.payload,signature:d.signature})},n.seal=async(u,d)=>{const l=u.domain,m=u.codec,A=u.marshal(),B=h(l,m,A),k=await d.privKey.sign(B);return new n({peerId:d,payloadType:m,payload:A,signature:k})},n.openAndCertify=async(u,d)=>{const l=await n.createFromProtobuf(u);if(!await l.validate(d))throw s(new Error("envelope signature is not valid for the given domain"),o.ERR_SIGNATURE_NOT_VALID);return l},N.exports=n},function(N,x,b){const s=b(14),r=b(9),i=b(317),f=b(318),{ENVELOPE_DOMAIN_PEER_RECORD:c,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:t}=b(319);class a{constructor({peerId:o,multiaddrs:e=[],seqNumber:n=Date.now()}){this.domain=c,this.codec=t,this.peerId=o,this.multiaddrs=e,this.seqNumber=n,this._marshal=void 0}marshal(){return this._marshal||(this._marshal=f.PeerRecord.encode({peer_id:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(o=>({multiaddr:o.bytes}))})),this._marshal}equals(o){return o instanceof a&&(!!this.peerId.equals(o.peerId)&&this.seqNumber===o.seqNumber)&&!!i(this.multiaddrs,o.multiaddrs)}}a.createFromProtobuf=o=>{const e=f.PeerRecord.decode(o),n=r.createFromBytes(e.peer_id),h=(e.addresses||[]).map(d=>s(d.multiaddr)),u=e.seq;return new a({peerId:n,multiaddrs:h,seqNumber:u})},a.DOMAIN=c,N.exports=a},function(N,x,b){var s=b(324);function r(i,f,c){var t=this;this._started=s(),this._rescheduled=0,this._scheduled=f,this._args=c,this._timer=setTimeout(function a(){t._rescheduled>0?(t._scheduled=t._rescheduled-(s()-t._started),t._timer=setTimeout(a,t._scheduled),t._rescheduled=0):i.apply(null,t._args)},f)}r.prototype.reschedule=function(i){var f=s();return!(f+i-(this._started+this._scheduled)<0)&&(this._started=f,this._rescheduled=i,!0)},r.prototype.clear=function(){clearTimeout(this._timer)},N.exports=function(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");var i;if(arguments.length>0){i=new Array(arguments.length-2);for(var f=0;f<i.length;f++)i[f]=arguments[f+2]}return new r(arguments[0],arguments[1],i)}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:circuit:stream-handler"),{error:s("libp2p:circuit:stream-handler:err")}),i=b(50),f=b(65),{CircuitRelay:c}=b(49);N.exports=class{constructor({stream:t,maxLength:a=4096}){this.stream=t,this.shake=f(this.stream),this.decoder=i.decode.fromReader(this.shake.reader,{maxDataLength:a})}async read(){const t=await this.decoder.next();if(t.value){const a=c.decode(t.value.slice());return r("read message type",a.type),a}r("read received no value, closing stream"),this.close()}write(t){r("write message type %s",t.type),this.shake.write(i.encode.single(c.encode(t)))}rest(){return this.shake.rest(),this.shake.stream}end(t){this.write(t),this.close()}close(){r("closing the stream"),this.rest().sink([])}}},function(N,x,b){const s=b(367),r=b(368),i=b(161);x.utf8Encoder=new r("utf8"),x.utf8Decoder=new i("utf8"),x.filter=(f,c)=>async function*(){for await(const t of f)await c(t)&&(yield t)}(),x.sortAll=(f,c)=>async function*(){let t=[];for await(const a of f)t.push(a);t=await c(t);for(const a of t)yield a}(),x.take=(f,c)=>async function*(){if(c<=0)return;let t=0;for await(const a of f)if(yield a,t++,t>=c)return}(),x.map=(f,c)=>async function*(){for await(const t of f)yield c(t)}(),x.replaceStartWith=function(f,c){const t=new RegExp("^"+c);return f.replace(t,"")},x.tmpdir=s},function(N,x,b){function s(H,G){return G===void 0?K=>s(H,K):G[Symbol.asyncIterator]?async function*(K,Q){let z=[];for await(const D of Q)z.push(D),z.length===K&&(yield z,z=[]);z.length>0&&(yield z)}(H,G):function*(K,Q){let z=[];for(const D of Q)z.push(D),z.length===K&&(yield z,z=[]);z.length>0&&(yield z)}(H,G)}function r(H){if(typeof H.next=="function")return H;if(typeof H[Symbol.iterator]=="function")return H[Symbol.iterator]();if(typeof H[Symbol.asyncIterator]=="function")return H[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function i(){let H,G;return{promise:new Promise((K,Q)=>{G=K,H=Q}),reject:H,resolve:G}}function f(H,G){const K=r(G),Q=[],z=[];let D=!1,F=!1;async function I(){if(!F&&!(D||Q.length>=H)){D=!0;try{const{done:V,value:$}=await K.next();V?F=!0:Q.push({value:$})}catch(V){F=!0,Q.push({error:V})}!function(){for(;z.length>0&&Q.length>0;){const V=z.shift(),{error:$,value:W}=Q.shift();$?V.reject($):V.resolve({done:!1,value:W})}for(;z.length>0&&F;){const{resolve:V}=z.shift();V({done:!0,value:void 0})}}(),D=!1,I()}}const P={next:async function(){if(Q.length>0){const{error:$,value:W}=Q.shift();if($)throw $;return I(),{done:!1,value:W}}if(F)return{done:!0,value:void 0};const V=i();return z.push(V),I(),V.promise},[Symbol.asyncIterator]:()=>P};return P}function c(H,G){return G===void 0?K=>c(H,K):H===0?G:G[Symbol.asyncIterator]?f(H,G):function*(K,Q){const z=[];let D;try{for(const F of Q)z.push(F),z.length<=K||(yield z.shift())}catch(F){D=F}for(const F of z)yield F;if(D)throw D}(H,G)}function t(H){return H[Symbol.asyncIterator]?async function(G){const K=[];for await(const Q of G)K.push(Q);return K}(H):Array.from(H)}function a(...H){return H.find(G=>G[Symbol.asyncIterator]!==void 0)?async function*(G){for await(const K of G)yield*K}(H):function*(G){for(const K of G)yield*K}(H)}function o(H){if(H[Symbol.asyncIterator])return async function(G){for await(const K of G);}(H);for(const G of H);}async function*e(H,G){for await(const K of G)await H(K)&&(yield K)}function n(H,G){return G===void 0?K=>e(H,K):e(H,G)}async function*h(H){for await(const G of H)G&&typeof G!="string"&&(G[Symbol.iterator]||G[Symbol.asyncIterator])?yield*h(G):yield G}async function*u(H,G){for await(const K of G)yield await H(K)}function d(H,G){return G===void 0?K=>u(H,K):u(H,G)}function l(H,G){return G===void 0?K=>l(H,K):n(K=>K!=null,h(d(H,G)))}function m(H,G,K){const Q=r(K),z=[],D=[];let F=!1,I=!1,P=0,V=null;function $(){for(;D.length>0&&z.length>0;){const{resolve:ot}=D.shift();ot({done:!1,value:z.shift()})}for(;D.length>0&&P===0&&F;){const{resolve:ot,reject:j}=D.shift();V?(j(V),V=null):ot({done:!0,value:void 0})}}async function W(){if(F)$();else if(!(I||P+z.length>=H)){I=!0,P++;try{const{done:ot,value:j}=await Q.next();ot?(F=!0,P--,$()):async function(Y){try{const X=await G(Y);if(X&&X[Symbol.asyncIterator])for await(const tt of X)z.push(tt);else z.push(X)}catch(X){F=!0,V=X}P--,$(),W()}(j)}catch(ot){F=!0,P--,V=ot,$()}I=!1,W()}}const et={next:async function(){if(z.length===0){const j=i();return D.push(j),W(),j.promise}const ot=z.shift();return W(),{done:!1,value:ot}},[Symbol.asyncIterator]:()=>et};return et}function A(H,G,K){return G===void 0?(Q,z)=>z?A(H,Q,z):A(H,Q):K===void 0?Q=>A(H,G,Q):n(Q=>Q!=null,h(m(H,G,K)))}async function B(H){return new Promise(G=>{H.once("readable",()=>{G()})})}function k(H){return typeof H[Symbol.asyncIterator]=="function"?H:async function*(G){for(;;){const K=G.read();if(K===null){if(G._readableState.ended)break;await B(G)}else yield K}}(H)}async function*T(...H){const G=new Set(H.map(r));for(;G.size>0;)for(const K of G){const Q=await K.next();Q.done?G.delete(K):yield Q.value}}function g(H,...G){let K=H();for(const Q of G)K=Q(K);return K}function E(H,G,K){return G===void 0?(Q,z)=>E(H,Q,z):K===void 0?Q=>E(H,G,Q):H===1?d(G,K):async function*(Q,z,D){let F=null;const I=r(g(()=>D,c(1),async function*(P){for await(const V of P){if(F)return;yield V}},d(P=>({value:z(P)})),c(Q-1)));for(;;){const{value:P,done:V}=await I.next();if(V)break;try{const $=await P.value;F||(yield $)}catch($){F=$}}if(F)throw F}(H,G,K)}function R(H,G,K){return G===void 0?(Q,z)=>z?R(H,Q,z):R(H,Q):K===void 0?Q=>R(H,G,Q):n(Q=>Q!=null,h(E(H,G,K)))}async function*S(...H){const G=H.map(r),K=new Set,Q=new Map;let z=null,D=null,F=null;const I=$=>{z=$,D&&D($)},P=$=>{F&&F($)},V=$=>{const W=Promise.resolve($.next()).then(async({done:et,value:ot})=>{et||Q.set($,ot),K.delete(W)});K.add(W),W.then(P,I)};for(const $ of G)V($);for(;;){if(K.size===0&&Q.size===0)return;await new Promise(($,W)=>{if(z&&W(z),Q.size>0)return $();F=$,D=W});for(const[$,W]of Q)Q.delete($),yield W,V($)}}async function M(H,G,K){let Q=G;for await(const z of K)Q=await H(Q,z);return Q}function y(H,G,K){return G===void 0?(Q,z)=>z?M(H,Q,z):y(H,Q):K===void 0?Q=>y(H,G,Q):M(H,G,K)}function p(H,G){return G===void 0?K=>p(H,K):G[Symbol.asyncIterator]?async function*(K,Q){let z=0;for await(const D of Q)if(yield await D,z++,z>=K)break}(H,G):function*(K,Q){let z=0;for(const D of Q)if(yield D,z++,z>=K)break}(H,G)}async function*w(H,G){for await(const K of G)await H(K),yield K}function v(H,G){return G===void 0?K=>w(H,K):w(H,G)}function _(H,G){let K=H[0]+G[0],Q=H[1]+G[1];if(Q>=1e9){const z=Q%1e9;K+=(Q-z)/1e9,Q=z}return[K,Q]}function C(H={},G){return G===void 0?K=>C(H,K):G[Symbol.asyncIterator]!==void 0?async function*(K,Q){const z=Q[Symbol.asyncIterator]();let D=[0,0];for(;;){const F=ce.hrtime(),{value:I,done:P}=await z.next(),V=ce.hrtime(F);if(D=_(D,V),K.progress&&K.progress(V,D),P)return K.total&&K.total(D),I;yield I}}(H,G):function*(K,Q){const z=Q[Symbol.iterator]();let D=[0,0];for(;;){const F=ce.hrtime(),{value:I,done:P}=z.next(),V=ce.hrtime(F);if(D=_(D,V),K.progress&&K.progress(V,D),P)return K.total&&K.total(D),I;yield I}}(H,G)}function L(H,G,K){const Q=r(K),z=[],D=[];let F=!1,I=!1,P=0,V=null;function $(){for(;D.length>0&&z.length>0;){const{resolve:ot}=D.shift();ot({done:!1,value:z.shift()})}for(;D.length>0&&P===0&&F;){const{resolve:ot,reject:j}=D.shift();V?(j(V),V=null):ot({done:!0,value:void 0})}}async function W(){if(F)$();else if(!(I||P+z.length>=H)){I=!0,P++;try{const{done:ot,value:j}=await Q.next();ot?(F=!0,P--,$()):async function(Y){try{const X=await G(Y);z.push(X)}catch(X){F=!0,V=X}P--,$(),W()}(j)}catch(ot){F=!0,P--,V=ot,$()}I=!1,W()}}const et={next:async function(){if(z.length===0){const j=i();return D.push(j),W(),j.promise}const ot=z.shift();return W(),{done:!1,value:ot}},[Symbol.asyncIterator]:()=>et};return et}function O(H,G,K){return G===void 0?(Q,z)=>z?O(H,Q,z):O(H,Q):K===void 0?Q=>O(H,G,Q):L(H,G,K)}async function U(H,G){let K=null,Q=null,z=null;const D=I=>{K=I,Q&&Q(I)},F=()=>{z&&z()};H.once("error",D);for await(const I of G)if(H.write(I)===!1&&await new Promise((P,V)=>{if(K)return V(K);H.once("drain",F),z=P,Q=V}),K)break;if(H.removeListener("error",D),H.removeListener("drain",F),K)throw K}function q(H,G){return G===void 0?K=>U(H,K):U(H,G)}b.r(x),b.d(x,"batch",function(){return s}),b.d(x,"buffer",function(){return c}),b.d(x,"collect",function(){return t}),b.d(x,"concat",function(){return a}),b.d(x,"consume",function(){return o}),b.d(x,"filter",function(){return n}),b.d(x,"flatMap",function(){return l}),b.d(x,"flatTransform",function(){return A}),b.d(x,"flatten",function(){return h}),b.d(x,"fromStream",function(){return k}),b.d(x,"getIterator",function(){return r}),b.d(x,"map",function(){return d}),b.d(x,"merge",function(){return T}),b.d(x,"parallelFlatMap",function(){return R}),b.d(x,"parallelMap",function(){return E}),b.d(x,"parallelMerge",function(){return S}),b.d(x,"pipeline",function(){return g}),b.d(x,"reduce",function(){return y}),b.d(x,"take",function(){return p}),b.d(x,"tap",function(){return v}),b.d(x,"time",function(){return C}),b.d(x,"transform",function(){return O}),b.d(x,"writeToStream",function(){return q})},function(N,x,b){const s=b(39),r=b(50),i=b(34),f=b(1),c=b(7)(`
`);async function t(a){for await(const o of a)return o}x.encode=a=>r.encode.single(new s([a,c])),x.write=(a,o)=>a.push(x.encode(o)),x.writeAll=(a,o)=>{a.push(o.reduce((e,n)=>e.append(x.encode(n)),new s))},x.read=async a=>{let o=1;const e={[Symbol.asyncIterator](){return this},next:()=>a.next(o)},n=await i(e,r.decode({onLength:h=>{o=h}}),t);if(n.get(n.length-1)!==c[0])throw f(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.shallowSlice(0,-1)}},function(N,x,b){const s=b(392),r=b(393),{rfc4648:i}=b(394),{decodeText:f,encodeText:c}=b(101),t=[["identity","\0",()=>({encode:f,decode:c}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",s,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",s,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",s,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",s,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",s,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],a=t.reduce((e,n)=>(e[n[0]]=new r(n[0],n[1],n[2],n[3]),e),{}),o=t.reduce((e,n)=>(e[n[1]]=a[n[0]],e),{});N.exports={names:a,codes:o}},function(N,x,b){const{TextEncoder:s,TextDecoder:r}=b(102),i=new r,f=new s;N.exports={decodeText:c=>i.decode(c),encodeText:c=>f.encode(c),concat:function(c,t){const a=new Uint8Array(t);let o=0;for(const e of c)a.set(e,o),o+=e.length;return a}}},function(N,x,b){x.TextEncoder=TextEncoder,x.TextDecoder=TextDecoder},function(N,x,b){const s=b(66),r=b(40),i=b(400),{baseTable:f}=b(51),c=b(408),t=b(27),a=b(12),o=b(35),e=Object.keys(f).reduce((u,d)=>(u[f[d]]=d,u),{}),n=Symbol.for("@ipld/js-cid/CID");class h{constructor(u,d,l,m){if(Object.defineProperty(this,n,{value:!0}),h.isCID(u)){const A=u;return this.version=A.version,this.codec=A.codec,this.multihash=A.multihash,void(this.multibaseName=A.multibaseName||(A.version===0?"base58btc":"base32"))}if(typeof u=="string"){const A=r.isEncoded(u);if(A){const B=r.decode(u);this.version=parseInt(B[0].toString(),16),this.codec=i.getCodec(B.slice(1)),this.multihash=i.rmPrefix(B.slice(1)),this.multibaseName=A}else this.version=0,this.codec="dag-pb",this.multihash=s.fromB58String(u),this.multibaseName="base58btc";return h.validateCID(this),void Object.defineProperty(this,"string",{value:u})}if(u instanceof Uint8Array){const A=parseInt(u[0].toString(),16);if(A===1){const B=u;this.version=A,this.codec=i.getCodec(B.slice(1)),this.multihash=i.rmPrefix(B.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=u,this.multibaseName="base58btc";h.validateCID(this)}else this.version=u,typeof d=="number"&&(d=e[d]),this.codec=d,this.multihash=l,this.multibaseName=m||(u===0?"base58btc":"base32"),h.validateCID(this)}get bytes(){let u=this._bytes;if(!u){if(this.version===0)u=this.multihash;else{if(this.version!==1)throw new Error("unsupported version");{const d=i.getCodeVarint(this.codec);u=t([[1],d,this.multihash],1+d.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:u})}return u}get prefix(){const u=i.getCodeVarint(this.codec),d=s.prefix(this.multihash);return t([[this.version],u,d],1+u.byteLength+d.byteLength)}get code(){return f[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:u,length:d}=s.decode(this.multihash);if(u!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(d!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new h(0,this.codec,this.multihash)}toV1(){return new h(1,this.codec,this.multihash)}toBaseEncodedString(u=this.multibaseName){if(this.string&&this.string.length!==0&&u===this.multibaseName)return this.string;let d;if(this.version===0){if(u!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");d=s.toB58String(this.multihash)}else{if(this.version!==1)throw new Error("unsupported version");d=a(r.encode(u,this.bytes))}return u===this.multibaseName&&Object.defineProperty(this,"string",{value:d}),d}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(u){return this.toBaseEncodedString(u)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(u){return this.codec===u.codec&&this.version===u.version&&o(this.multihash,u.multihash)}static validateCID(u){const d=c.checkCIDComponents(u);if(d)throw new Error(d)}static isCID(u){return u instanceof h||Boolean(u&&u[n])}}h.codecs=f,N.exports=h},function(N,x,b){x.defined=function(s){return s!=null&&(typeof s!="number"||!isNaN(s))}},function(N,x,b){N.exports=`enum KeyType {
  RSA = 0;
  Ed25519 = 1;
  Secp256k1 = 2;
}
message PublicKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}
message PrivateKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}`},function(N,x,b){var s=b(2);s.pki=s.pki||{};var r=N.exports=s.pki.oids=s.oids=s.oids||{};function i(c,t){r[c]=t,r[t]=c}function f(c,t){r[c]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.5","serialName"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),f("2.5.29.1","authorityKeyIdentifier"),f("2.5.29.2","keyAttributes"),f("2.5.29.3","certificatePolicies"),f("2.5.29.4","keyUsageRestriction"),f("2.5.29.5","policyMapping"),f("2.5.29.6","subtreesConstraint"),f("2.5.29.7","subjectAltName"),f("2.5.29.8","issuerAltName"),f("2.5.29.9","subjectDirectoryAttributes"),f("2.5.29.10","basicConstraints"),f("2.5.29.11","nameConstraints"),f("2.5.29.12","policyConstraints"),f("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),f("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),f("2.5.29.20","cRLNumber"),f("2.5.29.21","cRLReason"),f("2.5.29.22","expirationDate"),f("2.5.29.23","instructionCode"),f("2.5.29.24","invalidityDate"),f("2.5.29.25","cRLDistributionPoints"),f("2.5.29.26","issuingDistributionPoint"),f("2.5.29.27","deltaCRLIndicator"),f("2.5.29.28","issuingDistributionPoint"),f("2.5.29.29","certificateIssuer"),f("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),f("2.5.29.33","policyMappings"),f("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),f("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),f("2.5.29.46","freshestCRL"),f("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},function(N,x){},function(N,x,b){var s=b(2);if(b(52),b(68),b(106),b(444),b(446),b(53),b(5),r===void 0)var r=s.jsbn.BigInteger;var i=s.util.isNodejs?b(107):null,f=s.asn1,c=s.util;s.pki=s.pki||{},N.exports=s.pki.rsa=s.rsa=s.rsa||{};var t=s.pki,a=[6,4,2,4,2,4,6,2],o={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},u=function(S){var M;if(!(S.algorithm in t.oids)){var y=new Error("Unknown message digest algorithm.");throw y.algorithm=S.algorithm,y}M=t.oids[S.algorithm];var p=f.oidToDer(M).getBytes(),w=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),v=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);v.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,p)),v.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var _=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,S.digest().getBytes());return w.value.push(v),w.value.push(_),f.toDer(w).getBytes()},d=function(S,M,y){if(y)return S.modPow(M.e,M.n);if(!M.p||!M.q)return S.modPow(M.d,M.n);var p;M.dP||(M.dP=M.d.mod(M.p.subtract(r.ONE))),M.dQ||(M.dQ=M.d.mod(M.q.subtract(r.ONE))),M.qInv||(M.qInv=M.q.modInverse(M.p));do p=new r(s.util.bytesToHex(s.random.getBytes(M.n.bitLength()/8)),16);while(p.compareTo(M.n)>=0||!p.gcd(M.n).equals(r.ONE));for(var w=(S=S.multiply(p.modPow(M.e,M.n)).mod(M.n)).mod(M.p).modPow(M.dP,M.p),v=S.mod(M.q).modPow(M.dQ,M.q);w.compareTo(v)<0;)w=w.add(M.p);var _=w.subtract(v).multiply(M.qInv).mod(M.p).multiply(M.q).add(v);return _=_.multiply(p.modInverse(M.n)).mod(M.n)};function l(S,M,y){var p=s.util.createBuffer(),w=Math.ceil(M.n.bitLength()/8);if(S.length>w-11){var v=new Error("Message is too long for PKCS#1 v1.5 padding.");throw v.length=S.length,v.max=w-11,v}p.putByte(0),p.putByte(y);var _,C=w-3-S.length;if(y===0||y===1){_=y===0?0:255;for(var L=0;L<C;++L)p.putByte(_)}else for(;C>0;){var O=0,U=s.random.getBytes(C);for(L=0;L<C;++L)(_=U.charCodeAt(L))===0?++O:p.putByte(_);C=O}return p.putByte(0),p.putBytes(S),p}function m(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8),v=s.util.createBuffer(S),_=v.getByte(),C=v.getByte();if(_!==0||y&&C!==0&&C!==1||!y&&C!=2||y&&C===0&&p===void 0)throw new Error("Encryption block is invalid.");var L=0;if(C===0){L=w-3-p;for(var O=0;O<L;++O)if(v.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(C===1)for(L=0;v.length()>1;){if(v.getByte()!==255){--v.read;break}++L}else if(C===2)for(L=0;v.length()>1;){if(v.getByte()===0){--v.read;break}++L}if(v.getByte()!==0||L!==w-3-v.length())throw new Error("Encryption block is invalid.");return v.getBytes()}function A(S,M,y){typeof M=="function"&&(y=M,M={});var p={algorithm:{name:(M=M||{}).algorithm||"PRIMEINC",options:{workers:M.workers||2,workLoad:M.workLoad||100,workerScript:M.workerScript}}};function w(){v(S.pBits,function(C,L){return C?y(C):(S.p=L,S.q!==null?_(C,S.q):void v(S.qBits,_))})}function v(C,L){s.prime.generateProbablePrime(C,p,L)}function _(C,L){if(C)return y(C);if(S.q=L,S.p.compareTo(S.q)<0){var O=S.p;S.p=S.q,S.q=O}if(S.p.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.p=null,void w();if(S.q.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)!==0)return S.q=null,void v(S.qBits,_);if(S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),S.phi.gcd(S.e).compareTo(r.ONE)!==0)return S.p=S.q=null,void w();if(S.n=S.p.multiply(S.q),S.n.bitLength()!==S.bits)return S.q=null,void v(S.qBits,_);var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)},y(null,S.keys)}"prng"in M&&(p.prng=M.prng),w()}function B(S){var M=S.toString(16);M[0]>="8"&&(M="00"+M);var y=s.util.hexToBytes(M);return y.length>1&&(y.charCodeAt(0)===0&&(128&y.charCodeAt(1))==0||y.charCodeAt(0)===255&&(128&y.charCodeAt(1))==128)?y.substr(1):y}function k(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}function T(S){return s.util.isNodejs&&typeof i[S]=="function"}function g(S){return c.globalScope!==void 0&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[S]=="function"}function E(S){return c.globalScope!==void 0&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[S]=="function"}function R(S){for(var M=s.util.hexToBytes(S.toString(16)),y=new Uint8Array(M.length),p=0;p<M.length;++p)y[p]=M.charCodeAt(p);return y}t.rsa.encrypt=function(S,M,y){var p,w=y,v=Math.ceil(M.n.bitLength()/8);y!==!1&&y!==!0?(w=y===2,p=l(S,M,y)):(p=s.util.createBuffer()).putBytes(S);for(var _=new r(p.toHex(),16),C=d(_,M,w).toString(16),L=s.util.createBuffer(),O=v-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),L.getBytes()},t.rsa.decrypt=function(S,M,y,p){var w=Math.ceil(M.n.bitLength()/8);if(S.length!==w){var v=new Error("Encrypted message length is invalid.");throw v.length=S.length,v.expected=w,v}var _=new r(s.util.createBuffer(S).toHex(),16);if(_.compareTo(M.n)>=0)throw new Error("Encrypted message is invalid.");for(var C=d(_,M,y).toString(16),L=s.util.createBuffer(),O=w-Math.ceil(C.length/2);O>0;)L.putByte(0),--O;return L.putBytes(s.util.hexToBytes(C)),p!==!1?m(L.getBytes(),M,y):L.getBytes()},t.rsa.createKeyPairGenerationState=function(S,M,y){typeof S=="string"&&(S=parseInt(S,10)),S=S||2048;var p,w=(y=y||{}).prng||s.random,v={nextBytes:function(C){for(var L=w.getBytesSync(C.length),O=0;O<C.length;++O)C[O]=L.charCodeAt(O)}},_=y.algorithm||"PRIMEINC";if(_!=="PRIMEINC")throw new Error("Invalid key generation algorithm: "+_);return(p={algorithm:_,state:0,bits:S,rng:v,eInt:M||65537,e:new r(null),p:null,q:null,qBits:S>>1,pBits:S-(S>>1),pqState:0,num:null,keys:null}).e.fromInt(p.eInt),p},t.rsa.stepKeyPairGenerationState=function(S,M){"algorithm"in S||(S.algorithm="PRIMEINC");var y=new r(null);y.fromInt(30);for(var p,w=0,v=function(q,H){return q|H},_=+new Date,C=0;S.keys===null&&(M<=0||C<M);){if(S.state===0){var L=S.p===null?S.pBits:S.qBits,O=L-1;S.pqState===0?(S.num=new r(L,S.rng),S.num.testBit(O)||S.num.bitwiseTo(r.ONE.shiftLeft(O),v,S.num),S.num.dAddOffset(31-S.num.mod(y).byteValue(),0),w=0,++S.pqState):S.pqState===1?S.num.bitLength()>L?S.pqState=0:S.num.isProbablePrime(k(S.num.bitLength()))?++S.pqState:S.num.dAddOffset(a[w++%8],0):S.pqState===2?S.pqState=S.num.subtract(r.ONE).gcd(S.e).compareTo(r.ONE)===0?3:0:S.pqState===3&&(S.pqState=0,S.p===null?S.p=S.num:S.q=S.num,S.p!==null&&S.q!==null&&++S.state,S.num=null)}else if(S.state===1)S.p.compareTo(S.q)<0&&(S.num=S.p,S.p=S.q,S.q=S.num),++S.state;else if(S.state===2)S.p1=S.p.subtract(r.ONE),S.q1=S.q.subtract(r.ONE),S.phi=S.p1.multiply(S.q1),++S.state;else if(S.state===3)S.phi.gcd(S.e).compareTo(r.ONE)===0?++S.state:(S.p=null,S.q=null,S.state=0);else if(S.state===4)S.n=S.p.multiply(S.q),S.n.bitLength()===S.bits?++S.state:(S.q=null,S.state=0);else if(S.state===5){var U=S.e.modInverse(S.phi);S.keys={privateKey:t.rsa.setPrivateKey(S.n,S.e,U,S.p,S.q,U.mod(S.p1),U.mod(S.q1),S.q.modInverse(S.p)),publicKey:t.rsa.setPublicKey(S.n,S.e)}}C+=(p=+new Date)-_,_=p}return S.keys!==null},t.rsa.generateKeyPair=function(S,M,y,p){if(arguments.length===1?typeof S=="object"?(y=S,S=void 0):typeof S=="function"&&(p=S,S=void 0):arguments.length===2?typeof S=="number"?typeof M=="function"?(p=M,M=void 0):typeof M!="number"&&(y=M,M=void 0):(y=S,p=M,S=void 0,M=void 0):arguments.length===3&&(typeof M=="number"?typeof y=="function"&&(p=y,y=void 0):(p=y,y=M,M=void 0)),y=y||{},S===void 0&&(S=y.bits||2048),M===void 0&&(M=y.e||65537),!s.options.usePureJavaScript&&!y.prng&&S>=256&&S<=16384&&(M===65537||M===3)){if(p){if(T("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(C,L,O){if(C)return p(C);p(null,{privateKey:t.privateKeyFromPem(O),publicKey:t.publicKeyFromPem(L)})});if(g("generateKey")&&g("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(C){return c.globalScope.crypto.subtle.exportKey("pkcs8",C.privateKey)}).then(void 0,function(C){p(C)}).then(function(C){if(C){var L=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(C)));p(null,{privateKey:L,publicKey:t.setRsaPublicKey(L.n,L.e)})}});if(E("generateKey")&&E("exportKey")){var w=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:S,publicExponent:R(M),hash:{name:"SHA-256"}},!0,["sign","verify"]);return w.oncomplete=function(C){var L=C.target.result,O=c.globalScope.msCrypto.subtle.exportKey("pkcs8",L.privateKey);O.oncomplete=function(U){var q=U.target.result,H=t.privateKeyFromAsn1(f.fromDer(s.util.createBuffer(q)));p(null,{privateKey:H,publicKey:t.setRsaPublicKey(H.n,H.e)})},O.onerror=function(U){p(U)}},void(w.onerror=function(C){p(C)})}}else if(T("generateKeyPairSync")){var v=i.generateKeyPairSync("rsa",{modulusLength:S,publicExponent:M,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:t.privateKeyFromPem(v.privateKey),publicKey:t.publicKeyFromPem(v.publicKey)}}}var _=t.rsa.createKeyPairGenerationState(S,M,y);if(!p)return t.rsa.stepKeyPairGenerationState(_,0),_.keys;A(_,y,p)},t.setRsaPublicKey=t.rsa.setPublicKey=function(S,M){var y={n:S,e:M,encrypt:function(p,w,v){if(typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSAES-PKCS1-V1_5"),w==="RSAES-PKCS1-V1_5")w={encode:function(C,L,O){return l(C,L,2).getBytes()}};else if(w==="RSA-OAEP"||w==="RSAES-OAEP")w={encode:function(C,L){return s.pkcs1.encode_rsa_oaep(L,C,v)}};else if(["RAW","NONE","NULL",null].indexOf(w)!==-1)w={encode:function(C){return C}};else if(typeof w=="string")throw new Error('Unsupported encryption scheme: "'+w+'".');var _=w.encode(p,y,!0);return t.rsa.encrypt(_,y,!0)},verify:function(p,w,v){typeof v=="string"?v=v.toUpperCase():v===void 0&&(v="RSASSA-PKCS1-V1_5"),v==="RSASSA-PKCS1-V1_5"?v={verify:function(C,L){return L=m(L,y,!0),C===f.fromDer(L).value[1].value}}:v!=="NONE"&&v!=="NULL"&&v!==null||(v={verify:function(C,L){return C===(L=m(L,y,!0))}});var _=t.rsa.decrypt(w,y,!0,!1);return v.verify(p,_,y.n.bitLength())}};return y},t.setRsaPrivateKey=t.rsa.setPrivateKey=function(S,M,y,p,w,v,_,C){var L={n:S,e:M,d:y,p,q:w,dP:v,dQ:_,qInv:C,decrypt:function(O,U,q){typeof U=="string"?U=U.toUpperCase():U===void 0&&(U="RSAES-PKCS1-V1_5");var H=t.rsa.decrypt(O,L,!1,!1);if(U==="RSAES-PKCS1-V1_5")U={decode:m};else if(U==="RSA-OAEP"||U==="RSAES-OAEP")U={decode:function(G,K){return s.pkcs1.decode_rsa_oaep(K,G,q)}};else{if(["RAW","NONE","NULL",null].indexOf(U)===-1)throw new Error('Unsupported encryption scheme: "'+U+'".');U={decode:function(G){return G}}}return U.decode(H,L,!1)},sign:function(O,U){var q=!1;typeof U=="string"&&(U=U.toUpperCase()),U===void 0||U==="RSASSA-PKCS1-V1_5"?(U={encode:u},q=1):U!=="NONE"&&U!=="NULL"&&U!==null||(U={encode:function(){return O}},q=1);var H=U.encode(O,L.n.bitLength());return t.rsa.encrypt(H,L,q)}};return L},t.wrapRsaPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(S).getBytes())])},t.privateKeyFromAsn1=function(S){var M,y,p,w,v,_,C,L,O={},U=[];if(f.validate(S,o,O,U)&&(S=f.fromDer(s.util.createBuffer(O.privateKey))),O={},U=[],!f.validate(S,e,O,U)){var q=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw q.errors=U,q}return M=s.util.createBuffer(O.privateKeyModulus).toHex(),y=s.util.createBuffer(O.privateKeyPublicExponent).toHex(),p=s.util.createBuffer(O.privateKeyPrivateExponent).toHex(),w=s.util.createBuffer(O.privateKeyPrime1).toHex(),v=s.util.createBuffer(O.privateKeyPrime2).toHex(),_=s.util.createBuffer(O.privateKeyExponent1).toHex(),C=s.util.createBuffer(O.privateKeyExponent2).toHex(),L=s.util.createBuffer(O.privateKeyCoefficient).toHex(),t.setRsaPrivateKey(new r(M,16),new r(y,16),new r(p,16),new r(w,16),new r(v,16),new r(_,16),new r(C,16),new r(L,16))},t.privateKeyToAsn1=t.privateKeyToRSAPrivateKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.qInv))])},t.publicKeyFromAsn1=function(S){var M={},y=[];if(f.validate(S,h,M,y)){var p,w=f.derToOid(M.publicKeyOid);if(w!==t.oids.rsaEncryption)throw(p=new Error("Cannot read public key. Unknown OID.")).oid=w,p;S=M.rsaPublicKey}if(y=[],!f.validate(S,n,M,y))throw(p=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=y,p;var v=s.util.createBuffer(M.publicKeyModulus).toHex(),_=s.util.createBuffer(M.publicKeyExponent).toHex();return t.setRsaPublicKey(new r(v,16),new r(_,16))},t.publicKeyToAsn1=t.publicKeyToSubjectPublicKeyInfo=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(t.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[t.publicKeyToRSAPublicKey(S)])])},t.publicKeyToRSAPublicKey=function(S){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,B(S.e))])}},function(N,x,b){b(5),b(68);const s=b(2),r=b(20),i=b(12),f=b(27);x.bigIntegerToUintBase64url=(c,t)=>{let a=Uint8Array.from(c.abs().toByteArray());if(a=a[0]===0?a.slice(1):a,t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return i(a,"base64url")},x.base64urlToBigInteger=c=>{const t=x.base64urlToBuffer(c);return new s.jsbn.BigInteger(i(t,"base16"),16)},x.base64urlToBuffer=(c,t)=>{let a=r(c,"base64urlpad");if(t!=null){if(a.length>t)throw new Error("byte array longer than desired length");a=f([new Uint8Array(t-a.length),a])}return a}},function(N,x,b){const s=b(40),r=b(171);N.exports={export:async function(i,f){const c=r.create(),t=await c.encrypt(i,f);return s.names.base64.encode(t)}}},function(N,x,b){var s,r=x,i=b(112),f=b(177),c=b(18).assert;function t(o){o.type==="short"?this.curve=new f.short(o):o.type==="edwards"?this.curve=new f.edwards(o):this.curve=new f.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(o,e){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var n=new t(e);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=t,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=b(474)}catch(o){s=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},function(N,x,b){var s=x;s.utils=b(25),s.common=b(54),s.sha=b(468),s.ripemd=b(472),s.hmac=b(473),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},function(N,x,b){function s(f){if(typeof f=="number"){if(s.codes[f])return s.codes[f];throw new Error("no protocol with code: "+f)}if(typeof f=="string"||f instanceof String){if(s.names[f])return s.names[f];throw new Error("no protocol with name: "+f)}throw new Error("invalid protocol id type: "+f)}const r=-1;function i(f,c,t,a,o){return{code:f,size:c,name:t,resolvable:Boolean(a),path:Boolean(o)}}s.lengthPrefixedVarSize=r,s.V=r,s.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,r,"ip6zone"],[53,r,"dns","resolvable"],[54,r,"dns4","resolvable"],[55,r,"dns6","resolvable"],[56,r,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,r,"unix",!1,"path"],[421,r,"ipfs"],[421,r,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,r,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,r,"memory"]],s.names={},s.codes={},s.table.map(f=>{const c=i.apply(null,f);s.codes[c.code]=c,s.names[c.name]=c}),s.object=i,N.exports=s},function(N,x,b){const{Buffer:s}=b(8),r=b(39);N.exports=async function*(i){for await(const f of i)s.isBuffer(f)?yield f:r.isBufferList(f)?yield f.slice():yield s.from(f)},N.exports.toBuffer=N.exports,N.exports.toList=async function*(i){for await(const f of i)s.isBuffer(f)?yield new r().append(f):r.isBufferList(f)?yield f:yield new r().append(s.from(f))}},function(N,x,b){const s=b(116),r=b(198),i=b(199),f=b(117),c=b(21),t=b(200),a=b(201);N.exports={addPrefix:function(o,e){let n;if(o instanceof Uint8Array)n=f.varintUint8ArrayEncode(o);else{if(!i[o])throw new Error("multicodec not recognized");n=i[o]}return c([n,e],n.length+e.length)},rmPrefix:function(o){return s.decode(o),o.slice(s.decode.bytes)},getCodec:function(o){const e=s.decode(o),n=r.get(e);if(n===void 0)throw new Error(`Code ${e} not found`);return n},getName:function(o){return r.get(o)},getNumber:function(o){const e=i[o];if(e===void 0)throw new Error("Codec `"+o+"` not found");return s.decode(e)},getCode:function(o){return s.decode(o)},getCodeVarint:function(o){const e=i[o];if(e===void 0)throw new Error("Codec `"+o+"` not found");return e},getVarint:function(o){return s.encode(o)},print:a,...t}},function(N,x,b){N.exports={encode:b(195),decode:b(196),encodingLength:b(197)}},function(N,x,b){const s=b(116),r=b(6),i=b(7);function f(c){return parseInt(r(c,"base16"),16)}N.exports={numberToUint8Array:function(c){let t=c.toString(16);return t.length%2==1&&(t="0"+t),i(t,"base16")},uint8ArrayToNumber:f,varintUint8ArrayEncode:function(c){return Uint8Array.from(s.encode(f(c)))},varintEncode:function(c){return Uint8Array.from(s.encode(c))}}},function(N,x,b){var s=b(0);if(b(46),b(29),b(80),b(31),b(45),b(121),b(82),b(32),b(235),b(57),b(4),r===void 0)var r=s.jsbn.BigInteger;var i=s.asn1,f=s.pki=s.pki||{};N.exports=f.pbe=s.pbe=s.pbe||{};var c=f.oids,t={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},a={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function e(u,d){return u.start().update(d).digest().getBytes()}function n(u){var d;if(u){if(!(d=f.oids[i.derToOid(u)])){var l=new Error("Unsupported PRF OID.");throw l.oid=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}}else d="hmacWithSHA1";return h(d)}function h(u){var d=s.md;switch(u){case"hmacWithSHA224":d=s.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":u=u.substr(8).toLowerCase();break;default:var l=new Error("Unsupported PRF algorithm.");throw l.algorithm=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}if(!d||!(u in d))throw new Error("Unknown hash algorithm: "+u);return d[u].create()}f.encryptPrivateKeyInfo=function(u,d,l){(l=l||{}).saltSize=l.saltSize||8,l.count=l.count||2048,l.algorithm=l.algorithm||"aes128",l.prfAlgorithm=l.prfAlgorithm||"sha1";var m,A,B,k=s.random.getBytesSync(l.saltSize),T=l.count,g=i.integerToDer(T);if(l.algorithm.indexOf("aes")===0||l.algorithm==="des"){var E,R,S;switch(l.algorithm){case"aes128":m=16,E=16,R=c["aes128-CBC"],S=s.aes.createEncryptionCipher;break;case"aes192":m=24,E=16,R=c["aes192-CBC"],S=s.aes.createEncryptionCipher;break;case"aes256":m=32,E=16,R=c["aes256-CBC"],S=s.aes.createEncryptionCipher;break;case"des":m=8,E=8,R=c.desCBC,S=s.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_}var M="hmacWith"+l.prfAlgorithm.toUpperCase(),y=h(M),p=s.pkcs5.pbkdf2(d,k,T,m,y),w=s.random.getBytesSync(E);(C=S(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes();var v=function(O,U,q,H){var G=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,U.getBytes())]);return H!=="hmacWithSHA1"&&G.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,s.util.hexToBytes(q.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f.oids[H]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),G}(k,g,m,M);A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBKDF2).getBytes()),v]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(R).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,w)])])])}else{var _;if(l.algorithm!=="3des")throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_;m=24;var C,L=new s.util.ByteBuffer(k);p=f.pbe.generatePkcs12Key(d,L,1,T,m),w=f.pbe.generatePkcs12Key(d,L,2,T,m),(C=s.des.createEncryptionCipher(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes(),A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,k),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,g.getBytes())])])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[A,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B)])},f.decryptPrivateKeyInfo=function(u,d){var l=null,m={},A=[];if(!i.validate(u,t,m,A)){var B=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw B.errors=A,B}var k=i.derToOid(m.encryptionOid),T=f.pbe.getCipher(k,m.encryptionParams,d),g=s.util.createBuffer(m.encryptedData);return T.update(g),T.finish()&&(l=i.fromDer(T.output)),l},f.encryptedPrivateKeyToPem=function(u,d){var l={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(u).getBytes()};return s.pem.encode(l,{maxline:d})},f.encryptedPrivateKeyFromPem=function(u){var d=s.pem.decode(u)[0];if(d.type!=="ENCRYPTED PRIVATE KEY"){var l=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw l.headerType=d.type,l}if(d.procType&&d.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(d.body)},f.encryptRsaPrivateKey=function(u,d,l){if(!(l=l||{}).legacy){var m=f.wrapRsaPrivateKey(f.privateKeyToAsn1(u));return m=f.encryptPrivateKeyInfo(m,d,l),f.encryptedPrivateKeyToPem(m)}var A,B,k,T;switch(l.algorithm){case"aes128":A="AES-128-CBC",k=16,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes192":A="AES-192-CBC",k=24,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes256":A="AES-256-CBC",k=32,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"3des":A="DES-EDE3-CBC",k=24,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;case"des":A="DES-CBC",k=8,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;default:var g=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+l.algorithm+'".');throw g.algorithm=l.algorithm,g}var E=T(s.pbe.opensslDeriveBytes(d,B.substr(0,8),k));E.start(B),E.update(i.toDer(f.privateKeyToAsn1(u))),E.finish();var R={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:A,parameters:s.util.bytesToHex(B).toUpperCase()},body:E.output.getBytes()};return s.pem.encode(R)},f.decryptRsaPrivateKey=function(u,d){var l=null,m=s.pem.decode(u)[0];if(m.type!=="ENCRYPTED PRIVATE KEY"&&m.type!=="PRIVATE KEY"&&m.type!=="RSA PRIVATE KEY")throw(k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=k,k;if(m.procType&&m.procType.type==="ENCRYPTED"){var A,B;switch(m.dekInfo.algorithm){case"DES-CBC":A=8,B=s.des.createDecryptionCipher;break;case"DES-EDE3-CBC":A=24,B=s.des.createDecryptionCipher;break;case"AES-128-CBC":A=16,B=s.aes.createDecryptionCipher;break;case"AES-192-CBC":A=24,B=s.aes.createDecryptionCipher;break;case"AES-256-CBC":A=32,B=s.aes.createDecryptionCipher;break;case"RC2-40-CBC":A=5,B=function(E){return s.rc2.createDecryptionCipher(E,40)};break;case"RC2-64-CBC":A=8,B=function(E){return s.rc2.createDecryptionCipher(E,64)};break;case"RC2-128-CBC":A=16,B=function(E){return s.rc2.createDecryptionCipher(E,128)};break;default:var k;throw(k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+m.dekInfo.algorithm+'".')).algorithm=m.dekInfo.algorithm,k}var T=s.util.hexToBytes(m.dekInfo.parameters),g=B(s.pbe.opensslDeriveBytes(d,T.substr(0,8),A));if(g.start(T),g.update(s.util.createBuffer(m.body)),!g.finish())return l;l=g.output.getBytes()}else l=m.body;return(l=m.type==="ENCRYPTED PRIVATE KEY"?f.decryptPrivateKeyInfo(i.fromDer(l),d):i.fromDer(l))!==null&&(l=f.privateKeyFromAsn1(l)),l},f.pbe.generatePkcs12Key=function(u,d,l,m,A,B){var k,T;if(B==null){if(!("sha1"in s.md))throw new Error('"sha1" hash algorithm unavailable.');B=s.md.sha1.create()}var g=B.digestLength,E=B.blockLength,R=new s.util.ByteBuffer,S=new s.util.ByteBuffer;if(u!=null){for(T=0;T<u.length;T++)S.putInt16(u.charCodeAt(T));S.putInt16(0)}var M=S.length(),y=d.length(),p=new s.util.ByteBuffer;p.fillWithByte(l,E);var w=E*Math.ceil(y/E),v=new s.util.ByteBuffer;for(T=0;T<w;T++)v.putByte(d.at(T%y));var _=E*Math.ceil(M/E),C=new s.util.ByteBuffer;for(T=0;T<_;T++)C.putByte(S.at(T%M));var L=v;L.putBuffer(C);for(var O=Math.ceil(A/g),U=1;U<=O;U++){var q=new s.util.ByteBuffer;q.putBytes(p.bytes()),q.putBytes(L.bytes());for(var H=0;H<m;H++)B.start(),B.update(q.getBytes()),q=B.digest();var G=new s.util.ByteBuffer;for(T=0;T<E;T++)G.putByte(q.at(T%g));var K=Math.ceil(y/E)+Math.ceil(M/E),Q=new s.util.ByteBuffer;for(k=0;k<K;k++){var z=new s.util.ByteBuffer(L.getBytes(E)),D=511;for(T=G.length()-1;T>=0;T--)D>>=8,D+=G.at(T)+z.at(T),z.setAt(T,255&D);Q.putBuffer(z)}L=Q,R.putBuffer(q)}return R.truncate(R.length()-A),R},f.pbe.getCipher=function(u,d,l){switch(u){case f.oids.pkcs5PBES2:return f.pbe.getCipherForPBES2(u,d,l);case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case f.oids["pbewithSHAAnd40BitRC2-CBC"]:return f.pbe.getCipherForPKCS12PBE(u,d,l);default:var m=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw m.oid=u,m.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],m}},f.pbe.getCipherForPBES2=function(u,d,l){var m,A={},B=[];if(!i.validate(d,a,A,B))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=B,m;if((u=i.derToOid(A.kdfOid))!==f.oids.pkcs5PBKDF2)throw(m=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=u,m.supportedOids=["pkcs5PBKDF2"],m;if((u=i.derToOid(A.encOid))!==f.oids["aes128-CBC"]&&u!==f.oids["aes192-CBC"]&&u!==f.oids["aes256-CBC"]&&u!==f.oids["des-EDE3-CBC"]&&u!==f.oids.desCBC)throw(m=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=u,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m;var k,T,g=A.kdfSalt,E=s.util.createBuffer(A.kdfIterationCount);switch(E=E.getInt(E.length()<<3),f.oids[u]){case"aes128-CBC":k=16,T=s.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,T=s.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,T=s.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,T=s.des.createDecryptionCipher;break;case"desCBC":k=8,T=s.des.createDecryptionCipher}var R=n(A.prfOid),S=s.pkcs5.pbkdf2(l,g,E,k,R),M=A.encIv,y=T(S);return y.start(M),y},f.pbe.getCipherForPKCS12PBE=function(u,d,l){var m={},A=[];if(!i.validate(d,o,m,A))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=A,R;var B,k,T,g=s.util.createBuffer(m.salt),E=s.util.createBuffer(m.iterations);switch(E=E.getInt(E.length()<<3),u){case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:B=24,k=8,T=s.des.startDecrypting;break;case f.oids["pbewithSHAAnd40BitRC2-CBC"]:B=5,k=8,T=function(y,p){var w=s.rc2.createDecryptionCipher(y,40);return w.start(p,null),w};break;default:var R;throw(R=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=u,R}var S=n(m.prfOid),M=f.pbe.generatePkcs12Key(l,g,1,E,B,S);return S.start(),T(M,f.pbe.generatePkcs12Key(l,g,2,E,k,S))},f.pbe.opensslDeriveBytes=function(u,d,l,m){if(m==null){if(!("md5"in s.md))throw new Error('"md5" hash algorithm unavailable.');m=s.md.md5.create()}d===null&&(d="");for(var A=[e(m,u+d)],B=16,k=1;B<l;++k,B+=16)A.push(e(m,A[k-1]+u+d));return A.join("").substr(0,l)}},function(N,x,b){var s=b(0);b(4),N.exports=s.cipher=s.cipher||{},s.cipher.algorithms=s.cipher.algorithms||{},s.cipher.createCipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!1})},s.cipher.createDecipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!0})},s.cipher.registerAlgorithm=function(i,f){i=i.toUpperCase(),s.cipher.algorithms[i]=f},s.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in s.cipher.algorithms?s.cipher.algorithms[i]:null};var r=s.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};r.prototype.start=function(i){i=i||{};var f={};for(var c in i)f[c]=i[c];f.decrypt=this._decrypt,this._finish=!1,this._input=s.util.createBuffer(),this.output=i.output||s.util.createBuffer(),this.mode.start(f)},r.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(i){!i||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(c){return i(this.blockSize,c,!1)},this.mode.unpad=function(c){return i(this.blockSize,c,!0)});var f={};return f.decrypt=this._decrypt,f.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,f))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,f))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,f)))}},function(N,x,b){var s=b(0);b(4),s.cipher=s.cipher||{};var r=N.exports=s.cipher.modes=s.cipher.modes||{};function i(t,a){if(typeof t=="string"&&(t=s.util.createBuffer(t)),s.util.isArray(t)&&t.length>4){var o=t;t=s.util.createBuffer();for(var e=0;e<o.length;++e)t.putByte(o[e])}if(t.length()<a)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+a+" bytes.");if(!s.util.isArray(t)){var n=[],h=a/4;for(e=0;e<h;++e)n.push(t.getInt32());t=n}return t}function f(t){t[t.length-1]=t[t.length-1]+1&4294967295}function c(t){return[t/4294967296|0,4294967295&t]}r.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(t){},r.ecb.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.ecb.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},r.cbc.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.cbc.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],a.putInt32(this._inBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.cfb.prototype.decrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),a.putInt32(this._inBlock[n]^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(t,a,o){var e=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}f(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var a,o=s.util.createBuffer(t.iv);if(this._cipherLength=0,a="additionalData"in t?s.util.createBuffer(t.additionalData):s.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=s.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var e=o.length();if(e===12)this._j0=[o.getInt32(),o.getInt32(),o.getInt32(),1];else{for(this._j0=[0,0,0,0];o.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(8*e)))}this._inBlock=this._j0.slice(0),f(this._inBlock),this._partialBytes=0,a=s.util.createBuffer(a),this._aDataLength=c(8*a.length());var n=a.length()%this.blockSize;for(n&&a.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},r.gcm.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize){for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h<=0||o){if(o){var u=e%this.blockSize;this._cipherLength+=u,this._partialOutput.truncate(this.blockSize-u)}else this._cipherLength+=this.blockSize;for(n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return t.read-=this.blockSize,a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),f(this._inBlock)},r.gcm.prototype.decrypt=function(t,a,o){var e=t.length();if(e<this.blockSize&&!(o&&e>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),f(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^this._hashBlock[n]);e<this.blockSize?this._cipherLength+=e%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(t,a){var o=!0;a.decrypt&&a.overflow&&t.truncate(this.blockSize-a.overflow),this.tag=s.util.createBuffer();var e=this._aDataLength.concat(c(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,e);var n=[];this.cipher.encrypt(this._j0,n);for(var h=0;h<this._ints;++h)this.tag.putInt32(this._s[h]^n[h]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),a.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o},r.gcm.prototype.multiply=function(t,a){for(var o=[0,0,0,0],e=a.slice(0),n=0;n<128;++n)t[n/32|0]&1<<31-n%32&&(o[0]^=e[0],o[1]^=e[1],o[2]^=e[2],o[3]^=e[3]),this.pow(e,e);return o},r.gcm.prototype.pow=function(t,a){for(var o=1&t[3],e=3;e>0;--e)a[e]=t[e]>>>1|(1&t[e-1])<<31;a[0]=t[0]>>>1,o&&(a[0]^=this._R)},r.gcm.prototype.tableMultiply=function(t){for(var a=[0,0,0,0],o=0;o<32;++o){var e=t[o/8|0]>>>4*(7-o%8)&15,n=this._m[o][e];a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]}return a},r.gcm.prototype.ghash=function(t,a,o){return a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3],this.tableMultiply(a)},r.gcm.prototype.generateHashTable=function(t,a){for(var o=8/a,e=4*o,n=16*o,h=new Array(n),u=0;u<n;++u){var d=[0,0,0,0],l=(e-1-u%e)*a;d[u/e|0]=1<<a-1<<l,h[u]=this.generateSubHashTable(this.multiply(d,t),a)}return h},r.gcm.prototype.generateSubHashTable=function(t,a){var o=1<<a,e=o>>>1,n=new Array(o);n[e]=t.slice(0);for(var h=e>>>1;h>0;)this.pow(n[2*h],n[h]=[]),h>>=1;for(h=2;h<e;){for(var u=1;u<h;++u){var d=n[h],l=n[u];n[h+u]=[d[0]^l[0],d[1]^l[1],d[2]^l[2],d[3]^l[3]]}h*=2}for(n[0]=[0,0,0,0],h=e+1;h<o;++h){var m=n[h^e];n[h]=[t[0]^m[0],t[1]^m[1],t[2]^m[2],t[3]^m[3]]}return n}},function(N,x,b){(function(s){var r=b(0);b(232),b(31),b(4);var i,f=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=b(81)),N.exports=r.pbkdf2=f.pbkdf2=function(c,t,a,o,e,n){if(typeof e=="function"&&(n=e,e=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(e===null||typeof e!="object")&&(i.pbkdf2Sync.length>4||!e||e==="sha1"))return typeof e!="string"&&(e="sha1"),c=s.from(c,"binary"),t=s.from(t,"binary"),n?i.pbkdf2Sync.length===4?i.pbkdf2(c,t,a,o,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2(c,t,a,o,e,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(c,t,a,o).toString("binary"):i.pbkdf2Sync(c,t,a,o,e).toString("binary");if(e==null&&(e="sha1"),typeof e=="string"){if(!(e in r.md.algorithms))throw new Error("Unknown hash algorithm: "+e);e=r.md[e].create()}var h=e.digestLength;if(o>4294967295*h){var u=new Error("Derived key is too long.");if(n)return n(u);throw u}var d=Math.ceil(o/h),l=o-(d-1)*h,m=r.hmac.create();m.start(e,c);var A,B,k,T="";if(!n){for(var g=1;g<=d;++g){m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes();for(var E=2;E<=a;++E)m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B;T+=g<d?A:A.substr(0,l)}return T}g=1;function R(){if(g>d)return n(null,T);m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes(),E=2,S()}function S(){if(E<=a)return m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B,++E,r.util.setImmediate(S);T+=g<d?A:A.substr(0,l),++g,R()}R()}}).call(this,b(8).Buffer)},function(N,x,b){const s=b(21),r=b(7),i=b(59);N.exports={create:function({algorithm:f="AES-GCM",nonceLength:c=12,keyLength:t=16,digest:a="SHA-256",saltLength:o=16,iterations:e=32767}={}){const n=i.get();return t*=8,{encrypt:async function(h,u){const d=n.getRandomValues(new Uint8Array(o)),l=n.getRandomValues(new Uint8Array(c)),m={name:f,iv:l},A={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},B=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),k=await n.subtle.deriveKey(A,B,{name:f,length:t},!0,["encrypt"]),T=await n.subtle.encrypt(m,k,h);return s([d,m.iv,new Uint8Array(T)])},decrypt:async function(h,u){const d=h.slice(0,o),l=h.slice(o,o+c),m=h.slice(o+c),A={name:f,iv:l},B={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},k=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),T=await n.subtle.deriveKey(B,k,{name:f,length:t},!0,["decrypt"]),g=await n.subtle.decrypt(A,T,m);return new Uint8Array(g)}}}}},function(N,x,b){(function(s){var r=b(0);b(58),b(32),b(83),b(4);var i=b(241),f=i.publicKeyValidator,c=i.privateKeyValidator;if(t===void 0)var t=r.jsbn.BigInteger;var a=r.util.ByteBuffer,o=s===void 0?Uint8Array:s;r.pki=r.pki||{},N.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var e=r.ed25519;function n(z){var D=z.message;if(D instanceof Uint8Array||D instanceof o)return D;var F=z.encoding;if(D===void 0){if(!z.md)throw new TypeError('"options.message" or "options.md" not specified.');D=z.md.digest().getBytes(),F="binary"}if(typeof D=="string"&&!F)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof D=="string"){if(s!==void 0)return s.from(D,F);D=new a(D,F)}else if(!(D instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var I=new o(D.length()),P=0;P<I.length;++P)I[P]=D.at(P);return I}e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(z){var D=(z=z||{}).seed;if(D===void 0)D=r.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if(typeof D=="string"){if(D.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(D instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');D=n({message:D,encoding:"binary"});for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=new o(e.constants.PRIVATE_KEY_BYTE_LENGTH),P=0;P<32;++P)I[P]=D[P];return function(V,$){var W,et=[q(),q(),q(),q()],ot=T($,32);for(ot[0]&=248,ot[31]&=127,ot[31]|=64,C(et,ot),M(V,et),W=0;W<32;++W)$[W+32]=V[W]}(F,I),{publicKey:F,privateKey:I}},e.privateKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,c,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.privateKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.privateKey;return{privateKeyBytes:n({message:r.asn1.fromDer($).value,encoding:"binary"})}},e.publicKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,f,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.publicKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.ed25519PublicKey;if($.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return n({message:$,encoding:"binary"})},e.publicKeyFromPrivateKey=function(z){var D=n({message:(z=z||{}).privateKey,encoding:"binary"});if(D.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=0;I<F.length;++I)F[I]=D[32+I];return F},e.sign=function(z){var D=n(z=z||{}),F=n({message:z.privateKey,encoding:"binary"});if(F.length===e.constants.SEED_BYTE_LENGTH)F=e.generateKeyPair({seed:F}).privateKey;else if(F.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.SEED_BYTE_LENGTH+" or "+e.constants.PRIVATE_KEY_BYTE_LENGTH);var I=new o(e.constants.SIGN_BYTE_LENGTH+D.length);!function($,W,et,ot){var j,Y,X=new Float64Array(64),tt=[q(),q(),q(),q()],rt=T(ot,32);for(rt[0]&=248,rt[31]&=127,rt[31]|=64,j=0;j<et;++j)$[64+j]=W[j];for(j=0;j<32;++j)$[32+j]=rt[32+j];var J=T($.subarray(32),et+32);for(E(J),C(tt,J),M($,tt),j=32;j<64;++j)$[j]=ot[j];var Z=T($,et+64);for(E(Z),j=32;j<64;++j)X[j]=0;for(j=0;j<32;++j)X[j]=J[j];for(j=0;j<32;++j)for(Y=0;Y<32;Y++)X[j+Y]+=Z[j]*rt[Y];g($.subarray(32),X)}(I,D,D.length,F);for(var P=new o(e.constants.SIGN_BYTE_LENGTH),V=0;V<P.length;++V)P[V]=I[V];return P},e.verify=function(z){var D=n(z=z||{});if(z.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var F=n({message:z.signature,encoding:"binary"});if(F.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var I=n({message:z.publicKey,encoding:"binary"});if(I.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var P,V=new o(e.constants.SIGN_BYTE_LENGTH+D.length),$=new o(e.constants.SIGN_BYTE_LENGTH+D.length);for(P=0;P<e.constants.SIGN_BYTE_LENGTH;++P)V[P]=F[P];for(P=0;P<D.length;++P)V[P+e.constants.SIGN_BYTE_LENGTH]=D[P];return function(W,et,ot,j){var Y,X=new o(32),tt=[q(),q(),q(),q()],rt=[q(),q(),q(),q()];if(ot<64)return-1;if(function(Z,nt){var it=q(),st=q(),at=q(),ct=q(),ut=q(),bt=q(),ht=q();return L(Z[2],u),function(yt,Ct){var ft;for(ft=0;ft<16;++ft)yt[ft]=Ct[2*ft]+(Ct[2*ft+1]<<8);yt[15]&=32767}(Z[1],nt),K(at,Z[1]),Q(ct,at,d),G(at,at,Z[2]),H(ct,Z[2],ct),K(ut,ct),K(bt,ut),Q(ht,bt,ut),Q(it,ht,at),Q(it,it,ct),function(yt,Ct){var ft,dt=q();for(ft=0;ft<16;++ft)dt[ft]=Ct[ft];for(ft=250;ft>=0;--ft)K(dt,dt),ft!==1&&Q(dt,dt,Ct);for(ft=0;ft<16;++ft)yt[ft]=dt[ft]}(it,it),Q(it,it,at),Q(it,it,ct),Q(it,it,ct),Q(Z[0],it,ct),K(st,Z[0]),Q(st,st,ct),p(st,at)&&Q(Z[0],Z[0],k),(K(st,Z[0]),Q(st,st,ct),p(st,at))?-1:(v(Z[0])===nt[31]>>7&&G(Z[0],h,Z[0]),Q(Z[3],Z[0],Z[1]),0)}(rt,j))return-1;for(Y=0;Y<ot;++Y)W[Y]=et[Y];for(Y=0;Y<32;++Y)W[Y+32]=j[Y];var J=T(W,ot);if(E(J),_(tt,rt,J),C(rt,et.subarray(32)),R(tt,rt),M(X,tt),ot-=64,w(et,0,X,0)){for(Y=0;Y<ot;++Y)W[Y]=0;return-1}for(Y=0;Y<ot;++Y)W[Y]=et[Y+64];return ot}($,V,V.length,I)>=0};var h=q(),u=q([1]),d=q([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=q([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=q([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=q([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),k=q([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,D){var F=r.md.sha512.create(),I=new a(z);F.update(I.getBytes(D),"binary");var P=F.digest().getBytes();if(s!==void 0)return s.from(P,"binary");for(var V=new o(e.constants.HASH_BYTE_LENGTH),$=0;$<64;++$)V[$]=P.charCodeAt($);return V}function g(z,D){var F,I,P,V;for(I=63;I>=32;--I){for(F=0,P=I-32,V=I-12;P<V;++P)D[P]+=F-16*D[I]*B[P-(I-32)],F=D[P]+128>>8,D[P]-=256*F;D[P]+=F,D[I]=0}for(F=0,P=0;P<32;++P)D[P]+=F-(D[31]>>4)*B[P],F=D[P]>>8,D[P]&=255;for(P=0;P<32;++P)D[P]-=F*B[P];for(I=0;I<32;++I)D[I+1]+=D[I]>>8,z[I]=255&D[I]}function E(z){for(var D=new Float64Array(64),F=0;F<64;++F)D[F]=z[F],z[F]=0;g(z,D)}function R(z,D){var F=q(),I=q(),P=q(),V=q(),$=q(),W=q(),et=q(),ot=q(),j=q();G(F,z[1],z[0]),G(j,D[1],D[0]),Q(F,F,j),H(I,z[0],z[1]),H(j,D[0],D[1]),Q(I,I,j),Q(P,z[3],D[3]),Q(P,P,l),Q(V,z[2],D[2]),H(V,V,V),G($,I,F),G(W,V,P),H(et,V,P),H(ot,I,F),Q(z[0],$,W),Q(z[1],ot,et),Q(z[2],et,W),Q(z[3],$,ot)}function S(z,D,F){for(var I=0;I<4;++I)U(z[I],D[I],F)}function M(z,D){var F=q(),I=q(),P=q();!function(V,$){var W,et=q();for(W=0;W<16;++W)et[W]=$[W];for(W=253;W>=0;--W)K(et,et),W!==2&&W!==4&&Q(et,et,$);for(W=0;W<16;++W)V[W]=et[W]}(P,D[2]),Q(F,D[0],P),Q(I,D[1],P),y(z,I),z[31]^=v(F)<<7}function y(z,D){var F,I,P,V=q(),$=q();for(F=0;F<16;++F)$[F]=D[F];for(O($),O($),O($),I=0;I<2;++I){for(V[0]=$[0]-65517,F=1;F<15;++F)V[F]=$[F]-65535-(V[F-1]>>16&1),V[F-1]&=65535;V[15]=$[15]-32767-(V[14]>>16&1),P=V[15]>>16&1,V[14]&=65535,U($,V,1-P)}for(F=0;F<16;F++)z[2*F]=255&$[F],z[2*F+1]=$[F]>>8}function p(z,D){var F=new o(32),I=new o(32);return y(F,z),y(I,D),w(F,0,I,0)}function w(z,D,F,I){return function(P,V,$,W,et){var ot,j=0;for(ot=0;ot<et;++ot)j|=P[V+ot]^$[W+ot];return(1&j-1>>>8)-1}(z,D,F,I,32)}function v(z){var D=new o(32);return y(D,z),1&D[0]}function _(z,D,F){var I,P;for(L(z[0],h),L(z[1],u),L(z[2],u),L(z[3],h),P=255;P>=0;--P)S(z,D,I=F[P/8|0]>>(7&P)&1),R(D,z),R(z,z),S(z,D,I)}function C(z,D){var F=[q(),q(),q(),q()];L(F[0],m),L(F[1],A),L(F[2],u),Q(F[3],m,A),_(z,F,D)}function L(z,D){var F;for(F=0;F<16;F++)z[F]=0|D[F]}function O(z){var D,F,I=1;for(D=0;D<16;++D)F=z[D]+I+65535,I=Math.floor(F/65536),z[D]=F-65536*I;z[0]+=I-1+37*(I-1)}function U(z,D,F){for(var I,P=~(F-1),V=0;V<16;++V)I=P&(z[V]^D[V]),z[V]^=I,D[V]^=I}function q(z){var D,F=new Float64Array(16);if(z)for(D=0;D<z.length;++D)F[D]=z[D];return F}function H(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]+F[I]}function G(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]-F[I]}function K(z,D){Q(z,D,D)}function Q(z,D,F){var I,P,V=0,$=0,W=0,et=0,ot=0,j=0,Y=0,X=0,tt=0,rt=0,J=0,Z=0,nt=0,it=0,st=0,at=0,ct=0,ut=0,bt=0,ht=0,yt=0,Ct=0,ft=0,dt=0,Kt=0,Tt=0,Rt=0,jt=0,It=0,Bt=0,Vt=0,pt=F[0],lt=F[1],Pt=F[2],gt=F[3],mt=F[4],Lt=F[5],vt=F[6],wt=F[7],Ot=F[8],Et=F[9],St=F[10],Dt=F[11],_t=F[12],kt=F[13],Ut=F[14],At=F[15];V+=(I=D[0])*pt,$+=I*lt,W+=I*Pt,et+=I*gt,ot+=I*mt,j+=I*Lt,Y+=I*vt,X+=I*wt,tt+=I*Ot,rt+=I*Et,J+=I*St,Z+=I*Dt,nt+=I*_t,it+=I*kt,st+=I*Ut,at+=I*At,$+=(I=D[1])*pt,W+=I*lt,et+=I*Pt,ot+=I*gt,j+=I*mt,Y+=I*Lt,X+=I*vt,tt+=I*wt,rt+=I*Ot,J+=I*Et,Z+=I*St,nt+=I*Dt,it+=I*_t,st+=I*kt,at+=I*Ut,ct+=I*At,W+=(I=D[2])*pt,et+=I*lt,ot+=I*Pt,j+=I*gt,Y+=I*mt,X+=I*Lt,tt+=I*vt,rt+=I*wt,J+=I*Ot,Z+=I*Et,nt+=I*St,it+=I*Dt,st+=I*_t,at+=I*kt,ct+=I*Ut,ut+=I*At,et+=(I=D[3])*pt,ot+=I*lt,j+=I*Pt,Y+=I*gt,X+=I*mt,tt+=I*Lt,rt+=I*vt,J+=I*wt,Z+=I*Ot,nt+=I*Et,it+=I*St,st+=I*Dt,at+=I*_t,ct+=I*kt,ut+=I*Ut,bt+=I*At,ot+=(I=D[4])*pt,j+=I*lt,Y+=I*Pt,X+=I*gt,tt+=I*mt,rt+=I*Lt,J+=I*vt,Z+=I*wt,nt+=I*Ot,it+=I*Et,st+=I*St,at+=I*Dt,ct+=I*_t,ut+=I*kt,bt+=I*Ut,ht+=I*At,j+=(I=D[5])*pt,Y+=I*lt,X+=I*Pt,tt+=I*gt,rt+=I*mt,J+=I*Lt,Z+=I*vt,nt+=I*wt,it+=I*Ot,st+=I*Et,at+=I*St,ct+=I*Dt,ut+=I*_t,bt+=I*kt,ht+=I*Ut,yt+=I*At,Y+=(I=D[6])*pt,X+=I*lt,tt+=I*Pt,rt+=I*gt,J+=I*mt,Z+=I*Lt,nt+=I*vt,it+=I*wt,st+=I*Ot,at+=I*Et,ct+=I*St,ut+=I*Dt,bt+=I*_t,ht+=I*kt,yt+=I*Ut,Ct+=I*At,X+=(I=D[7])*pt,tt+=I*lt,rt+=I*Pt,J+=I*gt,Z+=I*mt,nt+=I*Lt,it+=I*vt,st+=I*wt,at+=I*Ot,ct+=I*Et,ut+=I*St,bt+=I*Dt,ht+=I*_t,yt+=I*kt,Ct+=I*Ut,ft+=I*At,tt+=(I=D[8])*pt,rt+=I*lt,J+=I*Pt,Z+=I*gt,nt+=I*mt,it+=I*Lt,st+=I*vt,at+=I*wt,ct+=I*Ot,ut+=I*Et,bt+=I*St,ht+=I*Dt,yt+=I*_t,Ct+=I*kt,ft+=I*Ut,dt+=I*At,rt+=(I=D[9])*pt,J+=I*lt,Z+=I*Pt,nt+=I*gt,it+=I*mt,st+=I*Lt,at+=I*vt,ct+=I*wt,ut+=I*Ot,bt+=I*Et,ht+=I*St,yt+=I*Dt,Ct+=I*_t,ft+=I*kt,dt+=I*Ut,Kt+=I*At,J+=(I=D[10])*pt,Z+=I*lt,nt+=I*Pt,it+=I*gt,st+=I*mt,at+=I*Lt,ct+=I*vt,ut+=I*wt,bt+=I*Ot,ht+=I*Et,yt+=I*St,Ct+=I*Dt,ft+=I*_t,dt+=I*kt,Kt+=I*Ut,Tt+=I*At,Z+=(I=D[11])*pt,nt+=I*lt,it+=I*Pt,st+=I*gt,at+=I*mt,ct+=I*Lt,ut+=I*vt,bt+=I*wt,ht+=I*Ot,yt+=I*Et,Ct+=I*St,ft+=I*Dt,dt+=I*_t,Kt+=I*kt,Tt+=I*Ut,Rt+=I*At,nt+=(I=D[12])*pt,it+=I*lt,st+=I*Pt,at+=I*gt,ct+=I*mt,ut+=I*Lt,bt+=I*vt,ht+=I*wt,yt+=I*Ot,Ct+=I*Et,ft+=I*St,dt+=I*Dt,Kt+=I*_t,Tt+=I*kt,Rt+=I*Ut,jt+=I*At,it+=(I=D[13])*pt,st+=I*lt,at+=I*Pt,ct+=I*gt,ut+=I*mt,bt+=I*Lt,ht+=I*vt,yt+=I*wt,Ct+=I*Ot,ft+=I*Et,dt+=I*St,Kt+=I*Dt,Tt+=I*_t,Rt+=I*kt,jt+=I*Ut,It+=I*At,st+=(I=D[14])*pt,at+=I*lt,ct+=I*Pt,ut+=I*gt,bt+=I*mt,ht+=I*Lt,yt+=I*vt,Ct+=I*wt,ft+=I*Ot,dt+=I*Et,Kt+=I*St,Tt+=I*Dt,Rt+=I*_t,jt+=I*kt,It+=I*Ut,Bt+=I*At,at+=(I=D[15])*pt,$+=38*(ut+=I*Pt),W+=38*(bt+=I*gt),et+=38*(ht+=I*mt),ot+=38*(yt+=I*Lt),j+=38*(Ct+=I*vt),Y+=38*(ft+=I*wt),X+=38*(dt+=I*Ot),tt+=38*(Kt+=I*Et),rt+=38*(Tt+=I*St),J+=38*(Rt+=I*Dt),Z+=38*(jt+=I*_t),nt+=38*(It+=I*kt),it+=38*(Bt+=I*Ut),st+=38*(Vt+=I*At),V=(I=(V+=38*(ct+=I*lt))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V=(I=(V+=P-1+37*(P-1))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V+=P-1+37*(P-1),z[0]=V,z[1]=$,z[2]=W,z[3]=et,z[4]=ot,z[5]=j,z[6]=Y,z[7]=X,z[8]=tt,z[9]=rt,z[10]=J,z[11]=Z,z[12]=nt,z[13]=it,z[14]=st,z[15]=at}}).call(this,b(8).Buffer)},function(N,x,b){N.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(N,x,b){var s=x;function r(f){return f.length===1?"0"+f:f}function i(f){for(var c="",t=0;t<f.length;t++)c+=r(f[t].toString(16));return c}s.toArray=function(f,c){if(Array.isArray(f))return f.slice();if(!f)return[];var t=[];if(typeof f!="string"){for(var a=0;a<f.length;a++)t[a]=0|f[a];return t}if(c==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),a=0;a<f.length;a+=2)t.push(parseInt(f[a]+f[a+1],16));else for(a=0;a<f.length;a++){var o=f.charCodeAt(a),e=o>>8,n=255&o;e?t.push(e,n):t.push(n)}return t},s.zero2=r,s.toHex=i,s.encode=function(f,c){return c==="hex"?i(f):f}},function(N,x,b){var s;function r(f){this.rand=f}if(N.exports=function(f){return s||(s=new r(null)),s.generate(f)},N.exports.Rand=r,r.prototype.generate=function(f){return this._rand(f)},r.prototype._rand=function(f){if(this.rand.getBytes)return this.rand.getBytes(f);for(var c=new Uint8Array(f),t=0;t<c.length;t++)c[t]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=b(256);if(typeof i.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(f){return i.randomBytes(f)}}catch(f){}},function(N,x,b){var s=x;s.base=b(60),s.short=b(257),s.mont=b(258),s.edwards=b(259)},function(N,x,b){var s=b(23).rotr32;function r(c,t,a){return c&t^~c&a}function i(c,t,a){return c&t^c&a^t&a}function f(c,t,a){return c^t^a}x.ft_1=function(c,t,a,o){return c===0?r(t,a,o):c===1||c===3?f(t,a,o):c===2?i(t,a,o):void 0},x.ch32=r,x.maj32=i,x.p32=f,x.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},x.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},x.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},x.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},function(N,x,b){var s=b(23),r=b(48),i=b(128),f=b(33),c=s.sum32,t=s.sum32_4,a=s.sum32_5,o=i.ch32,e=i.maj32,n=i.s0_256,h=i.s1_256,u=i.g0_256,d=i.g1_256,l=r.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function A(){if(!(this instanceof A))return new A;l.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}s.inherits(A,l),N.exports=A,A.blockSize=512,A.outSize=256,A.hmacStrength=192,A.padLength=64,A.prototype._update=function(B,k){for(var T=this.W,g=0;g<16;g++)T[g]=B[k+g];for(;g<T.length;g++)T[g]=t(d(T[g-2]),T[g-7],u(T[g-15]),T[g-16]);var E=this.h[0],R=this.h[1],S=this.h[2],M=this.h[3],y=this.h[4],p=this.h[5],w=this.h[6],v=this.h[7];for(f(this.k.length===T.length),g=0;g<T.length;g++){var _=a(v,h(y),o(y,p,w),this.k[g],T[g]),C=c(n(E),e(E,R,S));v=w,w=p,p=y,y=c(M,_),M=S,S=R,R=E,E=c(_,C)}this.h[0]=c(this.h[0],E),this.h[1]=c(this.h[1],R),this.h[2]=c(this.h[2],S),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],y),this.h[5]=c(this.h[5],p),this.h[6]=c(this.h[6],w),this.h[7]=c(this.h[7],v)},A.prototype._digest=function(B){return B==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(23),r=b(48),i=b(33),f=s.rotr64_hi,c=s.rotr64_lo,t=s.shr64_hi,a=s.shr64_lo,o=s.sum64,e=s.sum64_hi,n=s.sum64_lo,h=s.sum64_4_hi,u=s.sum64_4_lo,d=s.sum64_5_hi,l=s.sum64_5_lo,m=r.BlockHash,A=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function B(){if(!(this instanceof B))return new B;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=A,this.W=new Array(160)}function k(C,L,O,U,q){var H=C&O^~C&q;return H<0&&(H+=4294967296),H}function T(C,L,O,U,q,H){var G=L&U^~L&H;return G<0&&(G+=4294967296),G}function g(C,L,O,U,q){var H=C&O^C&q^O&q;return H<0&&(H+=4294967296),H}function E(C,L,O,U,q,H){var G=L&U^L&H^U&H;return G<0&&(G+=4294967296),G}function R(C,L){var O=f(C,L,28)^f(L,C,2)^f(L,C,7);return O<0&&(O+=4294967296),O}function S(C,L){var O=c(C,L,28)^c(L,C,2)^c(L,C,7);return O<0&&(O+=4294967296),O}function M(C,L){var O=f(C,L,14)^f(C,L,18)^f(L,C,9);return O<0&&(O+=4294967296),O}function y(C,L){var O=c(C,L,14)^c(C,L,18)^c(L,C,9);return O<0&&(O+=4294967296),O}function p(C,L){var O=f(C,L,1)^f(C,L,8)^t(C,L,7);return O<0&&(O+=4294967296),O}function w(C,L){var O=c(C,L,1)^c(C,L,8)^a(C,L,7);return O<0&&(O+=4294967296),O}function v(C,L){var O=f(C,L,19)^f(L,C,29)^t(C,L,6);return O<0&&(O+=4294967296),O}function _(C,L){var O=c(C,L,19)^c(L,C,29)^a(C,L,6);return O<0&&(O+=4294967296),O}s.inherits(B,m),N.exports=B,B.blockSize=1024,B.outSize=512,B.hmacStrength=192,B.padLength=128,B.prototype._prepareBlock=function(C,L){for(var O=this.W,U=0;U<32;U++)O[U]=C[L+U];for(;U<O.length;U+=2){var q=v(O[U-4],O[U-3]),H=_(O[U-4],O[U-3]),G=O[U-14],K=O[U-13],Q=p(O[U-30],O[U-29]),z=w(O[U-30],O[U-29]),D=O[U-32],F=O[U-31];O[U]=h(q,H,G,K,Q,z,D,F),O[U+1]=u(q,H,G,K,Q,z,D,F)}},B.prototype._update=function(C,L){this._prepareBlock(C,L);var O=this.W,U=this.h[0],q=this.h[1],H=this.h[2],G=this.h[3],K=this.h[4],Q=this.h[5],z=this.h[6],D=this.h[7],F=this.h[8],I=this.h[9],P=this.h[10],V=this.h[11],$=this.h[12],W=this.h[13],et=this.h[14],ot=this.h[15];i(this.k.length===O.length);for(var j=0;j<O.length;j+=2){var Y=et,X=ot,tt=M(F,I),rt=y(F,I),J=k(F,I,P,V,$),Z=T(F,I,P,V,$,W),nt=this.k[j],it=this.k[j+1],st=O[j],at=O[j+1],ct=d(Y,X,tt,rt,J,Z,nt,it,st,at),ut=l(Y,X,tt,rt,J,Z,nt,it,st,at);Y=R(U,q),X=S(U,q),tt=g(U,q,H,G,K),rt=E(U,q,H,G,K,Q);var bt=e(Y,X,tt,rt),ht=n(Y,X,tt,rt);et=$,ot=W,$=P,W=V,P=F,V=I,F=e(z,D,ct,ut),I=n(D,D,ct,ut),z=K,D=Q,K=H,Q=G,H=U,G=q,U=e(ct,ut,bt,ht),q=n(ct,ut,bt,ht)}o(this.h,0,U,q),o(this.h,2,H,G),o(this.h,4,K,Q),o(this.h,6,z,D),o(this.h,8,F,I),o(this.h,10,P,V),o(this.h,12,$,W),o(this.h,14,et,ot)},B.prototype._digest=function(C){return C==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){const s=b(59),r=b(275),i={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};x.create=async function(f,c){const t=i[f],a=await s.get().subtle.importKey("raw",c,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{digest:async o=>(async(e,n)=>{const h=await s.get().subtle.sign({name:"HMAC"},e,n);return new Uint8Array(h,h.byteOffset,h.byteLength)})(a,o),length:r[f]}}},function(N,x,b){N.exports=async s=>{const r=[];for await(const i of s)r.push(i);return r}},function(N,x,b){class s extends Error{constructor(i){super(i||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(i){return(...f)=>new r((c,t,a)=>{f.push(a),i(...f).then(c,t)})}constructor(i){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((f,c)=>{this._reject=c;const t=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(t,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),i(a=>{this._isPending=!1,f(a)},a=>{this._isPending=!1,c(a)},t)})}then(i,f){return this._promise.then(i,f)}catch(i){return this._promise.catch(i)}finally(i){return this._promise.finally(i)}cancel(i){if(this._isPending&&!this._isCanceled){if(this._cancelHandlers.length>0)try{for(const f of this._cancelHandlers)f()}catch(f){this._reject(f)}this._isCanceled=!0,this._rejectOnCancel&&this._reject(new s(i))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),N.exports=r,N.exports.CancelError=s},function(N,x,b){const s=new Map;N.exports={setDelayedInterval:function(r,i,f){f=f||i;const c=`${Date.now()}:${Math.floor(1e6*Math.random())}`,t=setTimeout(()=>{!async function(a,o,e){for(;s.get(e);){try{await a()}catch(n){setTimeout(()=>{throw n},1);break}if(!s.get(e))break;await new Promise(n=>{const h=setTimeout(n,o);s.set(e,h)})}}(r,i,c)},f);return s.set(c,t),c},clearDelayedInterval:function(r){const i=s.get(r);i&&(clearTimeout(i),s.delete(r))}}},function(N,x,b){const s=b(9),r=b(14),i=b(1),{codes:f}=b(10);N.exports=function(c){let t;if(typeof c=="string"&&(c=r(c)),r.isMultiaddr(c)){t=c;try{c=s.createFromB58String(c.getPeerId())}catch(a){throw i(new Error(c+" is not a valid peer type"),f.ERR_INVALID_MULTIADDR)}}return{id:c,multiaddrs:t?[t]:void 0}}},function(N,x,b){const s=b(290),r=i=>s({exact:!0}).test(i);r.v4=i=>s.v4({exact:!0}).test(i),r.v6=i=>s.v6({exact:!0}).test(i),r.version=i=>r(i)?r.v4(i)?4:6:void 0,N.exports=r},function(N,x,b){var s=b(302),r=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,f=Array.prototype.concat,c=Object.defineProperty,t=c&&function(){var e={};try{for(var n in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(h){return!1}}(),a=function(e,n,h,u){var d;(!(n in e)||typeof(d=u)=="function"&&i.call(d)==="[object Function]"&&u())&&(t?c(e,n,{configurable:!0,enumerable:!1,value:h,writable:!0}):e[n]=h)},o=function(e,n){var h=arguments.length>2?arguments[2]:{},u=s(n);r&&(u=f.call(u,Object.getOwnPropertySymbols(n)));for(var d=0;d<u.length;d+=1)a(e,u[d],n[u[d]],h[u[d]])};o.supportsDescriptors=!!t,N.exports=o},function(N,x,b){var s=Object.prototype.toString;N.exports=function(r){var i=s.call(r),f=i==="[object Arguments]";return f||(f=i!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&s.call(r.callee)==="[object Function]"),f}},function(N,x,b){typeof self!="undefined"?N.exports=self:typeof window!="undefined"?N.exports=window:N.exports=Function("return this")()},function(N,x,b){(function(s){var r=b(139);N.exports=function(){return typeof s=="object"&&s&&s.Math===Math&&s.Array===Array?s:r}}).call(this,b(44))},function(N,x,b){const s=b(306).version;N.exports.PROTOCOL_VERSION="ipfs/0.1.0",N.exports.AGENT_VERSION="js-libp2p/"+s,N.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0",N.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"},function(N,x,b){const s=b(307);function r(i,f){const c=s(i.multiaddr),t=s(f.multiaddr);return c&&!t?1:!c&&t||i.isCertified&&!f.isCertified?-1:!i.isCertified&&f.isCertified?1:0}N.exports.publicAddressesFirst=function(i){return[...i].sort(r)}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:transports"),{error:s("libp2p:transports:err")}),i=b(311),{codes:f}=b(10),c=b(1),{updateSelfPeerRecord:t}=b(315);class a{constructor({libp2p:e,upgrader:n,faultTolerance:h=o.FATAL_ALL}){this.libp2p=e,this.upgrader=n,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=h}add(e,n,h={}){if(r("adding %s",e),!e)throw c(new Error(`Transport must have a valid key, was given '${e}'`),f.ERR_INVALID_KEY);if(this._transports.has(e))throw c(new Error("There is already a transport with this key"),f.ERR_DUPLICATE_TRANSPORT);const u=new n({...h,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,u),this._listenerOptions.set(e,h.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){const e=[];for(const[n,h]of this._listeners)for(r("closing listeners for %s",n);h.length;){const u=h.pop();u.removeAllListeners("listening"),u.removeAllListeners("close"),e.push(u.close())}await Promise.all(e),r("all listeners closed");for(const n of this._listeners.keys())this._listeners.set(n,[])}async dial(e,n){const h=this.transportForMultiaddr(e);if(!h)throw c(new Error("No transport available for address "+String(e)),f.ERR_TRANSPORT_UNAVAILABLE);try{return await h.dial(e,n)}catch(u){throw u.code||(u.code=f.ERR_TRANSPORT_DIAL_FAILED),u}}getAddrs(){let e=[];for(const n of this._listeners.values())for(const h of n)e=[...e,...h.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(const n of this._transports.values())if(n.filter([e]).length)return n;return null}async listen(e){if(!e||e.length===0)return void r("no addresses were provided for listening, this node is dial only");const n=[];for(const[h,u]of this._transports.entries()){const d=u.filter(e),l=[];for(const m of d){r("creating listener for %s on %s",h,m);const A=u.createListener(this._listenerOptions.get(h));this._listeners.get(h).push(A),A.on("listening",()=>t(this.libp2p)),A.on("close",()=>t(this.libp2p)),l.push(A.listen(m))}if(l.length===0){n.push(h);continue}if(!(await i(l)).find(m=>m.isFulfilled===!0))throw c(new Error(`Transport (${h}) could not listen on any available address`),f.ERR_NO_VALID_ADDRESSES)}if(n.length===this._transports.size){const h=`no valid addresses were provided for transports [${n}]`;if(this.faultTolerance===o.FATAL_ALL)throw c(new Error(h),f.ERR_NO_VALID_ADDRESSES);r("libp2p in dial mode only: "+h)}}async remove(e){if(r("removing %s",e),this._listeners.has(e))for(const n of this._listeners.get(e))n.removeAllListeners("listening"),n.removeAllListeners("close"),await n.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){const e=[];for(const n of this._transports.keys())e.push(this.remove(n));await Promise.all(e)}}const o={FATAL_ALL:0,NO_FATAL:1};a.FaultTolerance=o,N.exports=a},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:circuit:hop"),{error:s("libp2p:circuit:hop:err")}),i=b(1),f=b(9),{validateAddrs:c}=b(145),t=b(96),{CircuitRelay:a}=b(49),{pipe:o}=b(34),{codes:e}=b(10),{stop:n}=b(151),h=b(64);N.exports={handleHop:async function({connection:u,request:d,streamHandler:l,circuit:m}){if(!m._options.hop.enabled)return r("HOP request received but we are not acting as a relay"),l.end({type:a.Type.STATUS,code:a.Status.HOP_CANT_SPEAK_RELAY});try{c(d,l)}catch(E){return r.error("invalid hop request via peer %s",u.remotePeer.toB58String(),E)}const A=new f(d.dstPeer.id),B=m._connectionManager.get(A);if(!B&&!m._options.hop.active)return r("HOP request received but we are not connected to the destination peer"),l.end({type:a.Type.STATUS,code:a.Status.HOP_NO_CONN_TO_DST});if(!B)return;const k={type:a.Type.STOP,dstPeer:d.dstPeer,srcPeer:d.srcPeer};let T;try{T=await n({connection:B,request:k})}catch(E){return r.error(E)}r("hop request from %s is valid",u.remotePeer.toB58String()),l.write({type:a.Type.STATUS,code:a.Status.SUCCESS});const g=l.rest();return o(g,T,g)},hop:async function({connection:u,request:d}){const{stream:l}=await u.newStream([h.relay]),m=new t({stream:l});m.write(d);const A=await m.read();if(A.code===a.Status.SUCCESS)return r("hop request was successful"),m.rest();throw r("hop request failed with code %d, closing stream",A.code),m.close(),i(new Error("HOP request failed with code "+A.code),e.ERR_HOP_REQUEST_FAILED)},canHop:async function({connection:u}){const{stream:d}=await u.newStream([h.relay]),l=new t({stream:d});l.write({type:a.Type.CAN_HOP});const m=await l.read();return await l.close(),m.code===a.Status.SUCCESS},handleCanHop:function({connection:u,streamHandler:d,circuit:l}){const m=l._options.hop.enabled;r("can hop (%s) request from %s",m,u.remotePeer.toB58String()),d.end({type:a.Type.STATUS,code:m?a.Status.SUCCESS:a.Status.HOP_CANT_SPEAK_RELAY})}}},function(N,x,b){const s=b(14),{CircuitRelay:r}=b(49);function i(f,c){f.write({type:r.Type.STATUS,code:c})}N.exports={validateAddrs:function(f,c){try{f.dstPeer.addrs.forEach(t=>s(t))}catch(t){throw i(c,f.type===r.Type.HOP?r.Status.HOP_DST_MULTIADDR_INVALID:r.Status.STOP_DST_MULTIADDR_INVALID),t}try{f.srcPeer.addrs.forEach(t=>s(t))}catch(t){throw i(c,f.type===r.Type.HOP?r.Status.HOP_SRC_MULTIADDR_INVALID:r.Status.STOP_SRC_MULTIADDR_INVALID),t}}}},function(N,x,b){const s=b(11),{Buffer:r}=b(8),i=(f,c,t)=>{const a=s.encode(f,c,t);return i.bytes=s.encode.bytes,c||r.from(a)};N.exports=i},function(N,x,b){const{Buffer:s}=b(8),r=b(11),i=f=>{const c=r.decode(s.isBuffer(f)?f:(t=f,new Proxy({},{get:(a,o)=>o[0]==="l"?t[o]:t.get(parseInt(o))})));var t;return i.bytes=r.decode.bytes,c};N.exports=i},function(N,x,b){const s=b(39);N.exports=r=>{const i=async function*(){let f=yield,c=new s;for await(const t of r)if(f)for(c.append(t);c.length>=f;){const a=c.shallowSlice(0,f);if(c.consume(f),f=yield a,!f){c.length&&(f=yield c,c=new s);break}}else f=yield c.append(t),c=new s;if(f)throw Object.assign(new Error(`stream ended before ${f} bytes became available`),{code:"ERR_UNDER_READ",buffer:c})}();return i.next(),i}},function(N,x,b){const s=b(337);N.exports=class{constructor(r){this.hwm=r||16,this.head=new s(this.hwm),this.tail=this.head}push(r){if(!this.head.push(r)){const i=this.head;this.head=i.next=new s(2*this.head.buffer.length),this.head.push(r)}}shift(){const r=this.tail.shift();if(r===void 0&&this.tail.next){const i=this.tail.next;return this.tail.next=null,this.tail=i,this.tail.shift()}return r}isEmpty(){return this.head.isEmpty()}}},function(N,x,b){N.exports=()=>{const s={};return s.promise=new Promise((r,i)=>{s.resolve=r,s.reject=i}),s}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:circuit:stop"),{error:s("libp2p:circuit:stop:err")}),{CircuitRelay:i}=b(49),f=b(64),c=b(96),{validateAddrs:t}=b(145);N.exports.handleStop=function({connection:a,request:o,streamHandler:e}){try{t(o,e)}catch(n){return r.error("invalid stop request via peer %s",a.remotePeer.toB58String(),n)}return r("stop request is valid"),e.write({type:i.Type.STATUS,code:i.Status.SUCCESS}),e.rest()},N.exports.stop=async function({connection:a,request:o}){const{stream:e}=await a.newStream([f.relay]);r("starting stop request to %s",a.remotePeer.toB58String());const n=new c({stream:e});n.write(o);const h=await n.read();if(h.code===i.Status.SUCCESS)return r("stop request to %s was successful",a.remotePeer.toB58String()),n.rest();r("stop request failed with code %d",h.code),n.close()}},function(N,x,b){const s=b(56),r=b(340),i=b(351);N.exports.namespaceToCid=async f=>{const c=new i("utf8").encode(f),t=await r(c,"sha2-256");return new s(t)}},function(N,x,b){(function(s){function r(i){return(4294967296+i).toString(16).substring(1)}N.exports={normalizeInput:function(i){var f;if(i instanceof Uint8Array)f=i;else if(i instanceof s)f=new Uint8Array(i);else{if(typeof i!="string")throw new Error("Input must be an string, Buffer or Uint8Array");f=new Uint8Array(s.from(i,"utf8"))}return f},toHex:function(i){return Array.prototype.map.call(i,function(f){return(f<16?"0":"")+f.toString(16)}).join("")},debugPrint:function(i,f,c){for(var t=`
`+i+" = ",a=0;a<f.length;a+=2){if(c===32)t+=r(f[a]).toUpperCase(),t+=" ",t+=r(f[a+1]).toUpperCase();else{if(c!==64)throw new Error("Invalid size "+c);t+=r(f[a+1]).toUpperCase(),t+=r(f[a]).toUpperCase()}a%6==4?t+=`
`+new Array(i.length+4).join(" "):a<f.length-2&&(t+=" ")}console.log(t)},testSpeed:function(i,f,c){for(var t=new Date().getTime(),a=new Uint8Array(f),o=0;o<f;o++)a[o]=o%256;var e=new Date().getTime();for(console.log("Generated random input in "+(e-t)+"ms"),t=e,o=0;o<c;o++){var n=i(a),h=new Date().getTime(),u=h-t;t=h,console.log("Hashed in "+u+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(f/(1<<20)/(u/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,b(8).Buffer)},function(N,x,b){const{AbortController:s,AbortSignal:r}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;N.exports=s,N.exports.AbortSignal=r,N.exports.default=s},function(N,x,b){const s=b(354);function r(i){const f=new s;function c(){f.abort();for(const t of i)t&&t.removeEventListener&&t.removeEventListener("abort",c)}for(const t of i)if(t&&t.addEventListener){if(t.aborted){c();break}t.addEventListener("abort",c)}return f.signal}N.exports=r,N.exports.anySignal=r},function(N,x,b){const s=b(131),r=b(362),i=b(77);x.aes=r,x.hmac=s,x.keys=i,x.randomBytes=b(84),x.pbkdf2=b(365)},function(N,x,b){const s=b(158),r=b(369),i=b(97),f=b(163),c=b(162);x.Key=s,x.MemoryDatastore=r,x.utils=i,x.Errors=f,x.Adapter=c},function(N,x,b){const{nanoid:s}=b(159),r=b(89),{utf8Encoder:i,utf8Decoder:f}=b(97),c=b(161),t=i.encode("/"),a=t[0];class o{constructor(n,h){if(typeof n=="string")this._buf=i.encode(n);else{if(!(n instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=n}if(h==null&&(h=!0),h&&this.clean(),this._buf.byteLength===0||this._buf[0]!==a)throw new Error("Invalid key")}toString(n="utf8"){return n==="utf8"||n==="utf-8"?f.decode(this._buf):new c(n).decode(this._buf)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(n){return new e(n.join("/"))}static random(){return new e(s().replace(/-/g,""))}clean(){if(this._buf&&this._buf.byteLength!==0||(this._buf=t),this._buf[0]!==a){const n=new Uint8Array(this._buf.byteLength+1);n.fill(a,0,1),n.set(this._buf,1),this._buf=n}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===a;)this._buf=this._buf.subarray(0,-1)}less(n){const h=this.list(),u=n.list();for(let d=0;d<h.length;d++){if(u.length<d+1)return!1;const l=h[d],m=u[d];if(l<m)return!0;if(l>m)return!1}return h.length<u.length}reverse(){return o.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const n=this.namespaces();return n[n.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(n){const h=n.split(":");return h.length<2?"":h.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(n){const h=n.split(":");return h[h.length-1]}(this.baseNamespace())}instance(n){return new e(this.toString()+":"+n)}path(){let n=this.parent().toString();return n.endsWith("/")||(n+="/"),n+=this.type(),new e(n)}parent(){const n=this.list();return n.length===1?new e("/"):new e(n.slice(0,-1).join("/"))}child(n){return this.toString()==="/"?n:n.toString()==="/"?this:new e(this.toString()+n.toString(),!1)}isAncestorOf(n){return n.toString()!==this.toString()&&n.toString().startsWith(this.toString())}isDecendantOf(n){return n.toString()!==this.toString()&&this.toString().startsWith(n.toString())}isTopLevel(){return this.list().length===1}concat(...n){return o.withNamespaces([...this.namespaces(),...(h=n.map(u=>u.namespaces()),[].concat(...h))]);var h}}const e=r(o,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});N.exports=e},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"urlAlphabet",{enumerable:!0,get:function(){return s.urlAlphabet}}),x.random=x.customRandom=x.customAlphabet=x.nanoid=void 0;var s=b(366);let r=f=>crypto.getRandomValues(new Uint8Array(f));x.random=r;let i=(f,c,t)=>{let a=(2<<Math.log(f.length-1)/Math.LN2)-1,o=-~(1.6*a*c/f.length);return()=>{let e="";for(;;){let n=t(o),h=o;for(;h--;)if(e+=f[n[h]&a]||"",e.length===c)return e}}};x.customRandom=i,x.customAlphabet=(f,c)=>i(f,c,r),x.nanoid=(f=21)=>{let c="",t=crypto.getRandomValues(new Uint8Array(f));for(;f--;){let a=63&t[f];c+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return c}},function(N,x,b){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),N.exports=globalThis},function(N,x,b){N.exports=b(160).TextDecoder},function(N,x,b){const{filter:s,sortAll:r,take:i,map:f}=b(97),c=b(370);N.exports=class{async open(){}async close(){}async put(t,a,o={}){}async*putMany(t,a={}){for await(const{key:o,value:e}of t)await this.put(o,e,a),yield{key:o,value:e}}async get(t,a={}){}async*getMany(t,a={}){for await(const o of t)yield this.get(o,a)}async has(t){}async delete(t,a={}){}async*deleteMany(t,a={}){for await(const o of t)await this.delete(o,a),yield o}batch(){let t=[],a=[];return{put(o,e){t.push({key:o,value:e})},delete(o){a.push(o)},commit:async o=>{await c(this.putMany(t,o)),t=[],await c(this.deleteMany(a,o)),a=[]}}}async*_all(t,a){}async*query(t,a){let o=this._all(t,a);if(t.prefix!=null&&(o=s(o,e=>e.key.toString().startsWith(t.prefix))),Array.isArray(t.filters)&&(o=t.filters.reduce((e,n)=>s(e,n),o)),Array.isArray(t.orders)&&(o=t.orders.reduce((e,n)=>r(e,n),o)),t.offset!=null){let e=0;o=s(o,()=>e++>=t.offset)}t.limit!=null&&(o=i(o,t.limit)),t.keysOnly===!0&&(o=f(o,e=>({key:e.key}))),yield*o}}},function(N,x,b){const s=b(1);N.exports.dbOpenFailedError=r=>(r=r||new Error("Cannot open database"),s(r,"ERR_DB_OPEN_FAILED")),N.exports.dbDeleteFailedError=r=>(r=r||new Error("Delete failed"),s(r,"ERR_DB_DELETE_FAILED")),N.exports.dbWriteFailedError=r=>(r=r||new Error("Write failed"),s(r,"ERR_DB_WRITE_FAILED")),N.exports.notFoundError=r=>(r=r||new Error("Not Found"),s(r,"ERR_NOT_FOUND")),N.exports.abortedError=r=>(r=r||new Error("Aborted"),s(r,"ERR_ABORTED"))},function(N,x,b){var s=b(0);b(46),b(29),b(80),b(31),b(374),b(45),b(82),b(376),b(57),b(4);var r=s.asn1,i=N.exports=s.pki=s.pki||{},f=i.oids,c={};c.CN=f.commonName,c.commonName="CN",c.C=f.countryName,c.countryName="C",c.L=f.localityName,c.localityName="L",c.ST=f.stateOrProvinceName,c.stateOrProvinceName="ST",c.O=f.organizationName,c.organizationName="O",c.OU=f.organizationalUnitName,c.organizationalUnitName="OU",c.E=f.emailAddress,c.emailAddress="E";var t=s.pki.rsa.publicKeyValidator,a={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},t,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},e={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},t,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},n={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[e,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(E,R){typeof R=="string"&&(R={shortName:R});for(var S,M=null,y=0;M===null&&y<E.attributes.length;++y)S=E.attributes[y],(R.type&&R.type===S.type||R.name&&R.name===S.name||R.shortName&&R.shortName===S.shortName)&&(M=S);return M}i.RDNAttributesAsArray=function(E,R){for(var S,M,y,p=[],w=0;w<E.value.length;++w){S=E.value[w];for(var v=0;v<S.value.length;++v)y={},M=S.value[v],y.type=r.derToOid(M.value[0].value),y.value=M.value[1].value,y.valueTagClass=M.value[1].type,y.type in f&&(y.name=f[y.type],y.name in c&&(y.shortName=c[y.name])),R&&(R.update(y.type),R.update(y.value)),p.push(y)}return p},i.CRIAttributesAsArray=function(E){for(var R=[],S=0;S<E.length;++S)for(var M=E[S],y=r.derToOid(M.value[0].value),p=M.value[1].value,w=0;w<p.length;++w){var v={};if(v.type=y,v.value=p[w].value,v.valueTagClass=p[w].type,v.type in f&&(v.name=f[v.type],v.name in c&&(v.shortName=c[v.name])),v.type===f.extensionRequest){v.extensions=[];for(var _=0;_<v.value.length;++_)v.extensions.push(i.certificateExtensionFromAsn1(v.value[_]))}R.push(v)}return R};var u=function(E,R,S){var M={};if(E!==f["RSASSA-PSS"])return M;S&&(M={hash:{algorithmOid:f.sha1},mgf:{algorithmOid:f.mgf1,hash:{algorithmOid:f.sha1}},saltLength:20});var y={},p=[];if(!r.validate(R,o,y,p)){var w=new Error("Cannot read RSASSA-PSS parameter block.");throw w.errors=p,w}return y.hashOid!==void 0&&(M.hash=M.hash||{},M.hash.algorithmOid=r.derToOid(y.hashOid)),y.maskGenOid!==void 0&&(M.mgf=M.mgf||{},M.mgf.algorithmOid=r.derToOid(y.maskGenOid),M.mgf.hash=M.mgf.hash||{},M.mgf.hash.algorithmOid=r.derToOid(y.maskGenHashOid)),y.saltLength!==void 0&&(M.saltLength=y.saltLength.charCodeAt(0)),M};function d(E){for(var R,S,M=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),y=E.attributes,p=0;p<y.length;++p){var w=(R=y[p]).value,v=r.Type.PRINTABLESTRING;"valueTagClass"in R&&(v=R.valueTagClass)===r.Type.UTF8&&(w=s.util.encodeUtf8(w)),S=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.type).getBytes()),r.create(r.Class.UNIVERSAL,v,!1,w)])]),M.value.push(S)}return M}function l(E){for(var R,S=0;S<E.length;++S){if((R=E[S]).name===void 0&&(R.type&&R.type in i.oids?R.name=i.oids[R.type]:R.shortName&&R.shortName in c&&(R.name=i.oids[c[R.shortName]])),R.type===void 0){if(!R.name||!(R.name in i.oids))throw(y=new Error("Attribute type not specified.")).attribute=R,y;R.type=i.oids[R.name]}if(R.shortName===void 0&&R.name&&R.name in c&&(R.shortName=c[R.name]),R.type===f.extensionRequest&&(R.valueConstructed=!0,R.valueTagClass=r.Type.SEQUENCE,!R.value&&R.extensions)){R.value=[];for(var M=0;M<R.extensions.length;++M)R.value.push(i.certificateExtensionToAsn1(m(R.extensions[M])))}var y;if(R.value===void 0)throw(y=new Error("Attribute value not specified.")).attribute=R,y}}function m(E,R){if(R=R||{},E.name===void 0&&E.id&&E.id in i.oids&&(E.name=i.oids[E.id]),E.id===void 0){if(!E.name||!(E.name in i.oids))throw(K=new Error("Extension ID not specified.")).extension=E,K;E.id=i.oids[E.name]}if(E.value!==void 0)return E;if(E.name==="keyUsage"){var S=0,M=0,y=0;E.digitalSignature&&(M|=128,S=7),E.nonRepudiation&&(M|=64,S=6),E.keyEncipherment&&(M|=32,S=5),E.dataEncipherment&&(M|=16,S=4),E.keyAgreement&&(M|=8,S=3),E.keyCertSign&&(M|=4,S=2),E.cRLSign&&(M|=2,S=1),E.encipherOnly&&(M|=1,S=0),E.decipherOnly&&(y|=128,S=7);var p=String.fromCharCode(S);y!==0?p+=String.fromCharCode(M)+String.fromCharCode(y):M!==0&&(p+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,p)}else if(E.name==="basicConstraints")E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),E.cA&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in E&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.pathLenConstraint).getBytes()));else if(E.name==="extKeyUsage"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var w=E.value.value;for(var v in E)E[v]===!0&&(v in f?w.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f[v]).getBytes())):v.indexOf(".")!==-1&&w.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(v).getBytes())))}else if(E.name==="nsCertType")S=0,M=0,E.client&&(M|=128,S=7),E.server&&(M|=64,S=6),E.email&&(M|=32,S=5),E.objsign&&(M|=16,S=4),E.reserved&&(M|=8,S=3),E.sslCA&&(M|=4,S=2),E.emailCA&&(M|=2,S=1),E.objCA&&(M|=1,S=0),p=String.fromCharCode(S),M!==0&&(p+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,p);else if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var _=0;_<E.altNames.length;++_){if(p=(q=E.altNames[_]).value,q.type===7&&q.ip){if((p=s.util.bytesFromIP(q.ip))===null)throw(K=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=E,K}else q.type===8&&(p=q.oid?r.oidToDer(r.oidToDer(q.oid)):r.oidToDer(p));E.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,q.type,!1,p))}}else if(E.name==="nsComment"&&R.cert){if(!/^[\x00-\x7F]*$/.test(E.comment)||E.comment.length<1||E.comment.length>128)throw new Error('Invalid "nsComment" content.');E.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,E.comment)}else if(E.name==="subjectKeyIdentifier"&&R.cert){var C=R.cert.generateSubjectKeyIdentifier();E.subjectKeyIdentifier=C.toHex(),E.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C.getBytes())}else if(E.name==="authorityKeyIdentifier"&&R.cert){if(E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),w=E.value.value,E.keyIdentifier){var L=E.keyIdentifier===!0?R.cert.generateSubjectKeyIdentifier().getBytes():E.keyIdentifier;w.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,L))}if(E.authorityCertIssuer){var O=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[d(E.authorityCertIssuer===!0?R.cert.issuer:E.authorityCertIssuer)])];w.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,O))}if(E.serialNumber){var U=s.util.hexToBytes(E.serialNumber===!0?R.cert.serialNumber:E.serialNumber);w.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,U))}}else if(E.name==="cRLDistributionPoints"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),w=E.value.value;var q,H=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),G=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(_=0;_<E.altNames.length;++_){if(p=(q=E.altNames[_]).value,q.type===7&&q.ip){if((p=s.util.bytesFromIP(q.ip))===null)throw(K=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=E,K}else q.type===8&&(p=q.oid?r.oidToDer(r.oidToDer(q.oid)):r.oidToDer(p));G.value.push(r.create(r.Class.CONTEXT_SPECIFIC,q.type,!1,p))}H.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[G])),w.push(H)}var K;if(E.value===void 0)throw(K=new Error("Extension value not specified.")).extension=E,K;return E}function A(E,R){switch(E){case f["RSASSA-PSS"]:var S=[];return R.hash.algorithmOid!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),R.mgf.algorithmOid!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(R.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),R.saltLength!==void 0&&S.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(R.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,S);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function B(E){var R=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(E.attributes.length===0)return R;for(var S=E.attributes,M=0;M<S.length;++M){var y=S[M],p=y.value,w=r.Type.UTF8;"valueTagClass"in y&&(w=y.valueTagClass),w===r.Type.UTF8&&(p=s.util.encodeUtf8(p));var v=!1;"valueConstructed"in y&&(v=y.valueConstructed);var _=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(y.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,w,v,p)])]);R.value.push(_)}return R}i.certificateFromPem=function(E,R,S){var M=s.pem.decode(E)[0];if(M.type!=="CERTIFICATE"&&M.type!=="X509 CERTIFICATE"&&M.type!=="TRUSTED CERTIFICATE"){var y=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw y.headerType=M.type,y}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var p=r.fromDer(M.body,S);return i.certificateFromAsn1(p,R)},i.certificateToPem=function(E,R){var S={type:"CERTIFICATE",body:r.toDer(i.certificateToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.publicKeyFromPem=function(E){var R=s.pem.decode(E)[0];if(R.type!=="PUBLIC KEY"&&R.type!=="RSA PUBLIC KEY"){var S=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw S.headerType=R.type,S}if(R.procType&&R.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var M=r.fromDer(R.body);return i.publicKeyFromAsn1(M)},i.publicKeyToPem=function(E,R){var S={type:"PUBLIC KEY",body:r.toDer(i.publicKeyToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.publicKeyToRSAPublicKeyPem=function(E,R){var S={type:"RSA PUBLIC KEY",body:r.toDer(i.publicKeyToRSAPublicKey(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.getPublicKeyFingerprint=function(E,R){var S,M=(R=R||{}).md||s.md.sha1.create();switch(R.type||"RSAPublicKey"){case"RSAPublicKey":S=r.toDer(i.publicKeyToRSAPublicKey(E)).getBytes();break;case"SubjectPublicKeyInfo":S=r.toDer(i.publicKeyToAsn1(E)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+R.type+'".')}M.start(),M.update(S);var y=M.digest();if(R.encoding==="hex"){var p=y.toHex();return R.delimiter?p.match(/.{2}/g).join(R.delimiter):p}if(R.encoding==="binary")return y.getBytes();if(R.encoding)throw new Error('Unknown encoding "'+R.encoding+'".');return y},i.certificationRequestFromPem=function(E,R,S){var M=s.pem.decode(E)[0];if(M.type!=="CERTIFICATE REQUEST"){var y=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw y.headerType=M.type,y}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var p=r.fromDer(M.body,S);return i.certificationRequestFromAsn1(p,R)},i.certificationRequestToPem=function(E,R){var S={type:"CERTIFICATE REQUEST",body:r.toDer(i.certificationRequestToAsn1(E)).getBytes()};return s.pem.encode(S,{maxline:R})},i.createCertificate=function(){var E={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return E.siginfo.algorithmOid=null,E.validity={},E.validity.notBefore=new Date,E.validity.notAfter=new Date,E.issuer={},E.issuer.getField=function(R){return h(E.issuer,R)},E.issuer.addField=function(R){l([R]),E.issuer.attributes.push(R)},E.issuer.attributes=[],E.issuer.hash=null,E.subject={},E.subject.getField=function(R){return h(E.subject,R)},E.subject.addField=function(R){l([R]),E.subject.attributes.push(R)},E.subject.attributes=[],E.subject.hash=null,E.extensions=[],E.publicKey=null,E.md=null,E.setSubject=function(R,S){l(R),E.subject.attributes=R,delete E.subject.uniqueId,S&&(E.subject.uniqueId=S),E.subject.hash=null},E.setIssuer=function(R,S){l(R),E.issuer.attributes=R,delete E.issuer.uniqueId,S&&(E.issuer.uniqueId=S),E.issuer.hash=null},E.setExtensions=function(R){for(var S=0;S<R.length;++S)m(R[S],{cert:E});E.extensions=R},E.getExtension=function(R){typeof R=="string"&&(R={name:R});for(var S,M=null,y=0;M===null&&y<E.extensions.length;++y)S=E.extensions[y],(R.id&&S.id===R.id||R.name&&S.name===R.name)&&(M=S);return M},E.sign=function(R,S){E.md=S||s.md.sha1.create();var M=f[E.md.algorithm+"WithRSAEncryption"];if(!M){var y=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw y.algorithm=E.md.algorithm,y}E.signatureOid=E.siginfo.algorithmOid=M,E.tbsCertificate=i.getTBSCertificate(E);var p=r.toDer(E.tbsCertificate);E.md.update(p.getBytes()),E.signature=R.sign(E.md)},E.verify=function(R){var S=!1;if(!E.issued(R)){var M=R.issuer,y=E.subject;throw(O=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=M.attributes,O.actualIssuer=y.attributes,O}var p=R.md;if(p===null){if(R.signatureOid in f)switch(f[R.signatureOid]){case"sha1WithRSAEncryption":p=s.md.sha1.create();break;case"md5WithRSAEncryption":p=s.md.md5.create();break;case"sha256WithRSAEncryption":p=s.md.sha256.create();break;case"sha384WithRSAEncryption":p=s.md.sha384.create();break;case"sha512WithRSAEncryption":p=s.md.sha512.create();break;case"RSASSA-PSS":p=s.md.sha256.create()}if(p===null)throw(O=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=R.signatureOid,O;var w=R.tbsCertificate||i.getTBSCertificate(R),v=r.toDer(w);p.update(v.getBytes())}if(p!==null){var _;switch(R.signatureOid){case f.sha1WithRSAEncryption:_=void 0;break;case f["RSASSA-PSS"]:var C,L,O;if((C=f[R.signatureParameters.mgf.hash.algorithmOid])===void 0||s.md[C]===void 0)throw(O=new Error("Unsupported MGF hash function.")).oid=R.signatureParameters.mgf.hash.algorithmOid,O.name=C,O;if((L=f[R.signatureParameters.mgf.algorithmOid])===void 0||s.mgf[L]===void 0)throw(O=new Error("Unsupported MGF function.")).oid=R.signatureParameters.mgf.algorithmOid,O.name=L,O;if(L=s.mgf[L].create(s.md[C].create()),(C=f[R.signatureParameters.hash.algorithmOid])===void 0||s.md[C]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:R.signatureParameters.hash.algorithmOid,name:C};_=s.pss.create(s.md[C].create(),L,R.signatureParameters.saltLength)}S=E.publicKey.verify(p.digest().getBytes(),R.signature,_)}return S},E.isIssuer=function(R){var S=!1,M=E.issuer,y=R.subject;if(M.hash&&y.hash)S=M.hash===y.hash;else if(M.attributes.length===y.attributes.length){var p,w;S=!0;for(var v=0;S&&v<M.attributes.length;++v)p=M.attributes[v],w=y.attributes[v],p.type===w.type&&p.value===w.value||(S=!1)}return S},E.issued=function(R){return R.isIssuer(E)},E.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(E.publicKey,{type:"RSAPublicKey"})},E.verifySubjectKeyIdentifier=function(){for(var R=f.subjectKeyIdentifier,S=0;S<E.extensions.length;++S){var M=E.extensions[S];if(M.id===R){var y=E.generateSubjectKeyIdentifier().getBytes();return s.util.hexToBytes(M.subjectKeyIdentifier)===y}}return!1},E},i.certificateFromAsn1=function(E,R){var S={},M=[];if(!r.validate(E,a,S,M))throw(v=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=M,v;if(r.derToOid(S.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=i.createCertificate();y.version=S.certVersion?S.certVersion.charCodeAt(0):0;var p=s.util.createBuffer(S.certSerialNumber);y.serialNumber=p.toHex(),y.signatureOid=s.asn1.derToOid(S.certSignatureOid),y.signatureParameters=u(y.signatureOid,S.certSignatureParams,!0),y.siginfo.algorithmOid=s.asn1.derToOid(S.certinfoSignatureOid),y.siginfo.parameters=u(y.siginfo.algorithmOid,S.certinfoSignatureParams,!1),y.signature=S.certSignature;var w=[];if(S.certValidity1UTCTime!==void 0&&w.push(r.utcTimeToDate(S.certValidity1UTCTime)),S.certValidity2GeneralizedTime!==void 0&&w.push(r.generalizedTimeToDate(S.certValidity2GeneralizedTime)),S.certValidity3UTCTime!==void 0&&w.push(r.utcTimeToDate(S.certValidity3UTCTime)),S.certValidity4GeneralizedTime!==void 0&&w.push(r.generalizedTimeToDate(S.certValidity4GeneralizedTime)),w.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(w.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(y.validity.notBefore=w[0],y.validity.notAfter=w[1],y.tbsCertificate=S.tbsCertificate,R){var v;if(y.md=null,y.signatureOid in f)switch(f[y.signatureOid]){case"sha1WithRSAEncryption":y.md=s.md.sha1.create();break;case"md5WithRSAEncryption":y.md=s.md.md5.create();break;case"sha256WithRSAEncryption":y.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":y.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":y.md=s.md.sha512.create();break;case"RSASSA-PSS":y.md=s.md.sha256.create()}if(y.md===null)throw(v=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=y.signatureOid,v;var _=r.toDer(y.tbsCertificate);y.md.update(_.getBytes())}var C=s.md.sha1.create();y.issuer.getField=function(O){return h(y.issuer,O)},y.issuer.addField=function(O){l([O]),y.issuer.attributes.push(O)},y.issuer.attributes=i.RDNAttributesAsArray(S.certIssuer,C),S.certIssuerUniqueId&&(y.issuer.uniqueId=S.certIssuerUniqueId),y.issuer.hash=C.digest().toHex();var L=s.md.sha1.create();return y.subject.getField=function(O){return h(y.subject,O)},y.subject.addField=function(O){l([O]),y.subject.attributes.push(O)},y.subject.attributes=i.RDNAttributesAsArray(S.certSubject,L),S.certSubjectUniqueId&&(y.subject.uniqueId=S.certSubjectUniqueId),y.subject.hash=L.digest().toHex(),S.certExtensions?y.extensions=i.certificateExtensionsFromAsn1(S.certExtensions):y.extensions=[],y.publicKey=i.publicKeyFromAsn1(S.subjectPublicKeyInfo),y},i.certificateExtensionsFromAsn1=function(E){for(var R=[],S=0;S<E.value.length;++S)for(var M=E.value[S],y=0;y<M.value.length;++y)R.push(i.certificateExtensionFromAsn1(M.value[y]));return R},i.certificateExtensionFromAsn1=function(E){var R={};if(R.id=r.derToOid(E.value[0].value),R.critical=!1,E.value[1].type===r.Type.BOOLEAN?(R.critical=E.value[1].value.charCodeAt(0)!==0,R.value=E.value[2].value):R.value=E.value[1].value,R.id in f)if(R.name=f[R.id],R.name==="keyUsage"){var S=0,M=0;(p=r.fromDer(R.value)).value.length>1&&(S=p.value.charCodeAt(1),M=p.value.length>2?p.value.charCodeAt(2):0),R.digitalSignature=(128&S)==128,R.nonRepudiation=(64&S)==64,R.keyEncipherment=(32&S)==32,R.dataEncipherment=(16&S)==16,R.keyAgreement=(8&S)==8,R.keyCertSign=(4&S)==4,R.cRLSign=(2&S)==2,R.encipherOnly=(1&S)==1,R.decipherOnly=(128&M)==128}else if(R.name==="basicConstraints"){(p=r.fromDer(R.value)).value.length>0&&p.value[0].type===r.Type.BOOLEAN?R.cA=p.value[0].value.charCodeAt(0)!==0:R.cA=!1;var y=null;p.value.length>0&&p.value[0].type===r.Type.INTEGER?y=p.value[0].value:p.value.length>1&&(y=p.value[1].value),y!==null&&(R.pathLenConstraint=r.derToInteger(y))}else if(R.name==="extKeyUsage")for(var p=r.fromDer(R.value),w=0;w<p.value.length;++w){var v=r.derToOid(p.value[w].value);v in f?R[f[v]]=!0:R[v]=!0}else if(R.name==="nsCertType")S=0,(p=r.fromDer(R.value)).value.length>1&&(S=p.value.charCodeAt(1)),R.client=(128&S)==128,R.server=(64&S)==64,R.email=(32&S)==32,R.objsign=(16&S)==16,R.reserved=(8&S)==8,R.sslCA=(4&S)==4,R.emailCA=(2&S)==2,R.objCA=(1&S)==1;else if(R.name==="subjectAltName"||R.name==="issuerAltName"){var _;R.altNames=[],p=r.fromDer(R.value);for(var C=0;C<p.value.length;++C){var L={type:(_=p.value[C]).type,value:_.value};switch(R.altNames.push(L),_.type){case 1:case 2:case 6:break;case 7:L.ip=s.util.bytesToIP(_.value);break;case 8:L.oid=r.derToOid(_.value)}}}else R.name==="subjectKeyIdentifier"&&(p=r.fromDer(R.value),R.subjectKeyIdentifier=s.util.bytesToHex(p.value));return R},i.certificationRequestFromAsn1=function(E,R){var S={},M=[];if(!r.validate(E,n,S,M))throw(p=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=M,p;if(r.derToOid(S.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=i.createCertificationRequest();if(y.version=S.csrVersion?S.csrVersion.charCodeAt(0):0,y.signatureOid=s.asn1.derToOid(S.csrSignatureOid),y.signatureParameters=u(y.signatureOid,S.csrSignatureParams,!0),y.siginfo.algorithmOid=s.asn1.derToOid(S.csrSignatureOid),y.siginfo.parameters=u(y.siginfo.algorithmOid,S.csrSignatureParams,!1),y.signature=S.csrSignature,y.certificationRequestInfo=S.certificationRequestInfo,R){var p;if(y.md=null,y.signatureOid in f)switch(f[y.signatureOid]){case"sha1WithRSAEncryption":y.md=s.md.sha1.create();break;case"md5WithRSAEncryption":y.md=s.md.md5.create();break;case"sha256WithRSAEncryption":y.md=s.md.sha256.create();break;case"sha384WithRSAEncryption":y.md=s.md.sha384.create();break;case"sha512WithRSAEncryption":y.md=s.md.sha512.create();break;case"RSASSA-PSS":y.md=s.md.sha256.create()}if(y.md===null)throw(p=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=y.signatureOid,p;var w=r.toDer(y.certificationRequestInfo);y.md.update(w.getBytes())}var v=s.md.sha1.create();return y.subject.getField=function(_){return h(y.subject,_)},y.subject.addField=function(_){l([_]),y.subject.attributes.push(_)},y.subject.attributes=i.RDNAttributesAsArray(S.certificationRequestInfoSubject,v),y.subject.hash=v.digest().toHex(),y.publicKey=i.publicKeyFromAsn1(S.subjectPublicKeyInfo),y.getAttribute=function(_){return h(y,_)},y.addAttribute=function(_){l([_]),y.attributes.push(_)},y.attributes=i.CRIAttributesAsArray(S.certificationRequestInfoAttributes||[]),y},i.createCertificationRequest=function(){var E={version:0,signatureOid:null,signature:null,siginfo:{}};return E.siginfo.algorithmOid=null,E.subject={},E.subject.getField=function(R){return h(E.subject,R)},E.subject.addField=function(R){l([R]),E.subject.attributes.push(R)},E.subject.attributes=[],E.subject.hash=null,E.publicKey=null,E.attributes=[],E.getAttribute=function(R){return h(E,R)},E.addAttribute=function(R){l([R]),E.attributes.push(R)},E.md=null,E.setSubject=function(R){l(R),E.subject.attributes=R,E.subject.hash=null},E.setAttributes=function(R){l(R),E.attributes=R},E.sign=function(R,S){E.md=S||s.md.sha1.create();var M=f[E.md.algorithm+"WithRSAEncryption"];if(!M){var y=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw y.algorithm=E.md.algorithm,y}E.signatureOid=E.siginfo.algorithmOid=M,E.certificationRequestInfo=i.getCertificationRequestInfo(E);var p=r.toDer(E.certificationRequestInfo);E.md.update(p.getBytes()),E.signature=R.sign(E.md)},E.verify=function(){var R=!1,S=E.md;if(S===null){if(E.signatureOid in f)switch(f[E.signatureOid]){case"sha1WithRSAEncryption":S=s.md.sha1.create();break;case"md5WithRSAEncryption":S=s.md.md5.create();break;case"sha256WithRSAEncryption":S=s.md.sha256.create();break;case"sha384WithRSAEncryption":S=s.md.sha384.create();break;case"sha512WithRSAEncryption":S=s.md.sha512.create();break;case"RSASSA-PSS":S=s.md.sha256.create()}if(S===null)throw(_=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=E.signatureOid,_;var M=E.certificationRequestInfo||i.getCertificationRequestInfo(E),y=r.toDer(M);S.update(y.getBytes())}if(S!==null){var p;switch(E.signatureOid){case f.sha1WithRSAEncryption:break;case f["RSASSA-PSS"]:var w,v,_;if((w=f[E.signatureParameters.mgf.hash.algorithmOid])===void 0||s.md[w]===void 0)throw(_=new Error("Unsupported MGF hash function.")).oid=E.signatureParameters.mgf.hash.algorithmOid,_.name=w,_;if((v=f[E.signatureParameters.mgf.algorithmOid])===void 0||s.mgf[v]===void 0)throw(_=new Error("Unsupported MGF function.")).oid=E.signatureParameters.mgf.algorithmOid,_.name=v,_;if(v=s.mgf[v].create(s.md[w].create()),(w=f[E.signatureParameters.hash.algorithmOid])===void 0||s.md[w]===void 0)throw(_=new Error("Unsupported RSASSA-PSS hash function.")).oid=E.signatureParameters.hash.algorithmOid,_.name=w,_;p=s.pss.create(s.md[w].create(),v,E.signatureParameters.saltLength)}R=E.publicKey.verify(S.digest().getBytes(),E.signature,p)}return R},E};var k=new Date("1950-01-01T00:00:00Z"),T=new Date("2050-01-01T00:00:00Z");function g(E){return E>=k&&E<T?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(E)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(E))}i.getTBSCertificate=function(E){var R=g(E.validity.notBefore),S=g(E.validity.notAfter),M=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(E.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.siginfo.algorithmOid).getBytes()),A(E.siginfo.algorithmOid,E.siginfo.parameters)]),d(E.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,S]),d(E.subject),i.publicKeyToAsn1(E.publicKey)]);return E.issuer.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.issuer.uniqueId)])),E.subject.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.subject.uniqueId)])),E.extensions.length>0&&M.value.push(i.certificateExtensionsToAsn1(E.extensions)),M},i.getCertificationRequestInfo=function(E){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes()),d(E.subject),i.publicKeyToAsn1(E.publicKey),B(E)])},i.distinguishedNameToAsn1=function(E){return d(E)},i.certificateToAsn1=function(E){var R=E.tbsCertificate||i.getTBSCertificate(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),A(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},i.certificateExtensionsToAsn1=function(E){var R=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),S=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);R.value.push(S);for(var M=0;M<E.length;++M)S.value.push(i.certificateExtensionToAsn1(E[M]));return R},i.certificateExtensionToAsn1=function(E){var R=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);R.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.id).getBytes())),E.critical&&R.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var S=E.value;return typeof E.value!="string"&&(S=r.toDer(S).getBytes()),R.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,S)),R},i.certificationRequestToAsn1=function(E){var R=E.certificationRequestInfo||i.getCertificationRequestInfo(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[R,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),A(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},i.createCaStore=function(E){var R={certs:{}};function S(w){return M(w),R.certs[w.hash]||null}function M(w){if(!w.hash){var v=s.md.sha1.create();w.attributes=i.RDNAttributesAsArray(d(w),v),w.hash=v.digest().toHex()}}if(R.getIssuer=function(w){return S(w.issuer)},R.addCertificate=function(w){if(typeof w=="string"&&(w=s.pki.certificateFromPem(w)),M(w.subject),!R.hasCertificate(w))if(w.subject.hash in R.certs){var v=R.certs[w.subject.hash];s.util.isArray(v)||(v=[v]),v.push(w),R.certs[w.subject.hash]=v}else R.certs[w.subject.hash]=w},R.hasCertificate=function(w){typeof w=="string"&&(w=s.pki.certificateFromPem(w));var v=S(w.subject);if(!v)return!1;s.util.isArray(v)||(v=[v]);for(var _=r.toDer(i.certificateToAsn1(w)).getBytes(),C=0;C<v.length;++C)if(_===r.toDer(i.certificateToAsn1(v[C])).getBytes())return!0;return!1},R.listAllCertificates=function(){var w=[];for(var v in R.certs)if(R.certs.hasOwnProperty(v)){var _=R.certs[v];if(s.util.isArray(_))for(var C=0;C<_.length;++C)w.push(_[C]);else w.push(_)}return w},R.removeCertificate=function(w){var v;if(typeof w=="string"&&(w=s.pki.certificateFromPem(w)),M(w.subject),!R.hasCertificate(w))return null;var _=S(w.subject);if(!s.util.isArray(_))return v=R.certs[w.subject.hash],delete R.certs[w.subject.hash],v;for(var C=r.toDer(i.certificateToAsn1(w)).getBytes(),L=0;L<_.length;++L)C===r.toDer(i.certificateToAsn1(_[L])).getBytes()&&(v=_[L],_.splice(L,1));return _.length===0&&delete R.certs[w.subject.hash],v},E)for(var y=0;y<E.length;++y){var p=E[y];R.addCertificate(p)}return R},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(E,R,S){typeof S=="function"&&(S={verify:S}),S=S||{};var M=(R=R.slice(0)).slice(0),y=S.validityCheckDate;y===void 0&&(y=new Date);var p=!0,w=null,v=0;do{var _=R.shift(),C=null,L=!1;if(y&&(y<_.validity.notBefore||y>_.validity.notAfter)&&(w={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:_.validity.notBefore,notAfter:_.validity.notAfter,now:y}),w===null){if((C=R[0]||E.getIssuer(_))===null&&_.isIssuer(_)&&(L=!0,C=_),C){var O=C;s.util.isArray(O)||(O=[O]);for(var U=!1;!U&&O.length>0;){C=O.shift();try{U=C.verify(_)}catch(F){}}U||(w={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}w!==null||C&&!L||E.hasCertificate(_)||(w={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(w===null&&C&&!_.isIssuer(C)&&(w={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),w===null)for(var q={keyUsage:!0,basicConstraints:!0},H=0;w===null&&H<_.extensions.length;++H){var G=_.extensions[H];G.critical&&!(G.name in q)&&(w={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(w===null&&(!p||R.length===0&&(!C||L))){var K=_.getExtension("basicConstraints"),Q=_.getExtension("keyUsage");(Q!==null&&(Q.keyCertSign&&K!==null||(w={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate})),w!==null||K===null||K.cA||(w={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),w===null&&Q!==null&&"pathLenConstraint"in K)&&(v-1>K.pathLenConstraint&&(w={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate}))}var z=w===null||w.error,D=S.verify?S.verify(z,v,M):z;if(D!==!0)throw z===!0&&(w={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(D||D===0)&&(typeof D!="object"||s.util.isArray(D)?typeof D=="string"&&(w.error=D):(D.message&&(w.message=D.message),D.error&&(w.error=D.error))),w;w=null,p=!1,++v}while(R.length>0);return!0}},function(N,x,b){x.PROTOCOL_ID="/multistream/1.0.0"},function(N,x,b){N.exports={encode:b(401),decode:b(402),encodingLength:b(403)}},function(N,x,b){const s=b(166),r=b(12),i=b(20);function f(c){return parseInt(r(c,"base16"),16)}N.exports={numberToUint8Array:function(c){let t=c.toString(16);return t.length%2==1&&(t="0"+t),i(t,"base16")},uint8ArrayToNumber:f,varintUint8ArrayEncode:function(c){return Uint8Array.from(s.encode(f(c)))},varintEncode:function(c){return Uint8Array.from(s.encode(c))}}},function(N,x,b){var s=b(2);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.aes.Algorithm(d,l)})}b(169),b(170),b(5),N.exports=s.aes=s.aes||{},s.aes.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A});return B.start(l),B},s.aes.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.aes.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A});return B.start(l),B},s.aes.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.aes.Algorithm=function(d,l){o||e();var m=this;m.name=d,m.mode=new l({blockSize:16,cipher:{encrypt:function(A,B){return h(m._w,A,B,!1)},decrypt:function(A,B){return h(m._w,A,B,!0)}}}),m._init=!1},s.aes.Algorithm.prototype.initialize=function(d){if(!this._init){var l,m=d.key;if(typeof m!="string"||m.length!==16&&m.length!==24&&m.length!==32){if(s.util.isArray(m)&&(m.length===16||m.length===24||m.length===32)){l=m,m=s.util.createBuffer();for(var A=0;A<l.length;++A)m.putByte(l[A])}}else m=s.util.createBuffer(m);if(!s.util.isArray(m)){l=m,m=[];var B=l.length();if(B===16||B===24||B===32)for(B>>>=2,A=0;A<B;++A)m.push(l.getInt32())}if(!s.util.isArray(m)||m.length!==4&&m.length!==6&&m.length!==8)throw new Error("Invalid key parameter.");var k=this.mode.name,T=["CFB","OFB","CTR","GCM"].indexOf(k)!==-1;this._w=n(m,d.decrypt&&!T),this._init=!0}},s.aes._expandKey=function(d,l){return o||e(),n(d,l)},s.aes._updateBlock=h,r("AES-ECB",s.cipher.modes.ecb),r("AES-CBC",s.cipher.modes.cbc),r("AES-CFB",s.cipher.modes.cfb),r("AES-OFB",s.cipher.modes.ofb),r("AES-CTR",s.cipher.modes.ctr),r("AES-GCM",s.cipher.modes.gcm);var i,f,c,t,a,o=!1;function e(){o=!0,c=[0,1,2,4,8,16,32,64,128,27,54];for(var d=new Array(256),l=0;l<128;++l)d[l]=l<<1,d[l+128]=l+128<<1^283;for(i=new Array(256),f=new Array(256),t=new Array(4),a=new Array(4),l=0;l<4;++l)t[l]=new Array(256),a[l]=new Array(256);var m,A,B,k,T,g,E,R=0,S=0;for(l=0;l<256;++l){k=(k=S^S<<1^S<<2^S<<3^S<<4)>>8^255&k^99,i[R]=k,f[k]=R,g=(T=d[k])<<24^k<<16^k<<8^k^T,E=((m=d[R])^(A=d[m])^(B=d[A]))<<24^(R^B)<<16^(R^A^B)<<8^R^m^B;for(var M=0;M<4;++M)t[M][R]=g,a[M][k]=E,g=g<<24|g>>>8,E=E<<24|E>>>8;R===0?R=S=1:(R=m^d[d[d[m^B]]],S^=d[d[S]])}}function n(d,l){for(var m,A=d.slice(0),B=1,k=A.length,T=4*(k+6+1),g=k;g<T;++g)m=A[g-1],g%k==0?(m=i[m>>>16&255]<<24^i[m>>>8&255]<<16^i[255&m]<<8^i[m>>>24]^c[B]<<24,B++):k>6&&g%k==4&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),A[g]=A[g-k]^m;if(l){for(var E,R=a[0],S=a[1],M=a[2],y=a[3],p=A.slice(0),w=(g=0,(T=A.length)-4);g<T;g+=4,w-=4)if(g===0||g===T-4)p[g]=A[w],p[g+1]=A[w+3],p[g+2]=A[w+2],p[g+3]=A[w+1];else for(var v=0;v<4;++v)E=A[w+v],p[g+(3&-v)]=R[i[E>>>24]]^S[i[E>>>16&255]]^M[i[E>>>8&255]]^y[i[255&E]];A=p}return A}function h(d,l,m,A){var B,k,T,g,E,R,S,M,y,p,w,v,_=d.length/4-1;A?(B=a[0],k=a[1],T=a[2],g=a[3],E=f):(B=t[0],k=t[1],T=t[2],g=t[3],E=i),R=l[0]^d[0],S=l[A?3:1]^d[1],M=l[2]^d[2],y=l[A?1:3]^d[3];for(var C=3,L=1;L<_;++L)p=B[R>>>24]^k[S>>>16&255]^T[M>>>8&255]^g[255&y]^d[++C],w=B[S>>>24]^k[M>>>16&255]^T[y>>>8&255]^g[255&R]^d[++C],v=B[M>>>24]^k[y>>>16&255]^T[R>>>8&255]^g[255&S]^d[++C],y=B[y>>>24]^k[R>>>16&255]^T[S>>>8&255]^g[255&M]^d[++C],R=p,S=w,M=v;m[0]=E[R>>>24]<<24^E[S>>>16&255]<<16^E[M>>>8&255]<<8^E[255&y]^d[++C],m[A?3:1]=E[S>>>24]<<24^E[M>>>16&255]<<16^E[y>>>8&255]<<8^E[255&R]^d[++C],m[2]=E[M>>>24]<<24^E[y>>>16&255]<<16^E[R>>>8&255]<<8^E[255&S]^d[++C],m[A?1:3]=E[y>>>24]<<24^E[R>>>16&255]<<16^E[S>>>8&255]<<8^E[255&M]^d[++C]}function u(d){var l,m="AES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x,b){var s=b(2);b(5),N.exports=s.cipher=s.cipher||{},s.cipher.algorithms=s.cipher.algorithms||{},s.cipher.createCipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!1})},s.cipher.createDecipher=function(i,f){var c=i;if(typeof c=="string"&&(c=s.cipher.getAlgorithm(c))&&(c=c()),!c)throw new Error("Unsupported algorithm: "+i);return new s.cipher.BlockCipher({algorithm:c,key:f,decrypt:!0})},s.cipher.registerAlgorithm=function(i,f){i=i.toUpperCase(),s.cipher.algorithms[i]=f},s.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in s.cipher.algorithms?s.cipher.algorithms[i]:null};var r=s.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};r.prototype.start=function(i){i=i||{};var f={};for(var c in i)f[c]=i[c];f.decrypt=this._decrypt,this._finish=!1,this._input=s.util.createBuffer(),this.output=i.output||s.util.createBuffer(),this.mode.start(f)},r.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(i){!i||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(c){return i(this.blockSize,c,!1)},this.mode.unpad=function(c){return i(this.blockSize,c,!0)});var f={};return f.decrypt=this._decrypt,f.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,f))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,f))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,f)))}},function(N,x,b){var s=b(2);b(5),s.cipher=s.cipher||{};var r=N.exports=s.cipher.modes=s.cipher.modes||{};function i(t,a){if(typeof t=="string"&&(t=s.util.createBuffer(t)),s.util.isArray(t)&&t.length>4){var o=t;t=s.util.createBuffer();for(var e=0;e<o.length;++e)t.putByte(o[e])}if(t.length()<a)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+a+" bytes.");if(!s.util.isArray(t)){var n=[],h=a/4;for(e=0;e<h;++e)n.push(t.getInt32());t=n}return t}function f(t){t[t.length-1]=t[t.length-1]+1&4294967295}function c(t){return[t/4294967296|0,4294967295&t]}r.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(t){},r.ecb.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e])},r.ecb.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.ecb.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},r.cbc.prototype.encrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._outBlock[e]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(t,a,o){if(t.length()<this.blockSize&&!(o&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)a.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(t,a){var o=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(o,o),!0},r.cbc.prototype.unpad=function(t,a){if(a.overflow>0)return!1;var o=t.length(),e=t.at(o-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},r.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],a.putInt32(this._inBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.cfb.prototype.decrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),a.putInt32(this._inBlock[n]^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(t,a,o){var e=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0)t.read-=this.blockSize;else for(n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=i(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var n=0;n<this._ints;++n)a.putInt32(t.getInt32()^this._outBlock[n]);else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}f(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=s.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var a,o=s.util.createBuffer(t.iv);if(this._cipherLength=0,a="additionalData"in t?s.util.createBuffer(t.additionalData):s.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=s.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var e=o.length();if(e===12)this._j0=[o.getInt32(),o.getInt32(),o.getInt32(),1];else{for(this._j0=[0,0,0,0];o.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(8*e)))}this._inBlock=this._j0.slice(0),f(this._inBlock),this._partialBytes=0,a=s.util.createBuffer(a),this._aDataLength=c(8*a.length());var n=a.length()%this.blockSize;for(n&&a.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},r.gcm.prototype.encrypt=function(t,a,o){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize){for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-e)%this.blockSize;for(h>0&&(h=this.blockSize-h),this._partialOutput.clear(),n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(h<=0||o){if(o){var u=e%this.blockSize;this._cipherLength+=u,this._partialOutput.truncate(this.blockSize-u)}else this._cipherLength+=this.blockSize;for(n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return t.read-=this.blockSize,a.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;a.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),f(this._inBlock)},r.gcm.prototype.decrypt=function(t,a,o){var e=t.length();if(e<this.blockSize&&!(o&&e>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),f(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)a.putInt32(this._outBlock[n]^this._hashBlock[n]);e<this.blockSize?this._cipherLength+=e%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(t,a){var o=!0;a.decrypt&&a.overflow&&t.truncate(this.blockSize-a.overflow),this.tag=s.util.createBuffer();var e=this._aDataLength.concat(c(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,e);var n=[];this.cipher.encrypt(this._j0,n);for(var h=0;h<this._ints;++h)this.tag.putInt32(this._s[h]^n[h]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),a.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o},r.gcm.prototype.multiply=function(t,a){for(var o=[0,0,0,0],e=a.slice(0),n=0;n<128;++n)t[n/32|0]&1<<31-n%32&&(o[0]^=e[0],o[1]^=e[1],o[2]^=e[2],o[3]^=e[3]),this.pow(e,e);return o},r.gcm.prototype.pow=function(t,a){for(var o=1&t[3],e=3;e>0;--e)a[e]=t[e]>>>1|(1&t[e-1])<<31;a[0]=t[0]>>>1,o&&(a[0]^=this._R)},r.gcm.prototype.tableMultiply=function(t){for(var a=[0,0,0,0],o=0;o<32;++o){var e=t[o/8|0]>>>4*(7-o%8)&15,n=this._m[o][e];a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]}return a},r.gcm.prototype.ghash=function(t,a,o){return a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3],this.tableMultiply(a)},r.gcm.prototype.generateHashTable=function(t,a){for(var o=8/a,e=4*o,n=16*o,h=new Array(n),u=0;u<n;++u){var d=[0,0,0,0],l=(e-1-u%e)*a;d[u/e|0]=1<<a-1<<l,h[u]=this.generateSubHashTable(this.multiply(d,t),a)}return h},r.gcm.prototype.generateSubHashTable=function(t,a){var o=1<<a,e=o>>>1,n=new Array(o);n[e]=t.slice(0);for(var h=e>>>1;h>0;)this.pow(n[2*h],n[h]=[]),h>>=1;for(h=2;h<e;){for(var u=1;u<h;++u){var d=n[h],l=n[u];n[h+u]=[d[0]^l[0],d[1]^l[1],d[2]^l[2],d[3]^l[3]]}h*=2}for(n[0]=[0,0,0,0],h=e+1;h<o;++h){var m=n[h^e];n[h]=[t[0]^m[0],t[1]^m[1],t[2]^m[2],t[3]^m[3]]}return n}},function(N,x,b){const s=b(27),r=b(20),i=b(69);N.exports={create:function({algorithm:f="AES-GCM",nonceLength:c=12,keyLength:t=16,digest:a="SHA-256",saltLength:o=16,iterations:e=32767}={}){const n=i.get();return t*=8,{encrypt:async function(h,u){const d=n.getRandomValues(new Uint8Array(o)),l=n.getRandomValues(new Uint8Array(c)),m={name:f,iv:l},A={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},B=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),k=await n.subtle.deriveKey(A,B,{name:f,length:t},!0,["encrypt"]),T=await n.subtle.encrypt(m,k,h);return s([d,m.iv,new Uint8Array(T)])},decrypt:async function(h,u){const d=h.slice(0,o),l=h.slice(o,o+c),m=h.slice(o+c),A={name:f,iv:l},B={name:"PBKDF2",salt:d,iterations:e,hash:{name:a}},k=await n.subtle.importKey("raw",r(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),T=await n.subtle.deriveKey(B,k,{name:f,length:t},!0,["decrypt"]),g=await n.subtle.decrypt(A,T,m);return new Uint8Array(g)}}}}},function(N,x,b){var s=b(2);b(41),b(5);var r=N.exports=s.sha512=s.sha512||{};s.md.sha512=s.md.algorithms.sha512=r;var i=s.sha384=s.sha512.sha384=s.sha512.sha384||{};i.create=function(){return r.create("SHA-384")},s.md.sha384=s.md.algorithms.sha384=i,s.sha512.sha256=s.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},s.md["sha512/256"]=s.md.algorithms["sha512/256"]=s.sha512.sha256,s.sha512.sha224=s.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},s.md["sha512/224"]=s.md.algorithms["sha512/224"]=s.sha512.sha224,r.create=function(e){if(c||(f=String.fromCharCode(128),f+=s.util.fillString(String.fromCharCode(0),128),t=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(a={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0),e===void 0&&(e="SHA-512"),!(e in a))throw new Error("Invalid SHA-512 algorithm: "+e);for(var n=a[e],h=null,u=s.util.createBuffer(),d=new Array(80),l=0;l<80;++l)d[l]=new Array(2);var m=64;switch(e){case"SHA-384":m=48;break;case"SHA-512/256":m=32;break;case"SHA-512/224":m=28}var A={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:m,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){A.messageLength=0,A.fullMessageLength=A.messageLength128=[];for(var B=A.messageLengthSize/4,k=0;k<B;++k)A.fullMessageLength.push(0);for(u=s.util.createBuffer(),h=new Array(n.length),k=0;k<n.length;++k)h[k]=n[k].slice(0);return A}};return A.start(),A.update=function(B,k){k==="utf8"&&(B=s.util.encodeUtf8(B));var T=B.length;A.messageLength+=T,T=[T/4294967296>>>0,T>>>0];for(var g=A.fullMessageLength.length-1;g>=0;--g)A.fullMessageLength[g]+=T[1],T[1]=T[0]+(A.fullMessageLength[g]/4294967296>>>0),A.fullMessageLength[g]=A.fullMessageLength[g]>>>0,T[0]=T[1]/4294967296>>>0;return u.putBytes(B),o(h,d,u),(u.read>2048||u.length()===0)&&u.compact(),A},A.digest=function(){var B=s.util.createBuffer();B.putBytes(u.bytes());var k,T=A.fullMessageLength[A.fullMessageLength.length-1]+A.messageLengthSize&A.blockLength-1;B.putBytes(f.substr(0,A.blockLength-T));for(var g=8*A.fullMessageLength[0],E=0;E<A.fullMessageLength.length-1;++E)g+=(k=8*A.fullMessageLength[E+1])/4294967296>>>0,B.putInt32(g>>>0),g=k>>>0;B.putInt32(g);var R=new Array(h.length);for(E=0;E<h.length;++E)R[E]=h[E].slice(0);o(R,d,B);var S,M=s.util.createBuffer();for(S=e==="SHA-512"?R.length:e==="SHA-384"?R.length-2:R.length-4,E=0;E<S;++E)M.putInt32(R[E][0]),E===S-1&&e==="SHA-512/224"||M.putInt32(R[E][1]);return M},A};var f=null,c=!1,t=null,a=null;function o(e,n,h){for(var u,d,l,m,A,B,k,T,g,E,R,S,M,y,p,w,v,_,C,L,O,U,q,H,G,K,Q,z,D,F,I,P,V,$=h.length();$>=128;){for(Q=0;Q<16;++Q)n[Q][0]=h.getInt32()>>>0,n[Q][1]=h.getInt32()>>>0;for(;Q<80;++Q)u=(((z=(F=n[Q-2])[0])>>>19|(D=F[1])<<13)^(D>>>29|z<<3)^z>>>6)>>>0,d=((z<<13|D>>>19)^(D<<3|z>>>29)^(z<<26|D>>>6))>>>0,l=(((z=(P=n[Q-15])[0])>>>1|(D=P[1])<<31)^(z>>>8|D<<24)^z>>>7)>>>0,m=((z<<31|D>>>1)^(z<<24|D>>>8)^(z<<25|D>>>7))>>>0,I=n[Q-7],V=n[Q-16],D=d+I[1]+m+V[1],n[Q][0]=u+I[0]+l+V[0]+(D/4294967296>>>0)>>>0,n[Q][1]=D>>>0;for(R=e[0][0],S=e[0][1],M=e[1][0],y=e[1][1],p=e[2][0],w=e[2][1],v=e[3][0],_=e[3][1],C=e[4][0],L=e[4][1],O=e[5][0],U=e[5][1],q=e[6][0],H=e[6][1],G=e[7][0],K=e[7][1],Q=0;Q<80;++Q)k=((C>>>14|L<<18)^(C>>>18|L<<14)^(L>>>9|C<<23))>>>0,T=(q^C&(O^q))>>>0,A=((R>>>28|S<<4)^(S>>>2|R<<30)^(S>>>7|R<<25))>>>0,B=((R<<4|S>>>28)^(S<<30|R>>>2)^(S<<25|R>>>7))>>>0,g=(R&M|p&(R^M))>>>0,E=(S&y|w&(S^y))>>>0,D=K+(((C<<18|L>>>14)^(C<<14|L>>>18)^(L<<23|C>>>9))>>>0)+((H^L&(U^H))>>>0)+t[Q][1]+n[Q][1],u=G+k+T+t[Q][0]+n[Q][0]+(D/4294967296>>>0)>>>0,d=D>>>0,l=A+g+((D=B+E)/4294967296>>>0)>>>0,m=D>>>0,G=q,K=H,q=O,H=U,O=C,U=L,C=v+u+((D=_+d)/4294967296>>>0)>>>0,L=D>>>0,v=p,_=w,p=M,w=y,M=R,y=S,R=u+l+((D=d+m)/4294967296>>>0)>>>0,S=D>>>0;D=e[0][1]+S,e[0][0]=e[0][0]+R+(D/4294967296>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+y,e[1][0]=e[1][0]+M+(D/4294967296>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+w,e[2][0]=e[2][0]+p+(D/4294967296>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+_,e[3][0]=e[3][0]+v+(D/4294967296>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+L,e[4][0]=e[4][0]+C+(D/4294967296>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+U,e[5][0]=e[5][0]+O+(D/4294967296>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+H,e[6][0]=e[6][0]+q+(D/4294967296>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+K,e[7][0]=e[7][0]+G+(D/4294967296>>>0)>>>0,e[7][1]=D>>>0,$-=128}}},function(N,x,b){(function(s){var r=b(2);b(68),b(53),b(172),b(5);var i=b(449),f=i.publicKeyValidator,c=i.privateKeyValidator;if(t===void 0)var t=r.jsbn.BigInteger;var a=r.util.ByteBuffer,o=s===void 0?Uint8Array:s;r.pki=r.pki||{},N.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var e=r.ed25519;function n(z){var D=z.message;if(D instanceof Uint8Array||D instanceof o)return D;var F=z.encoding;if(D===void 0){if(!z.md)throw new TypeError('"options.message" or "options.md" not specified.');D=z.md.digest().getBytes(),F="binary"}if(typeof D=="string"&&!F)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof D=="string"){if(s!==void 0)return s.from(D,F);D=new a(D,F)}else if(!(D instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var I=new o(D.length()),P=0;P<I.length;++P)I[P]=D.at(P);return I}e.constants={},e.constants.PUBLIC_KEY_BYTE_LENGTH=32,e.constants.PRIVATE_KEY_BYTE_LENGTH=64,e.constants.SEED_BYTE_LENGTH=32,e.constants.SIGN_BYTE_LENGTH=64,e.constants.HASH_BYTE_LENGTH=64,e.generateKeyPair=function(z){var D=(z=z||{}).seed;if(D===void 0)D=r.random.getBytesSync(e.constants.SEED_BYTE_LENGTH);else if(typeof D=="string"){if(D.length!==e.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+e.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(D instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');D=n({message:D,encoding:"binary"});for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=new o(e.constants.PRIVATE_KEY_BYTE_LENGTH),P=0;P<32;++P)I[P]=D[P];return function(V,$){var W,et=[q(),q(),q(),q()],ot=T($,32);for(ot[0]&=248,ot[31]&=127,ot[31]|=64,C(et,ot),M(V,et),W=0;W<32;++W)$[W+32]=V[W]}(F,I),{publicKey:F,privateKey:I}},e.privateKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,c,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.privateKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.privateKey;return{privateKeyBytes:n({message:r.asn1.fromDer($).value,encoding:"binary"})}},e.publicKeyFromAsn1=function(z){var D={},F=[];if(!r.asn1.validate(z,f,D,F)){var I=new Error("Invalid Key.");throw I.errors=F,I}var P=r.asn1.derToOid(D.publicKeyOid),V=r.oids.EdDSA25519;if(P!==V)throw new Error('Invalid OID "'+P+'"; OID must be "'+V+'".');var $=D.ed25519PublicKey;if($.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return n({message:$,encoding:"binary"})},e.publicKeyFromPrivateKey=function(z){var D=n({message:(z=z||{}).privateKey,encoding:"binary"});if(D.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.PRIVATE_KEY_BYTE_LENGTH);for(var F=new o(e.constants.PUBLIC_KEY_BYTE_LENGTH),I=0;I<F.length;++I)F[I]=D[32+I];return F},e.sign=function(z){var D=n(z=z||{}),F=n({message:z.privateKey,encoding:"binary"});if(F.length===e.constants.SEED_BYTE_LENGTH)F=e.generateKeyPair({seed:F}).privateKey;else if(F.length!==e.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+e.constants.SEED_BYTE_LENGTH+" or "+e.constants.PRIVATE_KEY_BYTE_LENGTH);var I=new o(e.constants.SIGN_BYTE_LENGTH+D.length);!function($,W,et,ot){var j,Y,X=new Float64Array(64),tt=[q(),q(),q(),q()],rt=T(ot,32);for(rt[0]&=248,rt[31]&=127,rt[31]|=64,j=0;j<et;++j)$[64+j]=W[j];for(j=0;j<32;++j)$[32+j]=rt[32+j];var J=T($.subarray(32),et+32);for(E(J),C(tt,J),M($,tt),j=32;j<64;++j)$[j]=ot[j];var Z=T($,et+64);for(E(Z),j=32;j<64;++j)X[j]=0;for(j=0;j<32;++j)X[j]=J[j];for(j=0;j<32;++j)for(Y=0;Y<32;Y++)X[j+Y]+=Z[j]*rt[Y];g($.subarray(32),X)}(I,D,D.length,F);for(var P=new o(e.constants.SIGN_BYTE_LENGTH),V=0;V<P.length;++V)P[V]=I[V];return P},e.verify=function(z){var D=n(z=z||{});if(z.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var F=n({message:z.signature,encoding:"binary"});if(F.length!==e.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+e.constants.SIGN_BYTE_LENGTH);var I=n({message:z.publicKey,encoding:"binary"});if(I.length!==e.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+e.constants.PUBLIC_KEY_BYTE_LENGTH);var P,V=new o(e.constants.SIGN_BYTE_LENGTH+D.length),$=new o(e.constants.SIGN_BYTE_LENGTH+D.length);for(P=0;P<e.constants.SIGN_BYTE_LENGTH;++P)V[P]=F[P];for(P=0;P<D.length;++P)V[P+e.constants.SIGN_BYTE_LENGTH]=D[P];return function(W,et,ot,j){var Y,X=new o(32),tt=[q(),q(),q(),q()],rt=[q(),q(),q(),q()];if(ot<64)return-1;if(function(Z,nt){var it=q(),st=q(),at=q(),ct=q(),ut=q(),bt=q(),ht=q();return L(Z[2],u),function(yt,Ct){var ft;for(ft=0;ft<16;++ft)yt[ft]=Ct[2*ft]+(Ct[2*ft+1]<<8);yt[15]&=32767}(Z[1],nt),K(at,Z[1]),Q(ct,at,d),G(at,at,Z[2]),H(ct,Z[2],ct),K(ut,ct),K(bt,ut),Q(ht,bt,ut),Q(it,ht,at),Q(it,it,ct),function(yt,Ct){var ft,dt=q();for(ft=0;ft<16;++ft)dt[ft]=Ct[ft];for(ft=250;ft>=0;--ft)K(dt,dt),ft!==1&&Q(dt,dt,Ct);for(ft=0;ft<16;++ft)yt[ft]=dt[ft]}(it,it),Q(it,it,at),Q(it,it,ct),Q(it,it,ct),Q(Z[0],it,ct),K(st,Z[0]),Q(st,st,ct),p(st,at)&&Q(Z[0],Z[0],k),(K(st,Z[0]),Q(st,st,ct),p(st,at))?-1:(v(Z[0])===nt[31]>>7&&G(Z[0],h,Z[0]),Q(Z[3],Z[0],Z[1]),0)}(rt,j))return-1;for(Y=0;Y<ot;++Y)W[Y]=et[Y];for(Y=0;Y<32;++Y)W[Y+32]=j[Y];var J=T(W,ot);if(E(J),_(tt,rt,J),C(rt,et.subarray(32)),R(tt,rt),M(X,tt),ot-=64,w(et,0,X,0)){for(Y=0;Y<ot;++Y)W[Y]=0;return-1}for(Y=0;Y<ot;++Y)W[Y]=et[Y+64];return ot}($,V,V.length,I)>=0};var h=q(),u=q([1]),d=q([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=q([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=q([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=q([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),k=q([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(z,D){var F=r.md.sha512.create(),I=new a(z);F.update(I.getBytes(D),"binary");var P=F.digest().getBytes();if(s!==void 0)return s.from(P,"binary");for(var V=new o(e.constants.HASH_BYTE_LENGTH),$=0;$<64;++$)V[$]=P.charCodeAt($);return V}function g(z,D){var F,I,P,V;for(I=63;I>=32;--I){for(F=0,P=I-32,V=I-12;P<V;++P)D[P]+=F-16*D[I]*B[P-(I-32)],F=D[P]+128>>8,D[P]-=256*F;D[P]+=F,D[I]=0}for(F=0,P=0;P<32;++P)D[P]+=F-(D[31]>>4)*B[P],F=D[P]>>8,D[P]&=255;for(P=0;P<32;++P)D[P]-=F*B[P];for(I=0;I<32;++I)D[I+1]+=D[I]>>8,z[I]=255&D[I]}function E(z){for(var D=new Float64Array(64),F=0;F<64;++F)D[F]=z[F],z[F]=0;g(z,D)}function R(z,D){var F=q(),I=q(),P=q(),V=q(),$=q(),W=q(),et=q(),ot=q(),j=q();G(F,z[1],z[0]),G(j,D[1],D[0]),Q(F,F,j),H(I,z[0],z[1]),H(j,D[0],D[1]),Q(I,I,j),Q(P,z[3],D[3]),Q(P,P,l),Q(V,z[2],D[2]),H(V,V,V),G($,I,F),G(W,V,P),H(et,V,P),H(ot,I,F),Q(z[0],$,W),Q(z[1],ot,et),Q(z[2],et,W),Q(z[3],$,ot)}function S(z,D,F){for(var I=0;I<4;++I)U(z[I],D[I],F)}function M(z,D){var F=q(),I=q(),P=q();!function(V,$){var W,et=q();for(W=0;W<16;++W)et[W]=$[W];for(W=253;W>=0;--W)K(et,et),W!==2&&W!==4&&Q(et,et,$);for(W=0;W<16;++W)V[W]=et[W]}(P,D[2]),Q(F,D[0],P),Q(I,D[1],P),y(z,I),z[31]^=v(F)<<7}function y(z,D){var F,I,P,V=q(),$=q();for(F=0;F<16;++F)$[F]=D[F];for(O($),O($),O($),I=0;I<2;++I){for(V[0]=$[0]-65517,F=1;F<15;++F)V[F]=$[F]-65535-(V[F-1]>>16&1),V[F-1]&=65535;V[15]=$[15]-32767-(V[14]>>16&1),P=V[15]>>16&1,V[14]&=65535,U($,V,1-P)}for(F=0;F<16;F++)z[2*F]=255&$[F],z[2*F+1]=$[F]>>8}function p(z,D){var F=new o(32),I=new o(32);return y(F,z),y(I,D),w(F,0,I,0)}function w(z,D,F,I){return function(P,V,$,W,et){var ot,j=0;for(ot=0;ot<et;++ot)j|=P[V+ot]^$[W+ot];return(1&j-1>>>8)-1}(z,D,F,I,32)}function v(z){var D=new o(32);return y(D,z),1&D[0]}function _(z,D,F){var I,P;for(L(z[0],h),L(z[1],u),L(z[2],u),L(z[3],h),P=255;P>=0;--P)S(z,D,I=F[P/8|0]>>(7&P)&1),R(D,z),R(z,z),S(z,D,I)}function C(z,D){var F=[q(),q(),q(),q()];L(F[0],m),L(F[1],A),L(F[2],u),Q(F[3],m,A),_(z,F,D)}function L(z,D){var F;for(F=0;F<16;F++)z[F]=0|D[F]}function O(z){var D,F,I=1;for(D=0;D<16;++D)F=z[D]+I+65535,I=Math.floor(F/65536),z[D]=F-65536*I;z[0]+=I-1+37*(I-1)}function U(z,D,F){for(var I,P=~(F-1),V=0;V<16;++V)I=P&(z[V]^D[V]),z[V]^=I,D[V]^=I}function q(z){var D,F=new Float64Array(16);if(z)for(D=0;D<z.length;++D)F[D]=z[D];return F}function H(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]+F[I]}function G(z,D,F){for(var I=0;I<16;++I)z[I]=D[I]-F[I]}function K(z,D){Q(z,D,D)}function Q(z,D,F){var I,P,V=0,$=0,W=0,et=0,ot=0,j=0,Y=0,X=0,tt=0,rt=0,J=0,Z=0,nt=0,it=0,st=0,at=0,ct=0,ut=0,bt=0,ht=0,yt=0,Ct=0,ft=0,dt=0,Kt=0,Tt=0,Rt=0,jt=0,It=0,Bt=0,Vt=0,pt=F[0],lt=F[1],Pt=F[2],gt=F[3],mt=F[4],Lt=F[5],vt=F[6],wt=F[7],Ot=F[8],Et=F[9],St=F[10],Dt=F[11],_t=F[12],kt=F[13],Ut=F[14],At=F[15];V+=(I=D[0])*pt,$+=I*lt,W+=I*Pt,et+=I*gt,ot+=I*mt,j+=I*Lt,Y+=I*vt,X+=I*wt,tt+=I*Ot,rt+=I*Et,J+=I*St,Z+=I*Dt,nt+=I*_t,it+=I*kt,st+=I*Ut,at+=I*At,$+=(I=D[1])*pt,W+=I*lt,et+=I*Pt,ot+=I*gt,j+=I*mt,Y+=I*Lt,X+=I*vt,tt+=I*wt,rt+=I*Ot,J+=I*Et,Z+=I*St,nt+=I*Dt,it+=I*_t,st+=I*kt,at+=I*Ut,ct+=I*At,W+=(I=D[2])*pt,et+=I*lt,ot+=I*Pt,j+=I*gt,Y+=I*mt,X+=I*Lt,tt+=I*vt,rt+=I*wt,J+=I*Ot,Z+=I*Et,nt+=I*St,it+=I*Dt,st+=I*_t,at+=I*kt,ct+=I*Ut,ut+=I*At,et+=(I=D[3])*pt,ot+=I*lt,j+=I*Pt,Y+=I*gt,X+=I*mt,tt+=I*Lt,rt+=I*vt,J+=I*wt,Z+=I*Ot,nt+=I*Et,it+=I*St,st+=I*Dt,at+=I*_t,ct+=I*kt,ut+=I*Ut,bt+=I*At,ot+=(I=D[4])*pt,j+=I*lt,Y+=I*Pt,X+=I*gt,tt+=I*mt,rt+=I*Lt,J+=I*vt,Z+=I*wt,nt+=I*Ot,it+=I*Et,st+=I*St,at+=I*Dt,ct+=I*_t,ut+=I*kt,bt+=I*Ut,ht+=I*At,j+=(I=D[5])*pt,Y+=I*lt,X+=I*Pt,tt+=I*gt,rt+=I*mt,J+=I*Lt,Z+=I*vt,nt+=I*wt,it+=I*Ot,st+=I*Et,at+=I*St,ct+=I*Dt,ut+=I*_t,bt+=I*kt,ht+=I*Ut,yt+=I*At,Y+=(I=D[6])*pt,X+=I*lt,tt+=I*Pt,rt+=I*gt,J+=I*mt,Z+=I*Lt,nt+=I*vt,it+=I*wt,st+=I*Ot,at+=I*Et,ct+=I*St,ut+=I*Dt,bt+=I*_t,ht+=I*kt,yt+=I*Ut,Ct+=I*At,X+=(I=D[7])*pt,tt+=I*lt,rt+=I*Pt,J+=I*gt,Z+=I*mt,nt+=I*Lt,it+=I*vt,st+=I*wt,at+=I*Ot,ct+=I*Et,ut+=I*St,bt+=I*Dt,ht+=I*_t,yt+=I*kt,Ct+=I*Ut,ft+=I*At,tt+=(I=D[8])*pt,rt+=I*lt,J+=I*Pt,Z+=I*gt,nt+=I*mt,it+=I*Lt,st+=I*vt,at+=I*wt,ct+=I*Ot,ut+=I*Et,bt+=I*St,ht+=I*Dt,yt+=I*_t,Ct+=I*kt,ft+=I*Ut,dt+=I*At,rt+=(I=D[9])*pt,J+=I*lt,Z+=I*Pt,nt+=I*gt,it+=I*mt,st+=I*Lt,at+=I*vt,ct+=I*wt,ut+=I*Ot,bt+=I*Et,ht+=I*St,yt+=I*Dt,Ct+=I*_t,ft+=I*kt,dt+=I*Ut,Kt+=I*At,J+=(I=D[10])*pt,Z+=I*lt,nt+=I*Pt,it+=I*gt,st+=I*mt,at+=I*Lt,ct+=I*vt,ut+=I*wt,bt+=I*Ot,ht+=I*Et,yt+=I*St,Ct+=I*Dt,ft+=I*_t,dt+=I*kt,Kt+=I*Ut,Tt+=I*At,Z+=(I=D[11])*pt,nt+=I*lt,it+=I*Pt,st+=I*gt,at+=I*mt,ct+=I*Lt,ut+=I*vt,bt+=I*wt,ht+=I*Ot,yt+=I*Et,Ct+=I*St,ft+=I*Dt,dt+=I*_t,Kt+=I*kt,Tt+=I*Ut,Rt+=I*At,nt+=(I=D[12])*pt,it+=I*lt,st+=I*Pt,at+=I*gt,ct+=I*mt,ut+=I*Lt,bt+=I*vt,ht+=I*wt,yt+=I*Ot,Ct+=I*Et,ft+=I*St,dt+=I*Dt,Kt+=I*_t,Tt+=I*kt,Rt+=I*Ut,jt+=I*At,it+=(I=D[13])*pt,st+=I*lt,at+=I*Pt,ct+=I*gt,ut+=I*mt,bt+=I*Lt,ht+=I*vt,yt+=I*wt,Ct+=I*Ot,ft+=I*Et,dt+=I*St,Kt+=I*Dt,Tt+=I*_t,Rt+=I*kt,jt+=I*Ut,It+=I*At,st+=(I=D[14])*pt,at+=I*lt,ct+=I*Pt,ut+=I*gt,bt+=I*mt,ht+=I*Lt,yt+=I*vt,Ct+=I*wt,ft+=I*Ot,dt+=I*Et,Kt+=I*St,Tt+=I*Dt,Rt+=I*_t,jt+=I*kt,It+=I*Ut,Bt+=I*At,at+=(I=D[15])*pt,$+=38*(ut+=I*Pt),W+=38*(bt+=I*gt),et+=38*(ht+=I*mt),ot+=38*(yt+=I*Lt),j+=38*(Ct+=I*vt),Y+=38*(ft+=I*wt),X+=38*(dt+=I*Ot),tt+=38*(Kt+=I*Et),rt+=38*(Tt+=I*St),J+=38*(Rt+=I*Dt),Z+=38*(jt+=I*_t),nt+=38*(It+=I*kt),it+=38*(Bt+=I*Ut),st+=38*(Vt+=I*At),V=(I=(V+=38*(ct+=I*lt))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V=(I=(V+=P-1+37*(P-1))+(P=1)+65535)-65536*(P=Math.floor(I/65536)),$=(I=$+P+65535)-65536*(P=Math.floor(I/65536)),W=(I=W+P+65535)-65536*(P=Math.floor(I/65536)),et=(I=et+P+65535)-65536*(P=Math.floor(I/65536)),ot=(I=ot+P+65535)-65536*(P=Math.floor(I/65536)),j=(I=j+P+65535)-65536*(P=Math.floor(I/65536)),Y=(I=Y+P+65535)-65536*(P=Math.floor(I/65536)),X=(I=X+P+65535)-65536*(P=Math.floor(I/65536)),tt=(I=tt+P+65535)-65536*(P=Math.floor(I/65536)),rt=(I=rt+P+65535)-65536*(P=Math.floor(I/65536)),J=(I=J+P+65535)-65536*(P=Math.floor(I/65536)),Z=(I=Z+P+65535)-65536*(P=Math.floor(I/65536)),nt=(I=nt+P+65535)-65536*(P=Math.floor(I/65536)),it=(I=it+P+65535)-65536*(P=Math.floor(I/65536)),st=(I=st+P+65535)-65536*(P=Math.floor(I/65536)),at=(I=at+P+65535)-65536*(P=Math.floor(I/65536)),V+=P-1+37*(P-1),z[0]=V,z[1]=$,z[2]=W,z[3]=et,z[4]=ot,z[5]=j,z[6]=Y,z[7]=X,z[8]=tt,z[9]=rt,z[10]=J,z[11]=Z,z[12]=nt,z[13]=it,z[14]=st,z[15]=at}}).call(this,b(8).Buffer)},function(N,x,b){const s=b(451),r=b(24);N.exports=function(i){if(isNaN(i)||i<=0)throw r(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return s(i)}},function(N,x,b){var s=x;function r(f){return f.length===1?"0"+f:f}function i(f){for(var c="",t=0;t<f.length;t++)c+=r(f[t].toString(16));return c}s.toArray=function(f,c){if(Array.isArray(f))return f.slice();if(!f)return[];var t=[];if(typeof f!="string"){for(var a=0;a<f.length;a++)t[a]=0|f[a];return t}if(c==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),a=0;a<f.length;a+=2)t.push(parseInt(f[a]+f[a+1],16));else for(a=0;a<f.length;a++){var o=f.charCodeAt(a),e=o>>8,n=255&o;e?t.push(e,n):t.push(n)}return t},s.zero2=r,s.toHex=i,s.encode=function(f,c){return c==="hex"?i(f):f}},function(N,x,b){var s;function r(f){this.rand=f}if(N.exports=function(f){return s||(s=new r(null)),s.generate(f)},N.exports.Rand=r,r.prototype.generate=function(f){return this._rand(f)},r.prototype._rand=function(f){if(this.rand.getBytes)return this.rand.getBytes(f);for(var c=new Uint8Array(f),t=0;t<c.length;t++)c[t]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(f){var c=new Uint8Array(f);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=b(464);if(typeof i.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(f){return i.randomBytes(f)}}catch(f){}},function(N,x,b){var s=x;s.base=b(71),s.short=b(465),s.mont=b(466),s.edwards=b(467)},function(N,x,b){var s=b(25).rotr32;function r(c,t,a){return c&t^~c&a}function i(c,t,a){return c&t^c&a^t&a}function f(c,t,a){return c^t^a}x.ft_1=function(c,t,a,o){return c===0?r(t,a,o):c===1||c===3?f(t,a,o):c===2?i(t,a,o):void 0},x.ch32=r,x.maj32=i,x.p32=f,x.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},x.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},x.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},x.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},function(N,x,b){var s=b(25),r=b(54),i=b(178),f=b(36),c=s.sum32,t=s.sum32_4,a=s.sum32_5,o=i.ch32,e=i.maj32,n=i.s0_256,h=i.s1_256,u=i.g0_256,d=i.g1_256,l=r.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function A(){if(!(this instanceof A))return new A;l.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}s.inherits(A,l),N.exports=A,A.blockSize=512,A.outSize=256,A.hmacStrength=192,A.padLength=64,A.prototype._update=function(B,k){for(var T=this.W,g=0;g<16;g++)T[g]=B[k+g];for(;g<T.length;g++)T[g]=t(d(T[g-2]),T[g-7],u(T[g-15]),T[g-16]);var E=this.h[0],R=this.h[1],S=this.h[2],M=this.h[3],y=this.h[4],p=this.h[5],w=this.h[6],v=this.h[7];for(f(this.k.length===T.length),g=0;g<T.length;g++){var _=a(v,h(y),o(y,p,w),this.k[g],T[g]),C=c(n(E),e(E,R,S));v=w,w=p,p=y,y=c(M,_),M=S,S=R,R=E,E=c(_,C)}this.h[0]=c(this.h[0],E),this.h[1]=c(this.h[1],R),this.h[2]=c(this.h[2],S),this.h[3]=c(this.h[3],M),this.h[4]=c(this.h[4],y),this.h[5]=c(this.h[5],p),this.h[6]=c(this.h[6],w),this.h[7]=c(this.h[7],v)},A.prototype._digest=function(B){return B==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(25),r=b(54),i=b(36),f=s.rotr64_hi,c=s.rotr64_lo,t=s.shr64_hi,a=s.shr64_lo,o=s.sum64,e=s.sum64_hi,n=s.sum64_lo,h=s.sum64_4_hi,u=s.sum64_4_lo,d=s.sum64_5_hi,l=s.sum64_5_lo,m=r.BlockHash,A=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function B(){if(!(this instanceof B))return new B;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=A,this.W=new Array(160)}function k(C,L,O,U,q){var H=C&O^~C&q;return H<0&&(H+=4294967296),H}function T(C,L,O,U,q,H){var G=L&U^~L&H;return G<0&&(G+=4294967296),G}function g(C,L,O,U,q){var H=C&O^C&q^O&q;return H<0&&(H+=4294967296),H}function E(C,L,O,U,q,H){var G=L&U^L&H^U&H;return G<0&&(G+=4294967296),G}function R(C,L){var O=f(C,L,28)^f(L,C,2)^f(L,C,7);return O<0&&(O+=4294967296),O}function S(C,L){var O=c(C,L,28)^c(L,C,2)^c(L,C,7);return O<0&&(O+=4294967296),O}function M(C,L){var O=f(C,L,14)^f(C,L,18)^f(L,C,9);return O<0&&(O+=4294967296),O}function y(C,L){var O=c(C,L,14)^c(C,L,18)^c(L,C,9);return O<0&&(O+=4294967296),O}function p(C,L){var O=f(C,L,1)^f(C,L,8)^t(C,L,7);return O<0&&(O+=4294967296),O}function w(C,L){var O=c(C,L,1)^c(C,L,8)^a(C,L,7);return O<0&&(O+=4294967296),O}function v(C,L){var O=f(C,L,19)^f(L,C,29)^t(C,L,6);return O<0&&(O+=4294967296),O}function _(C,L){var O=c(C,L,19)^c(L,C,29)^a(C,L,6);return O<0&&(O+=4294967296),O}s.inherits(B,m),N.exports=B,B.blockSize=1024,B.outSize=512,B.hmacStrength=192,B.padLength=128,B.prototype._prepareBlock=function(C,L){for(var O=this.W,U=0;U<32;U++)O[U]=C[L+U];for(;U<O.length;U+=2){var q=v(O[U-4],O[U-3]),H=_(O[U-4],O[U-3]),G=O[U-14],K=O[U-13],Q=p(O[U-30],O[U-29]),z=w(O[U-30],O[U-29]),D=O[U-32],F=O[U-31];O[U]=h(q,H,G,K,Q,z,D,F),O[U+1]=u(q,H,G,K,Q,z,D,F)}},B.prototype._update=function(C,L){this._prepareBlock(C,L);var O=this.W,U=this.h[0],q=this.h[1],H=this.h[2],G=this.h[3],K=this.h[4],Q=this.h[5],z=this.h[6],D=this.h[7],F=this.h[8],I=this.h[9],P=this.h[10],V=this.h[11],$=this.h[12],W=this.h[13],et=this.h[14],ot=this.h[15];i(this.k.length===O.length);for(var j=0;j<O.length;j+=2){var Y=et,X=ot,tt=M(F,I),rt=y(F,I),J=k(F,I,P,V,$),Z=T(F,I,P,V,$,W),nt=this.k[j],it=this.k[j+1],st=O[j],at=O[j+1],ct=d(Y,X,tt,rt,J,Z,nt,it,st,at),ut=l(Y,X,tt,rt,J,Z,nt,it,st,at);Y=R(U,q),X=S(U,q),tt=g(U,q,H,G,K),rt=E(U,q,H,G,K,Q);var bt=e(Y,X,tt,rt),ht=n(Y,X,tt,rt);et=$,ot=W,$=P,W=V,P=F,V=I,F=e(z,D,ct,ut),I=n(D,D,ct,ut),z=K,D=Q,K=H,Q=G,H=U,G=q,U=e(ct,ut,bt,ht),q=n(ct,ut,bt,ht)}o(this.h,0,U,q),o(this.h,2,H,G),o(this.h,4,K,Q),o(this.h,6,z,D),o(this.h,8,F,I),o(this.h,10,P,V),o(this.h,12,$,W),o(this.h,14,et,ot)},B.prototype._digest=function(C){return C==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){N.exports=function(s,{className:r,symbolName:i}){const f=Symbol.for(i),c={[r]:class extends s{constructor(...t){super(...t),Object.defineProperty(this,f,{value:!0})}get[Symbol.toStringTag](){return r}}}[r];return c["is"+r]=t=>!(!t||!t[f]),c},N.exports.proto=function(s,{className:r,symbolName:i,withoutNew:f}){const c=Symbol.for(i),t={[r]:function(...a){if(f&&!(this instanceof t))return new t(...a);const o=s.call(this,...a)||this;return o&&!o[c]&&Object.defineProperty(o,c,{value:!0}),o}}[r];return t.prototype=Object.create(s.prototype),t.prototype.constructor=t,Object.defineProperty(t.prototype,Symbol.toStringTag,{get:()=>r}),t["is"+r]=a=>!(!a||!a[c]),t}},function(N,x,b){const s=b(1),{EventEmitter:r}=b(30),i=b(9),f=b(497),c=b(498),t=b(499),a=b(500),{codes:{ERR_INVALID_PARAMETERS:o}}=b(10);N.exports=class extends r{constructor({peerId:e}){super(),this._peerId=e,this.addressBook=new f(this),this.keyBook=new c(this),this.metadataBook=new t(this),this.protoBook=new a(this)}start(){}stop(){}get peers(){const e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());const n=new Map;return e.forEach(h=>{n.set(h,this.get(i.createFromCID(h)))}),n}delete(e){const n=this.addressBook.delete(e),h=this.keyBook.delete(e),u=this.protoBook.delete(e),d=this.metadataBook.delete(e);return n||h||u||d}get(e){if(!i.isPeerId(e))throw s(new Error("peerId must be an instance of peer-id"),o);const n=this.keyBook.data.get(e.toB58String()),h=this.addressBook.get(e),u=this.metadataBook.get(e),d=this.protoBook.get(e);if(n||h||u||d)return{id:n||e,addresses:h||[],protocols:d||[],metadata:u}}}},function(N,x,b){N.exports=b(184)},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p"),{error:s("libp2p:err")}),{EventEmitter:i}=b(30),f=b(55),c=b(1),t=b(9),a=b(280),o=b(286),e=b(135),{validate:n}=b(291),{codes:h,messages:u}=b(10),d=b(320),l=b(321),m=b(325),A=b(338),B=b(352),k=b(357),T=b(378),g=b(143),E=b(384),R=b(182),S=b(501),M=b(502),y=b(506),p=b(508),w=b(510),v=w.multicodecs;class _ extends i{static async create(C){if(C.peerId)return new _(C);const L=await t.create();return C.peerId=L,new _(C)}constructor(C){if(super(),this._options=n(C),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new M({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new R({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new d(this._options.addresses),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this._options.connectionManager.minPeers&&(this._options.connectionManager.minConnections=this._options.connectionManager.minPeers),this.connectionManager=new l(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new T({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){r("creating keychain");const L=k.generateOptions();this.keychain=new k(this._options.keychain.datastore,{passPhrase:this._options.keychain.pass,...L,...this._options.keychain}),r("keychain constructed")}if(this.upgrader=new E({localPeer:this.peerId,metrics:this.metrics,onConnection:L=>this.connectionManager.onConnect(L),onConnectionEnd:L=>this.connectionManager.onDisconnect(L),exposeRawConn:this._config.exposeRawConn}),this.transportManager=new g({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.registrar=new y({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw c(new Error(u.CONN_ENCRYPTION_REQUIRED),h.CONN_ENCRYPTION_REQUIRED);if((this._modules.connEncryption.forEach(L=>{this.upgrader.cryptos.set(L.protocol,L)}),this.dialer=new B({transportManager:this.transportManager,peerStore:this.peerStore,concurrency:this._options.dialer.maxParallelDials,perPeerLimit:this._options.dialer.maxDialsPerPeer,timeout:this._options.dialer.dialTimeout,resolvers:this._options.dialer.resolvers,addressSorter:this._options.dialer.addressSorter}),this._modules.transport.forEach(L=>{const O=L.prototype[Symbol.toStringTag],U=this._config.transport[O];this.transportManager.add(O,L,U)}),this._config.relay.enabled&&(this.transportManager.add(m.prototype[Symbol.toStringTag],m),this.relay=new A(this)),this._modules.streamMuxer)&&(this._modules.streamMuxer.forEach(L=>{this.upgrader.muxers.set(L.multicodec,L)}),this.identifyService=new w({libp2p:this}),this.handle(Object.values(v),this.identifyService.handleMessage)),this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(f.process!==void 0&&f.process.env&&f.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const L=this._modules.dht;this._dht=new L({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){const L=this._modules.pubsub;this.pubsub=S(L,this,this._config.pubsub)}this.peerRouting=new a(this),this.contentRouting=new o(this),p.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(C,...L){return C!=="error"||this._events.error?super.emit(C,...L):(r.error(L),!1)}async start(){r("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),r("libp2p has started")}catch(C){throw this.emit("error",C),r.error("An error occurred starting libp2p",C),await this.stop(),C}}async stop(){r("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(const C of this._discovery.values())C.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),C=>C.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.transportManager.close(),p.unmount(this),this.dialer.destroy()}catch(C){C&&(r.error(C),this.emit("error",C))}r("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(C){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(C,L){return this.dialProtocol(C,[],L)}async dialProtocol(C,L,O){const{id:U,multiaddrs:q}=e(C);if(U.equals(this.peerId))throw c(new Error("Cannot dial self"),h.ERR_DIALED_SELF);let H=this.connectionManager.get(U);return H?q&&this.peerStore.addressBook.add(U,q):H=await this.dialer.connectToPeer(C,O),L&&L.length?H.newStream(L):H}get multiaddrs(){const C=this.addressManager.getAnnounceAddrs();return C.length?C:(this._options.addresses.announceFilter||(L=>L))(this.transportManager.getAddrs())}async hangUp(C){const{id:L}=e(C),O=this.connectionManager.connections.get(L.toB58String());O&&await Promise.all(O.map(U=>U.close()))}ping(C){const{id:L,multiaddrs:O}=e(C);return p(this,O?O[0]:L)}handle(C,L){(C=Array.isArray(C)?C:[C]).forEach(O=>{this.upgrader.protocols.set(O,L)}),this.peerStore.protoBook.add(this.peerId,C)}unhandle(C){(C=Array.isArray(C)?C:[C]).forEach(L=>{this.upgrader.protocols.delete(L)}),this.peerStore.protoBook.remove(this.peerId,C)}async _onStarting(){const C=this.addressManager.getListenAddrs();await this.transportManager.listen(C),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",C=>{this.emit("peer:discovery",C),this._maybeConnect(C)});for(const C of this.peerStore.peers.values())this.emit("peer:discovery",C.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(C){C.id.toB58String()!==this.peerId.toB58String()?(C.multiaddrs&&this.peerStore.addressBook.add(C.id,C.multiaddrs),C.protocols&&this.peerStore.protoBook.set(C.id,C.protocols)):r.error(new Error(h.ERR_DISCOVERED_SELF))}async _maybeConnect(C){if(this._config.peerDiscovery.autoDial===!0&&!this.connectionManager.get(C)&&(this._options.connectionManager.minConnections||0)>this.connectionManager.size){r("connecting to discovered peer %s",C.toB58String());try{await this.dialer.connectToPeer(C)}catch(L){r.error("could not connect to discovered peer",L)}}}async _setupPeerDiscovery(){const C=L=>{let O={enabled:!0};if(L.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[L.tag]&&(O={...O,...this._config.peerDiscovery[L.tag]}),O.enabled&&!this._discovery.has(L.tag)){let U;U=typeof L=="function"?new L(Object.assign({},O,{peerId:this.peerId,libp2p:this})):L,U.on("peer",this._onDiscoveryPeer),this._discovery.set(L.tag,U)}};for(const L of this._modules.peerDiscovery||[])C(L);for(const L of this.transportManager.getTransports())L.discovery&&C(L.discovery);await Promise.all(Array.from(this._discovery.values(),L=>L.start()))}}N.exports=_},function(N,x,b){N.exports=function(s){function r(c){let t,a=null;function o(...e){if(!o.enabled)return;const n=o,h=Number(new Date),u=h-(t||h);n.diff=u,n.prev=t,n.curr=h,t=h,e[0]=r.coerce(e[0]),typeof e[0]!="string"&&e.unshift("%O");let d=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(l,m)=>{if(l==="%%")return"%";d++;const A=r.formatters[m];if(typeof A=="function"){const B=e[d];l=A.call(n,B),e.splice(d,1),d--}return l}),r.formatArgs.call(n,e),(n.log||r.log).apply(n,e)}return o.namespace=c,o.useColors=r.useColors(),o.color=r.selectColor(c),o.extend=i,o.destroy=r.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>a===null?r.enabled(c):a,set:e=>{a=e}}),typeof r.init=="function"&&r.init(o),o}function i(c,t){const a=r(this.namespace+(t===void 0?":":t)+c);return a.log=this.log,a}function f(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(c){return c instanceof Error?c.stack||c.message:c},r.disable=function(){const c=[...r.names.map(f),...r.skips.map(f).map(t=>"-"+t)].join(",");return r.enable(""),c},r.enable=function(c){let t;r.save(c),r.names=[],r.skips=[];const a=(typeof c=="string"?c:"").split(/[\s,]+/),o=a.length;for(t=0;t<o;t++)a[t]&&((c=a[t].replace(/\*/g,".*?"))[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))},r.enabled=function(c){if(c[c.length-1]==="*")return!0;let t,a;for(t=0,a=r.skips.length;t<a;t++)if(r.skips[t].test(c))return!1;for(t=0,a=r.names.length;t<a;t++)if(r.names[t].test(c))return!0;return!1},r.humanize=b(186),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(s).forEach(c=>{r[c]=s[c]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(c){let t=0;for(let a=0;a<c.length;a++)t=(t<<5)-t+c.charCodeAt(a),t|=0;return r.colors[Math.abs(t)%r.colors.length]},r.enable(r.load()),r}},function(N,x,b){var s=1e3,r=6e4,i=60*r,f=24*i;function c(t,a,o,e){var n=a>=1.5*o;return Math.round(t/o)+" "+e+(n?"s":"")}N.exports=function(t,a){a=a||{};var o=typeof t;if(o==="string"&&t.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!n)return;var h=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*f;case"hours":case"hour":case"hrs":case"hr":case"h":return h*i;case"minutes":case"minute":case"mins":case"min":case"m":return h*r;case"seconds":case"second":case"secs":case"sec":case"s":return h*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}(t);if(o==="number"&&isFinite(t))return a.long?function(e){var n=Math.abs(e);return n>=f?c(e,n,f,"day"):n>=i?c(e,n,i,"hour"):n>=r?c(e,n,r,"minute"):n>=s?c(e,n,s,"second"):e+" ms"}(t):function(e){var n=Math.abs(e);return n>=f?Math.round(e/f)+"d":n>=i?Math.round(e/i)+"h":n>=r?Math.round(e/r)+"m":n>=s?Math.round(e/s)+"s":e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(N,x,b){N.exports=function(s){if(s.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var f=0;f<s.length;f++){var c=s.charAt(f),t=c.charCodeAt(0);if(r[t]!==255)throw new TypeError(c+" is ambiguous");r[t]=f}var a=s.length,o=s.charAt(0),e=Math.log(a)/Math.log(256),n=Math.log(256)/Math.log(a);function h(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var d=0;if(u[d]!==" "){for(var l=0,m=0;u[d]===o;)l++,d++;for(var A=(u.length-d)*e+1>>>0,B=new Uint8Array(A);u[d];){var k=r[u.charCodeAt(d)];if(k===255)return;for(var T=0,g=A-1;(k!==0||T<m)&&g!==-1;g--,T++)k+=a*B[g]>>>0,B[g]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=T,d++}if(u[d]!==" "){for(var E=A-m;E!==A&&B[E]===0;)E++;for(var R=new Uint8Array(l+(A-E)),S=l;E!==A;)R[S++]=B[E++];return R}}}return{encode:function(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var d=0,l=0,m=0,A=u.length;m!==A&&u[m]===0;)m++,d++;for(var B=(A-m)*n+1>>>0,k=new Uint8Array(B);m!==A;){for(var T=u[m],g=0,E=B-1;(T!==0||g<l)&&E!==-1;E--,g++)T+=256*k[E]>>>0,k[E]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");l=g,m++}for(var R=B-l;R!==B&&k[R]===0;)R++;for(var S=o.repeat(d);R<B;++R)S+=s.charAt(k[R]);return S},decodeUnsafe:h,decode:function(u){var d=h(u);if(d)return d;throw new Error("Non-base"+a+" character")}}}},function(N,x,b){const{encodeText:s}=b(75);N.exports=class{constructor(r,i,f,c){this.name=r,this.code=i,this.codeBuf=s(this.code),this.alphabet=c,this.codec=f(c)}encode(r){return this.codec.encode(r)}decode(r){for(const i of r)if(this.alphabet&&this.alphabet.indexOf(i)<0)throw new Error(`invalid character '${i}' in '${r}'`);return this.codec.decode(r)}}},function(N,x,b){N.exports={rfc4648:s=>r=>({encode:i=>((f,c,t)=>{const a=c[c.length-1]==="=",o=(1<<t)-1;let e="",n=0,h=0;for(let u=0;u<f.length;++u)for(h=h<<8|f[u],n+=8;n>t;)n-=t,e+=c[o&h>>n];if(n&&(e+=c[o&h<<t-n]),a)for(;e.length*t&7;)e+="=";return e})(i,r,s),decode:i=>((f,c,t)=>{const a={};for(let d=0;d<c.length;++d)a[c[d]]=d;let o=f.length;for(;f[o-1]==="=";)--o;const e=new Uint8Array(o*t/8|0);let n=0,h=0,u=0;for(let d=0;d<o;++d){const l=a[f[d]];if(l===void 0)throw new SyntaxError("Invalid character "+f[d]);h=h<<t|l,n+=t,n>=8&&(n-=8,e[u++]=255&h>>n)}if(n>=t||255&h<<8-n)throw new SyntaxError("Unexpected end of data");return e})(i,r,s)})}},function(N,x,b){N.exports={encode:b(191),decode:b(192),encodingLength:b(193)}},function(N,x,b){N.exports=function r(i,f,c){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw r.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o||t>49)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});N.exports={names:s}},function(N,x,b){N.exports=function r(i,f,c){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw r.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o||t>49)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const{baseTable:s}=b(43),r=new Map;for(const i in s){const f=s[i];r.set(f,i)}N.exports=Object.freeze(r)},function(N,x,b){const{baseTable:s}=b(43),r=b(117).varintEncode,i={};for(const f in s){const c=s[f];i[f]=r(c)}N.exports=Object.freeze(i)},function(N,x,b){const{baseTable:s}=b(43),r={};for(const[i,f]of Object.entries(s))r[i.toUpperCase().replace(/-/g,"_")]=f;N.exports=Object.freeze(r)},function(N,x,b){const{baseTable:s}=b(43),r={};for(const[i,f]of Object.entries(s))r[f]===void 0&&(r[f]=i);N.exports=Object.freeze(r)},function(N,x,b){const s=b(42),r={checkCIDComponents:function(i){if(i==null)return"null values are not valid CIDs";if(i.version!==0&&i.version!==1)return"Invalid version, must be a number equal to 1 or 0";if(typeof i.codec!="string")return"codec must be string";if(i.version===0){if(i.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(i.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(i.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{s.validate(i.multihash)}catch(f){let c=f.message;return c||(c="Multihash validation failed"),c}}};N.exports=r},function(N,x,b){var s=b(204),r=b(206);N.exports=s,N.exports.parse=s,N.exports.stringify=r},function(N,x,b){var s=b(205),r=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(k){for(var T={};k.length;)switch(k[0]){case"[":case",":k.shift();var g=k.shift();if(g==="("&&(g=k.shift(),k.shift()),k[0]!=="=")throw new Error("Unexpected token in field options: "+k[0]);if(k.shift(),k[0]==="]")throw new Error("Unexpected ] in field option");T[g]=k.shift();break;case"]":return k.shift(),T;default:throw new Error("Unexpected token in field options: "+k[0])}throw new Error("No closing tag for field options")},f=function(k){for(var T={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};k.length;)switch(k[0]){case"=":k.shift(),T.tag=Number(k.shift());break;case"map":if(T.type="map",T.map={from:null,to:null},k.shift(),k[0]!=="<")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.from=k.shift(),k[0]!==",")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.to=k.shift(),k[0]!==">")throw new Error("Unexpected token in map type: "+k[0]);k.shift(),T.name=k.shift();break;case"repeated":case"required":case"optional":var g=k.shift();T.required=g==="required",T.repeated=g==="repeated",T.type=k.shift(),T.name=k.shift();break;case"[":T.options=i(k);break;case";":if(T.name===null)throw new Error("Missing field name");if(T.type===null)throw new Error("Missing type in message field: "+T.name);if(T.tag===-1)throw new Error("Missing tag number in message field: "+T.name);return k.shift(),T;default:throw new Error("Unexpected token in message field: "+k[0])}throw new Error("No ; found for message field")},c=function(k){for(var T={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};k.length;)switch(k[0]){case"map":case"repeated":case"optional":case"required":T.fields.push(f(k));break;case"enum":T.enums.push(u(k));break;case"message":T.messages.push(o(k));break;case"extensions":T.extensions=a(k);break;case"oneof":k.shift();var g=k.shift();if(k[0]!=="{")throw new Error("Unexpected token in oneof: "+k[0]);for(k.shift();k[0]!=="}";){k.unshift("optional");var E=f(k);E.oneof=g,T.fields.push(E)}k.shift();break;case"extend":T.extends.push(t(k));break;case";":k.shift();break;case"reserved":for(k.shift();k[0]!==";";)k.shift();break;case"option":var R=d(k);if(T.options[R.name]!==void 0)throw new Error("Duplicate option "+R.name);T.options[R.name]=R.value;break;default:k.unshift("optional"),T.fields.push(f(k))}return T},t=function(k){return{name:k[1],message:o(k)}},a=function(k){k.shift();var T=Number(k.shift());if(isNaN(T))throw new Error("Invalid from in extensions definition");if(k.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var g=k.shift();if(g==="max"&&(g=536870911),g=Number(g),isNaN(g))throw new Error("Invalid to in extensions definition");if(k.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:T,to:g}},o=function(k){k.shift();var T=1,g=[],E={name:k.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="{"?T++:k[0]==="}"&&T--,!T)return k.shift(),g=c(g),E.enums=g.enums,E.messages=g.messages,E.fields=g.fields,E.extends=g.extends,E.extensions=g.extensions,E.options=g.options,E;g.push(k.shift())}if(T)throw new Error("No closing tag for message")},e=function(k){k.shift();var T=k.shift();if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},n=function(k){if(k.shift(),k[0]!=="=")throw new Error("Expected = but found "+k[0]);k.shift();var T=k.shift();switch(T){case'"proto2"':T=2;break;case'"proto3"':T=3;break;default:throw new Error("Expected protobuf syntax version but found "+T)}if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},h=function(k){if(k.length<4)throw new Error("Invalid enum value: "+k.slice(0,3).join(" "));if(k[1]!=="=")throw new Error("Expected = but found "+k[1]);if(k[3]!==";"&&k[3]!=="[")throw new Error("Expected ; or [ but found "+k[1]);var T=k.shift();k.shift();var g={value:null,options:{}};return g.value=Number(k.shift()),k[0]==="["&&(g.options=i(k)),k.shift(),{name:T,val:g}},u=function(k){k.shift();var T={},g={name:k.shift(),values:{},options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),g;if(k[0]!=="option"){var E=h(k);g.values[E.name]=E.val}else T=d(k),g.options[T.name]=T.value}throw new Error("No closing tag for enum")},d=function(k){for(var T=null,g=null,E=function(S){return S==="true"||S!=="false"&&S.replace(/^"+|"+$/gm,"")};k.length;){if(k[0]===";")return k.shift(),{name:T,value:g};switch(k[0]){case"option":k.shift();var R=k[0]==="(";if(R&&k.shift(),T=k.shift(),R){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}k[0][0]==="."&&(T+=k.shift());break;case"=":if(k.shift(),T===null)throw new Error("Expected key for option with value: "+k[0]);if(g=E(k.shift()),T==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(g))throw new Error("Unexpected value for option optimize_for: "+g);g==="{"&&(g=l(k));break;default:throw new Error("Unexpected token in option: "+k[0])}}},l=function(k){for(var T=function(M){return M==="true"||M!=="false"&&M.replace(/^"+|"+$/gm,"")},g={};k.length;){if(k[0]==="}")return k.shift(),g;var E=k[0]==="(";E&&k.shift();var R=k.shift();if(E){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}var S=null;switch(k[0]){case":":if(g[R]!==void 0)throw new Error("Duplicate option map key "+R);k.shift(),(S=T(k.shift()))==="{"&&(S=l(k)),g[R]=S,k[0]===";"&&k.shift();break;case"{":if(k.shift(),S=l(k),g[R]===void 0&&(g[R]=[]),!Array.isArray(g[R]))throw new Error("Duplicate option map key "+R);g[R].push(S);break;default:throw new Error("Unexpected token in option map: "+k[0])}}throw new Error("No closing tag for option map")},m=function(k){k.shift();var T=k.shift().replace(/^"+|"+$/gm,"");if(k[0]!==";")throw new Error("Unexpected token: "+k[0]+'. Expected ";"');return k.shift(),T},A=function(k){k.shift();var T={name:k.shift(),methods:[],options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;switch(k[0]){case"option":var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value;break;case"rpc":T.methods.push(B(k));break;default:throw new Error("Unexpected token in service: "+k[0])}}throw new Error("No closing tag for service")},B=function(k){k.shift();var T={name:k.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.client_streaming=!0),T.input_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]!=="returns")throw new Error("Expected returns but found "+k[0]);if(k.shift(),k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.server_streaming=!0),T.output_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]===";")return k.shift(),T;if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;if(k[0]!=="option")throw new Error("Unexpected token in rpc options: "+k[0]);var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value}throw new Error("No closing tag for rpc")};N.exports=function(k){for(var T=s(k.toString()),g=0;g<T.length;g++){var E;if(/^("|')([^'"]*)$/.test(T[g])){for(E=T[g].length===1?g+1:g;E<T.length;E++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(T[E])){T=T.slice(0,g).concat(T.slice(g,E+1).join("")).concat(T.slice(E+1));break}}}for(var R={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},S=!0;T.length;){switch(T[0]){case"package":R.package=e(T);break;case"syntax":if(!S)throw new Error("Protobuf syntax version should be first thing in file");R.syntax=n(T);break;case"message":R.messages.push(o(T));break;case"enum":R.enums.push(u(T));break;case"option":var M=d(T);if(R.options[M.name])throw new Error("Duplicate option "+M.name);R.options[M.name]=M.value;break;case"import":R.imports.push(m(T));break;case"extend":R.extends.push(t(T));break;case"service":R.services||(R.services=[]),R.services.push(A(T));break;default:throw new Error("Unexpected token: "+T[0])}S=!1}return R.extends.forEach(function(y){R.messages.forEach(function(p){p.name===y.name&&y.message.fields.forEach(function(w){if(!p.extensions||w.tag<p.extensions.from||w.tag>p.extensions.to)throw new Error(p.name+" does not declare "+w.tag+" as an extension number");p.fields.push(w)})})}),R.messages.forEach(function(y){y.fields.forEach(function(p){var w,v,_,C;if(p.options&&p.options.packed==="true"&&r.indexOf(p.type)===-1){if(p.type.indexOf(".")===-1){if(y.enums&&y.enums.some(function(L){return L.name===p.type}))return}else{if((w=p.type.split(".")).length>2)throw new Error("what is this?");if(v=w[0],_=w[1],R.messages.some(function(L){if(L.name===v)return C=L,L}),C&&C.enums&&C.enums.some(function(L){return L.name===_}))return}throw new Error("Fields of type "+p.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),R}},function(N,x,b){N.exports=function(s){var r,i=function(f){return f.trim()};return s.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(i).filter(Boolean).map(function(f){var c=f.indexOf("//");return c>-1?f.slice(0,c):f}).map(i).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter((r=!1,function(f){return f==="/*"?(r=!0,!1):f==="*/"?(r=!1,!1):!r}))}},function(N,x,b){var s=function(e,n){var h=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(h="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(h="");var u=Object.keys(e.options||{}).map(function(d){return d+" = "+e.options[d]}).join(",");return u&&(u=" ["+u+"]"),n.push((h?h+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+u+";"),n},r=function(e,n){n.push("message "+e.name+" {"),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(u){n.push(i(u,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(u){n.push(r(u,[]))});var h={};return e.fields||(e.fields=[]),e.fields.forEach(function(u){u.oneof?(h[u.oneof]||(h[u.oneof]=[]),h[u.oneof].push(s(u,[]))):n.push(s(u,[]))}),Object.keys(h).forEach(function(u){h[u].unshift("oneof "+u+" {"),h[u].push("}"),n.push(h[u])}),n.push("}",""),n},i=function(e,n){n.push("enum "+e.name+" {"),e.options||(e.options={});var h=c(e.options,[]);return h.length>1&&n.push(h.slice(0,-1)),Object.keys(e.values).map(function(u){var d=f(e.values[u]);n.push([u+" = "+d+";"])}),n.push("}",""),n},f=function(e,n){var h=Object.keys(e.options||{}).map(function(u){return u+" = "+e.options[u]}).join(",");return h&&(h=" ["+h+"]"),e.value+h},c=function(e,n){var h=Object.keys(e);return h.forEach(function(u){var d=e[u];~u.indexOf(".")&&(u="("+u+")");var l=typeof d;l==="object"?(d=t(d,[])).length&&n.push("option "+u+" = {",d,"};"):(l==="string"&&u!=="optimize_for"&&(d='"'+d+'"'),n.push("option "+u+" = "+d+";"))}),h.length>0&&n.push(""),n},t=function(e,n){return Object.keys(e).forEach(function(h){var u=e[h],d=typeof u;d==="object"?Array.isArray(u)?u.forEach(function(l){(l=t(l,[])).length&&n.push(h+" {",l,"}")}):(u=t(u,[])).length&&n.push(h+" {",u,"}"):(d==="string"&&(u='"'+u+'"'),n.push(h+": "+u))}),n},a=function(e,n){var h="rpc "+e.name+"(";e.client_streaming&&(h+="stream "),h+=e.input_type+") returns (",e.server_streaming&&(h+="stream "),h+=e.output_type+")",e.options||(e.options={});var u=c(e.options,[]);return u.length>1?n.push(h+" {",u.slice(0,-1),"}"):n.push(h+";"),n},o=function(e){return function(n){return Array.isArray(n)?n.map(o(e+"  ")).join(`
`):e+n}};N.exports=function(e){var n=[];return n.push('syntax = "proto'+e.syntax+'";',""),e.package&&n.push("package "+e.package+";",""),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(h){i(h,n)}),e.messages||(e.messages=[]),e.messages.forEach(function(h){r(h,n)}),e.services&&e.services.forEach(function(h){!function(u,d){d.push("service "+u.name+" {"),u.options||(u.options={}),c(u.options,d),u.methods||(u.methods=[]),u.methods.forEach(function(l){d.push(a(l,[]))}),d.push("}","")}(h,n)}),n.map(o("")).join(`
`)}},function(N,x,b){const s=b(208),r=b(225),i=b(226),f=b(227),c=b(11);N.exports=function(t,a){const o={},e={},n={},h=function(l,m){l.enums&&l.enums.forEach(function(A){A.id=m+(m?".":"")+A.name,e[A.id]=A,h(A,A.id)}),l.messages&&l.messages.forEach(function(A){A.id=m+(m?".":"")+A.name,o[A.id]=A,A.fields.forEach(function(B){if(!B.map)return;const k="Map_"+B.map.from+"_"+B.map.to,T={name:k,enums:[],messages:[],fields:[{name:"key",type:B.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:B.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:m+(m?".":"")+k};o[T.id]||(o[T.id]=T,l.messages.push(T)),B.type=k,B.repeated=!0}),h(A,A.id)})};h(t,"");const u=function(l,m){l.messages.forEach(function(E){m[E.name]=d(E.name,l.id)}),l.enums.forEach(function(E){m[E.name]=function(R){if(!R)return null;const S={};return Object.keys(R).forEach(function(M){S[M]=R[M].value}),S}(E.values)}),m.type=2,m.message=!0,m.name=l.name;const A={};l.fields.forEach(function(E){E.oneof&&(A[E.oneof]||(A[E.oneof]=[]),A[E.oneof].push(E.name))});const B=l.fields.map(function(E){return d(E.type,l.id)}),k=f(l,B,A),T=i(l,d,B,A,k),g=r(l,d,B);return T.bytes=g.bytes=0,m.buffer=!0,m.encode=T,m.decode=g,m.encodingLength=k,m},d=function(l,m,A){if(a&&a[l])return a[l];if(s[l])return s[l];const B=(m?m+"."+l:l).split(".").map(function(k,T,g){return g.slice(0,T).concat(l).join(".")}).reverse().reduce(function(k,T){return k||o[T]||e[T]},null);if(A===!1)return B;if(!B)throw new Error("Could not resolve "+l);return B.values?function(k){const T=Object.keys(k.values||[]).map(function(g){return parseInt(k.values[g].value,10)});return s.make(0,function g(E,R,S,M){if(!T.length||T.indexOf(E)===-1)throw new Error("Invalid enum value: "+E);return c.encode(E,R,M),g.bytes=c.encode.bytes,R},function g(E,R,S){var M=c.decode(E,S);if(!T.length||T.indexOf(M)===-1)throw new Error("Invalid enum value: "+M);return g.bytes=c.decode.bytes,M},c.encodingLength)}(B):n[B.id]||u(B,n[B.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(l){return d(l.id)}))}},function(N,x,b){x.make=b(13),x.bytes=b(209),x.string=b(213),x.bool=b(214),x.int32=b(215),x.int64=b(216),x.sint32=x.sint64=b(217),x.uint32=x.uint64=x.enum=x.varint=b(219),x.fixed64=x.sfixed64=b(220),x.double=b(221),x.fixed32=b(222),x.sfixed32=b(223),x.float=b(224)},function(N,x,b){const s=b(11),r=b(13);function i(f){return f.byteLength}N.exports=r(2,function f(c,t,a,o){const e=o,n=i(c);s.encode(n,t,o),o+=s.encode.bytes,t.set(c,o),f.bytes=(o+=n)-e},function f(c,t,a){const o=a,e=s.decode(c,a);a+=s.decode.bytes;const n=c.slice(a,a+e);return a+=n.length,f.bytes=a-o,n},function(f){const c=i(f);return s.encodingLength(c)+c})},function(N,x,b){N.exports=function r(i,f,c){f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=b(11),r=b(7),i=b(6),f=b(13);N.exports=f(2,function c(t,a,o,e){const n=e,h=r(t).byteLength;s.encode(h,a,e,"utf-8"),e+=s.encode.bytes;const u=r(t);a.set(u,e),e+=u.length,c.bytes=e-n},function c(t,a,o){const e=o,n=s.decode(t,o);o+=s.decode.bytes;const h=i(t.subarray(o,o+n));return c.bytes=(o+=n)-e,h},function(c){const t=r(c).byteLength;return s.encodingLength(t)+t})},function(N,x,b){const s=b(13);N.exports=s(0,function r(i,f,c,t){f[t]=i?1:0,r.bytes=1},function r(i,f,c){const t=i[c]>0;return r.bytes=1,t},function(){return 1})},function(N,x,b){const s=b(11),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f<0?f+4294967296:f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a>2147483647?a-4294967296:a},function(i){return s.encodingLength(i<0?i+4294967296:i)})},function(N,x,b){const s=b(11),r=b(13);N.exports=r(0,function i(f,c,t,a){if(f<0){const o=a+9;for(s.encode(-1*f,c,a),c[a+=s.encode.bytes-1]=128|c[a];a<o-1;)c[++a]=255;c[o]=1,i.bytes=10}else s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){let a=s.decode(f,t);if(a>=Math.pow(2,63)){let o=9;for(;f[t+o-1]===255;)o--;o=o||9;const e=f.subarray(t,t+o);e[o-1]=127&e[o-1],a=-1*s.decode(e,0),i.bytes=10}else i.bytes=s.decode.bytes;return a},function(i){return i<0?10:s.encodingLength(i)})},function(N,x,b){const s=b(218),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){var s=b(11);x.encode=function r(i,f,c){i=i>=0?2*i:-2*i-1;var t=s.encode(i,f,c);return r.bytes=s.encode.bytes,t},x.decode=function r(i,f){var c=s.decode(i,f);return r.bytes=s.decode.bytes,1&c?(c+1)/-2:c/2},x.encodingLength=function(r){return s.encodingLength(r>=0?2*r:-2*r-1)}},function(N,x,b){const s=b(11),r=b(13);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){const s=b(13);N.exports=s(1,function r(i,f,c,t){for(const a of i)f[t]=a,t++;r.bytes=8},function r(i,f,c){const t=i.slice(c,c+8);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(13);N.exports=s(1,function r(i,f,c,t){c.setFloat64(t,i,!0),r.bytes=8},function r(i,f,c){const t=f.getFloat64(c,!0);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setUint32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getUint32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setInt32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getInt32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(13);N.exports=s(5,function r(i,f,c,t){c.setFloat32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getFloat32(c,!0);return r.bytes=4,t},function(){return 4})},function(N,x,b){const s=b(11),r=b(78).defined;function i(o){return`${o.substring(0,1).toUpperCase()}${o.substring(1)}`}function f(o,e,n,h){if(Object.prototype.hasOwnProperty.call(o,e))return;const u=i(e);Object.defineProperties(o,{[e]:{enumerable:!0,configurable:!0,set:d=>{n=d},get:()=>n===void 0?h:n},["has"+u]:{configurable:!0,value:()=>n!==void 0},["set"+u]:{configurable:!0,value:d=>{n=d}},["get"+u]:{configurable:!0,value:()=>n},["clear"+u]:{configurable:!0,value:()=>{n=void 0,o[e]=void 0}}})}var c=function(o,e,n,h){switch(o){case 0:return s.decode(e,h),h+s.decode.bytes;case 1:return h+8;case 2:var u=s.decode(e,h);return h+s.decode.bytes+u;case 3:case 4:throw new Error("Groups are not supported");case 5:return h+4;default:throw new Error("Unknown wire type: "+o)}},t=function(o){if(o.map)return{};if(o.repeated)return[];switch(o.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},a=function(o,e){if(e===void 0)return e;switch(o.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};N.exports=function(o,e,n){const h=[],u={},d=[],l=[];for(var m=0;m<n.length;m++){const B=o.fields[m];u[B.tag]=m;const k=B.options&&B.options.default,T=e(B.type,o.id,!1);l[m]=[k,T&&T.values],o.fields[m].packed=B.repeated&&B.options&&B.options.packed&&B.options.packed!=="false",B.required&&h.push(B.name),B.oneof&&d.push(B.name)}function A(B,k,T,g,E,R,S){const M=k.name;if(k.oneof){const w=Object.keys(T);for(var y=0;y<w.length;y++)if(d.indexOf(w[y])>-1){const v=i(w[y]);delete T["has"+v],delete T["get"+v],delete T["set"+v],delete T["clear"+v],delete T[w[y]]}}let p;if(B.message){const w=s.decode(g,R);R+=s.decode.bytes;const v=B.decode(g,E,R,R+w);k.map?(p=T[M]||{},p[v.key]=v.value):k.repeated?(p=T[M]||[],p.push(v)):p=v}else k.repeated?(p=T[M]||[],p.push(B.decode(g,E,R))):p=B.decode(g,E,R);return f(T,M,p),R+=B.decode.bytes}return function B(k,T,g,E){if(g==null&&(g=0),E==null&&(E=k.length),!(E<=k.length&&g<=k.length))throw new Error("Decoded message is not valid");T||(T=new DataView(k.buffer,k.byteOffset,k.byteLength));for(var R,S=g,M={};;){if(E<=g){var y,p,w="",v=0;for(v=0;v<h.length;v++)if(w=h[v],!r(M[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(v=0;v<n.length;v++){let G;if(R=o.fields[v],p=l[v][0],y=l[v][1],w=R.name,!Object.prototype.hasOwnProperty.call(M,w)){var _=!1;if(R.oneof){for(var C=Object.keys(M),L=0;L<C.length;L++)if(d.indexOf(C[L])>-1){_=!0;break}}_||(y?R.repeated?p=[]:(p=p&&y[p]?y[p].value:y[Object.keys(y)[0]].value,p=parseInt(p||0,10)):(G=t(R),p=a(R,p)),f(M,w,p,G))}}return B.bytes=g-S,M}var O=s.decode(k,g);g+=s.decode.bytes;var U=u[O>>3];if(U!=null){var q=n[U];if((R=o.fields[U]).packed){var H=s.decode(k,g);for(H+=g+=s.decode.bytes;g<H;)g=A(q,R,M,k,T,g)}else g=A(q,R,M,k,T,g)}else g=c(7&O,k,T,g)}}}},function(N,x,b){var s=b(78).defined,r=b(11);N.exports=function(i,f,c,t,a){const o=Object.keys(t),e=c.length,n={};for(let u=0;u<e;u++){n[u]={p:r.encode(i.fields[u].tag<<3|2),h:r.encode(i.fields[u].tag<<3|c[u].type)};const d=i.fields[u];i.fields[u].packed=d.repeated&&d.options&&d.options.packed&&d.options.packed!=="false"}function h(u,d,l,m,A,B,k){let T=0;if(!B)for(T=0;T<m.length;T++)u[l++]=m[T];return A.message&&(r.encode(A.encodingLength(k),u,l),l+=r.encode.bytes),A.encode(k,u,d,l),l+A.encode.bytes}return function u(d,l,m,A=0){l==null&&(l=new Uint8Array(a(d))),m==null&&(m=new DataView(l.buffer,l.byteOffset,l.byteLength));const B=A,k=Object.keys(d);let T=0,g=!1;for(T=0;T<o.length;T++){const E=o[T],R=t[T];if(k.indexOf(R)>-1){if(g)throw new Error("only one of the properties defined in oneof "+E+" can be set");g=!0}}for(T=0;T<e;T++){const E=c[T],R=i.fields[T];let S=d[R.name],M=0;if(!s(S)){if(R.required)throw new Error(R.name+" is required");continue}const y=n[T].p,p=n[T].h,w=R.packed;if(R.map){const v=Object.keys(S);for(M=0;M<v.length;M++)v[M]={key:v[M],value:S[v[M]]};S=v}if(w){let v=0;for(M=0;M<S.length;M++)Object.prototype.hasOwnProperty.call(S,M)&&(v+=E.encodingLength(S[M]));if(v){for(M=0;M<p.length;M++)l[A++]=y[M];r.encode(v,l,A),A+=r.encode.bytes}}if(R.repeated){let v;for(M=0;M<S.length;M++)v=S[M],s(v)&&(A=h(l,m,A,p,E,w,v))}else A=h(l,m,A,p,E,w,S)}return u.bytes=A-B,l}}},function(N,x,b){var s=b(78).defined,r=b(11);N.exports=function(i,f,c){const t=Object.keys(c),a=f.length,o=new Array(a);for(let e=0;e<i.fields.length;e++){o[e]=r.encodingLength(i.fields[e].tag<<3|f[e].type);const n=i.fields[e];i.fields[e].packed=n.repeated&&n.options&&n.options.packed&&n.options.packed!=="false"}return function(e){let n=0,h=0,u=0;for(h=0;h<t.length;h++){const d=t[h],l=c[d];let m=!1;for(u=0;u<l.length;u++)if(s(e[l[u]])){if(m)throw new Error("only one of the properties defined in oneof "+d+" can be set");m=!0}}for(h=0;h<a;h++){const d=f[h],l=i.fields[h];let m=e[l.name];const A=o[h];let B;if(s(m)){if(l.map){const k=Object.keys(m);for(u=0;u<k.length;u++)k[u]={key:k[u],value:m[k[u]]};m=k}if(l.packed){let k=0;for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),k+=B,d.message&&(k+=r.encodingLength(B)));k&&(n+=A+k+r.encodingLength(k))}else if(l.repeated)for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),n+=A+B+(d.message?r.encodingLength(B):0));else B=d.encodingLength(m),n+=A+B+(d.message?r.encodingLength(B):0)}else if(l.required)throw new Error(l.name+" is required")}return n}}},function(N,x,b){x.byteLength=function(e){var n=a(e),h=n[0],u=n[1];return 3*(h+u)/4-u},x.toByteArray=function(e){var n,h,u=a(e),d=u[0],l=u[1],m=new i(function(k,T,g){return 3*(T+g)/4-g}(0,d,l)),A=0,B=l>0?d-4:d;for(h=0;h<B;h+=4)n=r[e.charCodeAt(h)]<<18|r[e.charCodeAt(h+1)]<<12|r[e.charCodeAt(h+2)]<<6|r[e.charCodeAt(h+3)],m[A++]=n>>16&255,m[A++]=n>>8&255,m[A++]=255&n;return l===2&&(n=r[e.charCodeAt(h)]<<2|r[e.charCodeAt(h+1)]>>4,m[A++]=255&n),l===1&&(n=r[e.charCodeAt(h)]<<10|r[e.charCodeAt(h+1)]<<4|r[e.charCodeAt(h+2)]>>2,m[A++]=n>>8&255,m[A++]=255&n),m},x.fromByteArray=function(e){for(var n,h=e.length,u=h%3,d=[],l=0,m=h-u;l<m;l+=16383)d.push(o(e,l,l+16383>m?m:l+16383));return u===1?(n=e[h-1],d.push(s[n>>2]+s[n<<4&63]+"==")):u===2&&(n=(e[h-2]<<8)+e[h-1],d.push(s[n>>10]+s[n>>4&63]+s[n<<2&63]+"=")),d.join("")};for(var s=[],r=[],i=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,t=f.length;c<t;++c)s[c]=f[c],r[f.charCodeAt(c)]=c;function a(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=e.indexOf("=");return h===-1&&(h=n),[h,h===n?0:4-h%4]}function o(e,n,h){for(var u,d,l=[],m=n;m<h;m+=3)u=(e[m]<<16&16711680)+(e[m+1]<<8&65280)+(255&e[m+2]),l.push(s[(d=u)>>18&63]+s[d>>12&63]+s[d>>6&63]+s[63&d]);return l.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(N,x,b){x.read=function(s,r,i,f,c){var t,a,o=8*c-f-1,e=(1<<o)-1,n=e>>1,h=-7,u=i?c-1:0,d=i?-1:1,l=s[r+u];for(u+=d,t=l&(1<<-h)-1,l>>=-h,h+=o;h>0;t=256*t+s[r+u],u+=d,h-=8);for(a=t&(1<<-h)-1,t>>=-h,h+=f;h>0;a=256*a+s[r+u],u+=d,h-=8);if(t===0)t=1-n;else{if(t===e)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,f),t-=n}return(l?-1:1)*a*Math.pow(2,t-f)},x.write=function(s,r,i,f,c,t){var a,o,e,n=8*t-c-1,h=(1<<n)-1,u=h>>1,d=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=f?0:t-1,m=f?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,a=h):(a=Math.floor(Math.log(r)/Math.LN2),r*(e=Math.pow(2,-a))<1&&(a--,e*=2),(r+=a+u>=1?d/e:d*Math.pow(2,1-u))*e>=2&&(a++,e/=2),a+u>=h?(o=0,a=h):a+u>=1?(o=(r*e-1)*Math.pow(2,c),a+=u):(o=r*Math.pow(2,u-1)*Math.pow(2,c),a=0));c>=8;s[i+l]=255&o,l+=m,o/=256,c-=8);for(a=a<<c|o,n+=c;n>0;s[i+l]=255&a,l+=m,a/=256,n-=8);s[i+l-m]|=128*A}},function(N,x,b){var s={}.toString;N.exports=Array.isArray||function(r){return s.call(r)=="[object Array]"}},function(N,x,b){(function(s){var r={};N.exports=r;var i={};r.encode=function(f,c,t){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');var a="";if(f instanceof Uint8Array){var o=0,e=c.length,n=c.charAt(0),h=[0];for(o=0;o<f.length;++o){for(var u=0,d=f[o];u<h.length;++u)d+=h[u]<<8,h[u]=d%e,d=d/e|0;for(;d>0;)h.push(d%e),d=d/e|0}for(o=0;f[o]===0&&o<f.length-1;++o)a+=n;for(o=h.length-1;o>=0;--o)a+=c[h[o]]}else a=function(m,A){var B=0,k=A.length,T=A.charAt(0),g=[0];for(B=0;B<m.length();++B){for(var E=0,R=m.at(B);E<g.length;++E)R+=g[E]<<8,g[E]=R%k,R=R/k|0;for(;R>0;)g.push(R%k),R=R/k|0}var S="";for(B=0;m.at(B)===0&&B<m.length()-1;++B)S+=T;for(B=g.length-1;B>=0;--B)S+=A[g[B]];return S}(f,c);if(t){var l=new RegExp(".{1,"+t+"}","g");a=a.match(l).join(`\r
`)}return a},r.decode=function(f,c){if(typeof f!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var t=i[c];if(!t){t=i[c]=[];for(var a=0;a<c.length;++a)t[c.charCodeAt(a)]=a}f=f.replace(/\s/g,"");var o=c.length,e=c.charAt(0),n=[0];for(a=0;a<f.length;a++){var h=t[f.charCodeAt(a)];if(h===void 0)return;for(var u=0,d=h;u<n.length;++u)d+=n[u]*o,n[u]=255&d,d>>=8;for(;d>0;)n.push(255&d),d>>=8}for(var l=0;f[l]===e&&l<f.length-1;++l)n.push(0);return s!==void 0?s.from(n.reverse()):new Uint8Array(n.reverse())}}).call(this,b(8).Buffer)},function(N,x,b){var s=b(0);b(31),b(4),(N.exports=s.hmac=s.hmac||{}).create=function(){var r=null,i=null,f=null,c=null,t={start:function(a,o){if(a!==null)if(typeof a=="string"){if(!((a=a.toLowerCase())in s.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');i=s.md.algorithms[a].create()}else i=a;if(o===null)o=r;else{if(typeof o=="string")o=s.util.createBuffer(o);else if(s.util.isArray(o)){var e=o;o=s.util.createBuffer();for(var n=0;n<e.length;++n)o.putByte(e[n])}var h=o.length();for(h>i.blockLength&&(i.start(),i.update(o.bytes()),o=i.digest()),f=s.util.createBuffer(),c=s.util.createBuffer(),h=o.length(),n=0;n<h;++n)e=o.at(n),f.putByte(54^e),c.putByte(92^e);if(h<i.blockLength)for(e=i.blockLength-h,n=0;n<e;++n)f.putByte(54),c.putByte(92);r=o,f=f.bytes(),c=c.bytes()}i.start(),i.update(f)},update:function(a){i.update(a)},getMac:function(){var a=i.digest().bytes();return i.start(),i.update(c),i.update(a),i.digest()}};return t.digest=t.getMac,t}},function(N,x,b){var s=b(0);b(31),b(4);var r=N.exports=s.sha256=s.sha256||{};s.md.sha256=s.md.algorithms.sha256=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=!0);var a=null,o=s.util.createBuffer(),e=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var h=n.messageLengthSize/4,u=0;u<h;++u)n.fullMessageLength.push(0);return o=s.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n}};return n.start(),n.update=function(h,u){u==="utf8"&&(h=s.util.encodeUtf8(h));var d=h.length;n.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=d[1],d[1]=d[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,d[0]=d[1]/4294967296>>>0;return o.putBytes(h),t(a,e,o),(o.read>2048||o.length()===0)&&o.compact(),n},n.digest=function(){var h=s.util.createBuffer();h.putBytes(o.bytes());var u,d=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;h.putBytes(i.substr(0,n.blockLength-d));for(var l=8*n.fullMessageLength[0],m=0;m<n.fullMessageLength.length-1;++m)l+=(u=8*n.fullMessageLength[m+1])/4294967296>>>0,h.putInt32(l>>>0),l=u>>>0;h.putInt32(l);var A={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};t(A,e,h);var B=s.util.createBuffer();return B.putInt32(A.h0),B.putInt32(A.h1),B.putInt32(A.h2),B.putInt32(A.h3),B.putInt32(A.h4),B.putInt32(A.h5),B.putInt32(A.h6),B.putInt32(A.h7),B},n};var i=null,f=!1,c=null;function t(a,o,e){for(var n,h,u,d,l,m,A,B,k,T,g,E,R,S=e.length();S>=64;){for(l=0;l<16;++l)o[l]=e.getInt32();for(;l<64;++l)n=((n=o[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,h=((h=o[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,o[l]=n+o[l-7]+h+o[l-16]|0;for(m=a.h0,A=a.h1,B=a.h2,k=a.h3,T=a.h4,g=a.h5,E=a.h6,R=a.h7,l=0;l<64;++l)u=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),d=m&A|B&(m^A),n=R+((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(E^T&(g^E))+c[l]+o[l],R=E,E=g,g=T,T=k+n>>>0,k=B,B=A,A=m,m=n+(h=u+d)>>>0;a.h0=a.h0+m|0,a.h1=a.h1+A|0,a.h2=a.h2+B|0,a.h3=a.h3+k|0,a.h4=a.h4+T|0,a.h5=a.h5+g|0,a.h6=a.h6+E|0,a.h7=a.h7+R|0,S-=64}}},function(N,x,b){(function(s){var r=b(0);b(4);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||s.versions["node-webkit"]||(i=b(81)),(N.exports=r.prng=r.prng||{}).create=function(f){for(var c={plugin:f,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=f.md,a=new Array(32),o=0;o<32;++o)a[o]=t.create();function e(){if(c.pools[0].messageLength>=32)return n();var u=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(u)),n()}function n(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var u=c.plugin.md.create();u.update(c.keyBytes);for(var d=1,l=0;l<32;++l)c.reseeds%d==0&&(u.update(c.pools[l].digest().getBytes()),c.pools[l].start()),d<<=1;c.keyBytes=u.digest().getBytes(),u.start(),u.update(c.keyBytes);var m=u.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(m),c.generated=0}function h(u){var d=null,l=r.util.globalScope,m=l.crypto||l.msCrypto;m&&m.getRandomValues&&(d=function(M){return m.getRandomValues(M)});var A=r.util.createBuffer();if(d)for(;A.length()<u;){var B=Math.max(1,Math.min(u-A.length(),65536)/4),k=new Uint32Array(Math.floor(B));try{d(k);for(var T=0;T<k.length;++T)A.putInt32(k[T])}catch(M){if(!(typeof QuotaExceededError!="undefined"&&M instanceof QuotaExceededError))throw M}}if(A.length()<u)for(var g,E,R,S=Math.floor(65536*Math.random());A.length()<u;)for(E=16807*(65535&S),E+=(32767&(g=16807*(S>>16)))<<16,S=4294967295&(E=(2147483647&(E+=g>>15))+(E>>31)),T=0;T<3;++T)R=S>>>(T<<3),R^=Math.floor(256*Math.random()),A.putByte(String.fromCharCode(255&R));return A.getBytes(u)}return c.pools=a,c.pool=0,c.generate=function(u,d){if(!d)return c.generateSync(u);var l=c.plugin.cipher,m=c.plugin.increment,A=c.plugin.formatKey,B=c.plugin.formatSeed,k=r.util.createBuffer();c.key=null,function T(g){if(g)return d(g);if(k.length()>=u)return d(null,k.getBytes(u));if(c.generated>1048575&&(c.key=null),c.key===null)return r.util.nextTick(function(){!function(R){if(c.pools[0].messageLength>=32)return n(),R();var S=32-c.pools[0].messageLength<<5;c.seedFile(S,function(M,y){if(M)return R(M);c.collect(y),n(),R()})}(T)});var E=l(c.key,c.seed);c.generated+=E.length,k.putBytes(E),c.key=A(l(c.key,m(c.seed))),c.seed=B(l(c.key,c.seed)),r.util.setImmediate(T)}()},c.generateSync=function(u){var d=c.plugin.cipher,l=c.plugin.increment,m=c.plugin.formatKey,A=c.plugin.formatSeed;c.key=null;for(var B=r.util.createBuffer();B.length()<u;){c.generated>1048575&&(c.key=null),c.key===null&&e();var k=d(c.key,c.seed);c.generated+=k.length,B.putBytes(k),c.key=m(d(c.key,l(c.seed))),c.seed=A(d(c.key,c.seed))}return B.getBytes(u)},i?(c.seedFile=function(u,d){i.randomBytes(u,function(l,m){if(l)return d(l);d(null,m.toString())})},c.seedFileSync=function(u){return i.randomBytes(u).toString()}):(c.seedFile=function(u,d){try{d(null,h(u))}catch(l){d(l)}},c.seedFileSync=h),c.collect=function(u){for(var d=u.length,l=0;l<d;++l)c.pools[c.pool].update(u.substr(l,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(u,d){for(var l="",m=0;m<d;m+=8)l+=String.fromCharCode(u>>m&255);c.collect(l)},c.registerWorker=function(u){u===self?c.seedFile=function(d,l){self.addEventListener("message",function m(A){var B=A.data;B.forge&&B.forge.prng&&(self.removeEventListener("message",m),l(B.forge.prng.err,B.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:d}}})}:u.addEventListener("message",function(d){var l=d.data;l.forge&&l.forge.prng&&c.seedFile(l.forge.prng.needed,function(m,A){u.postMessage({forge:{prng:{err:m,bytes:A}}})})})},c}}).call(this,b(37))},function(N,x,b){var s=b(0);b(4);var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],f=function(a,o){return a<<o&65535|(65535&a)>>16-o},c=function(a,o){return(65535&a)>>o|a<<16-o&65535};N.exports=s.rc2=s.rc2||{},s.rc2.expandKey=function(a,o){typeof a=="string"&&(a=s.util.createBuffer(a)),o=o||128;var e,n=a,h=a.length(),u=o,d=Math.ceil(u/8),l=255>>(7&u);for(e=h;e<128;e++)n.putByte(r[n.at(e-1)+n.at(e-h)&255]);for(n.setAt(128-d,r[n.at(128-d)&l]),e=127-d;e>=0;e--)n.setAt(e,r[n.at(e+1)^n.at(e+d)]);return n};var t=function(a,o,e){var n,h,u,d,l=!1,m=null,A=null,B=null,k=[];for(a=s.rc2.expandKey(a,o),u=0;u<64;u++)k.push(a.getInt16Le());e?(n=function(E){for(u=0;u<4;u++)E[u]+=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),E[u]=f(E[u],i[u]),d++},h=function(E){for(u=0;u<4;u++)E[u]+=k[63&E[(u+3)%4]]}):(n=function(E){for(u=3;u>=0;u--)E[u]=c(E[u],i[u]),E[u]-=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),d--},h=function(E){for(u=3;u>=0;u--)E[u]-=k[63&E[(u+3)%4]]});var T=function(E){var R=[];for(u=0;u<4;u++){var S=m.getInt16Le();B!==null&&(e?S^=B.getInt16Le():B.putInt16Le(S)),R.push(65535&S)}d=e?0:63;for(var M=0;M<E.length;M++)for(var y=0;y<E[M][0];y++)E[M][1](R);for(u=0;u<4;u++)B!==null&&(e?B.putInt16Le(R[u]):R[u]^=B.getInt16Le()),A.putInt16Le(R[u])},g=null;return g={start:function(E,R){E&&typeof E=="string"&&(E=s.util.createBuffer(E)),l=!1,m=s.util.createBuffer(),A=R||new s.util.createBuffer,B=E,g.output=A},update:function(E){for(l||m.putBuffer(E);m.length()>=8;)T([[5,n],[1,h],[6,n],[1,h],[5,n]])},finish:function(E){var R=!0;if(e)if(E)R=E(8,m,!e);else{var S=m.length()===8?8:8-m.length();m.fillWithByte(S,S)}if(R&&(l=!0,g.update()),!e&&(R=m.length()===0))if(E)R=E(8,A,!e);else{var M=A.length(),y=A.at(M-1);y>M?R=!1:A.truncate(y)}return R}}};s.rc2.startEncrypting=function(a,o,e){var n=s.rc2.createEncryptionCipher(a,128);return n.start(o,e),n},s.rc2.createEncryptionCipher=function(a,o){return t(a,o,!0)},s.rc2.startDecrypting=function(a,o,e){var n=s.rc2.createDecryptionCipher(a,128);return n.start(o,e),n},s.rc2.createDecryptionCipher=function(a,o){return t(a,o,!1)}},function(N,x,b){var s=b(0);b(4),b(32),b(237);var r=N.exports=s.pkcs1=s.pkcs1||{};function i(f,c,t){t||(t=s.md.sha1.create());for(var a="",o=Math.ceil(c/t.digestLength),e=0;e<o;++e){var n=String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e);t.start(),t.update(f+n),a+=t.digest().getBytes()}return a.substring(0,c)}r.encode_rsa_oaep=function(f,c,t){var a,o,e,n;typeof t=="string"?(a=t,o=arguments[3]||void 0,e=arguments[4]||void 0):t&&(a=t.label||void 0,o=t.seed||void 0,e=t.md||void 0,t.mgf1&&t.mgf1.md&&(n=t.mgf1.md)),e?e.start():e=s.md.sha1.create(),n||(n=e);var h=Math.ceil(f.n.bitLength()/8),u=h-2*e.digestLength-2;if(c.length>u)throw(k=new Error("RSAES-OAEP input message length is too long.")).length=c.length,k.maxLength=u,k;a||(a=""),e.update(a,"raw");for(var d=e.digest(),l="",m=u-c.length,A=0;A<m;A++)l+="\0";var B=d.getBytes()+l+""+c;if(o){if(o.length!==e.digestLength){var k;throw(k=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,k.digestLength=e.digestLength,k}}else o=s.random.getBytes(e.digestLength);var T=i(o,h-e.digestLength-1,n),g=s.util.xorBytes(B,T,B.length),E=i(g,e.digestLength,n),R=s.util.xorBytes(o,E,o.length);return"\0"+R+g},r.decode_rsa_oaep=function(f,c,t){var a,o,e;typeof t=="string"?(a=t,o=arguments[3]||void 0):t&&(a=t.label||void 0,o=t.md||void 0,t.mgf1&&t.mgf1.md&&(e=t.mgf1.md));var n=Math.ceil(f.n.bitLength()/8);if(c.length!==n)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=c.length,g.expectedLength=n,g;if(o===void 0?o=s.md.sha1.create():o.start(),e||(e=o),n<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var h=o.digest().getBytes(),u=c.charAt(0),d=c.substring(1,o.digestLength+1),l=c.substring(1+o.digestLength),m=i(l,o.digestLength,e),A=s.util.xorBytes(d,m,d.length),B=i(A,n-o.digestLength-1,e),k=s.util.xorBytes(l,B,l.length),T=k.substring(0,o.digestLength),g=u!=="\0",E=0;E<o.digestLength;++E)g|=h.charAt(E)!==T.charAt(E);for(var R=1,S=o.digestLength,M=o.digestLength;M<k.length;M++){var y=k.charCodeAt(M),p=1&y^1,w=R?65534:0;g|=y&w,S+=R&=p}if(g||k.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return k.substring(S+1)}},function(N,x,b){var s=b(0);b(31),b(4);var r=N.exports=s.sha1=s.sha1||{};s.md.sha1=s.md.algorithms.sha1=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),f=!0);var t=null,a=s.util.createBuffer(),o=new Array(80),e={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){e.messageLength=0,e.fullMessageLength=e.messageLength64=[];for(var n=e.messageLengthSize/4,h=0;h<n;++h)e.fullMessageLength.push(0);return a=s.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},e}};return e.start(),e.update=function(n,h){h==="utf8"&&(n=s.util.encodeUtf8(n));var u=n.length;e.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=e.fullMessageLength.length-1;d>=0;--d)e.fullMessageLength[d]+=u[1],u[1]=u[0]+(e.fullMessageLength[d]/4294967296>>>0),e.fullMessageLength[d]=e.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return a.putBytes(n),c(t,o,a),(a.read>2048||a.length()===0)&&a.compact(),e},e.digest=function(){var n=s.util.createBuffer();n.putBytes(a.bytes());var h,u=e.fullMessageLength[e.fullMessageLength.length-1]+e.messageLengthSize&e.blockLength-1;n.putBytes(i.substr(0,e.blockLength-u));for(var d=8*e.fullMessageLength[0],l=0;l<e.fullMessageLength.length-1;++l)d+=(h=8*e.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(d>>>0),d=h>>>0;n.putInt32(d);var m={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};c(m,o,n);var A=s.util.createBuffer();return A.putInt32(m.h0),A.putInt32(m.h1),A.putInt32(m.h2),A.putInt32(m.h3),A.putInt32(m.h4),A},e};var i=null,f=!1;function c(t,a,o){for(var e,n,h,u,d,l,m,A=o.length();A>=64;){for(n=t.h0,h=t.h1,u=t.h2,d=t.h3,l=t.h4,m=0;m<16;++m)e=o.getInt32(),a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<20;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<32;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<40;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<60;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h&u|d&(h^u))+l+2400959708+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<80;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+3395469782+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;t.h0=t.h0+n|0,t.h1=t.h1+h|0,t.h2=t.h2+u|0,t.h3=t.h3+d|0,t.h4=t.h4+l|0,A-=64}}},function(N,x,b){var s=b(0);b(4),b(58),b(32),function(){if(s.prime)N.exports=s.prime;else{var r=N.exports=s.prime=s.prime||{},i=s.jsbn.BigInteger,f=[6,4,2,4,2,4,6,2],c=new i(null);c.fromInt(30);var t=function(e,n){return e|n};r.generateProbablePrime=function(e,n,h){typeof n=="function"&&(h=n,n={});var u=(n=n||{}).algorithm||"PRIMEINC";typeof u=="string"&&(u={name:u}),u.options=u.options||{};var d=n.prng||s.random,l={nextBytes:function(m){for(var A=d.getBytesSync(m.length),B=0;B<m.length;++B)m[B]=A.charCodeAt(B)}};if(u.name==="PRIMEINC")return function(m,A,B,k){return"workers"in B?function(T,g,E,R){if(typeof Worker=="undefined")return a(T,g,E,R);var S=o(T,g),M=E.workers,y=E.workLoad||100,p=30*y/8,w=E.workerScript||"forge/prime.worker.js";if(M===-1)return s.util.estimateCores(function(_,C){_&&(C=2),M=C-1,v()});function v(){M=Math.max(1,M);for(var _=[],C=0;C<M;++C)_[C]=new Worker(w);for(C=0;C<M;++C)_[C].addEventListener("message",O);var L=!1;function O(U){if(!L){var q=U.data;if(q.found){for(var H=0;H<_.length;++H)_[H].terminate();return L=!0,R(null,new i(q.prime,16))}S.bitLength()>T&&(S=o(T,g));var G=S.toString(16);U.target.postMessage({hex:G,workLoad:y}),S.dAddOffset(p,0)}}}v()}(m,A,B,k):a(m,A,B,k)}(e,l,u.options,h);throw new Error("Invalid prime generation algorithm: "+u.name)}}function a(e,n,h,u){var d=o(e,n),l=function(A){return A<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2}(d.bitLength());"millerRabinTests"in h&&(l=h.millerRabinTests);var m=10;"maxBlockTime"in h&&(m=h.maxBlockTime),function A(B,k,T,g,E,R,S){var M=+new Date;do{if(B.bitLength()>k&&(B=o(k,T)),B.isProbablePrime(E))return S(null,B);B.dAddOffset(f[g++%8],0)}while(R<0||+new Date-M<R);s.util.setImmediate(function(){A(B,k,T,g,E,R,S)})}(d,e,n,0,l,m,u)}function o(e,n){var h=new i(e,n),u=e-1;return h.testBit(u)||h.bitwiseTo(i.ONE.shiftLeft(u),t,h),h.dAddOffset(31-h.mod(c).byteValue(),0),h}}()},function(N,x,b){const s=b(38),r=b(122);N.exports={import:async function(i,f){const c=s.names.base64.decode(i),t=r.create();return await t.decrypt(c,f)}}},function(N,x,b){const s=b(47),r=b(22),i=b(1),f=b(19),c=b(6);b(83),b(123);const t=b(0),a=b(242),o=r(b(79)),e=b(86);class n{constructor(u){this._key=u}async verify(u,d){return a.hashAndVerify(this._key,d,u)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return o.PublicKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}encrypt(u){return a.encrypt(this._key,u)}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class h{constructor(u,d){this._key=u,this._publicKey=d}genSecret(){return a.getRandomValues(16)}async sign(u){return a.hashAndSign(this._key,u)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new n(this._publicKey)}decrypt(u){return a.decrypt(this._key,u)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return o.PrivateKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return c(u,"base58btc")}async export(u,d="pkcs-8"){if(d==="pkcs-8"){const l=new t.util.ByteBuffer(this.marshal()),m=t.asn1.fromDer(l),A=t.pki.privateKeyFromAsn1(m),B={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return t.pki.encryptRsaPrivateKey(A,u,B)}if(d==="libp2p-key")return e.export(this.bytes,u);throw i(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}N.exports={RsaPublicKey:n,RsaPrivateKey:h,unmarshalRsaPublicKey:function(u){const d=a.utils.pkixToJwk(u);return new n(d)},unmarshalRsaPrivateKey:async function(u){const d=a.utils.pkcs1ToJwk(u),l=await a.unmarshalPrivateKey(d);return new h(l.privateKey,l.publicKey)},generateKeyPair:async function(u){const d=await a.generateKey(u);return new h(d.privateKey,d.publicKey)},fromJwk:async function(u){const d=await a.unmarshalPrivateKey(u);return new h(d.privateKey,d.publicKey)}}},function(N,x,b){var s=b(0);b(29);var r=s.asn1;x.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(N,x,b){const s=b(59),r=b(84),i=b(6),f=b(7);function c(e){return Promise.all([s.get().subtle.exportKey("jwk",e.privateKey),s.get().subtle.exportKey("jwk",e.publicKey)])}x.utils=b(244),x.generateKey=async function(e){const n=await s.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),h=await c(n);return{privateKey:h[0],publicKey:h[1]}},x.unmarshalPrivateKey=async function(e){const n=[await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await(h=e,s.get().subtle.importKey("jwk",{kty:h.kty,n:h.n,e:h.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))];var h;const u=await c({privateKey:n[0],publicKey:n[1]});return{privateKey:u[0],publicKey:u[1]}},x.getRandomValues=r,x.hashAndSign=async function(e,n){const h=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),u=await s.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},h,Uint8Array.from(n));return new Uint8Array(u,u.byteOffset,u.byteLength)},x.hashAndVerify=async function(e,n,h){const u=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return s.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},u,n,h)};const{jwk2pub:t,jwk2priv:a}=b(245);function o(e,n,h,u){const d=n?t(e):a(e),l=u(i(Uint8Array.from(h),"ascii"),d);return f(l,"ascii")}x.encrypt=function(e,n){return o(e,!0,n,(h,u)=>u.encrypt(h))},x.decrypt=function(e,n){return o(e,!1,n,(h,u)=>u.decrypt(h))}},function(N,x,b){const s=self.crypto||self.msCrypto,{Buffer:r}=b(8);s&&s.getRandomValues?N.exports=function(i){const f=new Uint8Array(i);let c=0;if(i>0)if(i>65536)for(;c<i;)c+65536>i?(s.getRandomValues(f.subarray(c,c+(i-c))),c+=i-c):(s.getRandomValues(f.subarray(c,c+65536)),c+=65536);else s.getRandomValues(f);return r.from(f)}:N.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},function(N,x,b){b(29),b(57);const s=b(0),{bigIntegerToUintBase64url:r,base64urlToBigInteger:i}=b(85),f=b(7),c=b(6);x.pkcs1ToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.privateKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),d:r(o.d),p:r(o.p),q:r(o.q),dp:r(o.dP),dq:r(o.dQ),qi:r(o.qInv),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkcs1=function(t){const a=s.pki.privateKeyToAsn1({n:i(t.n),e:i(t.e),d:i(t.d),p:i(t.p),q:i(t.q),dP:i(t.dp),dQ:i(t.dq),qInv:i(t.qi)});return f(s.asn1.toDer(a).getBytes(),"ascii")},x.pkixToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.publicKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkix=function(t){const a=s.pki.publicKeyToAsn1({n:i(t.n),e:i(t.e)});return f(s.asn1.toDer(a).getBytes(),"ascii")}},function(N,x,b){b(57);const s=b(0),{base64urlToBigInteger:r}=b(85);function i(f,c){return c.map(t=>r(f[t]))}N.exports={jwk2pub:function(f){return s.pki.setRsaPublicKey(...i(f,["n","e"]))},jwk2priv:function(f){return s.pki.setRsaPrivateKey(...i(f,["n","e","d","p","q","dp","dq","qi"]))}}},function(N,x,b){const s=b(47),r=b(22),i=b(38),f=b(1),c=b(19),t=b(247),a=r(b(79)),o=b(86);class e{constructor(u){this._key=h(u,t.publicKeyLength)}async verify(u,d){return t.hashAndVerify(this._key,d,u)}marshal(){return this._key}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(u,d){this._key=h(u,t.privateKeyLength),this._publicKey=h(d,t.publicKeyLength)}async sign(u){return t.hashAndSign(this._key,u)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return i.encode("base58btc",u).toString().slice(1)}async export(u,d="libp2p-key"){if(d==="libp2p-key")return o.export(this.bytes,u);throw f(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function h(u,d){if((u=Uint8Array.from(u||[])).length!==d)throw f(new Error(`Key must be a Uint8Array of length ${d}, got ${u.length}`),"ERR_INVALID_KEY_TYPE");return u}N.exports={Ed25519PublicKey:e,Ed25519PrivateKey:n,unmarshalEd25519PrivateKey:function(u){if(u.length>t.privateKeyLength){const m=(u=h(u,t.privateKeyLength+t.publicKeyLength)).slice(0,t.privateKeyLength),A=u.slice(t.privateKeyLength,u.length);return new n(m,A)}const d=(u=h(u,t.privateKeyLength)).slice(0,t.privateKeyLength),l=u.slice(t.publicKeyLength);return new n(d,l)},unmarshalEd25519PublicKey:function(u){return u=h(u,t.publicKeyLength),new e(u)},generateKeyPair:async function(){const{privateKey:u,publicKey:d}=await t.generateKey();return new n(u,d)},generateKeyPairFromSeed:async function(u){const{privateKey:d,publicKey:l}=await t.generateKeyFromSeed(u);return new n(d,l)}}},function(N,x,b){b(123);const s=b(0);x.publicKeyLength=s.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,x.privateKeyLength=s.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,x.generateKey=async function(){return s.pki.ed25519.generateKeyPair()},x.generateKeyFromSeed=async function(r){return s.pki.ed25519.generateKeyPair({seed:r})},x.hashAndSign=async function(r,i){return s.pki.ed25519.sign({message:i,privateKey:r})},x.hashAndVerify=async function(r,i,f){return s.pki.ed25519.verify({signature:i,message:f,publicKey:r})}},function(N,x,b){const s=b(47),r=b(1),i=b(19),f=b(6),c=b(86);N.exports=(t,a,o)=>{o=o||b(249)(a);class e{constructor(h){o.validatePublicKey(h),this._key=h}verify(h,u){return o.hashAndVerify(this._key,u,h)}marshal(){return o.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(h,u){this._key=h,this._publicKey=u||o.computePublicKey(h),o.validatePrivateKey(this._key),o.validatePublicKey(this._publicKey)}sign(h){return o.hashAndSign(this._key,h)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const h=await this.public.hash();return f(h,"base58btc")}async export(h,u="libp2p-key"){if(u==="libp2p-key")return c.export(this.bytes,h);throw r(new Error(`export format '${u}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:e,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:function(h){return new n(h)},unmarshalSecp256k1PublicKey:function(h){return new e(h)},generateKeyPair:async function(){const h=await o.generateKey();return new n(h)}}}},function(N,x,b){const s=b(250),r=b(47);N.exports=i=>{function f(c){if(!s.privateKeyVerify(c))throw new Error("Invalid private key")}return{generateKey:function(){let c;do c=i(32);while(!s.privateKeyVerify(c));return c},privateKeyLength:32,hashAndSign:async function(c,t){const a=await r.digest(t,"sha2-256"),o=s.ecdsaSign(a,c);return s.signatureExport(o.signature)},hashAndVerify:async function(c,t,a){const o=await r.digest(a,"sha2-256");return t=s.signatureImport(t),s.ecdsaVerify(t,o,c)},compressPublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key");return s.publicKeyConvert(c,!0)},decompressPublicKey:function(c){return s.publicKeyConvert(c,!1)},validatePrivateKey:f,validatePublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key")},computePublicKey:function(c){return f(c),s.publicKeyCreate(c)}}}},function(N,x,b){N.exports=b(251)(b(252))},function(N,x,b){const s="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",i="The tweak was out of range or equal to zero",f="Unknow error on context randomization",c="Private Key is invalid",t="Public Key could not be parsed",a="Public Key serialization error",o="The sum of the public keys is not valid",e="Signature could not be parsed",n="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",u="Scalar was invalid (zero or overflow)";function d(k,T){if(!k)throw new Error(T)}function l(k,T,g){if(d(T instanceof Uint8Array,`Expected ${k} to be an Uint8Array`),g!==void 0)if(Array.isArray(g)){const E=`Expected ${k} to be an Uint8Array with length [${g.join(", ")}]`;d(g.includes(T.length),E)}else{const E=`Expected ${k} to be an Uint8Array with length ${g}`;d(T.length===g,E)}}function m(k){d(B(k)==="Boolean","Expected compressed to be a Boolean")}function A(k=g=>new Uint8Array(g),T){return typeof k=="function"&&(k=k(T)),l("output",k,T),k}function B(k){return Object.prototype.toString.call(k).slice(8,-1)}N.exports=k=>({contextRandomize(T){switch(d(T===null||T instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),T!==null&&l("seed",T,32),k.contextRandomize(T)){case 1:throw new Error(f)}},privateKeyVerify:T=>(l("private key",T,32),k.privateKeyVerify(T)===0),privateKeyNegate(T){switch(l("private key",T,32),k.privateKeyNegate(T)){case 0:return T;case 1:throw new Error(s)}},privateKeyTweakAdd(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakAdd(T,g)){case 0:return T;case 1:throw new Error(r)}},privateKeyTweakMul(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakMul(T,g)){case 0:return T;case 1:throw new Error(i)}},publicKeyVerify:T=>(l("public key",T,[33,65]),k.publicKeyVerify(T)===0),publicKeyCreate(T,g=!0,E){switch(l("private key",T,32),m(g),E=A(E,g?33:65),k.publicKeyCreate(E,T)){case 0:return E;case 1:throw new Error(c);case 2:throw new Error(a)}},publicKeyConvert(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyConvert(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(a)}},publicKeyNegate(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyNegate(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(s);case 3:throw new Error(a)}},publicKeyCombine(T,g=!0,E){d(Array.isArray(T),"Expected public keys to be an Array"),d(T.length>0,"Expected public keys array will have more than zero items");for(const R of T)l("public key",R,[33,65]);switch(m(g),E=A(E,g?33:65),k.publicKeyCombine(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(o);case 3:throw new Error(a)}},publicKeyTweakAdd(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakAdd(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(r)}},publicKeyTweakMul(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakMul(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(i)}},signatureNormalize(T){switch(l("signature",T,64),k.signatureNormalize(T)){case 0:return T;case 1:throw new Error(e)}},signatureExport(T,g){l("signature",T,64);const E={output:g=A(g,72),outputlen:72};switch(k.signatureExport(E,T)){case 0:return g.slice(0,E.outputlen);case 1:throw new Error(e);case 2:throw new Error(s)}},signatureImport(T,g){switch(l("signature",T),g=A(g,64),k.signatureImport(g,T)){case 0:return g;case 1:throw new Error(e);case 2:throw new Error(s)}},ecdsaSign(T,g,E={},R){l("message",T,32),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.noncefn!==void 0&&d(B(E.noncefn)==="Function","Expected options.noncefn to be a Function");const S={signature:R=A(R,64),recid:null};switch(k.ecdsaSign(S,T,g,E.data,E.noncefn)){case 0:return S;case 1:throw new Error(n);case 2:throw new Error(s)}},ecdsaVerify(T,g,E){switch(l("signature",T,64),l("message",g,32),l("public key",E,[33,65]),k.ecdsaVerify(T,g,E)){case 0:return!0;case 3:return!1;case 1:throw new Error(e);case 2:throw new Error(t)}},ecdsaRecover(T,g,E,R=!0,S){switch(l("signature",T,64),d(B(g)==="Number"&&g>=0&&g<=3,"Expected recovery id to be a Number within interval [0, 3]"),l("message",E,32),m(R),S=A(S,R?33:65),k.ecdsaRecover(S,T,g,E)){case 0:return S;case 1:throw new Error(e);case 2:throw new Error(h);case 3:throw new Error(s)}},ecdh(T,g,E={},R){switch(l("public key",T,[33,65]),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.hashfn!==void 0?(d(B(E.hashfn)==="Function","Expected options.hashfn to be a Function"),E.xbuf!==void 0&&l("options.xbuf",E.xbuf,32),E.ybuf!==void 0&&l("options.ybuf",E.ybuf,32),l("output",R)):R=A(R,32),k.ecdh(R,T,g,E.data,E.hashfn,E.xbuf,E.ybuf)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(u)}}})},function(N,x,b){const s=new(b(253)).ec("secp256k1"),r=s.curve,i=r.n.constructor;function f(t){const a=t[0];switch(a){case 2:case 3:return t.length!==33?null:function(o,e){let n=new i(e);if(n.cmp(r.p)>=0)return null;n=n.toRed(r.red);let h=n.redSqr().redIMul(n).redIAdd(r.b).redSqrt();return o===3!==h.isOdd()&&(h=h.redNeg()),s.keyPair({pub:{x:n,y:h}})}(a,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:function(o,e,n){let h=new i(e),u=new i(n);if(h.cmp(r.p)>=0||u.cmp(r.p)>=0)return null;if(h=h.toRed(r.red),u=u.toRed(r.red),(o===6||o===7)&&u.isOdd()!==(o===7))return null;const d=h.redSqr().redIMul(h);return u.redSqr().redISub(d.redIAdd(r.b)).isZero()?s.keyPair({pub:{x:h,y:u}}):null}(a,t.subarray(1,33),t.subarray(33,65));default:return null}}function c(t,a){const o=a.encode(null,t.length===33);for(let e=0;e<t.length;++e)t[e]=o[e]}N.exports={contextRandomize:()=>0,privateKeyVerify(t){const a=new i(t);return a.cmp(r.n)<0&&!a.isZero()?0:1},privateKeyNegate(t){const a=new i(t),o=r.n.sub(a).umod(r.n).toArrayLike(Uint8Array,"be",32);return t.set(o),0},privateKeyTweakAdd(t,a){const o=new i(a);if(o.cmp(r.n)>=0)return 1;if(o.iadd(new i(t)),o.cmp(r.n)>=0&&o.isub(r.n),o.isZero())return 1;const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakMul(t,a){let o=new i(a);if(o.cmp(r.n)>=0||o.isZero())return 1;o.imul(new i(t)),o.cmp(r.n)>=0&&(o=o.umod(r.n));const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},publicKeyVerify:t=>f(t)===null?1:0,publicKeyCreate(t,a){const o=new i(a);return o.cmp(r.n)>=0||o.isZero()?1:(c(t,s.keyFromPrivate(a).getPublic()),0)},publicKeyConvert(t,a){const o=f(a);return o===null?1:(c(t,o.getPublic()),0)},publicKeyNegate(t,a){const o=f(a);if(o===null)return 1;const e=o.getPublic();return e.y=e.y.redNeg(),c(t,e),0},publicKeyCombine(t,a){const o=new Array(a.length);for(let n=0;n<a.length;++n)if(o[n]=f(a[n]),o[n]===null)return 1;let e=o[0].getPublic();for(let n=1;n<o.length;++n)e=e.add(o[n].pub);return e.isInfinity()?2:(c(t,e),0)},publicKeyTweakAdd(t,a,o){const e=f(a);if(e===null)return 1;if((o=new i(o)).cmp(r.n)>=0)return 2;const n=e.getPublic().add(r.g.mul(o));return n.isInfinity()?2:(c(t,n),0)},publicKeyTweakMul(t,a,o){const e=f(a);return e===null?1:(o=new i(o)).cmp(r.n)>=0||o.isZero()?2:(c(t,e.getPublic().mul(o)),0)},signatureNormalize(t){const a=new i(t.subarray(0,32)),o=new i(t.subarray(32,64));return a.cmp(r.n)>=0||o.cmp(r.n)>=0?1:(o.cmp(s.nh)===1&&t.set(r.n.sub(o).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,a){const o=a.subarray(0,32),e=a.subarray(32,64);if(new i(o).cmp(r.n)>=0)return 1;if(new i(e).cmp(r.n)>=0)return 1;const{output:n}=t;let h=n.subarray(4,37);h[0]=0,h.set(o,1);let u=33,d=0;for(;u>1&&h[d]===0&&!(128&h[d+1]);--u,++d);if(h=h.subarray(d),128&h[0])return 1;if(u>1&&h[0]===0&&!(128&h[1]))return 1;let l=n.subarray(39,72);l[0]=0,l.set(e,1);let m=33,A=0;for(;m>1&&l[A]===0&&!(128&l[A+1]);--m,++A);return l=l.subarray(A),128&l[0]||m>1&&l[0]===0&&!(128&l[1])?1:(t.outputlen=6+u+m,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=h.length,n.set(h,4),n[4+u]=2,n[5+u]=l.length,n.set(l,6+u),0)},signatureImport(t,a){if(a.length<8)return 1;if(a.length>72)return 1;if(a[0]!==48)return 1;if(a[1]!==a.length-2)return 1;if(a[2]!==2)return 1;const o=a[3];if(o===0)return 1;if(5+o>=a.length)return 1;if(a[4+o]!==2)return 1;const e=a[5+o];if(e===0)return 1;if(6+o+e!==a.length)return 1;if(128&a[4])return 1;if(o>1&&a[4]===0&&!(128&a[5]))return 1;if(128&a[o+6])return 1;if(e>1&&a[o+6]===0&&!(128&a[o+7]))return 1;let n=a.subarray(4,4+o);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let h=a.subarray(6+o);if(h.length===33&&h[0]===0&&(h=h.slice(1)),h.length>32)throw new Error("S length is too long");let u=new i(n);u.cmp(r.n)>=0&&(u=new i(0));let d=new i(a.subarray(6+o));return d.cmp(r.n)>=0&&(d=new i(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(d.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,a,o,e,n){if(n){const d=n;n=l=>{const m=d(a,o,null,e,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new i(m)}}const h=new i(o);if(h.cmp(r.n)>=0||h.isZero())return 1;let u;try{u=s.sign(a,o,{canonical:!0,k:n,pers:e})}catch(d){return 1}return t.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),t.recid=u.recoveryParam,0},ecdsaVerify(t,a,o){const e={r:t.subarray(0,32),s:t.subarray(32,64)},n=new i(e.r),h=new i(e.s);if(n.cmp(r.n)>=0||h.cmp(r.n)>=0)return 1;if(h.cmp(s.nh)===1||n.isZero()||h.isZero())return 3;const u=f(o);if(u===null)return 2;const d=u.getPublic();return s.verify(a,e,d)?0:3},ecdsaRecover(t,a,o,e){const n={r:a.slice(0,32),s:a.slice(32,64)},h=new i(n.r),u=new i(n.s);if(h.cmp(r.n)>=0||u.cmp(r.n)>=0)return 1;if(h.isZero()||u.isZero())return 2;let d;try{d=s.recoverPubKey(e,n,o)}catch(l){return 2}return c(t,d),0},ecdh(t,a,o,e,n,h,u){const d=f(a);if(d===null)return 1;const l=new i(o);if(l.cmp(r.n)>=0||l.isZero())return 2;const m=d.getPublic().mul(l);if(n===void 0){const A=m.encode(null,!0),B=s.hash().update(A).digest();for(let k=0;k<32;++k)t[k]=B[k]}else{h||(h=new Uint8Array(32));const A=m.getX().toArray("be",32);for(let T=0;T<32;++T)h[T]=A[T];u||(u=new Uint8Array(32));const B=m.getY().toArray("be",32);for(let T=0;T<32;++T)u[T]=B[T];const k=n(h,u,e);if(!(k instanceof Uint8Array&&k.length===t.length))return 2;t.set(k)}return 0}}},function(N,x,b){var s=x;s.version=b(254).version,s.utils=b(17),s.rand=b(126),s.curve=b(127),s.curves=b(87),s.ec=b(267),s.eddsa=b(271)},function(N){N.exports=JSON.parse('{"name":"elliptic","version":"6.5.3","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(N,x){},function(N,x){},function(N,x,b){var s=b(17),r=b(26),i=b(61),f=b(60),c=s.assert;function t(e){f.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function a(e,n,h,u){f.BasePoint.call(this,e,"affine"),n===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(n,16),this.y=new r(h,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,n,h,u){f.BasePoint.call(this,e,"jacobian"),n===null&&h===null&&u===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(n,16),this.y=new r(h,16),this.z=new r(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(t,f),N.exports=t,t.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var n,h;if(e.beta)n=new r(e.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);n=(n=u[0].cmp(u[1])<0?u[0]:u[1]).toRed(this.red)}if(e.lambda)h=new r(e.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(n))===0?h=d[0]:(h=d[1],c(this.g.mul(h).x.cmp(this.g.x.redMul(n))===0))}return{beta:n,lambda:h,basis:e.basis?e.basis.map(function(l){return{a:new r(l.a,16),b:new r(l.b,16)}}):this._getEndoBasis(h)}}},t.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:r.mont(e),h=new r(2).toRed(n).redInvm(),u=h.redNeg(),d=new r(3).toRed(n).redNeg().redSqrt().redMul(h);return[u.redAdd(d).fromRed(),u.redSub(d).fromRed()]},t.prototype._getEndoBasis=function(e){for(var n,h,u,d,l,m,A,B,k,T=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=e,E=this.n.clone(),R=new r(1),S=new r(0),M=new r(0),y=new r(1),p=0;g.cmpn(0)!==0;){var w=E.div(g);B=E.sub(w.mul(g)),k=M.sub(w.mul(R));var v=y.sub(w.mul(S));if(!u&&B.cmp(T)<0)n=A.neg(),h=R,u=B.neg(),d=k;else if(u&&++p==2)break;A=B,E=g,g=B,M=R,R=k,y=S,S=v}l=B.neg(),m=k;var _=u.sqr().add(d.sqr());return l.sqr().add(m.sqr()).cmp(_)>=0&&(l=n,m=h),u.negative&&(u=u.neg(),d=d.neg()),l.negative&&(l=l.neg(),m=m.neg()),[{a:u,b:d},{a:l,b:m}]},t.prototype._endoSplit=function(e){var n=this.endo.basis,h=n[0],u=n[1],d=u.b.mul(e).divRound(this.n),l=h.b.neg().mul(e).divRound(this.n),m=d.mul(h.a),A=l.mul(u.a),B=d.mul(h.b),k=l.mul(u.b);return{k1:e.sub(m).sub(A),k2:B.add(k).neg()}},t.prototype.pointFromX=function(e,n){(e=new r(e,16)).red||(e=e.toRed(this.red));var h=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),u=h.redSqrt();if(u.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var d=u.fromRed().isOdd();return(n&&!d||!n&&d)&&(u=u.redNeg()),this.point(e,u)},t.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,h=e.y,u=this.a.redMul(n),d=n.redSqr().redMul(n).redIAdd(u).redIAdd(this.b);return h.redSqr().redISub(d).cmpn(0)===0},t.prototype._endoWnafMulAdd=function(e,n,h){for(var u=this._endoWnafT1,d=this._endoWnafT2,l=0;l<e.length;l++){var m=this._endoSplit(n[l]),A=e[l],B=A._getBeta();m.k1.negative&&(m.k1.ineg(),A=A.neg(!0)),m.k2.negative&&(m.k2.ineg(),B=B.neg(!0)),u[2*l]=A,u[2*l+1]=B,d[2*l]=m.k1,d[2*l+1]=m.k2}for(var k=this._wnafMulAdd(1,u,d,2*l,h),T=0;T<2*l;T++)u[T]=null,d[T]=null;return k},i(a,f.BasePoint),t.prototype.point=function(e,n,h){return new a(this,e,n,h)},t.prototype.pointFromJSON=function(e,n){return a.fromJSON(this,e,n)},a.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var h=this.curve,u=function(d){return h.point(d.x.redMul(h.endo.beta),d.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(u)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(u)}}}return n}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(e,n,h){typeof n=="string"&&(n=JSON.parse(n));var u=e.point(n[0],n[1],h);if(!n[2])return u;function d(m){return e.point(m[0],m[1],h)}var l=n[2];return u.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[u].concat(l.doubles.points.map(d))},naf:l.naf&&{wnd:l.naf.wnd,points:[u].concat(l.naf.points.map(d))}},u},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var h=n.redSqr().redISub(this.x).redISub(e.x),u=n.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,u)},a.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,h=this.x.redSqr(),u=e.redInvm(),d=h.redAdd(h).redIAdd(h).redIAdd(n).redMul(u),l=d.redSqr().redISub(this.x.redAdd(this.x)),m=d.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,m)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},a.prototype.mulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d):this.curve._wnafMulAdd(1,u,d,2)},a.prototype.jmulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d,!0):this.curve._wnafMulAdd(1,u,d,2,!0)},a.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},a.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var h=this.precomputed,u=function(d){return d.neg()};n.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(u)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(u)}}}return n},a.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(o,f.BasePoint),t.prototype.jpoint=function(e,n,h){return new o(this,e,n,h)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),h=this.x.redMul(n),u=this.y.redMul(n).redMul(e);return this.curve.point(h,u)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),h=this.z.redSqr(),u=this.x.redMul(n),d=e.x.redMul(h),l=this.y.redMul(n.redMul(e.z)),m=e.y.redMul(h.redMul(this.z)),A=u.redSub(d),B=l.redSub(m);if(A.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=A.redSqr(),T=k.redMul(A),g=u.redMul(k),E=B.redSqr().redIAdd(T).redISub(g).redISub(g),R=B.redMul(g.redISub(E)).redISub(l.redMul(T)),S=this.z.redMul(e.z).redMul(A);return this.curve.jpoint(E,R,S)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),h=this.x,u=e.x.redMul(n),d=this.y,l=e.y.redMul(n).redMul(this.z),m=h.redSub(u),A=d.redSub(l);if(m.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=m.redSqr(),k=B.redMul(m),T=h.redMul(B),g=A.redSqr().redIAdd(k).redISub(T).redISub(T),E=A.redMul(T.redISub(g)).redISub(d.redMul(k)),R=this.z.redMul(m);return this.curve.jpoint(g,E,R)},o.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var n=this,h=0;h<e;h++)n=n.dbl();return n}var u=this.curve.a,d=this.curve.tinv,l=this.x,m=this.y,A=this.z,B=A.redSqr().redSqr(),k=m.redAdd(m);for(h=0;h<e;h++){var T=l.redSqr(),g=k.redSqr(),E=g.redSqr(),R=T.redAdd(T).redIAdd(T).redIAdd(u.redMul(B)),S=l.redMul(g),M=R.redSqr().redISub(S.redAdd(S)),y=S.redISub(M),p=R.redMul(y);p=p.redIAdd(p).redISub(E);var w=k.redMul(A);h+1<e&&(B=B.redMul(E)),l=M,A=w,k=p}return this.curve.jpoint(l,k.redMul(d),A)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u),B=A.redSqr().redISub(m).redISub(m),k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),e=B,n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.x.redSqr(),g=this.y.redSqr(),E=g.redSqr(),R=this.x.redAdd(g).redSqr().redISub(T).redISub(E);R=R.redIAdd(R);var S=T.redAdd(T).redIAdd(T),M=S.redSqr(),y=E.redIAdd(E);y=(y=y.redIAdd(y)).redIAdd(y),e=M.redISub(R).redISub(R),n=S.redMul(R.redISub(e)).redISub(y),h=(h=this.y.redMul(this.z)).redIAdd(h)}return this.curve.jpoint(e,n,h)},o.prototype._threeDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),B=A.redSqr().redISub(m).redISub(m);e=B;var k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.z.redSqr(),g=this.y.redSqr(),E=this.x.redMul(g),R=this.x.redSub(T).redMul(this.x.redAdd(T));R=R.redAdd(R).redIAdd(R);var S=E.redIAdd(E),M=(S=S.redIAdd(S)).redAdd(S);e=R.redSqr().redISub(M),h=this.y.redAdd(this.z).redSqr().redISub(g).redISub(T);var y=g.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),n=R.redMul(S.redISub(e)).redISub(y)}return this.curve.jpoint(e,n,h)},o.prototype._dbl=function(){var e=this.curve.a,n=this.x,h=this.y,u=this.z,d=u.redSqr().redSqr(),l=n.redSqr(),m=h.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(d)),B=n.redAdd(n),k=(B=B.redIAdd(B)).redMul(m),T=A.redSqr().redISub(k.redAdd(k)),g=k.redISub(T),E=m.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=A.redMul(g).redISub(E),S=h.redAdd(h).redMul(u);return this.curve.jpoint(T,R,S)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),h=this.z.redSqr(),u=n.redSqr(),d=e.redAdd(e).redIAdd(e),l=d.redSqr(),m=this.x.redAdd(n).redSqr().redISub(e).redISub(u),A=(m=(m=(m=m.redIAdd(m)).redAdd(m).redIAdd(m)).redISub(l)).redSqr(),B=u.redIAdd(u);B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var k=d.redIAdd(m).redSqr().redISub(l).redISub(A).redISub(B),T=n.redMul(k);T=(T=T.redIAdd(T)).redIAdd(T);var g=this.x.redMul(A).redISub(T);g=(g=g.redIAdd(g)).redIAdd(g);var E=this.y.redMul(k.redMul(B.redISub(k)).redISub(m.redMul(A)));E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=this.z.redAdd(m).redSqr().redISub(h).redISub(A);return this.curve.jpoint(g,E,R)},o.prototype.mul=function(e,n){return e=new r(e,n),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),h=e.z.redSqr();if(this.x.redMul(h).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var u=n.redMul(this.z),d=h.redMul(e.z);return this.y.redMul(d).redISub(e.y.redMul(u)).cmpn(0)===0},o.prototype.eqXToP=function(e){var n=this.z.redSqr(),h=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(h)===0)return!0;for(var u=e.clone(),d=this.curve.redN.redMul(n);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(d),this.x.cmp(h)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},function(N,x,b){var s=b(26),r=b(61),i=b(60),f=b(17);function c(a){i.call(this,"mont",a),this.a=new s(a.a,16).toRed(this.red),this.b=new s(a.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function t(a,o,e){i.BasePoint.call(this,a,"projective"),o===null&&e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(o,16),this.z=new s(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(c,i),N.exports=c,c.prototype.validate=function(a){var o=a.normalize().x,e=o.redSqr(),n=e.redMul(o).redAdd(e.redMul(this.a)).redAdd(o);return n.redSqrt().redSqr().cmp(n)===0},r(t,i.BasePoint),c.prototype.decodePoint=function(a,o){return this.point(f.toArray(a,o),1)},c.prototype.point=function(a,o){return new t(this,a,o)},c.prototype.pointFromJSON=function(a){return t.fromJSON(this,a)},t.prototype.precompute=function(){},t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},t.fromJSON=function(a,o){return new t(a,o[0],o[1]||a.one)},t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},t.prototype.dbl=function(){var a=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),e=a.redSub(o),n=a.redMul(o),h=e.redMul(o.redAdd(this.curve.a24.redMul(e)));return this.curve.point(n,h)},t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.diffAdd=function(a,o){var e=this.x.redAdd(this.z),n=this.x.redSub(this.z),h=a.x.redAdd(a.z),u=a.x.redSub(a.z).redMul(e),d=h.redMul(n),l=o.z.redMul(u.redAdd(d).redSqr()),m=o.x.redMul(u.redISub(d).redSqr());return this.curve.point(l,m)},t.prototype.mul=function(a){for(var o=a.clone(),e=this,n=this.curve.point(null,null),h=[];o.cmpn(0)!==0;o.iushrn(1))h.push(o.andln(1));for(var u=h.length-1;u>=0;u--)h[u]===0?(e=e.diffAdd(n,this),n=n.dbl()):(n=e.diffAdd(n,this),e=e.dbl());return n},t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},t.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(N,x,b){var s=b(17),r=b(26),i=b(61),f=b(60),c=s.assert;function t(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,f.call(this,"edwards",o),this.a=new r(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function a(o,e,n,h,u){f.BasePoint.call(this,o,"projective"),e===null&&n===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(n,16),this.z=h?new r(h,16):this.curve.one,this.t=u&&new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(t,f),N.exports=t,t.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},t.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},t.prototype.jpoint=function(o,e,n,h){return this.point(o,e,n,h)},t.prototype.pointFromX=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=this.c2.redSub(this.a.redMul(n)),u=this.one.redSub(this.c2.redMul(this.d).redMul(n)),d=h.redMul(u.redInvm()),l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var m=l.fromRed().isOdd();return(e&&!m||!e&&m)&&(l=l.redNeg()),this.point(o,l)},t.prototype.pointFromY=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=n.redSub(this.c2),u=n.redMul(this.d).redMul(this.c2).redSub(this.a),d=h.redMul(u.redInvm());if(d.cmp(this.zero)===0){if(e)throw new Error("invalid point");return this.point(this.zero,o)}var l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return l.fromRed().isOdd()!==e&&(l=l.redNeg()),this.point(l,o)},t.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var e=o.x.redSqr(),n=o.y.redSqr(),h=e.redMul(this.a).redAdd(n),u=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return h.cmp(u)===0},i(a,f.BasePoint),t.prototype.pointFromJSON=function(o){return a.fromJSON(this,o)},t.prototype.point=function(o,e,n,h){return new a(this,o,e,n,h)},a.fromJSON=function(o,e){return new a(o,e[0],e[1],e[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var o=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var h=this.curve._mulA(o),u=this.x.redAdd(this.y).redSqr().redISub(o).redISub(e),d=h.redAdd(e),l=d.redSub(n),m=h.redSub(e),A=u.redMul(l),B=d.redMul(m),k=u.redMul(m),T=l.redMul(d);return this.curve.point(A,B,T,k)},a.prototype._projDbl=function(){var o,e,n,h=this.x.redAdd(this.y).redSqr(),u=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var l=(B=this.curve._mulA(u)).redAdd(d);if(this.zOne)o=h.redSub(u).redSub(d).redMul(l.redSub(this.curve.two)),e=l.redMul(B.redSub(d)),n=l.redSqr().redSub(l).redSub(l);else{var m=this.z.redSqr(),A=l.redSub(m).redISub(m);o=h.redSub(u).redISub(d).redMul(A),e=l.redMul(B.redSub(d)),n=l.redMul(A)}}else{var B=u.redAdd(d);m=this.curve._mulC(this.z).redSqr(),A=B.redSub(m).redSub(m),o=this.curve._mulC(h.redISub(B)).redMul(A),e=this.curve._mulC(B).redMul(u.redISub(d)),n=B.redMul(A)}return this.curve.point(o,e,n)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(o){var e=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),n=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),h=this.t.redMul(this.curve.dd).redMul(o.t),u=this.z.redMul(o.z.redAdd(o.z)),d=n.redSub(e),l=u.redSub(h),m=u.redAdd(h),A=n.redAdd(e),B=d.redMul(l),k=m.redMul(A),T=d.redMul(A),g=l.redMul(m);return this.curve.point(B,k,g,T)},a.prototype._projAdd=function(o){var e,n,h=this.z.redMul(o.z),u=h.redSqr(),d=this.x.redMul(o.x),l=this.y.redMul(o.y),m=this.curve.d.redMul(d).redMul(l),A=u.redSub(m),B=u.redAdd(m),k=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(d).redISub(l),T=h.redMul(A).redMul(k);return this.curve.twisted?(e=h.redMul(B).redMul(l.redSub(this.curve._mulA(d))),n=A.redMul(B)):(e=h.redMul(B).redMul(l.redSub(d)),n=this.curve._mulC(A).redMul(B)),this.curve.point(T,e,n)},a.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},a.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},a.prototype.mulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!1)},a.prototype.jmulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},a.prototype.eqXToP=function(o){var e=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var n=o.clone(),h=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(h),this.x.cmp(e)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add},function(N,x,b){x.sha1=b(261),x.sha224=b(262),x.sha256=b(129),x.sha384=b(263),x.sha512=b(130)},function(N,x,b){var s=b(23),r=b(48),i=b(128),f=s.rotl32,c=s.sum32,t=s.sum32_5,a=i.ft_1,o=r.BlockHash,e=[1518500249,1859775393,2400959708,3395469782];function n(){if(!(this instanceof n))return new n;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(n,o),N.exports=n,n.blockSize=512,n.outSize=160,n.hmacStrength=80,n.padLength=64,n.prototype._update=function(h,u){for(var d=this.W,l=0;l<16;l++)d[l]=h[u+l];for(;l<d.length;l++)d[l]=f(d[l-3]^d[l-8]^d[l-14]^d[l-16],1);var m=this.h[0],A=this.h[1],B=this.h[2],k=this.h[3],T=this.h[4];for(l=0;l<d.length;l++){var g=~~(l/20),E=t(f(m,5),a(g,A,B,k),T,d[l],e[g]);T=k,k=B,B=f(A,30),A=m,m=E}this.h[0]=c(this.h[0],m),this.h[1]=c(this.h[1],A),this.h[2]=c(this.h[2],B),this.h[3]=c(this.h[3],k),this.h[4]=c(this.h[4],T)},n.prototype._digest=function(h){return h==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(23),r=b(129);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},function(N,x,b){var s=b(23),r=b(130);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},function(N,x,b){var s=b(23),r=b(48),i=s.rotl32,f=s.sum32,c=s.sum32_3,t=s.sum32_4,a=r.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function e(A,B,k,T){return A<=15?B^k^T:A<=31?B&k|~B&T:A<=47?(B|~k)^T:A<=63?B&T|k&~T:B^(k|~T)}function n(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}function h(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}s.inherits(o,a),x.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(A,B){for(var k=this.h[0],T=this.h[1],g=this.h[2],E=this.h[3],R=this.h[4],S=k,M=T,y=g,p=E,w=R,v=0;v<80;v++){var _=f(i(t(k,e(v,T,g,E),A[u[v]+B],n(v)),l[v]),R);k=R,R=E,E=i(g,10),g=T,T=_,_=f(i(t(S,e(79-v,M,y,p),A[d[v]+B],h(v)),m[v]),w),S=w,w=p,p=i(y,10),y=M,M=_}_=c(this.h[1],g,p),this.h[1]=c(this.h[2],E,w),this.h[2]=c(this.h[3],R,S),this.h[3]=c(this.h[4],k,M),this.h[4]=c(this.h[0],T,y),this.h[0]=_},o.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(N,x,b){var s=b(23),r=b(33);function i(f,c,t){if(!(this instanceof i))return new i(f,c,t);this.Hash=f,this.blockSize=f.blockSize/8,this.outSize=f.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,t))}N.exports=i,i.prototype._init=function(f){f.length>this.blockSize&&(f=new this.Hash().update(f).digest()),r(f.length<=this.blockSize);for(var c=f.length;c<this.blockSize;c++)f.push(0);for(c=0;c<f.length;c++)f[c]^=54;for(this.inner=new this.Hash().update(f),c=0;c<f.length;c++)f[c]^=106;this.outer=new this.Hash().update(f)},i.prototype.update=function(f,c){return this.inner.update(f,c),this},i.prototype.digest=function(f){return this.outer.update(this.inner.digest()),this.outer.digest(f)}},function(N,x,b){N.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(N,x,b){var s=b(26),r=b(268),i=b(17),f=b(87),c=b(126),t=i.assert,a=b(269),o=b(270);function e(n){if(!(this instanceof e))return new e(n);typeof n=="string"&&(t(f.hasOwnProperty(n),"Unknown curve "+n),n=f[n]),n instanceof f.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}N.exports=e,e.prototype.keyPair=function(n){return new a(this,n)},e.prototype.keyFromPrivate=function(n,h){return a.fromPrivate(this,n,h)},e.prototype.keyFromPublic=function(n,h){return a.fromPublic(this,n,h)},e.prototype.genKeyPair=function(n){n||(n={});for(var h=new r({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||c(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),d=this.n.sub(new s(2));;){var l=new s(h.generate(u));if(!(l.cmp(d)>0))return l.iaddn(1),this.keyFromPrivate(l)}},e.prototype._truncateToN=function(n,h){var u=8*n.byteLength()-this.n.bitLength();return u>0&&(n=n.ushrn(u)),!h&&n.cmp(this.n)>=0?n.sub(this.n):n},e.prototype.sign=function(n,h,u,d){typeof u=="object"&&(d=u,u=null),d||(d={}),h=this.keyFromPrivate(h,u),n=this._truncateToN(new s(n,16));for(var l=this.n.byteLength(),m=h.getPrivate().toArray("be",l),A=n.toArray("be",l),B=new r({hash:this.hash,entropy:m,nonce:A,pers:d.pers,persEnc:d.persEnc||"utf8"}),k=this.n.sub(new s(1)),T=0;;T++){var g=d.k?d.k(T):new s(B.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(k)>=0)){var E=this.g.mul(g);if(!E.isInfinity()){var R=E.getX(),S=R.umod(this.n);if(S.cmpn(0)!==0){var M=g.invm(this.n).mul(S.mul(h.getPrivate()).iadd(n));if((M=M.umod(this.n)).cmpn(0)!==0){var y=(E.getY().isOdd()?1:0)|(R.cmp(S)!==0?2:0);return d.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),y^=1),new o({r:S,s:M,recoveryParam:y})}}}}}},e.prototype.verify=function(n,h,u,d){n=this._truncateToN(new s(n,16)),u=this.keyFromPublic(u,d);var l=(h=new o(h,"hex")).r,m=h.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;if(m.cmpn(1)<0||m.cmp(this.n)>=0)return!1;var A,B=m.invm(this.n),k=B.mul(n).umod(this.n),T=B.mul(l).umod(this.n);return this.curve._maxwellTrick?!(A=this.g.jmulAdd(k,u.getPublic(),T)).isInfinity()&&A.eqXToP(l):!(A=this.g.mulAdd(k,u.getPublic(),T)).isInfinity()&&A.getX().umod(this.n).cmp(l)===0},e.prototype.recoverPubKey=function(n,h,u,d){t((3&u)===u,"The recovery param is more than two bits"),h=new o(h,d);var l=this.n,m=new s(n),A=h.r,B=h.s,k=1&u,T=u>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");A=T?this.curve.pointFromX(A.add(this.curve.n),k):this.curve.pointFromX(A,k);var g=h.r.invm(l),E=l.sub(m).mul(g).umod(l),R=B.mul(g).umod(l);return this.g.mulAdd(E,A,R)},e.prototype.getKeyRecoveryParam=function(n,h,u,d){if((h=new o(h,d)).recoveryParam!==null)return h.recoveryParam;for(var l=0;l<4;l++){var m;try{m=this.recoverPubKey(n,h,l)}catch(A){continue}if(m.eq(u))return l}throw new Error("Unable to find valid recovery factor")}},function(N,x,b){var s=b(88),r=b(125),i=b(33);function f(c){if(!(this instanceof f))return new f(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(c.entropy,c.entropyEnc||"hex"),a=r.toArray(c.nonce,c.nonceEnc||"hex"),o=r.toArray(c.pers,c.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,a,o)}N.exports=f,f.prototype._init=function(c,t,a){var o=c.concat(t).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},f.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},f.prototype._update=function(c){var t=this._hmac().update(this.V).update([0]);c&&(t=t.update(c)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},f.prototype.reseed=function(c,t,a,o){typeof t!="string"&&(o=a,a=t,t=null),c=r.toArray(c,t),a=r.toArray(a,o),i(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(a||[])),this._reseed=1},f.prototype.generate=function(c,t,a,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=a,a=t,t=null),a&&(a=r.toArray(a,o||"hex"),this._update(a));for(var e=[];e.length<c;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var n=e.slice(0,c);return this._update(a),this._reseed++,r.encode(n,t)}},function(N,x,b){var s=b(26),r=b(17).assert;function i(f,c){this.ec=f,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}N.exports=i,i.fromPublic=function(f,c,t){return c instanceof i?c:new i(f,{pub:c,pubEnc:t})},i.fromPrivate=function(f,c,t){return c instanceof i?c:new i(f,{priv:c,privEnc:t})},i.prototype.validate=function(){var f=this.getPublic();return f.isInfinity()?{result:!1,reason:"Invalid public key"}:f.validate()?f.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(f,c){return typeof f=="string"&&(c=f,f=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,f):this.pub},i.prototype.getPrivate=function(f){return f==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(f,c){this.priv=new s(f,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(f,c){if(f.x||f.y)return this.ec.curve.type==="mont"?r(f.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(f.x&&f.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(f.x,f.y));this.pub=this.ec.curve.decodePoint(f,c)},i.prototype.derive=function(f){return f.mul(this.priv).getX()},i.prototype.sign=function(f,c,t){return this.ec.sign(f,this,c,t)},i.prototype.verify=function(f,c){return this.ec.verify(f,c,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(N,x,b){var s=b(26),r=b(17),i=r.assert;function f(e,n){if(e instanceof f)return e;this._importDER(e,n)||(i(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function c(){this.place=0}function t(e,n){var h=e[n.place++];if(!(128&h))return h;var u=15&h;if(u===0||u>4)return!1;for(var d=0,l=0,m=n.place;l<u;l++,m++)d<<=8,d|=e[m],d>>>=0;return!(d<=127)&&(n.place=m,d)}function a(e){for(var n=0,h=e.length-1;!e[n]&&!(128&e[n+1])&&n<h;)n++;return n===0?e:e.slice(n)}function o(e,n){if(n<128)e.push(n);else{var h=1+(Math.log(n)/Math.LN2>>>3);for(e.push(128|h);--h;)e.push(n>>>(h<<3)&255);e.push(n)}}N.exports=f,f.prototype._importDER=function(e,n){e=r.toArray(e,n);var h=new c;if(e[h.place++]!==48)return!1;var u=t(e,h);if(u===!1)return!1;if(u+h.place!==e.length)return!1;if(e[h.place++]!==2)return!1;var d=t(e,h);if(d===!1)return!1;var l=e.slice(h.place,d+h.place);if(h.place+=d,e[h.place++]!==2)return!1;var m=t(e,h);if(m===!1)return!1;if(e.length!==m+h.place)return!1;var A=e.slice(h.place,m+h.place);if(l[0]===0){if(!(128&l[1]))return!1;l=l.slice(1)}if(A[0]===0){if(!(128&A[1]))return!1;A=A.slice(1)}return this.r=new s(l),this.s=new s(A),this.recoveryParam=null,!0},f.prototype.toDER=function(e){var n=this.r.toArray(),h=this.s.toArray();for(128&n[0]&&(n=[0].concat(n)),128&h[0]&&(h=[0].concat(h)),n=a(n),h=a(h);!(h[0]||128&h[1]);)h=h.slice(1);var u=[2];o(u,n.length),(u=u.concat(n)).push(2),o(u,h.length);var d=u.concat(h),l=[48];return o(l,d.length),l=l.concat(d),r.encode(l,e)}},function(N,x,b){var s=b(88),r=b(87),i=b(17),f=i.assert,c=i.parseBytes,t=b(272),a=b(273);function o(e){if(f(e==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(e);e=r[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=s.sha512}N.exports=o,o.prototype.sign=function(e,n){e=c(e);var h=this.keyFromSecret(n),u=this.hashInt(h.messagePrefix(),e),d=this.g.mul(u),l=this.encodePoint(d),m=this.hashInt(l,h.pubBytes(),e).mul(h.priv()),A=u.add(m).umod(this.curve.n);return this.makeSignature({R:d,S:A,Rencoded:l})},o.prototype.verify=function(e,n,h){e=c(e),n=this.makeSignature(n);var u=this.keyFromPublic(h),d=this.hashInt(n.Rencoded(),u.pubBytes(),e),l=this.g.mul(n.S());return n.R().add(u.pub().mul(d)).eq(l)},o.prototype.hashInt=function(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return i.intFromLE(e.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(e){return t.fromPublic(this,e)},o.prototype.keyFromSecret=function(e){return t.fromSecret(this,e)},o.prototype.makeSignature=function(e){return e instanceof a?e:new a(this,e)},o.prototype.encodePoint=function(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n},o.prototype.decodePoint=function(e){var n=(e=i.parseBytes(e)).length-1,h=e.slice(0,n).concat(-129&e[n]),u=(128&e[n])!=0,d=i.intFromLE(h);return this.curve.pointFromY(d,u)},o.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(e){return i.intFromLE(e)},o.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(N,x,b){var s=b(17),r=s.assert,i=s.parseBytes,f=s.cachedProperty;function c(t,a){this.eddsa=t,this._secret=i(a.secret),t.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=i(a.pub)}c.fromPublic=function(t,a){return a instanceof c?a:new c(t,{pub:a})},c.fromSecret=function(t,a){return a instanceof c?a:new c(t,{secret:a})},c.prototype.secret=function(){return this._secret},f(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),f(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),f(c,"privBytes",function(){var t=this.eddsa,a=this.hash(),o=t.encodingLength-1,e=a.slice(0,t.encodingLength);return e[0]&=248,e[o]&=127,e[o]|=64,e}),f(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),f(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),f(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},c.prototype.verify=function(t,a){return this.eddsa.verify(t,a,this)},c.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),s.encode(this.secret(),t)},c.prototype.getPublic=function(t){return s.encode(this.pubBytes(),t)},N.exports=c},function(N,x,b){var s=b(26),r=b(17),i=r.assert,f=r.cachedProperty,c=r.parseBytes;function t(a,o){this.eddsa=a,typeof o!="object"&&(o=c(o)),Array.isArray(o)&&(o={R:o.slice(0,a.encodingLength),S:o.slice(a.encodingLength)}),i(o.R&&o.S,"Signature without R or S"),a.isPoint(o.R)&&(this._R=o.R),o.S instanceof s&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}f(t,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),f(t,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),f(t,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),f(t,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},N.exports=t},function(N,x,b){const s=b(1),r=b(21),i=b(7),f=b(131),c={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};N.exports=async(t,a,o)=>{const e=c[t];if(!e){const S=Object.keys(c).join(" / ");throw s(new Error(`unknown cipher type '${t}'. Must be ${S}`),"ERR_INVALID_CIPHER_TYPE")}if(!a)throw s(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const n=e.keySize,h=e.ivSize,u=i("key expansion"),d=2*(h+n+20),l=await f.create(a,o);let m=await l.digest(u);const A=[];let B=0;for(;B<d;){const S=await l.digest(r([m,u]));let M=S.length;B+M>d&&(M=d-B),A.push(S),B+=M,m=await l.digest(m)}const k=d/2,T=r(A),g=T.slice(0,k),E=T.slice(k,d),R=S=>({iv:S.slice(0,h),cipherKey:S.slice(h,h+n),macKey:S.slice(h+n)});return{k1:R(g),k2:R(E)}}},function(N,x,b){N.exports={SHA1:20,SHA256:32,SHA512:64}},function(N,x,b){const s=b(277);N.exports=async r=>s.generateEphmeralKeyPair(r)},function(N,x,b){const s=b(1),r=b(59),{base64urlToBuffer:i}=b(85),f=b(278),c=b(6),t=b(21),a=b(19),o={"P-256":256,"P-384":384,"P-521":521};x.generateEphmeralKeyPair=async function(d){f(Object.keys(o),d);const l=await r.get().subtle.generateKey({name:"ECDH",namedCurve:d},!0,["deriveBits"]);return{key:n(await r.get().subtle.exportKey("jwk",l.publicKey)),genSharedKey:async(m,A)=>{let B;B=A?await r.get().subtle.importKey("jwk",u(d,A),{name:"ECDH",namedCurve:d},!1,["deriveBits"]):l.privateKey;const k=[await r.get().subtle.importKey("jwk",h(d,m),{name:"ECDH",namedCurve:d},!1,[]),B],T=await r.get().subtle.deriveBits({name:"ECDH",namedCurve:d,public:k[0]},k[1],o[d]);return new Uint8Array(T,T.byteOffset,T.byteLength)}}};const e={"P-256":32,"P-384":48,"P-521":66};function n(d){const l=e[d.crv];return t([Uint8Array.from([4]),i(d.x,l),i(d.y,l)],1+2*l)}function h(d,l){const m=e[d];if(a(!l.slice(0,1),Uint8Array.from([4])))throw s(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:d,x:c(l.slice(1,m+1),"base64url"),y:c(l.slice(1+m),"base64url"),ext:!0}}const u=(d,l)=>({...h(d,l.public),d:c(l.private,"base64url")})},function(N,x,b){const s=b(1);N.exports=function(r,i){if(!r.includes(i)){const f=r.join(" / ");throw s(new Error(`Unknown curve: ${i}. Must be ${f}`),"ERR_INVALID_CURVE")}}},function(N,x,b){const s=b(22);N.exports=s(`

message PeerIdProto {
  required bytes id = 1;
  bytes pubKey = 2;
  bytes privKey = 3;
}

`)},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-routing"),{error:s("libp2p:peer-routing:err")}),i=b(1),f=b(132),c=b(90),{setDelayedInterval:t,clearDelayedInterval:a}=b(134);N.exports=class{constructor(o){this._peerId=o.peerId,this._peerStore=o.peerStore,this._routers=o._modules.peerRouting||[],o._dht&&this._routers.unshift(o._dht),this._refreshManagerOptions=o._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){this._routers.length&&!this._timeoutId&&this._refreshManagerOptions.enabled&&(this._timeoutId=t(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{for await(const{id:o,multiaddrs:e}of this.getClosestPeers(this._peerId.id))this._peerStore.addressBook.add(o,e)}catch(o){r.error(o)}}stop(){a(this._timeoutId)}async findPeer(o,e){if(!this._routers.length)throw i(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");return c(this._routers.map(async n=>{const h=await n.findPeer(o,e);if(!h||Object.keys(h).length===0)throw i(new Error("not found"),"NOT_FOUND");return h}))}async*getClosestPeers(o,e={timeout:3e4}){if(!this._routers.length)throw i(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");const n=await c(this._routers.map(async h=>{const u=await f(h.getClosestPeers(o,e));if(!u||!u.length)throw i(new Error("not found"),"NOT_FOUND");return u}));for(const h of n)yield h}}},function(N,x,b){const s=b(282),r=b(133);class i extends Error{}N.exports=(f,c)=>new r((t,a,o)=>{const{count:e,filter:n=()=>!0}=c;if(!Number.isFinite(e))return void a(new TypeError("Expected a finite number, got "+typeof c.count));const h=[],u=[];let d=0,l=!1;const m=new Set,A=()=>{for(const B of f)m.has(B)||typeof B.cancel!="function"||B.cancel()};o(A);for(const B of f)d++,(async()=>{try{const k=await B;if(l)return;if(!n(k))throw new i("Value does not satisfy filter");h.push(k)}catch(k){u.push(k)}finally{m.add(B),!l&&(h.length===e&&(t(h),l=!0),d-u.length<e&&(a(new s(u)),l=!0),l)&&A()}})();e>d&&(a(new RangeError(`Expected input to contain at least ${c.count} items, but contains ${d} items`)),A())}),N.exports.AggregateError=s,N.exports.FilterError=i},function(N,x,b){const s=b(283),r=b(284);class i extends Error{constructor(f){if(!Array.isArray(f))throw new TypeError("Expected input to be an Array, got "+typeof f);let c=(f=[...f].map(t=>t instanceof Error?t:t!==null&&typeof t=="object"?Object.assign(new Error(t.message),t):new Error(t))).map(t=>typeof t.stack=="string"?r(t.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(t)).join(`
`);c=`
`+s(c,4),super(c),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:f})}*[Symbol.iterator](){for(const f of this._errors)yield f}}N.exports=i},function(N,x,b){N.exports=(s,r=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof s!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof s}\``);if(typeof r!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof r}\``);if(typeof i.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(r===0)return s;const f=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return s.replace(f,i.indent.repeat(r))}},function(N,x,b){const s=b(285),r=/\s+at.*(?:\(|\s)(.*)\)?/,i=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,f=s.homedir===void 0?"":s.homedir();N.exports=(c,t)=>(t=Object.assign({pretty:!1},t),c.replace(/\\/g,"/").split(`
`).filter(a=>{const o=a.match(r);if(o===null||!o[1])return!0;const e=o[1];return!e.includes(".app/Contents/Resources/electron.asar")&&!e.includes(".app/Contents/Resources/default_app.asar")&&!i.test(e)}).filter(a=>a.trim()!=="").map(a=>t.pretty?a.replace(r,(o,e)=>o.replace(e,e.replace(f,"~"))):a).join(`
`))},function(N,x){},function(N,x,b){const s=b(1),{messages:r,codes:i}=b(10),f=b(132),c=b(90);N.exports=class{constructor(t){this.libp2p=t,this.routers=t._modules.contentRouting||[],this.dht=t._dht,this.dht&&this.routers.unshift(this.dht)}async*findProviders(t,a){if(!this.routers.length)throw s(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");const o=await c(this.routers.map(async e=>{const n=await f(e.findProviders(t,a));if(!n||!n.length)throw s(new Error("not found"),"NOT_FOUND");return n}));for(const e of o)yield e}async provide(t){if(!this.routers.length)throw s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map(a=>a.provide(t)))}put(t,a,o){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return this.dht.put(t,a,o)}get(t,a){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return this.dht.get(t,a)}async getMany(t,a,o){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw s(new Error(r.NOT_STARTED_YET),i.DHT_NOT_STARTED);return this.dht.getMany(t,a,o)}}},function(N,x,b){const s=b(288),r=b(62),i=b(11),f=b(21),c=b(6);function t(T){const g=[],E=T.split("/").slice(1);if(E.length===1&&E[0]==="")return[];for(let R=0;R<E.length;R++){const S=E[R],M=r(S);if(M.size!==0){if(R++,R>=E.length)throw B("invalid address: "+T);if(M.path){g.push([S,A(E.slice(R).join("/"))]);break}g.push([S,E[R]])}else g.push([S])}return g}function a(T){const g=[];return T.map(E=>{const R=k(E);g.push(R.name),E.length>1&&g.push(E[1])}),A(g.join("/"))}function o(T){return T.map(g=>{Array.isArray(g)||(g=[g]);const E=k(g);return g.length>1?[E.code,s.toBytes(E.code,g[1])]:[E.code]})}function e(T){return T.map(g=>{const E=k(g);return g.length>1?[E.code,s.toString(E.code,g[1])]:[E.code]})}function n(T){return l(f(T.map(g=>{const E=k(g);let R=Uint8Array.from(i.encode(E.code));return g.length>1&&(R=f([R,g[1]])),R})))}function h(T,g){return T.size>0?T.size/8:T.size===0?0:i.decode(g)+i.decode.bytes}function u(T){const g=[];let E=0;for(;E<T.length;){const R=i.decode(T,E),S=i.decode.bytes,M=h(r(R),T.slice(E+S));if(M===0){g.push([R]),E+=S;continue}const y=T.slice(E+S,E+S+M);if(E+=M+S,E>T.length)throw B("Invalid address Uint8Array: "+c(T,"base16"));g.push([R,y])}return g}function d(T){return n(o(t(T=A(T))))}function l(T){const g=m(T);if(g)throw g;return Uint8Array.from(T)}function m(T){try{u(T)}catch(g){return g}}function A(T){return"/"+T.trim().split("/").filter(g=>g).join("/")}function B(T){return new Error("Error parsing address: "+T)}function k(T){return r(T[0])}N.exports={stringToStringTuples:t,stringTuplesToString:a,tuplesToStringTuples:e,stringTuplesToTuples:o,bytesToTuples:u,tuplesToBytes:n,bytesToString:function(T){const g=u(T);return a(e(g))},stringToBytes:d,fromString:function(T){return d(T)},fromBytes:l,validateBytes:m,isValidBytes:function(T){return m(T)===void 0},cleanPath:A,ParseError:B,protoFromTuple:k,sizeForAddr:h}},function(N,x,b){const s=b(289),r=b(62),i=b(56),f=b(38),c=b(11),t=b(6),a=b(7),o=b(21);function e(l,m){return m instanceof Uint8Array?e.toString(l,m):e.toBytes(l,m)}function n(l){if(!s.isIP(l))throw new Error("invalid ip address");return s.toBytes(l)}function h(l){const m=new ArrayBuffer(2);return new DataView(m).setUint16(0,l),new Uint8Array(m)}function u(l){return new DataView(l.buffer).getUint16(0)}function d(l){const m=l.slice(0,l.length-2),A=l.slice(l.length-2);return t(m,"base32")+":"+u(A)}N.exports=e,e.toString=function(l,m){switch((l=r(l)).code){case 4:case 41:return function(A){const B=s.toString(A);if(!B||!s.isIP(B))throw new Error("invalid ip address");return B}(m);case 6:case 273:case 33:case 132:return u(m);case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=c.decode(A);if((A=A.slice(c.decode.bytes)).length!==B)throw new Error("inconsistent lengths");return t(A)}(m);case 421:return function(A){const B=c.decode(A),k=A.slice(c.decode.bytes);if(k.length!==B)throw new Error("inconsistent lengths");return t(k,"base58btc")}(m);case 444:case 445:return d(m);default:return t(m,"base16")}},e.toBytes=function(l,m){switch((l=r(l)).code){case 4:case 41:return n(m);case 6:case 273:case 33:case 132:return h(parseInt(m,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=a(A),k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 421:return function(A){const B=new i(A).multihash,k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 444:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==16)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);case 445:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==56)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion3 address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);default:return a(m,"base16")}}},function(N,x,b){const s=b(136),r=b(6),i=s,f=s.v4,c=s.v6,t=function(a,o,e){var n;if(e=~~e,f(a))n=o||new Uint8Array(e+4),a.split(/\./g).map(function(A){n[e++]=255&parseInt(A,10)});else if(c(a)){var h,u=a.split(":",8);for(h=0;h<u.length;h++){var d;f(u[h])&&(d=t(u[h]),u[h]=r(d.slice(0,2),"base16")),d&&++h<8&&u.splice(h,0,r(d.slice(2,4),"base16"))}if(u[0]==="")for(;u.length<8;)u.unshift("0");else if(u[u.length-1]==="")for(;u.length<8;)u.push("0");else if(u.length<8){for(h=0;h<u.length&&u[h]!=="";h++);var l=[h,"1"];for(h=9-u.length;h>0;h--)l.push("0");u.splice.apply(u,l)}for(n=o||new Uint8Array(e+16),h=0;h<u.length;h++){var m=parseInt(u[h],16);n[e++]=m>>8&255,n[e++]=255&m}}if(!n)throw Error("Invalid ip address: "+a);return n};N.exports={isIP:i,isV4:f,isV6:c,toBytes:t,toString:function(a,o,e){o=~~o,e=e||a.length-o;var n,h=[];const u=new DataView(a.buffer);if(e===4){for(let d=0;d<e;d++)h.push(a[o+d]);n=h.join(".")}else if(e===16){for(let d=0;d<e;d+=2)h.push(u.getUint16(o+d).toString(16));n=(n=(n=h.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n}}},function(N,x,b){const s=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",f=`
(
(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${i}:){6}(?:${r}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${i}:){5}(?::${r}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${i}:){4}(?:(:${i}){0,1}:${r}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${i}:){3}(?:(:${i}){0,2}:${r}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${i}:){2}(?:(:${i}){0,3}:${r}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${i}:){1}(?:(:${i}){0,4}:${r}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${i}){0,5}:${r}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),c=new RegExp(`(?:^${r}$)|(?:^${f}$)`),t=new RegExp(`^${r}$`),a=new RegExp(`^${f}$`),o=e=>e&&e.exact?c:new RegExp(`(?:${s(e)}${r}${s(e)})|(?:${s(e)}${f}${s(e)})`,"g");o.v4=e=>e&&e.exact?t:new RegExp(`${s(e)}${r}${s(e)}`,"g"),o.v6=e=>e&&e.exact?a:new RegExp(`${s(e)}${f}${s(e)}`,"g"),N.exports=o},function(N,x,b){const s=b(63),{dnsaddrResolver:r}=b(293),i=b(91),{AGENT_VERSION:f}=b(141),c=b(92),{publicAddressesFirst:t}=b(142),{FaultTolerance:a}=b(143),o={addresses:{listen:[],announce:[],noAnnounce:[]},connectionManager:{minConnections:25},transportManager:{faultTolerance:a.FATAL_ALL},dialer:{maxParallelDials:i.MAX_PARALLEL_DIALS,maxDialsPerPeer:i.MAX_PER_PEER_DIALS,dialTimeout:i.DIAL_TIMEOUT,resolvers:{dnsaddr:r},addressSorter:t},host:{agentVersion:f},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:c.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:c.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{},exposeRawConn:!1}};N.exports.validate=e=>{if((e=s(o,e)).modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return e}},function(N,x,b){N.exports=s=>{if(Object.prototype.toString.call(s)!=="[object Object]")return!1;const r=Object.getPrototypeOf(s);return r===null||r===Object.prototype}},function(N,x,b){b(14);const s=b(62),{code:r}=s("dnsaddr");N.exports={dnsaddrResolver:async function(i){const{Resolver:f}=b(294),c=new f,t=i.getPeerId(),[,a]=i.stringTuples().find(([e])=>e===r)||[];let o=(await c.resolveTxt("_dnsaddr."+a)).flat().map(e=>e.split("=")[1]);return t&&(o=o.filter(e=>e.includes(t))),o}}},function(N,x,b){let s;try{if(s=b(295).promises,!s)throw new Error("no dns available")}catch(r){s=b(296)}N.exports=s},function(N,x){},function(N,x,b){const s=b(3),r=s("dns-over-http-resolver");r.error=s("dns-over-http-resolver:error");const i=b(297),{buildResource:f,fetch:c,getCacheKey:t}=b(299);class a{constructor({maxCache:o=100}={}){this._cache=new i({max:o}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){const o=[].concat(this._servers);for(let e=o.length-1;e>0;e--){const n=Math.floor(Math.random()*e),h=o[e];o[e]=o[n],o[n]=h}return o}setServers(o){this._servers=o}resolve(o,e="A"){switch(e){case"A":return this.resolve4(o);case"AAAA":return this.resolve6(o);case"TXT":return this.resolveTxt(o);default:throw new Error(e+" is not supported")}}async resolve4(o){const e=this._cache.get(t(o,"A"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"A"})),u=await h.json(),d=u.Answer.map(m=>m.data),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"A"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record A`)}throw new Error(`Could not resolve ${o} record A`)}async resolve6(o){const e=this._cache.get(t(o,"AAAA"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"AAAA"})),u=await h.json(),d=u.Answer.map(m=>m.data),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"AAAA"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record AAAA`)}throw new Error(`Could not resolve ${o} record AAAA`)}async resolveTxt(o){const e=this._cache.get(t(o,"TXT"));if(e)return e;for(const n of this._getShuffledServers())try{const h=await c(f({serverResolver:n,hostname:o,recordType:"TXT"})),u=await h.json(),d=u.Answer.map(m=>[m.data.replace(/['"]+/g,"")]),l=Math.min(u.Answer.map(m=>m.TTL));return this._cache.set(t(o,"TXT"),d,{ttl:l}),d}catch(h){r.error(`${n} could not resolve ${o} record TXT`)}throw new Error(`Could not resolve ${o} record TXT`)}}a.Resolver=a,N.exports=a},function(N,x,b){N.exports=f;var s=b(298),r=f.prototype,i=new Date%1e9;function f(c){c=c||{},this.id=c.id||(1e9*Math.random()>>>0)+i++,this.max=c.max||1/0,this.items=c.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(c.lastModified||new Date);for(var t,a,o=this.items.length;o--;)t=this.items[o],a=new Date(t.expires)-new Date,this._lookup[t.key]=t,a>0?this.expire(t.key,a):a<=0&&this.delete(t.key)}r.has=function(c){return c in this._lookup},r.get=function(c){if(!this.has(c))return null;var t=this._lookup[c];return t.refresh&&this.expire(c,t.refresh),this.items.splice(this.items.indexOf(t),1),this.items.push(t),t.value},r.meta=function(c){if(!this.has(c))return null;var t=this._lookup[c];return"meta"in t?t.meta:null},r.set=function(c,t,a){var o=this._lookup[c],e=this._lookup[c]={key:c,value:t};return this.lastModified=new Date,o?(clearTimeout(o.timeout),this.items.splice(this.items.indexOf(o),1,e)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(e),this.size++),a&&("ttl"in a&&this.expire(c,a.ttl),"meta"in a&&(e.meta=a.meta),a.refresh&&(e.refresh=a.ttl)),this},r.delete=function(c){var t=this._lookup[c];return!!t&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(t),1),clearTimeout(t.timeout),delete this._lookup[c],this.size--,this)},r.expire=function(c,t){var a=t||0,o=this._lookup[c];if(!o)return this;if(typeof a=="string"&&(a=s(t)),typeof a!="number")throw new TypeError("Expiration time must be a string or number.");return clearTimeout(o.timeout),o.timeout=setTimeout(this.delete.bind(this,o.key),a),o.expires=Number(new Date)+a,this},r.clear=function(){for(var c=this.items.length;c--;)this.delete(this.items[c].key);return this},r.toJSON=function(){for(var c,t=new Array(this.items.length),a=t.length;a--;)c=this.items[a],t[a]={key:c.key,meta:c.meta,value:c.value,expires:c.expires,refresh:c.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:t}}},function(N,x,b){var s=1e3,r=6e4,i=60*r,f=24*i;function c(t,a,o,e){var n=a>=1.5*o;return Math.round(t/o)+" "+e+(n?"s":"")}N.exports=function(t,a){a=a||{};var o=typeof t;if(o==="string"&&t.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!n)return;var h=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*f;case"hours":case"hour":case"hrs":case"hr":case"h":return h*i;case"minutes":case"minute":case"mins":case"min":case"m":return h*r;case"seconds":case"second":case"secs":case"sec":case"s":return h*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}(t);if(o==="number"&&isFinite(t))return a.long?function(e){var n=Math.abs(e);return n>=f?c(e,n,f,"day"):n>=i?c(e,n,i,"hour"):n>=r?c(e,n,r,"minute"):n>=s?c(e,n,s,"second"):e+" ms"}(t):function(e){var n=Math.abs(e);return n>=f?Math.round(e/f)+"d":n>=i?Math.round(e/i)+"h":n>=r?Math.round(e/r)+"m":n>=s?Math.round(e/s)+"s":e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(N,x,b){const{default:s,Headers:r}=b(300);N.exports.buildResource=function({serverResolver:i,hostname:f,recordType:c}){return`${i}?name=${f}&type=${c}`},N.exports.fetch=function(i){return s(i,{headers:new r({accept:"application/dns-json"})})},N.exports.getCacheKey=function(i,f){return`${f}_${i}`}},function(N,x,b){const s=b(301)();s.fetch&&s.Headers&&s.Request&&s.Response?(N.exports=function(...r){return s.fetch(...r)},N.exports.Headers=s.Headers,N.exports.Request=s.Request,N.exports.Response=s.Response,N.exports.default=N.exports):N.exports=b(305)},function(N,x,b){var s=b(137),r=b(139),i=b(140),f=b(304),c=i(),t=function(){return c};s(t,{getPolyfill:i,implementation:r,shim:f}),N.exports=t},function(N,x,b){var s=Array.prototype.slice,r=b(138),i=Object.keys,f=i?function(t){return i(t)}:b(303),c=Object.keys;f.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?c(s.call(t)):c(t)}):Object.keys=f,Object.keys||f},N.exports=f},function(N,x,b){var s;if(!Object.keys){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,f=b(138),c=Object.prototype.propertyIsEnumerable,t=!c.call({toString:null},"toString"),a=c.call(function(){},"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(u){var d=u.constructor;return d&&d.prototype===u},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window=="undefined")return!1;for(var u in window)try{if(!n["$"+u]&&r.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{e(window[u])}catch(d){return!0}}catch(d){return!0}return!1}();s=function(u){var d=u!==null&&typeof u=="object",l=i.call(u)==="[object Function]",m=f(u),A=d&&i.call(u)==="[object String]",B=[];if(!d&&!l&&!m)throw new TypeError("Object.keys called on a non-object");var k=a&&l;if(A&&u.length>0&&!r.call(u,0))for(var T=0;T<u.length;++T)B.push(String(T));if(m&&u.length>0)for(var g=0;g<u.length;++g)B.push(String(g));else for(var E in u)k&&E==="prototype"||!r.call(u,E)||B.push(String(E));if(t)for(var R=function(M){if(typeof window=="undefined"||!h)return e(M);try{return e(M)}catch(y){return!1}}(u),S=0;S<o.length;++S)R&&o[S]==="constructor"||!r.call(u,o[S])||B.push(o[S]);return B}}N.exports=s},function(N,x,b){var s=b(137),r=b(140);N.exports=function(){var i=r();if(s.supportsDescriptors){var f=Object.getOwnPropertyDescriptor(i,"globalThis");(!f||f.configurable&&(f.enumerable||f.writable||globalThis!==i))&&Object.defineProperty(i,"globalThis",{configurable:!0,enumerable:!1,value:i,writable:!1})}else typeof globalThis=="object"&&globalThis===i||(i.globalThis=i);return i}},function(N,x,b){var s=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(s!==void 0)return s;throw new Error("unable to locate global object")}();N.exports=x=s.fetch,s.fetch&&(x.default=s.fetch.bind(s)),x.Headers=s.Headers,x.Request=s.Request,x.Response=s.Response},function(N){N.exports=JSON.parse('{"name":"libp2p","version":"0.30.0","description":"JavaScript implementation of libp2p, a modular peer to peer network stack","leadMaintainer":"Jacob Heun <jacobheun@gmail.com>","main":"src/index.js","types":"dist/src/index.d.ts","typesVersions":{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},"files":["dist","src"],"scripts":{"lint":"aegir lint","build":"aegir build","test":"npm run test:node && npm run test:browser","test:node":"aegir test -t node -f \\"./test/**/*.{node,spec}.js\\"","test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all","release":"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser","coverage":"nyc --reporter=text --reporter=lcov npm run test:node"},"repository":{"type":"git","url":"https://github.com/libp2p/js-libp2p.git"},"keywords":["libp2p","network","p2p","peer","peer-to-peer","IPFS"],"bugs":{"url":"https://github.com/libp2p/js-libp2p/issues"},"homepage":"https://libp2p.io","license":"MIT","engines":{"node":">=12.0.0","npm":">=6.0.0"},"dependencies":{"abort-controller":"^3.0.0","aggregate-error":"^3.0.1","any-signal":"^1.1.0","bignumber.js":"^9.0.0","cids":"^1.0.0","class-is":"^1.1.0","debug":"^4.1.1","err-code":"^2.0.0","events":"^3.1.0","hashlru":"^2.3.0","interface-datastore":"^2.0.0","ipfs-utils":"^5.0.1","it-all":"^1.0.1","it-buffer":"^0.1.2","it-handshake":"^1.0.1","it-length-prefixed":"^3.0.1","it-pipe":"^1.1.0","it-protocol-buffers":"^0.2.0","libp2p-crypto":"^0.18.0","libp2p-interfaces":"^0.8.1","libp2p-utils":"^0.2.2","mafmt":"^8.0.0","merge-options":"^2.0.0","moving-average":"^1.0.0","multiaddr":"^8.1.0","multicodec":"^2.0.0","multihashing-async":"^2.0.1","multistream-select":"^1.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.9.1","p-any":"^3.0.0","p-fifo":"^1.0.0","p-settle":"^4.0.1","peer-id":"^0.14.2","protons":"^2.0.0","retimer":"^2.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^5.0.2","timeout-abort-controller":"^1.1.1","varint":"^5.0.0","xsalsa20":"^1.0.2"},"devDependencies":{"@nodeutils/defaults-deep":"^1.1.0","abortable-iterator":"^3.0.0","aegir":"^29.2.0","chai-bytes":"^0.1.2","chai-string":"^1.5.0","delay":"^4.3.0","interop-libp2p":"^0.3.0","into-stream":"^6.0.0","ipfs-http-client":"^47.0.1","it-concat":"^1.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0","libp2p":".","libp2p-bootstrap":"^0.12.0","libp2p-delegated-content-routing":"^0.8.0","libp2p-delegated-peer-routing":"^0.8.0","libp2p-floodsub":"^0.24.0","libp2p-gossipsub":"^0.7.0","libp2p-kad-dht":"^0.20.0","libp2p-mdns":"^0.15.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^2.0.0","libp2p-secio":"^0.13.1","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.20.0","libp2p-websockets":"^0.15.0","multihashes":"^3.0.1","nock":"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.1.0","promisify-es6":"^1.0.3","rimraf":"^3.0.2","sinon":"^9.0.2","uint8arrays":"^1.1.0"},"contributors":["David Dias <daviddias.p@gmail.com>","Jacob Heun <jacobheun@gmail.com>","Vasco Santos <vasco.santos@moxy.studio>","Alan Shaw <alan@tableflip.io>","Alex Potsides <alex@achingbrain.net>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Kr\xFCger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","dirkmc <dirkmdev@gmail.com>","Volker Mische <volker.mische@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","a1300 <matthias-knopp@gmx.net>","Elven <mon.samuel@qq.com>","Andrew Nesbitt <andrewnez@gmail.com>","Giovanni T. Parra <fiatjaf@gmail.com>","Ryan Bell <ryan@piing.net>","Thomas Eizinger <thomas@eizinger.io>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Didrik Nordstr\xF6m <didrik@betamos.se>","Irakli Gozalishvili <rfobic@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","Joel Gustafson <joelg@mit.edu>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","RasmusErik Voel Jensen <github@solsort.com>","Diogo Silva <fsdiogo@gmail.com>","Samlior <samlior@foxmail.com>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","S\xF6nke Hahn <soenkehahn@gmail.com>","robertkiel <robert.kiel@validitylabs.org>","Tiago Alves <alvesjtiago@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","ebinks <elizabethjbinks@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Felipe Martins <felipebrasil93@gmail.com>","isan_rivkin <isanrivkin@gmail.com>","Henrique Dias <hacdias@gmail.com>","Fei Liu <liu.feiwood@gmail.com>"]}')},function(N,x,b){const s=b(308);N.exports=function(r){const{address:i}=r.nodeAddress();return s(i)}},function(N,x,b){N.exports=b(309).default},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0});var s=b(310).Netmask,r=b(136);x.default=function(i){return r.v4(i)||i.startsWith("0")?function(c){var t=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map(function(u){return new s(u)}),a=!0,o=!1,e=void 0;try{for(var n,h=t[Symbol.iterator]();!(a=(n=h.next()).done);a=!0)if(n.value.contains(c))return!0}catch(u){o=!0,e=u}finally{try{!a&&h.return&&h.return()}finally{if(o)throw e}}return!1}(i):/^::$/.test(f=i)||/^::1$/.test(f)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(f)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(f)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(f)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(f)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(f)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(f)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(f)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(f)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(f)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(f)||/^ff([0-9a-fA-F]{2,2}):/i.test(f);var f}},function(N,x,b){(function(){var s,r,i;i=function(f){return[(f&255<<24)>>>24,(f&255<<16)>>>16,(65280&f)>>>8,255&f].join(".")},r=function(f){var c,t,a,o,e;if((c=(f+"").split(".")).length===0||c.length>4)throw new Error("Invalid IP");for(a=o=0,e=c.length;o<e;a=++o){if(t=c[a],isNaN(parseInt(t,10)))throw new Error("Invalid byte: "+t);if(t<0||t>255)throw new Error("Invalid byte: "+t)}return((c[0]||0)<<24|(c[1]||0)<<16|(c[2]||0)<<8|(c[3]||0))>>>0},s=function(){function f(c,t){var a,o,e;if(typeof c!="string")throw new Error("Missing `net' parameter");if(t||(e=c.split("/",2),c=e[0],t=e[1]),!t)switch(c.split(".").length){case 1:t=8;break;case 2:t=16;break;case 3:t=24;break;case 4:t=32;break;default:throw new Error("Invalid net address: "+c)}if(typeof t=="string"&&t.indexOf(".")>-1){try{this.maskLong=r(t)}catch(n){throw new Error("Invalid mask: "+t)}for(a=o=32;o>=0;a=--o)if(this.maskLong===4294967295<<32-a>>>0){this.bitmask=a;break}}else{if(!t)throw new Error("Invalid mask: empty");this.bitmask=parseInt(t,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0)}try{this.netLong=(r(c)&this.maskLong)>>>0}catch(n){throw new Error("Invalid net address: "+c)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+t);this.size=Math.pow(2,32-this.bitmask),this.base=i(this.netLong),this.mask=i(this.maskLong),this.hostmask=i(~this.maskLong),this.first=this.bitmask<=30?i(this.netLong+1):this.base,this.last=this.bitmask<=30?i(this.netLong+this.size-2):i(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?i(this.netLong+this.size-1):void 0}return f.prototype.contains=function(c){return typeof c=="string"&&(c.indexOf("/")>0||c.split(".").length!==4)&&(c=new f(c)),c instanceof f?this.contains(c.base)&&this.contains(c.broadcast||c.last):(r(c)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},f.prototype.next=function(c){return c==null&&(c=1),new f(i(this.netLong+this.size*c),this.mask)},f.prototype.forEach=function(c){var t,a,o,e,n,h,u,d;for(d=[],t=a=0,o=(n=function(){u=[];for(var l=h=r(this.first),m=r(this.last);h<=m?l<=m:l>=m;h<=m?l++:l--)u.push(l);return u}.apply(this)).length;a<o;t=++a)e=n[t],d.push(c(i(e),e,t));return d},f.prototype.toString=function(){return this.base+"/"+this.bitmask},f}(),x.ip2long=r,x.long2ip=i,x.Netmask=s}).call(void 0)},function(N,x,b){const s=b(312),r=b(313);N.exports=async(i,f={})=>{const{concurrency:c=1/0}=f,t=r(c);return Promise.all(i.map(a=>a&&typeof a.then=="function"?s(a):s(typeof a=="function"?t(()=>a()):Promise.resolve(a))))}},function(N,x,b){const s=async r=>{try{return{isFulfilled:!0,isRejected:!1,value:await r}}catch(i){return{isFulfilled:!1,isRejected:!0,reason:i}}};N.exports=s,N.exports.default=s},function(N,x,b){const s=b(314),r=i=>{if(!Number.isInteger(i)&&i!==1/0||!(i>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const f=[];let c=0;const t=()=>{c--,f.length>0&&f.shift()()},a=(e,n,...h)=>{c++;const u=s(e,...h);n(u),u.then(t,t)},o=(e,...n)=>new Promise(h=>((u,d,...l)=>{c<i?a(u,d,...l):f.push(a.bind(null,u,d,...l))})(e,h,...n));return Object.defineProperties(o,{activeCount:{get:()=>c},pendingCount:{get:()=>f.length},clearQueue:{value:()=>{f.length=0}}}),o};N.exports=r,N.exports.default=r},function(N,x,b){const s=(r,...i)=>new Promise(f=>{f(r(...i))});N.exports=s,N.exports.default=s},function(N,x,b){const s=b(93),r=b(94);N.exports.updateSelfPeerRecord=async function(i){const f=new r({peerId:i.peerId,multiaddrs:i.multiaddrs}),c=await s.seal(f,i.peerId);i.peerStore.addressBook.consumePeerRecord(c)}},function(N,x,b){const s=b(22);N.exports=s(`
message Envelope {
  // public_key is the public key of the keypair the enclosed payload was
  // signed with.
  bytes public_key = 1;

  // payload_type encodes the type of payload, so that it can be deserialized
  // deterministically.
  bytes payload_type = 2;

  // payload is the actual payload carried inside this envelope.
  bytes payload = 3;

  // signature is the signature produced by the private key corresponding to
  // the enclosed public key, over the payload, prefixing a domain string for
  // additional security.
  bytes signature = 5;
}
`)},function(N,x,b){N.exports=function(s,r){return s.length===r.length&&r.sort()&&s.sort().every((i,f)=>r[f].equals(i))}},function(N,x,b){const s=b(22);N.exports=s(`
message PeerRecord {
    // AddressInfo is a wrapper around a binary multiaddr. It is defined as a
    // separate message to allow us to add per-address metadata in the future.
    message AddressInfo {
        bytes multiaddr = 1;
    }

    // peer_id contains a libp2p peer id in its binary representation.
    bytes peer_id = 1;

    // seq contains a monotonically-increasing sequence counter to order PeerRecords in time.
    uint64 seq = 2;

    // addresses is a list of public listen addresses for the peer.
    repeated AddressInfo addresses = 3;
}
`)},function(N,x,b){const s=b(115),r=s.getName(s.LIBP2P_PEER_RECORD)||"libp2p-peer-record",i=Uint8Array.from([3,1]);N.exports={ENVELOPE_DOMAIN_PEER_RECORD:r,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:i}},function(N,x,b){const s=b(14);N.exports=class{constructor({listen:r=[],announce:i=[]}={}){this.listen=new Set(r),this.announce=new Set(i)}getListenAddrs(){return Array.from(this.listen).map(r=>s(r))}getAnnounceAddrs(){return Array.from(this.announce).map(r=>s(r))}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:connection-manager"),{error:s("libp2p:connection-manager:err")}),i=b(1),f=b(63),c=b(322),t=b(95),{EventEmitter:a}=b(30),o=b(9),{codes:{ERR_INVALID_PARAMETERS:e}}=b(10),n={maxConnections:1/0,minConnections:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1};function h(u,d){return u[1]-d[1]}N.exports=class extends a{constructor(u,d={}){if(super(),this._libp2p=u,this._peerId=u.peerId.toB58String(),this._options=f.call({ignoreUndefined:!0},n,d),this._options.maxConnections<this._options.minConnections)throw i(new Error("Connection Manager maxConnections must be greater than minConnections"),e);r("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this)}get size(){return Array.from(this.connections.values()).reduce((u,d)=>u+d.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||t(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor=new c({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,r("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor&&this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._started=!1,await this._close(),r("stopped")}async _close(){const u=[];for(const d of this.connections.values())for(const l of d)u.push(l.close());await u,this.connections.clear()}setPeerValue(u,d){if(d<0||d>1)throw new Error("value should be a number between 0 and 1");this._peerValues.set(u.toB58String(),d)}_checkMetrics(){if(this._libp2p.metrics){const u=this._libp2p.metrics.global.movingAverages,d=u.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",d);const l=u.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",l);const m=d+l;this._checkMaxLimit("maxData",m),r("metrics update",m),this._timer=t(this._checkMetrics,this._options.pollInterval)}}onConnect(u){const d=u.remotePeer,l=d.toB58String(),m=this.connections.get(l);this.emit("peer:connect",u),m?m.push(u):this.connections.set(l,[u]),this._libp2p.peerStore.keyBook.set(d,d.pubKey),this._peerValues.has(l)||this._peerValues.set(l,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(u){const d=u.remotePeer.toB58String();let l=this.connections.get(d);l&&l.length>1?(l=l.filter(m=>m.id!==u.id),this.connections.set(d,l)):l&&(this.connections.delete(d),this._peerValues.delete(u.remotePeer.toB58String()),this.emit("peer:disconnect",u))}get(u){const d=this.getAll(u);return d.length?d[0]:null}getAll(u){if(!o.isPeerId(u))throw i(new Error("peerId must be an instance of peer-id"),e);const d=u.toB58String(),l=this.connections.get(d);return l?l.filter(m=>m.stat.status==="open"):[]}_onLatencyMeasure(u){this._checkMaxLimit("maxEventLoopDelay",u.avgMs)}_checkMaxLimit(u,d){const l=this._options[u];r("checking limit of %s. current value: %d of %d",u,d,l),d>l&&(r("%s: limit exceeded: %s, %d",this._peerId,u,d),this._maybeDisconnectOne())}async _autoDial(){const u=this._options.minConnections;if(this.size>=u)return void(this._autoDialTimeout=t(this._autoDial,this._options.autoDialInterval));const d=Array.from(this._libp2p.peerStore.peers.values()).sort((l,m)=>!m.protocols||!m.protocols.length||l.protocols&&l.protocols.length?m.id.pubKey&&!l.id.pubKey?1:-1:1);for(let l=0;l<d.length&&this.size<u;l++)if(!this.get(d[l].id)){r("connecting to a peerStore stored peer %s",d[l].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(d[l].id),!this._started)return}catch(m){r.error("could not connect to peerStore stored peer",m)}}this._autoDialTimeout=t(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){const u=Array.from(this._peerValues).sort(h);r("%s: sorted peer values: %j",this._peerId,u);const d=u[0];if(d){const l=d[0];r("%s: lowest value peer is %s",this._peerId,l),r("%s: closing a connection to %j",this._peerId,l);for(const m of this.connections.values())if(m[0].remotePeer.toB58String()===l){m[0].close();break}}}}}},function(N,x,b){const s=b(55),{EventEmitter:r}=b(30),i=b(323),f=b(3)("latency-monitor:LatencyMonitor");N.exports=class extends r{constructor({latencyCheckIntervalMs:c,dataEmitIntervalMs:t,asyncTestFn:a,latencyRandomPercentage:o}={}){super();const e=this;e.latencyCheckIntervalMs=c||500,e.latencyRandomPercentage=o||10,e._latecyCheckMultiply=e.latencyRandomPercentage/100*2*e.latencyCheckIntervalMs,e._latecyCheckSubtract=e._latecyCheckMultiply/2,e.dataEmitIntervalMs=t===null||t===0?void 0:t||5e3,f("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",e.latencyCheckIntervalMs,e.dataEmitIntervalMs),e.dataEmitIntervalMs?f("Expecting ~%s events per summary",e.latencyCheckIntervalMs/e.dataEmitIntervalMs):f("Not emitting summaries"),e.asyncTestFn=a,s.process&&s.process.hrtime?(f("Using process.hrtime for timing"),e.now=s.process.hrtime,e.getDeltaMS=n=>{const h=e.now(n);return 1e3*h[0]+h[1]/1e6}):typeof window!="undefined"&&window.performance&&window.performance.now?(f("Using performance.now for timing"),e.now=window.performance.now.bind(window.performance),e.getDeltaMS=n=>Math.round(e.now()-n)):(f("Using Date.now for timing"),e.now=Date.now,e.getDeltaMS=n=>e.now()-n),e._latencyData=e._initLatencyData(),typeof window!="undefined"&&(e._visibilityChangeEmitter=new i,e._visibilityChangeEmitter.on("visibilityChange",n=>{n?e._startTimers():(e._emitSummary(),e._stopTimers())})),e._visibilityChangeEmitter&&!e._visibilityChangeEmitter.isVisible()||e._startTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),typeof this._emitIntervalID.unref=="function"&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){const c=this.getSummary();c.events>0&&this.emit("data",c)}getSummary(){const c={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),f("Summary: %O",c),c}_checkLatency(){const c=this,t=Math.random()*c._latecyCheckMultiply-c._latecyCheckSubtract,a={deltaOffset:Math.ceil(c.latencyCheckIntervalMs+t),startTime:c.now()},o=()=>{if(!this._checkLatencyID)return;const e=c.getDeltaMS(a.startTime)-a.deltaOffset;c._checkLatency(),c._latencyData.events++,c._latencyData.minMs=Math.min(c._latencyData.minMs,e),c._latencyData.maxMs=Math.max(c._latencyData.maxMs,e),c._latencyData.totalMs+=e,f("MS: %s Data: %O",e,c._latencyData)};f("localData: %O",a),this._checkLatencyID=setTimeout(()=>{c.asyncTestFn?(a.deltaOffset=0,a.startTime=c.now(),c.asyncTestFn(o)):(a.deltaOffset-=1,o())},a.deltaOffset),typeof this._checkLatencyID.unref=="function"&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}},function(N,x,b){const{EventEmitter:s}=b(30),r=b(3)("latency-monitor:VisibilityChangeEmitter");N.exports=class extends s{constructor(){super(),typeof document!="undefined"?(this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()):r('This is not a browser, no "document" found. Stopping.')}_initializeVisibilityVarNames(){let i,f;document.hidden!==void 0?(i="hidden",f="visibilitychange"):document.mozHidden!==void 0?(i="mozHidden",f="mozvisibilitychange"):document.msHidden!==void 0?(i="msHidden",f="msvisibilitychange"):document.webkitHidden!==void 0&&(i="webkitHidden",f="webkitvisibilitychange"),this._hidden=i,this._visibilityChange=f}_addVisibilityChangeListener(){document.addEventListener===void 0||document[this._hidden]===void 0?r("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(this._hidden!==void 0&&document[this._hidden]!==void 0)return!document[this._hidden]}_handleVisibilityChange(){const i=!document[this._hidden];r(i?"Page Visible":"Page Hidden"),this.emit("visibilityChange",i)}}},function(N,x,b){N.exports=function(){return Date.now()}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:circuit"),{error:s("libp2p:circuit:err")}),i=b(326),f=b(14),c=b(9),{CircuitRelay:t}=b(49),a=b(327),{relay:o}=b(64),e=b(331),{handleCanHop:n,handleHop:h,hop:u}=b(144),{handleStop:d}=b(151),l=b(96),m=Symbol.for("@libp2p/js-libp2p-circuit/circuit");class A{constructor({libp2p:B,upgrader:k}){this._dialer=B.dialer,this._registrar=B.registrar,this._connectionManager=B.connectionManager,this._upgrader=k,this._options=B._config.relay,this._libp2p=B,this.peerId=B.peerId,this._registrar.handle(o,this._onProtocol.bind(this))}async _onProtocol({connection:B,stream:k}){const T=new l({stream:k}),g=await T.read();if(!g)return;const E=this;let R;switch(g.type){case t.Type.CAN_HOP:r("received CAN_HOP request from %s",B.remotePeer.toB58String()),await n({circuit:E,connection:B,streamHandler:T});break;case t.Type.HOP:r("received HOP request from %s",B.remotePeer.toB58String()),R=await h({connection:B,request:g,streamHandler:T,circuit:E});break;case t.Type.STOP:r("received STOP request from %s",B.remotePeer.toB58String()),R=await d({connection:B,request:g,streamHandler:T});break;default:r("Request of type %s not supported",g.type)}if(R){const S=f(g.dstPeer.addrs[0]),M=f(g.srcPeer.addrs[0]),y=a({stream:R,remoteAddr:S,localAddr:M}),p=g.type===t.Type.HOP?"relay":"inbound";r("new %s connection %s",p,y.remoteAddr);const w=await this._upgrader.upgradeInbound(y);r("%s connection %s upgraded",p,y.remoteAddr),this.handler&&this.handler(w)}}async dial(B,k){const T=B.toString().split("/p2p-circuit"),g=f(T[0]),E=f(T[T.length-1]),R=c.createFromCID(g.getPeerId()),S=c.createFromCID(E.getPeerId());let M=!1,y=this._connectionManager.get(R);y||(y=await this._dialer.connectToPeer(g,k),M=!0);try{const p=await u({connection:y,request:{type:t.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(_=>_.bytes)},dstPeer:{id:S.toBytes(),addrs:[f(E).bytes]}}}),w=g.encapsulate("/p2p-circuit/p2p/"+this.peerId.toB58String()),v=a({stream:p,remoteAddr:B,localAddr:w});return r("new outbound connection %s",v.remoteAddr),this._upgrader.upgradeOutbound(v)}catch(p){throw r.error("Circuit relay dial failed",p),M&&await y.close(),p}}createListener(B,k){return typeof B=="function"&&(k=B,B={}),this.handler=k,e(this._libp2p)}filter(B){return(B=Array.isArray(B)?B:[B]).filter(k=>i.Circuit.matches(k))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(B){return Boolean(B&&B[m])}}N.exports=A},function(N,x,b){const s=b(14),r=w("dns4"),i=w("dns6"),f=w("dnsaddr"),c=p(w("dns"),f,r,i),t=p(w("ip4"),w("ip6")),a=p(y(t,w("tcp")),y(c,w("tcp"))),o=y(t,w("udp")),e=y(o,w("utp")),n=p(y(a,w("ws")),y(c,w("ws"))),h=p(y(a,w("wss")),y(c,w("wss"))),u=p(y(a,w("http")),y(t,w("http")),y(c,w("http"))),d=p(y(a,w("https")),y(t,w("https")),y(c,w("https"))),l=p(y(n,w("p2p-webrtc-star"),w("p2p")),y(h,w("p2p-webrtc-star"),w("p2p")),y(n,w("p2p-webrtc-star")),y(h,w("p2p-webrtc-star"))),m=p(y(n,w("p2p-websocket-star"),w("p2p")),y(h,w("p2p-websocket-star"),w("p2p")),y(n,w("p2p-websocket-star")),y(h,w("p2p-websocket-star"))),A=p(y(u,w("p2p-webrtc-direct")),y(d,w("p2p-webrtc-direct"))),B=p(n,h,u,d,l,A,a,e,c),k=p(y(B,w("p2p-stardust"),w("p2p")),y(B,w("p2p-stardust"))),T=p(y(B,w("p2p")),l,w("p2p")),g=p(y(T,w("p2p-circuit"),T),y(T,w("p2p-circuit")),y(w("p2p-circuit"),T),y(B,w("p2p-circuit")),y(w("p2p-circuit"),B),w("p2p-circuit")),E=()=>p(y(g,E),g),R=E(),S=p(y(R,T,R),y(T,R),y(R,T),R,T);function M(v){return function(_){if(!s.isMultiaddr(_))try{_=s(_)}catch(L){return!1}const C=v(_.protoNames());return C!==null&&C.length===0}}function y(){const v=Array.from(arguments);function _(C){return C.length<v.length?null:(v.some(L=>{if((C=typeof L=="function"?L().partialMatch(C):L.partialMatch(C))===null)return!0}),C)}return{toString:function(){return"{ "+v.join(" ")+" }"},input:v,matches:M(_),partialMatch:_}}function p(){const v=Array.from(arguments);function _(L){let O=null;return v.some(U=>{const q=typeof U=="function"?U().partialMatch(L):U.partialMatch(L);if(q)return O=q,!0}),O}const C={toString:function(){return"{ "+v.join(" ")+" }"},input:v,matches:M(_),partialMatch:_};return C}function w(v){const _=v;return{toString:function(){return _},matches:function(C){if(typeof C=="string")try{C=s(C)}catch(O){return!1}const L=C.protoNames();return L.length===1&&L[0]===_},partialMatch:function(C){return C.length===0?null:C[0]===_?C.slice(1):null}}}x.DNS=c,x.DNS4=r,x.DNS6=i,x.DNSADDR=f,x.IP=t,x.TCP=a,x.UDP=o,x.UTP=e,x.HTTP=u,x.HTTPS=d,x.WebSockets=n,x.WebSocketsSecure=h,x.WebSocketStar=m,x.WebRTCStar=l,x.WebRTCDirect=A,x.Reliable=B,x.Stardust=k,x.Circuit=R,x.P2P=S,x.IPFS=S},function(N,x,b){const s=b(328),r=b(3)("libp2p:stream:converter");N.exports=function({stream:i,remoteAddr:f,localAddr:c},t={}){const{sink:a,source:o}=i,e={async sink(h){t.signal&&(h=s(h,t.signal));try{await a(h)}catch(u){u.type!=="aborted"&&r(u)}n()},source:t.signal?s(o,t.signal):o,conn:i,localAddr:c,remoteAddr:f,timeline:{open:Date.now()},close(){a([]),n()}};function n(){e.timeline.close||(e.timeline.close=Date.now())}return e}},function(N,x,b){const s=b(329),r=b(330),i=(o,e,n)=>f(o,Array.isArray(e)?e:[{signal:e,options:n}]),f=(o,e)=>(o=s(o),e=e.map(({signal:n,options:h})=>({signal:n,options:h||{}})),async function*(){let n;const h=()=>{n&&n()};for(const{signal:u}of e)u.addEventListener("abort",h);for(;;){let u;try{for(const{signal:l,options:m}of e)if(l.aborted){const{abortMessage:A,abortCode:B}=m;throw new r(A,B)}const d=new Promise((l,m)=>{n=()=>{const{options:A}=e.find(({signal:T})=>T.aborted),{abortMessage:B,abortCode:k}=A;m(new r(B,k))}});u=await Promise.race([d,o.next()]),n=null}catch(d){for(const{signal:A}of e)A.removeEventListener("abort",h);const l=e.find(({signal:A})=>A.aborted),m=d.type==="aborted"&&l;if(m&&l.options.onAbort&&await l.options.onAbort(o),typeof o.return=="function"&&await o.return(),m&&l.options.returnOnAbort)return;throw d}if(u.done)break;yield u.value}for(const{signal:u}of e)u.removeEventListener("abort",h)}()),c=(o,e,n)=>t(o,Array.isArray(e)?e:[{signal:e,options:n}]),t=(o,e)=>n=>o(f(n,e)),a=(o,e)=>({sink:t(o.sink,e),source:f(o.source,e)});N.exports=i,N.exports.AbortError=r,N.exports.source=i,N.exports.sink=c,N.exports.transform=c,N.exports.duplex=(o,e,n)=>a(o,Array.isArray(e)?e:[{signal:e,options:n}])},function(N,x,b){N.exports=function(s){if(s){if(typeof s[Symbol.iterator]=="function")return s[Symbol.iterator]();if(typeof s[Symbol.asyncIterator]=="function")return s[Symbol.asyncIterator]();if(typeof s.next=="function")return s}throw new Error("argument is not an iterator or iterable")}},function(N,x,b){N.exports=class extends Error{constructor(s,r){super(s||"The operation was aborted"),this.type="aborted",this.code=r||"ABORT_ERR"}}},function(N,x,b){const{EventEmitter:s}=b(30),r=b(14);N.exports=i=>{const f=new Map,c=Object.assign(new s,{close:()=>Promise.resolve(),listen:async function(t){const a=String(t).split("/p2p-circuit").find(n=>n!==""),o=await i.dial(r(a)),e=o.remoteAddr.encapsulate("/p2p-circuit");f.set(o.remotePeer.toB58String(),e),c.emit("listening")},getAddrs:function(){const t=[];for(const a of f.values())t.push(a);return t}});return i.connectionManager.on("peer:disconnect",t=>{f.delete(t.remotePeer.toB58String())&&c.emit("close")}),c}},function(N,x,b){const{Buffer:s}=b(8),r=b(39),i=b(146);function f(c){c=c||{};const t=Math.max(c.poolSize||10240,c.minPoolSize||8),a=c.lengthEncoder||i;return o=>async function*(){let e=s.alloc(t),n=0;for await(const h of o){a(h.length,e,n);const u=e.slice(n,n+a.bytes);n+=a.bytes,e.length-n<8&&(e=s.alloc(t),n=0),yield new r().append(u).append(h)}}()}f.single=(c,t)=>{const a=(t=t||{}).lengthEncoder||i;return new r([a(c.length),c])},N.exports=f,N.exports.MIN_POOL_SIZE=8,N.exports.DEFAULT_POOL_SIZE=10240},function(N,x,b){const{Buffer:s}=b(8),r=b(39),i=b(147),f=s.alloc(0),c="readLength",t="readData",a={[c]:(e,n,h,u)=>{let d;n=n.append(e);try{d=u.lengthDecoder(n)}catch(l){if(n.length>u.maxLengthLength)throw Object.assign(l,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(l instanceof RangeError)return{mode:c,buffer:n};throw l}if(d>u.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=n.shallowSlice(u.lengthDecoder.bytes),n=new r,u.onLength&&u.onLength(d),d<=0?(u.onData&&u.onData(f),{mode:c,chunk:e,buffer:n,data:f}):{mode:t,chunk:e,buffer:n,state:{dataLength:d}}},[t]:(e,n,h,u)=>{if((n=n.append(e)).length<h.dataLength)return{mode:t,buffer:n,state:h};const{dataLength:d}=h,l=n.shallowSlice(0,d);return e=n.length>d?n.shallowSlice(d):null,n=new r,u.onData&&u.onData(l),{mode:c,chunk:e,buffer:n,data:l}}};function o(e){return(e=e||{}).lengthDecoder=e.lengthDecoder||i,e.maxLengthLength=e.maxLengthLength||8,e.maxDataLength=e.maxDataLength||4194304,n=>async function*(){let h,u=new r,d=c;for await(let l of n)for(;l;){const m=a[d](l,u,h,e);({mode:d,chunk:l,buffer:u,state:h}=m),m.data&&(yield m.data)}if(u.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}()}o.fromReader=(e,n)=>{n=n||{};let h=1;const u={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(h)}catch(d){if(d.code==="ERR_UNDER_READ")return{done:!0,value:null};throw d}finally{h=1}}};return n.onLength=d=>{h=d},o(n)(u)},N.exports=o,N.exports.MAX_LENGTH_LENGTH=8,N.exports.MAX_DATA_LENGTH=4194304},function(N,x,b){const{Buffer:s}=b(8),r=(i,f,c)=>((f=f||s.allocUnsafe(4)).writeInt32BE(i,c),f);r.bytes=4,N.exports=r},function(N,x,b){const s=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};s.bytes=4,N.exports=s},function(N,x,b){const s=b(149);N.exports=r=>{let i;typeof(r=r||{})=="function"?(i=r,r={}):i=r.onEnd;let f,c,t,a=new s;const o=u=>c?c(u):(a.push(u),f),e=u=>t?f:o({done:!1,value:u}),n=u=>t?f:(t=!0,u?(d=>(a=new s,c?c({error:d}):(a.push({error:d}),f)))(u):o({done:!0}));if(f={[Symbol.asyncIterator](){return this},next:()=>{if(!a.isEmpty()){if(r.writev){let d;const l=[];for(;!a.isEmpty();){if(d=a.shift(),d.error)throw d.error;l.push(d.value)}return{done:d.done,value:l}}const u=a.shift();if(u.error)throw u.error;return u}return t?{done:!0}:new Promise((u,d)=>{c=l=>(c=null,l.error?d(l.error):r.writev&&!l.done?u({done:l.done,value:[l.value]}):u(l),f)})},return:()=>(a=new s,n(),{done:!0}),throw:u=>(n(u),{done:!0}),push:e,end:n},!i)return f;const h=f;return f={[Symbol.asyncIterator](){return this},next:()=>h.next(),throw:u=>(h.throw(u),i&&(i(u),i=null),{done:!0}),return:()=>(h.return(),i&&(i(),i=null),{done:!0}),push:e,end:u=>(h.end(u),i&&(i(u),i=null),f)},f}},function(N,x,b){N.exports=class{constructor(s){if(!(s>0)||(s-1&s)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(s),this.mask=s-1,this.top=0,this.btm=0,this.next=null}push(s){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=s,this.top=this.top+1&this.mask,!0)}shift(){const s=this.buffer[this.btm];if(s!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,s}isEmpty(){return this.buffer[this.btm]===void 0}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:relay"),{error:s("libp2p:relay:err")}),{setDelayedInterval:i,clearDelayedInterval:f}=b(134),c=b(339),{namespaceToCid:t}=b(152),{ADVERTISE_BOOT_DELAY:a,ADVERTISE_TTL:o,RELAY_RENDEZVOUS_NS:e}=b(92);N.exports=class{constructor(n){this._libp2p=n,this._options={advertise:{bootDelay:a,enabled:!0,ttl:o,...n._config.relay.advertise},...n._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new c({libp2p:n,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=i(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){f(this._timeout)}async _advertiseService(){try{const n=await t(e);await this._libp2p.contentRouting.provide(n)}catch(n){n.code==="NO_ROUTERS_AVAILABLE"?(r.error("a content router, such as a DHT, must be provided in order to advertise the relay service",n),this.stop()):r.error(n)}}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:auto-relay"),{error:s("libp2p:auto-relay:err")}),i=b(7),f=b(6),c=b(14),t=b(9),{relay:a}=b(64),{canHop:o}=b(144),{namespaceToCid:e}=b(152),{CIRCUIT_PROTO_CODE:n,HOP_METADATA_KEY:h,HOP_METADATA_VALUE:u,RELAY_RENDEZVOUS_NS:d}=b(92);N.exports=class{constructor({libp2p:l,maxListeners:m=1}){this._libp2p=l,this._peerId=l.peerId,this._peerStore=l.peerStore,this._connectionManager=l.connectionManager,this._transportManager=l.transportManager,this._addressSorter=l.dialer.addressSorter,this.maxListeners=m,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected)}async _onProtocolChange({peerId:l,protocols:m}){const A=l.toB58String(),B=m.find(k=>k===a);if(B||!this._listenRelays.has(A)){if(B&&!this._listenRelays.has(A))try{const k=this._connectionManager.get(l);if(!k)return;if(k.remoteAddr.protoCodes().includes(n))return void r(`relayed connection to ${A} will not be used to hop on`);await o({connection:k})&&(this._peerStore.metadataBook.set(l,h,i(u)),await this._addListenRelay(k,A))}catch(k){r.error(k)}}else this._removeListenRelay(A)}_onPeerDisconnected(l){const m=l.remotePeer.toB58String();this._listenRelays.has(m)&&this._removeListenRelay(m)}async _addListenRelay(l,m){if(this._listenRelays.size>=this.maxListeners)return;const A=this._peerStore.addressBook.getMultiaddrsForPeer(l.remotePeer,this._addressSorter);if(!A||!A.length)return;const B=A[0].toString()+"/p2p-circuit";this._listenRelays.add(m);try{await this._transportManager.listen([c(B)])}catch(k){r.error(k),this._listenRelays.delete(m)}}_removeListenRelay(l){this._listenRelays.delete(l)&&this._listenOnAvailableHopRelays([l])}async _listenOnAvailableHopRelays(l=[]){if(this._listenRelays.size>=this.maxListeners)return;const m=[];for(const[A,B]of this._peerStore.metadataBook.data.entries()){if(this._listenRelays.has(A)||l.includes(A))continue;const k=B.get(h);if(!k||f(k)!==u)continue;const T=t.createFromCID(A),g=this._connectionManager.get(T);if(g){if(await this._addListenRelay(g,A),this._listenRelays.size>=this.maxListeners)return}else m.push(T)}for(const A of m){const B=await this._libp2p.dial(A);if(await this._addListenRelay(B,A.toB58String()),this._listenRelays.size>=this.maxListeners)return}try{const A=await e(d);for await(const B of this._libp2p.contentRouting.findProviders(A)){if(!B.multiaddrs.length)continue;const k=B.id;this._peerStore.addressBook.add(k,B.multiaddrs);const T=await this._libp2p.dial(k);if(await this._addListenRelay(T,k.toB58String()),this._listenRelays.size>=this.maxListeners)return}}catch(A){r.error(A)}}}},function(N,x,b){const s=b(1),r=b(42),i=b(341),f=b(19);async function c(t,a,o){const e=await c.digest(t,a,o);return r.encode(e,a,o)}c.multihash=r,c.digest=async(t,a,o)=>{const e=c.createHash(a),n=await e(t);return o?n.slice(0,o):n},c.createHash=function(t){if(!t)throw s(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(t=r.coerceCode(t),!c.functions[t])throw s(new Error(`multihash function '${t}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return c.functions[t]},c.functions={0:i.identity,17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(c.functions),c.validate=async(t,a)=>{const o=await c(t,r.decode(a).name);return f(a,o)},N.exports=c},function(N,x,b){const s=b(342),r=b(344),{factory:i}=b(47),{fromNumberTo32BitBuf:f}=b(346),c=b(7),t=a=>async o=>{switch(a){case"sha3-224":return new Uint8Array(s.sha3_224.arrayBuffer(o));case"sha3-256":return new Uint8Array(s.sha3_256.arrayBuffer(o));case"sha3-384":return new Uint8Array(s.sha3_384.arrayBuffer(o));case"sha3-512":return new Uint8Array(s.sha3_512.arrayBuffer(o));case"shake-128":return new Uint8Array(s.shake128.create(128).update(o).arrayBuffer());case"shake-256":return new Uint8Array(s.shake256.create(256).update(o).arrayBuffer());case"keccak-224":return new Uint8Array(s.keccak224.arrayBuffer(o));case"keccak-256":return new Uint8Array(s.keccak256.arrayBuffer(o));case"keccak-384":return new Uint8Array(s.keccak384.arrayBuffer(o));case"keccak-512":return new Uint8Array(s.keccak512.arrayBuffer(o));case"murmur3-128":return c(r.x64.hash128(o),"base16");case"murmur3-32":return f(r.x86.hash32(o));default:throw new TypeError(a+" is not a supported algorithm")}};N.exports={identity:a=>a,sha1:i("sha1"),sha2256:i("sha2-256"),sha2512:i("sha2-512"),dblSha2256:i("dbl-sha2-256"),sha3224:t("sha3-224"),sha3256:t("sha3-256"),sha3384:t("sha3-384"),sha3512:t("sha3-512"),shake128:t("shake-128"),shake256:t("shake-256"),keccak224:t("keccak-224"),keccak256:t("keccak-256"),keccak384:t("keccak-384"),keccak512:t("keccak-512"),murmur3128:t("murmur3-128"),murmur332:t("murmur3-32"),addBlake:b(347)}},function(N,x,b){(function(s,r){var i;!function(){var f="input is invalid type",c=typeof window=="object",t=c?window:{};t.JS_SHA3_NO_WINDOW&&(c=!1);var a=!c&&typeof self=="object";!t.JS_SHA3_NO_NODE_JS&&typeof s=="object"&&s.versions&&s.versions.node?t=r:a&&(t=self);var o=!t.JS_SHA3_NO_COMMON_JS&&typeof N=="object"&&N.exports,e=b(343),n=!t.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",h="0123456789abcdef".split(""),u=[4,1024,262144,67108864],d=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],A=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],k={128:168,256:136};!t.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(K){return Object.prototype.toString.call(K)==="[object Array]"}),!n||!t.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(K){return typeof K=="object"&&K.buffer&&K.buffer.constructor===ArrayBuffer});for(var T=function(K,Q,z){return function(D){return new q(K,Q,K).update(D)[z]()}},g=function(K,Q,z){return function(D,F){return new q(K,Q,F).update(D)[z]()}},E=function(K,Q,z){return function(D,F,I,P){return p["cshake"+K].update(D,F,I,P)[z]()}},R=function(K,Q,z){return function(D,F,I,P){return p["kmac"+K].update(D,F,I,P)[z]()}},S=function(K,Q,z,D){for(var F=0;F<B.length;++F){var I=B[F];K[I]=Q(z,D,I)}return K},M=function(K,Q){var z=T(K,Q,"hex");return z.create=function(){return new q(K,Q,K)},z.update=function(D){return z.create().update(D)},S(z,T,K,Q)},y=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:A,createMethod:function(K,Q){var z=g(K,Q,"hex");return z.create=function(D){return new q(K,Q,D)},z.update=function(D,F){return z.create(F).update(D)},S(z,g,K,Q)}},{name:"cshake",padding:u,bits:A,createMethod:function(K,Q){var z=k[K],D=E(K,0,"hex");return D.create=function(F,I,P){return I||P?new q(K,Q,F).bytepad([I,P],z):p["shake"+K].create(F)},D.update=function(F,I,P,V){return D.create(I,P,V).update(F)},S(D,E,K,Q)}},{name:"kmac",padding:u,bits:A,createMethod:function(K,Q){var z=k[K],D=R(K,0,"hex");return D.create=function(F,I,P){return new H(K,Q,I).bytepad(["KMAC",P],z).bytepad([F],z)},D.update=function(F,I,P,V){return D.create(F,P,V).update(I)},S(D,R,K,Q)}}],p={},w=[],v=0;v<y.length;++v)for(var _=y[v],C=_.bits,L=0;L<C.length;++L){var O=_.name+"_"+C[L];if(w.push(O),p[O]=_.createMethod(C[L],_.padding),_.name!=="sha3"){var U=_.name+C[L];w.push(U),p[U]=p[O]}}function q(K,Q,z){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(K<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(31&z)>>3;for(var D=0;D<50;++D)this.s[D]=0}function H(K,Q,z){q.call(this,K,Q,z)}q.prototype.update=function(K){if(this.finalized)throw new Error("finalize already called");var Q,z=typeof K;if(z!=="string"){if(z!=="object")throw new Error(f);if(K===null)throw new Error(f);if(n&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!(Array.isArray(K)||n&&ArrayBuffer.isView(K)))throw new Error(f);Q=!0}for(var D,F,I=this.blocks,P=this.byteCount,V=K.length,$=this.blockCount,W=0,et=this.s;W<V;){if(this.reset)for(this.reset=!1,I[0]=this.block,D=1;D<$+1;++D)I[D]=0;if(Q)for(D=this.start;W<V&&D<P;++W)I[D>>2]|=K[W]<<d[3&D++];else for(D=this.start;W<V&&D<P;++W)(F=K.charCodeAt(W))<128?I[D>>2]|=F<<d[3&D++]:F<2048?(I[D>>2]|=(192|F>>6)<<d[3&D++],I[D>>2]|=(128|63&F)<<d[3&D++]):F<55296||F>=57344?(I[D>>2]|=(224|F>>12)<<d[3&D++],I[D>>2]|=(128|F>>6&63)<<d[3&D++],I[D>>2]|=(128|63&F)<<d[3&D++]):(F=65536+((1023&F)<<10|1023&K.charCodeAt(++W)),I[D>>2]|=(240|F>>18)<<d[3&D++],I[D>>2]|=(128|F>>12&63)<<d[3&D++],I[D>>2]|=(128|F>>6&63)<<d[3&D++],I[D>>2]|=(128|63&F)<<d[3&D++]);if(this.lastByteIndex=D,D>=P){for(this.start=D-P,this.block=I[$],D=0;D<$;++D)et[D]^=I[D];G(et),this.reset=!0}else this.start=D}return this},q.prototype.encode=function(K,Q){var z=255&K,D=1,F=[z];for(z=255&(K>>=8);z>0;)F.unshift(z),z=255&(K>>=8),++D;return Q?F.push(D):F.unshift(D),this.update(F),F.length},q.prototype.encodeString=function(K){var Q,z=typeof K;if(z!=="string"){if(z!=="object")throw new Error(f);if(K===null)throw new Error(f);if(n&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!(Array.isArray(K)||n&&ArrayBuffer.isView(K)))throw new Error(f);Q=!0}var D=0,F=K.length;if(Q)D=F;else for(var I=0;I<K.length;++I){var P=K.charCodeAt(I);P<128?D+=1:P<2048?D+=2:P<55296||P>=57344?D+=3:(P=65536+((1023&P)<<10|1023&K.charCodeAt(++I)),D+=4)}return D+=this.encode(8*D),this.update(K),D},q.prototype.bytepad=function(K,Q){for(var z=this.encode(Q),D=0;D<K.length;++D)z+=this.encodeString(K[D]);var F=Q-z%Q,I=[];return I.length=F,this.update(I),this},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var K=this.blocks,Q=this.lastByteIndex,z=this.blockCount,D=this.s;if(K[Q>>2]|=this.padding[3&Q],this.lastByteIndex===this.byteCount)for(K[0]=K[z],Q=1;Q<z+1;++Q)K[Q]=0;for(K[z-1]|=2147483648,Q=0;Q<z;++Q)D[Q]^=K[Q];G(D)}},q.prototype.toString=q.prototype.hex=function(){this.finalize();for(var K,Q=this.blockCount,z=this.s,D=this.outputBlocks,F=this.extraBytes,I=0,P=0,V="";P<D;){for(I=0;I<Q&&P<D;++I,++P)K=z[I],V+=h[K>>4&15]+h[15&K]+h[K>>12&15]+h[K>>8&15]+h[K>>20&15]+h[K>>16&15]+h[K>>28&15]+h[K>>24&15];P%Q==0&&(G(z),I=0)}return F&&(K=z[I],V+=h[K>>4&15]+h[15&K],F>1&&(V+=h[K>>12&15]+h[K>>8&15]),F>2&&(V+=h[K>>20&15]+h[K>>16&15])),V},q.prototype.arrayBuffer=function(){this.finalize();var K,Q=this.blockCount,z=this.s,D=this.outputBlocks,F=this.extraBytes,I=0,P=0,V=this.outputBits>>3;K=F?new ArrayBuffer(D+1<<2):new ArrayBuffer(V);for(var $=new Uint32Array(K);P<D;){for(I=0;I<Q&&P<D;++I,++P)$[P]=z[I];P%Q==0&&G(z)}return F&&($[I]=z[I],K=K.slice(0,V)),K},q.prototype.buffer=q.prototype.arrayBuffer,q.prototype.digest=q.prototype.array=function(){this.finalize();for(var K,Q,z=this.blockCount,D=this.s,F=this.outputBlocks,I=this.extraBytes,P=0,V=0,$=[];V<F;){for(P=0;P<z&&V<F;++P,++V)K=V<<2,Q=D[P],$[K]=255&Q,$[K+1]=Q>>8&255,$[K+2]=Q>>16&255,$[K+3]=Q>>24&255;V%z==0&&G(D)}return I&&(K=V<<2,Q=D[P],$[K]=255&Q,I>1&&($[K+1]=Q>>8&255),I>2&&($[K+2]=Q>>16&255)),$},H.prototype=new q,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),q.prototype.finalize.call(this)};var G=function(K){var Q,z,D,F,I,P,V,$,W,et,ot,j,Y,X,tt,rt,J,Z,nt,it,st,at,ct,ut,bt,ht,yt,Ct,ft,dt,Kt,Tt,Rt,jt,It,Bt,Vt,pt,lt,Pt,gt,mt,Lt,vt,wt,Ot,Et,St,Dt,_t,kt,Ut,At,Mt,$t,Nt,xt,qt,Ft,zt,Ht,Gt,Yt;for(D=0;D<48;D+=2)F=K[0]^K[10]^K[20]^K[30]^K[40],I=K[1]^K[11]^K[21]^K[31]^K[41],P=K[2]^K[12]^K[22]^K[32]^K[42],V=K[3]^K[13]^K[23]^K[33]^K[43],$=K[4]^K[14]^K[24]^K[34]^K[44],W=K[5]^K[15]^K[25]^K[35]^K[45],et=K[6]^K[16]^K[26]^K[36]^K[46],ot=K[7]^K[17]^K[27]^K[37]^K[47],Q=(j=K[8]^K[18]^K[28]^K[38]^K[48])^(P<<1|V>>>31),z=(Y=K[9]^K[19]^K[29]^K[39]^K[49])^(V<<1|P>>>31),K[0]^=Q,K[1]^=z,K[10]^=Q,K[11]^=z,K[20]^=Q,K[21]^=z,K[30]^=Q,K[31]^=z,K[40]^=Q,K[41]^=z,Q=F^($<<1|W>>>31),z=I^(W<<1|$>>>31),K[2]^=Q,K[3]^=z,K[12]^=Q,K[13]^=z,K[22]^=Q,K[23]^=z,K[32]^=Q,K[33]^=z,K[42]^=Q,K[43]^=z,Q=P^(et<<1|ot>>>31),z=V^(ot<<1|et>>>31),K[4]^=Q,K[5]^=z,K[14]^=Q,K[15]^=z,K[24]^=Q,K[25]^=z,K[34]^=Q,K[35]^=z,K[44]^=Q,K[45]^=z,Q=$^(j<<1|Y>>>31),z=W^(Y<<1|j>>>31),K[6]^=Q,K[7]^=z,K[16]^=Q,K[17]^=z,K[26]^=Q,K[27]^=z,K[36]^=Q,K[37]^=z,K[46]^=Q,K[47]^=z,Q=et^(F<<1|I>>>31),z=ot^(I<<1|F>>>31),K[8]^=Q,K[9]^=z,K[18]^=Q,K[19]^=z,K[28]^=Q,K[29]^=z,K[38]^=Q,K[39]^=z,K[48]^=Q,K[49]^=z,X=K[0],tt=K[1],Ot=K[11]<<4|K[10]>>>28,Et=K[10]<<4|K[11]>>>28,Ct=K[20]<<3|K[21]>>>29,ft=K[21]<<3|K[20]>>>29,zt=K[31]<<9|K[30]>>>23,Ht=K[30]<<9|K[31]>>>23,mt=K[40]<<18|K[41]>>>14,Lt=K[41]<<18|K[40]>>>14,jt=K[2]<<1|K[3]>>>31,It=K[3]<<1|K[2]>>>31,rt=K[13]<<12|K[12]>>>20,J=K[12]<<12|K[13]>>>20,St=K[22]<<10|K[23]>>>22,Dt=K[23]<<10|K[22]>>>22,dt=K[33]<<13|K[32]>>>19,Kt=K[32]<<13|K[33]>>>19,Gt=K[42]<<2|K[43]>>>30,Yt=K[43]<<2|K[42]>>>30,Mt=K[5]<<30|K[4]>>>2,$t=K[4]<<30|K[5]>>>2,Bt=K[14]<<6|K[15]>>>26,Vt=K[15]<<6|K[14]>>>26,Z=K[25]<<11|K[24]>>>21,nt=K[24]<<11|K[25]>>>21,_t=K[34]<<15|K[35]>>>17,kt=K[35]<<15|K[34]>>>17,Tt=K[45]<<29|K[44]>>>3,Rt=K[44]<<29|K[45]>>>3,ut=K[6]<<28|K[7]>>>4,bt=K[7]<<28|K[6]>>>4,Nt=K[17]<<23|K[16]>>>9,xt=K[16]<<23|K[17]>>>9,pt=K[26]<<25|K[27]>>>7,lt=K[27]<<25|K[26]>>>7,it=K[36]<<21|K[37]>>>11,st=K[37]<<21|K[36]>>>11,Ut=K[47]<<24|K[46]>>>8,At=K[46]<<24|K[47]>>>8,vt=K[8]<<27|K[9]>>>5,wt=K[9]<<27|K[8]>>>5,ht=K[18]<<20|K[19]>>>12,yt=K[19]<<20|K[18]>>>12,qt=K[29]<<7|K[28]>>>25,Ft=K[28]<<7|K[29]>>>25,Pt=K[38]<<8|K[39]>>>24,gt=K[39]<<8|K[38]>>>24,at=K[48]<<14|K[49]>>>18,ct=K[49]<<14|K[48]>>>18,K[0]=X^~rt&Z,K[1]=tt^~J&nt,K[10]=ut^~ht&Ct,K[11]=bt^~yt&ft,K[20]=jt^~Bt&pt,K[21]=It^~Vt&lt,K[30]=vt^~Ot&St,K[31]=wt^~Et&Dt,K[40]=Mt^~Nt&qt,K[41]=$t^~xt&Ft,K[2]=rt^~Z&it,K[3]=J^~nt&st,K[12]=ht^~Ct&dt,K[13]=yt^~ft&Kt,K[22]=Bt^~pt&Pt,K[23]=Vt^~lt&gt,K[32]=Ot^~St&_t,K[33]=Et^~Dt&kt,K[42]=Nt^~qt&zt,K[43]=xt^~Ft&Ht,K[4]=Z^~it&at,K[5]=nt^~st&ct,K[14]=Ct^~dt&Tt,K[15]=ft^~Kt&Rt,K[24]=pt^~Pt&mt,K[25]=lt^~gt&Lt,K[34]=St^~_t&Ut,K[35]=Dt^~kt&At,K[44]=qt^~zt&Gt,K[45]=Ft^~Ht&Yt,K[6]=it^~at&X,K[7]=st^~ct&tt,K[16]=dt^~Tt&ut,K[17]=Kt^~Rt&bt,K[26]=Pt^~mt&jt,K[27]=gt^~Lt&It,K[36]=_t^~Ut&vt,K[37]=kt^~At&wt,K[46]=zt^~Gt&Mt,K[47]=Ht^~Yt&$t,K[8]=at^~X&rt,K[9]=ct^~tt&J,K[18]=Tt^~ut&ht,K[19]=Rt^~bt&yt,K[28]=mt^~jt&Bt,K[29]=Lt^~It&Vt,K[38]=Ut^~vt&Ot,K[39]=At^~wt&Et,K[48]=Gt^~Mt&Nt,K[49]=Yt^~$t&xt,K[0]^=l[D],K[1]^=l[D+1]};if(o)N.exports=p;else{for(v=0;v<w.length;++v)t[w[v]]=p[w[v]];e&&((i=function(){return p}.call(x,b,x,N))===void 0||(N.exports=i))}}()}).call(this,b(37),b(44))},function(N,x){(function(b){N.exports=b}).call(this,{})},function(N,x,b){N.exports=b(345)},function(N,x,b){!function(s,r){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function f(l){if(!Array.isArray(l)&&!ArrayBuffer.isView(l))return!1;for(var m=0;m<l.length;m++)if(!Number.isInteger(l[m])||l[m]<0||l[m]>255)return!1;return!0}function c(l,m){return(65535&l)*m+(((l>>>16)*m&65535)<<16)}function t(l,m){return l<<m|l>>>32-m}function a(l){return l=c(l^=l>>>16,2246822507),l=c(l^=l>>>13,3266489909),l^=l>>>16}function o(l,m){l=[l[0]>>>16,65535&l[0],l[1]>>>16,65535&l[1]],m=[m[0]>>>16,65535&m[0],m[1]>>>16,65535&m[1]];var A=[0,0,0,0];return A[3]+=l[3]+m[3],A[2]+=A[3]>>>16,A[3]&=65535,A[2]+=l[2]+m[2],A[1]+=A[2]>>>16,A[2]&=65535,A[1]+=l[1]+m[1],A[0]+=A[1]>>>16,A[1]&=65535,A[0]+=l[0]+m[0],A[0]&=65535,[A[0]<<16|A[1],A[2]<<16|A[3]]}function e(l,m){l=[l[0]>>>16,65535&l[0],l[1]>>>16,65535&l[1]],m=[m[0]>>>16,65535&m[0],m[1]>>>16,65535&m[1]];var A=[0,0,0,0];return A[3]+=l[3]*m[3],A[2]+=A[3]>>>16,A[3]&=65535,A[2]+=l[2]*m[3],A[1]+=A[2]>>>16,A[2]&=65535,A[2]+=l[3]*m[2],A[1]+=A[2]>>>16,A[2]&=65535,A[1]+=l[1]*m[3],A[0]+=A[1]>>>16,A[1]&=65535,A[1]+=l[2]*m[2],A[0]+=A[1]>>>16,A[1]&=65535,A[1]+=l[3]*m[1],A[0]+=A[1]>>>16,A[1]&=65535,A[0]+=l[0]*m[3]+l[1]*m[2]+l[2]*m[1]+l[3]*m[0],A[0]&=65535,[A[0]<<16|A[1],A[2]<<16|A[3]]}function n(l,m){return(m%=64)===32?[l[1],l[0]]:m<32?[l[0]<<m|l[1]>>>32-m,l[1]<<m|l[0]>>>32-m]:(m-=32,[l[1]<<m|l[0]>>>32-m,l[0]<<m|l[1]>>>32-m])}function h(l,m){return(m%=64)===0?l:m<32?[l[0]<<m|l[1]>>>32-m,l[1]<<m]:[l[1]<<m-32,0]}function u(l,m){return[l[0]^m[0],l[1]^m[1]]}function d(l){return l=u(l,[0,l[0]>>>1]),l=u(l=e(l,[4283543511,3981806797]),[0,l[0]>>>1]),l=u(l=e(l,[3301882366,444984403]),[0,l[0]>>>1])}i.x86.hash32=function(l,m){if(!i.inputValidation||f(l)){m=m||0;for(var A=l.length%4,B=l.length-A,k=m,T=0,g=3432918353,E=461845907,R=0;R<B;R+=4)T=c(T=l[R]|l[R+1]<<8|l[R+2]<<16|l[R+3]<<24,g),T=c(T=t(T,15),E),k=c(k=t(k^=T,13),5)+3864292196;switch(T=0,A){case 3:T^=l[R+2]<<16;case 2:T^=l[R+1]<<8;case 1:T=c(T^=l[R],g),k^=T=c(T=t(T,15),E)}return(k=a(k^=l.length))>>>0}},i.x86.hash128=function(l,m){if(!i.inputValidation||f(l)){m=m||0;for(var A=l.length%16,B=l.length-A,k=m,T=m,g=m,E=m,R=0,S=0,M=0,y=0,p=597399067,w=2869860233,v=951274213,_=2716044179,C=0;C<B;C+=16)R=l[C]|l[C+1]<<8|l[C+2]<<16|l[C+3]<<24,S=l[C+4]|l[C+5]<<8|l[C+6]<<16|l[C+7]<<24,M=l[C+8]|l[C+9]<<8|l[C+10]<<16|l[C+11]<<24,y=l[C+12]|l[C+13]<<8|l[C+14]<<16|l[C+15]<<24,R=t(R=c(R,p),15),k=t(k^=R=c(R,w),19),k=c(k+=T,5)+1444728091,S=t(S=c(S,w),16),T=t(T^=S=c(S,v),17),T=c(T+=g,5)+197830471,M=t(M=c(M,v),17),g=t(g^=M=c(M,_),15),g=c(g+=E,5)+2530024501,y=t(y=c(y,_),18),E=t(E^=y=c(y,p),13),E=c(E+=k,5)+850148119;switch(R=0,S=0,M=0,y=0,A){case 15:y^=l[C+14]<<16;case 14:y^=l[C+13]<<8;case 13:y=c(y^=l[C+12],_),E^=y=c(y=t(y,18),p);case 12:M^=l[C+11]<<24;case 11:M^=l[C+10]<<16;case 10:M^=l[C+9]<<8;case 9:M=c(M^=l[C+8],v),g^=M=c(M=t(M,17),_);case 8:S^=l[C+7]<<24;case 7:S^=l[C+6]<<16;case 6:S^=l[C+5]<<8;case 5:S=c(S^=l[C+4],w),T^=S=c(S=t(S,16),v);case 4:R^=l[C+3]<<24;case 3:R^=l[C+2]<<16;case 2:R^=l[C+1]<<8;case 1:R=c(R^=l[C],p),k^=R=c(R=t(R,15),w)}return k^=l.length,k+=T^=l.length,k+=g^=l.length,T+=k+=E^=l.length,g+=k,E+=k,k=a(k),k+=T=a(T),k+=g=a(g),T+=k+=E=a(E),g+=k,E+=k,("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(T>>>0).toString(16)).slice(-8)+("00000000"+(g>>>0).toString(16)).slice(-8)+("00000000"+(E>>>0).toString(16)).slice(-8)}},i.x64.hash128=function(l,m){if(!i.inputValidation||f(l)){m=m||0;for(var A=l.length%16,B=l.length-A,k=[0,m],T=[0,m],g=[0,0],E=[0,0],R=[2277735313,289559509],S=[1291169091,658871167],M=0;M<B;M+=16)g=[l[M+4]|l[M+5]<<8|l[M+6]<<16|l[M+7]<<24,l[M]|l[M+1]<<8|l[M+2]<<16|l[M+3]<<24],E=[l[M+12]|l[M+13]<<8|l[M+14]<<16|l[M+15]<<24,l[M+8]|l[M+9]<<8|l[M+10]<<16|l[M+11]<<24],g=n(g=e(g,R),31),k=o(k=n(k=u(k,g=e(g,S)),27),T),k=o(e(k,[0,5]),[0,1390208809]),E=n(E=e(E,S),33),T=o(T=n(T=u(T,E=e(E,R)),31),k),T=o(e(T,[0,5]),[0,944331445]);switch(g=[0,0],E=[0,0],A){case 15:E=u(E,h([0,l[M+14]],48));case 14:E=u(E,h([0,l[M+13]],40));case 13:E=u(E,h([0,l[M+12]],32));case 12:E=u(E,h([0,l[M+11]],24));case 11:E=u(E,h([0,l[M+10]],16));case 10:E=u(E,h([0,l[M+9]],8));case 9:E=e(E=u(E,[0,l[M+8]]),S),T=u(T,E=e(E=n(E,33),R));case 8:g=u(g,h([0,l[M+7]],56));case 7:g=u(g,h([0,l[M+6]],48));case 6:g=u(g,h([0,l[M+5]],40));case 5:g=u(g,h([0,l[M+4]],32));case 4:g=u(g,h([0,l[M+3]],24));case 3:g=u(g,h([0,l[M+2]],16));case 2:g=u(g,h([0,l[M+1]],8));case 1:g=e(g=u(g,[0,l[M]]),R),k=u(k,g=e(g=n(g,31),S))}return k=o(k=u(k,[0,l.length]),T=u(T,[0,l.length])),T=o(T,k),k=o(k=d(k),T=d(T)),T=o(T,k),("00000000"+(k[0]>>>0).toString(16)).slice(-8)+("00000000"+(k[1]>>>0).toString(16)).slice(-8)+("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)}},N.exports&&(x=N.exports=i),x.murmurHash3=i}()},function(N,x,b){N.exports={fromNumberTo32BitBuf:s=>{const r=new Uint8Array(4);for(let i=0;i<4;i++)r[i]=255&s,s>>=8;return r}}},function(N,x,b){const s=b(348),r={init:s.blake2bInit,update:s.blake2bUpdate,digest:s.blake2bFinal},i={init:s.blake2sInit,update:s.blake2sUpdate,digest:s.blake2sFinal},f=(c,t)=>async a=>{const o=t.init(c,null);return t.update(o,a),t.digest(o)};N.exports=c=>{for(let t=0;t<64;t++)c[45569+t]=f(t+1,r);for(let t=0;t<32;t++)c[45633+t]=f(t+1,i)}},function(N,x,b){var s=b(349),r=b(350);N.exports={blake2b:s.blake2b,blake2bHex:s.blake2bHex,blake2bInit:s.blake2bInit,blake2bUpdate:s.blake2bUpdate,blake2bFinal:s.blake2bFinal,blake2s:r.blake2s,blake2sHex:r.blake2sHex,blake2sInit:r.blake2sInit,blake2sUpdate:r.blake2sUpdate,blake2sFinal:r.blake2sFinal}},function(N,x,b){var s=b(153);function r(m,A,B){var k=m[A]+m[B],T=m[A+1]+m[B+1];k>=4294967296&&T++,m[A]=k,m[A+1]=T}function i(m,A,B,k){var T=m[A]+B;B<0&&(T+=4294967296);var g=m[A+1]+k;T>=4294967296&&g++,m[A]=T,m[A+1]=g}function f(m,A){return m[A]^m[A+1]<<8^m[A+2]<<16^m[A+3]<<24}function c(m,A,B,k,T,g){var E=e[T],R=e[T+1],S=e[g],M=e[g+1];r(o,m,A),i(o,m,E,R);var y=o[k]^o[m],p=o[k+1]^o[m+1];o[k]=p,o[k+1]=y,r(o,B,k),y=o[A]^o[B],p=o[A+1]^o[B+1],o[A]=y>>>24^p<<8,o[A+1]=p>>>24^y<<8,r(o,m,A),i(o,m,S,M),y=o[k]^o[m],p=o[k+1]^o[m+1],o[k]=y>>>16^p<<16,o[k+1]=p>>>16^y<<16,r(o,B,k),y=o[A]^o[B],p=o[A+1]^o[B+1],o[A]=p>>>31^y<<1,o[A+1]=y>>>31^p<<1}var t=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(m){return 2*m})),o=new Uint32Array(32),e=new Uint32Array(32);function n(m,A){var B=0;for(B=0;B<16;B++)o[B]=m.h[B],o[B+16]=t[B];for(o[24]=o[24]^m.t,o[25]=o[25]^m.t/4294967296,A&&(o[28]=~o[28],o[29]=~o[29]),B=0;B<32;B++)e[B]=f(m.b,4*B);for(B=0;B<12;B++)c(0,8,16,24,a[16*B+0],a[16*B+1]),c(2,10,18,26,a[16*B+2],a[16*B+3]),c(4,12,20,28,a[16*B+4],a[16*B+5]),c(6,14,22,30,a[16*B+6],a[16*B+7]),c(0,10,20,30,a[16*B+8],a[16*B+9]),c(2,12,22,24,a[16*B+10],a[16*B+11]),c(4,14,16,26,a[16*B+12],a[16*B+13]),c(6,8,18,28,a[16*B+14],a[16*B+15]);for(B=0;B<16;B++)m.h[B]=m.h[B]^o[B]^o[B+16]}function h(m,A){if(m===0||m>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(A&&A.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var B={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:m},k=0;k<16;k++)B.h[k]=t[k];var T=A?A.length:0;return B.h[0]^=16842752^T<<8^m,A&&(u(B,A),B.c=128),B}function u(m,A){for(var B=0;B<A.length;B++)m.c===128&&(m.t+=m.c,n(m,!1),m.c=0),m.b[m.c++]=A[B]}function d(m){for(m.t+=m.c;m.c<128;)m.b[m.c++]=0;n(m,!0);for(var A=new Uint8Array(m.outlen),B=0;B<m.outlen;B++)A[B]=m.h[B>>2]>>8*(3&B);return A}function l(m,A,B){B=B||64,m=s.normalizeInput(m);var k=h(B,A);return u(k,m),d(k)}N.exports={blake2b:l,blake2bHex:function(m,A,B){var k=l(m,A,B);return s.toHex(k)},blake2bInit:h,blake2bUpdate:u,blake2bFinal:d}},function(N,x,b){var s=b(153);function r(l,m){return l[m]^l[m+1]<<8^l[m+2]<<16^l[m+3]<<24}function i(l,m,A,B,k,T){a[l]=a[l]+a[m]+k,a[B]=f(a[B]^a[l],16),a[A]=a[A]+a[B],a[m]=f(a[m]^a[A],12),a[l]=a[l]+a[m]+T,a[B]=f(a[B]^a[l],8),a[A]=a[A]+a[B],a[m]=f(a[m]^a[A],7)}function f(l,m){return l>>>m^l<<32-m}var c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),o=new Uint32Array(16);function e(l,m){var A=0;for(A=0;A<8;A++)a[A]=l.h[A],a[A+8]=c[A];for(a[12]^=l.t,a[13]^=l.t/4294967296,m&&(a[14]=~a[14]),A=0;A<16;A++)o[A]=r(l.b,4*A);for(A=0;A<10;A++)i(0,4,8,12,o[t[16*A+0]],o[t[16*A+1]]),i(1,5,9,13,o[t[16*A+2]],o[t[16*A+3]]),i(2,6,10,14,o[t[16*A+4]],o[t[16*A+5]]),i(3,7,11,15,o[t[16*A+6]],o[t[16*A+7]]),i(0,5,10,15,o[t[16*A+8]],o[t[16*A+9]]),i(1,6,11,12,o[t[16*A+10]],o[t[16*A+11]]),i(2,7,8,13,o[t[16*A+12]],o[t[16*A+13]]),i(3,4,9,14,o[t[16*A+14]],o[t[16*A+15]]);for(A=0;A<8;A++)l.h[A]^=a[A]^a[A+8]}function n(l,m){if(!(l>0&&l<=32))throw new Error("Incorrect output length, should be in [1, 32]");var A=m?m.length:0;if(m&&!(A>0&&A<=32))throw new Error("Incorrect key length, should be in [1, 32]");var B={h:new Uint32Array(c),b:new Uint32Array(64),c:0,t:0,outlen:l};return B.h[0]^=16842752^A<<8^l,A>0&&(h(B,m),B.c=64),B}function h(l,m){for(var A=0;A<m.length;A++)l.c===64&&(l.t+=l.c,e(l,!1),l.c=0),l.b[l.c++]=m[A]}function u(l){for(l.t+=l.c;l.c<64;)l.b[l.c++]=0;e(l,!0);for(var m=new Uint8Array(l.outlen),A=0;A<l.outlen;A++)m[A]=l.h[A>>2]>>8*(3&A)&255;return m}function d(l,m,A){A=A||32,l=s.normalizeInput(l);var B=n(A,m);return h(B,l),u(B)}N.exports={blake2s:d,blake2sHex:function(l,m,A){var B=d(l,m,A);return s.toHex(B)},blake2sInit:n,blake2sUpdate:h,blake2sFinal:u}},function(N,x,b){N.exports=b(55).TextEncoder},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:dialer"),{error:s("libp2p:dialer:err")}),i=b(1),f=b(14),c=b(353),t=b(155),a=b(355),{publicAddressesFirst:o}=b(142),e=b(135),{codes:n}=b(10),{DIAL_TIMEOUT:h,MAX_PARALLEL_DIALS:u,MAX_PER_PEER_DIALS:d}=b(91);N.exports=class{constructor({transportManager:l,peerStore:m,addressSorter:A=o,concurrency:B=u,timeout:k=h,perPeerLimit:T=d,resolvers:g={}}){this.transportManager=l,this.peerStore=m,this.addressSorter=A,this.concurrency=B,this.timeout=k,this.perPeerLimit=T,this.tokens=[...new Array(B)].map((E,R)=>R),this._pendingDials=new Map;for(const[E,R]of Object.entries(g))f.resolvers.set(E,R)}destroy(){for(const l of this._pendingDials.values())try{l.controller.abort()}catch(m){r.error(m)}this._pendingDials.clear()}async connectToPeer(l,m={}){const A=await this._createDialTarget(l);if(!A.addrs.length)throw i(new Error("The dial request has no addresses"),n.ERR_NO_VALID_ADDRESSES);const B=this._pendingDials.get(A.id)||this._createPendingDial(A,m);try{const k=await B.promise;return r("dial succeeded to %s",A.id),k}catch(k){throw B.controller.signal.aborted&&(k.code=n.ERR_TIMEOUT),r.error(k),k}finally{B.destroy()}}async _createDialTarget(l){const{id:m,multiaddrs:A}=e(l);A&&this.peerStore.addressBook.add(m,A);let B=this.peerStore.addressBook.getMultiaddrsForPeer(m,this.addressSorter)||[];f.isMultiaddr(l)&&(B=B.filter(T=>!l.equals(T)),B.unshift(l));const k=[];for(const T of B)(await this._resolve(T)).forEach(g=>k.push(g));return{id:m.toB58String(),addrs:k}}_createPendingDial(l,m={}){const A=new a({addrs:l.addrs,dialAction:(E,R)=>{if(R.signal.aborted)throw i(new Error("already aborted"),n.ERR_ALREADY_ABORTED);return this.transportManager.dial(E,R)},dialer:this}),B=new c(this.timeout),k=[B.signal];m.signal&&k.push(m.signal);const T=t(k),g={dialRequest:A,controller:B,promise:A.run({...m,signal:T}),destroy:()=>{B.clear(),this._pendingDials.delete(l.id)}};return this._pendingDials.set(l.id,g),g}getTokens(l){const m=Math.min(l,this.perPeerLimit,this.tokens.length),A=this.tokens.splice(0,m);return r("%d tokens request, returning %d, %d remaining",l,m,this.tokens.length),A}releaseToken(l){this.tokens.indexOf(l)>-1||(r("token %d released",l),this.tokens.push(l))}async _resolve(l){if(!l.protoNames().includes("dnsaddr"))return[l];const m=await this._resolveRecord(l);return(await Promise.all(m.map(A=>this._resolve(A)))).flat().reduce((A,B)=>(A.find(k=>k.equals(B))||A.push(B),A),[])}async _resolveRecord(l){try{return l=f(l.toString()),await l.resolve()}catch(m){return r.error(`multiaddr ${l} could not be resolved`),[]}}}},function(N,x,b){const{AbortController:s}=typeof self!="undefined"?self:typeof window!="undefined"?window:b(154),r=b(95);class i extends s{constructor(f){super(),this._ms=f,this._timer=r(()=>this.abort(),f),Object.setPrototypeOf(this,i.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=r(()=>this.abort(),this._ms)}}N.exports=i,N.exports.TimeoutController=i},function(N,x,b){N.exports=AbortController},function(N,x,b){const s=b(1),r=b(154).default,i=b(155),f=b(356),c=b(90);N.exports=class{constructor({addrs:t,dialAction:a,dialer:o}){this.addrs=t,this.dialer=o,this.dialAction=a}async run(t={}){const a=this.dialer.getTokens(this.addrs.length);if(a.length<1)throw s(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");const o=new f;a.forEach(h=>o.push(h));const e=this.addrs.map(()=>new r);let n=0;try{return await c(this.addrs.map(async(h,u)=>{const d=await o.shift();let l;try{const m=e[u].signal;l=await this.dialAction(h,{...t,signal:i([m,t.signal])}),e.splice(u,1)}finally{n++,this.addrs.length-n>=a.length?o.push(d):this.dialer.releaseToken(a.splice(a.indexOf(d),1)[0])}return l}))}finally{e.map(h=>h.abort()),a.forEach(h=>this.dialer.releaseToken(h))}}}},function(N,x,b){const s=b(149),r=b(150);N.exports=class{constructor(){this._buffer=new s,this._waitingConsumers=new s}push(i){const{promise:f,resolve:c}=r();return this._buffer.push({chunk:i,resolve:c}),this._consume(),f}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){const i=this._waitingConsumers.shift(),f=this._buffer.shift();i.resolve(f.chunk),f.resolve()}}shift(){const{promise:i,resolve:f}=r();return this._waitingConsumers.push({resolve:f}),this._consume(),i}isEmpty(){return this._buffer.isEmpty()}}},function(N,x,b){const s=b(358),r=b(63),i=b(156),f=b(157),c=b(371),t=b(1),{Number:a}=b(55),o=b(6),e=b(7);b(83);const n=new WeakMap,h=14,u=16,d=1e3,l={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function m(T){return!!T&&typeof T=="string"&&T===s(T.trim())}async function A(T){const g=800*Math.random()+200;throw await new Promise(E=>setTimeout(E,g)),T}function B(T){return new f.Key("/pkcs8/"+T)}function k(T){return new f.Key("/info/"+T)}N.exports=class{constructor(T,g){if(!T)throw new Error("store is required");if(this.store=T,this.opts=r(l,g),this.opts.passPhrase&&this.opts.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(this.opts.dek.keyLength<h)throw new Error(`dek.keyLength must be least ${h} bytes`);if(this.opts.dek.salt.length<u)throw new Error(`dek.saltLength must be least ${u} bytes`);if(this.opts.dek.iterationCount<d)throw new Error("dek.iterationCount must be least "+d);const E=this.opts.passPhrase?i.pbkdf2(this.opts.passPhrase,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";n.set(this,{dek:E})}get cms(){return new c(this,n.get(this).dek)}static generateOptions(){const T=Object.assign({},l),g=3*Math.ceil(u/3);return T.dek.salt=o(i.randomBytes(g),"base64"),T}static get options(){return l}async createKey(T,g,E=2048){const R=this;if(!m(T)||T==="self")return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));if(typeof g!="string")return A(t(new Error(`Invalid key type '${g}'`),"ERR_INVALID_KEY_TYPE"));const S=B(T);if(await R.store.has(S))return A(t(new Error(`Key '${T}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(g.toLowerCase()){case"rsa":if(!a.isSafeInteger(E)||E<2048)return A(t(new Error("Invalid RSA key size "+E),"ERR_INVALID_KEY_SIZE"))}let M;try{const y=await i.keys.generateKeyPair(g,E),p=await y.id(),w=n.get(this).dek,v=await y.export(w);M={name:T,id:p};const _=R.store.batch();_.put(S,e(v)),_.put(k(T),e(JSON.stringify(M))),await _.commit()}catch(y){return A(y)}return M}async listKeys(){const T=this,g={prefix:"/info/"},E=[];for await(const R of T.store.query(g))E.push(JSON.parse(o(R.value)));return E}async findKeyById(T){try{return(await this.listKeys()).find(g=>g.id===T)}catch(g){return A(g)}}async findKeyByName(T){if(!m(T))return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));const g=k(T);try{const E=await this.store.get(g);return JSON.parse(o(E))}catch(E){return A(t(new Error(`Key '${T}' does not exist. ${E.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(T){if(!m(T)||T==="self")return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));const g=B(T),E=await this.findKeyByName(T),R=this.store.batch();return R.delete(g),R.delete(k(T)),await R.commit(),E}async renameKey(T,g){const E=this;if(!m(T)||T==="self")return A(t(new Error(`Invalid old key name '${T}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!m(g)||g==="self")return A(t(new Error(`Invalid new key name '${g}'`),"ERR_NEW_KEY_NAME_INVALID"));const R=B(T),S=B(g),M=k(T),y=k(g);if(await E.store.has(S))return A(t(new Error(`Key '${g}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const p=await E.store.get(R),w=await E.store.get(M),v=JSON.parse(o(w));v.name=g;const _=E.store.batch();return _.put(S,p),_.put(y,e(JSON.stringify(v))),_.delete(R),_.delete(M),await _.commit(),v}catch(p){return A(p)}}async exportKey(T,g){if(!m(T))return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));if(!g)return A(t(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const E=B(T);try{const R=await this.store.get(E),S=o(R),M=n.get(this).dek;return(await i.keys.import(S,M)).export(g)}catch(R){return A(R)}}async importKey(T,g,E){if(!m(T)||T==="self")return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));if(!g)return A(t(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));const R=B(T);if(await this.store.has(R))return A(t(new Error(`Key '${T}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let S,M;try{S=await i.keys.import(g,E)}catch(w){return A(t(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}try{M=await S.id();const w=n.get(this).dek;g=await S.export(w)}catch(w){return A(w)}const y={name:T,id:M},p=this.store.batch();return p.put(R,e(g)),p.put(k(T),e(JSON.stringify(y))),await p.commit(),y}async importPeer(T,g){const E=this;if(!m(T))return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));if(!g||!g.privKey)return A(t(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const R=g.privKey,S=B(T);if(await E.store.has(S))return A(t(new Error(`Key '${T}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const M=await R.id(),y=n.get(this).dek,p=await R.export(y),w={name:T,id:M},v=E.store.batch();return v.put(S,e(p)),v.put(k(T),e(JSON.stringify(w))),await v.commit(),w}catch(M){return A(M)}}async _getPrivateKey(T){if(!m(T))return A(t(new Error(`Invalid key name '${T}'`),"ERR_INVALID_KEY_NAME"));try{const g=B(T),E=await this.store.get(g);return o(E)}catch(g){return A(t(new Error(`Key '${T}' does not exist. ${g.message}`),"ERR_KEY_NOT_FOUND"))}}}},function(N,x,b){var s=b(359),r=/[\/\?<>\\:\*\|"]/g,i=/[\x00-\x1f\x80-\x9f]/g,f=/^\.+$/,c=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,t=/[\. ]+$/;function a(o,e){if(typeof o!="string")throw new Error("Input must be string");var n=o.replace(r,e).replace(i,e).replace(f,e).replace(c,e).replace(t,e);return s(n,255)}N.exports=function(o,e){var n=e&&e.replacement||"",h=a(o,n);return n===""?h:a(h,"")}},function(N,x,b){var s=b(360),r=b(361);N.exports=s.bind(null,r)},function(N,x,b){function s(i){return i>=55296&&i<=56319}function r(i){return i>=56320&&i<=57343}N.exports=function(i,f,c){if(typeof f!="string")throw new Error("Input must be string");for(var t,a,o=f.length,e=0,n=0;n<o;n+=1){if(t=f.charCodeAt(n),a=f[n],s(t)&&r(f.charCodeAt(n+1))&&(a+=f[n+=1]),(e+=i(a))===c)return f.slice(0,n+1);if(e>c)return f.slice(0,n-a.length+1)}return f}},function(N,x,b){function s(i){return i>=55296&&i<=56319}function r(i){return i>=56320&&i<=57343}N.exports=function(i){if(typeof i!="string")throw new Error("Input must be string");for(var f=i.length,c=0,t=null,a=null,o=0;o<f;o++)r(t=i.charCodeAt(o))?a!=null&&s(a)?c+=1:c+=3:t<=127?c+=1:t>=128&&t<=2047?c+=2:t>=2048&&t<=65535&&(c+=3),a=t;return c}},function(N,x,b){const s=b(363),r=b(364);x.create=async function(i,f){const c=r(i),t=s.createCipheriv(c,i,f),a=s.createDecipheriv(c,i,f);return{encrypt:async o=>t.update(o),decrypt:async o=>a.update(o)}}},function(N,x,b){b(46);const s=b(0),r=b(6),i=b(7);N.exports={createCipheriv:(f,c,t)=>{const a=s.cipher.createCipher("AES-CTR",r(c,"ascii"));return a.start({iv:r(t,"ascii")}),{update:o=>(a.update(s.util.createBuffer(r(o,"ascii"))),i(a.output.getBytes(),"ascii"))}},createDecipheriv:(f,c,t)=>{const a=s.cipher.createDecipher("AES-CTR",r(c,"ascii"));return a.start({iv:r(t,"ascii")}),{update:o=>(a.update(s.util.createBuffer(r(o,"ascii"))),i(a.output.getBytes(),"ascii"))}}}},function(N,x,b){const s=b(1),r={16:"aes-128-ctr",32:"aes-256-ctr"};N.exports=function(i){const f=r[i.length];if(!f){const c=Object.entries(r).map(([t,a])=>`${t} (${a})`).join(" / ");throw s(new Error(`Invalid key length ${i.length} bytes. Must be ${c}`),"ERR_INVALID_KEY_LENGTH")}return f}},function(N,x,b){const s=b(121),r=b(4),i=b(1),f={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};N.exports=function(c,t,a,o,e){const n=f[e];if(!n){const u=Object.keys(f).join(" / ");throw i(new Error(`Hash '${e}' is unknown or not supported. Must be ${u}`),"ERR_UNSUPPORTED_HASH_TYPE")}const h=s(c,t,a,o,n);return r.encode64(h)}},function(N,x,b){Object.defineProperty(x,"__esModule",{value:!0}),x.urlAlphabet=void 0,x.urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"},function(N,x,b){const{nanoid:s}=b(159);N.exports=(r=i=>i)=>r(s())},function(N,x,b){N.exports=b(160).TextEncoder},function(N,x,b){const s=b(158),r=b(162),i=b(163);N.exports=class extends r{constructor(){super(),this.data={}}async put(f,c){this.data[f.toString()]=c}async get(f){if(!await this.has(f))throw i.notFoundError();return this.data[f.toString()]}async has(f){return this.data[f.toString()]!==void 0}async delete(f){delete this.data[f.toString()]}*_all(){yield*Object.entries(this.data).map(([f,c])=>({key:new s(f),value:c}))}}},function(N,x,b){N.exports=async s=>{for await(const r of s);}},function(N,x,b){b(372),b(118);const s=b(0),{certificateForKey:r,findAsync:i}=b(377),f=b(1),c=b(7),t=b(6),a=new WeakMap;N.exports=class{constructor(o,e){if(!o)throw f(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=o,a.set(this,{dek:e})}async encrypt(o,e){if(!(e instanceof Uint8Array))throw f(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");const n=await this.keychain.findKeyByName(o),h=await this.keychain._getPrivateKey(o),u=a.get(this).dek,d=s.pki.decryptRsaPrivateKey(h,u),l=await r(n,d),m=s.pkcs7.createEnvelopedData();m.addRecipient(l),m.content=s.util.createBuffer(e),m.encrypt();const A=s.asn1.toDer(m.toAsn1()).getBytes();return c(A,"ascii")}async decrypt(o){if(!(o instanceof Uint8Array))throw f(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let e;try{const A=s.util.createBuffer(t(o,"ascii")),B=s.asn1.fromDer(A);e=s.pkcs7.messageFromAsn1(B)}catch(A){throw f(new Error("Invalid CMS: "+A.message),"ERR_INVALID_CMS")}const n=e.recipients.filter(A=>A.issuer.find(B=>B.shortName==="O"&&B.value==="ipfs")).filter(A=>A.issuer.find(B=>B.shortName==="CN")).map(A=>({recipient:A,keyId:A.issuer.find(B=>B.shortName==="CN").value})),h=await i(n,async A=>{try{if(await this.keychain.findKeyById(A.keyId))return!0}catch(B){return!1}return!1});if(!h){const A=n.map(B=>B.keyId);throw f(new Error("Decryption needs one of the key(s): "+A.join(", ")),"ERR_MISSING_KEYS",{missingKeys:A})}const u=await this.keychain.findKeyById(h.keyId);if(!u)throw f(new Error("No key available to decrypto"),"ERR_NO_KEY");const d=await this.keychain._getPrivateKey(u.name),l=a.get(this).dek,m=s.pki.decryptRsaPrivateKey(d,l);return e.decrypt(h.recipient,m),c(e.content.getBytes(),"ascii")}}},function(N,x,b){var s=b(0);b(46),b(29),b(80),b(45),b(82),b(373),b(32),b(4),b(164);var r=s.asn1,i=N.exports=s.pkcs7=s.pkcs7||{};function f(n){var h={},u=[];if(!r.validate(n,i.asn1.recipientInfoValidator,h,u)){var d=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw d.errors=u,d}return{version:h.version.charCodeAt(0),issuer:s.pki.RDNAttributesAsArray(h.issuer),serialNumber:s.util.createBuffer(h.serial).toHex(),encryptedContent:{algorithm:r.derToOid(h.encAlgorithm),parameter:h.encParameter.value,content:h.encKey}}}function c(n){for(var h,u=[],d=0;d<n.length;++d)u.push((h=n[d],r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[s.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.encryptedContent.content)])));return u}function t(n){var h=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[s.pki.distinguishedNameToAsn1({attributes:n.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.util.hexToBytes(n.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(n.authenticatedAttributesAsn1&&h.value.push(n.authenticatedAttributesAsn1),h.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),h.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n.signature)),n.unauthenticatedAttributes.length>0){for(var u=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),d=0;d<n.unauthenticatedAttributes.length;++d){var l=n.unauthenticatedAttributes[d];u.values.push(a(l))}h.value.push(u)}return h}function a(n){var h;if(n.type===s.pki.oids.contentType)h=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.value).getBytes());else if(n.type===s.pki.oids.messageDigest)h=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,n.value.bytes());else if(n.type===s.pki.oids.signingTime){var u=new Date("1950-01-01T00:00:00Z"),d=new Date("2050-01-01T00:00:00Z"),l=n.value;if(typeof l=="string"){var m=Date.parse(l);l=isNaN(m)?l.length===13?r.utcTimeToDate(l):r.generalizedTimeToDate(l):new Date(m)}h=l>=u&&l<d?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(l)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(l))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[h])])}function o(n,h,u){var d={};if(!r.validate(h,u,d,[])){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}if(r.derToOid(d.contentType)!==s.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(d.encryptedContent){var m="";if(s.util.isArray(d.encryptedContent))for(var A=0;A<d.encryptedContent.length;++A){if(d.encryptedContent[A].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");m+=d.encryptedContent[A].value}else m=d.encryptedContent;n.encryptedContent={algorithm:r.derToOid(d.encAlgorithm),parameter:s.util.createBuffer(d.encParameter.value),content:s.util.createBuffer(m)}}if(d.content){if(m="",s.util.isArray(d.content))for(A=0;A<d.content.length;++A){if(d.content[A].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");m+=d.content[A].value}else m=d.content;n.content=s.util.createBuffer(m)}return n.version=d.version.charCodeAt(0),n.rawCapture=d,d}function e(n){if(n.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(n.content===void 0){var h;switch(n.encryptedContent.algorithm){case s.pki.oids["aes128-CBC"]:case s.pki.oids["aes192-CBC"]:case s.pki.oids["aes256-CBC"]:h=s.aes.createDecryptionCipher(n.encryptedContent.key);break;case s.pki.oids.desCBC:case s.pki.oids["des-EDE3-CBC"]:h=s.des.createDecryptionCipher(n.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+n.encryptedContent.algorithm)}if(h.start(n.encryptedContent.parameter),h.update(n.encryptedContent.content),!h.finish())throw new Error("Symmetric decryption failed.");n.content=h.output}}i.messageFromPem=function(n){var h=s.pem.decode(n)[0];if(h.type!=="PKCS7"){var u=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw u.headerType=h.type,u}if(h.procType&&h.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var d=r.fromDer(h.body);return i.messageFromAsn1(d)},i.messageToPem=function(n,h){var u={type:"PKCS7",body:r.toDer(n.toAsn1()).getBytes()};return s.pem.encode(u,{maxline:h})},i.messageFromAsn1=function(n){var h={},u=[];if(!r.validate(n,i.asn1.contentInfoValidator,h,u)){var d=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw d.errors=u,d}var l,m=r.derToOid(h.contentType);switch(m){case s.pki.oids.envelopedData:l=i.createEnvelopedData();break;case s.pki.oids.encryptedData:l=i.createEncryptedData();break;case s.pki.oids.signedData:l=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+m+" is not (yet) supported.")}return l.fromAsn1(h.content.value[0]),l},i.createSignedData=function(){var n=null;return n={type:s.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(h){if(o(n,h,i.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[],n.rawCapture.certificates)for(var u=n.rawCapture.certificates.value,d=0;d<u.length;++d)n.certificates.push(s.pki.certificateFromAsn1(u[d]))},toAsn1:function(){n.contentInfo||n.sign();for(var h=[],u=0;u<n.certificates.length;++u)h.push(s.pki.certificateToAsn1(n.certificates[u]));var d=[],l=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return h.length>0&&l.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,h)),d.length>0&&l.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,d)),l.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,n.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),l])},addSigner:function(h){var u=h.issuer,d=h.serialNumber;if(h.certificate){var l=h.certificate;typeof l=="string"&&(l=s.pki.certificateFromPem(l)),u=l.issuer.attributes,d=l.serialNumber}var m=h.key;if(!m)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof m=="string"&&(m=s.pki.privateKeyFromPem(m));var A=h.digestAlgorithm||s.pki.oids.sha1;switch(A){case s.pki.oids.sha1:case s.pki.oids.sha256:case s.pki.oids.sha384:case s.pki.oids.sha512:case s.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+A)}var B=h.authenticatedAttributes||[];if(B.length>0){for(var k=!1,T=!1,g=0;g<B.length;++g){var E=B[g];if(k||E.type!==s.pki.oids.contentType){if(!(T||E.type!==s.pki.oids.messageDigest)){if(T=!0,k)break}}else if(k=!0,T)break}if(!k||!T)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:m,version:1,issuer:u,serialNumber:d,digestAlgorithm:A,signatureAlgorithm:s.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:B,unauthenticatedAttributes:[]})},sign:function(h){var u;(h=h||{},typeof n.content!="object"||n.contentInfo===null)&&(n.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pki.oids.data).getBytes())]),"content"in n&&(n.content instanceof s.util.ByteBuffer?u=n.content.bytes():typeof n.content=="string"&&(u=s.util.encodeUtf8(n.content)),h.detached?n.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,u):n.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,u)])))),n.signers.length!==0&&function(d){var l;if(l=n.detachedContent?n.detachedContent:(l=n.contentInfo.value[1]).value[0],!l)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var m=r.derToOid(n.contentInfo.value[0].value),A=r.toDer(l);for(var B in A.getByte(),r.getBerValueLength(A),A=A.getBytes(),d)d[B].start().update(A);for(var k=new Date,T=0;T<n.signers.length;++T){var g=n.signers[T];if(g.authenticatedAttributes.length===0){if(m!==s.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{g.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),R=0;R<g.authenticatedAttributes.length;++R){var S=g.authenticatedAttributes[R];S.type===s.pki.oids.messageDigest?S.value=d[g.digestAlgorithm].digest():S.type===s.pki.oids.signingTime&&(S.value||(S.value=k)),E.value.push(a(S)),g.authenticatedAttributesAsn1.value.push(a(S))}A=r.toDer(E).getBytes(),g.md.start().update(A)}g.signature=g.key.sign(g.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=function(M){for(var y=[],p=0;p<M.length;++p)y.push(t(M[p]));return y}(n.signers)}(function(){for(var d={},l=0;l<n.signers.length;++l){var m=n.signers[l];(A=m.digestAlgorithm)in d||(d[A]=s.md[s.pki.oids[A]].create()),m.authenticatedAttributes.length===0?m.md=d[A]:m.md=s.md[s.pki.oids[A]].create()}for(var A in n.digestAlgorithmIdentifiers=[],d)n.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(A).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return d}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(h){typeof h=="string"&&(h=s.pki.certificateFromPem(h)),n.certificates.push(h)},addCertificateRevokationList:function(h){throw new Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var n=null;return n={type:s.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:s.pki.oids["aes256-CBC"]},fromAsn1:function(h){o(n,h,i.asn1.encryptedDataValidator)},decrypt:function(h){h!==void 0&&(n.encryptedContent.key=h),e(n)}}},i.createEnvelopedData=function(){var n=null;return n={type:s.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:s.pki.oids["aes256-CBC"]},fromAsn1:function(h){var u=o(n,h,i.asn1.envelopedDataValidator);n.recipients=function(d){for(var l=[],m=0;m<d.length;++m)l.push(f(d[m]));return l}(u.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(n.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,c(n.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,(h=n.encryptedContent,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.parameter.getBytes())]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.content.getBytes())])]))])])]);var h},findRecipient:function(h){for(var u=h.issuer.attributes,d=0;d<n.recipients.length;++d){var l=n.recipients[d],m=l.issuer;if(l.serialNumber===h.serialNumber&&m.length===u.length){for(var A=!0,B=0;B<u.length;++B)if(m[B].type!==u[B].type||m[B].value!==u[B].value){A=!1;break}if(A)return l}}return null},decrypt:function(h,u){if(n.encryptedContent.key===void 0&&h!==void 0&&u!==void 0)switch(h.encryptedContent.algorithm){case s.pki.oids.rsaEncryption:case s.pki.oids.desCBC:var d=u.decrypt(h.encryptedContent.content);n.encryptedContent.key=s.util.createBuffer(d);break;default:throw new Error("Unsupported asymmetric cipher, OID "+h.encryptedContent.algorithm)}e(n)},addRecipient:function(h){n.recipients.push({version:0,issuer:h.issuer.attributes,serialNumber:h.serialNumber,encryptedContent:{algorithm:s.pki.oids.rsaEncryption,key:h.publicKey}})},encrypt:function(h,u){if(n.encryptedContent.content===void 0){var d,l,m;switch(u=u||n.encryptedContent.algorithm,h=h||n.encryptedContent.key,u){case s.pki.oids["aes128-CBC"]:d=16,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["aes192-CBC"]:d=24,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["aes256-CBC"]:d=32,l=16,m=s.aes.createEncryptionCipher;break;case s.pki.oids["des-EDE3-CBC"]:d=24,l=8,m=s.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+u)}if(h===void 0)h=s.util.createBuffer(s.random.getBytes(d));else if(h.length()!=d)throw new Error("Symmetric key has wrong length; got "+h.length()+" bytes, expected "+d+".");n.encryptedContent.algorithm=u,n.encryptedContent.key=h,n.encryptedContent.parameter=s.util.createBuffer(s.random.getBytes(l));var A=m(h);if(A.start(n.encryptedContent.parameter.copy()),A.update(n.content),!A.finish())throw new Error("Symmetric encryption failed.");n.encryptedContent.content=A.output}for(var B=0;B<n.recipients.length;++B){var k=n.recipients[B];if(k.encryptedContent.content===void 0)switch(k.encryptedContent.algorithm){case s.pki.oids.rsaEncryption:k.encryptedContent.content=k.encryptedContent.key.encrypt(n.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+k.encryptedContent.algorithm)}}}}}},function(N,x,b){var s=b(0);b(29),b(4);var r=s.asn1,i=N.exports=s.pkcs7asn1=s.pkcs7asn1||{};s.pkcs7=s.pkcs7||{},s.pkcs7.asn1=i;var f={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=f;var c={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(c)},i.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(c)};var t={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},f,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[t]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(N,x,b){var s=b(0);b(375),N.exports=s.mgf=s.mgf||{},s.mgf.mgf1=s.mgf1},function(N,x,b){var s=b(0);b(4),s.mgf=s.mgf||{},(N.exports=s.mgf.mgf1=s.mgf1=s.mgf1||{}).create=function(r){return{generate:function(i,f){for(var c=new s.util.ByteBuffer,t=Math.ceil(f/r.digestLength),a=0;a<t;a++){var o=new s.util.ByteBuffer;o.putInt32(a),r.start(),r.update(i+o.getBytes()),c.putBuffer(r.digest())}return c.truncate(c.length()-f),c.getBytes()}}}},function(N,x,b){var s=b(0);b(32),b(4),(N.exports=s.pss=s.pss||{}).create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var i,f=r.md,c=r.mgf,t=f.digestLength,a=r.salt||null;if(typeof a=="string"&&(a=s.util.createBuffer(a)),"saltLength"in r)i=r.saltLength;else{if(a===null)throw new Error("Salt length not specified or specific salt not given.");i=a.length()}if(a!==null&&a.length()!==i)throw new Error("Given salt length does not match length of given salt.");var o=r.prng||s.random,e={encode:function(n,h){var u,d,l=h-1,m=Math.ceil(l/8),A=n.digest().getBytes();if(m<t+i+2)throw new Error("Message is too long to encrypt.");d=a===null?o.getBytesSync(i):a.bytes();var B=new s.util.ByteBuffer;B.fillWithByte(0,8),B.putBytes(A),B.putBytes(d),f.start(),f.update(B.getBytes());var k=f.digest().getBytes(),T=new s.util.ByteBuffer;T.fillWithByte(0,m-i-t-2),T.putByte(1),T.putBytes(d);var g=T.getBytes(),E=m-t-1,R=c.generate(k,E),S="";for(u=0;u<E;u++)S+=String.fromCharCode(g.charCodeAt(u)^R.charCodeAt(u));var M=65280>>8*m-l&255;return(S=String.fromCharCode(S.charCodeAt(0)&~M)+S.substr(1))+k+String.fromCharCode(188)},verify:function(n,h,u){var d,l=u-1,m=Math.ceil(l/8);if(h=h.substr(-m),m<t+i+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(h.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=m-t-1,B=h.substr(0,A),k=h.substr(A,t),T=65280>>8*m-l&255;if((B.charCodeAt(0)&T)!=0)throw new Error("Bits beyond keysize not zero as expected.");var g=c.generate(k,A),E="";for(d=0;d<A;d++)E+=String.fromCharCode(B.charCodeAt(d)^g.charCodeAt(d));E=String.fromCharCode(E.charCodeAt(0)&~T)+E.substr(1);var R=m-t-i-2;for(d=0;d<R;d++)if(E.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(E.charCodeAt(R)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var S=E.substr(-i),M=new s.util.ByteBuffer;return M.fillWithByte(0,8),M.putBytes(n),M.putBytes(S),f.start(),f.update(M.getBytes()),k===f.digest().getBytes()}};return e}},function(N,x,b){b(164);const s=b(0).pki;N.exports.certificateForKey=(r,i)=>{const f=s.setRsaPublicKey(i.n,i.e),c=s.createCertificate();c.publicKey=f,c.serialNumber="01",c.validity.notBefore=new Date,c.validity.notAfter=new Date,c.validity.notAfter.setFullYear(c.validity.notBefore.getFullYear()+10);const t=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:r.id}];return c.setSubject(t),c.setIssuer(t),c.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),c.sign(i),c},N.exports.findAsync=async function(r,i){const f=r.map(i);return r[(await Promise.all(f)).findIndex(c=>c)]}},function(N,x,b){const s=b(63),{pipe:r}=b(34),{tap:i}=b(98),f=b(379),{METRICS:c}=b(91),t=b(381),a=["dataReceived","dataSent"],o={in:"dataReceived",out:"dataSent"};class e{constructor(n){this._options=s(c,n),this._globalStats=new t(a,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=f(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=n.connectionManager,this._connectionManager.on("peer:disconnect",h=>{this.onPeerDisconnected(h.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(const n of this._peerStats.values())n.stop();for(const n of this._protocolStats.values())n.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(n){const h=n.toB58String();return this._peerStats.get(h)||this._oldPeers.get(h)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(n){return this._protocolStats.get(n)}onPeerDisconnected(n){const h=n.toB58String(),u=this._peerStats.get(h);u&&(u.stop(),this._peerStats.delete(h),this._oldPeers.set(h,u))}_onMessage({remotePeer:n,protocol:h,direction:u,dataLength:d}){if(!this._running)return;const l=o[u];let m=this.forPeer(n);if(m||(m=new t(a,this._options),this._peerStats.set(n.toB58String(),m)),m.push(l,d),this._globalStats.push(l,d),h){let A=this.forProtocol(h);A||(A=new t(a,this._options),this._protocolStats.set(h,A)),A.push(l,d)}}updatePlaceholder(n,h){if(!this._running)return;const u=this.forPeer(n),d=h.toB58String(),l=this.forPeer(h);let m=u;l&&(m=e.mergeStats(l,m),this._oldPeers.delete(d)),this._peerStats.delete(n.toB58String()),this._peerStats.set(d,m),m.start()}trackStream({stream:n,remotePeer:h,protocol:u}){const d=this,l=n.source;n.source=i(A=>d._onMessage({remotePeer:h,protocol:u,direction:"in",dataLength:A.length}))(l);const m=n.sink;return n.sink=A=>r(A,i(B=>d._onMessage({remotePeer:h,protocol:u,direction:"out",dataLength:B.length})),m),n}static mergeStats(n,h){return n.stop(),h.stop(),n._queue=[...n._queue,...h._queue],n}}N.exports=e},function(N,x,b){const s=b(380);N.exports=r=>{const i=s(r);return i.delete=i.remove,i}},function(N,x,b){N.exports=function(s){if(!s)throw Error("hashlru must have a max value, of type number, greater than 0");var r=0,i=Object.create(null),f=Object.create(null);function c(t,a){i[t]=a,++r>=s&&(r=0,f=i,i=Object.create(null))}return{has:function(t){return i[t]!==void 0||f[t]!==void 0},remove:function(t){i[t]!==void 0&&(i[t]=void 0),f[t]!==void 0&&(f[t]=void 0)},get:function(t){var a=i[t];return a!==void 0?a:(a=f[t])!==void 0?(c(t,a),a):void 0},set:function(t,a){i[t]!==void 0?i[t]=a:c(t,a)},clear:function(){i=Object.create(null),f=Object.create(null)}}}},function(N,x,b){const{EventEmitter:s}=b(30),r=b(382),i=b(383),f=b(95);N.exports=class extends s{constructor(c,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const a=this._options.movingAverageIntervals;for(var o=0;o<c.length;o++){var e=c[o];this._stats[e]=r(0),this._movingAverages[e]={};for(var n=0;n<a.length;n++){var h=a[n];(this._movingAverages[e][h]=i(h)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){const c=this.snapshot,t=this.movingAverages,a={dataReceived:c.dataReceived.toString(),dataSent:c.dataSent.toString(),movingAverages:{}},o=Object.keys(t);for(const e of o){a.movingAverages[e]={};for(const n of Object.keys(t[e]))a.movingAverages[e][n]=t[e][n].movingAverage()}return a}push(c,t){this._queue.push([c,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=f(this._update,this._nextTimeout())}_nextTimeout(){const c=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-c),0)}_update(){if(this._timeout=null,this._queue.length){let c;for(c of this._queue)this._applyOp(c);this._queue=[],this._updateFrequency(c[2]),this.emit("update",this._stats)}}_updateFrequency(c){const t=c-this._frequencyLastTime;Object.keys(this._stats).forEach(a=>{this._updateFrequencyFor(a,t,c)}),this._frequencyLastTime=c}_updateFrequencyFor(c,t,a){const o=this._frequencyAccumulators[c]||0;this._frequencyAccumulators[c]=0;const e=o/(t||1)*1e3;let n=this._movingAverages[c];n||(n=this._movingAverages[c]={});const h=this._options.movingAverageIntervals;for(var u=0;u<h.length;u++){var d=h[u],l=n[d];l||(l=n[d]=i(d)),l.push(a,e)}}_applyOp(c){const t=c[0],a=c[1];if(typeof a!="number")throw new Error("invalid increment number: "+a);let o;o=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=r(0),this._stats[t]=o.plus(a),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=a}}},function(N,x,b){var s;!function(r){var i,f=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,c=Math.ceil,t=Math.floor,a="[BigNumber Error] ",o=a+"Number primitive has more than 15 significant digits: ",e=1e14,n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e9;function u(T){var g=0|T;return T>0||T===g?g:g-1}function d(T){for(var g,E,R=1,S=T.length,M=T[0]+"";R<S;){for(E=14-(g=T[R++]+"").length;E--;g="0"+g);M+=g}for(S=M.length;M.charCodeAt(--S)===48;);return M.slice(0,S+1||1)}function l(T,g){var E,R,S=T.c,M=g.c,y=T.s,p=g.s,w=T.e,v=g.e;if(!y||!p)return null;if(E=S&&!S[0],R=M&&!M[0],E||R)return E?R?0:-p:y;if(y!=p)return y;if(E=y<0,R=w==v,!S||!M)return R?0:!S^E?1:-1;if(!R)return w>v^E?1:-1;for(p=(w=S.length)<(v=M.length)?w:v,y=0;y<p;y++)if(S[y]!=M[y])return S[y]>M[y]^E?1:-1;return w==v?0:w>v^E?1:-1}function m(T,g,E,R){if(T<g||T>E||T!==t(T))throw Error(a+(R||"Argument")+(typeof T=="number"?T<g||T>E?" out of range: ":" not an integer: ":" not a primitive number: ")+String(T))}function A(T){var g=T.c.length-1;return u(T.e/14)==g&&T.c[g]%2!=0}function B(T,g){return(T.length>1?T.charAt(0)+"."+T.slice(1):T)+(g<0?"e":"e+")+g}function k(T,g,E){var R,S;if(g<0){for(S=E+".";++g;S+=E);T=S+T}else if(++g>(R=T.length)){for(S=E,g-=R;--g;S+=E);T+=S}else g<R&&(T=T.slice(0,g)+"."+T.slice(g));return T}(i=function T(g){var E,R,S,M,y,p,w,v,_,C=P.prototype={constructor:P,toString:null,valueOf:null},L=new P(1),O=20,U=4,q=-7,H=21,G=-1e7,K=1e7,Q=!1,z=1,D=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function P(j,Y){var X,tt,rt,J,Z,nt,it,st,at=this;if(!(at instanceof P))return new P(j,Y);if(Y==null){if(j&&j._isBigNumber===!0)return at.s=j.s,void(!j.c||j.e>K?at.c=at.e=null:j.e<G?at.c=[at.e=0]:(at.e=j.e,at.c=j.c.slice()));if((nt=typeof j=="number")&&0*j==0){if(at.s=1/j<0?(j=-j,-1):1,j===~~j){for(J=0,Z=j;Z>=10;Z/=10,J++);return void(J>K?at.c=at.e=null:(at.e=J,at.c=[j]))}st=String(j)}else{if(!f.test(st=String(j)))return S(at,st,nt);at.s=st.charCodeAt(0)==45?(st=st.slice(1),-1):1}(J=st.indexOf("."))>-1&&(st=st.replace(".","")),(Z=st.search(/e/i))>0?(J<0&&(J=Z),J+=+st.slice(Z+1),st=st.substring(0,Z)):J<0&&(J=st.length)}else{if(m(Y,2,I.length,"Base"),Y==10)return et(at=new P(j),O+at.e+1,U);if(st=String(j),nt=typeof j=="number"){if(0*j!=0)return S(at,st,nt,Y);if(at.s=1/j<0?(st=st.slice(1),-1):1,P.DEBUG&&st.replace(/^0\.0*|\./,"").length>15)throw Error(o+j)}else at.s=st.charCodeAt(0)===45?(st=st.slice(1),-1):1;for(X=I.slice(0,Y),J=Z=0,it=st.length;Z<it;Z++)if(X.indexOf(tt=st.charAt(Z))<0){if(tt=="."){if(Z>J){J=it;continue}}else if(!rt&&(st==st.toUpperCase()&&(st=st.toLowerCase())||st==st.toLowerCase()&&(st=st.toUpperCase()))){rt=!0,Z=-1,J=0;continue}return S(at,String(j),nt,Y)}nt=!1,(J=(st=R(st,Y,10,at.s)).indexOf("."))>-1?st=st.replace(".",""):J=st.length}for(Z=0;st.charCodeAt(Z)===48;Z++);for(it=st.length;st.charCodeAt(--it)===48;);if(st=st.slice(Z,++it)){if(it-=Z,nt&&P.DEBUG&&it>15&&(j>9007199254740991||j!==t(j)))throw Error(o+at.s*j);if((J=J-Z-1)>K)at.c=at.e=null;else if(J<G)at.c=[at.e=0];else{if(at.e=J,at.c=[],Z=(J+1)%14,J<0&&(Z+=14),Z<it){for(Z&&at.c.push(+st.slice(0,Z)),it-=14;Z<it;)at.c.push(+st.slice(Z,Z+=14));Z=14-(st=st.slice(Z)).length}else Z-=it;for(;Z--;st+="0");at.c.push(+st)}}else at.c=[at.e=0]}function V(j,Y,X,tt){var rt,J,Z,nt,it;if(X==null?X=U:m(X,0,8),!j.c)return j.toString();if(rt=j.c[0],Z=j.e,Y==null)it=d(j.c),it=tt==1||tt==2&&(Z<=q||Z>=H)?B(it,Z):k(it,Z,"0");else if(J=(j=et(new P(j),Y,X)).e,nt=(it=d(j.c)).length,tt==1||tt==2&&(Y<=J||J<=q)){for(;nt<Y;it+="0",nt++);it=B(it,J)}else if(Y-=Z,it=k(it,J,"0"),J+1>nt){if(--Y>0)for(it+=".";Y--;it+="0");}else if((Y+=J-nt)>0)for(J+1==nt&&(it+=".");Y--;it+="0");return j.s<0&&rt?"-"+it:it}function $(j,Y){for(var X,tt=1,rt=new P(j[0]);tt<j.length;tt++){if(!(X=new P(j[tt])).s){rt=X;break}Y.call(rt,X)&&(rt=X)}return rt}function W(j,Y,X){for(var tt=1,rt=Y.length;!Y[--rt];Y.pop());for(rt=Y[0];rt>=10;rt/=10,tt++);return(X=tt+14*X-1)>K?j.c=j.e=null:X<G?j.c=[j.e=0]:(j.e=X,j.c=Y),j}function et(j,Y,X,tt){var rt,J,Z,nt,it,st,at,ct=j.c,ut=n;if(ct){t:{for(rt=1,nt=ct[0];nt>=10;nt/=10,rt++);if((J=Y-rt)<0)J+=14,Z=Y,at=(it=ct[st=0])/ut[rt-Z-1]%10|0;else if((st=c((J+1)/14))>=ct.length){if(!tt)break t;for(;ct.length<=st;ct.push(0));it=at=0,rt=1,Z=(J%=14)-14+1}else{for(it=nt=ct[st],rt=1;nt>=10;nt/=10,rt++);at=(Z=(J%=14)-14+rt)<0?0:it/ut[rt-Z-1]%10|0}if(tt=tt||Y<0||ct[st+1]!=null||(Z<0?it:it%ut[rt-Z-1]),tt=X<4?(at||tt)&&(X==0||X==(j.s<0?3:2)):at>5||at==5&&(X==4||tt||X==6&&(J>0?Z>0?it/ut[rt-Z]:0:ct[st-1])%10&1||X==(j.s<0?8:7)),Y<1||!ct[0])return ct.length=0,tt?(Y-=j.e+1,ct[0]=ut[(14-Y%14)%14],j.e=-Y||0):ct[0]=j.e=0,j;if(J==0?(ct.length=st,nt=1,st--):(ct.length=st+1,nt=ut[14-J],ct[st]=Z>0?t(it/ut[rt-Z]%ut[Z])*nt:0),tt)for(;;){if(st==0){for(J=1,Z=ct[0];Z>=10;Z/=10,J++);for(Z=ct[0]+=nt,nt=1;Z>=10;Z/=10,nt++);J!=nt&&(j.e++,ct[0]==e&&(ct[0]=1));break}if(ct[st]+=nt,ct[st]!=e)break;ct[st--]=0,nt=1}for(J=ct.length;ct[--J]===0;ct.pop());}j.e>K?j.c=j.e=null:j.e<G&&(j.c=[j.e=0])}return j}function ot(j){var Y,X=j.e;return X===null?j.toString():(Y=d(j.c),Y=X<=q||X>=H?B(Y,X):k(Y,X,"0"),j.s<0?"-"+Y:Y)}return P.clone=T,P.ROUND_UP=0,P.ROUND_DOWN=1,P.ROUND_CEIL=2,P.ROUND_FLOOR=3,P.ROUND_HALF_UP=4,P.ROUND_HALF_DOWN=5,P.ROUND_HALF_EVEN=6,P.ROUND_HALF_CEIL=7,P.ROUND_HALF_FLOOR=8,P.EUCLID=9,P.config=P.set=function(j){var Y,X;if(j!=null){if(typeof j!="object")throw Error(a+"Object expected: "+j);if(j.hasOwnProperty(Y="DECIMAL_PLACES")&&(m(X=j[Y],0,h,Y),O=X),j.hasOwnProperty(Y="ROUNDING_MODE")&&(m(X=j[Y],0,8,Y),U=X),j.hasOwnProperty(Y="EXPONENTIAL_AT")&&((X=j[Y])&&X.pop?(m(X[0],-h,0,Y),m(X[1],0,h,Y),q=X[0],H=X[1]):(m(X,-h,h,Y),q=-(H=X<0?-X:X))),j.hasOwnProperty(Y="RANGE"))if((X=j[Y])&&X.pop)m(X[0],-h,-1,Y),m(X[1],1,h,Y),G=X[0],K=X[1];else{if(m(X,-h,h,Y),!X)throw Error(a+Y+" cannot be zero: "+X);G=-(K=X<0?-X:X)}if(j.hasOwnProperty(Y="CRYPTO")){if((X=j[Y])!==!!X)throw Error(a+Y+" not true or false: "+X);if(X){if(typeof crypto=="undefined"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Q=!X,Error(a+"crypto unavailable");Q=X}else Q=X}if(j.hasOwnProperty(Y="MODULO_MODE")&&(m(X=j[Y],0,9,Y),z=X),j.hasOwnProperty(Y="POW_PRECISION")&&(m(X=j[Y],0,h,Y),D=X),j.hasOwnProperty(Y="FORMAT")){if(typeof(X=j[Y])!="object")throw Error(a+Y+" not an object: "+X);F=X}if(j.hasOwnProperty(Y="ALPHABET")){if(typeof(X=j[Y])!="string"||/^.?$|[+\-.\s]|(.).*\1/.test(X))throw Error(a+Y+" invalid: "+X);I=X}}return{DECIMAL_PLACES:O,ROUNDING_MODE:U,EXPONENTIAL_AT:[q,H],RANGE:[G,K],CRYPTO:Q,MODULO_MODE:z,POW_PRECISION:D,FORMAT:F,ALPHABET:I}},P.isBigNumber=function(j){if(!j||j._isBigNumber!==!0)return!1;if(!P.DEBUG)return!0;var Y,X,tt=j.c,rt=j.e,J=j.s;t:if({}.toString.call(tt)=="[object Array]"){if((J===1||J===-1)&&rt>=-h&&rt<=h&&rt===t(rt)){if(tt[0]===0){if(rt===0&&tt.length===1)return!0;break t}if((Y=(rt+1)%14)<1&&(Y+=14),String(tt[0]).length==Y){for(Y=0;Y<tt.length;Y++)if((X=tt[Y])<0||X>=e||X!==t(X))break t;if(X!==0)return!0}}}else if(tt===null&&rt===null&&(J===null||J===1||J===-1))return!0;throw Error(a+"Invalid BigNumber: "+j)},P.maximum=P.max=function(){return $(arguments,C.lt)},P.minimum=P.min=function(){return $(arguments,C.gt)},P.random=(M=9007199254740992*Math.random()&2097151?function(){return t(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(j){var Y,X,tt,rt,J,Z=0,nt=[],it=new P(L);if(j==null?j=O:m(j,0,h),rt=c(j/14),Q)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(rt*=2));Z<rt;)(J=131072*Y[Z]+(Y[Z+1]>>>11))>=9e15?(X=crypto.getRandomValues(new Uint32Array(2)),Y[Z]=X[0],Y[Z+1]=X[1]):(nt.push(J%1e14),Z+=2);Z=rt/2}else{if(!crypto.randomBytes)throw Q=!1,Error(a+"crypto unavailable");for(Y=crypto.randomBytes(rt*=7);Z<rt;)(J=281474976710656*(31&Y[Z])+1099511627776*Y[Z+1]+4294967296*Y[Z+2]+16777216*Y[Z+3]+(Y[Z+4]<<16)+(Y[Z+5]<<8)+Y[Z+6])>=9e15?crypto.randomBytes(7).copy(Y,Z):(nt.push(J%1e14),Z+=7);Z=rt/7}if(!Q)for(;Z<rt;)(J=M())<9e15&&(nt[Z++]=J%1e14);for(j%=14,(rt=nt[--Z])&&j&&(J=n[14-j],nt[Z]=t(rt/J)*J);nt[Z]===0;nt.pop(),Z--);if(Z<0)nt=[tt=0];else{for(tt=-1;nt[0]===0;nt.splice(0,1),tt-=14);for(Z=1,J=nt[0];J>=10;J/=10,Z++);Z<14&&(tt-=14-Z)}return it.e=tt,it.c=nt,it}),P.sum=function(){for(var j=1,Y=arguments,X=new P(Y[0]);j<Y.length;)X=X.plus(Y[j++]);return X},R=function(){function j(Y,X,tt,rt){for(var J,Z,nt=[0],it=0,st=Y.length;it<st;){for(Z=nt.length;Z--;nt[Z]*=X);for(nt[0]+=rt.indexOf(Y.charAt(it++)),J=0;J<nt.length;J++)nt[J]>tt-1&&(nt[J+1]==null&&(nt[J+1]=0),nt[J+1]+=nt[J]/tt|0,nt[J]%=tt)}return nt.reverse()}return function(Y,X,tt,rt,J){var Z,nt,it,st,at,ct,ut,bt,ht=Y.indexOf("."),yt=O,Ct=U;for(ht>=0&&(st=D,D=0,Y=Y.replace(".",""),ct=(bt=new P(X)).pow(Y.length-ht),D=st,bt.c=j(k(d(ct.c),ct.e,"0"),10,tt,"0123456789"),bt.e=bt.c.length),it=st=(ut=j(Y,X,tt,J?(Z=I,"0123456789"):(Z="0123456789",I))).length;ut[--st]==0;ut.pop());if(!ut[0])return Z.charAt(0);if(ht<0?--it:(ct.c=ut,ct.e=it,ct.s=rt,ut=(ct=E(ct,bt,yt,Ct,tt)).c,at=ct.r,it=ct.e),ht=ut[nt=it+yt+1],st=tt/2,at=at||nt<0||ut[nt+1]!=null,at=Ct<4?(ht!=null||at)&&(Ct==0||Ct==(ct.s<0?3:2)):ht>st||ht==st&&(Ct==4||at||Ct==6&&1&ut[nt-1]||Ct==(ct.s<0?8:7)),nt<1||!ut[0])Y=at?k(Z.charAt(1),-yt,Z.charAt(0)):Z.charAt(0);else{if(ut.length=nt,at)for(--tt;++ut[--nt]>tt;)ut[nt]=0,nt||(++it,ut=[1].concat(ut));for(st=ut.length;!ut[--st];);for(ht=0,Y="";ht<=st;Y+=Z.charAt(ut[ht++]));Y=k(Y,it,Z.charAt(0))}return Y}}(),E=function(){function j(tt,rt,J){var Z,nt,it,st,at=0,ct=tt.length,ut=rt%1e7,bt=rt/1e7|0;for(tt=tt.slice();ct--;)at=((nt=ut*(it=tt[ct]%1e7)+(Z=bt*it+(st=tt[ct]/1e7|0)*ut)%1e7*1e7+at)/J|0)+(Z/1e7|0)+bt*st,tt[ct]=nt%J;return at&&(tt=[at].concat(tt)),tt}function Y(tt,rt,J,Z){var nt,it;if(J!=Z)it=J>Z?1:-1;else for(nt=it=0;nt<J;nt++)if(tt[nt]!=rt[nt]){it=tt[nt]>rt[nt]?1:-1;break}return it}function X(tt,rt,J,Z){for(var nt=0;J--;)tt[J]-=nt,nt=tt[J]<rt[J]?1:0,tt[J]=nt*Z+tt[J]-rt[J];for(;!tt[0]&&tt.length>1;tt.splice(0,1));}return function(tt,rt,J,Z,nt){var it,st,at,ct,ut,bt,ht,yt,Ct,ft,dt,Kt,Tt,Rt,jt,It,Bt,Vt=tt.s==rt.s?1:-1,pt=tt.c,lt=rt.c;if(!(pt&&pt[0]&&lt&&lt[0]))return new P(tt.s&&rt.s&&(pt?!lt||pt[0]!=lt[0]:lt)?pt&&pt[0]==0||!lt?0*Vt:Vt/0:NaN);for(Ct=(yt=new P(Vt)).c=[],Vt=J+(st=tt.e-rt.e)+1,nt||(nt=e,st=u(tt.e/14)-u(rt.e/14),Vt=Vt/14|0),at=0;lt[at]==(pt[at]||0);at++);if(lt[at]>(pt[at]||0)&&st--,Vt<0)Ct.push(1),ct=!0;else{for(Rt=pt.length,It=lt.length,at=0,Vt+=2,(ut=t(nt/(lt[0]+1)))>1&&(lt=j(lt,ut,nt),pt=j(pt,ut,nt),It=lt.length,Rt=pt.length),Tt=It,dt=(ft=pt.slice(0,It)).length;dt<It;ft[dt++]=0);Bt=lt.slice(),Bt=[0].concat(Bt),jt=lt[0],lt[1]>=nt/2&&jt++;do{if(ut=0,(it=Y(lt,ft,It,dt))<0){if(Kt=ft[0],It!=dt&&(Kt=Kt*nt+(ft[1]||0)),(ut=t(Kt/jt))>1)for(ut>=nt&&(ut=nt-1),ht=(bt=j(lt,ut,nt)).length,dt=ft.length;Y(bt,ft,ht,dt)==1;)ut--,X(bt,It<ht?Bt:lt,ht,nt),ht=bt.length,it=1;else ut==0&&(it=ut=1),ht=(bt=lt.slice()).length;if(ht<dt&&(bt=[0].concat(bt)),X(ft,bt,dt,nt),dt=ft.length,it==-1)for(;Y(lt,ft,It,dt)<1;)ut++,X(ft,It<dt?Bt:lt,dt,nt),dt=ft.length}else it===0&&(ut++,ft=[0]);Ct[at++]=ut,ft[0]?ft[dt++]=pt[Tt]||0:(ft=[pt[Tt]],dt=1)}while((Tt++<Rt||ft[0]!=null)&&Vt--);ct=ft[0]!=null,Ct[0]||Ct.splice(0,1)}if(nt==e){for(at=1,Vt=Ct[0];Vt>=10;Vt/=10,at++);et(yt,J+(yt.e=at+14*st-1)+1,Z,ct)}else yt.e=st,yt.r=+ct;return yt}}(),y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,p=/^([^.]+)\.$/,w=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(j,Y,X,tt){var rt,J=X?Y:Y.replace(_,"");if(v.test(J))j.s=isNaN(J)?null:J<0?-1:1;else{if(!X&&(J=J.replace(y,function(Z,nt,it){return rt=(it=it.toLowerCase())=="x"?16:it=="b"?2:8,tt&&tt!=rt?Z:nt}),tt&&(rt=tt,J=J.replace(p,"$1").replace(w,"0.$1")),Y!=J))return new P(J,rt);if(P.DEBUG)throw Error(a+"Not a"+(tt?" base "+tt:"")+" number: "+Y);j.s=null}j.c=j.e=null},C.absoluteValue=C.abs=function(){var j=new P(this);return j.s<0&&(j.s=1),j},C.comparedTo=function(j,Y){return l(this,new P(j,Y))},C.decimalPlaces=C.dp=function(j,Y){var X,tt,rt,J=this;if(j!=null)return m(j,0,h),Y==null?Y=U:m(Y,0,8),et(new P(J),j+J.e+1,Y);if(!(X=J.c))return null;if(tt=14*((rt=X.length-1)-u(this.e/14)),rt=X[rt])for(;rt%10==0;rt/=10,tt--);return tt<0&&(tt=0),tt},C.dividedBy=C.div=function(j,Y){return E(this,new P(j,Y),O,U)},C.dividedToIntegerBy=C.idiv=function(j,Y){return E(this,new P(j,Y),0,1)},C.exponentiatedBy=C.pow=function(j,Y){var X,tt,rt,J,Z,nt,it,st,at=this;if((j=new P(j)).c&&!j.isInteger())throw Error(a+"Exponent not an integer: "+ot(j));if(Y!=null&&(Y=new P(Y)),Z=j.e>14,!at.c||!at.c[0]||at.c[0]==1&&!at.e&&at.c.length==1||!j.c||!j.c[0])return st=new P(Math.pow(+ot(at),Z?2-A(j):+ot(j))),Y?st.mod(Y):st;if(nt=j.s<0,Y){if(Y.c?!Y.c[0]:!Y.s)return new P(NaN);(tt=!nt&&at.isInteger()&&Y.isInteger())&&(at=at.mod(Y))}else{if(j.e>9&&(at.e>0||at.e<-1||(at.e==0?at.c[0]>1||Z&&at.c[1]>=24e7:at.c[0]<8e13||Z&&at.c[0]<=9999975e7)))return J=(at.s<0&&A(j),-0),at.e>-1&&(J=1/J),new P(nt?1/J:J);D&&(J=c(D/14+2))}for(Z?(X=new P(.5),nt&&(j.s=1),it=A(j)):it=(rt=Math.abs(+ot(j)))%2,st=new P(L);;){if(it){if(!(st=st.times(at)).c)break;J?st.c.length>J&&(st.c.length=J):tt&&(st=st.mod(Y))}if(rt){if((rt=t(rt/2))===0)break;it=rt%2}else if(et(j=j.times(X),j.e+1,1),j.e>14)it=A(j);else{if((rt=+ot(j))===0)break;it=rt%2}at=at.times(at),J?at.c&&at.c.length>J&&(at.c.length=J):tt&&(at=at.mod(Y))}return tt?st:(nt&&(st=L.div(st)),Y?st.mod(Y):J?et(st,D,U,void 0):st)},C.integerValue=function(j){var Y=new P(this);return j==null?j=U:m(j,0,8),et(Y,Y.e+1,j)},C.isEqualTo=C.eq=function(j,Y){return l(this,new P(j,Y))===0},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(j,Y){return l(this,new P(j,Y))>0},C.isGreaterThanOrEqualTo=C.gte=function(j,Y){return(Y=l(this,new P(j,Y)))===1||Y===0},C.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},C.isLessThan=C.lt=function(j,Y){return l(this,new P(j,Y))<0},C.isLessThanOrEqualTo=C.lte=function(j,Y){return(Y=l(this,new P(j,Y)))===-1||Y===0},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&this.c[0]==0},C.minus=function(j,Y){var X,tt,rt,J,Z=this,nt=Z.s;if(Y=(j=new P(j,Y)).s,!nt||!Y)return new P(NaN);if(nt!=Y)return j.s=-Y,Z.plus(j);var it=Z.e/14,st=j.e/14,at=Z.c,ct=j.c;if(!it||!st){if(!at||!ct)return at?(j.s=-Y,j):new P(ct?Z:NaN);if(!at[0]||!ct[0])return ct[0]?(j.s=-Y,j):new P(at[0]?Z:(U==3,-0))}if(it=u(it),st=u(st),at=at.slice(),nt=it-st){for((J=nt<0)?(nt=-nt,rt=at):(st=it,rt=ct),rt.reverse(),Y=nt;Y--;rt.push(0));rt.reverse()}else for(tt=(J=(nt=at.length)<(Y=ct.length))?nt:Y,nt=Y=0;Y<tt;Y++)if(at[Y]!=ct[Y]){J=at[Y]<ct[Y];break}if(J&&(rt=at,at=ct,ct=rt,j.s=-j.s),(Y=(tt=ct.length)-(X=at.length))>0)for(;Y--;at[X++]=0);for(Y=e-1;tt>nt;){if(at[--tt]<ct[tt]){for(X=tt;X&&!at[--X];at[X]=Y);--at[X],at[tt]+=e}at[tt]-=ct[tt]}for(;at[0]==0;at.splice(0,1),--st);return at[0]?W(j,at,st):(j.s=U==3?-1:1,j.c=[j.e=0],j)},C.modulo=C.mod=function(j,Y){var X,tt,rt=this;return j=new P(j,Y),!rt.c||!j.s||j.c&&!j.c[0]?new P(NaN):!j.c||rt.c&&!rt.c[0]?new P(rt):(z==9?(tt=j.s,j.s=1,X=E(rt,j,0,3),j.s=tt,X.s*=tt):X=E(rt,j,0,z),(j=rt.minus(X.times(j))).c[0]||z!=1||(j.s=rt.s),j)},C.multipliedBy=C.times=function(j,Y){var X,tt,rt,J,Z,nt,it,st,at,ct,ut,bt,ht,yt,Ct=this,ft=Ct.c,dt=(j=new P(j,Y)).c;if(!(ft&&dt&&ft[0]&&dt[0]))return!Ct.s||!j.s||ft&&!ft[0]&&!dt||dt&&!dt[0]&&!ft?j.c=j.e=j.s=null:(j.s*=Ct.s,ft&&dt?(j.c=[0],j.e=0):j.c=j.e=null),j;for(tt=u(Ct.e/14)+u(j.e/14),j.s*=Ct.s,(it=ft.length)<(ct=dt.length)&&(ht=ft,ft=dt,dt=ht,rt=it,it=ct,ct=rt),rt=it+ct,ht=[];rt--;ht.push(0));for(yt=e,rt=ct;--rt>=0;){for(X=0,ut=dt[rt]%1e7,bt=dt[rt]/1e7|0,J=rt+(Z=it);J>rt;)X=((st=ut*(st=ft[--Z]%1e7)+(nt=bt*st+(at=ft[Z]/1e7|0)*ut)%1e7*1e7+ht[J]+X)/yt|0)+(nt/1e7|0)+bt*at,ht[J--]=st%yt;ht[J]=X}return X?++tt:ht.splice(0,1),W(j,ht,tt)},C.negated=function(){var j=new P(this);return j.s=-j.s||null,j},C.plus=function(j,Y){var X,tt=this,rt=tt.s;if(Y=(j=new P(j,Y)).s,!rt||!Y)return new P(NaN);if(rt!=Y)return j.s=-Y,tt.minus(j);var J=tt.e/14,Z=j.e/14,nt=tt.c,it=j.c;if(!J||!Z){if(!nt||!it)return new P(rt/0);if(!nt[0]||!it[0])return it[0]?j:new P(nt[0]?tt:0*rt)}if(J=u(J),Z=u(Z),nt=nt.slice(),rt=J-Z){for(rt>0?(Z=J,X=it):(rt=-rt,X=nt),X.reverse();rt--;X.push(0));X.reverse()}for((rt=nt.length)-(Y=it.length)<0&&(X=it,it=nt,nt=X,Y=rt),rt=0;Y;)rt=(nt[--Y]=nt[Y]+it[Y]+rt)/e|0,nt[Y]=e===nt[Y]?0:nt[Y]%e;return rt&&(nt=[rt].concat(nt),++Z),W(j,nt,Z)},C.precision=C.sd=function(j,Y){var X,tt,rt,J=this;if(j!=null&&j!==!!j)return m(j,1,h),Y==null?Y=U:m(Y,0,8),et(new P(J),j,Y);if(!(X=J.c))return null;if(tt=14*(rt=X.length-1)+1,rt=X[rt]){for(;rt%10==0;rt/=10,tt--);for(rt=X[0];rt>=10;rt/=10,tt++);}return j&&J.e+1>tt&&(tt=J.e+1),tt},C.shiftedBy=function(j){return m(j,-9007199254740991,9007199254740991),this.times("1e"+j)},C.squareRoot=C.sqrt=function(){var j,Y,X,tt,rt,J=this,Z=J.c,nt=J.s,it=J.e,st=O+4,at=new P("0.5");if(nt!==1||!Z||!Z[0])return new P(!nt||nt<0&&(!Z||Z[0])?NaN:Z?J:1/0);if((nt=Math.sqrt(+ot(J)))==0||nt==1/0?(((Y=d(Z)).length+it)%2==0&&(Y+="0"),nt=Math.sqrt(+Y),it=u((it+1)/2)-(it<0||it%2),X=new P(Y=nt==1/0?"5e"+it:(Y=nt.toExponential()).slice(0,Y.indexOf("e")+1)+it)):X=new P(nt+""),X.c[0]){for((nt=(it=X.e)+st)<3&&(nt=0);;)if(rt=X,X=at.times(rt.plus(E(J,rt,st,1))),d(rt.c).slice(0,nt)===(Y=d(X.c)).slice(0,nt)){if(X.e<it&&--nt,(Y=Y.slice(nt-3,nt+1))!="9999"&&(tt||Y!="4999")){+Y&&(+Y.slice(1)||Y.charAt(0)!="5")||(et(X,X.e+O+2,1),j=!X.times(X).eq(J));break}if(!tt&&(et(rt,rt.e+O+2,0),rt.times(rt).eq(J))){X=rt;break}st+=4,nt+=4,tt=1}}return et(X,X.e+O+1,U,j)},C.toExponential=function(j,Y){return j!=null&&(m(j,0,h),j++),V(this,j,Y,1)},C.toFixed=function(j,Y){return j!=null&&(m(j,0,h),j=j+this.e+1),V(this,j,Y)},C.toFormat=function(j,Y,X){var tt,rt=this;if(X==null)j!=null&&Y&&typeof Y=="object"?(X=Y,Y=null):j&&typeof j=="object"?(X=j,j=Y=null):X=F;else if(typeof X!="object")throw Error(a+"Argument not an object: "+X);if(tt=rt.toFixed(j,Y),rt.c){var J,Z=tt.split("."),nt=+X.groupSize,it=+X.secondaryGroupSize,st=X.groupSeparator||"",at=Z[0],ct=Z[1],ut=rt.s<0,bt=ut?at.slice(1):at,ht=bt.length;if(it&&(J=nt,nt=it,it=J,ht-=J),nt>0&&ht>0){for(J=ht%nt||nt,at=bt.substr(0,J);J<ht;J+=nt)at+=st+bt.substr(J,nt);it>0&&(at+=st+bt.slice(J)),ut&&(at="-"+at)}tt=ct?at+(X.decimalSeparator||"")+((it=+X.fractionGroupSize)?ct.replace(new RegExp("\\d{"+it+"}\\B","g"),"$&"+(X.fractionGroupSeparator||"")):ct):at}return(X.prefix||"")+tt+(X.suffix||"")},C.toFraction=function(j){var Y,X,tt,rt,J,Z,nt,it,st,at,ct,ut,bt=this,ht=bt.c;if(j!=null&&(!(nt=new P(j)).isInteger()&&(nt.c||nt.s!==1)||nt.lt(L)))throw Error(a+"Argument "+(nt.isInteger()?"out of range: ":"not an integer: ")+ot(nt));if(!ht)return new P(bt);for(Y=new P(L),st=X=new P(L),tt=it=new P(L),ut=d(ht),J=Y.e=ut.length-bt.e-1,Y.c[0]=n[(Z=J%14)<0?14+Z:Z],j=!j||nt.comparedTo(Y)>0?J>0?Y:st:nt,Z=K,K=1/0,nt=new P(ut),it.c[0]=0;at=E(nt,Y,0,1),(rt=X.plus(at.times(tt))).comparedTo(j)!=1;)X=tt,tt=rt,st=it.plus(at.times(rt=st)),it=rt,Y=nt.minus(at.times(rt=Y)),nt=rt;return rt=E(j.minus(X),tt,0,1),it=it.plus(rt.times(st)),X=X.plus(rt.times(tt)),it.s=st.s=bt.s,ct=E(st,tt,J*=2,U).minus(bt).abs().comparedTo(E(it,X,J,U).minus(bt).abs())<1?[st,tt]:[it,X],K=Z,ct},C.toNumber=function(){return+ot(this)},C.toPrecision=function(j,Y){return j!=null&&m(j,1,h),V(this,j,Y,2)},C.toString=function(j){var Y,X=this,tt=X.s,rt=X.e;return rt===null?tt?(Y="Infinity",tt<0&&(Y="-"+Y)):Y="NaN":(j==null?Y=rt<=q||rt>=H?B(d(X.c),rt):k(d(X.c),rt,"0"):j===10?Y=k(d((X=et(new P(X),O+rt+1,U)).c),X.e,"0"):(m(j,2,I.length,"Base"),Y=R(k(d(X.c),rt,"0"),10,j,tt,!0)),tt<0&&X.c[0]&&(Y="-"+Y)),Y},C.valueOf=C.toJSON=function(){return ot(this)},C._isBigNumber=!0,g!=null&&P.set(g),P}()).default=i.BigNumber=i,(s=function(){return i}.call(x,b,x,N))===void 0||(N.exports=s)}()},function(N,x,b){const s=Math.exp;N.exports=function(r){if(typeof r!="number")throw new Error("must provide a timespan to the moving average constructor");if(r<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let i,f,c=0,t=0,a=0,o={};return o.push=function(e,n){if(f){const h=1-s(-(e-f)/r),u=n-i;i=h*n+(1-h)*i,c=(1-h)*(c+u*(h*u)),t=Math.sqrt(c),a=i+h*u}else i=n;f=e},o.movingAverage=function(){return i},o.variance=function(){return c},o.deviation=function(){return t},o.forecast=function(){return a},o}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:upgrader"),{error:s("libp2p:upgrader:err")}),i=b(1),f=b(385),{Connection:c}=b(389),t=b(9),{pipe:a}=b(34),o=b(496),{codes:e}=b(10);N.exports=class{constructor({localPeer:n,metrics:h,cryptos:u=new Map,muxers:d=new Map,onConnectionEnd:l=()=>{},onConnection:m=()=>{},exposeRawConn:A=!1}){this.localPeer=n,this.metrics=h,this.cryptos=u,this.muxers=d,this.protector=null,this.protocols=new Map,this.onConnection=m,this.onConnectionEnd=l,this.exposeRawConn=A}async upgradeInbound(n){let h,u,d,l,m,A,B;if(this.metrics){({setTarget:A,proxy:B}=o());const T=(1e9*Math.random()).toString(36)+Date.now();A({toB58String:()=>T}),n=this.metrics.trackStream({stream:n,remotePeer:B})}r("Starting the inbound connection upgrade");let k=n;this.protector&&(k=await this.protector.protect(n));try{({conn:h,remotePeer:u,protocol:m}=await this._encryptInbound(this.localPeer,k,this.cryptos)),this.muxers.size?{stream:d,Muxer:l}=await this._multiplexInbound(h,this.muxers):d=h}catch(T){throw r.error("Failed to upgrade inbound connection",T),await n.close(T),T}return this.metrics&&(this.metrics.updatePlaceholder(B,u),A(u)),r("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:m,direction:"inbound",maConn:n,upgradedConn:d,Muxer:l,remotePeer:u})}async upgradeOutbound(n){const h=t.createFromB58String(n.remoteAddr.getPeerId());let u,d,l,m,A,B,k;if(this.metrics){({setTarget:B,proxy:k}=o());const g=(1e9*Math.random()).toString(36)+Date.now();B({toB58String:()=>g}),n=this.metrics.trackStream({stream:n,remotePeer:k})}r("Starting the outbound connection upgrade");let T=n;this.protector&&(T=await this.protector.protect(n));try{({conn:u,remotePeer:d,protocol:m}=await this._encryptOutbound(this.localPeer,T,h,this.cryptos)),this.muxers.size?{stream:l,Muxer:A}=await this._multiplexOutbound(u,this.muxers):l=u}catch(g){throw r.error("Failed to upgrade outbound connection",g),await n.close(g),g}return this.metrics&&(this.metrics.updatePlaceholder(k,d),B(d)),r("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:m,direction:"outbound",maConn:n,upgradedConn:l,Muxer:A,remotePeer:d})}_createConnection({cryptoProtocol:n,direction:h,maConn:u,upgradedConn:d,Muxer:l,remotePeer:m}){let A,B,k;l&&(A=new l({onStream:async E=>{const R=new f.Listener(E);try{const{stream:S,protocol:M}=await R.handle(Array.from(this.protocols.keys()));r("%s: incoming stream opened on %s",h,M),this.metrics&&this.metrics.trackStream({stream:S,remotePeer:m,protocol:M}),k.addStream(E,{protocol:M}),this._onStream({connection:k,stream:{...E,...S},protocol:M})}catch(S){r.error(S)}},onStreamEnd:E=>{k.removeStream(E.id)}}),B=async E=>{r("%s: starting new stream on %s",h,E);const R=A.newStream(),S=new f.Dialer(R);try{const{stream:M,protocol:y}=await S.select(E);return this.metrics&&this.metrics.trackStream({stream:M,remotePeer:m,protocol:y}),{stream:{...R,...M},protocol:y}}catch(M){throw r.error("could not create new stream",M),i(M,e.ERR_UNSUPPORTED_PROTOCOL)}},a(d,A,d).catch(r.error));const T=u.timeline;u.timeline=new Proxy(T,{set:(...E)=>(k&&E[1]==="close"&&E[2]&&!T.close&&(async()=>{try{k.stat.status==="open"&&await k.close()}catch(R){r.error(R)}finally{this.onConnectionEnd(k)}})(),Reflect.set(...E))}),u.timeline.upgraded=Date.now();const g=()=>{throw i(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return k=new c({rawConn:this.exposeRawConn?u.conn:void 0,localAddr:u.localAddr,remoteAddr:u.remoteAddr,localPeer:this.localPeer,remotePeer:m,stat:{direction:h,timeline:u.timeline,multiplexer:l&&l.multicodec,encryption:n},newStream:B||g,getStreams:()=>A?A.streams:g,close:async E=>{await u.close(E),A&&A.streams.map(R=>R.abort(E))}}),this.onConnection(k),k}_onStream({connection:n,stream:h,protocol:u}){this.protocols.get(u)({connection:n,stream:h,protocol:u})}async _encryptInbound(n,h,u){const d=new f.Listener(h),l=Array.from(u.keys());r("handling inbound crypto protocol selection",l);try{const{stream:m,protocol:A}=await d.handle(l),B=u.get(A);if(r("encrypting inbound connection..."),!B)throw new Error("no crypto module found for "+A);return{...await B.secureInbound(n,m),protocol:A}}catch(m){throw i(m,e.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(n,h,u,d){const l=new f.Dialer(h),m=Array.from(d.keys());r("selecting outbound crypto protocol",m);try{const{stream:A,protocol:B}=await l.select(m),k=d.get(B);if(r("encrypting outbound connection to %j",u),!k)throw new Error("no crypto module found for "+B);return{...await k.secureOutbound(n,A,u),protocol:B}}catch(A){throw i(A,e.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(n,h){const u=new f.Dialer(n),d=Array.from(h.keys());r("outbound selecting muxer %s",d);try{const{stream:l,protocol:m}=await u.select(d);return r("%s selected as muxer protocol",m),{stream:l,Muxer:h.get(m)}}catch(l){throw i(l,e.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(n,h){const u=new f.Listener(n),d=Array.from(h.keys());r("inbound handling muxers %s",d);try{const{stream:l,protocol:m}=await u.handle(d);return{stream:l,Muxer:h.get(m)}}catch(l){throw i(l,e.ERR_MUXER_UNAVAILABLE)}}}},function(N,x,b){const s=b(386),r=b(387),i=b(388),{PROTOCOL_ID:f}=b(165);x.PROTOCOL_ID=f;class c{constructor(t){this._stream=t,this._shaken=!1}async _handshake(){if(this._shaken)return;const{stream:t}=await s(this._stream,f);this._stream=t,this._shaken=!0}}x.Dialer=class extends c{select(t){return s(this._stream,t,this._shaken?null:f)}async ls(){await this._handshake();const{stream:t,protocols:a}=await i(this._stream);return this._stream=t,a}},x.Listener=class extends c{handle(t){return r(this._stream,t)}}},function(N,x,b){const s=b(3)("mss:select"),r=b(1),i=b(99),f=b(65);N.exports=async(c,t,a)=>{t=Array.isArray(t)?[...t]:[t];const{reader:o,writer:e,rest:n,stream:h}=f(c),u=t.shift();a?(s('select: write ["%s", "%s"]',a,u),i.writeAll(e,[a,u])):(s('select: write "%s"',u),i.write(e,u));let d=(await i.read(o)).toString();if(s('select: read "%s"',d),d===a&&(d=(await i.read(o)).toString(),s('select: read "%s"',d)),d===u)return n(),{stream:h,protocol:u};for(const l of t){s('select: write "%s"',l),i.write(e,l);const m=(await i.read(o)).toString();if(s('select: read "%s" for "%s"',m,l),m===l)return n(),{stream:h,protocol:l}}throw n(),r(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}},function(N,x,b){const s=b(3)("mss:handle"),r=b(39),i=b(99),f=b(65),{PROTOCOL_ID:c}=b(165);N.exports=async(t,a)=>{a=Array.isArray(a)?a:[a];const{writer:o,reader:e,rest:n,stream:h}=f(t);for(;;){const u=(await i.read(e)).toString();if(s('read "%s"',u),u!==c){if(a.includes(u))return i.write(o,u),s('respond with "%s" for "%s"',u,u),n(),{stream:h,protocol:u};u!=="ls"?(i.write(o,"na"),s('respond with "na" for "%s"',u)):(i.write(o,new r(a.map(d=>i.encode(d)))),s('respond with "%s" for %s',a,u))}else s('respond with "%s" for "%s"',c,u),i.write(o,c)}}},function(N,x,b){const s=b(148),r=b(3)("it-multistream-select:ls"),i=b(99),f=b(65),c=b(50),t=b(34);N.exports=async a=>{const{reader:o,writer:e,rest:n,stream:h}=f(a);r('write "ls"'),i.write(e,"ls"),n();const u=await i.read(o),d=s([u]),l=[];return await t(d,c.decode(),async m=>{for await(const A of m)l.push(A.shallowSlice(0,-1).toString())}),{stream:h,protocols:l}}},function(N,x,b){x.Connection=b(390)},function(N,x,b){const s=b(391),r=b(489),i=b(24),{OPEN:f,CLOSING:c,CLOSED:t}=b(495),a=Symbol.for("@libp2p/interface-connection/connection");class o{constructor({rawConn:e,localAddr:n,remoteAddr:h,localPeer:u,remotePeer:d,newStream:l,close:m,getStreams:A,stat:B,transportTag:k=""}){!function(T,g,E,R,S,M,y,p,w){if(g&&!r.isMultiaddr(g))throw i(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!s.isPeerId(E))throw i(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!s.isPeerId(R))throw i(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(typeof S!="function")throw i(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if(typeof M!="function")throw i(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if(typeof y!="function")throw i(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!p)throw i(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if(p.direction!=="inbound"&&p.direction!=="outbound")throw i(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!p.timeline)throw i(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!p.timeline.open)throw i(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!p.timeline.upgraded)throw i(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}(0,n,u,d,l,m,A,B),this.id=parseInt(String(1e9*Math.random())).toString(36)+Date.now(),this.rawConn=e,this.localAddr=n,this.remoteAddr=h,this.localPeer=u,this.remotePeer=d,this.transportTag=k,this._stat={...B,status:f},this._newStream=l,this._close=m,this._getStreams=A,this.registry=new Map,this.tags=[]}get[Symbol.toStringTag](){return"Connection"}get[a](){return!0}static isConnection(e){return Boolean(e&&e[a])}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(e){if(this.stat.status===c)throw i(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===t)throw i(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(e)||(e=[e]);const{stream:n,protocol:h}=await this._newStream(e);return this.addStream(n,{protocol:h}),{stream:n,protocol:h}}addStream(e,{protocol:n,metadata:h={}}){this.registry.set(e.id,{protocol:n,...h})}removeStream(e){this.registry.delete(e)}async close(){if(this.stat.status!==t){if(this._closing)return this._closing;this.stat.status=c,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=t}}}N.exports=o},function(N,x,b){const s=b(66),r=b(103),i=b(409),f=b(181),{PeerIdProto:c}=b(488),t=b(35),a=b(20),o=b(12),e=f(class{constructor(d,l,m){if(!(d instanceof Uint8Array))throw new Error("invalid id provided");if(l&&m&&!t(l.public.bytes,m.bytes))throw new Error("inconsistent arguments");this._id=d,this._idB58String=s.toB58String(this.id),this._privKey=l,this._pubKey=m}get id(){return this._id}set id(d){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(d){this._privKey=d}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{const d=s.decode(this.id);d.name==="identity"&&(this._pubKey=i.unmarshalPublicKey(d.digest))}catch(d){}return this._pubKey}set pubKey(d){this._pubKey=d}marshalPubKey(){if(this.pubKey)return i.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return i.marshalPrivateKey(this.privKey)}marshal(d){return c.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:d?null:this.marshalPrivKey()})}toPrint(){let d=this.toB58String();d.startsWith("Qm")&&(d=d.slice(2));let l=6;return d.length<l&&(l=d.length),"<peer.ID "+d.substr(0,l)+">"}toJSON(){return{id:this.toB58String(),privKey:u(this.marshalPrivKey()),pubKey:u(this.marshalPubKey())}}toHexString(){return s.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const d=new r(1,"libp2p-key",this.id,"base32");this._idCIDString=d.toBaseEncodedString("base32")}return this._idCIDString}equals(d){if(d instanceof Uint8Array)return t(this.id,d);if(d.id)return t(this.id,d.id);throw new Error("not valid Id")}isEqual(d){return this.equals(d)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&t(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(s.decode(this.id).name==="identity")return!0}catch(d){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});x=N.exports=e;const n=d=>d.bytes.length<=42?s.encode(d.bytes,"identity"):d.hash(),h=async(d,l)=>{const m=await n(l);return new e(m,d,l)};x.create=async d=>{(d=d||{}).bits=d.bits||2048,d.keyType=d.keyType||"RSA";const l=await i.generateKeyPair(d.keyType,d.bits);return h(l,l.public)},x.createFromHexString=d=>new e(s.fromHexString(d)),x.createFromBytes=d=>new e(d),x.createFromB58String=d=>x.createFromCID(d);function u(d){if(d)return o(d,"base64pad")}x.createFromCID=d=>{if(!(l=>l.codec==="libp2p-key"||l.codec==="dag-pb")(d=r.isCID(d)?d:new r(d)))throw new Error("Supplied PeerID CID has invalid multicodec: "+d.codec);return new e(d.multihash)},x.createFromPubKey=async d=>{let l=d;if(typeof l=="string"&&(l=a(d,"base64pad")),!(l instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const m=await i.unmarshalPublicKey(l);return h(null,m)},x.createFromPrivKey=async d=>{if(typeof d=="string"&&(d=a(d,"base64pad")),!(d instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const l=await i.unmarshalPrivateKey(d);return h(l,l.public)},x.createFromJSON=async d=>{const l=s.fromB58String(d.id),m=d.privKey&&a(d.privKey,"base64pad"),A=d.pubKey&&a(d.pubKey,"base64pad"),B=A&&await i.unmarshalPublicKey(A);if(!m)return new e(l,null,B);const k=await i.unmarshalPrivateKey(m),T=await n(k.public);let g;if(B&&(g=await n(B)),B&&!t(T,g))throw new Error("Public and private key do not match");if(l&&!t(T,l))throw new Error("Id and private key do not match");return new e(l,k,B)},x.createFromProtobuf=async d=>{typeof d=="string"&&(d=a(d,"base16"));let l,m,{id:A,privKey:B,pubKey:k}=c.decode(d);if(B=!!B&&await i.unmarshalPrivateKey(B),k=!!k&&await i.unmarshalPublicKey(k),B&&(m=await n(B.public)),k&&(l=await n(k)),B){if(k&&!t(m,l))throw new Error("Public and private key do not match");return new e(m,B,B.public)}if(k)return new e(l,null,k);if(A)return new e(A);throw new Error("Protobuf did not contain any usable key material")},x.isPeerId=d=>Boolean(typeof d=="object"&&d._id&&d._idB58String)},function(N,x,b){N.exports=function(s){if(s.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var f=0;f<s.length;f++){var c=s.charAt(f),t=c.charCodeAt(0);if(r[t]!==255)throw new TypeError(c+" is ambiguous");r[t]=f}var a=s.length,o=s.charAt(0),e=Math.log(a)/Math.log(256),n=Math.log(256)/Math.log(a);function h(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;var d=0;if(u[d]!==" "){for(var l=0,m=0;u[d]===o;)l++,d++;for(var A=(u.length-d)*e+1>>>0,B=new Uint8Array(A);u[d];){var k=r[u.charCodeAt(d)];if(k===255)return;for(var T=0,g=A-1;(k!==0||T<m)&&g!==-1;g--,T++)k+=a*B[g]>>>0,B[g]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");m=T,d++}if(u[d]!==" "){for(var E=A-m;E!==A&&B[E]===0;)E++;for(var R=new Uint8Array(l+(A-E)),S=l;E!==A;)R[S++]=B[E++];return R}}}return{encode:function(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";for(var d=0,l=0,m=0,A=u.length;m!==A&&u[m]===0;)m++,d++;for(var B=(A-m)*n+1>>>0,k=new Uint8Array(B);m!==A;){for(var T=u[m],g=0,E=B-1;(T!==0||g<l)&&E!==-1;E--,g++)T+=256*k[E]>>>0,k[E]=T%a>>>0,T=T/a>>>0;if(T!==0)throw new Error("Non-zero carry");l=g,m++}for(var R=B-l;R!==B&&k[R]===0;)R++;for(var S=o.repeat(d);R<B;++R)S+=s.charAt(k[R]);return S},decodeUnsafe:h,decode:function(u){var d=h(u);if(d)return d;throw new Error("Non-base"+a+" character")}}}},function(N,x,b){const{encodeText:s}=b(101);N.exports=class{constructor(r,i,f,c){this.name=r,this.code=i,this.codeBuf=s(this.code),this.alphabet=c,this.codec=f(c)}encode(r){return this.codec.encode(r)}decode(r){for(const i of r)if(this.alphabet&&this.alphabet.indexOf(i)<0)throw new Error(`invalid character '${i}' in '${r}'`);return this.codec.decode(r)}}},function(N,x,b){N.exports={rfc4648:s=>r=>({encode:i=>((f,c,t)=>{const a=c[c.length-1]==="=",o=(1<<t)-1;let e="",n=0,h=0;for(let u=0;u<f.length;++u)for(h=h<<8|f[u],n+=8;n>t;)n-=t,e+=c[o&h>>n];if(n&&(e+=c[o&h<<t-n]),a)for(;e.length*t&7;)e+="=";return e})(i,r,s),decode:i=>((f,c,t)=>{const a={};for(let d=0;d<c.length;++d)a[c[d]]=d;let o=f.length;for(;f[o-1]==="=";)--o;const e=new Uint8Array(o*t/8|0);let n=0,h=0,u=0;for(let d=0;d<o;++d){const l=a[f[d]];if(l===void 0)throw new SyntaxError("Invalid character "+f[d]);h=h<<t|l,n+=t,n>=8&&(n-=8,e[u++]=255&h>>n)}if(n>=t||255&h<<8-n)throw new SyntaxError("Unexpected end of data");return e})(i,r,s)})}},function(N,x,b){N.exports={encode:b(396),decode:b(397),encodingLength:b(398)}},function(N,x,b){N.exports=function r(i,f,c){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw r.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o||t>49)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});N.exports={names:s}},function(N,x,b){const s=b(166),r=b(404),i=b(405),f=b(167),c=b(27),t=b(406),a=b(407);N.exports={addPrefix:function(o,e){let n;if(o instanceof Uint8Array)n=f.varintUint8ArrayEncode(o);else{if(!i[o])throw new Error("multicodec not recognized");n=i[o]}return c([n,e],n.length+e.length)},rmPrefix:function(o){return s.decode(o),o.slice(s.decode.bytes)},getCodec:function(o){const e=s.decode(o),n=r.get(e);if(n===void 0)throw new Error(`Code ${e} not found`);return n},getName:function(o){return r.get(o)},getNumber:function(o){const e=i[o];if(e===void 0)throw new Error("Codec `"+o+"` not found");return s.decode(e)},getCode:function(o){return s.decode(o)},getCodeVarint:function(o){const e=i[o];if(e===void 0)throw new Error("Codec `"+o+"` not found");return e},getVarint:function(o){return s.encode(o)},print:a,...t}},function(N,x,b){N.exports=function r(i,f,c){if(Number.MAX_SAFE_INTEGER&&i>Number.MAX_SAFE_INTEGER)throw r.bytes=0,new RangeError("Could not encode varint");f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o||t>49)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const{baseTable:s}=b(51),r=new Map;for(const i in s){const f=s[i];r.set(f,i)}N.exports=Object.freeze(r)},function(N,x,b){const{baseTable:s}=b(51),r=b(167).varintEncode,i={};for(const f in s){const c=s[f];i[f]=r(c)}N.exports=Object.freeze(i)},function(N,x,b){const{baseTable:s}=b(51),r={};for(const[i,f]of Object.entries(s))r[i.toUpperCase().replace(/-/g,"_")]=f;N.exports=Object.freeze(r)},function(N,x,b){const{baseTable:s}=b(51),r={};for(const[i,f]of Object.entries(s))r[f]===void 0&&(r[f]=i);N.exports=Object.freeze(r)},function(N,x,b){const s=b(66),r={checkCIDComponents:function(i){if(i==null)return"null values are not valid CIDs";if(i.version!==0&&i.version!==1)return"Invalid version, must be a number equal to 1 or 0";if(typeof i.codec!="string")return"codec must be string";if(i.version===0){if(i.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(i.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(i.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{s.validate(i.multihash)}catch(f){let c=f.message;return c||(c="Multihash validation failed"),c}}};N.exports=r},function(N,x,b){const s=b(67)(b(105));b(52),b(436);const r=b(2),i=b(24),f=b(20),c=b(447);x=N.exports;const t={rsa:b(448),ed25519:b(454),secp256k1:b(456)(s,b(174))};x.supportedKeys=t,x.keysPBM=s;const a="secp256k1 support requires libp2p-crypto-secp256k1 package",o="ERR_MISSING_PACKAGE";function e(n){const h=t[n.toLowerCase()];if(!h){const u=Object.keys(t).join(" / ");throw i(new Error(`invalid or unsupported key type ${n}. Must be ${u}`),"ERR_UNSUPPORTED_KEY_TYPE")}return h}x.keyStretcher=b(482),x.generateEphemeralKeyPair=b(485),x.generateKeyPair=async(n,h)=>e(n).generateKeyPair(h),x.generateKeyPairFromSeed=async(n,h,u)=>{const d=e(n);if(n.toLowerCase()!=="ed25519")throw i(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return d.generateKeyPairFromSeed(h,u)},x.unmarshalPublicKey=n=>{const h=s.PublicKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPublicKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PublicKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PublicKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPublicKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.unmarshalPrivateKey=async n=>{const h=s.PrivateKey.decode(n),u=h.Data;switch(h.Type){case s.KeyType.RSA:return t.rsa.unmarshalRsaPrivateKey(u);case s.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PrivateKey(u);case s.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PrivateKey(u);throw i(new Error(a),o);default:e(h.Type)}},x.marshalPrivateKey=(n,h)=>(e(h=(h||"rsa").toLowerCase()),n.bytes),x.import=async(n,h)=>{try{const l=await c.import(n,h);return x.unmarshalPrivateKey(l)}catch(l){}const u=r.pki.decryptRsaPrivateKey(n,h);if(u===null)throw i(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let d=r.asn1.toDer(r.pki.privateKeyToAsn1(u));return d=f(d.getBytes(),"ascii"),t.rsa.unmarshalRsaPrivateKey(d)}},function(N,x,b){var s=b(411),r=b(413);N.exports=s,N.exports.parse=s,N.exports.stringify=r},function(N,x,b){var s=b(412),r=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(k){for(var T={};k.length;)switch(k[0]){case"[":case",":k.shift();var g=k.shift();if(g==="("&&(g=k.shift(),k.shift()),k[0]!=="=")throw new Error("Unexpected token in field options: "+k[0]);if(k.shift(),k[0]==="]")throw new Error("Unexpected ] in field option");T[g]=k.shift();break;case"]":return k.shift(),T;default:throw new Error("Unexpected token in field options: "+k[0])}throw new Error("No closing tag for field options")},f=function(k){for(var T={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};k.length;)switch(k[0]){case"=":k.shift(),T.tag=Number(k.shift());break;case"map":if(T.type="map",T.map={from:null,to:null},k.shift(),k[0]!=="<")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.from=k.shift(),k[0]!==",")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),T.map.to=k.shift(),k[0]!==">")throw new Error("Unexpected token in map type: "+k[0]);k.shift(),T.name=k.shift();break;case"repeated":case"required":case"optional":var g=k.shift();T.required=g==="required",T.repeated=g==="repeated",T.type=k.shift(),T.name=k.shift();break;case"[":T.options=i(k);break;case";":if(T.name===null)throw new Error("Missing field name");if(T.type===null)throw new Error("Missing type in message field: "+T.name);if(T.tag===-1)throw new Error("Missing tag number in message field: "+T.name);return k.shift(),T;default:throw new Error("Unexpected token in message field: "+k[0])}throw new Error("No ; found for message field")},c=function(k){for(var T={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};k.length;)switch(k[0]){case"map":case"repeated":case"optional":case"required":T.fields.push(f(k));break;case"enum":T.enums.push(u(k));break;case"message":T.messages.push(o(k));break;case"extensions":T.extensions=a(k);break;case"oneof":k.shift();var g=k.shift();if(k[0]!=="{")throw new Error("Unexpected token in oneof: "+k[0]);for(k.shift();k[0]!=="}";){k.unshift("optional");var E=f(k);E.oneof=g,T.fields.push(E)}k.shift();break;case"extend":T.extends.push(t(k));break;case";":k.shift();break;case"reserved":for(k.shift();k[0]!==";";)k.shift();break;case"option":var R=d(k);if(T.options[R.name]!==void 0)throw new Error("Duplicate option "+R.name);T.options[R.name]=R.value;break;default:k.unshift("optional"),T.fields.push(f(k))}return T},t=function(k){return{name:k[1],message:o(k)}},a=function(k){k.shift();var T=Number(k.shift());if(isNaN(T))throw new Error("Invalid from in extensions definition");if(k.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var g=k.shift();if(g==="max"&&(g=536870911),g=Number(g),isNaN(g))throw new Error("Invalid to in extensions definition");if(k.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:T,to:g}},o=function(k){k.shift();var T=1,g=[],E={name:k.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="{"?T++:k[0]==="}"&&T--,!T)return k.shift(),g=c(g),E.enums=g.enums,E.messages=g.messages,E.fields=g.fields,E.extends=g.extends,E.extensions=g.extensions,E.options=g.options,E;g.push(k.shift())}if(T)throw new Error("No closing tag for message")},e=function(k){k.shift();var T=k.shift();if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},n=function(k){if(k.shift(),k[0]!=="=")throw new Error("Expected = but found "+k[0]);k.shift();var T=k.shift();switch(T){case'"proto2"':T=2;break;case'"proto3"':T=3;break;default:throw new Error("Expected protobuf syntax version but found "+T)}if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),T},h=function(k){if(k.length<4)throw new Error("Invalid enum value: "+k.slice(0,3).join(" "));if(k[1]!=="=")throw new Error("Expected = but found "+k[1]);if(k[3]!==";"&&k[3]!=="[")throw new Error("Expected ; or [ but found "+k[1]);var T=k.shift();k.shift();var g={value:null,options:{}};return g.value=Number(k.shift()),k[0]==="["&&(g.options=i(k)),k.shift(),{name:T,val:g}},u=function(k){k.shift();var T={},g={name:k.shift(),values:{},options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),g;if(k[0]!=="option"){var E=h(k);g.values[E.name]=E.val}else T=d(k),g.options[T.name]=T.value}throw new Error("No closing tag for enum")},d=function(k){for(var T=null,g=null,E=function(S){return S==="true"||S!=="false"&&S.replace(/^"+|"+$/gm,"")};k.length;){if(k[0]===";")return k.shift(),{name:T,value:g};switch(k[0]){case"option":k.shift();var R=k[0]==="(";if(R&&k.shift(),T=k.shift(),R){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}k[0][0]==="."&&(T+=k.shift());break;case"=":if(k.shift(),T===null)throw new Error("Expected key for option with value: "+k[0]);if(g=E(k.shift()),T==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(g))throw new Error("Unexpected value for option optimize_for: "+g);g==="{"&&(g=l(k));break;default:throw new Error("Unexpected token in option: "+k[0])}}},l=function(k){for(var T=function(M){return M==="true"||M!=="false"&&M.replace(/^"+|"+$/gm,"")},g={};k.length;){if(k[0]==="}")return k.shift(),g;var E=k[0]==="(";E&&k.shift();var R=k.shift();if(E){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}var S=null;switch(k[0]){case":":if(g[R]!==void 0)throw new Error("Duplicate option map key "+R);k.shift(),(S=T(k.shift()))==="{"&&(S=l(k)),g[R]=S,k[0]===";"&&k.shift();break;case"{":if(k.shift(),S=l(k),g[R]===void 0&&(g[R]=[]),!Array.isArray(g[R]))throw new Error("Duplicate option map key "+R);g[R].push(S);break;default:throw new Error("Unexpected token in option map: "+k[0])}}throw new Error("No closing tag for option map")},m=function(k){k.shift();var T=k.shift().replace(/^"+|"+$/gm,"");if(k[0]!==";")throw new Error("Unexpected token: "+k[0]+'. Expected ";"');return k.shift(),T},A=function(k){k.shift();var T={name:k.shift(),methods:[],options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;switch(k[0]){case"option":var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value;break;case"rpc":T.methods.push(B(k));break;default:throw new Error("Unexpected token in service: "+k[0])}}throw new Error("No closing tag for service")},B=function(k){k.shift();var T={name:k.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.client_streaming=!0),T.input_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]!=="returns")throw new Error("Expected returns but found "+k[0]);if(k.shift(),k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),T.server_streaming=!0),T.output_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]===";")return k.shift(),T;if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),T;if(k[0]!=="option")throw new Error("Unexpected token in rpc options: "+k[0]);var g=d(k);if(T.options[g.name]!==void 0)throw new Error("Duplicate option "+g.name);T.options[g.name]=g.value}throw new Error("No closing tag for rpc")};N.exports=function(k){for(var T=s(k.toString()),g=0;g<T.length;g++){var E;if(/^("|')([^'"]*)$/.test(T[g])){for(E=T[g].length===1?g+1:g;E<T.length;E++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(T[E])){T=T.slice(0,g).concat(T.slice(g,E+1).join("")).concat(T.slice(E+1));break}}}for(var R={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},S=!0;T.length;){switch(T[0]){case"package":R.package=e(T);break;case"syntax":if(!S)throw new Error("Protobuf syntax version should be first thing in file");R.syntax=n(T);break;case"message":R.messages.push(o(T));break;case"enum":R.enums.push(u(T));break;case"option":var M=d(T);if(R.options[M.name])throw new Error("Duplicate option "+M.name);R.options[M.name]=M.value;break;case"import":R.imports.push(m(T));break;case"extend":R.extends.push(t(T));break;case"service":R.services||(R.services=[]),R.services.push(A(T));break;default:throw new Error("Unexpected token: "+T[0])}S=!1}return R.extends.forEach(function(y){R.messages.forEach(function(p){p.name===y.name&&y.message.fields.forEach(function(w){if(!p.extensions||w.tag<p.extensions.from||w.tag>p.extensions.to)throw new Error(p.name+" does not declare "+w.tag+" as an extension number");p.fields.push(w)})})}),R.messages.forEach(function(y){y.fields.forEach(function(p){var w,v,_,C;if(p.options&&p.options.packed==="true"&&r.indexOf(p.type)===-1){if(p.type.indexOf(".")===-1){if(y.enums&&y.enums.some(function(L){return L.name===p.type}))return}else{if((w=p.type.split(".")).length>2)throw new Error("what is this?");if(v=w[0],_=w[1],R.messages.some(function(L){if(L.name===v)return C=L,L}),C&&C.enums&&C.enums.some(function(L){return L.name===_}))return}throw new Error("Fields of type "+p.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),R}},function(N,x,b){N.exports=function(s){var r,i=function(f){return f.trim()};return s.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(i).filter(Boolean).map(function(f){var c=f.indexOf("//");return c>-1?f.slice(0,c):f}).map(i).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter((r=!1,function(f){return f==="/*"?(r=!0,!1):f==="*/"?(r=!1,!1):!r}))}},function(N,x,b){var s=function(e,n){var h=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(h="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(h="");var u=Object.keys(e.options||{}).map(function(d){return d+" = "+e.options[d]}).join(",");return u&&(u=" ["+u+"]"),n.push((h?h+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+u+";"),n},r=function(e,n){n.push("message "+e.name+" {"),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(u){n.push(i(u,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(u){n.push(r(u,[]))});var h={};return e.fields||(e.fields=[]),e.fields.forEach(function(u){u.oneof?(h[u.oneof]||(h[u.oneof]=[]),h[u.oneof].push(s(u,[]))):n.push(s(u,[]))}),Object.keys(h).forEach(function(u){h[u].unshift("oneof "+u+" {"),h[u].push("}"),n.push(h[u])}),n.push("}",""),n},i=function(e,n){n.push("enum "+e.name+" {"),e.options||(e.options={});var h=c(e.options,[]);return h.length>1&&n.push(h.slice(0,-1)),Object.keys(e.values).map(function(u){var d=f(e.values[u]);n.push([u+" = "+d+";"])}),n.push("}",""),n},f=function(e,n){var h=Object.keys(e.options||{}).map(function(u){return u+" = "+e.options[u]}).join(",");return h&&(h=" ["+h+"]"),e.value+h},c=function(e,n){var h=Object.keys(e);return h.forEach(function(u){var d=e[u];~u.indexOf(".")&&(u="("+u+")");var l=typeof d;l==="object"?(d=t(d,[])).length&&n.push("option "+u+" = {",d,"};"):(l==="string"&&u!=="optimize_for"&&(d='"'+d+'"'),n.push("option "+u+" = "+d+";"))}),h.length>0&&n.push(""),n},t=function(e,n){return Object.keys(e).forEach(function(h){var u=e[h],d=typeof u;d==="object"?Array.isArray(u)?u.forEach(function(l){(l=t(l,[])).length&&n.push(h+" {",l,"}")}):(u=t(u,[])).length&&n.push(h+" {",u,"}"):(d==="string"&&(u='"'+u+'"'),n.push(h+": "+u))}),n},a=function(e,n){var h="rpc "+e.name+"(";e.client_streaming&&(h+="stream "),h+=e.input_type+") returns (",e.server_streaming&&(h+="stream "),h+=e.output_type+")",e.options||(e.options={});var u=c(e.options,[]);return u.length>1?n.push(h+" {",u.slice(0,-1),"}"):n.push(h+";"),n},o=function(e){return function(n){return Array.isArray(n)?n.map(o(e+"  ")).join(`
`):e+n}};N.exports=function(e){var n=[];return n.push('syntax = "proto'+e.syntax+'";',""),e.package&&n.push("package "+e.package+";",""),e.options||(e.options={}),c(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(h){i(h,n)}),e.messages||(e.messages=[]),e.messages.forEach(function(h){r(h,n)}),e.services&&e.services.forEach(function(h){!function(u,d){d.push("service "+u.name+" {"),u.options||(u.options={}),c(u.options,d),u.methods||(u.methods=[]),u.methods.forEach(function(l){d.push(a(l,[]))}),d.push("}","")}(h,n)}),n.map(o("")).join(`
`)}},function(N,x,b){const s=b(415),r=b(432),i=b(433),f=b(434),c=b(16);N.exports=function(t,a){const o={},e={},n={},h=function(l,m){l.enums&&l.enums.forEach(function(A){A.id=m+(m?".":"")+A.name,e[A.id]=A,h(A,A.id)}),l.messages&&l.messages.forEach(function(A){A.id=m+(m?".":"")+A.name,o[A.id]=A,A.fields.forEach(function(B){if(!B.map)return;const k="Map_"+B.map.from+"_"+B.map.to,T={name:k,enums:[],messages:[],fields:[{name:"key",type:B.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:B.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:m+(m?".":"")+k};o[T.id]||(o[T.id]=T,l.messages.push(T)),B.type=k,B.repeated=!0}),h(A,A.id)})};h(t,"");const u=function(l,m){l.messages.forEach(function(E){m[E.name]=d(E.name,l.id)}),l.enums.forEach(function(E){m[E.name]=function(R){if(!R)return null;const S={};return Object.keys(R).forEach(function(M){S[M]=R[M].value}),S}(E.values)}),m.type=2,m.message=!0,m.name=l.name;const A={};l.fields.forEach(function(E){E.oneof&&(A[E.oneof]||(A[E.oneof]=[]),A[E.oneof].push(E.name))});const B=l.fields.map(function(E){return d(E.type,l.id)}),k=f(l,B,A),T=i(l,d,B,A,k),g=r(l,d,B);return T.bytes=g.bytes=0,m.buffer=!0,m.encode=T,m.decode=g,m.encodingLength=k,m},d=function(l,m,A){if(a&&a[l])return a[l];if(s[l])return s[l];const B=(m?m+"."+l:l).split(".").map(function(k,T,g){return g.slice(0,T).concat(l).join(".")}).reverse().reduce(function(k,T){return k||o[T]||e[T]},null);if(A===!1)return B;if(!B)throw new Error("Could not resolve "+l);return B.values?function(k){const T=Object.keys(k.values||[]).map(function(g){return parseInt(k.values[g].value,10)});return s.make(0,function g(E,R,S,M){if(!T.length||T.indexOf(E)===-1)throw new Error("Invalid enum value: "+E);return c.encode(E,R,M),g.bytes=c.encode.bytes,R},function g(E,R,S){var M=c.decode(E,S);if(!T.length||T.indexOf(M)===-1)throw new Error("Invalid enum value: "+M);return g.bytes=c.decode.bytes,M},c.encodingLength)}(B):n[B.id]||u(B,n[B.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(l){return d(l.id)}))}},function(N,x,b){x.make=b(15),x.bytes=b(416),x.string=b(420),x.bool=b(421),x.int32=b(422),x.int64=b(423),x.sint32=x.sint64=b(424),x.uint32=x.uint64=x.enum=x.varint=b(426),x.fixed64=x.sfixed64=b(427),x.double=b(428),x.fixed32=b(429),x.sfixed32=b(430),x.float=b(431)},function(N,x,b){const s=b(16),r=b(15);function i(f){return f.byteLength}N.exports=r(2,function f(c,t,a,o){const e=o,n=i(c);s.encode(n,t,o),o+=s.encode.bytes,t.set(c,o),f.bytes=(o+=n)-e},function f(c,t,a){const o=a,e=s.decode(c,a);a+=s.decode.bytes;const n=c.slice(a,a+e);return a+=n.length,f.bytes=a-o,n},function(f){const c=i(f);return s.encodingLength(c)+c})},function(N,x,b){N.exports=function r(i,f,c){f=f||[];for(var t=c=c||0;i>=s;)f[c++]=255&i|128,i/=128;for(;-128&i;)f[c++]=255&i|128,i>>>=7;return f[c]=0|i,r.bytes=c-t+1,f};var s=Math.pow(2,31)},function(N,x,b){N.exports=function s(r,i){var f,c=0,t=0,a=i=i||0,o=r.length;do{if(a>=o)throw s.bytes=0,new RangeError("Could not decode varint");f=r[a++],c+=t<28?(127&f)<<t:(127&f)*Math.pow(2,t),t+=7}while(f>=128);return s.bytes=a-i,c}},function(N,x,b){var s=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),f=Math.pow(2,28),c=Math.pow(2,35),t=Math.pow(2,42),a=Math.pow(2,49),o=Math.pow(2,56),e=Math.pow(2,63);N.exports=function(n){return n<s?1:n<r?2:n<i?3:n<f?4:n<c?5:n<t?6:n<a?7:n<o?8:n<e?9:10}},function(N,x,b){const s=b(16),r=b(20),i=b(12),f=b(15);N.exports=f(2,function c(t,a,o,e){const n=e,h=r(t).byteLength;s.encode(h,a,e,"utf-8"),e+=s.encode.bytes;const u=r(t);a.set(u,e),e+=u.length,c.bytes=e-n},function c(t,a,o){const e=o,n=s.decode(t,o);o+=s.decode.bytes;const h=i(t.subarray(o,o+n));return c.bytes=(o+=n)-e,h},function(c){const t=r(c).byteLength;return s.encodingLength(t)+t})},function(N,x,b){const s=b(15);N.exports=s(0,function r(i,f,c,t){f[t]=i?1:0,r.bytes=1},function r(i,f,c){const t=i[c]>0;return r.bytes=1,t},function(){return 1})},function(N,x,b){const s=b(16),r=b(15);N.exports=r(0,function i(f,c,t,a){s.encode(f<0?f+4294967296:f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a>2147483647?a-4294967296:a},function(i){return s.encodingLength(i<0?i+4294967296:i)})},function(N,x,b){const s=b(16),r=b(15);N.exports=r(0,function i(f,c,t,a){if(f<0){const o=a+9;for(s.encode(-1*f,c,a),c[a+=s.encode.bytes-1]=128|c[a];a<o-1;)c[++a]=255;c[o]=1,i.bytes=10}else s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){let a=s.decode(f,t);if(a>=Math.pow(2,63)){let o=9;for(;f[t+o-1]===255;)o--;o=o||9;const e=f.subarray(t,t+o);e[o-1]=127&e[o-1],a=-1*s.decode(e,0),i.bytes=10}else i.bytes=s.decode.bytes;return a},function(i){return i<0?10:s.encodingLength(i)})},function(N,x,b){const s=b(425),r=b(15);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){var s=b(16);x.encode=function r(i,f,c){i=i>=0?2*i:-2*i-1;var t=s.encode(i,f,c);return r.bytes=s.encode.bytes,t},x.decode=function r(i,f){var c=s.decode(i,f);return r.bytes=s.decode.bytes,1&c?(c+1)/-2:c/2},x.encodingLength=function(r){return s.encodingLength(r>=0?2*r:-2*r-1)}},function(N,x,b){const s=b(16),r=b(15);N.exports=r(0,function i(f,c,t,a){s.encode(f,c,a),i.bytes=s.encode.bytes},function i(f,c,t){const a=s.decode(f,t);return i.bytes=s.decode.bytes,a},s.encodingLength)},function(N,x,b){const s=b(15);N.exports=s(1,function r(i,f,c,t){for(const a of i)f[t]=a,t++;r.bytes=8},function r(i,f,c){const t=i.slice(c,c+8);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(15);N.exports=s(1,function r(i,f,c,t){c.setFloat64(t,i,!0),r.bytes=8},function r(i,f,c){const t=f.getFloat64(c,!0);return r.bytes=8,t},function(){return 8})},function(N,x,b){const s=b(15);N.exports=s(5,function r(i,f,c,t){c.setUint32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getUint32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(15);N.exports=s(5,function r(i,f,c,t){c.setInt32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getInt32(c,!0);return r.bytes=4,t},function(r){return 4})},function(N,x,b){const s=b(15);N.exports=s(5,function r(i,f,c,t){c.setFloat32(t,i,!0),r.bytes=4},function r(i,f,c){const t=f.getFloat32(c,!0);return r.bytes=4,t},function(){return 4})},function(N,x,b){const s=b(16),r=b(104).defined;function i(o){return`${o.substring(0,1).toUpperCase()}${o.substring(1)}`}function f(o,e,n,h){if(Object.prototype.hasOwnProperty.call(o,e))return;const u=i(e);Object.defineProperties(o,{[e]:{enumerable:!0,configurable:!0,set:d=>{n=d},get:()=>n===void 0?h:n},["has"+u]:{configurable:!0,value:()=>n!==void 0},["set"+u]:{configurable:!0,value:d=>{n=d}},["get"+u]:{configurable:!0,value:()=>n},["clear"+u]:{configurable:!0,value:()=>{n=void 0,o[e]=void 0}}})}var c=function(o,e,n,h){switch(o){case 0:return s.decode(e,h),h+s.decode.bytes;case 1:return h+8;case 2:var u=s.decode(e,h);return h+s.decode.bytes+u;case 3:case 4:throw new Error("Groups are not supported");case 5:return h+4;default:throw new Error("Unknown wire type: "+o)}},t=function(o){if(o.map)return{};if(o.repeated)return[];switch(o.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},a=function(o,e){if(e===void 0)return e;switch(o.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};N.exports=function(o,e,n){const h=[],u={},d=[],l=[];for(var m=0;m<n.length;m++){const B=o.fields[m];u[B.tag]=m;const k=B.options&&B.options.default,T=e(B.type,o.id,!1);l[m]=[k,T&&T.values],o.fields[m].packed=B.repeated&&B.options&&B.options.packed&&B.options.packed!=="false",B.required&&h.push(B.name),B.oneof&&d.push(B.name)}function A(B,k,T,g,E,R,S){const M=k.name;if(k.oneof){const w=Object.keys(T);for(var y=0;y<w.length;y++)if(d.indexOf(w[y])>-1){const v=i(w[y]);delete T["has"+v],delete T["get"+v],delete T["set"+v],delete T["clear"+v],delete T[w[y]]}}let p;if(B.message){const w=s.decode(g,R);R+=s.decode.bytes;const v=B.decode(g,E,R,R+w);k.map?(p=T[M]||{},p[v.key]=v.value):k.repeated?(p=T[M]||[],p.push(v)):p=v}else k.repeated?(p=T[M]||[],p.push(B.decode(g,E,R))):p=B.decode(g,E,R);return f(T,M,p),R+=B.decode.bytes}return function B(k,T,g,E){if(g==null&&(g=0),E==null&&(E=k.length),!(E<=k.length&&g<=k.length))throw new Error("Decoded message is not valid");T||(T=new DataView(k.buffer,k.byteOffset,k.byteLength));for(var R,S=g,M={};;){if(E<=g){var y,p,w="",v=0;for(v=0;v<h.length;v++)if(w=h[v],!r(M[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(v=0;v<n.length;v++){let G;if(R=o.fields[v],p=l[v][0],y=l[v][1],w=R.name,!Object.prototype.hasOwnProperty.call(M,w)){var _=!1;if(R.oneof){for(var C=Object.keys(M),L=0;L<C.length;L++)if(d.indexOf(C[L])>-1){_=!0;break}}_||(y?R.repeated?p=[]:(p=p&&y[p]?y[p].value:y[Object.keys(y)[0]].value,p=parseInt(p||0,10)):(G=t(R),p=a(R,p)),f(M,w,p,G))}}return B.bytes=g-S,M}var O=s.decode(k,g);g+=s.decode.bytes;var U=u[O>>3];if(U!=null){var q=n[U];if((R=o.fields[U]).packed){var H=s.decode(k,g);for(H+=g+=s.decode.bytes;g<H;)g=A(q,R,M,k,T,g)}else g=A(q,R,M,k,T,g)}else g=c(7&O,k,T,g)}}}},function(N,x,b){var s=b(104).defined,r=b(16);N.exports=function(i,f,c,t,a){const o=Object.keys(t),e=c.length,n={};for(let u=0;u<e;u++){n[u]={p:r.encode(i.fields[u].tag<<3|2),h:r.encode(i.fields[u].tag<<3|c[u].type)};const d=i.fields[u];i.fields[u].packed=d.repeated&&d.options&&d.options.packed&&d.options.packed!=="false"}function h(u,d,l,m,A,B,k){let T=0;if(!B)for(T=0;T<m.length;T++)u[l++]=m[T];return A.message&&(r.encode(A.encodingLength(k),u,l),l+=r.encode.bytes),A.encode(k,u,d,l),l+A.encode.bytes}return function u(d,l,m,A=0){l==null&&(l=new Uint8Array(a(d))),m==null&&(m=new DataView(l.buffer,l.byteOffset,l.byteLength));const B=A,k=Object.keys(d);let T=0,g=!1;for(T=0;T<o.length;T++){const E=o[T],R=t[T];if(k.indexOf(R)>-1){if(g)throw new Error("only one of the properties defined in oneof "+E+" can be set");g=!0}}for(T=0;T<e;T++){const E=c[T],R=i.fields[T];let S=d[R.name],M=0;if(!s(S)){if(R.required)throw new Error(R.name+" is required");continue}const y=n[T].p,p=n[T].h,w=R.packed;if(R.map){const v=Object.keys(S);for(M=0;M<v.length;M++)v[M]={key:v[M],value:S[v[M]]};S=v}if(w){let v=0;for(M=0;M<S.length;M++)Object.prototype.hasOwnProperty.call(S,M)&&(v+=E.encodingLength(S[M]));if(v){for(M=0;M<p.length;M++)l[A++]=y[M];r.encode(v,l,A),A+=r.encode.bytes}}if(R.repeated){let v;for(M=0;M<S.length;M++)v=S[M],s(v)&&(A=h(l,m,A,p,E,w,v))}else A=h(l,m,A,p,E,w,S)}return u.bytes=A-B,l}}},function(N,x,b){var s=b(104).defined,r=b(16);N.exports=function(i,f,c){const t=Object.keys(c),a=f.length,o=new Array(a);for(let e=0;e<i.fields.length;e++){o[e]=r.encodingLength(i.fields[e].tag<<3|f[e].type);const n=i.fields[e];i.fields[e].packed=n.repeated&&n.options&&n.options.packed&&n.options.packed!=="false"}return function(e){let n=0,h=0,u=0;for(h=0;h<t.length;h++){const d=t[h],l=c[d];let m=!1;for(u=0;u<l.length;u++)if(s(e[l[u]])){if(m)throw new Error("only one of the properties defined in oneof "+d+" can be set");m=!0}}for(h=0;h<a;h++){const d=f[h],l=i.fields[h];let m=e[l.name];const A=o[h];let B;if(s(m)){if(l.map){const k=Object.keys(m);for(u=0;u<k.length;u++)k[u]={key:k[u],value:m[k[u]]};m=k}if(l.packed){let k=0;for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),k+=B,d.message&&(k+=r.encodingLength(B)));k&&(n+=A+k+r.encodingLength(k))}else if(l.repeated)for(u=0;u<m.length;u++)s(m[u])&&(B=d.encodingLength(m[u]),n+=A+B+(d.message?r.encodingLength(B):0));else B=d.encodingLength(m),n+=A+B+(d.message?r.encodingLength(B):0)}else if(l.required)throw new Error(l.name+" is required")}return n}}},function(N,x,b){(function(s){var r={};N.exports=r;var i={};r.encode=function(f,c,t){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');var a="";if(f instanceof Uint8Array){var o=0,e=c.length,n=c.charAt(0),h=[0];for(o=0;o<f.length;++o){for(var u=0,d=f[o];u<h.length;++u)d+=h[u]<<8,h[u]=d%e,d=d/e|0;for(;d>0;)h.push(d%e),d=d/e|0}for(o=0;f[o]===0&&o<f.length-1;++o)a+=n;for(o=h.length-1;o>=0;--o)a+=c[h[o]]}else a=function(m,A){var B=0,k=A.length,T=A.charAt(0),g=[0];for(B=0;B<m.length();++B){for(var E=0,R=m.at(B);E<g.length;++E)R+=g[E]<<8,g[E]=R%k,R=R/k|0;for(;R>0;)g.push(R%k),R=R/k|0}var S="";for(B=0;m.at(B)===0&&B<m.length()-1;++B)S+=T;for(B=g.length-1;B>=0;--B)S+=A[g[B]];return S}(f,c);if(t){var l=new RegExp(".{1,"+t+"}","g");a=a.match(l).join(`\r
`)}return a},r.decode=function(f,c){if(typeof f!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var t=i[c];if(!t){t=i[c]=[];for(var a=0;a<c.length;++a)t[c.charCodeAt(a)]=a}f=f.replace(/\s/g,"");var o=c.length,e=c.charAt(0),n=[0];for(a=0;a<f.length;a++){var h=t[f.charCodeAt(a)];if(h===void 0)return;for(var u=0,d=h;u<n.length;++u)d+=n[u]*o,n[u]=255&d,d>>=8;for(;d>0;)n.push(255&d),d>>=8}for(var l=0;f[l]===e&&l<f.length-1;++l)n.push(0);return s!==void 0?s.from(n.reverse()):new Uint8Array(n.reverse())}}).call(this,b(8).Buffer)},function(N,x,b){var s=b(2);if(b(168),b(52),b(437),b(41),b(106),b(438),b(440),b(53),b(443),b(108),b(5),r===void 0)var r=s.jsbn.BigInteger;var i=s.asn1,f=s.pki=s.pki||{};N.exports=f.pbe=s.pbe=s.pbe||{};var c=f.oids,t={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},a={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function e(u,d){return u.start().update(d).digest().getBytes()}function n(u){var d;if(u){if(!(d=f.oids[i.derToOid(u)])){var l=new Error("Unsupported PRF OID.");throw l.oid=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}}else d="hmacWithSHA1";return h(d)}function h(u){var d=s.md;switch(u){case"hmacWithSHA224":d=s.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":u=u.substr(8).toLowerCase();break;default:var l=new Error("Unsupported PRF algorithm.");throw l.algorithm=u,l.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],l}if(!d||!(u in d))throw new Error("Unknown hash algorithm: "+u);return d[u].create()}f.encryptPrivateKeyInfo=function(u,d,l){(l=l||{}).saltSize=l.saltSize||8,l.count=l.count||2048,l.algorithm=l.algorithm||"aes128",l.prfAlgorithm=l.prfAlgorithm||"sha1";var m,A,B,k=s.random.getBytesSync(l.saltSize),T=l.count,g=i.integerToDer(T);if(l.algorithm.indexOf("aes")===0||l.algorithm==="des"){var E,R,S;switch(l.algorithm){case"aes128":m=16,E=16,R=c["aes128-CBC"],S=s.aes.createEncryptionCipher;break;case"aes192":m=24,E=16,R=c["aes192-CBC"],S=s.aes.createEncryptionCipher;break;case"aes256":m=32,E=16,R=c["aes256-CBC"],S=s.aes.createEncryptionCipher;break;case"des":m=8,E=8,R=c.desCBC,S=s.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_}var M="hmacWith"+l.prfAlgorithm.toUpperCase(),y=h(M),p=s.pkcs5.pbkdf2(d,k,T,m,y),w=s.random.getBytesSync(E);(C=S(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes();var v=function(O,U,q,H){var G=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,U.getBytes())]);return H!=="hmacWithSHA1"&&G.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,s.util.hexToBytes(q.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(f.oids[H]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),G}(k,g,m,M);A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBKDF2).getBytes()),v]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(R).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,w)])])])}else{var _;if(l.algorithm!=="3des")throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=l.algorithm,_;m=24;var C,L=new s.util.ByteBuffer(k);p=f.pbe.generatePkcs12Key(d,L,1,T,m),w=f.pbe.generatePkcs12Key(d,L,2,T,m),(C=s.des.createEncryptionCipher(p)).start(w),C.update(i.toDer(u)),C.finish(),B=C.output.getBytes(),A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,k),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,g.getBytes())])])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[A,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B)])},f.decryptPrivateKeyInfo=function(u,d){var l=null,m={},A=[];if(!i.validate(u,t,m,A)){var B=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw B.errors=A,B}var k=i.derToOid(m.encryptionOid),T=f.pbe.getCipher(k,m.encryptionParams,d),g=s.util.createBuffer(m.encryptedData);return T.update(g),T.finish()&&(l=i.fromDer(T.output)),l},f.encryptedPrivateKeyToPem=function(u,d){var l={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(u).getBytes()};return s.pem.encode(l,{maxline:d})},f.encryptedPrivateKeyFromPem=function(u){var d=s.pem.decode(u)[0];if(d.type!=="ENCRYPTED PRIVATE KEY"){var l=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw l.headerType=d.type,l}if(d.procType&&d.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(d.body)},f.encryptRsaPrivateKey=function(u,d,l){if(!(l=l||{}).legacy){var m=f.wrapRsaPrivateKey(f.privateKeyToAsn1(u));return m=f.encryptPrivateKeyInfo(m,d,l),f.encryptedPrivateKeyToPem(m)}var A,B,k,T;switch(l.algorithm){case"aes128":A="AES-128-CBC",k=16,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes192":A="AES-192-CBC",k=24,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"aes256":A="AES-256-CBC",k=32,B=s.random.getBytesSync(16),T=s.aes.createEncryptionCipher;break;case"3des":A="DES-EDE3-CBC",k=24,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;case"des":A="DES-CBC",k=8,B=s.random.getBytesSync(8),T=s.des.createEncryptionCipher;break;default:var g=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+l.algorithm+'".');throw g.algorithm=l.algorithm,g}var E=T(s.pbe.opensslDeriveBytes(d,B.substr(0,8),k));E.start(B),E.update(i.toDer(f.privateKeyToAsn1(u))),E.finish();var R={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:A,parameters:s.util.bytesToHex(B).toUpperCase()},body:E.output.getBytes()};return s.pem.encode(R)},f.decryptRsaPrivateKey=function(u,d){var l=null,m=s.pem.decode(u)[0];if(m.type!=="ENCRYPTED PRIVATE KEY"&&m.type!=="PRIVATE KEY"&&m.type!=="RSA PRIVATE KEY")throw(k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=k,k;if(m.procType&&m.procType.type==="ENCRYPTED"){var A,B;switch(m.dekInfo.algorithm){case"DES-CBC":A=8,B=s.des.createDecryptionCipher;break;case"DES-EDE3-CBC":A=24,B=s.des.createDecryptionCipher;break;case"AES-128-CBC":A=16,B=s.aes.createDecryptionCipher;break;case"AES-192-CBC":A=24,B=s.aes.createDecryptionCipher;break;case"AES-256-CBC":A=32,B=s.aes.createDecryptionCipher;break;case"RC2-40-CBC":A=5,B=function(E){return s.rc2.createDecryptionCipher(E,40)};break;case"RC2-64-CBC":A=8,B=function(E){return s.rc2.createDecryptionCipher(E,64)};break;case"RC2-128-CBC":A=16,B=function(E){return s.rc2.createDecryptionCipher(E,128)};break;default:var k;throw(k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+m.dekInfo.algorithm+'".')).algorithm=m.dekInfo.algorithm,k}var T=s.util.hexToBytes(m.dekInfo.parameters),g=B(s.pbe.opensslDeriveBytes(d,T.substr(0,8),A));if(g.start(T),g.update(s.util.createBuffer(m.body)),!g.finish())return l;l=g.output.getBytes()}else l=m.body;return(l=m.type==="ENCRYPTED PRIVATE KEY"?f.decryptPrivateKeyInfo(i.fromDer(l),d):i.fromDer(l))!==null&&(l=f.privateKeyFromAsn1(l)),l},f.pbe.generatePkcs12Key=function(u,d,l,m,A,B){var k,T;if(B==null){if(!("sha1"in s.md))throw new Error('"sha1" hash algorithm unavailable.');B=s.md.sha1.create()}var g=B.digestLength,E=B.blockLength,R=new s.util.ByteBuffer,S=new s.util.ByteBuffer;if(u!=null){for(T=0;T<u.length;T++)S.putInt16(u.charCodeAt(T));S.putInt16(0)}var M=S.length(),y=d.length(),p=new s.util.ByteBuffer;p.fillWithByte(l,E);var w=E*Math.ceil(y/E),v=new s.util.ByteBuffer;for(T=0;T<w;T++)v.putByte(d.at(T%y));var _=E*Math.ceil(M/E),C=new s.util.ByteBuffer;for(T=0;T<_;T++)C.putByte(S.at(T%M));var L=v;L.putBuffer(C);for(var O=Math.ceil(A/g),U=1;U<=O;U++){var q=new s.util.ByteBuffer;q.putBytes(p.bytes()),q.putBytes(L.bytes());for(var H=0;H<m;H++)B.start(),B.update(q.getBytes()),q=B.digest();var G=new s.util.ByteBuffer;for(T=0;T<E;T++)G.putByte(q.at(T%g));var K=Math.ceil(y/E)+Math.ceil(M/E),Q=new s.util.ByteBuffer;for(k=0;k<K;k++){var z=new s.util.ByteBuffer(L.getBytes(E)),D=511;for(T=G.length()-1;T>=0;T--)D>>=8,D+=G.at(T)+z.at(T),z.setAt(T,255&D);Q.putBuffer(z)}L=Q,R.putBuffer(q)}return R.truncate(R.length()-A),R},f.pbe.getCipher=function(u,d,l){switch(u){case f.oids.pkcs5PBES2:return f.pbe.getCipherForPBES2(u,d,l);case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case f.oids["pbewithSHAAnd40BitRC2-CBC"]:return f.pbe.getCipherForPKCS12PBE(u,d,l);default:var m=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw m.oid=u,m.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],m}},f.pbe.getCipherForPBES2=function(u,d,l){var m,A={},B=[];if(!i.validate(d,a,A,B))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=B,m;if((u=i.derToOid(A.kdfOid))!==f.oids.pkcs5PBKDF2)throw(m=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=u,m.supportedOids=["pkcs5PBKDF2"],m;if((u=i.derToOid(A.encOid))!==f.oids["aes128-CBC"]&&u!==f.oids["aes192-CBC"]&&u!==f.oids["aes256-CBC"]&&u!==f.oids["des-EDE3-CBC"]&&u!==f.oids.desCBC)throw(m=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=u,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m;var k,T,g=A.kdfSalt,E=s.util.createBuffer(A.kdfIterationCount);switch(E=E.getInt(E.length()<<3),f.oids[u]){case"aes128-CBC":k=16,T=s.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,T=s.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,T=s.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,T=s.des.createDecryptionCipher;break;case"desCBC":k=8,T=s.des.createDecryptionCipher}var R=n(A.prfOid),S=s.pkcs5.pbkdf2(l,g,E,k,R),M=A.encIv,y=T(S);return y.start(M),y},f.pbe.getCipherForPKCS12PBE=function(u,d,l){var m={},A=[];if(!i.validate(d,o,m,A))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=A,R;var B,k,T,g=s.util.createBuffer(m.salt),E=s.util.createBuffer(m.iterations);switch(E=E.getInt(E.length()<<3),u){case f.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:B=24,k=8,T=s.des.startDecrypting;break;case f.oids["pbewithSHAAnd40BitRC2-CBC"]:B=5,k=8,T=function(y,p){var w=s.rc2.createDecryptionCipher(y,40);return w.start(p,null),w};break;default:var R;throw(R=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=u,R}var S=n(m.prfOid),M=f.pbe.generatePkcs12Key(l,g,1,E,B,S);return S.start(),T(M,f.pbe.generatePkcs12Key(l,g,2,E,k,S))},f.pbe.opensslDeriveBytes=function(u,d,l,m){if(m==null){if(!("md5"in s.md))throw new Error('"md5" hash algorithm unavailable.');m=s.md.md5.create()}d===null&&(d="");for(var A=[e(m,u+d)],B=16,k=1;B<l;++k,B+=16)A.push(e(m,A[k-1]+u+d));return A.join("").substr(0,l)}},function(N,x,b){var s=b(2);function r(d,l){s.cipher.registerAlgorithm(d,function(){return new s.des.Algorithm(d,l)})}b(169),b(170),b(5),N.exports=s.des=s.des||{},s.des.startEncrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!1,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createEncryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!1,mode:l})},s.des.startDecrypting=function(d,l,m,A){var B=u({key:d,output:m,decrypt:!0,mode:A||(l===null?"ECB":"CBC")});return B.start(l),B},s.des.createDecryptionCipher=function(d,l){return u({key:d,output:null,decrypt:!0,mode:l})},s.des.Algorithm=function(d,l){var m=this;m.name=d,m.mode=new l({blockSize:8,cipher:{encrypt:function(A,B){return h(m._keys,A,B,!1)},decrypt:function(A,B){return h(m._keys,A,B,!0)}}}),m._init=!1},s.des.Algorithm.prototype.initialize=function(d){if(!this._init){var l=s.util.createBuffer(d.key);if(this.name.indexOf("3DES")===0&&l.length()!==24)throw new Error("Invalid Triple-DES key size: "+8*l.length());this._keys=function(m){for(var A,B=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],k=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],T=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],g=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],E=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],R=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],S=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],M=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],y=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],w=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],v=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],_=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],C=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],L=m.length()>8?3:1,O=[],U=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],q=0,H=0;H<L;H++){var G=m.getInt32(),K=m.getInt32();G^=(A=252645135&(G>>>4^K))<<4,G^=A=65535&((K^=A)>>>-16^G),G^=(A=858993459&(G>>>2^(K^=A<<-16)))<<2,G^=A=65535&((K^=A)>>>-16^G),G^=(A=1431655765&(G>>>1^(K^=A<<-16)))<<1,G^=A=16711935&((K^=A)>>>8^G),A=(G^=(A=1431655765&(G>>>1^(K^=A<<8)))<<1)<<8|(K^=A)>>>20&240,G=K<<24|K<<8&16711680|K>>>8&65280|K>>>24&240,K=A;for(var Q=0;Q<U.length;++Q){U[Q]?(G=G<<2|G>>>26,K=K<<2|K>>>26):(G=G<<1|G>>>27,K=K<<1|K>>>27);var z=B[(G&=-15)>>>28]|k[G>>>24&15]|T[G>>>20&15]|g[G>>>16&15]|E[G>>>12&15]|R[G>>>8&15]|S[G>>>4&15],D=M[(K&=-15)>>>28]|y[K>>>24&15]|p[K>>>20&15]|w[K>>>16&15]|v[K>>>12&15]|_[K>>>8&15]|C[K>>>4&15];A=65535&(D>>>16^z),O[q++]=z^A,O[q++]=D^A<<16}}return O}(l),this._init=!0}},r("DES-ECB",s.cipher.modes.ecb),r("DES-CBC",s.cipher.modes.cbc),r("DES-CFB",s.cipher.modes.cfb),r("DES-OFB",s.cipher.modes.ofb),r("DES-CTR",s.cipher.modes.ctr),r("3DES-ECB",s.cipher.modes.ecb),r("3DES-CBC",s.cipher.modes.cbc),r("3DES-CFB",s.cipher.modes.cfb),r("3DES-OFB",s.cipher.modes.ofb),r("3DES-CTR",s.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],f=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],t=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],a=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],n=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(d,l,m,A){var B,k,T=d.length===32?3:9;B=T===3?A?[30,-2,-2]:[0,32,2]:A?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=l[0],E=l[1];g^=(k=252645135&(g>>>4^E))<<4,g^=(k=65535&(g>>>16^(E^=k)))<<16,g^=k=858993459&((E^=k)>>>2^g),g^=k=16711935&((E^=k<<2)>>>8^g),g=(g^=(k=1431655765&(g>>>1^(E^=k<<8)))<<1)<<1|g>>>31,E=(E^=k)<<1|E>>>31;for(var R=0;R<T;R+=3){for(var S=B[R+1],M=B[R+2],y=B[R];y!=S;y+=M){var p=E^d[y],w=(E>>>4|E<<28)^d[y+1];k=g,g=E,E=k^(f[p>>>24&63]|t[p>>>16&63]|o[p>>>8&63]|n[63&p]|i[w>>>24&63]|c[w>>>16&63]|a[w>>>8&63]|e[63&w])}k=g,g=E,E=k}E=E>>>1|E<<31,E^=k=1431655765&((g=g>>>1|g<<31)>>>1^E),E^=(k=16711935&(E>>>8^(g^=k<<1)))<<8,E^=(k=858993459&(E>>>2^(g^=k)))<<2,E^=k=65535&((g^=k)>>>16^E),E^=k=252645135&((g^=k<<16)>>>4^E),g^=k<<4,m[0]=g,m[1]=E}function u(d){var l,m="DES-"+((d=d||{}).mode||"CBC").toUpperCase(),A=(l=d.decrypt?s.cipher.createDecipher(m,d.key):s.cipher.createCipher(m,d.key)).start;return l.start=function(B,k){var T=null;k instanceof s.util.ByteBuffer&&(T=k,k={}),(k=k||{}).output=T,k.iv=B,A.call(l,k)},l}},function(N,x,b){(function(s){var r=b(2);b(439),b(41),b(5);var i,f=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=b(107)),N.exports=r.pbkdf2=f.pbkdf2=function(c,t,a,o,e,n){if(typeof e=="function"&&(n=e,e=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(e===null||typeof e!="object")&&(i.pbkdf2Sync.length>4||!e||e==="sha1"))return typeof e!="string"&&(e="sha1"),c=s.from(c,"binary"),t=s.from(t,"binary"),n?i.pbkdf2Sync.length===4?i.pbkdf2(c,t,a,o,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2(c,t,a,o,e,function(M,y){if(M)return n(M);n(null,y.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(c,t,a,o).toString("binary"):i.pbkdf2Sync(c,t,a,o,e).toString("binary");if(e==null&&(e="sha1"),typeof e=="string"){if(!(e in r.md.algorithms))throw new Error("Unknown hash algorithm: "+e);e=r.md[e].create()}var h=e.digestLength;if(o>4294967295*h){var u=new Error("Derived key is too long.");if(n)return n(u);throw u}var d=Math.ceil(o/h),l=o-(d-1)*h,m=r.hmac.create();m.start(e,c);var A,B,k,T="";if(!n){for(var g=1;g<=d;++g){m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes();for(var E=2;E<=a;++E)m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B;T+=g<d?A:A.substr(0,l)}return T}g=1;function R(){if(g>d)return n(null,T);m.start(null,null),m.update(t),m.update(r.util.int32ToBytes(g)),A=k=m.digest().getBytes(),E=2,S()}function S(){if(E<=a)return m.start(null,null),m.update(k),B=m.digest().getBytes(),A=r.util.xorBytes(A,B,h),k=B,++E,r.util.setImmediate(S);T+=g<d?A:A.substr(0,l),++g,R()}R()}}).call(this,b(8).Buffer)},function(N,x,b){var s=b(2);b(41),b(5),(N.exports=s.hmac=s.hmac||{}).create=function(){var r=null,i=null,f=null,c=null,t={start:function(a,o){if(a!==null)if(typeof a=="string"){if(!((a=a.toLowerCase())in s.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');i=s.md.algorithms[a].create()}else i=a;if(o===null)o=r;else{if(typeof o=="string")o=s.util.createBuffer(o);else if(s.util.isArray(o)){var e=o;o=s.util.createBuffer();for(var n=0;n<e.length;++n)o.putByte(e[n])}var h=o.length();for(h>i.blockLength&&(i.start(),i.update(o.bytes()),o=i.digest()),f=s.util.createBuffer(),c=s.util.createBuffer(),h=o.length(),n=0;n<h;++n)e=o.at(n),f.putByte(54^e),c.putByte(92^e);if(h<i.blockLength)for(e=i.blockLength-h,n=0;n<e;++n)f.putByte(54),c.putByte(92);r=o,f=f.bytes(),c=c.bytes()}i.start(),i.update(f)},update:function(a){i.update(a)},getMac:function(){var a=i.digest().bytes();return i.start(),i.update(c),i.update(a),i.digest()}};return t.digest=t.getMac,t}},function(N,x,b){var s=b(2);b(5);var r=N.exports=s.pem=s.pem||{};function i(c){for(var t=c.name+": ",a=[],o=function(d,l){return" "+l},e=0;e<c.values.length;++e)a.push(c.values[e].replace(/^(\S+\r\n)/,o));t+=a.join(",")+`\r
`;var n=0,h=-1;for(e=0;e<t.length;++e,++n)if(n>65&&h!==-1){var u=t[h];u===","?(++h,t=t.substr(0,h)+`\r
 `+t.substr(h)):t=t.substr(0,h)+`\r
`+u+t.substr(h+1),n=e-h-1,h=-1,++e}else t[e]!==" "&&t[e]!=="	"&&t[e]!==","||(h=e);return t}function f(c){return c.replace(/^\s+/,"")}r.encode=function(c,t){t=t||{};var a,o="-----BEGIN "+c.type+`-----\r
`;if(c.procType&&(o+=i(a={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]})),c.contentDomain&&(o+=i(a={name:"Content-Domain",values:[c.contentDomain]})),c.dekInfo&&(a={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&a.values.push(c.dekInfo.parameters),o+=i(a)),c.headers)for(var e=0;e<c.headers.length;++e)o+=i(c.headers[e]);return c.procType&&(o+=`\r
`),o+=s.util.encode64(c.body,t.maxline||64)+`\r
`,o+="-----END "+c.type+`-----\r
`},r.decode=function(c){for(var t,a=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,e=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/;t=o.exec(c);){var h={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:s.util.decode64(t[3])};if(a.push(h),t[2]){for(var u=t[2].split(n),d=0;t&&d<u.length;){for(var l=u[d].replace(/\s+$/,""),m=d+1;m<u.length;++m){var A=u[m];if(!/\s/.test(A[0]))break;l+=A,d=m}if(t=l.match(e)){for(var B={name:t[1],values:[]},k=t[2].split(","),T=0;T<k.length;++T)B.values.push(f(k[T]));if(h.procType)if(h.contentDomain||B.name!=="Content-Domain")if(h.dekInfo||B.name!=="DEK-Info")h.headers.push(B);else{if(B.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');h.dekInfo={algorithm:k[0],parameters:k[1]||null}}else h.contentDomain=k[0]||"";else{if(B.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(B.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');h.procType={version:k[0],type:k[1]}}}++d}if(h.procType==="ENCRYPTED"&&!h.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(a.length===0)throw new Error("Invalid PEM formatted message.");return a}},function(N,x,b){var s=b(2);b(41),b(5);var r=N.exports=s.sha256=s.sha256||{};s.md.sha256=s.md.algorithms.sha256=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=!0);var a=null,o=s.util.createBuffer(),e=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var h=n.messageLengthSize/4,u=0;u<h;++u)n.fullMessageLength.push(0);return o=s.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n}};return n.start(),n.update=function(h,u){u==="utf8"&&(h=s.util.encodeUtf8(h));var d=h.length;n.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=d[1],d[1]=d[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,d[0]=d[1]/4294967296>>>0;return o.putBytes(h),t(a,e,o),(o.read>2048||o.length()===0)&&o.compact(),n},n.digest=function(){var h=s.util.createBuffer();h.putBytes(o.bytes());var u,d=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize&n.blockLength-1;h.putBytes(i.substr(0,n.blockLength-d));for(var l=8*n.fullMessageLength[0],m=0;m<n.fullMessageLength.length-1;++m)l+=(u=8*n.fullMessageLength[m+1])/4294967296>>>0,h.putInt32(l>>>0),l=u>>>0;h.putInt32(l);var A={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};t(A,e,h);var B=s.util.createBuffer();return B.putInt32(A.h0),B.putInt32(A.h1),B.putInt32(A.h2),B.putInt32(A.h3),B.putInt32(A.h4),B.putInt32(A.h5),B.putInt32(A.h6),B.putInt32(A.h7),B},n};var i=null,f=!1,c=null;function t(a,o,e){for(var n,h,u,d,l,m,A,B,k,T,g,E,R,S=e.length();S>=64;){for(l=0;l<16;++l)o[l]=e.getInt32();for(;l<64;++l)n=((n=o[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,h=((h=o[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,o[l]=n+o[l-7]+h+o[l-16]|0;for(m=a.h0,A=a.h1,B=a.h2,k=a.h3,T=a.h4,g=a.h5,E=a.h6,R=a.h7,l=0;l<64;++l)u=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),d=m&A|B&(m^A),n=R+((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(E^T&(g^E))+c[l]+o[l],R=E,E=g,g=T,T=k+n>>>0,k=B,B=A,A=m,m=n+(h=u+d)>>>0;a.h0=a.h0+m|0,a.h1=a.h1+A|0,a.h2=a.h2+B|0,a.h3=a.h3+k|0,a.h4=a.h4+T|0,a.h5=a.h5+g|0,a.h6=a.h6+E|0,a.h7=a.h7+R|0,S-=64}}},function(N,x,b){(function(s){var r=b(2);b(5);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||s.versions["node-webkit"]||(i=b(107)),(N.exports=r.prng=r.prng||{}).create=function(f){for(var c={plugin:f,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=f.md,a=new Array(32),o=0;o<32;++o)a[o]=t.create();function e(){if(c.pools[0].messageLength>=32)return n();var u=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(u)),n()}function n(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var u=c.plugin.md.create();u.update(c.keyBytes);for(var d=1,l=0;l<32;++l)c.reseeds%d==0&&(u.update(c.pools[l].digest().getBytes()),c.pools[l].start()),d<<=1;c.keyBytes=u.digest().getBytes(),u.start(),u.update(c.keyBytes);var m=u.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(m),c.generated=0}function h(u){var d=null,l=r.util.globalScope,m=l.crypto||l.msCrypto;m&&m.getRandomValues&&(d=function(M){return m.getRandomValues(M)});var A=r.util.createBuffer();if(d)for(;A.length()<u;){var B=Math.max(1,Math.min(u-A.length(),65536)/4),k=new Uint32Array(Math.floor(B));try{d(k);for(var T=0;T<k.length;++T)A.putInt32(k[T])}catch(M){if(!(typeof QuotaExceededError!="undefined"&&M instanceof QuotaExceededError))throw M}}if(A.length()<u)for(var g,E,R,S=Math.floor(65536*Math.random());A.length()<u;)for(E=16807*(65535&S),E+=(32767&(g=16807*(S>>16)))<<16,S=4294967295&(E=(2147483647&(E+=g>>15))+(E>>31)),T=0;T<3;++T)R=S>>>(T<<3),R^=Math.floor(256*Math.random()),A.putByte(String.fromCharCode(255&R));return A.getBytes(u)}return c.pools=a,c.pool=0,c.generate=function(u,d){if(!d)return c.generateSync(u);var l=c.plugin.cipher,m=c.plugin.increment,A=c.plugin.formatKey,B=c.plugin.formatSeed,k=r.util.createBuffer();c.key=null,function T(g){if(g)return d(g);if(k.length()>=u)return d(null,k.getBytes(u));if(c.generated>1048575&&(c.key=null),c.key===null)return r.util.nextTick(function(){!function(R){if(c.pools[0].messageLength>=32)return n(),R();var S=32-c.pools[0].messageLength<<5;c.seedFile(S,function(M,y){if(M)return R(M);c.collect(y),n(),R()})}(T)});var E=l(c.key,c.seed);c.generated+=E.length,k.putBytes(E),c.key=A(l(c.key,m(c.seed))),c.seed=B(l(c.key,c.seed)),r.util.setImmediate(T)}()},c.generateSync=function(u){var d=c.plugin.cipher,l=c.plugin.increment,m=c.plugin.formatKey,A=c.plugin.formatSeed;c.key=null;for(var B=r.util.createBuffer();B.length()<u;){c.generated>1048575&&(c.key=null),c.key===null&&e();var k=d(c.key,c.seed);c.generated+=k.length,B.putBytes(k),c.key=m(d(c.key,l(c.seed))),c.seed=A(d(c.key,c.seed))}return B.getBytes(u)},i?(c.seedFile=function(u,d){i.randomBytes(u,function(l,m){if(l)return d(l);d(null,m.toString())})},c.seedFileSync=function(u){return i.randomBytes(u).toString()}):(c.seedFile=function(u,d){try{d(null,h(u))}catch(l){d(l)}},c.seedFileSync=h),c.collect=function(u){for(var d=u.length,l=0;l<d;++l)c.pools[c.pool].update(u.substr(l,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(u,d){for(var l="",m=0;m<d;m+=8)l+=String.fromCharCode(u>>m&255);c.collect(l)},c.registerWorker=function(u){u===self?c.seedFile=function(d,l){self.addEventListener("message",function m(A){var B=A.data;B.forge&&B.forge.prng&&(self.removeEventListener("message",m),l(B.forge.prng.err,B.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:d}}})}:u.addEventListener("message",function(d){var l=d.data;l.forge&&l.forge.prng&&c.seedFile(l.forge.prng.needed,function(m,A){u.postMessage({forge:{prng:{err:m,bytes:A}}})})})},c}}).call(this,b(37))},function(N,x,b){var s=b(2);b(5);var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],f=function(a,o){return a<<o&65535|(65535&a)>>16-o},c=function(a,o){return(65535&a)>>o|a<<16-o&65535};N.exports=s.rc2=s.rc2||{},s.rc2.expandKey=function(a,o){typeof a=="string"&&(a=s.util.createBuffer(a)),o=o||128;var e,n=a,h=a.length(),u=o,d=Math.ceil(u/8),l=255>>(7&u);for(e=h;e<128;e++)n.putByte(r[n.at(e-1)+n.at(e-h)&255]);for(n.setAt(128-d,r[n.at(128-d)&l]),e=127-d;e>=0;e--)n.setAt(e,r[n.at(e+1)^n.at(e+d)]);return n};var t=function(a,o,e){var n,h,u,d,l=!1,m=null,A=null,B=null,k=[];for(a=s.rc2.expandKey(a,o),u=0;u<64;u++)k.push(a.getInt16Le());e?(n=function(E){for(u=0;u<4;u++)E[u]+=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),E[u]=f(E[u],i[u]),d++},h=function(E){for(u=0;u<4;u++)E[u]+=k[63&E[(u+3)%4]]}):(n=function(E){for(u=3;u>=0;u--)E[u]=c(E[u],i[u]),E[u]-=k[d]+(E[(u+3)%4]&E[(u+2)%4])+(~E[(u+3)%4]&E[(u+1)%4]),d--},h=function(E){for(u=3;u>=0;u--)E[u]-=k[63&E[(u+3)%4]]});var T=function(E){var R=[];for(u=0;u<4;u++){var S=m.getInt16Le();B!==null&&(e?S^=B.getInt16Le():B.putInt16Le(S)),R.push(65535&S)}d=e?0:63;for(var M=0;M<E.length;M++)for(var y=0;y<E[M][0];y++)E[M][1](R);for(u=0;u<4;u++)B!==null&&(e?B.putInt16Le(R[u]):R[u]^=B.getInt16Le()),A.putInt16Le(R[u])},g=null;return g={start:function(E,R){E&&typeof E=="string"&&(E=s.util.createBuffer(E)),l=!1,m=s.util.createBuffer(),A=R||new s.util.createBuffer,B=E,g.output=A},update:function(E){for(l||m.putBuffer(E);m.length()>=8;)T([[5,n],[1,h],[6,n],[1,h],[5,n]])},finish:function(E){var R=!0;if(e)if(E)R=E(8,m,!e);else{var S=m.length()===8?8:8-m.length();m.fillWithByte(S,S)}if(R&&(l=!0,g.update()),!e&&(R=m.length()===0))if(E)R=E(8,A,!e);else{var M=A.length(),y=A.at(M-1);y>M?R=!1:A.truncate(y)}return R}}};s.rc2.startEncrypting=function(a,o,e){var n=s.rc2.createEncryptionCipher(a,128);return n.start(o,e),n},s.rc2.createEncryptionCipher=function(a,o){return t(a,o,!0)},s.rc2.startDecrypting=function(a,o,e){var n=s.rc2.createDecryptionCipher(a,128);return n.start(o,e),n},s.rc2.createDecryptionCipher=function(a,o){return t(a,o,!1)}},function(N,x,b){var s=b(2);b(5),b(53),b(445);var r=N.exports=s.pkcs1=s.pkcs1||{};function i(f,c,t){t||(t=s.md.sha1.create());for(var a="",o=Math.ceil(c/t.digestLength),e=0;e<o;++e){var n=String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e);t.start(),t.update(f+n),a+=t.digest().getBytes()}return a.substring(0,c)}r.encode_rsa_oaep=function(f,c,t){var a,o,e,n;typeof t=="string"?(a=t,o=arguments[3]||void 0,e=arguments[4]||void 0):t&&(a=t.label||void 0,o=t.seed||void 0,e=t.md||void 0,t.mgf1&&t.mgf1.md&&(n=t.mgf1.md)),e?e.start():e=s.md.sha1.create(),n||(n=e);var h=Math.ceil(f.n.bitLength()/8),u=h-2*e.digestLength-2;if(c.length>u)throw(k=new Error("RSAES-OAEP input message length is too long.")).length=c.length,k.maxLength=u,k;a||(a=""),e.update(a,"raw");for(var d=e.digest(),l="",m=u-c.length,A=0;A<m;A++)l+="\0";var B=d.getBytes()+l+""+c;if(o){if(o.length!==e.digestLength){var k;throw(k=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,k.digestLength=e.digestLength,k}}else o=s.random.getBytes(e.digestLength);var T=i(o,h-e.digestLength-1,n),g=s.util.xorBytes(B,T,B.length),E=i(g,e.digestLength,n),R=s.util.xorBytes(o,E,o.length);return"\0"+R+g},r.decode_rsa_oaep=function(f,c,t){var a,o,e;typeof t=="string"?(a=t,o=arguments[3]||void 0):t&&(a=t.label||void 0,o=t.md||void 0,t.mgf1&&t.mgf1.md&&(e=t.mgf1.md));var n=Math.ceil(f.n.bitLength()/8);if(c.length!==n)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=c.length,g.expectedLength=n,g;if(o===void 0?o=s.md.sha1.create():o.start(),e||(e=o),n<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var h=o.digest().getBytes(),u=c.charAt(0),d=c.substring(1,o.digestLength+1),l=c.substring(1+o.digestLength),m=i(l,o.digestLength,e),A=s.util.xorBytes(d,m,d.length),B=i(A,n-o.digestLength-1,e),k=s.util.xorBytes(l,B,l.length),T=k.substring(0,o.digestLength),g=u!=="\0",E=0;E<o.digestLength;++E)g|=h.charAt(E)!==T.charAt(E);for(var R=1,S=o.digestLength,M=o.digestLength;M<k.length;M++){var y=k.charCodeAt(M),p=1&y^1,w=R?65534:0;g|=y&w,S+=R&=p}if(g||k.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return k.substring(S+1)}},function(N,x,b){var s=b(2);b(41),b(5);var r=N.exports=s.sha1=s.sha1||{};s.md.sha1=s.md.algorithms.sha1=r,r.create=function(){f||(i=String.fromCharCode(128),i+=s.util.fillString(String.fromCharCode(0),64),f=!0);var t=null,a=s.util.createBuffer(),o=new Array(80),e={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){e.messageLength=0,e.fullMessageLength=e.messageLength64=[];for(var n=e.messageLengthSize/4,h=0;h<n;++h)e.fullMessageLength.push(0);return a=s.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},e}};return e.start(),e.update=function(n,h){h==="utf8"&&(n=s.util.encodeUtf8(n));var u=n.length;e.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=e.fullMessageLength.length-1;d>=0;--d)e.fullMessageLength[d]+=u[1],u[1]=u[0]+(e.fullMessageLength[d]/4294967296>>>0),e.fullMessageLength[d]=e.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return a.putBytes(n),c(t,o,a),(a.read>2048||a.length()===0)&&a.compact(),e},e.digest=function(){var n=s.util.createBuffer();n.putBytes(a.bytes());var h,u=e.fullMessageLength[e.fullMessageLength.length-1]+e.messageLengthSize&e.blockLength-1;n.putBytes(i.substr(0,e.blockLength-u));for(var d=8*e.fullMessageLength[0],l=0;l<e.fullMessageLength.length-1;++l)d+=(h=8*e.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(d>>>0),d=h>>>0;n.putInt32(d);var m={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};c(m,o,n);var A=s.util.createBuffer();return A.putInt32(m.h0),A.putInt32(m.h1),A.putInt32(m.h2),A.putInt32(m.h3),A.putInt32(m.h4),A},e};var i=null,f=!1;function c(t,a,o){for(var e,n,h,u,d,l,m,A=o.length();A>=64;){for(n=t.h0,h=t.h1,u=t.h2,d=t.h3,l=t.h4,m=0;m<16;++m)e=o.getInt32(),a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<20;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(d^h&(u^d))+l+1518500249+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<32;++m)e=(e=a[m-3]^a[m-8]^a[m-14]^a[m-16])<<1|e>>>31,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<40;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+1859775393+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<60;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h&u|d&(h^u))+l+2400959708+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;for(;m<80;++m)e=(e=a[m-6]^a[m-16]^a[m-28]^a[m-32])<<2|e>>>30,a[m]=e,e=(n<<5|n>>>27)+(h^u^d)+l+3395469782+e,l=d,d=u,u=(h<<30|h>>>2)>>>0,h=n,n=e;t.h0=t.h0+n|0,t.h1=t.h1+h|0,t.h2=t.h2+u|0,t.h3=t.h3+d|0,t.h4=t.h4+l|0,A-=64}}},function(N,x,b){var s=b(2);b(5),b(68),b(53),function(){if(s.prime)N.exports=s.prime;else{var r=N.exports=s.prime=s.prime||{},i=s.jsbn.BigInteger,f=[6,4,2,4,2,4,6,2],c=new i(null);c.fromInt(30);var t=function(e,n){return e|n};r.generateProbablePrime=function(e,n,h){typeof n=="function"&&(h=n,n={});var u=(n=n||{}).algorithm||"PRIMEINC";typeof u=="string"&&(u={name:u}),u.options=u.options||{};var d=n.prng||s.random,l={nextBytes:function(m){for(var A=d.getBytesSync(m.length),B=0;B<m.length;++B)m[B]=A.charCodeAt(B)}};if(u.name==="PRIMEINC")return function(m,A,B,k){return"workers"in B?function(T,g,E,R){if(typeof Worker=="undefined")return a(T,g,E,R);var S=o(T,g),M=E.workers,y=E.workLoad||100,p=30*y/8,w=E.workerScript||"forge/prime.worker.js";if(M===-1)return s.util.estimateCores(function(_,C){_&&(C=2),M=C-1,v()});function v(){M=Math.max(1,M);for(var _=[],C=0;C<M;++C)_[C]=new Worker(w);for(C=0;C<M;++C)_[C].addEventListener("message",O);var L=!1;function O(U){if(!L){var q=U.data;if(q.found){for(var H=0;H<_.length;++H)_[H].terminate();return L=!0,R(null,new i(q.prime,16))}S.bitLength()>T&&(S=o(T,g));var G=S.toString(16);U.target.postMessage({hex:G,workLoad:y}),S.dAddOffset(p,0)}}}v()}(m,A,B,k):a(m,A,B,k)}(e,l,u.options,h);throw new Error("Invalid prime generation algorithm: "+u.name)}}function a(e,n,h,u){var d=o(e,n),l=function(A){return A<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2}(d.bitLength());"millerRabinTests"in h&&(l=h.millerRabinTests);var m=10;"maxBlockTime"in h&&(m=h.maxBlockTime),function A(B,k,T,g,E,R,S){var M=+new Date;do{if(B.bitLength()>k&&(B=o(k,T)),B.isProbablePrime(E))return S(null,B);B.dAddOffset(f[g++%8],0)}while(R<0||+new Date-M<R);s.util.setImmediate(function(){A(B,k,T,g,E,R,S)})}(d,e,n,0,l,m,u)}function o(e,n){var h=new i(e,n),u=e-1;return h.testBit(u)||h.bitwiseTo(i.ONE.shiftLeft(u),t,h),h.dAddOffset(31-h.mod(c).byteValue(),0),h}}()},function(N,x,b){const s=b(40),r=b(171);N.exports={import:async function(i,f){const c=s.names.base64.decode(i),t=r.create();return await t.decrypt(c,f)}}},function(N,x,b){const s=b(70),r=b(67),i=b(24),f=b(35),c=b(12);b(172),b(173);const t=b(2),a=b(450),o=r(b(105)),e=b(110);class n{constructor(u){this._key=u}async verify(u,d){return a.hashAndVerify(this._key,d,u)}marshal(){return a.utils.jwkToPkix(this._key)}get bytes(){return o.PublicKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}encrypt(u){return a.encrypt(this._key,u)}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class h{constructor(u,d){this._key=u,this._publicKey=d}genSecret(){return a.getRandomValues(16)}async sign(u){return a.hashAndSign(this._key,u)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new n(this._publicKey)}decrypt(u){return a.decrypt(this._key,u)}marshal(){return a.utils.jwkToPkcs1(this._key)}get bytes(){return o.PrivateKey.encode({Type:o.KeyType.RSA,Data:this.marshal()})}equals(u){return f(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return c(u,"base58btc")}async export(u,d="pkcs-8"){if(d==="pkcs-8"){const l=new t.util.ByteBuffer(this.marshal()),m=t.asn1.fromDer(l),A=t.pki.privateKeyFromAsn1(m),B={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return t.pki.encryptRsaPrivateKey(A,u,B)}if(d==="libp2p-key")return e.export(this.bytes,u);throw i(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}N.exports={RsaPublicKey:n,RsaPrivateKey:h,unmarshalRsaPublicKey:function(u){const d=a.utils.pkixToJwk(u);return new n(d)},unmarshalRsaPrivateKey:async function(u){const d=a.utils.pkcs1ToJwk(u),l=await a.unmarshalPrivateKey(d);return new h(l.privateKey,l.publicKey)},generateKeyPair:async function(u){const d=await a.generateKey(u);return new h(d.privateKey,d.publicKey)},fromJwk:async function(u){const d=await a.unmarshalPrivateKey(u);return new h(d.privateKey,d.publicKey)}}},function(N,x,b){var s=b(2);b(52);var r=s.asn1;x.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},x.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(N,x,b){const s=b(69),r=b(174),i=b(12),f=b(20);function c(e){return Promise.all([s.get().subtle.exportKey("jwk",e.privateKey),s.get().subtle.exportKey("jwk",e.publicKey)])}x.utils=b(452),x.generateKey=async function(e){const n=await s.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),h=await c(n);return{privateKey:h[0],publicKey:h[1]}},x.unmarshalPrivateKey=async function(e){const n=[await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await(h=e,s.get().subtle.importKey("jwk",{kty:h.kty,n:h.n,e:h.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))];var h;const u=await c({privateKey:n[0],publicKey:n[1]});return{privateKey:u[0],publicKey:u[1]}},x.getRandomValues=r,x.hashAndSign=async function(e,n){const h=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),u=await s.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},h,Uint8Array.from(n));return new Uint8Array(u,u.byteOffset,u.byteLength)},x.hashAndVerify=async function(e,n,h){const u=await s.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return s.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},u,n,h)};const{jwk2pub:t,jwk2priv:a}=b(453);function o(e,n,h,u){const d=n?t(e):a(e),l=u(i(Uint8Array.from(h),"ascii"),d);return f(l,"ascii")}x.encrypt=function(e,n){return o(e,!0,n,(h,u)=>u.encrypt(h))},x.decrypt=function(e,n){return o(e,!1,n,(h,u)=>u.decrypt(h))}},function(N,x,b){const s=self.crypto||self.msCrypto,{Buffer:r}=b(8);s&&s.getRandomValues?N.exports=function(i){const f=new Uint8Array(i);let c=0;if(i>0)if(i>65536)for(;c<i;)c+65536>i?(s.getRandomValues(f.subarray(c,c+(i-c))),c+=i-c):(s.getRandomValues(f.subarray(c,c+65536)),c+=65536);else s.getRandomValues(f);return r.from(f)}:N.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},function(N,x,b){b(52),b(108);const s=b(2),{bigIntegerToUintBase64url:r,base64urlToBigInteger:i}=b(109),f=b(20),c=b(12);x.pkcs1ToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.privateKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),d:r(o.d),p:r(o.p),q:r(o.q),dp:r(o.dP),dq:r(o.dQ),qi:r(o.qInv),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkcs1=function(t){const a=s.pki.privateKeyToAsn1({n:i(t.n),e:i(t.e),d:i(t.d),p:i(t.p),q:i(t.q),dP:i(t.dp),dQ:i(t.dq),qInv:i(t.qi)});return f(s.asn1.toDer(a).getBytes(),"ascii")},x.pkixToJwk=function(t){const a=s.asn1.fromDer(c(t,"ascii")),o=s.pki.publicKeyFromAsn1(a);return{kty:"RSA",n:r(o.n),e:r(o.e),alg:"RS256",kid:"2011-04-29"}},x.jwkToPkix=function(t){const a=s.pki.publicKeyToAsn1({n:i(t.n),e:i(t.e)});return f(s.asn1.toDer(a).getBytes(),"ascii")}},function(N,x,b){b(108);const s=b(2),{base64urlToBigInteger:r}=b(109);function i(f,c){return c.map(t=>r(f[t]))}N.exports={jwk2pub:function(f){return s.pki.setRsaPublicKey(...i(f,["n","e"]))},jwk2priv:function(f){return s.pki.setRsaPrivateKey(...i(f,["n","e","d","p","q","dp","dq","qi"]))}}},function(N,x,b){const s=b(70),r=b(67),i=b(40),f=b(24),c=b(35),t=b(455),a=r(b(105)),o=b(110);class e{constructor(u){this._key=h(u,t.publicKeyLength)}async verify(u,d){return t.hashAndVerify(this._key,d,u)}marshal(){return this._key}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(u,d){this._key=h(u,t.privateKeyLength),this._publicKey=h(d,t.publicKeyLength)}async sign(u){return t.hashAndSign(this._key,u)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(u){return c(this.bytes,u.bytes)}async hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const u=await this.public.hash();return i.encode("base58btc",u).toString().slice(1)}async export(u,d="libp2p-key"){if(d==="libp2p-key")return o.export(this.bytes,u);throw f(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function h(u,d){if((u=Uint8Array.from(u||[])).length!==d)throw f(new Error(`Key must be a Uint8Array of length ${d}, got ${u.length}`),"ERR_INVALID_KEY_TYPE");return u}N.exports={Ed25519PublicKey:e,Ed25519PrivateKey:n,unmarshalEd25519PrivateKey:function(u){if(u.length>t.privateKeyLength){const m=(u=h(u,t.privateKeyLength+t.publicKeyLength)).slice(0,t.privateKeyLength),A=u.slice(t.privateKeyLength,u.length);return new n(m,A)}const d=(u=h(u,t.privateKeyLength)).slice(0,t.privateKeyLength),l=u.slice(t.publicKeyLength);return new n(d,l)},unmarshalEd25519PublicKey:function(u){return u=h(u,t.publicKeyLength),new e(u)},generateKeyPair:async function(){const{privateKey:u,publicKey:d}=await t.generateKey();return new n(u,d)},generateKeyPairFromSeed:async function(u){const{privateKey:d,publicKey:l}=await t.generateKeyFromSeed(u);return new n(d,l)}}},function(N,x,b){b(173);const s=b(2);x.publicKeyLength=s.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,x.privateKeyLength=s.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,x.generateKey=async function(){return s.pki.ed25519.generateKeyPair()},x.generateKeyFromSeed=async function(r){return s.pki.ed25519.generateKeyPair({seed:r})},x.hashAndSign=async function(r,i){return s.pki.ed25519.sign({message:i,privateKey:r})},x.hashAndVerify=async function(r,i,f){return s.pki.ed25519.verify({signature:i,message:f,publicKey:r})}},function(N,x,b){const s=b(70),r=b(24),i=b(35),f=b(12),c=b(110);N.exports=(t,a,o)=>{o=o||b(457)(a);class e{constructor(h){o.validatePublicKey(h),this._key=h}verify(h,u){return o.hashAndVerify(this._key,u,h)}marshal(){return o.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}}class n{constructor(h,u){this._key=h,this._publicKey=u||o.computePublicKey(h),o.validatePrivateKey(this._key),o.validatePublicKey(this._publicKey)}sign(h){return o.hashAndSign(this._key,h)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(h){return i(this.bytes,h.bytes)}hash(){return s.multihashing(this.bytes,"sha2-256")}async id(){const h=await this.public.hash();return f(h,"base58btc")}async export(h,u="libp2p-key"){if(u==="libp2p-key")return c.export(this.bytes,h);throw r(new Error(`export format '${u}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:e,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:function(h){return new n(h)},unmarshalSecp256k1PublicKey:function(h){return new e(h)},generateKeyPair:async function(){const h=await o.generateKey();return new n(h)}}}},function(N,x,b){const s=b(458),r=b(70);N.exports=i=>{function f(c){if(!s.privateKeyVerify(c))throw new Error("Invalid private key")}return{generateKey:function(){let c;do c=i(32);while(!s.privateKeyVerify(c));return c},privateKeyLength:32,hashAndSign:async function(c,t){const a=await r.digest(t,"sha2-256"),o=s.ecdsaSign(a,c);return s.signatureExport(o.signature)},hashAndVerify:async function(c,t,a){const o=await r.digest(a,"sha2-256");return t=s.signatureImport(t),s.ecdsaVerify(t,o,c)},compressPublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key");return s.publicKeyConvert(c,!0)},decompressPublicKey:function(c){return s.publicKeyConvert(c,!1)},validatePrivateKey:f,validatePublicKey:function(c){if(!s.publicKeyVerify(c))throw new Error("Invalid public key")},computePublicKey:function(c){return f(c),s.publicKeyCreate(c)}}}},function(N,x,b){N.exports=b(459)(b(460))},function(N,x,b){const s="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",i="The tweak was out of range or equal to zero",f="Unknow error on context randomization",c="Private Key is invalid",t="Public Key could not be parsed",a="Public Key serialization error",o="The sum of the public keys is not valid",e="Signature could not be parsed",n="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",u="Scalar was invalid (zero or overflow)";function d(k,T){if(!k)throw new Error(T)}function l(k,T,g){if(d(T instanceof Uint8Array,`Expected ${k} to be an Uint8Array`),g!==void 0)if(Array.isArray(g)){const E=`Expected ${k} to be an Uint8Array with length [${g.join(", ")}]`;d(g.includes(T.length),E)}else{const E=`Expected ${k} to be an Uint8Array with length ${g}`;d(T.length===g,E)}}function m(k){d(B(k)==="Boolean","Expected compressed to be a Boolean")}function A(k=g=>new Uint8Array(g),T){return typeof k=="function"&&(k=k(T)),l("output",k,T),k}function B(k){return Object.prototype.toString.call(k).slice(8,-1)}N.exports=k=>({contextRandomize(T){switch(d(T===null||T instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),T!==null&&l("seed",T,32),k.contextRandomize(T)){case 1:throw new Error(f)}},privateKeyVerify:T=>(l("private key",T,32),k.privateKeyVerify(T)===0),privateKeyNegate(T){switch(l("private key",T,32),k.privateKeyNegate(T)){case 0:return T;case 1:throw new Error(s)}},privateKeyTweakAdd(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakAdd(T,g)){case 0:return T;case 1:throw new Error(r)}},privateKeyTweakMul(T,g){switch(l("private key",T,32),l("tweak",g,32),k.privateKeyTweakMul(T,g)){case 0:return T;case 1:throw new Error(i)}},publicKeyVerify:T=>(l("public key",T,[33,65]),k.publicKeyVerify(T)===0),publicKeyCreate(T,g=!0,E){switch(l("private key",T,32),m(g),E=A(E,g?33:65),k.publicKeyCreate(E,T)){case 0:return E;case 1:throw new Error(c);case 2:throw new Error(a)}},publicKeyConvert(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyConvert(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(a)}},publicKeyNegate(T,g=!0,E){switch(l("public key",T,[33,65]),m(g),E=A(E,g?33:65),k.publicKeyNegate(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(s);case 3:throw new Error(a)}},publicKeyCombine(T,g=!0,E){d(Array.isArray(T),"Expected public keys to be an Array"),d(T.length>0,"Expected public keys array will have more than zero items");for(const R of T)l("public key",R,[33,65]);switch(m(g),E=A(E,g?33:65),k.publicKeyCombine(E,T)){case 0:return E;case 1:throw new Error(t);case 2:throw new Error(o);case 3:throw new Error(a)}},publicKeyTweakAdd(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakAdd(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(r)}},publicKeyTweakMul(T,g,E=!0,R){switch(l("public key",T,[33,65]),l("tweak",g,32),m(E),R=A(R,E?33:65),k.publicKeyTweakMul(R,T,g)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(i)}},signatureNormalize(T){switch(l("signature",T,64),k.signatureNormalize(T)){case 0:return T;case 1:throw new Error(e)}},signatureExport(T,g){l("signature",T,64);const E={output:g=A(g,72),outputlen:72};switch(k.signatureExport(E,T)){case 0:return g.slice(0,E.outputlen);case 1:throw new Error(e);case 2:throw new Error(s)}},signatureImport(T,g){switch(l("signature",T),g=A(g,64),k.signatureImport(g,T)){case 0:return g;case 1:throw new Error(e);case 2:throw new Error(s)}},ecdsaSign(T,g,E={},R){l("message",T,32),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.noncefn!==void 0&&d(B(E.noncefn)==="Function","Expected options.noncefn to be a Function");const S={signature:R=A(R,64),recid:null};switch(k.ecdsaSign(S,T,g,E.data,E.noncefn)){case 0:return S;case 1:throw new Error(n);case 2:throw new Error(s)}},ecdsaVerify(T,g,E){switch(l("signature",T,64),l("message",g,32),l("public key",E,[33,65]),k.ecdsaVerify(T,g,E)){case 0:return!0;case 3:return!1;case 1:throw new Error(e);case 2:throw new Error(t)}},ecdsaRecover(T,g,E,R=!0,S){switch(l("signature",T,64),d(B(g)==="Number"&&g>=0&&g<=3,"Expected recovery id to be a Number within interval [0, 3]"),l("message",E,32),m(R),S=A(S,R?33:65),k.ecdsaRecover(S,T,g,E)){case 0:return S;case 1:throw new Error(e);case 2:throw new Error(h);case 3:throw new Error(s)}},ecdh(T,g,E={},R){switch(l("public key",T,[33,65]),l("private key",g,32),d(B(E)==="Object","Expected options to be an Object"),E.data!==void 0&&l("options.data",E.data),E.hashfn!==void 0?(d(B(E.hashfn)==="Function","Expected options.hashfn to be a Function"),E.xbuf!==void 0&&l("options.xbuf",E.xbuf,32),E.ybuf!==void 0&&l("options.ybuf",E.ybuf,32),l("output",R)):R=A(R,32),k.ecdh(R,T,g,E.data,E.hashfn,E.xbuf,E.ybuf)){case 0:return R;case 1:throw new Error(t);case 2:throw new Error(u)}}})},function(N,x,b){const s=new(b(461)).ec("secp256k1"),r=s.curve,i=r.n.constructor;function f(t){const a=t[0];switch(a){case 2:case 3:return t.length!==33?null:function(o,e){let n=new i(e);if(n.cmp(r.p)>=0)return null;n=n.toRed(r.red);let h=n.redSqr().redIMul(n).redIAdd(r.b).redSqrt();return o===3!==h.isOdd()&&(h=h.redNeg()),s.keyPair({pub:{x:n,y:h}})}(a,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:function(o,e,n){let h=new i(e),u=new i(n);if(h.cmp(r.p)>=0||u.cmp(r.p)>=0)return null;if(h=h.toRed(r.red),u=u.toRed(r.red),(o===6||o===7)&&u.isOdd()!==(o===7))return null;const d=h.redSqr().redIMul(h);return u.redSqr().redISub(d.redIAdd(r.b)).isZero()?s.keyPair({pub:{x:h,y:u}}):null}(a,t.subarray(1,33),t.subarray(33,65));default:return null}}function c(t,a){const o=a.encode(null,t.length===33);for(let e=0;e<t.length;++e)t[e]=o[e]}N.exports={contextRandomize:()=>0,privateKeyVerify(t){const a=new i(t);return a.cmp(r.n)<0&&!a.isZero()?0:1},privateKeyNegate(t){const a=new i(t),o=r.n.sub(a).umod(r.n).toArrayLike(Uint8Array,"be",32);return t.set(o),0},privateKeyTweakAdd(t,a){const o=new i(a);if(o.cmp(r.n)>=0)return 1;if(o.iadd(new i(t)),o.cmp(r.n)>=0&&o.isub(r.n),o.isZero())return 1;const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakMul(t,a){let o=new i(a);if(o.cmp(r.n)>=0||o.isZero())return 1;o.imul(new i(t)),o.cmp(r.n)>=0&&(o=o.umod(r.n));const e=o.toArrayLike(Uint8Array,"be",32);return t.set(e),0},publicKeyVerify:t=>f(t)===null?1:0,publicKeyCreate(t,a){const o=new i(a);return o.cmp(r.n)>=0||o.isZero()?1:(c(t,s.keyFromPrivate(a).getPublic()),0)},publicKeyConvert(t,a){const o=f(a);return o===null?1:(c(t,o.getPublic()),0)},publicKeyNegate(t,a){const o=f(a);if(o===null)return 1;const e=o.getPublic();return e.y=e.y.redNeg(),c(t,e),0},publicKeyCombine(t,a){const o=new Array(a.length);for(let n=0;n<a.length;++n)if(o[n]=f(a[n]),o[n]===null)return 1;let e=o[0].getPublic();for(let n=1;n<o.length;++n)e=e.add(o[n].pub);return e.isInfinity()?2:(c(t,e),0)},publicKeyTweakAdd(t,a,o){const e=f(a);if(e===null)return 1;if((o=new i(o)).cmp(r.n)>=0)return 2;const n=e.getPublic().add(r.g.mul(o));return n.isInfinity()?2:(c(t,n),0)},publicKeyTweakMul(t,a,o){const e=f(a);return e===null?1:(o=new i(o)).cmp(r.n)>=0||o.isZero()?2:(c(t,e.getPublic().mul(o)),0)},signatureNormalize(t){const a=new i(t.subarray(0,32)),o=new i(t.subarray(32,64));return a.cmp(r.n)>=0||o.cmp(r.n)>=0?1:(o.cmp(s.nh)===1&&t.set(r.n.sub(o).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,a){const o=a.subarray(0,32),e=a.subarray(32,64);if(new i(o).cmp(r.n)>=0)return 1;if(new i(e).cmp(r.n)>=0)return 1;const{output:n}=t;let h=n.subarray(4,37);h[0]=0,h.set(o,1);let u=33,d=0;for(;u>1&&h[d]===0&&!(128&h[d+1]);--u,++d);if(h=h.subarray(d),128&h[0])return 1;if(u>1&&h[0]===0&&!(128&h[1]))return 1;let l=n.subarray(39,72);l[0]=0,l.set(e,1);let m=33,A=0;for(;m>1&&l[A]===0&&!(128&l[A+1]);--m,++A);return l=l.subarray(A),128&l[0]||m>1&&l[0]===0&&!(128&l[1])?1:(t.outputlen=6+u+m,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=h.length,n.set(h,4),n[4+u]=2,n[5+u]=l.length,n.set(l,6+u),0)},signatureImport(t,a){if(a.length<8)return 1;if(a.length>72)return 1;if(a[0]!==48)return 1;if(a[1]!==a.length-2)return 1;if(a[2]!==2)return 1;const o=a[3];if(o===0)return 1;if(5+o>=a.length)return 1;if(a[4+o]!==2)return 1;const e=a[5+o];if(e===0)return 1;if(6+o+e!==a.length)return 1;if(128&a[4])return 1;if(o>1&&a[4]===0&&!(128&a[5]))return 1;if(128&a[o+6])return 1;if(e>1&&a[o+6]===0&&!(128&a[o+7]))return 1;let n=a.subarray(4,4+o);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let h=a.subarray(6+o);if(h.length===33&&h[0]===0&&(h=h.slice(1)),h.length>32)throw new Error("S length is too long");let u=new i(n);u.cmp(r.n)>=0&&(u=new i(0));let d=new i(a.subarray(6+o));return d.cmp(r.n)>=0&&(d=new i(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(d.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,a,o,e,n){if(n){const d=n;n=l=>{const m=d(a,o,null,e,l);if(!(m instanceof Uint8Array&&m.length===32))throw new Error("This is the way");return new i(m)}}const h=new i(o);if(h.cmp(r.n)>=0||h.isZero())return 1;let u;try{u=s.sign(a,o,{canonical:!0,k:n,pers:e})}catch(d){return 1}return t.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),t.recid=u.recoveryParam,0},ecdsaVerify(t,a,o){const e={r:t.subarray(0,32),s:t.subarray(32,64)},n=new i(e.r),h=new i(e.s);if(n.cmp(r.n)>=0||h.cmp(r.n)>=0)return 1;if(h.cmp(s.nh)===1||n.isZero()||h.isZero())return 3;const u=f(o);if(u===null)return 2;const d=u.getPublic();return s.verify(a,e,d)?0:3},ecdsaRecover(t,a,o,e){const n={r:a.slice(0,32),s:a.slice(32,64)},h=new i(n.r),u=new i(n.s);if(h.cmp(r.n)>=0||u.cmp(r.n)>=0)return 1;if(h.isZero()||u.isZero())return 2;let d;try{d=s.recoverPubKey(e,n,o)}catch(l){return 2}return c(t,d),0},ecdh(t,a,o,e,n,h,u){const d=f(a);if(d===null)return 1;const l=new i(o);if(l.cmp(r.n)>=0||l.isZero())return 2;const m=d.getPublic().mul(l);if(n===void 0){const A=m.encode(null,!0),B=s.hash().update(A).digest();for(let k=0;k<32;++k)t[k]=B[k]}else{h||(h=new Uint8Array(32));const A=m.getX().toArray("be",32);for(let T=0;T<32;++T)h[T]=A[T];u||(u=new Uint8Array(32));const B=m.getY().toArray("be",32);for(let T=0;T<32;++T)u[T]=B[T];const k=n(h,u,e);if(!(k instanceof Uint8Array&&k.length===t.length))return 2;t.set(k)}return 0}}},function(N,x,b){var s=x;s.version=b(462).version,s.utils=b(18),s.rand=b(176),s.curve=b(177),s.curves=b(111),s.ec=b(475),s.eddsa=b(479)},function(N){N.exports=JSON.parse('{"name":"elliptic","version":"6.5.3","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(N,x){},function(N,x){},function(N,x,b){var s=b(18),r=b(28),i=b(72),f=b(71),c=s.assert;function t(e){f.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function a(e,n,h,u){f.BasePoint.call(this,e,"affine"),n===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(n,16),this.y=new r(h,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,n,h,u){f.BasePoint.call(this,e,"jacobian"),n===null&&h===null&&u===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(n,16),this.y=new r(h,16),this.z=new r(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(t,f),N.exports=t,t.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var n,h;if(e.beta)n=new r(e.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);n=(n=u[0].cmp(u[1])<0?u[0]:u[1]).toRed(this.red)}if(e.lambda)h=new r(e.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(n))===0?h=d[0]:(h=d[1],c(this.g.mul(h).x.cmp(this.g.x.redMul(n))===0))}return{beta:n,lambda:h,basis:e.basis?e.basis.map(function(l){return{a:new r(l.a,16),b:new r(l.b,16)}}):this._getEndoBasis(h)}}},t.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:r.mont(e),h=new r(2).toRed(n).redInvm(),u=h.redNeg(),d=new r(3).toRed(n).redNeg().redSqrt().redMul(h);return[u.redAdd(d).fromRed(),u.redSub(d).fromRed()]},t.prototype._getEndoBasis=function(e){for(var n,h,u,d,l,m,A,B,k,T=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=e,E=this.n.clone(),R=new r(1),S=new r(0),M=new r(0),y=new r(1),p=0;g.cmpn(0)!==0;){var w=E.div(g);B=E.sub(w.mul(g)),k=M.sub(w.mul(R));var v=y.sub(w.mul(S));if(!u&&B.cmp(T)<0)n=A.neg(),h=R,u=B.neg(),d=k;else if(u&&++p==2)break;A=B,E=g,g=B,M=R,R=k,y=S,S=v}l=B.neg(),m=k;var _=u.sqr().add(d.sqr());return l.sqr().add(m.sqr()).cmp(_)>=0&&(l=n,m=h),u.negative&&(u=u.neg(),d=d.neg()),l.negative&&(l=l.neg(),m=m.neg()),[{a:u,b:d},{a:l,b:m}]},t.prototype._endoSplit=function(e){var n=this.endo.basis,h=n[0],u=n[1],d=u.b.mul(e).divRound(this.n),l=h.b.neg().mul(e).divRound(this.n),m=d.mul(h.a),A=l.mul(u.a),B=d.mul(h.b),k=l.mul(u.b);return{k1:e.sub(m).sub(A),k2:B.add(k).neg()}},t.prototype.pointFromX=function(e,n){(e=new r(e,16)).red||(e=e.toRed(this.red));var h=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),u=h.redSqrt();if(u.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var d=u.fromRed().isOdd();return(n&&!d||!n&&d)&&(u=u.redNeg()),this.point(e,u)},t.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,h=e.y,u=this.a.redMul(n),d=n.redSqr().redMul(n).redIAdd(u).redIAdd(this.b);return h.redSqr().redISub(d).cmpn(0)===0},t.prototype._endoWnafMulAdd=function(e,n,h){for(var u=this._endoWnafT1,d=this._endoWnafT2,l=0;l<e.length;l++){var m=this._endoSplit(n[l]),A=e[l],B=A._getBeta();m.k1.negative&&(m.k1.ineg(),A=A.neg(!0)),m.k2.negative&&(m.k2.ineg(),B=B.neg(!0)),u[2*l]=A,u[2*l+1]=B,d[2*l]=m.k1,d[2*l+1]=m.k2}for(var k=this._wnafMulAdd(1,u,d,2*l,h),T=0;T<2*l;T++)u[T]=null,d[T]=null;return k},i(a,f.BasePoint),t.prototype.point=function(e,n,h){return new a(this,e,n,h)},t.prototype.pointFromJSON=function(e,n){return a.fromJSON(this,e,n)},a.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var h=this.curve,u=function(d){return h.point(d.x.redMul(h.endo.beta),d.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(u)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(u)}}}return n}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(e,n,h){typeof n=="string"&&(n=JSON.parse(n));var u=e.point(n[0],n[1],h);if(!n[2])return u;function d(m){return e.point(m[0],m[1],h)}var l=n[2];return u.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[u].concat(l.doubles.points.map(d))},naf:l.naf&&{wnd:l.naf.wnd,points:[u].concat(l.naf.points.map(d))}},u},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var h=n.redSqr().redISub(this.x).redISub(e.x),u=n.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,u)},a.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,h=this.x.redSqr(),u=e.redInvm(),d=h.redAdd(h).redIAdd(h).redIAdd(n).redMul(u),l=d.redSqr().redISub(this.x.redAdd(this.x)),m=d.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,m)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},a.prototype.mulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d):this.curve._wnafMulAdd(1,u,d,2)},a.prototype.jmulAdd=function(e,n,h){var u=[this,n],d=[e,h];return this.curve.endo?this.curve._endoWnafMulAdd(u,d,!0):this.curve._wnafMulAdd(1,u,d,2,!0)},a.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},a.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var h=this.precomputed,u=function(d){return d.neg()};n.precomputed={naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(u)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(u)}}}return n},a.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(o,f.BasePoint),t.prototype.jpoint=function(e,n,h){return new o(this,e,n,h)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),h=this.x.redMul(n),u=this.y.redMul(n).redMul(e);return this.curve.point(h,u)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),h=this.z.redSqr(),u=this.x.redMul(n),d=e.x.redMul(h),l=this.y.redMul(n.redMul(e.z)),m=e.y.redMul(h.redMul(this.z)),A=u.redSub(d),B=l.redSub(m);if(A.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=A.redSqr(),T=k.redMul(A),g=u.redMul(k),E=B.redSqr().redIAdd(T).redISub(g).redISub(g),R=B.redMul(g.redISub(E)).redISub(l.redMul(T)),S=this.z.redMul(e.z).redMul(A);return this.curve.jpoint(E,R,S)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),h=this.x,u=e.x.redMul(n),d=this.y,l=e.y.redMul(n).redMul(this.z),m=h.redSub(u),A=d.redSub(l);if(m.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=m.redSqr(),k=B.redMul(m),T=h.redMul(B),g=A.redSqr().redIAdd(k).redISub(T).redISub(T),E=A.redMul(T.redISub(g)).redISub(d.redMul(k)),R=this.z.redMul(m);return this.curve.jpoint(g,E,R)},o.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var n=this,h=0;h<e;h++)n=n.dbl();return n}var u=this.curve.a,d=this.curve.tinv,l=this.x,m=this.y,A=this.z,B=A.redSqr().redSqr(),k=m.redAdd(m);for(h=0;h<e;h++){var T=l.redSqr(),g=k.redSqr(),E=g.redSqr(),R=T.redAdd(T).redIAdd(T).redIAdd(u.redMul(B)),S=l.redMul(g),M=R.redSqr().redISub(S.redAdd(S)),y=S.redISub(M),p=R.redMul(y);p=p.redIAdd(p).redISub(E);var w=k.redMul(A);h+1<e&&(B=B.redMul(E)),l=M,A=w,k=p}return this.curve.jpoint(l,k.redMul(d),A)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u),B=A.redSqr().redISub(m).redISub(m),k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),e=B,n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.x.redSqr(),g=this.y.redSqr(),E=g.redSqr(),R=this.x.redAdd(g).redSqr().redISub(T).redISub(E);R=R.redIAdd(R);var S=T.redAdd(T).redIAdd(T),M=S.redSqr(),y=E.redIAdd(E);y=(y=y.redIAdd(y)).redIAdd(y),e=M.redISub(R).redISub(R),n=S.redMul(R.redISub(e)).redISub(y),h=(h=this.y.redMul(this.z)).redIAdd(h)}return this.curve.jpoint(e,n,h)},o.prototype._threeDbl=function(){var e,n,h;if(this.zOne){var u=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(u).redISub(l);m=m.redIAdd(m);var A=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),B=A.redSqr().redISub(m).redISub(m);e=B;var k=l.redIAdd(l);k=(k=k.redIAdd(k)).redIAdd(k),n=A.redMul(m.redISub(B)).redISub(k),h=this.y.redAdd(this.y)}else{var T=this.z.redSqr(),g=this.y.redSqr(),E=this.x.redMul(g),R=this.x.redSub(T).redMul(this.x.redAdd(T));R=R.redAdd(R).redIAdd(R);var S=E.redIAdd(E),M=(S=S.redIAdd(S)).redAdd(S);e=R.redSqr().redISub(M),h=this.y.redAdd(this.z).redSqr().redISub(g).redISub(T);var y=g.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),n=R.redMul(S.redISub(e)).redISub(y)}return this.curve.jpoint(e,n,h)},o.prototype._dbl=function(){var e=this.curve.a,n=this.x,h=this.y,u=this.z,d=u.redSqr().redSqr(),l=n.redSqr(),m=h.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(d)),B=n.redAdd(n),k=(B=B.redIAdd(B)).redMul(m),T=A.redSqr().redISub(k.redAdd(k)),g=k.redISub(T),E=m.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=A.redMul(g).redISub(E),S=h.redAdd(h).redMul(u);return this.curve.jpoint(T,R,S)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),h=this.z.redSqr(),u=n.redSqr(),d=e.redAdd(e).redIAdd(e),l=d.redSqr(),m=this.x.redAdd(n).redSqr().redISub(e).redISub(u),A=(m=(m=(m=m.redIAdd(m)).redAdd(m).redIAdd(m)).redISub(l)).redSqr(),B=u.redIAdd(u);B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var k=d.redIAdd(m).redSqr().redISub(l).redISub(A).redISub(B),T=n.redMul(k);T=(T=T.redIAdd(T)).redIAdd(T);var g=this.x.redMul(A).redISub(T);g=(g=g.redIAdd(g)).redIAdd(g);var E=this.y.redMul(k.redMul(B.redISub(k)).redISub(m.redMul(A)));E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var R=this.z.redAdd(m).redSqr().redISub(h).redISub(A);return this.curve.jpoint(g,E,R)},o.prototype.mul=function(e,n){return e=new r(e,n),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),h=e.z.redSqr();if(this.x.redMul(h).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var u=n.redMul(this.z),d=h.redMul(e.z);return this.y.redMul(d).redISub(e.y.redMul(u)).cmpn(0)===0},o.prototype.eqXToP=function(e){var n=this.z.redSqr(),h=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(h)===0)return!0;for(var u=e.clone(),d=this.curve.redN.redMul(n);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(d),this.x.cmp(h)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},function(N,x,b){var s=b(28),r=b(72),i=b(71),f=b(18);function c(a){i.call(this,"mont",a),this.a=new s(a.a,16).toRed(this.red),this.b=new s(a.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function t(a,o,e){i.BasePoint.call(this,a,"projective"),o===null&&e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(o,16),this.z=new s(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(c,i),N.exports=c,c.prototype.validate=function(a){var o=a.normalize().x,e=o.redSqr(),n=e.redMul(o).redAdd(e.redMul(this.a)).redAdd(o);return n.redSqrt().redSqr().cmp(n)===0},r(t,i.BasePoint),c.prototype.decodePoint=function(a,o){return this.point(f.toArray(a,o),1)},c.prototype.point=function(a,o){return new t(this,a,o)},c.prototype.pointFromJSON=function(a){return t.fromJSON(this,a)},t.prototype.precompute=function(){},t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},t.fromJSON=function(a,o){return new t(a,o[0],o[1]||a.one)},t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},t.prototype.dbl=function(){var a=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),e=a.redSub(o),n=a.redMul(o),h=e.redMul(o.redAdd(this.curve.a24.redMul(e)));return this.curve.point(n,h)},t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.diffAdd=function(a,o){var e=this.x.redAdd(this.z),n=this.x.redSub(this.z),h=a.x.redAdd(a.z),u=a.x.redSub(a.z).redMul(e),d=h.redMul(n),l=o.z.redMul(u.redAdd(d).redSqr()),m=o.x.redMul(u.redISub(d).redSqr());return this.curve.point(l,m)},t.prototype.mul=function(a){for(var o=a.clone(),e=this,n=this.curve.point(null,null),h=[];o.cmpn(0)!==0;o.iushrn(1))h.push(o.andln(1));for(var u=h.length-1;u>=0;u--)h[u]===0?(e=e.diffAdd(n,this),n=n.dbl()):(n=e.diffAdd(n,this),e=e.dbl());return n},t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},t.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(N,x,b){var s=b(18),r=b(28),i=b(72),f=b(71),c=s.assert;function t(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,f.call(this,"edwards",o),this.a=new r(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function a(o,e,n,h,u){f.BasePoint.call(this,o,"projective"),e===null&&n===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(n,16),this.z=h?new r(h,16):this.curve.one,this.t=u&&new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(t,f),N.exports=t,t.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},t.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},t.prototype.jpoint=function(o,e,n,h){return this.point(o,e,n,h)},t.prototype.pointFromX=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=this.c2.redSub(this.a.redMul(n)),u=this.one.redSub(this.c2.redMul(this.d).redMul(n)),d=h.redMul(u.redInvm()),l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var m=l.fromRed().isOdd();return(e&&!m||!e&&m)&&(l=l.redNeg()),this.point(o,l)},t.prototype.pointFromY=function(o,e){(o=new r(o,16)).red||(o=o.toRed(this.red));var n=o.redSqr(),h=n.redSub(this.c2),u=n.redMul(this.d).redMul(this.c2).redSub(this.a),d=h.redMul(u.redInvm());if(d.cmp(this.zero)===0){if(e)throw new Error("invalid point");return this.point(this.zero,o)}var l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return l.fromRed().isOdd()!==e&&(l=l.redNeg()),this.point(l,o)},t.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var e=o.x.redSqr(),n=o.y.redSqr(),h=e.redMul(this.a).redAdd(n),u=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return h.cmp(u)===0},i(a,f.BasePoint),t.prototype.pointFromJSON=function(o){return a.fromJSON(this,o)},t.prototype.point=function(o,e,n,h){return new a(this,o,e,n,h)},a.fromJSON=function(o,e){return new a(o,e[0],e[1],e[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var o=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var h=this.curve._mulA(o),u=this.x.redAdd(this.y).redSqr().redISub(o).redISub(e),d=h.redAdd(e),l=d.redSub(n),m=h.redSub(e),A=u.redMul(l),B=d.redMul(m),k=u.redMul(m),T=l.redMul(d);return this.curve.point(A,B,T,k)},a.prototype._projDbl=function(){var o,e,n,h=this.x.redAdd(this.y).redSqr(),u=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var l=(B=this.curve._mulA(u)).redAdd(d);if(this.zOne)o=h.redSub(u).redSub(d).redMul(l.redSub(this.curve.two)),e=l.redMul(B.redSub(d)),n=l.redSqr().redSub(l).redSub(l);else{var m=this.z.redSqr(),A=l.redSub(m).redISub(m);o=h.redSub(u).redISub(d).redMul(A),e=l.redMul(B.redSub(d)),n=l.redMul(A)}}else{var B=u.redAdd(d);m=this.curve._mulC(this.z).redSqr(),A=B.redSub(m).redSub(m),o=this.curve._mulC(h.redISub(B)).redMul(A),e=this.curve._mulC(B).redMul(u.redISub(d)),n=B.redMul(A)}return this.curve.point(o,e,n)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(o){var e=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),n=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),h=this.t.redMul(this.curve.dd).redMul(o.t),u=this.z.redMul(o.z.redAdd(o.z)),d=n.redSub(e),l=u.redSub(h),m=u.redAdd(h),A=n.redAdd(e),B=d.redMul(l),k=m.redMul(A),T=d.redMul(A),g=l.redMul(m);return this.curve.point(B,k,g,T)},a.prototype._projAdd=function(o){var e,n,h=this.z.redMul(o.z),u=h.redSqr(),d=this.x.redMul(o.x),l=this.y.redMul(o.y),m=this.curve.d.redMul(d).redMul(l),A=u.redSub(m),B=u.redAdd(m),k=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(d).redISub(l),T=h.redMul(A).redMul(k);return this.curve.twisted?(e=h.redMul(B).redMul(l.redSub(this.curve._mulA(d))),n=A.redMul(B)):(e=h.redMul(B).redMul(l.redSub(d)),n=this.curve._mulC(A).redMul(B)),this.curve.point(T,e,n)},a.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},a.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},a.prototype.mulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!1)},a.prototype.jmulAdd=function(o,e,n){return this.curve._wnafMulAdd(1,[this,e],[o,n],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},a.prototype.eqXToP=function(o){var e=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var n=o.clone(),h=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(h),this.x.cmp(e)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add},function(N,x,b){x.sha1=b(469),x.sha224=b(470),x.sha256=b(179),x.sha384=b(471),x.sha512=b(180)},function(N,x,b){var s=b(25),r=b(54),i=b(178),f=s.rotl32,c=s.sum32,t=s.sum32_5,a=i.ft_1,o=r.BlockHash,e=[1518500249,1859775393,2400959708,3395469782];function n(){if(!(this instanceof n))return new n;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(n,o),N.exports=n,n.blockSize=512,n.outSize=160,n.hmacStrength=80,n.padLength=64,n.prototype._update=function(h,u){for(var d=this.W,l=0;l<16;l++)d[l]=h[u+l];for(;l<d.length;l++)d[l]=f(d[l-3]^d[l-8]^d[l-14]^d[l-16],1);var m=this.h[0],A=this.h[1],B=this.h[2],k=this.h[3],T=this.h[4];for(l=0;l<d.length;l++){var g=~~(l/20),E=t(f(m,5),a(g,A,B,k),T,d[l],e[g]);T=k,k=B,B=f(A,30),A=m,m=E}this.h[0]=c(this.h[0],m),this.h[1]=c(this.h[1],A),this.h[2]=c(this.h[2],B),this.h[3]=c(this.h[3],k),this.h[4]=c(this.h[4],T)},n.prototype._digest=function(h){return h==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},function(N,x,b){var s=b(25),r=b(179);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},function(N,x,b){var s=b(25),r=b(180);function i(){if(!(this instanceof i))return new i;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(i,r),N.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(f){return f==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},function(N,x,b){var s=b(25),r=b(54),i=s.rotl32,f=s.sum32,c=s.sum32_3,t=s.sum32_4,a=r.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function e(A,B,k,T){return A<=15?B^k^T:A<=31?B&k|~B&T:A<=47?(B|~k)^T:A<=63?B&T|k&~T:B^(k|~T)}function n(A){return A<=15?0:A<=31?1518500249:A<=47?1859775393:A<=63?2400959708:2840853838}function h(A){return A<=15?1352829926:A<=31?1548603684:A<=47?1836072691:A<=63?2053994217:0}s.inherits(o,a),x.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(A,B){for(var k=this.h[0],T=this.h[1],g=this.h[2],E=this.h[3],R=this.h[4],S=k,M=T,y=g,p=E,w=R,v=0;v<80;v++){var _=f(i(t(k,e(v,T,g,E),A[u[v]+B],n(v)),l[v]),R);k=R,R=E,E=i(g,10),g=T,T=_,_=f(i(t(S,e(79-v,M,y,p),A[d[v]+B],h(v)),m[v]),w),S=w,w=p,p=i(y,10),y=M,M=_}_=c(this.h[1],g,p),this.h[1]=c(this.h[2],E,w),this.h[2]=c(this.h[3],R,S),this.h[3]=c(this.h[4],k,M),this.h[4]=c(this.h[0],T,y),this.h[0]=_},o.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(N,x,b){var s=b(25),r=b(36);function i(f,c,t){if(!(this instanceof i))return new i(f,c,t);this.Hash=f,this.blockSize=f.blockSize/8,this.outSize=f.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,t))}N.exports=i,i.prototype._init=function(f){f.length>this.blockSize&&(f=new this.Hash().update(f).digest()),r(f.length<=this.blockSize);for(var c=f.length;c<this.blockSize;c++)f.push(0);for(c=0;c<f.length;c++)f[c]^=54;for(this.inner=new this.Hash().update(f),c=0;c<f.length;c++)f[c]^=106;this.outer=new this.Hash().update(f)},i.prototype.update=function(f,c){return this.inner.update(f,c),this},i.prototype.digest=function(f){return this.outer.update(this.inner.digest()),this.outer.digest(f)}},function(N,x,b){N.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(N,x,b){var s=b(28),r=b(476),i=b(18),f=b(111),c=b(176),t=i.assert,a=b(477),o=b(478);function e(n){if(!(this instanceof e))return new e(n);typeof n=="string"&&(t(f.hasOwnProperty(n),"Unknown curve "+n),n=f[n]),n instanceof f.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}N.exports=e,e.prototype.keyPair=function(n){return new a(this,n)},e.prototype.keyFromPrivate=function(n,h){return a.fromPrivate(this,n,h)},e.prototype.keyFromPublic=function(n,h){return a.fromPublic(this,n,h)},e.prototype.genKeyPair=function(n){n||(n={});for(var h=new r({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||c(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),d=this.n.sub(new s(2));;){var l=new s(h.generate(u));if(!(l.cmp(d)>0))return l.iaddn(1),this.keyFromPrivate(l)}},e.prototype._truncateToN=function(n,h){var u=8*n.byteLength()-this.n.bitLength();return u>0&&(n=n.ushrn(u)),!h&&n.cmp(this.n)>=0?n.sub(this.n):n},e.prototype.sign=function(n,h,u,d){typeof u=="object"&&(d=u,u=null),d||(d={}),h=this.keyFromPrivate(h,u),n=this._truncateToN(new s(n,16));for(var l=this.n.byteLength(),m=h.getPrivate().toArray("be",l),A=n.toArray("be",l),B=new r({hash:this.hash,entropy:m,nonce:A,pers:d.pers,persEnc:d.persEnc||"utf8"}),k=this.n.sub(new s(1)),T=0;;T++){var g=d.k?d.k(T):new s(B.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(k)>=0)){var E=this.g.mul(g);if(!E.isInfinity()){var R=E.getX(),S=R.umod(this.n);if(S.cmpn(0)!==0){var M=g.invm(this.n).mul(S.mul(h.getPrivate()).iadd(n));if((M=M.umod(this.n)).cmpn(0)!==0){var y=(E.getY().isOdd()?1:0)|(R.cmp(S)!==0?2:0);return d.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),y^=1),new o({r:S,s:M,recoveryParam:y})}}}}}},e.prototype.verify=function(n,h,u,d){n=this._truncateToN(new s(n,16)),u=this.keyFromPublic(u,d);var l=(h=new o(h,"hex")).r,m=h.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;if(m.cmpn(1)<0||m.cmp(this.n)>=0)return!1;var A,B=m.invm(this.n),k=B.mul(n).umod(this.n),T=B.mul(l).umod(this.n);return this.curve._maxwellTrick?!(A=this.g.jmulAdd(k,u.getPublic(),T)).isInfinity()&&A.eqXToP(l):!(A=this.g.mulAdd(k,u.getPublic(),T)).isInfinity()&&A.getX().umod(this.n).cmp(l)===0},e.prototype.recoverPubKey=function(n,h,u,d){t((3&u)===u,"The recovery param is more than two bits"),h=new o(h,d);var l=this.n,m=new s(n),A=h.r,B=h.s,k=1&u,T=u>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");A=T?this.curve.pointFromX(A.add(this.curve.n),k):this.curve.pointFromX(A,k);var g=h.r.invm(l),E=l.sub(m).mul(g).umod(l),R=B.mul(g).umod(l);return this.g.mulAdd(E,A,R)},e.prototype.getKeyRecoveryParam=function(n,h,u,d){if((h=new o(h,d)).recoveryParam!==null)return h.recoveryParam;for(var l=0;l<4;l++){var m;try{m=this.recoverPubKey(n,h,l)}catch(A){continue}if(m.eq(u))return l}throw new Error("Unable to find valid recovery factor")}},function(N,x,b){var s=b(112),r=b(175),i=b(36);function f(c){if(!(this instanceof f))return new f(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(c.entropy,c.entropyEnc||"hex"),a=r.toArray(c.nonce,c.nonceEnc||"hex"),o=r.toArray(c.pers,c.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,a,o)}N.exports=f,f.prototype._init=function(c,t,a){var o=c.concat(t).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},f.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},f.prototype._update=function(c){var t=this._hmac().update(this.V).update([0]);c&&(t=t.update(c)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},f.prototype.reseed=function(c,t,a,o){typeof t!="string"&&(o=a,a=t,t=null),c=r.toArray(c,t),a=r.toArray(a,o),i(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(a||[])),this._reseed=1},f.prototype.generate=function(c,t,a,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=a,a=t,t=null),a&&(a=r.toArray(a,o||"hex"),this._update(a));for(var e=[];e.length<c;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var n=e.slice(0,c);return this._update(a),this._reseed++,r.encode(n,t)}},function(N,x,b){var s=b(28),r=b(18).assert;function i(f,c){this.ec=f,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}N.exports=i,i.fromPublic=function(f,c,t){return c instanceof i?c:new i(f,{pub:c,pubEnc:t})},i.fromPrivate=function(f,c,t){return c instanceof i?c:new i(f,{priv:c,privEnc:t})},i.prototype.validate=function(){var f=this.getPublic();return f.isInfinity()?{result:!1,reason:"Invalid public key"}:f.validate()?f.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(f,c){return typeof f=="string"&&(c=f,f=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,f):this.pub},i.prototype.getPrivate=function(f){return f==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(f,c){this.priv=new s(f,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(f,c){if(f.x||f.y)return this.ec.curve.type==="mont"?r(f.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(f.x&&f.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(f.x,f.y));this.pub=this.ec.curve.decodePoint(f,c)},i.prototype.derive=function(f){return f.mul(this.priv).getX()},i.prototype.sign=function(f,c,t){return this.ec.sign(f,this,c,t)},i.prototype.verify=function(f,c){return this.ec.verify(f,c,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(N,x,b){var s=b(28),r=b(18),i=r.assert;function f(e,n){if(e instanceof f)return e;this._importDER(e,n)||(i(e.r&&e.s,"Signature without r or s"),this.r=new s(e.r,16),this.s=new s(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function c(){this.place=0}function t(e,n){var h=e[n.place++];if(!(128&h))return h;var u=15&h;if(u===0||u>4)return!1;for(var d=0,l=0,m=n.place;l<u;l++,m++)d<<=8,d|=e[m],d>>>=0;return!(d<=127)&&(n.place=m,d)}function a(e){for(var n=0,h=e.length-1;!e[n]&&!(128&e[n+1])&&n<h;)n++;return n===0?e:e.slice(n)}function o(e,n){if(n<128)e.push(n);else{var h=1+(Math.log(n)/Math.LN2>>>3);for(e.push(128|h);--h;)e.push(n>>>(h<<3)&255);e.push(n)}}N.exports=f,f.prototype._importDER=function(e,n){e=r.toArray(e,n);var h=new c;if(e[h.place++]!==48)return!1;var u=t(e,h);if(u===!1)return!1;if(u+h.place!==e.length)return!1;if(e[h.place++]!==2)return!1;var d=t(e,h);if(d===!1)return!1;var l=e.slice(h.place,d+h.place);if(h.place+=d,e[h.place++]!==2)return!1;var m=t(e,h);if(m===!1)return!1;if(e.length!==m+h.place)return!1;var A=e.slice(h.place,m+h.place);if(l[0]===0){if(!(128&l[1]))return!1;l=l.slice(1)}if(A[0]===0){if(!(128&A[1]))return!1;A=A.slice(1)}return this.r=new s(l),this.s=new s(A),this.recoveryParam=null,!0},f.prototype.toDER=function(e){var n=this.r.toArray(),h=this.s.toArray();for(128&n[0]&&(n=[0].concat(n)),128&h[0]&&(h=[0].concat(h)),n=a(n),h=a(h);!(h[0]||128&h[1]);)h=h.slice(1);var u=[2];o(u,n.length),(u=u.concat(n)).push(2),o(u,h.length);var d=u.concat(h),l=[48];return o(l,d.length),l=l.concat(d),r.encode(l,e)}},function(N,x,b){var s=b(112),r=b(111),i=b(18),f=i.assert,c=i.parseBytes,t=b(480),a=b(481);function o(e){if(f(e==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(e);e=r[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=s.sha512}N.exports=o,o.prototype.sign=function(e,n){e=c(e);var h=this.keyFromSecret(n),u=this.hashInt(h.messagePrefix(),e),d=this.g.mul(u),l=this.encodePoint(d),m=this.hashInt(l,h.pubBytes(),e).mul(h.priv()),A=u.add(m).umod(this.curve.n);return this.makeSignature({R:d,S:A,Rencoded:l})},o.prototype.verify=function(e,n,h){e=c(e),n=this.makeSignature(n);var u=this.keyFromPublic(h),d=this.hashInt(n.Rencoded(),u.pubBytes(),e),l=this.g.mul(n.S());return n.R().add(u.pub().mul(d)).eq(l)},o.prototype.hashInt=function(){for(var e=this.hash(),n=0;n<arguments.length;n++)e.update(arguments[n]);return i.intFromLE(e.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(e){return t.fromPublic(this,e)},o.prototype.keyFromSecret=function(e){return t.fromSecret(this,e)},o.prototype.makeSignature=function(e){return e instanceof a?e:new a(this,e)},o.prototype.encodePoint=function(e){var n=e.getY().toArray("le",this.encodingLength);return n[this.encodingLength-1]|=e.getX().isOdd()?128:0,n},o.prototype.decodePoint=function(e){var n=(e=i.parseBytes(e)).length-1,h=e.slice(0,n).concat(-129&e[n]),u=(128&e[n])!=0,d=i.intFromLE(h);return this.curve.pointFromY(d,u)},o.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(e){return i.intFromLE(e)},o.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(N,x,b){var s=b(18),r=s.assert,i=s.parseBytes,f=s.cachedProperty;function c(t,a){this.eddsa=t,this._secret=i(a.secret),t.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=i(a.pub)}c.fromPublic=function(t,a){return a instanceof c?a:new c(t,{pub:a})},c.fromSecret=function(t,a){return a instanceof c?a:new c(t,{secret:a})},c.prototype.secret=function(){return this._secret},f(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),f(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),f(c,"privBytes",function(){var t=this.eddsa,a=this.hash(),o=t.encodingLength-1,e=a.slice(0,t.encodingLength);return e[0]&=248,e[o]&=127,e[o]|=64,e}),f(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),f(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),f(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},c.prototype.verify=function(t,a){return this.eddsa.verify(t,a,this)},c.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),s.encode(this.secret(),t)},c.prototype.getPublic=function(t){return s.encode(this.pubBytes(),t)},N.exports=c},function(N,x,b){var s=b(28),r=b(18),i=r.assert,f=r.cachedProperty,c=r.parseBytes;function t(a,o){this.eddsa=a,typeof o!="object"&&(o=c(o)),Array.isArray(o)&&(o={R:o.slice(0,a.encodingLength),S:o.slice(a.encodingLength)}),i(o.R&&o.S,"Signature without R or S"),a.isPoint(o.R)&&(this._R=o.R),o.S instanceof s&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}f(t,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),f(t,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),f(t,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),f(t,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},N.exports=t},function(N,x,b){const s=b(24),r=b(27),i=b(20),f=b(483),c={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};N.exports=async(t,a,o)=>{const e=c[t];if(!e){const S=Object.keys(c).join(" / ");throw s(new Error(`unknown cipher type '${t}'. Must be ${S}`),"ERR_INVALID_CIPHER_TYPE")}if(!a)throw s(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const n=e.keySize,h=e.ivSize,u=i("key expansion"),d=2*(h+n+20),l=await f.create(a,o);let m=await l.digest(u);const A=[];let B=0;for(;B<d;){const S=await l.digest(r([m,u]));let M=S.length;B+M>d&&(M=d-B),A.push(S),B+=M,m=await l.digest(m)}const k=d/2,T=r(A),g=T.slice(0,k),E=T.slice(k,d),R=S=>({iv:S.slice(0,h),cipherKey:S.slice(h,h+n),macKey:S.slice(h+n)});return{k1:R(g),k2:R(E)}}},function(N,x,b){const s=b(69),r=b(484),i={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};x.create=async function(f,c){const t=i[f],a=await s.get().subtle.importKey("raw",c,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{digest:async o=>(async(e,n)=>{const h=await s.get().subtle.sign({name:"HMAC"},e,n);return new Uint8Array(h,h.byteOffset,h.byteLength)})(a,o),length:r[f]}}},function(N,x,b){N.exports={SHA1:20,SHA256:32,SHA512:64}},function(N,x,b){const s=b(486);N.exports=async r=>s.generateEphmeralKeyPair(r)},function(N,x,b){const s=b(24),r=b(69),{base64urlToBuffer:i}=b(109),f=b(487),c=b(12),t=b(27),a=b(35),o={"P-256":256,"P-384":384,"P-521":521};x.generateEphmeralKeyPair=async function(d){f(Object.keys(o),d);const l=await r.get().subtle.generateKey({name:"ECDH",namedCurve:d},!0,["deriveBits"]);return{key:n(await r.get().subtle.exportKey("jwk",l.publicKey)),genSharedKey:async(m,A)=>{let B;B=A?await r.get().subtle.importKey("jwk",u(d,A),{name:"ECDH",namedCurve:d},!1,["deriveBits"]):l.privateKey;const k=[await r.get().subtle.importKey("jwk",h(d,m),{name:"ECDH",namedCurve:d},!1,[]),B],T=await r.get().subtle.deriveBits({name:"ECDH",namedCurve:d,public:k[0]},k[1],o[d]);return new Uint8Array(T,T.byteOffset,T.byteLength)}}};const e={"P-256":32,"P-384":48,"P-521":66};function n(d){const l=e[d.crv];return t([Uint8Array.from([4]),i(d.x,l),i(d.y,l)],1+2*l)}function h(d,l){const m=e[d];if(a(!l.slice(0,1),Uint8Array.from([4])))throw s(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:d,x:c(l.slice(1,m+1),"base64url"),y:c(l.slice(1+m),"base64url"),ext:!0}}const u=(d,l)=>({...h(d,l.public),d:c(l.private,"base64url")})},function(N,x,b){const s=b(24);N.exports=function(r,i){if(!r.includes(i)){const f=r.join(" / ");throw s(new Error(`Unknown curve: ${i}. Must be ${f}`),"ERR_INVALID_CURVE")}}},function(N,x,b){const s=b(67);N.exports=s(`

message PeerIdProto {
  required bytes id = 1;
  bytes pubKey = 2;
  bytes privKey = 3;
}

`)},function(N,x,b){const s=b(490),r=b(113),i=b(16),f=b(103),c=b(181),t=b(24),a=Symbol.for("nodejs.util.inspect.custom"),o=b(12),e=b(35),n=new Map,h=c.proto(function(u){if(!(this instanceof h))return new h(u);if(u==null&&(u=""),u instanceof Uint8Array)this.bytes=s.fromBytes(u);else if(typeof u=="string"||u instanceof String){if(u.length>0&&u.charAt(0)!=="/")throw new Error(`multiaddr "${u}" must start with a "/"`);this.bytes=s.fromString(u)}else{if(!(u.bytes&&u.protos&&u.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=s.fromBytes(u.bytes)}},{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});h.prototype.toString=function(){return s.bytesToString(this.bytes)},h.prototype.toJSON=h.prototype.toString,h.prototype.toOptions=function(){const u={},d=this.toString().split("/");return u.family=d[1]==="ip4"?"ipv4":"ipv6",u.host=d[2],u.transport=d[3],u.port=parseInt(d[4]),u},h.prototype[a]=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.inspect=function(){return"<Multiaddr "+o(this.bytes,"base16")+" - "+s.bytesToString(this.bytes)+">"},h.prototype.protos=function(){return this.protoCodes().map(u=>Object.assign({},r(u)))},h.prototype.protoCodes=function(){const u=[],d=this.bytes;let l=0;for(;l<d.length;){const m=i.decode(d,l),A=i.decode.bytes,B=r(m);l+=s.sizeForAddr(B,d.slice(l+A))+A,u.push(m)}return u},h.prototype.protoNames=function(){return this.protos().map(u=>u.name)},h.prototype.tuples=function(){return s.bytesToTuples(this.bytes)},h.prototype.stringTuples=function(){const u=s.bytesToTuples(this.bytes);return s.tuplesToStringTuples(u)},h.prototype.encapsulate=function(u){return u=h(u),h(this.toString()+u.toString())},h.prototype.decapsulate=function(u){u=u.toString();const d=this.toString(),l=d.lastIndexOf(u);if(l<0)throw new Error("Address "+this+" does not contain subaddress: "+u);return h(d.slice(0,l))},h.prototype.decapsulateCode=function(u){const d=this.tuples();for(let l=d.length-1;l>=0;l--)if(d[l][0]===u)return h(s.tuplesToBytes(d.slice(0,l)));return this},h.prototype.getPeerId=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(d[0]===r.names.ipfs.code)return!0}).pop()[1],u=o(new f(u).multihash,"base58btc")}catch(d){u=null}return u},h.prototype.getPath=function(){let u=null;try{u=this.stringTuples().filter(d=>{if(r(d[0]).path)return!0})[0][1]}catch(d){u=null}return u},h.prototype.equals=function(u){return e(this.bytes,u.bytes)},h.prototype.resolve=async function(){const u=this.protos().find(l=>l.resolvable);if(!u)return[this];const d=n.get(u.name);if(!d)throw t(new Error("no available resolver for "+u.name),"ERR_NO_AVAILABLE_RESOLVER");return(await d(this)).map(l=>h(l))},h.prototype.nodeAddress=function(){const u=this.protoCodes(),d=this.protoNames(),l=this.toString().split("/").slice(1);if(l.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(u[0]!==4&&u[0]!==41&&u[0]!==54&&u[0]!==55)throw new Error(`no protocol with name: "'${d[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(l[2]!=="tcp"&&l[2]!=="udp")throw new Error(`no protocol with name: "'${d[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:u[0]===41||u[0]===55?6:4,address:l[1],port:parseInt(l[3])}},h.fromNodeAddress=function(u,d){if(!u)throw new Error("requires node address object");if(!d)throw new Error("requires transport protocol");let l;switch(u.family){case"IPv4":l="ip4";break;case"IPv6":l="ip6";break;default:throw Error(`Invalid addr family. Got '${u.family}' instead of 'IPv4' or 'IPv6'`)}return h("/"+[l,u.address,d,u.port].join("/"))},h.prototype.isThinWaistAddress=function(u){const d=(u||this).protos();return d.length===2&&(d[0].code===4||d[0].code===41)&&(d[1].code===6||d[1].code===273)},h.protocols=r,h.isName=function(u){return!!h.isMultiaddr(u)&&u.protos().some(d=>d.resolvable)},h.resolve=function(u){return h.isMultiaddr(u)&&h.isName(u)?Promise.reject(new Error("not implemented yet")):Promise.reject(Error("not a valid name"))},h.resolvers=n,N.exports=h},function(N,x,b){const s=b(491),r=b(113),i=b(16),f=b(27),c=b(12);function t(T){const g=[],E=T.split("/").slice(1);if(E.length===1&&E[0]==="")return[];for(let R=0;R<E.length;R++){const S=E[R],M=r(S);if(M.size!==0){if(R++,R>=E.length)throw B("invalid address: "+T);if(M.path){g.push([S,A(E.slice(R).join("/"))]);break}g.push([S,E[R]])}else g.push([S])}return g}function a(T){const g=[];return T.map(E=>{const R=k(E);g.push(R.name),E.length>1&&g.push(E[1])}),A(g.join("/"))}function o(T){return T.map(g=>{Array.isArray(g)||(g=[g]);const E=k(g);return g.length>1?[E.code,s.toBytes(E.code,g[1])]:[E.code]})}function e(T){return T.map(g=>{const E=k(g);return g.length>1?[E.code,s.toString(E.code,g[1])]:[E.code]})}function n(T){return l(f(T.map(g=>{const E=k(g);let R=Uint8Array.from(i.encode(E.code));return g.length>1&&(R=f([R,g[1]])),R})))}function h(T,g){return T.size>0?T.size/8:T.size===0?0:i.decode(g)+i.decode.bytes}function u(T){const g=[];let E=0;for(;E<T.length;){const R=i.decode(T,E),S=i.decode.bytes,M=h(r(R),T.slice(E+S));if(M===0){g.push([R]),E+=S;continue}const y=T.slice(E+S,E+S+M);if(E+=M+S,E>T.length)throw B("Invalid address Uint8Array: "+c(T,"base16"));g.push([R,y])}return g}function d(T){return n(o(t(T=A(T))))}function l(T){const g=m(T);if(g)throw g;return Uint8Array.from(T)}function m(T){try{u(T)}catch(g){return g}}function A(T){return"/"+T.trim().split("/").filter(g=>g).join("/")}function B(T){return new Error("Error parsing address: "+T)}function k(T){return r(T[0])}N.exports={stringToStringTuples:t,stringTuplesToString:a,tuplesToStringTuples:e,stringTuplesToTuples:o,bytesToTuples:u,tuplesToBytes:n,bytesToString:function(T){const g=u(T);return a(e(g))},stringToBytes:d,fromString:function(T){return d(T)},fromBytes:l,validateBytes:m,isValidBytes:function(T){return m(T)===void 0},cleanPath:A,ParseError:B,protoFromTuple:k,sizeForAddr:h}},function(N,x,b){const s=b(492),r=b(113),i=b(103),f=b(40),c=b(16),t=b(12),a=b(20),o=b(27);function e(l,m){return m instanceof Uint8Array?e.toString(l,m):e.toBytes(l,m)}function n(l){if(!s.isIP(l))throw new Error("invalid ip address");return s.toBytes(l)}function h(l){const m=new ArrayBuffer(2);return new DataView(m).setUint16(0,l),new Uint8Array(m)}function u(l){return new DataView(l.buffer).getUint16(0)}function d(l){const m=l.slice(0,l.length-2),A=l.slice(l.length-2);return t(m,"base32")+":"+u(A)}N.exports=e,e.toString=function(l,m){switch((l=r(l)).code){case 4:case 41:return function(A){const B=s.toString(A);if(!B||!s.isIP(B))throw new Error("invalid ip address");return B}(m);case 6:case 273:case 33:case 132:return u(m);case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=c.decode(A);if((A=A.slice(c.decode.bytes)).length!==B)throw new Error("inconsistent lengths");return t(A)}(m);case 421:return function(A){const B=c.decode(A),k=A.slice(c.decode.bytes);if(k.length!==B)throw new Error("inconsistent lengths");return t(k,"base58btc")}(m);case 444:case 445:return d(m);default:return t(m,"base16")}},e.toBytes=function(l,m){switch((l=r(l)).code){case 4:case 41:return n(m);case 6:case 273:case 33:case 132:return h(parseInt(m,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(A){const B=a(A),k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 421:return function(A){const B=new i(A).multihash,k=Uint8Array.from(c.encode(B.length));return o([k,B],k.length+B.length)}(m);case 444:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==16)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);case 445:return function(A){const B=A.split(":");if(B.length!==2)throw new Error("failed to parse onion addr: "+B+" does not contain a port number");if(B[0].length!==56)throw new Error("failed to parse onion addr: "+B[0]+" not a Tor onion3 address.");const k=f.decode("b"+B[0]),T=parseInt(B[1],10);if(T<1||T>65536)throw new Error("Port number is not in range(1, 65536)");const g=h(T);return o([k,g],k.length+g.length)}(m);default:return a(m,"base16")}}},function(N,x,b){const s=b(493),r=b(12),i=s,f=s.v4,c=s.v6,t=function(a,o,e){var n;if(e=~~e,f(a))n=o||new Uint8Array(e+4),a.split(/\./g).map(function(A){n[e++]=255&parseInt(A,10)});else if(c(a)){var h,u=a.split(":",8);for(h=0;h<u.length;h++){var d;f(u[h])&&(d=t(u[h]),u[h]=r(d.slice(0,2),"base16")),d&&++h<8&&u.splice(h,0,r(d.slice(2,4),"base16"))}if(u[0]==="")for(;u.length<8;)u.unshift("0");else if(u[u.length-1]==="")for(;u.length<8;)u.push("0");else if(u.length<8){for(h=0;h<u.length&&u[h]!=="";h++);var l=[h,"1"];for(h=9-u.length;h>0;h--)l.push("0");u.splice.apply(u,l)}for(n=o||new Uint8Array(e+16),h=0;h<u.length;h++){var m=parseInt(u[h],16);n[e++]=m>>8&255,n[e++]=255&m}}if(!n)throw Error("Invalid ip address: "+a);return n};N.exports={isIP:i,isV4:f,isV6:c,toBytes:t,toString:function(a,o,e){o=~~o,e=e||a.length-o;var n,h=[];const u=new DataView(a.buffer);if(e===4){for(let d=0;d<e;d++)h.push(a[o+d]);n=h.join(".")}else if(e===16){for(let d=0;d<e;d+=2)h.push(u.getUint16(o+d).toString(16));n=(n=(n=h.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n}}},function(N,x,b){const s=b(494),r=i=>s({exact:!0}).test(i);r.v4=i=>s.v4({exact:!0}).test(i),r.v6=i=>s.v6({exact:!0}).test(i),r.version=i=>r(i)?r.v4(i)?4:6:void 0,N.exports=r},function(N,x,b){const s=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",f=`
(
(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${i}:){6}(?:${r}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${i}:){5}(?::${r}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${i}:){4}(?:(:${i}){0,1}:${r}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${i}:){3}(?:(:${i}){0,2}:${r}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${i}:){2}(?:(:${i}){0,3}:${r}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${i}:){1}(?:(:${i}){0,4}:${r}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${i}){0,5}:${r}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),c=new RegExp(`(?:^${r}$)|(?:^${f}$)`),t=new RegExp(`^${r}$`),a=new RegExp(`^${f}$`),o=e=>e&&e.exact?c:new RegExp(`(?:${s(e)}${r}${s(e)})|(?:${s(e)}${f}${s(e)})`,"g");o.v4=e=>e&&e.exact?t:new RegExp(`${s(e)}${r}${s(e)}`,"g"),o.v6=e=>e&&e.exact?a:new RegExp(`${s(e)}${f}${s(e)}`,"g"),N.exports=o},function(N,x,b){N.exports={OPEN:"open",CLOSING:"closing",CLOSED:"closed"}},function(N,x,b){function s(r){if(Array.isArray(r)){for(var i=0,f=Array(r.length);i<r.length;i++)f[i]=r[i];return f}return Array.from(r)}N.exports=function(r){var i=void 0,f=void 0;function c(o){if(!(o instanceof Object))throw new Error('Target "'+o+'" is not an object');f=o}function t(o){Object.keys(o).forEach(function(e){var n=o[e];if(typeof n!="function")throw new Error('Trap "'+e+": "+n+'" is not a function');if(!Reflect[e])throw new Error('Trap "'+e+": "+n+'" is not a valid trap')}),i=o}c(function(){}),r&&c(r),t(Reflect);var a=new Proxy({},{get:function(o,e){return function(){for(var n=arguments.length,h=Array(n),u=0;u<n;u++)h[u]=arguments[u];return i[e].apply(null,[f].concat(s(h.slice(1))))}}});return{setTarget:c,setHandler:t,getTarget:function(){return f},getHandler:function(){return i},proxy:new Proxy(f,a)}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-store:address-book"),{error:s("libp2p:peer-store:address-book:err")}),i=b(1),f=b(14),c=b(9),t=b(73),a=b(94),{codes:{ERR_INVALID_PARAMETERS:o}}=b(10),e=b(93);N.exports=class extends t{constructor(n){super({peerStore:n,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:h=>h.addresses?h.addresses.map(u=>u.multiaddr):[]}),this.data=new Map}consumePeerRecord(n){let h;try{h=a.createFromProtobuf(n.payload)}catch(A){return r.error("invalid peer record received"),!1}if(!h.peerId.equals(n.peerId))return r("signing key does not match PeerId in the PeerRecord"),!1;if(!h.multiaddrs||!h.multiaddrs.length)return!1;const u=h.peerId,d=u.toB58String(),l=(this.data.get(d)||{record:void 0}).record;if(l&&l.seqNumber>=h.seqNumber)return!1;const m=this._toAddresses(h.multiaddrs,!0);return this._setData(u,{addresses:m,record:{raw:n.marshal(),seqNumber:h.seqNumber}}),r("stored provided peer record for "+d),!0}getRawEnvelope(n){const h=this.data.get(n.toB58String());if(h&&h.record&&h.record.raw)return h.record.raw}getPeerRecord(n){const h=this.getRawEnvelope(n);if(h)return e.createFromProtobuf(h)}set(n,h){if(!c.isPeerId(n))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),o);const u=this._toAddresses(h);if(!u.length)return this;const d=n.toB58String(),l=this.data.get(d);return l&&l.addresses&&l.addresses.length===u.length&&l.addresses.filter(m=>u.some(A=>m.multiaddr.equals(A.multiaddr))).length===l.addresses.length?(r("the addresses provided to store are equal to the already stored for "+d),this):(this._setData(n,{addresses:u,record:l&&l.record}),r("stored provided multiaddrs for "+d),l||this._ps.emit("peer",n),this)}add(n,h){if(!c.isPeerId(n))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),o);const u=this._toAddresses(h),d=n.toB58String(),l=this.data.get(d);return l&&l.addresses&&(l.addresses.forEach(m=>{u.find(A=>A.multiaddr.equals(m.multiaddr))||u.push(m)}),l.addresses.length===u.length)?(r("the addresses provided to store are already stored for "+d),this):(this._setData(n,{addresses:u,record:l&&l.record}),r("added provided multiaddrs for "+d),l&&l.addresses||this._ps.emit("peer",n),this)}get(n){if(!c.isPeerId(n))throw i(new Error("peerId must be an instance of peer-id"),o);const h=this.data.get(n.toB58String());return h&&h.addresses?[...h.addresses]:void 0}_toAddresses(n,h=!1){if(!n)throw r.error("multiaddrs must be provided to store data"),i(new Error("multiaddrs must be provided"),o);const u=[];return n.forEach(d=>{if(!f.isMultiaddr(d))throw r.error(`multiaddr ${d} must be an instance of multiaddr`),i(new Error(`multiaddr ${d} must be an instance of multiaddr`),o);u.push({multiaddr:d,isCertified:h})}),u}getMultiaddrsForPeer(n,h=u=>u){if(!c.isPeerId(n))throw i(new Error("peerId must be an instance of peer-id"),o);const u=this.data.get(n.toB58String());if(u&&u.addresses)return h(u.addresses||[]).map(d=>{const l=d.multiaddr,m=l.getPeerId();return m&&m===n.toB58String()?l:l.encapsulate("/p2p/"+n.toB58String())})}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-store:key-book"),{error:s("libp2p:peer-store:key-book:err")}),i=b(1),f=b(9),c=b(73),{codes:{ERR_INVALID_PARAMETERS:t}}=b(10);N.exports=class extends c{constructor(a){super({peerStore:a,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:o=>o.pubKey}),this.data=new Map}set(a,o){if(!f.isPeerId(a))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),t);const e=a.toB58String();return!this.data.get(e)&&o&&(a.pubKey=o,this._setData(a,a),r("stored provided public key for "+e)),this}get(a){if(!f.isPeerId(a))throw i(new Error("peerId must be an instance of peer-id"),t);const o=this.data.get(a.toB58String());return o?o.pubKey:void 0}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-store:proto-book"),{error:s("libp2p:peer-store:proto-book:err")}),i=b(1),f=b(19),c=b(9),t=b(73),{codes:{ERR_INVALID_PARAMETERS:a}}=b(10);N.exports=class extends t{constructor(o){super({peerStore:o,eventName:"change:metadata",eventProperty:"metadata"}),this.data=new Map}set(o,e,n){if(!c.isPeerId(o))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),a);if(typeof e!="string"||!(n instanceof Uint8Array))throw r.error("valid key and value must be provided to store data"),i(new Error("valid key and value must be provided"),a);return this._setValue(o,e,n),this}_setValue(o,e,n,{emit:h=!0}={}){const u=o.toB58String(),d=this.data.get(u)||new Map,l=d.get(e);l&&f(n,l)?r(`the metadata provided to store is equal to the already stored for ${u} on ${e}`):(d.set(e,n),this.data.set(u,d),h&&this._emit(o,e))}get(o){if(!c.isPeerId(o))throw i(new Error("peerId must be an instance of peer-id"),a);return this.data.get(o.toB58String())}getValue(o,e){if(!c.isPeerId(o))throw i(new Error("peerId must be an instance of peer-id"),a);const n=this.data.get(o.toB58String());return n&&n.get(e)}delete(o){if(!c.isPeerId(o))throw i(new Error("peerId must be an instance of peer-id"),a);return!!this.data.delete(o.toB58String())&&(this._emit(o),!0)}deleteValue(o,e){if(!c.isPeerId(o))throw i(new Error("peerId must be an instance of peer-id"),a);const n=this.data.get(o.toB58String());return!(!n||!n.delete(e))&&(this._emit(o,e),!0)}}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-store:proto-book"),{error:s("libp2p:peer-store:proto-book:err")}),i=b(1),f=b(9),c=b(73),{codes:{ERR_INVALID_PARAMETERS:t}}=b(10);N.exports=class extends c{constructor(a){super({peerStore:a,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:o=>Array.from(o)}),this.data=new Map}set(a,o){if(!f.isPeerId(a))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),t);if(!o)throw r.error("protocols must be provided to store data"),i(new Error("protocols must be provided"),t);const e=a.toB58String(),n=this.data.get(e),h=new Set(o);return n&&(d=h,(u=n).size===d.size&&[...u].every(l=>d.has(l)))?(r("the protocols provided to store are equal to the already stored for "+e),this):(this._setData(a,h),r("stored provided protocols for "+e),this);var u,d}add(a,o){if(!f.isPeerId(a))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),t);if(!o)throw r.error("protocols must be provided to store data"),i(new Error("protocols must be provided"),t);const e=a.toB58String(),n=this.data.get(e)||new Set,h=new Set([...n,...o]);return n.size===h.size?(r("the protocols provided to store are already stored for "+e),this):(this._setData(a,h),r("added provided protocols for "+e),this)}remove(a,o){if(!f.isPeerId(a))throw r.error("peerId must be an instance of peer-id to store data"),i(new Error("peerId must be an instance of peer-id"),t);if(!o)throw r.error("protocols must be provided to store data"),i(new Error("protocols must be provided"),t);const e=a.toB58String(),n=this.data.get(e);if(n){const h=new Set([...n].filter(u=>!o.includes(u)));if(n.size===h.size)return this;this._setData(a,h),r("removed provided protocols for "+e)}return this}}},function(N,x,b){N.exports=function(s,r,i){const f=new s(r,i);return f._subscribeAdapter=f.subscribe,f._unsubscribeAdapter=f.unsubscribe,f.subscribe=function(c,t){t&&f.on(c,t),f._subscribeAdapter(c)},f.unsubscribe=function(c,t){t?f.removeListener(c,t):f.removeAllListeners(c),f.listenerCount(c)===0&&f._unsubscribeAdapter(c)},f}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:persistent-peer-store"),{error:s("libp2p:persistent-peer-store:err")}),{Key:i}=b(157),f=b(14),c=b(9),t=b(182),{NAMESPACE_ADDRESS:a,NAMESPACE_COMMON:o,NAMESPACE_KEYS:e,NAMESPACE_METADATA:n,NAMESPACE_PROTOCOL:h}=b(503),u=b(504),d=b(505);N.exports=class extends t{constructor({peerId:l,datastore:m,threshold:A=5}){super({peerId:l}),this._datastore=m,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=A,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){r("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(const l of this._datastore.query({prefix:o}))await this._processDatastoreEntry(l);r("PeerStore started")}async stop(){r("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),r("PeerStore stopped")}_addDirtyPeer({peerId:l}){const m=l.toB58String();r("add dirty peer",m),this._dirtyPeers.add(m),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(A=>{r.error("error committing data",A)})}_addDirtyPeerKey({peerId:l}){if(l.hasInlinePublicKey())return;const m=l.toB58String();r("add dirty peer key",m),this._dirtyPeers.add(m),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(A=>{r.error("error committing data",A)})}_addDirtyPeerMetadata({peerId:l,metadata:m}){const A=l.toB58String();r("add dirty metadata peer",A),this._dirtyPeers.add(A);const B=this._dirtyMetadata.get(A)||new Set;B.add(m),this._dirtyMetadata.set(A,B),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(k=>{r.error("error committing data",k)})}async _commitData(){const l=Array.from(this._dirtyPeers);if(!l.length)return;this._dirtyPeers.clear(),r("create batch commit");const m=this._datastore.batch();for(const A of l){const B=this.keyBook.data.get(A)||c.createFromCID(A);this._batchAddressBook(B,m),!B.hasInlinePublicKey()&&this._batchKeyBook(B,m),this._batchMetadataBook(B,m),this._batchProtoBook(B,m)}await m.commit(),r("batch committed")}_batchAddressBook(l,m){const A=l.toString(),B=new i(`${a}${A}`),k=this.addressBook.data.get(l.toB58String());try{if(!k)return void m.delete(B);const T=u.encode({addrs:k.addresses.map(g=>({multiaddr:g.multiaddr.bytes,isCertified:g.isCertified})),certified_record:k.record?{seq:k.record.seqNumber,raw:k.record.raw}:void 0});m.put(B,T)}catch(T){r.error(T)}}_batchKeyBook(l,m){const A=l.toString(),B=new i(`${e}${A}`);try{if(!l.pubKey)return void m.delete(B);const k=l.marshalPubKey();m.put(B,k)}catch(k){r.error(k)}}_batchMetadataBook(l,m){const A=l.toString(),B=this._dirtyMetadata.get(l.toB58String())||[];try{B.forEach(k=>{const T=new i(`${n}${A}/${k}`),g=this.metadataBook.getValue(l,k);g?m.put(T,g):m.delete(T)})}catch(k){r.error(k)}}_batchProtoBook(l,m){const A=l.toString(),B=new i(`${h}${A}`),k=this.protoBook.get(l);try{if(!k)return void m.delete(B);const T=d.encode({protocols:k});m.put(B,T)}catch(T){r.error(T)}}async _processDatastoreEntry({key:l,value:m}){try{const A=l.toString().split("/"),B=c.createFromCID(A[3]);let k;switch(A[2]){case"addrs":k=u.decode(m),this.addressBook._setData(B,{addresses:k.addrs.map(T=>({multiaddr:f(T.multiaddr),isCertified:Boolean(T.isCertified)})),record:k.certified_record?{raw:k.certified_record.raw,seqNumber:k.certified_record.seq}:void 0},{emit:!1});break;case"keys":k=await c.createFromPubKey(m),this.keyBook._setData(k,k,{emit:!1});break;case"metadata":this.metadataBook._setValue(B,A[4],m,{emit:!1});break;case"protos":k=d.decode(m),this.protoBook._setData(B,new Set(k.protocols),{emit:!1});break;default:r("invalid data persisted for: ",l.toString())}}catch(A){r.error(A)}}}},function(N,x,b){N.exports.NAMESPACE_COMMON="/peers/",N.exports.NAMESPACE_ADDRESS="/peers/addrs/",N.exports.NAMESPACE_KEYS="/peers/keys/",N.exports.NAMESPACE_METADATA="/peers/metadata/",N.exports.NAMESPACE_PROTOCOL="/peers/protos/"},function(N,x,b){const s=b(22);N.exports=s(`
message Addresses {
  // Address represents a single multiaddr.
  message Address {
    required bytes multiaddr = 1;

    // Flag to indicate if the address comes from a certified source.
    optional bool isCertified = 2;
  }

  // CertifiedRecord contains a serialized signed PeerRecord used to
  // populate the signedAddrs list.
  message CertifiedRecord {
    // The Seq counter from the signed PeerRecord envelope
    uint64 seq = 1;

    // The serialized bytes of the SignedEnvelope containing the PeerRecord.
    bytes raw = 2;
  }

  // The known multiaddrs.
  repeated Address addrs = 1;

  // The most recently received signed PeerRecord.
  CertifiedRecord certified_record = 2;
}
`).Addresses},function(N,x,b){const s=b(22);N.exports=s(`
message Protocols {
  repeated string protocols = 1;
}
`).Protocols},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:peer-store"),{error:s("libp2p:peer-store:err")}),i=b(1),{codes:{ERR_INVALID_PARAMETERS:f}}=b(10),c=b(507);N.exports=class{constructor({peerStore:t,connectionManager:a}){this.peerStore=t,this.connectionManager=a,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(t){this._handle=t}getConnection(t){return this.connectionManager.get(t)}register(t){if(!c.isTopology(t))throw r.error("topology must be an instance of interfaces/topology"),i(new Error("topology must be an instance of interfaces/topology"),f);const a=(1e9*Math.random()).toString(36)+Date.now();return this.topologies.set(a,t),t.registrar=this,a}unregister(t){return this.topologies.delete(t)}_onDisconnect(t,a){for(const[,o]of this.topologies)o.disconnect(t.remotePeer,a)}}},function(N,x,b){const s=()=>{},r=Symbol.for("@libp2p/js-interfaces/topology");class i{constructor({min:f=0,max:c=1/0,handlers:t={}}){this.min=f,this.max=c,this._onConnect=t.onConnect||s,this._onDisconnect=t.onDisconnect||s,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[r](){return!0}static isTopology(f){return Boolean(f&&f[r])}set registrar(f){this._registrar=f}disconnect(f){this._onDisconnect(f)}}N.exports=i},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:ping"),{error:s("libp2p:ping:err")}),i=b(1),f=b(156),{pipe:c}=b(34),{toBuffer:t}=b(114),{collect:a,take:o}=b(98),e=b(19),{PROTOCOL:n,PING_LENGTH:h}=b(509);(x=N.exports=async function(u,d){r("dialing %s to %s",n,d.toB58String?d.toB58String():d);const{stream:l}=await u.dialProtocol(d,n),m=Date.now(),A=f.randomBytes(h),[B]=await c([A],l,T=>o(1,T),t,a),k=Date.now();if(!e(A,B))throw i(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return k-m}).mount=function(u){u.handle(n,({stream:d})=>c(d,d))},x.unmount=function(u){u.unhandle(n)}},function(N,x,b){N.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}},function(N,x,b){const s=b(3),r=Object.assign(s("libp2p:identify"),{error:s("libp2p:identify:err")}),i=b(1),f=b(511),c=b(50),{pipe:t}=b(34),{collect:a,take:o,consume:e}=b(98),n=b(7),h=b(9),u=b(14),{toBuffer:d}=b(114),l=b(513),m=b(93),A=b(94),{MULTICODEC_IDENTIFY:B,MULTICODEC_IDENTIFY_PUSH:k,AGENT_VERSION:T,PROTOCOL_VERSION:g}=b(141),{codes:E}=b(10);class R{constructor({libp2p:M}){this._libp2p=M,this.peerStore=M.peerStore,this.connectionManager=M.connectionManager,this.peerId=M.peerId,this.handleMessage=this.handleMessage.bind(this),this._host={agentVersion:T,protocolVersion:g,...M._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",n(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",n(this._host.protocolVersion)),this.connectionManager.on("peer:connect",y=>{this.identify(y).catch(r.error)}),this.peerStore.on("change:multiaddrs",({peerId:y})=>{y.toString()===this.peerId.toString()&&this.pushToPeerStore()}),this.peerStore.on("change:protocols",({peerId:y})=>{y.toString()===this.peerId.toString()&&this.pushToPeerStore()})}async push(M){const y=await this.peerStore.addressBook.getRawEnvelope(this.peerId),p=this._libp2p.multiaddrs.map(_=>_.bytes),w=this.peerStore.protoBook.get(this.peerId)||[],v=M.map(async _=>{try{const{stream:C}=await _.newStream(k);await t([{listenAddrs:p,signedPeerRecord:y,protocols:w}],f.encode(l),C,e)}catch(C){r.error("could not push identify update to peer",C)}});return Promise.all(v)}pushToPeerStore(){if(!this._libp2p.isStarted())return;const M=[];let y;for(const p of this.peerStore.peers.values())p.protocols.includes(k)&&(y=this.connectionManager.get(p.id))&&M.push(y);this.push(M)}async identify(M){const{stream:y}=await M.newStream(B),[p]=await t([],y,c.decode(),o(1),d,a);if(!p)throw i(new Error("No data could be retrieved"),E.ERR_CONNECTION_ENDED);let w;try{w=l.decode(p)}catch(q){throw i(q,E.ERR_INVALID_MESSAGE)}let{publicKey:v,listenAddrs:_,protocols:C,observedAddr:L,signedPeerRecord:O}=w;const U=await h.createFromPubKey(v);if(M.remotePeer.toB58String()!==U.toB58String())throw i(new Error("identified peer does not match the expected peer"),E.ERR_INVALID_PEER);L=R.getCleanMultiaddr(L);try{const q=await m.openAndCertify(O,A.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(q))return void this.peerStore.protoBook.set(U,C)}catch(q){r("received invalid envelope, discard it and fallback to listenAddrs is available",q)}try{this.peerStore.addressBook.set(U,_.map(q=>u(q)))}catch(q){r.error("received invalid addrs",q)}this.peerStore.protoBook.set(U,C),this.peerStore.metadataBook.set(U,"AgentVersion",n(w.agentVersion)),r("received observed address of %s",L)}handleMessage({connection:M,stream:y,protocol:p}){switch(p){case B:return this._handleIdentify({connection:M,stream:y});case k:return this._handlePush({connection:M,stream:y});default:r.error("cannot handle unknown protocol %s",p)}}async _handleIdentify({connection:M,stream:y}){let p=new Uint8Array(0);this.peerId.pubKey&&(p=this.peerId.pubKey.bytes);const w=await this.peerStore.addressBook.getRawEnvelope(this.peerId),v=this.peerStore.protoBook.get(this.peerId)||[],_=l.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:p,listenAddrs:this._libp2p.multiaddrs.map(C=>C.bytes),signedPeerRecord:w,observedAddr:M.remoteAddr.bytes,protocols:v});try{await t([_],c.encode(),y,e)}catch(C){r.error("could not respond to identify request",C)}}async _handlePush({connection:M,stream:y}){let p;try{const[v]=await t([],y,c.decode(),o(1),d,a);p=l.decode(v)}catch(v){return r.error("received invalid message",v)}const w=M.remotePeer;try{const v=await m.openAndCertify(p.signedPeerRecord,A.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(v))return void this.peerStore.protoBook.set(w,p.protocols)}catch(v){r("received invalid envelope, discard it and fallback to listenAddrs is available",v)}try{this.peerStore.addressBook.set(w,p.listenAddrs.map(v=>u(v)))}catch(v){r.error("received invalid addrs",v)}this.peerStore.protoBook.set(w,p.protocols)}static getCleanMultiaddr(M){if(M&&M.length>0)try{return u(M)}catch(y){return null}return null}}const S={IDENTIFY:B,IDENTIFY_PUSH:k};R.multicodecs=S,R.Messsage=l,N.exports=R},function(N,x,b){const s=b(50),r=b(512),i=b(114);N.exports.encode=f=>c=>s.encode()(r.encode(f)(c)),N.exports.decode=f=>c=>r.decode(f)(i(s.decode()(c))),N.exports.it=r},function(N,x,b){N.exports.encode=s=>r=>async function*(){for await(const i of r)yield s.encode(i)}(),N.exports.decode=s=>r=>async function*(){for await(const i of r)yield s.decode(i)}()},function(N,x,b){const s=b(22);N.exports=s(`
message Identify {
  // protocolVersion determines compatibility between peers
  optional string protocolVersion = 5; // e.g. ipfs/1.0.0

  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent
  // includes the client name and client.
  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0

  // publicKey is this node's public key (which also gives its node.ID)
  // - may not need to be sent, as secure channel implies it has been sent.
  // - then again, if we change / disable secure channel, may still want it.
  optional bytes publicKey = 1;

  // listenAddrs are the multiaddrs the sender node listens for open connections on
  repeated bytes listenAddrs = 2;

  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives
  // this is useful information to convey to the other side, as it helps the remote endpoint
  // determine whether its connection to the local peer goes through NAT.
  optional bytes observedAddr = 4;

  repeated string protocols = 3;

  // signedPeerRecord contains a serialized SignedEnvelope containing a PeerRecord,
  // signed by the sending node. It contains the same addresses as the listenAddrs field, but
  // in a form that lets us share authenticated addrs with other peers.
  optional bytes signedPeerRecord = 8;
}
`).Identify}])})}),me=de(ge);window.Libp2pRepo=be,window.Libp2p=me;function le(){return{addresses:{listen:["/dns4/boiling-hamlet-91904.herokuapp.com/tcp/443/wss/p2p-webrtc-star"]},modules:{transport:[window.Libp2pWebsockets,window.Libp2pWebrtcStar],streamMuxer:[window.Libp2pMplex],connEncryption:[window.Libp2pNoise.NOISE],pubsub:window.Libp2pGossipsub,dht:window.Libp2pKadDht},config:{dht:pe,exposeRawConn:!0}}}async function ve(ue){const fe=await window.Libp2p.create(ue||le());return await fe.start(),fe}export default ve;export{le as defaultBrowserConfig};
