var w;function l(){}l.prototype=Object.create(null);function a(){a.init.call(this)}a.EventEmitter=a,a.usingDomains=!1,a.prototype.domain=void 0,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.init=function(){this.domain=null,a.usingDomains&&w.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new l,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this};function d(n){return n._maxListeners===void 0?a.defaultMaxListeners:n._maxListeners}a.prototype.getMaxListeners=function(){return d(this)};function _(n,t,e){if(t)n.call(e);else for(var r=n.length,s=v(n,r),o=0;o<r;++o)s[o].call(e)}function y(n,t,e,r){if(t)n.call(e,r);else for(var s=n.length,o=v(n,s),i=0;i<s;++i)o[i].call(e,r)}function b(n,t,e,r,s){if(t)n.call(e,r,s);else for(var o=n.length,i=v(n,o),f=0;f<o;++f)i[f].call(e,r,s)}function E(n,t,e,r,s,o){if(t)n.call(e,r,s,o);else for(var i=n.length,f=v(n,i),u=0;u<i;++u)f[u].call(e,r,s,o)}function x(n,t,e,r){if(t)n.apply(e,r);else for(var s=n.length,o=v(n,s),i=0;i<s;++i)o[i].apply(e,r)}a.prototype.emit=function(t){var e,r,s,o,i,f,u,c=t==="error";if(f=this._events,f)c=c&&f.error==null;else if(!c)return!1;if(u=this.domain,c){if(e=arguments[1],u)e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=u,e.domainThrown=!1,u.emit("error",e);else{if(e instanceof Error)throw e;var m=new Error('Uncaught, unspecified "error" event. ('+e+")");throw m.context=e,m}return!1}if(r=f[t],!r)return!1;var h=typeof r=="function";s=arguments.length;switch(s){case 1:_(r,h,this);break;case 2:y(r,h,this,arguments[1]);break;case 3:b(r,h,this,arguments[1],arguments[2]);break;case 4:E(r,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(s-1),i=1;i<s;i++)o[i-1]=arguments[i];x(r,h,this,o)}return!0};function p(n,t,e,r){var s,o,i;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(o=n._events,o?(o.newListener&&(n.emit("newListener",t,e.listener?e.listener:e),o=n._events),i=o[t]):(o=n._events=new l,n._eventsCount=0),!i)i=o[t]=e,++n._eventsCount;else if(typeof i=="function"?i=o[t]=r?[e,i]:[i,e]:r?i.unshift(e):i.push(e),!i.warned&&(s=d(n),s&&s>0&&i.length>s)){i.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=n,f.type=t,f.count=i.length,C(f)}return n}function C(n){typeof console.warn=="function"?console.warn(n):console.log(n)}a.prototype.addListener=function(t,e){return p(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return p(this,t,e,!0)};function g(n,t,e){var r=!1;function s(){n.removeListener(t,s),r||(r=!0,e.apply(n,arguments))}return s.listener=e,s}a.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,g(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,g(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,s,o,i,f;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');if(s=this._events,!s)return this;if(r=s[t],!r)return this;if(r===e||r.listener&&r.listener===e)--this._eventsCount===0?this._events=new l:(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(o=-1,i=r.length;i-- >0;)if(r[i]===e||r[i].listener&&r[i].listener===e){f=r[i].listener,o=i;break}if(o<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount===0)return this._events=new l,this;delete s[t]}else T(r,o);s.removeListener&&this.emit("removeListener",t,f||e)}return this},a.prototype.removeAllListeners=function(t){var e,r;if(r=this._events,!r)return this;if(!r.removeListener)return arguments.length===0?(this._events=new l,this._eventsCount=0):r[t]&&(--this._eventsCount===0?this._events=new l:delete r[t]),this;if(arguments.length===0){for(var s=Object.keys(r),o=0,i;o<s.length;++o){if(i=s[o],i==="removeListener")continue;this.removeAllListeners(i)}return this.removeAllListeners("removeListener"),this._events=new l,this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},a.prototype.listeners=function(t){var e,r,s=this._events;return s?(e=s[t],e?typeof e=="function"?r=[e.listener||e]:r=O(e):r=[]):r=[],r},a.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):L.call(n,t)},a.prototype.listenerCount=L;function L(n){var t=this._events;if(t){var e=t[n];if(typeof e=="function")return 1;if(e)return e.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function T(n,t){for(var e=t,r=e+1,s=n.length;r<s;e+=1,r+=1)n[e]=n[r];n.pop()}function v(n,t){for(var e=new Array(t);t--;)e[t]=n[t];return e}function O(n){for(var t=new Array(n.length),e=0;e<t.length;++e)t[e]=n[e].listener||n[e];return t}var A=Object.freeze({__proto__:null,default:a,EventEmitter:a});export{a as E,A as e};
