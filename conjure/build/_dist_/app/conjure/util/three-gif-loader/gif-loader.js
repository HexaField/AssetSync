import{FileLoader as l}from"../../../../../web_modules/three/src/loaders/FileLoader.js";import{DefaultLoadingManager as u}from"../../../../../web_modules/three/src/loaders/LoadingManager.js";import h from"./gif-texture.js";import{GifReader as c}from"../../../../../web_modules/omggif.js";export default class g{constructor(e){this.manager=e||u,this.crossOrigin="anonymous"}async load(e,a,i,n){const s=new h,t=new l(this.manager);return t.setPath(this.path),t.setResponseType("arraybuffer"),await new Promise((d,m)=>{t.load(e,r=>{const f=new Uint8Array(r),o=new c(f);s.setReader(o),a&&a(o),d()},i,r=>{n(r),m(r)})}),s}setPath(e){return this.path=e,this}}
