import*as e from" https://cdn.skypack.dev/pin/three@v0.123.0-STd7XeVUbImsNuMmqKGL/min/three.js";import{CSS3DObject as n}from"../../../../web_modules/three/examples/jsm/renderers/CSS3DRenderer.js";export default class l{constructor(i,h,o,t={}){this.width=t.width||1,this.height=t.height||1,this.scale=t.scale||1,this.resolution=t.resolution||100,this.inverseRes=1/this.resolution,this.objectCSS=new n(o),this.objectCSS.frustumCulled=!1,this.objectCSS.castShadow=!1,this.objectCSS.receiveShadow=!1,i.sceneCSS.add(this.objectCSS);var s=new e.MeshBasicMaterial;s.color.set(2524671),s.opacity=0,s.transparent=!0,s.side=e.DoubleSide;var a=new e.PlaneGeometry(this.width*this.scale,this.height*this.scale);this.planeMesh=new e.Mesh(a,s),this.planeMesh.castShadow=!1,this.planeMesh.receiveShadow=!1,this.anchor=new e.Group,this.anchor.position.set(t.anchorX||0,0,0),this.anchor.add(this.planeMesh),h.add(this.anchor),this.vec=new e.Vector3,this.qua=new e.Quaternion,this.show(!1)}show(i){this.objectCSS.element.hidden=!i,this.objectCSS.visible=i}update(){this.objectCSS.position.copy(this.planeMesh.getWorldPosition(this.vec)),this.objectCSS.quaternion.copy(this.planeMesh.getWorldQuaternion(this.qua)),this.objectCSS.scale.copy(this.planeMesh.getWorldScale(this.vec).multiplyScalar(this.inverseRes))}}
