import{p as Qt}from"./process-e9e98960.js";import{b as de,c as le}from"./_commonjsHelpers-c99fd594.js";var pe=le(function(fe,Wt){/*! For license information please see index.min.js.LICENSE.txt */!function(L,M){fe.exports=M()}(window,function(){return function(L){var M={};function g(a){if(M[a])return M[a].exports;var l=M[a]={i:a,l:!1,exports:{}};return L[a].call(l.exports,l,l.exports,g),l.l=!0,l.exports}return g.m=L,g.c=M,g.d=function(a,l,o){g.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:o})},g.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},g.t=function(a,l){if(1&l&&(a=g(a)),8&l)return a;if(4&l&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(g.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var s in a)g.d(o,s,function(r){return a[r]}.bind(null,s));return o},g.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return g.d(l,"a",l),l},g.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},g.p="",g(g.s=91)}([function(L,M,g){L.exports={options:{usePureJavaScript:!1}}},function(L,M,g){function a(l,o){for(const s in o)Object.defineProperty(l,s,{value:o[s],enumerable:!0,configurable:!0});return l}L.exports=function(l,o,s){if(!l||typeof l=="string")throw new TypeError("Please pass an Error to err-code");s||(s={}),typeof o=="object"&&(s=o,o=void 0),o!=null&&(s.code=o);try{return a(l,s)}catch(r){s.message=l.message,s.stack=l.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(l)),a(new t,s)}}},function(L,M,g){(function(a,l){var o=g(0),s=g(169),r=L.exports=o.util=o.util||{};function t(u){if(u!==8&&u!==16&&u!==24&&u!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+u)}function n(u){if(this.data="",this.read=0,typeof u=="string")this.data=u;else if(r.isArrayBuffer(u)||r.isArrayBufferView(u))if(typeof Buffer!="undefined"&&u instanceof Buffer)this.data=u.toString("binary");else{var w=new Uint8Array(u);try{this.data=String.fromCharCode.apply(null,w)}catch(x){for(var _=0;_<w.length;++_)this.putByte(w[_])}}else(u instanceof n||typeof u=="object"&&typeof u.data=="string"&&typeof u.read=="number")&&(this.data=u.data,this.read=u.read);this._constructedStringLength=0}!function(){if(a!==void 0&&a.nextTick&&!a.browser)return r.nextTick=a.nextTick,void(typeof setImmediate=="function"?r.setImmediate=setImmediate:r.setImmediate=r.nextTick);if(typeof setImmediate=="function")return r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(r.nextTick=function(v){return setImmediate(v)});if(r.setImmediate=function(v){setTimeout(v,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){var u="forge.setImmediate",w=[];r.setImmediate=function(v){w.push(v),w.length===1&&window.postMessage(u,"*")},window.addEventListener("message",function(v){if(v.source===window&&v.data===u){v.stopPropagation();var y=w.slice();w.length=0,y.forEach(function(E){E()})}},!0)}if(typeof MutationObserver!="undefined"){var _=Date.now(),x=!0,T=document.createElement("div");w=[],new MutationObserver(function(){var v=w.slice();w.length=0,v.forEach(function(y){y()})}).observe(T,{attributes:!0});var N=r.setImmediate;r.setImmediate=function(v){Date.now()-_>15?(_=Date.now(),N(v)):(w.push(v),w.length===1&&T.setAttribute("a",x=!x))}}r.nextTick=r.setImmediate}(),r.isNodejs=a!==void 0&&a.versions&&a.versions.node,r.globalScope=r.isNodejs?l:typeof self=="undefined"?window:self,r.isArray=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"},r.isArrayBuffer=function(u){return typeof ArrayBuffer!="undefined"&&u instanceof ArrayBuffer},r.isArrayBufferView=function(u){return u&&r.isArrayBuffer(u.buffer)&&u.byteLength!==void 0},r.ByteBuffer=n,r.ByteStringBuffer=n,r.ByteStringBuffer.prototype._optimizeConstructedString=function(u){this._constructedStringLength+=u,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(u){return this.putBytes(String.fromCharCode(u))},r.ByteStringBuffer.prototype.fillWithByte=function(u,w){u=String.fromCharCode(u);for(var _=this.data;w>0;)1&w&&(_+=u),(w>>>=1)>0&&(u+=u);return this.data=_,this._optimizeConstructedString(w),this},r.ByteStringBuffer.prototype.putBytes=function(u){return this.data+=u,this._optimizeConstructedString(u.length),this},r.ByteStringBuffer.prototype.putString=function(u){return this.putBytes(r.encodeUtf8(u))},r.ByteStringBuffer.prototype.putInt16=function(u){return this.putBytes(String.fromCharCode(u>>8&255)+String.fromCharCode(255&u))},r.ByteStringBuffer.prototype.putInt24=function(u){return this.putBytes(String.fromCharCode(u>>16&255)+String.fromCharCode(u>>8&255)+String.fromCharCode(255&u))},r.ByteStringBuffer.prototype.putInt32=function(u){return this.putBytes(String.fromCharCode(u>>24&255)+String.fromCharCode(u>>16&255)+String.fromCharCode(u>>8&255)+String.fromCharCode(255&u))},r.ByteStringBuffer.prototype.putInt16Le=function(u){return this.putBytes(String.fromCharCode(255&u)+String.fromCharCode(u>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(u){return this.putBytes(String.fromCharCode(255&u)+String.fromCharCode(u>>8&255)+String.fromCharCode(u>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(u){return this.putBytes(String.fromCharCode(255&u)+String.fromCharCode(u>>8&255)+String.fromCharCode(u>>16&255)+String.fromCharCode(u>>24&255))},r.ByteStringBuffer.prototype.putInt=function(u,w){t(w);var _="";do w-=8,_+=String.fromCharCode(u>>w&255);while(w>0);return this.putBytes(_)},r.ByteStringBuffer.prototype.putSignedInt=function(u,w){return u<0&&(u+=2<<w-1),this.putInt(u,w)},r.ByteStringBuffer.prototype.putBuffer=function(u){return this.putBytes(u.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var u=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,u},r.ByteStringBuffer.prototype.getInt24=function(){var u=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,u},r.ByteStringBuffer.prototype.getInt32=function(){var u=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,u},r.ByteStringBuffer.prototype.getInt16Le=function(){var u=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,u},r.ByteStringBuffer.prototype.getInt24Le=function(){var u=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,u},r.ByteStringBuffer.prototype.getInt32Le=function(){var u=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,u},r.ByteStringBuffer.prototype.getInt=function(u){t(u);var w=0;do w=(w<<8)+this.data.charCodeAt(this.read++),u-=8;while(u>0);return w},r.ByteStringBuffer.prototype.getSignedInt=function(u){var w=this.getInt(u),_=2<<u-2;return w>=_&&(w-=_<<1),w},r.ByteStringBuffer.prototype.getBytes=function(u){var w;return u?(u=Math.min(this.length(),u),w=this.data.slice(this.read,this.read+u),this.read+=u):u===0?w="":(w=this.read===0?this.data:this.data.slice(this.read),this.clear()),w},r.ByteStringBuffer.prototype.bytes=function(u){return u===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+u)},r.ByteStringBuffer.prototype.at=function(u){return this.data.charCodeAt(this.read+u)},r.ByteStringBuffer.prototype.setAt=function(u,w){return this.data=this.data.substr(0,this.read+u)+String.fromCharCode(w)+this.data.substr(this.read+u+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var u=r.createBuffer(this.data);return u.read=this.read,u},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(u){var w=Math.max(0,this.length()-u);return this.data=this.data.substr(this.read,w),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var u="",w=this.read;w<this.data.length;++w){var _=this.data.charCodeAt(w);_<16&&(u+="0"),u+=_.toString(16)}return u},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())},r.DataBuffer=function(u,w){w=w||{},this.read=w.readOffset||0,this.growSize=w.growSize||1024;var _=r.isArrayBuffer(u),x=r.isArrayBufferView(u);if(_||x)return this.data=_?new DataView(u):new DataView(u.buffer,u.byteOffset,u.byteLength),void(this.write="writeOffset"in w?w.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,u!=null&&this.putBytes(u),"writeOffset"in w&&(this.write=w.writeOffset)},r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(u,w){if(this.length()>=u)return this;w=Math.max(w||this.growSize,u);var _=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),x=new Uint8Array(this.length()+w);return x.set(_),this.data=new DataView(x.buffer),this},r.DataBuffer.prototype.putByte=function(u){return this.accommodate(1),this.data.setUint8(this.write++,u),this},r.DataBuffer.prototype.fillWithByte=function(u,w){this.accommodate(w);for(var _=0;_<w;++_)this.data.setUint8(u);return this},r.DataBuffer.prototype.putBytes=function(u,w){if(r.isArrayBufferView(u)){var _=(x=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)).byteLength-x.byteOffset;return this.accommodate(_),new Uint8Array(this.data.buffer,this.write).set(x),this.write+=_,this}if(r.isArrayBuffer(u)){var x=new Uint8Array(u);return this.accommodate(x.byteLength),new Uint8Array(this.data.buffer).set(x,this.write),this.write+=x.byteLength,this}if(u instanceof r.DataBuffer||typeof u=="object"&&typeof u.read=="number"&&typeof u.write=="number"&&r.isArrayBufferView(u.data))return x=new Uint8Array(u.data.byteLength,u.read,u.length()),this.accommodate(x.byteLength),new Uint8Array(u.data.byteLength,this.write).set(x),this.write+=x.byteLength,this;if(u instanceof r.ByteStringBuffer&&(u=u.data,w="binary"),w=w||"binary",typeof u=="string"){var T;if(w==="hex")return this.accommodate(Math.ceil(u.length/2)),T=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(u,T,this.write),this;if(w==="base64")return this.accommodate(3*Math.ceil(u.length/4)),T=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(u,T,this.write),this;if(w==="utf8"&&(u=r.encodeUtf8(u),w="binary"),w==="binary"||w==="raw")return this.accommodate(u.length),T=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(T),this;if(w==="utf16")return this.accommodate(2*u.length),T=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(T),this;throw new Error("Invalid encoding: "+w)}throw Error("Invalid parameter: "+u)},r.DataBuffer.prototype.putBuffer=function(u){return this.putBytes(u),u.clear(),this},r.DataBuffer.prototype.putString=function(u){return this.putBytes(u,"utf16")},r.DataBuffer.prototype.putInt16=function(u){return this.accommodate(2),this.data.setInt16(this.write,u),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(u){return this.accommodate(3),this.data.setInt16(this.write,u>>8&65535),this.data.setInt8(this.write,u>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(u){return this.accommodate(4),this.data.setInt32(this.write,u),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(u){return this.accommodate(2),this.data.setInt16(this.write,u,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(u){return this.accommodate(3),this.data.setInt8(this.write,u>>16&255),this.data.setInt16(this.write,u>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(u){return this.accommodate(4),this.data.setInt32(this.write,u,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(u,w){t(w),this.accommodate(w/8);do w-=8,this.data.setInt8(this.write++,u>>w&255);while(w>0);return this},r.DataBuffer.prototype.putSignedInt=function(u,w){return t(w),this.accommodate(w/8),u<0&&(u+=2<<w-1),this.putInt(u,w)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var u=this.data.getInt16(this.read);return this.read+=2,u},r.DataBuffer.prototype.getInt24=function(){var u=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,u},r.DataBuffer.prototype.getInt32=function(){var u=this.data.getInt32(this.read);return this.read+=4,u},r.DataBuffer.prototype.getInt16Le=function(){var u=this.data.getInt16(this.read,!0);return this.read+=2,u},r.DataBuffer.prototype.getInt24Le=function(){var u=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,u},r.DataBuffer.prototype.getInt32Le=function(){var u=this.data.getInt32(this.read,!0);return this.read+=4,u},r.DataBuffer.prototype.getInt=function(u){t(u);var w=0;do w=(w<<8)+this.data.getInt8(this.read++),u-=8;while(u>0);return w},r.DataBuffer.prototype.getSignedInt=function(u){var w=this.getInt(u),_=2<<u-2;return w>=_&&(w-=_<<1),w},r.DataBuffer.prototype.getBytes=function(u){var w;return u?(u=Math.min(this.length(),u),w=this.data.slice(this.read,this.read+u),this.read+=u):u===0?w="":(w=this.read===0?this.data:this.data.slice(this.read),this.clear()),w},r.DataBuffer.prototype.bytes=function(u){return u===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+u)},r.DataBuffer.prototype.at=function(u){return this.data.getUint8(this.read+u)},r.DataBuffer.prototype.setAt=function(u,w){return this.data.setUint8(u,w),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var u=new Uint8Array(this.data.buffer,this.read),w=new Uint8Array(u.byteLength);w.set(u),this.data=new DataView(w),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(u){return this.write=Math.max(0,this.length()-u),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var u="",w=this.read;w<this.data.byteLength;++w){var _=this.data.getUint8(w);_<16&&(u+="0"),u+=_.toString(16)}return u},r.DataBuffer.prototype.toString=function(u){var w=new Uint8Array(this.data,this.read,this.length());if((u=u||"utf8")==="binary"||u==="raw")return r.binary.raw.encode(w);if(u==="hex")return r.binary.hex.encode(w);if(u==="base64")return r.binary.base64.encode(w);if(u==="utf8")return r.text.utf8.decode(w);if(u==="utf16")return r.text.utf16.decode(w);throw new Error("Invalid encoding: "+u)},r.createBuffer=function(u,w){return w=w||"raw",u!==void 0&&w==="utf8"&&(u=r.encodeUtf8(u)),new r.ByteBuffer(u)},r.fillString=function(u,w){for(var _="";w>0;)1&w&&(_+=u),(w>>>=1)>0&&(u+=u);return _},r.xorBytes=function(u,w,_){for(var x="",T="",N="",v=0,y=0;_>0;--_,++v)T=u.charCodeAt(v)^w.charCodeAt(v),y>=10&&(x+=N,N="",y=0),N+=String.fromCharCode(T),++y;return x+=N},r.hexToBytes=function(u){var w="",_=0;for(!0&u.length&&(_=1,w+=String.fromCharCode(parseInt(u[0],16)));_<u.length;_+=2)w+=String.fromCharCode(parseInt(u.substr(_,2),16));return w},r.bytesToHex=function(u){return r.createBuffer(u).toHex()},r.int32ToBytes=function(u){return String.fromCharCode(u>>24&255)+String.fromCharCode(u>>16&255)+String.fromCharCode(u>>8&255)+String.fromCharCode(255&u)};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],c="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(u,w){for(var _,x,T,N="",v="",y=0;y<u.length;)_=u.charCodeAt(y++),x=u.charCodeAt(y++),T=u.charCodeAt(y++),N+=i.charAt(_>>2),N+=i.charAt((3&_)<<4|x>>4),isNaN(x)?N+="==":(N+=i.charAt((15&x)<<2|T>>6),N+=isNaN(T)?"=":i.charAt(63&T)),w&&N.length>w&&(v+=N.substr(0,w)+`\r
`,N=N.substr(w));return v+=N},r.decode64=function(u){u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var w,_,x,T,N="",v=0;v<u.length;)w=e[u.charCodeAt(v++)-43],_=e[u.charCodeAt(v++)-43],x=e[u.charCodeAt(v++)-43],T=e[u.charCodeAt(v++)-43],N+=String.fromCharCode(w<<2|_>>4),x!==64&&(N+=String.fromCharCode((15&_)<<4|x>>2),T!==64&&(N+=String.fromCharCode((3&x)<<6|T)));return N},r.encodeUtf8=function(u){return unescape(encodeURIComponent(u))},r.decodeUtf8=function(u){return decodeURIComponent(escape(u))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},r.binary.raw.encode=function(u){return String.fromCharCode.apply(null,u)},r.binary.raw.decode=function(u,w,_){var x=w;x||(x=new Uint8Array(u.length));for(var T=_=_||0,N=0;N<u.length;++N)x[T++]=u.charCodeAt(N);return w?T-_:x},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(u,w,_){var x=w;x||(x=new Uint8Array(Math.ceil(u.length/2)));var T=0,N=_=_||0;for(1&u.length&&(T=1,x[N++]=parseInt(u[0],16));T<u.length;T+=2)x[N++]=parseInt(u.substr(T,2),16);return w?N-_:x},r.binary.base64.encode=function(u,w){for(var _,x,T,N="",v="",y=0;y<u.byteLength;)_=u[y++],x=u[y++],T=u[y++],N+=i.charAt(_>>2),N+=i.charAt((3&_)<<4|x>>4),isNaN(x)?N+="==":(N+=i.charAt((15&x)<<2|T>>6),N+=isNaN(T)?"=":i.charAt(63&T)),w&&N.length>w&&(v+=N.substr(0,w)+`\r
`,N=N.substr(w));return v+=N},r.binary.base64.decode=function(u,w,_){var x,T,N,v,y=w;y||(y=new Uint8Array(3*Math.ceil(u.length/4))),u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var E=0,m=_=_||0;E<u.length;)x=e[u.charCodeAt(E++)-43],T=e[u.charCodeAt(E++)-43],N=e[u.charCodeAt(E++)-43],v=e[u.charCodeAt(E++)-43],y[m++]=x<<2|T>>4,N!==64&&(y[m++]=(15&T)<<4|N>>2,v!==64&&(y[m++]=(3&N)<<6|v));return w?m-_:y.subarray(0,m)},r.binary.base58.encode=function(u,w){return r.binary.baseN.encode(u,c,w)},r.binary.base58.decode=function(u,w){return r.binary.baseN.decode(u,c,w)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(u,w,_){u=r.encodeUtf8(u);var x=w;x||(x=new Uint8Array(u.length));for(var T=_=_||0,N=0;N<u.length;++N)x[T++]=u.charCodeAt(N);return w?T-_:x},r.text.utf8.decode=function(u){return r.decodeUtf8(String.fromCharCode.apply(null,u))},r.text.utf16.encode=function(u,w,_){var x=w;x||(x=new Uint8Array(2*u.length));for(var T=new Uint16Array(x.buffer),N=_=_||0,v=_,y=0;y<u.length;++y)T[v++]=u.charCodeAt(y),N+=2;return w?N-_:x},r.text.utf16.decode=function(u){return String.fromCharCode.apply(null,new Uint16Array(u.buffer))},r.deflate=function(u,w,_){if(w=r.decode64(u.deflate(r.encode64(w)).rval),_){var x=2;32&w.charCodeAt(1)&&(x=6),w=w.substring(x,w.length-4)}return w},r.inflate=function(u,w,_){var x=u.inflate(r.encode64(w)).rval;return x===null?null:r.decode64(x)};var f=function(u,w,_){if(!u)throw new Error("WebStorage not available.");var x;if(_===null?x=u.removeItem(w):(_=r.encode64(JSON.stringify(_)),x=u.setItem(w,_)),x!==void 0&&x.rval!==!0){var T=new Error(x.error.message);throw T.id=x.error.id,T.name=x.error.name,T}},d=function(u,w){if(!u)throw new Error("WebStorage not available.");var _=u.getItem(w);if(u.init)if(_.rval===null){if(_.error){var x=new Error(_.error.message);throw x.id=_.error.id,x.name=_.error.name,x}_=null}else _=_.rval;return _!==null&&(_=JSON.parse(r.decode64(_))),_},p=function(u,w,_,x){var T=d(u,w);T===null&&(T={}),T[_]=x,f(u,w,T)},h=function(u,w,_){var x=d(u,w);return x!==null&&(x=_ in x?x[_]:null),x},b=function(u,w,_){var x=d(u,w);if(x!==null&&_ in x){delete x[_];var T=!0;for(var N in x){T=!1;break}T&&(x=null),f(u,w,x)}},S=function(u,w){f(u,w,null)},I=function(u,w,_){var x,T=null;_===void 0&&(_=["web","flash"]);var N=!1,v=null;for(var y in _){x=_[y];try{if(x==="flash"||x==="both"){if(w[0]===null)throw new Error("Flash local storage not available.");T=u.apply(this,w),N=x==="flash"}x!=="web"&&x!=="both"||(w[0]=localStorage,T=u.apply(this,w),N=!0)}catch(E){v=E}if(N)break}if(!N)throw v;return T};r.setItem=function(u,w,_,x,T){I(p,arguments,T)},r.getItem=function(u,w,_,x){return I(h,arguments,x)},r.removeItem=function(u,w,_,x){I(b,arguments,x)},r.clearItems=function(u,w,_){I(S,arguments,_)},r.parseUrl=function(u){var w=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;w.lastIndex=0;var _=w.exec(u),x=_===null?null:{full:u,scheme:_[1],host:_[2],port:_[3],path:_[4]};return x&&(x.fullHost=x.host,x.port?(x.port!==80&&x.scheme==="http"||x.port!==443&&x.scheme==="https")&&(x.fullHost+=":"+x.port):x.scheme==="http"?x.port=80:x.scheme==="https"&&(x.port=443),x.full=x.scheme+"://"+x.fullHost),x};var k=null;r.getQueryVariables=function(u){var w,_=function(x){for(var T={},N=x.split("&"),v=0;v<N.length;v++){var y,E,m=N[v].indexOf("=");m>0?(y=N[v].substring(0,m),E=N[v].substring(m+1)):(y=N[v],E=null),y in T||(T[y]=[]),y in Object.prototype||E===null||T[y].push(unescape(E))}return T};return u===void 0?(k===null&&(k=typeof window!="undefined"&&window.location&&window.location.search?_(window.location.search.substring(1)):{}),w=k):w=_(u),w},r.parseFragment=function(u){var w=u,_="",x=u.indexOf("?");x>0&&(w=u.substring(0,x),_=u.substring(x+1));var T=w.split("/");return T.length>0&&T[0]===""&&T.shift(),{pathString:w,queryString:_,path:T,query:_===""?{}:r.getQueryVariables(_)}},r.makeRequest=function(u){var w=r.parseFragment(u),_={path:w.pathString,query:w.queryString,getPath:function(x){return x===void 0?w.path:w.path[x]},getQuery:function(x,T){var N;return x===void 0?N=w.query:(N=w.query[x])&&T!==void 0&&(N=N[T]),N},getQueryLast:function(x,T){var N=_.getQuery(x);return N?N[N.length-1]:T}};return _},r.makeLink=function(u,w,_){u=jQuery.isArray(u)?u.join("/"):u;var x=jQuery.param(w||{});return _=_||"",u+(x.length>0?"?"+x:"")+(_.length>0?"#"+_:"")},r.setPath=function(u,w,_){if(typeof u=="object"&&u!==null)for(var x=0,T=w.length;x<T;){var N=w[x++];if(x==T)u[N]=_;else{var v=N in u;(!v||v&&typeof u[N]!="object"||v&&u[N]===null)&&(u[N]={}),u=u[N]}}},r.getPath=function(u,w,_){for(var x=0,T=w.length,N=!0;N&&x<T&&typeof u=="object"&&u!==null;){var v=w[x++];(N=v in u)&&(u=u[v])}return N?u:_},r.deletePath=function(u,w){if(typeof u=="object"&&u!==null)for(var _=0,x=w.length;_<x;){var T=w[_++];if(_==x)delete u[T];else{if(!(T in u)||typeof u[T]!="object"||u[T]===null)break;u=u[T]}}},r.isEmpty=function(u){for(var w in u)if(u.hasOwnProperty(w))return!1;return!0},r.format=function(u){for(var w,_,x=/%./g,T=0,N=[],v=0;w=x.exec(u);){(_=u.substring(v,x.lastIndex-2)).length>0&&N.push(_),v=x.lastIndex;var y=w[0][1];switch(y){case"s":case"o":T<arguments.length?N.push(arguments[1+T++]):N.push("<?>");break;case"%":N.push("%");break;default:N.push("<%"+y+"?>")}}return N.push(u.substring(v)),N.join("")},r.formatNumber=function(u,w,_,x){var T=u,N=isNaN(w=Math.abs(w))?2:w,v=_===void 0?",":_,y=x===void 0?".":x,E=T<0?"-":"",m=parseInt(T=Math.abs(+T||0).toFixed(N),10)+"",A=m.length>3?m.length%3:0;return E+(A?m.substr(0,A)+y:"")+m.substr(A).replace(/(\d{3})(?=\d)/g,"$1"+y)+(N?v+Math.abs(T-m).toFixed(N).slice(2):"")},r.formatSize=function(u){return u=u>=1073741824?r.formatNumber(u/1073741824,2,".","")+" GiB":u>=1048576?r.formatNumber(u/1048576,2,".","")+" MiB":u>=1024?r.formatNumber(u/1024,0)+" KiB":r.formatNumber(u,0)+" bytes"},r.bytesFromIP=function(u){return u.indexOf(".")!==-1?r.bytesFromIPv4(u):u.indexOf(":")!==-1?r.bytesFromIPv6(u):null},r.bytesFromIPv4=function(u){if((u=u.split(".")).length!==4)return null;for(var w=r.createBuffer(),_=0;_<u.length;++_){var x=parseInt(u[_],10);if(isNaN(x))return null;w.putByte(x)}return w.getBytes()},r.bytesFromIPv6=function(u){for(var w=0,_=2*(8-(u=u.split(":").filter(function(v){return v.length===0&&++w,!0})).length+w),x=r.createBuffer(),T=0;T<8;++T)if(u[T]&&u[T].length!==0){var N=r.hexToBytes(u[T]);N.length<2&&x.putByte(0),x.putBytes(N)}else x.fillWithByte(0,_),_=0;return x.getBytes()},r.bytesToIP=function(u){return u.length===4?r.bytesToIPv4(u):u.length===16?r.bytesToIPv6(u):null},r.bytesToIPv4=function(u){if(u.length!==4)return null;for(var w=[],_=0;_<u.length;++_)w.push(u.charCodeAt(_));return w.join(".")},r.bytesToIPv6=function(u){if(u.length!==16)return null;for(var w=[],_=[],x=0,T=0;T<u.length;T+=2){for(var N=r.bytesToHex(u[T]+u[T+1]);N[0]==="0"&&N!=="0";)N=N.substr(1);if(N==="0"){var v=_[_.length-1],y=w.length;v&&y===v.end+1?(v.end=y,v.end-v.start>_[x].end-_[x].start&&(x=_.length-1)):_.push({start:y,end:y})}w.push(N)}if(_.length>0){var E=_[x];E.end-E.start>0&&(w.splice(E.start,E.end-E.start+1,""),E.start===0&&w.unshift(""),E.end===7&&w.push(""))}return w.join(":")},r.estimateCores=function(u,w){if(typeof u=="function"&&(w=u,u={}),u=u||{},"cores"in r&&!u.update)return w(null,r.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,w(null,r.cores);if(typeof Worker=="undefined")return r.cores=1,w(null,r.cores);if(typeof Blob=="undefined")return r.cores=2,w(null,r.cores);var _=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(x){for(var T=Date.now(),N=T+4;Date.now()<N;);self.postMessage({st:T,et:N})})}.toString(),")()"],{type:"application/javascript"}));!function x(T,N,v){if(N===0){var y=Math.floor(T.reduce(function(E,m){return E+m},0)/T.length);return r.cores=Math.max(1,y),URL.revokeObjectURL(_),w(null,r.cores)}!function(E,m){for(var A=[],B=[],O=0;O<E;++O){var V=new Worker(_);V.addEventListener("message",function(j){if(B.push(j.data),B.length===E){for(var $=0;$<E;++$)A[$].terminate();m(null,B)}}),A.push(V)}for(O=0;O<E;++O)A[O].postMessage(O)}(v,function(E,m){T.push(function(A,B){for(var O=[],V=0;V<A;++V)for(var j=B[V],$=O[V]=[],H=0;H<A;++H)if(V!==H){var G=B[H];(j.st>G.st&&j.st<G.et||G.st>j.st&&G.st<j.et)&&$.push(H)}return O.reduce(function(R,q){return Math.max(R,q.length)},0)}(v,m)),x(T,N-1,v)})}([],5,16)}}).call(this,g(19),g(35))},function(L,M,g){const a=g(66),l=g(34),o=l.multihash,{Key:s}=g(43),r=g(155),t=g(45),n=g(46),{Record:i}=g(22),e=g(27),c=g(1),f=g(11),d=g(7),p=g(5);M.convertBuffer=h=>l.digest(h,"sha2-256"),M.convertPeerId=h=>l.digest(h.id,"sha2-256"),M.bufferToKey=h=>new s("/"+M.encodeBase32(h),!1),M.keyForPublicKey=h=>f([d("/pk/"),h.id]),M.isPublicKeyKey=h=>p(h.slice(0,4))==="/pk/",M.fromPublicKeyKey=h=>new e(h.slice(4)),M.now=()=>Date.now(),M.encodeBase32=h=>new r.Encoder().write(h).finalize(),M.decodeBase32=h=>{const b=new r.Decoder;return Uint8Array.from(b.write(h).finalize())},M.sortClosestPeers=async(h,b)=>(await n(h,async S=>{const I=await M.convertPeerId(S);return{peer:S,distance:t(I,b)}})).sort(M.xorCompare).map(S=>S.peer),M.xorCompare=(h,b)=>t.compare(h.distance,b.distance),M.pathSize=(h,b)=>Math.ceil(h/b),M.createPutRecord=(h,b)=>{const S=new Date;return new i(h,b,S).serialize()},M.logger=(h,b)=>{const S=["libp2p","dht"];b&&S.push(b),h&&S.push(""+h.toB58String().slice(0,8)),a.formatters.b=k=>o.toB58String(k);const I=a(S.join(":"));return I.error=a(S.concat(["error"]).join(":")),I},M.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}},M.withTimeout=(h,b)=>async(...S)=>Promise.race([h(...S),new Promise((I,k)=>{setTimeout(()=>{k(c(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))},b)})]),M.mapParallel=async function(h,b){const S=[];for await(const I of h)S.push(b(I));return Promise.all(S)}},function(L,M,g){L.exports={encode:g(101),decode:g(102),encodingLength:g(103)}},function(L,M,g){const{names:a}=g(23),{TextDecoder:l}=g(24),o=new l("utf8");L.exports=function(s,r="utf8"){if(r==="utf8"||r==="utf-8")return o.decode(s);if(r==="ascii")return function(n){let i="";for(let e=0;e<n.length;e++)i+=String.fromCharCode(n[e]);return i}(s);const t=a[r];if(!t)throw new Error("Unknown base");return t.encode(s)}},function(L,M,g){L.exports=function(a,l,o,s){return l.bytes=o.bytes=0,{type:a,encode:l,decode:o,encodingLength:s}}},function(L,M,g){const{names:a}=g(23),{TextEncoder:l}=g(24),o=new l;L.exports=function(s,r="utf8"){if(r==="utf8"||r==="utf-8")return o.encode(s);if(r==="ascii")return function(n){const i=new Uint8Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return i}(s);const t=a[r];if(!t)throw new Error("Unknown base");return t.decode(s)}},function(L,M,g){L.exports=function(a,l){if(a===l)return!0;if(a.byteLength!==l.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==l[o])return!1;return!0}},function(L,M,g){var a=M,l=g(12),o=g(15),s=g(75);a.assert=o,a.toArray=s.toArray,a.zero2=s.zero2,a.toHex=s.toHex,a.encode=s.encode,a.getNAF=function(r,t,n){var i=new Array(Math.max(r.bitLength(),n)+1);i.fill(0);for(var e=1<<t+1,c=r.clone(),f=0;f<i.length;f++){var d,p=c.andln(e-1);c.isOdd()?(d=p>(e>>1)-1?(e>>1)-p:p,c.isubn(d)):d=0,i[f]=d,c.iushrn(1)}return i},a.getJSF=function(r,t){var n=[[],[]];r=r.clone(),t=t.clone();for(var i=0,e=0;r.cmpn(-i)>0||t.cmpn(-e)>0;){var c,f,d,p=r.andln(3)+i&3,h=t.andln(3)+e&3;(p===3&&(p=-1),h===3&&(h=-1),(1&p)==0)?c=0:c=(d=r.andln(7)+i&7)!==3&&d!==5||h!==2?p:-p,(n[0].push(c),(1&h)==0)?f=0:f=(d=t.andln(7)+e&7)!==3&&d!==5||p!==2?h:-h,n[1].push(f),2*i===c+1&&(i=1-i),2*e===f+1&&(e=1-e),r.iushrn(1),t.iushrn(1)}return n},a.cachedProperty=function(r,t,n){var i="_"+t;r.prototype[t]=function(){return this[i]!==void 0?this[i]:this[i]=n.call(this)}},a.parseBytes=function(r){return typeof r=="string"?a.toArray(r,"hex"):r},a.intFromLE=function(r){return new l(r,"hex","le")}},function(L,M,g){var a=g(15),l=g(39);function o(n,i){return(64512&n.charCodeAt(i))==55296&&!(i<0||i+1>=n.length)&&(64512&n.charCodeAt(i+1))==56320}function s(n){return(n>>>24|n>>>8&65280|n<<8&16711680|(255&n)<<24)>>>0}function r(n){return n.length===1?"0"+n:n}function t(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}M.inherits=l,M.toArray=function(n,i){if(Array.isArray(n))return n.slice();if(!n)return[];var e=[];if(typeof n=="string")if(i){if(i==="hex")for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),f=0;f<n.length;f+=2)e.push(parseInt(n[f]+n[f+1],16))}else for(var c=0,f=0;f<n.length;f++){var d=n.charCodeAt(f);d<128?e[c++]=d:d<2048?(e[c++]=d>>6|192,e[c++]=63&d|128):o(n,f)?(d=65536+((1023&d)<<10)+(1023&n.charCodeAt(++f)),e[c++]=d>>18|240,e[c++]=d>>12&63|128,e[c++]=d>>6&63|128,e[c++]=63&d|128):(e[c++]=d>>12|224,e[c++]=d>>6&63|128,e[c++]=63&d|128)}else for(f=0;f<n.length;f++)e[f]=0|n[f];return e},M.toHex=function(n){for(var i="",e=0;e<n.length;e++)i+=r(n[e].toString(16));return i},M.htonl=s,M.toHex32=function(n,i){for(var e="",c=0;c<n.length;c++){var f=n[c];i==="little"&&(f=s(f)),e+=t(f.toString(16))}return e},M.zero2=r,M.zero8=t,M.join32=function(n,i,e,c){var f=e-i;a(f%4==0);for(var d=new Array(f/4),p=0,h=i;p<d.length;p++,h+=4){var b;b=c==="big"?n[h]<<24|n[h+1]<<16|n[h+2]<<8|n[h+3]:n[h+3]<<24|n[h+2]<<16|n[h+1]<<8|n[h],d[p]=b>>>0}return d},M.split32=function(n,i){for(var e=new Array(4*n.length),c=0,f=0;c<n.length;c++,f+=4){var d=n[c];i==="big"?(e[f]=d>>>24,e[f+1]=d>>>16&255,e[f+2]=d>>>8&255,e[f+3]=255&d):(e[f+3]=d>>>24,e[f+2]=d>>>16&255,e[f+1]=d>>>8&255,e[f]=255&d)}return e},M.rotr32=function(n,i){return n>>>i|n<<32-i},M.rotl32=function(n,i){return n<<i|n>>>32-i},M.sum32=function(n,i){return n+i>>>0},M.sum32_3=function(n,i,e){return n+i+e>>>0},M.sum32_4=function(n,i,e,c){return n+i+e+c>>>0},M.sum32_5=function(n,i,e,c,f){return n+i+e+c+f>>>0},M.sum64=function(n,i,e,c){var f=n[i],d=c+n[i+1]>>>0,p=(d<c?1:0)+e+f;n[i]=p>>>0,n[i+1]=d},M.sum64_hi=function(n,i,e,c){return(i+c>>>0<i?1:0)+n+e>>>0},M.sum64_lo=function(n,i,e,c){return i+c>>>0},M.sum64_4_hi=function(n,i,e,c,f,d,p,h){var b=0,S=i;return b+=(S=S+c>>>0)<i?1:0,b+=(S=S+d>>>0)<d?1:0,n+e+f+p+(b+=(S=S+h>>>0)<h?1:0)>>>0},M.sum64_4_lo=function(n,i,e,c,f,d,p,h){return i+c+d+h>>>0},M.sum64_5_hi=function(n,i,e,c,f,d,p,h,b,S){var I=0,k=i;return I+=(k=k+c>>>0)<i?1:0,I+=(k=k+d>>>0)<d?1:0,I+=(k=k+h>>>0)<h?1:0,n+e+f+p+b+(I+=(k=k+S>>>0)<S?1:0)>>>0},M.sum64_5_lo=function(n,i,e,c,f,d,p,h,b,S){return i+c+d+h+S>>>0},M.rotr64_hi=function(n,i,e){return(i<<32-e|n>>>e)>>>0},M.rotr64_lo=function(n,i,e){return(n<<32-e|i>>>e)>>>0},M.shr64_hi=function(n,i,e){return n>>>e},M.shr64_lo=function(n,i,e){return(n<<32-e|i>>>e)>>>0}},function(L,M,g){L.exports=function(a,l){l||(l=a.reduce((r,t)=>r+t.length,0));const o=new Uint8Array(l);let s=0;for(const r of a)o.set(r,s),s+=r.length;return o}},function(L,M,g){(function(a){!function(l,o){function s(v,y){if(!v)throw new Error(y||"Assertion failed")}function r(v,y){v.super_=y;var E=function(){};E.prototype=y.prototype,v.prototype=new E,v.prototype.constructor=v}function t(v,y,E){if(t.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&(y!=="le"&&y!=="be"||(E=y,y=10),this._init(v||0,y||10,E||"be"))}var n;typeof l=="object"?l.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{n=g(197).Buffer}catch(v){}function i(v,y,E){for(var m=0,A=Math.min(v.length,E),B=y;B<A;B++){var O=v.charCodeAt(B)-48;m<<=4,m|=O>=49&&O<=54?O-49+10:O>=17&&O<=22?O-17+10:15&O}return m}function e(v,y,E,m){for(var A=0,B=Math.min(v.length,E),O=y;O<B;O++){var V=v.charCodeAt(O)-48;A*=m,A+=V>=49?V-49+10:V>=17?V-17+10:V}return A}t.isBN=function(v){return v instanceof t||v!==null&&typeof v=="object"&&v.constructor.wordSize===t.wordSize&&Array.isArray(v.words)},t.max=function(v,y){return v.cmp(y)>0?v:y},t.min=function(v,y){return v.cmp(y)<0?v:y},t.prototype._init=function(v,y,E){if(typeof v=="number")return this._initNumber(v,y,E);if(typeof v=="object")return this._initArray(v,y,E);y==="hex"&&(y=16),s(y===(0|y)&&y>=2&&y<=36);var m=0;(v=v.toString().replace(/\s+/g,""))[0]==="-"&&m++,y===16?this._parseHex(v,m):this._parseBase(v,y,m),v[0]==="-"&&(this.negative=1),this.strip(),E==="le"&&this._initArray(this.toArray(),y,E)},t.prototype._initNumber=function(v,y,E){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(s(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),y,E)},t.prototype._initArray=function(v,y,E){if(s(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var A,B,O=0;if(E==="be")for(m=v.length-1,A=0;m>=0;m-=3)B=v[m]|v[m-1]<<8|v[m-2]<<16,this.words[A]|=B<<O&67108863,this.words[A+1]=B>>>26-O&67108863,(O+=24)>=26&&(O-=26,A++);else if(E==="le")for(m=0,A=0;m<v.length;m+=3)B=v[m]|v[m+1]<<8|v[m+2]<<16,this.words[A]|=B<<O&67108863,this.words[A+1]=B>>>26-O&67108863,(O+=24)>=26&&(O-=26,A++);return this.strip()},t.prototype._parseHex=function(v,y){this.length=Math.ceil((v.length-y)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var m,A,B=0;for(E=v.length-6,m=0;E>=y;E-=6)A=i(v,E,E+6),this.words[m]|=A<<B&67108863,this.words[m+1]|=A>>>26-B&4194303,(B+=24)>=26&&(B-=26,m++);E+6!==y&&(A=i(v,y,E+6),this.words[m]|=A<<B&67108863,this.words[m+1]|=A>>>26-B&4194303),this.strip()},t.prototype._parseBase=function(v,y,E){this.words=[0],this.length=1;for(var m=0,A=1;A<=67108863;A*=y)m++;m--,A=A/y|0;for(var B=v.length-E,O=B%m,V=Math.min(B,B-O)+E,j=0,$=E;$<V;$+=m)j=e(v,$,$+m,y),this.imuln(A),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(O!==0){var H=1;for(j=e(v,$,v.length,y),$=0;$<O;$++)H*=y;this.imuln(H),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},t.prototype.copy=function(v){v.words=new Array(this.length);for(var y=0;y<this.length;y++)v.words[y]=this.words[y];v.length=this.length,v.negative=this.negative,v.red=this.red},t.prototype.clone=function(){var v=new t(null);return this.copy(v),v},t.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(v,y,E){E.negative=y.negative^v.negative;var m=v.length+y.length|0;E.length=m,m=m-1|0;var A=0|v.words[0],B=0|y.words[0],O=A*B,V=67108863&O,j=O/67108864|0;E.words[0]=V;for(var $=1;$<m;$++){for(var H=j>>>26,G=67108863&j,R=Math.min($,y.length-1),q=Math.max(0,$-v.length+1);q<=R;q++){var K=$-q|0;H+=(O=(A=0|v.words[K])*(B=0|y.words[q])+G)/67108864|0,G=67108863&O}E.words[$]=0|G,j=0|H}return j!==0?E.words[$]=0|j:E.length--,E.strip()}t.prototype.toString=function(v,y){var E;if(y=0|y||1,(v=v||10)===16||v==="hex"){E="";for(var m=0,A=0,B=0;B<this.length;B++){var O=this.words[B],V=(16777215&(O<<m|A)).toString(16);E=(A=O>>>24-m&16777215)!==0||B!==this.length-1?c[6-V.length]+V+E:V+E,(m+=2)>=26&&(m-=26,B--)}for(A!==0&&(E=A.toString(16)+E);E.length%y!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(v===(0|v)&&v>=2&&v<=36){var j=f[v],$=d[v];E="";var H=this.clone();for(H.negative=0;!H.isZero();){var G=H.modn($).toString(v);E=(H=H.idivn($)).isZero()?G+E:c[j-G.length]+G+E}for(this.isZero()&&(E="0"+E);E.length%y!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}s(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=67108864*this.words[1]:this.length===3&&this.words[2]===1?v+=4503599627370496+67108864*this.words[1]:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(v,y){return s(n!==void 0),this.toArrayLike(n,v,y)},t.prototype.toArray=function(v,y){return this.toArrayLike(Array,v,y)},t.prototype.toArrayLike=function(v,y,E){var m=this.byteLength(),A=E||Math.max(1,m);s(m<=A,"byte array longer than desired length"),s(A>0,"Requested array length <= 0"),this.strip();var B,O,V=y==="le",j=new v(A),$=this.clone();if(V){for(O=0;!$.isZero();O++)B=$.andln(255),$.iushrn(8),j[O]=B;for(;O<A;O++)j[O]=0}else{for(O=0;O<A-m;O++)j[O]=0;for(O=0;!$.isZero();O++)B=$.andln(255),$.iushrn(8),j[A-O-1]=B}return j},Math.clz32?t.prototype._countBits=function(v){return 32-Math.clz32(v)}:t.prototype._countBits=function(v){var y=v,E=0;return y>=4096&&(E+=13,y>>>=13),y>=64&&(E+=7,y>>>=7),y>=8&&(E+=4,y>>>=4),y>=2&&(E+=2,y>>>=2),E+y},t.prototype._zeroBits=function(v){if(v===0)return 26;var y=v,E=0;return(8191&y)==0&&(E+=13,y>>>=13),(127&y)==0&&(E+=7,y>>>=7),(15&y)==0&&(E+=4,y>>>=4),(3&y)==0&&(E+=2,y>>>=2),(1&y)==0&&E++,E},t.prototype.bitLength=function(){var v=this.words[this.length-1],y=this._countBits(v);return 26*(this.length-1)+y},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,y=0;y<this.length;y++){var E=this._zeroBits(this.words[y]);if(v+=E,E!==26)break}return v},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},t.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var y=0;y<v.length;y++)this.words[y]=this.words[y]|v.words[y];return this.strip()},t.prototype.ior=function(v){return s((this.negative|v.negative)==0),this.iuor(v)},t.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},t.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},t.prototype.iuand=function(v){var y;y=this.length>v.length?v:this;for(var E=0;E<y.length;E++)this.words[E]=this.words[E]&v.words[E];return this.length=y.length,this.strip()},t.prototype.iand=function(v){return s((this.negative|v.negative)==0),this.iuand(v)},t.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},t.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},t.prototype.iuxor=function(v){var y,E;this.length>v.length?(y=this,E=v):(y=v,E=this);for(var m=0;m<E.length;m++)this.words[m]=y.words[m]^E.words[m];if(this!==y)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=y.length,this.strip()},t.prototype.ixor=function(v){return s((this.negative|v.negative)==0),this.iuxor(v)},t.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},t.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},t.prototype.inotn=function(v){s(typeof v=="number"&&v>=0);var y=0|Math.ceil(v/26),E=v%26;this._expand(y),E>0&&y--;for(var m=0;m<y;m++)this.words[m]=67108863&~this.words[m];return E>0&&(this.words[m]=~this.words[m]&67108863>>26-E),this.strip()},t.prototype.notn=function(v){return this.clone().inotn(v)},t.prototype.setn=function(v,y){s(typeof v=="number"&&v>=0);var E=v/26|0,m=v%26;return this._expand(E+1),this.words[E]=y?this.words[E]|1<<m:this.words[E]&~(1<<m),this.strip()},t.prototype.iadd=function(v){var y,E,m;if(this.negative!==0&&v.negative===0)return this.negative=0,y=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,y=this.isub(v),v.negative=1,y._normSign();this.length>v.length?(E=this,m=v):(E=v,m=this);for(var A=0,B=0;B<m.length;B++)y=(0|E.words[B])+(0|m.words[B])+A,this.words[B]=67108863&y,A=y>>>26;for(;A!==0&&B<E.length;B++)y=(0|E.words[B])+A,this.words[B]=67108863&y,A=y>>>26;if(this.length=E.length,A!==0)this.words[this.length]=A,this.length++;else if(E!==this)for(;B<E.length;B++)this.words[B]=E.words[B];return this},t.prototype.add=function(v){var y;return v.negative!==0&&this.negative===0?(v.negative=0,y=this.sub(v),v.negative^=1,y):v.negative===0&&this.negative!==0?(this.negative=0,y=v.sub(this),this.negative=1,y):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},t.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var y=this.iadd(v);return v.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var E,m,A=this.cmp(v);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;A>0?(E=this,m=v):(E=v,m=this);for(var B=0,O=0;O<m.length;O++)B=(y=(0|E.words[O])-(0|m.words[O])+B)>>26,this.words[O]=67108863&y;for(;B!==0&&O<E.length;O++)B=(y=(0|E.words[O])+B)>>26,this.words[O]=67108863&y;if(B===0&&O<E.length&&E!==this)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=Math.max(this.length,O),E!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(v){return this.clone().isub(v)};var h=function(v,y,E){var m,A,B,O=v.words,V=y.words,j=E.words,$=0,H=0|O[0],G=8191&H,R=H>>>13,q=0|O[1],K=8191&q,z=q>>>13,D=0|O[2],C=8191&D,P=D>>>13,U=0|O[3],F=8191&U,Y=U>>>13,Q=0|O[4],W=8191&Q,Z=Q>>>13,et=0|O[5],X=8191&et,J=et>>>13,ct=0|O[6],tt=8191&ct,it=ct>>>13,ot=0|O[7],rt=8191&ot,nt=ot>>>13,St=0|O[8],st=8191&St,at=St>>>13,Tt=0|O[9],ut=8191&Tt,ft=Tt>>>13,Et=0|V[0],kt=8191&Et,_t=Et>>>13,zt=0|V[1],At=8191&zt,It=zt>>>13,qt=0|V[2],Ct=8191&qt,Bt=qt>>>13,Lt=0|V[3],ht=8191&Lt,dt=Lt>>>13,Nt=0|V[4],lt=8191&Nt,pt=Nt>>>13,Dt=0|V[5],yt=8191&Dt,bt=Dt>>>13,Ot=0|V[6],gt=8191&Ot,mt=Ot>>>13,Ut=0|V[7],vt=8191&Ut,wt=Ut>>>13,Kt=0|V[8],xt=8191&Kt,Mt=Kt>>>13,$t=0|V[9],Rt=8191&$t,Pt=$t>>>13;E.negative=v.negative^y.negative,E.length=19;var jt=($+(m=Math.imul(G,kt))|0)+((8191&(A=(A=Math.imul(G,_t))+Math.imul(R,kt)|0))<<13)|0;$=((B=Math.imul(R,_t))+(A>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(K,kt),A=(A=Math.imul(K,_t))+Math.imul(z,kt)|0,B=Math.imul(z,_t);var Vt=($+(m=m+Math.imul(G,At)|0)|0)+((8191&(A=(A=A+Math.imul(G,It)|0)+Math.imul(R,At)|0))<<13)|0;$=((B=B+Math.imul(R,It)|0)+(A>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,m=Math.imul(C,kt),A=(A=Math.imul(C,_t))+Math.imul(P,kt)|0,B=Math.imul(P,_t),m=m+Math.imul(K,At)|0,A=(A=A+Math.imul(K,It)|0)+Math.imul(z,At)|0,B=B+Math.imul(z,It)|0;var Ft=($+(m=m+Math.imul(G,Ct)|0)|0)+((8191&(A=(A=A+Math.imul(G,Bt)|0)+Math.imul(R,Ct)|0))<<13)|0;$=((B=B+Math.imul(R,Bt)|0)+(A>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(F,kt),A=(A=Math.imul(F,_t))+Math.imul(Y,kt)|0,B=Math.imul(Y,_t),m=m+Math.imul(C,At)|0,A=(A=A+Math.imul(C,It)|0)+Math.imul(P,At)|0,B=B+Math.imul(P,It)|0,m=m+Math.imul(K,Ct)|0,A=(A=A+Math.imul(K,Bt)|0)+Math.imul(z,Ct)|0,B=B+Math.imul(z,Bt)|0;var Ht=($+(m=m+Math.imul(G,ht)|0)|0)+((8191&(A=(A=A+Math.imul(G,dt)|0)+Math.imul(R,ht)|0))<<13)|0;$=((B=B+Math.imul(R,dt)|0)+(A>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,m=Math.imul(W,kt),A=(A=Math.imul(W,_t))+Math.imul(Z,kt)|0,B=Math.imul(Z,_t),m=m+Math.imul(F,At)|0,A=(A=A+Math.imul(F,It)|0)+Math.imul(Y,At)|0,B=B+Math.imul(Y,It)|0,m=m+Math.imul(C,Ct)|0,A=(A=A+Math.imul(C,Bt)|0)+Math.imul(P,Ct)|0,B=B+Math.imul(P,Bt)|0,m=m+Math.imul(K,ht)|0,A=(A=A+Math.imul(K,dt)|0)+Math.imul(z,ht)|0,B=B+Math.imul(z,dt)|0;var Gt=($+(m=m+Math.imul(G,lt)|0)|0)+((8191&(A=(A=A+Math.imul(G,pt)|0)+Math.imul(R,lt)|0))<<13)|0;$=((B=B+Math.imul(R,pt)|0)+(A>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,m=Math.imul(X,kt),A=(A=Math.imul(X,_t))+Math.imul(J,kt)|0,B=Math.imul(J,_t),m=m+Math.imul(W,At)|0,A=(A=A+Math.imul(W,It)|0)+Math.imul(Z,At)|0,B=B+Math.imul(Z,It)|0,m=m+Math.imul(F,Ct)|0,A=(A=A+Math.imul(F,Bt)|0)+Math.imul(Y,Ct)|0,B=B+Math.imul(Y,Bt)|0,m=m+Math.imul(C,ht)|0,A=(A=A+Math.imul(C,dt)|0)+Math.imul(P,ht)|0,B=B+Math.imul(P,dt)|0,m=m+Math.imul(K,lt)|0,A=(A=A+Math.imul(K,pt)|0)+Math.imul(z,lt)|0,B=B+Math.imul(z,pt)|0;var Yt=($+(m=m+Math.imul(G,yt)|0)|0)+((8191&(A=(A=A+Math.imul(G,bt)|0)+Math.imul(R,yt)|0))<<13)|0;$=((B=B+Math.imul(R,bt)|0)+(A>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,m=Math.imul(tt,kt),A=(A=Math.imul(tt,_t))+Math.imul(it,kt)|0,B=Math.imul(it,_t),m=m+Math.imul(X,At)|0,A=(A=A+Math.imul(X,It)|0)+Math.imul(J,At)|0,B=B+Math.imul(J,It)|0,m=m+Math.imul(W,Ct)|0,A=(A=A+Math.imul(W,Bt)|0)+Math.imul(Z,Ct)|0,B=B+Math.imul(Z,Bt)|0,m=m+Math.imul(F,ht)|0,A=(A=A+Math.imul(F,dt)|0)+Math.imul(Y,ht)|0,B=B+Math.imul(Y,dt)|0,m=m+Math.imul(C,lt)|0,A=(A=A+Math.imul(C,pt)|0)+Math.imul(P,lt)|0,B=B+Math.imul(P,pt)|0,m=m+Math.imul(K,yt)|0,A=(A=A+Math.imul(K,bt)|0)+Math.imul(z,yt)|0,B=B+Math.imul(z,bt)|0;var Zt=($+(m=m+Math.imul(G,gt)|0)|0)+((8191&(A=(A=A+Math.imul(G,mt)|0)+Math.imul(R,gt)|0))<<13)|0;$=((B=B+Math.imul(R,mt)|0)+(A>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,m=Math.imul(rt,kt),A=(A=Math.imul(rt,_t))+Math.imul(nt,kt)|0,B=Math.imul(nt,_t),m=m+Math.imul(tt,At)|0,A=(A=A+Math.imul(tt,It)|0)+Math.imul(it,At)|0,B=B+Math.imul(it,It)|0,m=m+Math.imul(X,Ct)|0,A=(A=A+Math.imul(X,Bt)|0)+Math.imul(J,Ct)|0,B=B+Math.imul(J,Bt)|0,m=m+Math.imul(W,ht)|0,A=(A=A+Math.imul(W,dt)|0)+Math.imul(Z,ht)|0,B=B+Math.imul(Z,dt)|0,m=m+Math.imul(F,lt)|0,A=(A=A+Math.imul(F,pt)|0)+Math.imul(Y,lt)|0,B=B+Math.imul(Y,pt)|0,m=m+Math.imul(C,yt)|0,A=(A=A+Math.imul(C,bt)|0)+Math.imul(P,yt)|0,B=B+Math.imul(P,bt)|0,m=m+Math.imul(K,gt)|0,A=(A=A+Math.imul(K,mt)|0)+Math.imul(z,gt)|0,B=B+Math.imul(z,mt)|0;var Jt=($+(m=m+Math.imul(G,vt)|0)|0)+((8191&(A=(A=A+Math.imul(G,wt)|0)+Math.imul(R,vt)|0))<<13)|0;$=((B=B+Math.imul(R,wt)|0)+(A>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,m=Math.imul(st,kt),A=(A=Math.imul(st,_t))+Math.imul(at,kt)|0,B=Math.imul(at,_t),m=m+Math.imul(rt,At)|0,A=(A=A+Math.imul(rt,It)|0)+Math.imul(nt,At)|0,B=B+Math.imul(nt,It)|0,m=m+Math.imul(tt,Ct)|0,A=(A=A+Math.imul(tt,Bt)|0)+Math.imul(it,Ct)|0,B=B+Math.imul(it,Bt)|0,m=m+Math.imul(X,ht)|0,A=(A=A+Math.imul(X,dt)|0)+Math.imul(J,ht)|0,B=B+Math.imul(J,dt)|0,m=m+Math.imul(W,lt)|0,A=(A=A+Math.imul(W,pt)|0)+Math.imul(Z,lt)|0,B=B+Math.imul(Z,pt)|0,m=m+Math.imul(F,yt)|0,A=(A=A+Math.imul(F,bt)|0)+Math.imul(Y,yt)|0,B=B+Math.imul(Y,bt)|0,m=m+Math.imul(C,gt)|0,A=(A=A+Math.imul(C,mt)|0)+Math.imul(P,gt)|0,B=B+Math.imul(P,mt)|0,m=m+Math.imul(K,vt)|0,A=(A=A+Math.imul(K,wt)|0)+Math.imul(z,vt)|0,B=B+Math.imul(z,wt)|0;var Xt=($+(m=m+Math.imul(G,xt)|0)|0)+((8191&(A=(A=A+Math.imul(G,Mt)|0)+Math.imul(R,xt)|0))<<13)|0;$=((B=B+Math.imul(R,Mt)|0)+(A>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,m=Math.imul(ut,kt),A=(A=Math.imul(ut,_t))+Math.imul(ft,kt)|0,B=Math.imul(ft,_t),m=m+Math.imul(st,At)|0,A=(A=A+Math.imul(st,It)|0)+Math.imul(at,At)|0,B=B+Math.imul(at,It)|0,m=m+Math.imul(rt,Ct)|0,A=(A=A+Math.imul(rt,Bt)|0)+Math.imul(nt,Ct)|0,B=B+Math.imul(nt,Bt)|0,m=m+Math.imul(tt,ht)|0,A=(A=A+Math.imul(tt,dt)|0)+Math.imul(it,ht)|0,B=B+Math.imul(it,dt)|0,m=m+Math.imul(X,lt)|0,A=(A=A+Math.imul(X,pt)|0)+Math.imul(J,lt)|0,B=B+Math.imul(J,pt)|0,m=m+Math.imul(W,yt)|0,A=(A=A+Math.imul(W,bt)|0)+Math.imul(Z,yt)|0,B=B+Math.imul(Z,bt)|0,m=m+Math.imul(F,gt)|0,A=(A=A+Math.imul(F,mt)|0)+Math.imul(Y,gt)|0,B=B+Math.imul(Y,mt)|0,m=m+Math.imul(C,vt)|0,A=(A=A+Math.imul(C,wt)|0)+Math.imul(P,vt)|0,B=B+Math.imul(P,wt)|0,m=m+Math.imul(K,xt)|0,A=(A=A+Math.imul(K,Mt)|0)+Math.imul(z,xt)|0,B=B+Math.imul(z,Mt)|0;var te=($+(m=m+Math.imul(G,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(G,Pt)|0)+Math.imul(R,Rt)|0))<<13)|0;$=((B=B+Math.imul(R,Pt)|0)+(A>>>13)|0)+(te>>>26)|0,te&=67108863,m=Math.imul(ut,At),A=(A=Math.imul(ut,It))+Math.imul(ft,At)|0,B=Math.imul(ft,It),m=m+Math.imul(st,Ct)|0,A=(A=A+Math.imul(st,Bt)|0)+Math.imul(at,Ct)|0,B=B+Math.imul(at,Bt)|0,m=m+Math.imul(rt,ht)|0,A=(A=A+Math.imul(rt,dt)|0)+Math.imul(nt,ht)|0,B=B+Math.imul(nt,dt)|0,m=m+Math.imul(tt,lt)|0,A=(A=A+Math.imul(tt,pt)|0)+Math.imul(it,lt)|0,B=B+Math.imul(it,pt)|0,m=m+Math.imul(X,yt)|0,A=(A=A+Math.imul(X,bt)|0)+Math.imul(J,yt)|0,B=B+Math.imul(J,bt)|0,m=m+Math.imul(W,gt)|0,A=(A=A+Math.imul(W,mt)|0)+Math.imul(Z,gt)|0,B=B+Math.imul(Z,mt)|0,m=m+Math.imul(F,vt)|0,A=(A=A+Math.imul(F,wt)|0)+Math.imul(Y,vt)|0,B=B+Math.imul(Y,wt)|0,m=m+Math.imul(C,xt)|0,A=(A=A+Math.imul(C,Mt)|0)+Math.imul(P,xt)|0,B=B+Math.imul(P,Mt)|0;var ee=($+(m=m+Math.imul(K,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(K,Pt)|0)+Math.imul(z,Rt)|0))<<13)|0;$=((B=B+Math.imul(z,Pt)|0)+(A>>>13)|0)+(ee>>>26)|0,ee&=67108863,m=Math.imul(ut,Ct),A=(A=Math.imul(ut,Bt))+Math.imul(ft,Ct)|0,B=Math.imul(ft,Bt),m=m+Math.imul(st,ht)|0,A=(A=A+Math.imul(st,dt)|0)+Math.imul(at,ht)|0,B=B+Math.imul(at,dt)|0,m=m+Math.imul(rt,lt)|0,A=(A=A+Math.imul(rt,pt)|0)+Math.imul(nt,lt)|0,B=B+Math.imul(nt,pt)|0,m=m+Math.imul(tt,yt)|0,A=(A=A+Math.imul(tt,bt)|0)+Math.imul(it,yt)|0,B=B+Math.imul(it,bt)|0,m=m+Math.imul(X,gt)|0,A=(A=A+Math.imul(X,mt)|0)+Math.imul(J,gt)|0,B=B+Math.imul(J,mt)|0,m=m+Math.imul(W,vt)|0,A=(A=A+Math.imul(W,wt)|0)+Math.imul(Z,vt)|0,B=B+Math.imul(Z,wt)|0,m=m+Math.imul(F,xt)|0,A=(A=A+Math.imul(F,Mt)|0)+Math.imul(Y,xt)|0,B=B+Math.imul(Y,Mt)|0;var re=($+(m=m+Math.imul(C,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(C,Pt)|0)+Math.imul(P,Rt)|0))<<13)|0;$=((B=B+Math.imul(P,Pt)|0)+(A>>>13)|0)+(re>>>26)|0,re&=67108863,m=Math.imul(ut,ht),A=(A=Math.imul(ut,dt))+Math.imul(ft,ht)|0,B=Math.imul(ft,dt),m=m+Math.imul(st,lt)|0,A=(A=A+Math.imul(st,pt)|0)+Math.imul(at,lt)|0,B=B+Math.imul(at,pt)|0,m=m+Math.imul(rt,yt)|0,A=(A=A+Math.imul(rt,bt)|0)+Math.imul(nt,yt)|0,B=B+Math.imul(nt,bt)|0,m=m+Math.imul(tt,gt)|0,A=(A=A+Math.imul(tt,mt)|0)+Math.imul(it,gt)|0,B=B+Math.imul(it,mt)|0,m=m+Math.imul(X,vt)|0,A=(A=A+Math.imul(X,wt)|0)+Math.imul(J,vt)|0,B=B+Math.imul(J,wt)|0,m=m+Math.imul(W,xt)|0,A=(A=A+Math.imul(W,Mt)|0)+Math.imul(Z,xt)|0,B=B+Math.imul(Z,Mt)|0;var ne=($+(m=m+Math.imul(F,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(F,Pt)|0)+Math.imul(Y,Rt)|0))<<13)|0;$=((B=B+Math.imul(Y,Pt)|0)+(A>>>13)|0)+(ne>>>26)|0,ne&=67108863,m=Math.imul(ut,lt),A=(A=Math.imul(ut,pt))+Math.imul(ft,lt)|0,B=Math.imul(ft,pt),m=m+Math.imul(st,yt)|0,A=(A=A+Math.imul(st,bt)|0)+Math.imul(at,yt)|0,B=B+Math.imul(at,bt)|0,m=m+Math.imul(rt,gt)|0,A=(A=A+Math.imul(rt,mt)|0)+Math.imul(nt,gt)|0,B=B+Math.imul(nt,mt)|0,m=m+Math.imul(tt,vt)|0,A=(A=A+Math.imul(tt,wt)|0)+Math.imul(it,vt)|0,B=B+Math.imul(it,wt)|0,m=m+Math.imul(X,xt)|0,A=(A=A+Math.imul(X,Mt)|0)+Math.imul(J,xt)|0,B=B+Math.imul(J,Mt)|0;var ie=($+(m=m+Math.imul(W,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(W,Pt)|0)+Math.imul(Z,Rt)|0))<<13)|0;$=((B=B+Math.imul(Z,Pt)|0)+(A>>>13)|0)+(ie>>>26)|0,ie&=67108863,m=Math.imul(ut,yt),A=(A=Math.imul(ut,bt))+Math.imul(ft,yt)|0,B=Math.imul(ft,bt),m=m+Math.imul(st,gt)|0,A=(A=A+Math.imul(st,mt)|0)+Math.imul(at,gt)|0,B=B+Math.imul(at,mt)|0,m=m+Math.imul(rt,vt)|0,A=(A=A+Math.imul(rt,wt)|0)+Math.imul(nt,vt)|0,B=B+Math.imul(nt,wt)|0,m=m+Math.imul(tt,xt)|0,A=(A=A+Math.imul(tt,Mt)|0)+Math.imul(it,xt)|0,B=B+Math.imul(it,Mt)|0;var oe=($+(m=m+Math.imul(X,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(X,Pt)|0)+Math.imul(J,Rt)|0))<<13)|0;$=((B=B+Math.imul(J,Pt)|0)+(A>>>13)|0)+(oe>>>26)|0,oe&=67108863,m=Math.imul(ut,gt),A=(A=Math.imul(ut,mt))+Math.imul(ft,gt)|0,B=Math.imul(ft,mt),m=m+Math.imul(st,vt)|0,A=(A=A+Math.imul(st,wt)|0)+Math.imul(at,vt)|0,B=B+Math.imul(at,wt)|0,m=m+Math.imul(rt,xt)|0,A=(A=A+Math.imul(rt,Mt)|0)+Math.imul(nt,xt)|0,B=B+Math.imul(nt,Mt)|0;var se=($+(m=m+Math.imul(tt,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(tt,Pt)|0)+Math.imul(it,Rt)|0))<<13)|0;$=((B=B+Math.imul(it,Pt)|0)+(A>>>13)|0)+(se>>>26)|0,se&=67108863,m=Math.imul(ut,vt),A=(A=Math.imul(ut,wt))+Math.imul(ft,vt)|0,B=Math.imul(ft,wt),m=m+Math.imul(st,xt)|0,A=(A=A+Math.imul(st,Mt)|0)+Math.imul(at,xt)|0,B=B+Math.imul(at,Mt)|0;var ae=($+(m=m+Math.imul(rt,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(rt,Pt)|0)+Math.imul(nt,Rt)|0))<<13)|0;$=((B=B+Math.imul(nt,Pt)|0)+(A>>>13)|0)+(ae>>>26)|0,ae&=67108863,m=Math.imul(ut,xt),A=(A=Math.imul(ut,Mt))+Math.imul(ft,xt)|0,B=Math.imul(ft,Mt);var ce=($+(m=m+Math.imul(st,Rt)|0)|0)+((8191&(A=(A=A+Math.imul(st,Pt)|0)+Math.imul(at,Rt)|0))<<13)|0;$=((B=B+Math.imul(at,Pt)|0)+(A>>>13)|0)+(ce>>>26)|0,ce&=67108863;var ue=($+(m=Math.imul(ut,Rt))|0)+((8191&(A=(A=Math.imul(ut,Pt))+Math.imul(ft,Rt)|0))<<13)|0;return $=((B=Math.imul(ft,Pt))+(A>>>13)|0)+(ue>>>26)|0,ue&=67108863,j[0]=jt,j[1]=Vt,j[2]=Ft,j[3]=Ht,j[4]=Gt,j[5]=Yt,j[6]=Zt,j[7]=Jt,j[8]=Xt,j[9]=te,j[10]=ee,j[11]=re,j[12]=ne,j[13]=ie,j[14]=oe,j[15]=se,j[16]=ae,j[17]=ce,j[18]=ue,$!==0&&(j[19]=$,E.length++),E};function b(v,y,E){return new S().mulp(v,y,E)}function S(v,y){this.x=v,this.y=y}Math.imul||(h=p),t.prototype.mulTo=function(v,y){var E=this.length+v.length;return this.length===10&&v.length===10?h(this,v,y):E<63?p(this,v,y):E<1024?function(m,A,B){B.negative=A.negative^m.negative,B.length=m.length+A.length;for(var O=0,V=0,j=0;j<B.length-1;j++){var $=V;V=0;for(var H=67108863&O,G=Math.min(j,A.length-1),R=Math.max(0,j-m.length+1);R<=G;R++){var q=j-R,K=(0|m.words[q])*(0|A.words[R]),z=67108863&K;H=67108863&(z=z+H|0),V+=($=($=$+(K/67108864|0)|0)+(z>>>26)|0)>>>26,$&=67108863}B.words[j]=H,O=$,$=V}return O!==0?B.words[j]=O:B.length--,B.strip()}(this,v,y):b(this,v,y)},S.prototype.makeRBT=function(v){for(var y=new Array(v),E=t.prototype._countBits(v)-1,m=0;m<v;m++)y[m]=this.revBin(m,E,v);return y},S.prototype.revBin=function(v,y,E){if(v===0||v===E-1)return v;for(var m=0,A=0;A<y;A++)m|=(1&v)<<y-A-1,v>>=1;return m},S.prototype.permute=function(v,y,E,m,A,B){for(var O=0;O<B;O++)m[O]=y[v[O]],A[O]=E[v[O]]},S.prototype.transform=function(v,y,E,m,A,B){this.permute(B,v,y,E,m,A);for(var O=1;O<A;O<<=1)for(var V=O<<1,j=Math.cos(2*Math.PI/V),$=Math.sin(2*Math.PI/V),H=0;H<A;H+=V)for(var G=j,R=$,q=0;q<O;q++){var K=E[H+q],z=m[H+q],D=E[H+q+O],C=m[H+q+O],P=G*D-R*C;C=G*C+R*D,D=P,E[H+q]=K+D,m[H+q]=z+C,E[H+q+O]=K-D,m[H+q+O]=z-C,q!==V&&(P=j*G-$*R,R=j*R+$*G,G=P)}},S.prototype.guessLen13b=function(v,y){var E=1|Math.max(y,v),m=1&E,A=0;for(E=E/2|0;E;E>>>=1)A++;return 1<<A+1+m},S.prototype.conjugate=function(v,y,E){if(!(E<=1))for(var m=0;m<E/2;m++){var A=v[m];v[m]=v[E-m-1],v[E-m-1]=A,A=y[m],y[m]=-y[E-m-1],y[E-m-1]=-A}},S.prototype.normalize13b=function(v,y){for(var E=0,m=0;m<y/2;m++){var A=8192*Math.round(v[2*m+1]/y)+Math.round(v[2*m]/y)+E;v[m]=67108863&A,E=A<67108864?0:A/67108864|0}return v},S.prototype.convert13b=function(v,y,E,m){for(var A=0,B=0;B<y;B++)A+=0|v[B],E[2*B]=8191&A,A>>>=13,E[2*B+1]=8191&A,A>>>=13;for(B=2*y;B<m;++B)E[B]=0;s(A===0),s((-8192&A)==0)},S.prototype.stub=function(v){for(var y=new Array(v),E=0;E<v;E++)y[E]=0;return y},S.prototype.mulp=function(v,y,E){var m=2*this.guessLen13b(v.length,y.length),A=this.makeRBT(m),B=this.stub(m),O=new Array(m),V=new Array(m),j=new Array(m),$=new Array(m),H=new Array(m),G=new Array(m),R=E.words;R.length=m,this.convert13b(v.words,v.length,O,m),this.convert13b(y.words,y.length,$,m),this.transform(O,B,V,j,m,A),this.transform($,B,H,G,m,A);for(var q=0;q<m;q++){var K=V[q]*H[q]-j[q]*G[q];j[q]=V[q]*G[q]+j[q]*H[q],V[q]=K}return this.conjugate(V,j,m),this.transform(V,j,R,B,m,A),this.conjugate(R,B,m),this.normalize13b(R,m),E.negative=v.negative^y.negative,E.length=v.length+y.length,E.strip()},t.prototype.mul=function(v){var y=new t(null);return y.words=new Array(this.length+v.length),this.mulTo(v,y)},t.prototype.mulf=function(v){var y=new t(null);return y.words=new Array(this.length+v.length),b(this,v,y)},t.prototype.imul=function(v){return this.clone().mulTo(v,this)},t.prototype.imuln=function(v){s(typeof v=="number"),s(v<67108864);for(var y=0,E=0;E<this.length;E++){var m=(0|this.words[E])*v,A=(67108863&m)+(67108863&y);y>>=26,y+=m/67108864|0,y+=A>>>26,this.words[E]=67108863&A}return y!==0&&(this.words[E]=y,this.length++),this},t.prototype.muln=function(v){return this.clone().imuln(v)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(v){var y=function(B){for(var O=new Array(B.bitLength()),V=0;V<O.length;V++){var j=V/26|0,$=V%26;O[V]=(B.words[j]&1<<$)>>>$}return O}(v);if(y.length===0)return new t(1);for(var E=this,m=0;m<y.length&&y[m]===0;m++,E=E.sqr());if(++m<y.length)for(var A=E.sqr();m<y.length;m++,A=A.sqr())y[m]!==0&&(E=E.mul(A));return E},t.prototype.iushln=function(v){s(typeof v=="number"&&v>=0);var y,E=v%26,m=(v-E)/26,A=67108863>>>26-E<<26-E;if(E!==0){var B=0;for(y=0;y<this.length;y++){var O=this.words[y]&A,V=(0|this.words[y])-O<<E;this.words[y]=V|B,B=O>>>26-E}B&&(this.words[y]=B,this.length++)}if(m!==0){for(y=this.length-1;y>=0;y--)this.words[y+m]=this.words[y];for(y=0;y<m;y++)this.words[y]=0;this.length+=m}return this.strip()},t.prototype.ishln=function(v){return s(this.negative===0),this.iushln(v)},t.prototype.iushrn=function(v,y,E){var m;s(typeof v=="number"&&v>=0),m=y?(y-y%26)/26:0;var A=v%26,B=Math.min((v-A)/26,this.length),O=67108863^67108863>>>A<<A,V=E;if(m-=B,m=Math.max(0,m),V){for(var j=0;j<B;j++)V.words[j]=this.words[j];V.length=B}if(!(B===0))if(this.length>B)for(this.length-=B,j=0;j<this.length;j++)this.words[j]=this.words[j+B];else this.words[0]=0,this.length=1;var $=0;for(j=this.length-1;j>=0&&($!==0||j>=m);j--){var H=0|this.words[j];this.words[j]=$<<26-A|H>>>A,$=H&O}return V&&$!==0&&(V.words[V.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(v,y,E){return s(this.negative===0),this.iushrn(v,y,E)},t.prototype.shln=function(v){return this.clone().ishln(v)},t.prototype.ushln=function(v){return this.clone().iushln(v)},t.prototype.shrn=function(v){return this.clone().ishrn(v)},t.prototype.ushrn=function(v){return this.clone().iushrn(v)},t.prototype.testn=function(v){s(typeof v=="number"&&v>=0);var y=v%26,E=(v-y)/26,m=1<<y;return!(this.length<=E)&&!!(this.words[E]&m)},t.prototype.imaskn=function(v){s(typeof v=="number"&&v>=0);var y=v%26,E=(v-y)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(y!==0&&E++,this.length=Math.min(E,this.length),y!==0){var m=67108863^67108863>>>y<<y;this.words[this.length-1]&=m}return this.strip()},t.prototype.maskn=function(v){return this.clone().imaskn(v)},t.prototype.iaddn=function(v){return s(typeof v=="number"),s(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(0|this.words[0])<v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},t.prototype._iaddn=function(v){this.words[0]+=v;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},t.prototype.isubn=function(v){if(s(typeof v=="number"),s(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this.strip()},t.prototype.addn=function(v){return this.clone().iaddn(v)},t.prototype.subn=function(v){return this.clone().isubn(v)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(v,y,E){var m,A,B=v.length+E;this._expand(B);var O=0;for(m=0;m<v.length;m++){A=(0|this.words[m+E])+O;var V=(0|v.words[m])*y;O=((A-=67108863&V)>>26)-(V/67108864|0),this.words[m+E]=67108863&A}for(;m<this.length-E;m++)O=(A=(0|this.words[m+E])+O)>>26,this.words[m+E]=67108863&A;if(O===0)return this.strip();for(s(O===-1),O=0,m=0;m<this.length;m++)O=(A=-(0|this.words[m])+O)>>26,this.words[m]=67108863&A;return this.negative=1,this.strip()},t.prototype._wordDiv=function(v,y){var E=(this.length,v.length),m=this.clone(),A=v,B=0|A.words[A.length-1];(E=26-this._countBits(B))!==0&&(A=A.ushln(E),m.iushln(E),B=0|A.words[A.length-1]);var O,V=m.length-A.length;if(y!=="mod"){(O=new t(null)).length=V+1,O.words=new Array(O.length);for(var j=0;j<O.length;j++)O.words[j]=0}var $=m.clone()._ishlnsubmul(A,1,V);$.negative===0&&(m=$,O&&(O.words[V]=1));for(var H=V-1;H>=0;H--){var G=67108864*(0|m.words[A.length+H])+(0|m.words[A.length+H-1]);for(G=Math.min(G/B|0,67108863),m._ishlnsubmul(A,G,H);m.negative!==0;)G--,m.negative=0,m._ishlnsubmul(A,1,H),m.isZero()||(m.negative^=1);O&&(O.words[H]=G)}return O&&O.strip(),m.strip(),y!=="div"&&E!==0&&m.iushrn(E),{div:O||null,mod:m}},t.prototype.divmod=function(v,y,E){return s(!v.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&v.negative===0?(B=this.neg().divmod(v,y),y!=="mod"&&(m=B.div.neg()),y!=="div"&&(A=B.mod.neg(),E&&A.negative!==0&&A.iadd(v)),{div:m,mod:A}):this.negative===0&&v.negative!==0?(B=this.divmod(v.neg(),y),y!=="mod"&&(m=B.div.neg()),{div:m,mod:B.mod}):(this.negative&v.negative)!=0?(B=this.neg().divmod(v.neg(),y),y!=="div"&&(A=B.mod.neg(),E&&A.negative!==0&&A.isub(v)),{div:B.div,mod:A}):v.length>this.length||this.cmp(v)<0?{div:new t(0),mod:this}:v.length===1?y==="div"?{div:this.divn(v.words[0]),mod:null}:y==="mod"?{div:null,mod:new t(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new t(this.modn(v.words[0]))}:this._wordDiv(v,y);var m,A,B},t.prototype.div=function(v){return this.divmod(v,"div",!1).div},t.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},t.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},t.prototype.divRound=function(v){var y=this.divmod(v);if(y.mod.isZero())return y.div;var E=y.div.negative!==0?y.mod.isub(v):y.mod,m=v.ushrn(1),A=v.andln(1),B=E.cmp(m);return B<0||A===1&&B===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},t.prototype.modn=function(v){s(v<=67108863);for(var y=(1<<26)%v,E=0,m=this.length-1;m>=0;m--)E=(y*E+(0|this.words[m]))%v;return E},t.prototype.idivn=function(v){s(v<=67108863);for(var y=0,E=this.length-1;E>=0;E--){var m=(0|this.words[E])+67108864*y;this.words[E]=m/v|0,y=m%v}return this.strip()},t.prototype.divn=function(v){return this.clone().idivn(v)},t.prototype.egcd=function(v){s(v.negative===0),s(!v.isZero());var y=this,E=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var m=new t(1),A=new t(0),B=new t(0),O=new t(1),V=0;y.isEven()&&E.isEven();)y.iushrn(1),E.iushrn(1),++V;for(var j=E.clone(),$=y.clone();!y.isZero();){for(var H=0,G=1;(y.words[0]&G)==0&&H<26;++H,G<<=1);if(H>0)for(y.iushrn(H);H-- >0;)(m.isOdd()||A.isOdd())&&(m.iadd(j),A.isub($)),m.iushrn(1),A.iushrn(1);for(var R=0,q=1;(E.words[0]&q)==0&&R<26;++R,q<<=1);if(R>0)for(E.iushrn(R);R-- >0;)(B.isOdd()||O.isOdd())&&(B.iadd(j),O.isub($)),B.iushrn(1),O.iushrn(1);y.cmp(E)>=0?(y.isub(E),m.isub(B),A.isub(O)):(E.isub(y),B.isub(m),O.isub(A))}return{a:B,b:O,gcd:E.iushln(V)}},t.prototype._invmp=function(v){s(v.negative===0),s(!v.isZero());var y=this,E=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var m,A=new t(1),B=new t(0),O=E.clone();y.cmpn(1)>0&&E.cmpn(1)>0;){for(var V=0,j=1;(y.words[0]&j)==0&&V<26;++V,j<<=1);if(V>0)for(y.iushrn(V);V-- >0;)A.isOdd()&&A.iadd(O),A.iushrn(1);for(var $=0,H=1;(E.words[0]&H)==0&&$<26;++$,H<<=1);if($>0)for(E.iushrn($);$-- >0;)B.isOdd()&&B.iadd(O),B.iushrn(1);y.cmp(E)>=0?(y.isub(E),A.isub(B)):(E.isub(y),B.isub(A))}return(m=y.cmpn(1)===0?A:B).cmpn(0)<0&&m.iadd(v),m},t.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var y=this.clone(),E=v.clone();y.negative=0,E.negative=0;for(var m=0;y.isEven()&&E.isEven();m++)y.iushrn(1),E.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;E.isEven();)E.iushrn(1);var A=y.cmp(E);if(A<0){var B=y;y=E,E=B}else if(A===0||E.cmpn(1)===0)break;y.isub(E)}return E.iushln(m)},t.prototype.invm=function(v){return this.egcd(v).a.umod(v)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(v){return this.words[0]&v},t.prototype.bincn=function(v){s(typeof v=="number");var y=v%26,E=(v-y)/26,m=1<<y;if(this.length<=E)return this._expand(E+1),this.words[E]|=m,this;for(var A=m,B=E;A!==0&&B<this.length;B++){var O=0|this.words[B];A=(O+=A)>>>26,O&=67108863,this.words[B]=O}return A!==0&&(this.words[B]=A,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(v){var y,E=v<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)y=1;else{E&&(v=-v),s(v<=67108863,"Number is too big");var m=0|this.words[0];y=m===v?0:m<v?-1:1}return this.negative!==0?0|-y:y},t.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var y=this.ucmp(v);return this.negative!==0?0|-y:y},t.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var y=0,E=this.length-1;E>=0;E--){var m=0|this.words[E],A=0|v.words[E];if(m!==A){m<A?y=-1:m>A&&(y=1);break}}return y},t.prototype.gtn=function(v){return this.cmpn(v)===1},t.prototype.gt=function(v){return this.cmp(v)===1},t.prototype.gten=function(v){return this.cmpn(v)>=0},t.prototype.gte=function(v){return this.cmp(v)>=0},t.prototype.ltn=function(v){return this.cmpn(v)===-1},t.prototype.lt=function(v){return this.cmp(v)===-1},t.prototype.lten=function(v){return this.cmpn(v)<=0},t.prototype.lte=function(v){return this.cmp(v)<=0},t.prototype.eqn=function(v){return this.cmpn(v)===0},t.prototype.eq=function(v){return this.cmp(v)===0},t.red=function(v){return new T(v)},t.prototype.toRed=function(v){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},t.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(v){return this.red=v,this},t.prototype.forceRed=function(v){return s(!this.red,"Already a number in reduction context"),this._forceRed(v)},t.prototype.redAdd=function(v){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},t.prototype.redIAdd=function(v){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},t.prototype.redSub=function(v){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},t.prototype.redISub=function(v){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},t.prototype.redShl=function(v){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},t.prototype.redMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},t.prototype.redIMul=function(v){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},t.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(v){return s(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var I={k256:null,p224:null,p192:null,p25519:null};function k(v,y){this.name=v,this.p=new t(y,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function u(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(v){if(typeof v=="string"){var y=t._prime(v);this.m=y.p,this.prime=y}else s(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function N(v){T.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var v=new t(null);return v.words=new Array(Math.ceil(this.n/13)),v},k.prototype.ireduce=function(v){var y,E=v;do this.split(E,this.tmp),y=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(y>this.n);var m=y<this.n?-1:E.ucmp(this.p);return m===0?(E.words[0]=0,E.length=1):m>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},k.prototype.split=function(v,y){v.iushrn(this.n,0,y)},k.prototype.imulK=function(v){return v.imul(this.k)},r(u,k),u.prototype.split=function(v,y){for(var E=Math.min(v.length,9),m=0;m<E;m++)y.words[m]=v.words[m];if(y.length=E,v.length<=9)return v.words[0]=0,void(v.length=1);var A=v.words[9];for(y.words[y.length++]=4194303&A,m=10;m<v.length;m++){var B=0|v.words[m];v.words[m-10]=(4194303&B)<<4|A>>>22,A=B}A>>>=22,v.words[m-10]=A,A===0&&v.length>10?v.length-=10:v.length-=9},u.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var y=0,E=0;E<v.length;E++){var m=0|v.words[E];y+=977*m,v.words[E]=67108863&y,y=64*m+(y/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},r(w,k),r(_,k),r(x,k),x.prototype.imulK=function(v){for(var y=0,E=0;E<v.length;E++){var m=19*(0|v.words[E])+y,A=67108863&m;m>>>=26,v.words[E]=A,y=m}return y!==0&&(v.words[v.length++]=y),v},t._prime=function(v){if(I[v])return I[v];var y;if(v==="k256")y=new u;else if(v==="p224")y=new w;else if(v==="p192")y=new _;else{if(v!=="p25519")throw new Error("Unknown prime "+v);y=new x}return I[v]=y,y},T.prototype._verify1=function(v){s(v.negative===0,"red works only with positives"),s(v.red,"red works only with red numbers")},T.prototype._verify2=function(v,y){s((v.negative|y.negative)==0,"red works only with positives"),s(v.red&&v.red===y.red,"red works only with red numbers")},T.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},T.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},T.prototype.add=function(v,y){this._verify2(v,y);var E=v.add(y);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},T.prototype.iadd=function(v,y){this._verify2(v,y);var E=v.iadd(y);return E.cmp(this.m)>=0&&E.isub(this.m),E},T.prototype.sub=function(v,y){this._verify2(v,y);var E=v.sub(y);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},T.prototype.isub=function(v,y){this._verify2(v,y);var E=v.isub(y);return E.cmpn(0)<0&&E.iadd(this.m),E},T.prototype.shl=function(v,y){return this._verify1(v),this.imod(v.ushln(y))},T.prototype.imul=function(v,y){return this._verify2(v,y),this.imod(v.imul(y))},T.prototype.mul=function(v,y){return this._verify2(v,y),this.imod(v.mul(y))},T.prototype.isqr=function(v){return this.imul(v,v.clone())},T.prototype.sqr=function(v){return this.mul(v,v)},T.prototype.sqrt=function(v){if(v.isZero())return v.clone();var y=this.m.andln(3);if(s(y%2==1),y===3){var E=this.m.add(new t(1)).iushrn(2);return this.pow(v,E)}for(var m=this.m.subn(1),A=0;!m.isZero()&&m.andln(1)===0;)A++,m.iushrn(1);s(!m.isZero());var B=new t(1).toRed(this),O=B.redNeg(),V=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new t(2*j*j).toRed(this);this.pow(j,V).cmp(O)!==0;)j.redIAdd(O);for(var $=this.pow(j,m),H=this.pow(v,m.addn(1).iushrn(1)),G=this.pow(v,m),R=A;G.cmp(B)!==0;){for(var q=G,K=0;q.cmp(B)!==0;K++)q=q.redSqr();s(K<R);var z=this.pow($,new t(1).iushln(R-K-1));H=H.redMul(z),$=z.redSqr(),G=G.redMul($),R=K}return H},T.prototype.invm=function(v){var y=v._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},T.prototype.pow=function(v,y){if(y.isZero())return new t(1).toRed(this);if(y.cmpn(1)===0)return v.clone();var E=new Array(16);E[0]=new t(1).toRed(this),E[1]=v;for(var m=2;m<E.length;m++)E[m]=this.mul(E[m-1],v);var A=E[0],B=0,O=0,V=y.bitLength()%26;for(V===0&&(V=26),m=y.length-1;m>=0;m--){for(var j=y.words[m],$=V-1;$>=0;$--){var H=j>>$&1;A!==E[0]&&(A=this.sqr(A)),H!==0||B!==0?(B<<=1,B|=H,(++O===4||m===0&&$===0)&&(A=this.mul(A,E[B]),O=0,B=0)):O=0}V=26}return A},T.prototype.convertTo=function(v){var y=v.umod(this.m);return y===v?y.clone():y},T.prototype.convertFrom=function(v){var y=v.clone();return y.red=null,y},t.mont=function(v){return new N(v)},r(N,T),N.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},N.prototype.convertFrom=function(v){var y=this.imod(v.mul(this.rinv));return y.red=null,y},N.prototype.imul=function(v,y){if(v.isZero()||y.isZero())return v.words[0]=0,v.length=1,v;var E=v.imul(y),m=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=E.isub(m).iushrn(this.shift),B=A;return A.cmp(this.m)>=0?B=A.isub(this.m):A.cmpn(0)<0&&(B=A.iadd(this.m)),B._forceRed(this)},N.prototype.mul=function(v,y){if(v.isZero()||y.isZero())return new t(0)._forceRed(this);var E=v.mul(y),m=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=E.isub(m).iushrn(this.shift),B=A;return A.cmp(this.m)>=0?B=A.isub(this.m):A.cmpn(0)<0&&(B=A.iadd(this.m)),B._forceRed(this)},N.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(a)}).call(this,g(196)(L))},function(L,M,g){const a=g(27),l=g(232),o=g(17),{Record:s}=g(22),r=o(g(238)),t=r.Message.MessageType,n=r.Message.ConnectionType;class i{constructor(f,d,p){if(d&&!(d instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=f,this.key=d,this._clusterLevelRaw=p,this.closerPeers=[],this.providerPeers=[],this.record=null}get clusterLevel(){const f=this._clusterLevelRaw-1;return f<0?0:f}set clusterLevel(f){this._clusterLevelRaw=f}serialize(){const f={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(e),providerPeers:this.providerPeers.map(e)};return this.record&&(this.record instanceof Uint8Array?f.record=this.record:f.record=this.record.serialize()),r.Message.encode(f)}static deserialize(f){const d=r.Message.decode(f),p=new i(d.type,d.key,d.clusterLevelRaw);return p.closerPeers=d.closerPeers.map(c),p.providerPeers=d.providerPeers.map(c),d.record&&(p.record=s.deserialize(d.record)),p}}function e(f){return{id:f.id.id,addrs:(f.multiaddrs||[]).map(d=>d.bytes),connection:n.CONNECTED}}function c(f){return{id:new a(f.id),multiaddrs:f.addrs.map(d=>l(d))}}i.TYPES=t,i.CONNECTION_TYPES=n,L.exports=i},function(L,M,g){(function(a){var l=g(150),o=g(151),s=g(152);function r(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(C,P){if(r()<P)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(C=new Uint8Array(P)).__proto__=n.prototype:(C===null&&(C=new n(P)),C.length=P),C}function n(C,P,U){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(C,P,U);if(typeof C=="number"){if(typeof P=="string")throw new Error("If encoding is specified then the first argument must be a string");return c(this,C)}return i(this,C,P,U)}function i(C,P,U,F){if(typeof P=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&P instanceof ArrayBuffer?function(Y,Q,W,Z){if(Q.byteLength,W<0||Q.byteLength<W)throw new RangeError("'offset' is out of bounds");if(Q.byteLength<W+(Z||0))throw new RangeError("'length' is out of bounds");return Q=W===void 0&&Z===void 0?new Uint8Array(Q):Z===void 0?new Uint8Array(Q,W):new Uint8Array(Q,W,Z),n.TYPED_ARRAY_SUPPORT?(Y=Q).__proto__=n.prototype:Y=f(Y,Q),Y}(C,P,U,F):typeof P=="string"?function(Y,Q,W){if(typeof W=="string"&&W!==""||(W="utf8"),!n.isEncoding(W))throw new TypeError('"encoding" must be a valid string encoding');var Z=0|p(Q,W),et=(Y=t(Y,Z)).write(Q,W);return et!==Z&&(Y=Y.slice(0,et)),Y}(C,P,U):function(Y,Q){if(n.isBuffer(Q)){var W=0|d(Q.length);return(Y=t(Y,W)).length===0||Q.copy(Y,0,0,W),Y}if(Q){if(typeof ArrayBuffer!="undefined"&&Q.buffer instanceof ArrayBuffer||"length"in Q)return typeof Q.length!="number"||(Z=Q.length)!=Z?t(Y,0):f(Y,Q);if(Q.type==="Buffer"&&s(Q.data))return f(Y,Q.data)}var Z;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(C,P)}function e(C){if(typeof C!="number")throw new TypeError('"size" argument must be a number');if(C<0)throw new RangeError('"size" argument must not be negative')}function c(C,P){if(e(P),C=t(C,P<0?0:0|d(P)),!n.TYPED_ARRAY_SUPPORT)for(var U=0;U<P;++U)C[U]=0;return C}function f(C,P){var U=P.length<0?0:0|d(P.length);C=t(C,U);for(var F=0;F<U;F+=1)C[F]=255&P[F];return C}function d(C){if(C>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|C}function p(C,P){if(n.isBuffer(C))return C.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(C)||C instanceof ArrayBuffer))return C.byteLength;typeof C!="string"&&(C=""+C);var U=C.length;if(U===0)return 0;for(var F=!1;;)switch(P){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":case void 0:return K(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return z(C).length;default:if(F)return K(C).length;P=(""+P).toLowerCase(),F=!0}}function h(C,P,U){var F=!1;if((P===void 0||P<0)&&(P=0),P>this.length)return"";if((U===void 0||U>this.length)&&(U=this.length),U<=0)return"";if((U>>>=0)<=(P>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return m(this,P,U);case"utf8":case"utf-8":return v(this,P,U);case"ascii":return y(this,P,U);case"latin1":case"binary":return E(this,P,U);case"base64":return N(this,P,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,P,U);default:if(F)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),F=!0}}function b(C,P,U){var F=C[P];C[P]=C[U],C[U]=F}function S(C,P,U,F,Y){if(C.length===0)return-1;if(typeof U=="string"?(F=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,isNaN(U)&&(U=Y?0:C.length-1),U<0&&(U=C.length+U),U>=C.length){if(Y)return-1;U=C.length-1}else if(U<0){if(!Y)return-1;U=0}if(typeof P=="string"&&(P=n.from(P,F)),n.isBuffer(P))return P.length===0?-1:I(C,P,U,F,Y);if(typeof P=="number")return P&=255,n.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(C,P,U):Uint8Array.prototype.lastIndexOf.call(C,P,U):I(C,[P],U,F,Y);throw new TypeError("val must be string, number or Buffer")}function I(C,P,U,F,Y){var Q,W=1,Z=C.length,et=P.length;if(F!==void 0&&((F=String(F).toLowerCase())==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(C.length<2||P.length<2)return-1;W=2,Z/=2,et/=2,U/=2}function X(it,ot){return W===1?it[ot]:it.readUInt16BE(ot*W)}if(Y){var J=-1;for(Q=U;Q<Z;Q++)if(X(C,Q)===X(P,J===-1?0:Q-J)){if(J===-1&&(J=Q),Q-J+1===et)return J*W}else J!==-1&&(Q-=Q-J),J=-1}else for(U+et>Z&&(U=Z-et),Q=U;Q>=0;Q--){for(var ct=!0,tt=0;tt<et;tt++)if(X(C,Q+tt)!==X(P,tt)){ct=!1;break}if(ct)return Q}return-1}function k(C,P,U,F){U=Number(U)||0;var Y=C.length-U;F?(F=Number(F))>Y&&(F=Y):F=Y;var Q=P.length;if(Q%2!=0)throw new TypeError("Invalid hex string");F>Q/2&&(F=Q/2);for(var W=0;W<F;++W){var Z=parseInt(P.substr(2*W,2),16);if(isNaN(Z))return W;C[U+W]=Z}return W}function u(C,P,U,F){return D(K(P,C.length-U),C,U,F)}function w(C,P,U,F){return D(function(Y){for(var Q=[],W=0;W<Y.length;++W)Q.push(255&Y.charCodeAt(W));return Q}(P),C,U,F)}function _(C,P,U,F){return w(C,P,U,F)}function x(C,P,U,F){return D(z(P),C,U,F)}function T(C,P,U,F){return D(function(Y,Q){for(var W,Z,et,X=[],J=0;J<Y.length&&!((Q-=2)<0);++J)W=Y.charCodeAt(J),Z=W>>8,et=W%256,X.push(et),X.push(Z);return X}(P,C.length-U),C,U,F)}function N(C,P,U){return P===0&&U===C.length?l.fromByteArray(C):l.fromByteArray(C.slice(P,U))}function v(C,P,U){U=Math.min(C.length,U);for(var F=[],Y=P;Y<U;){var Q,W,Z,et,X=C[Y],J=null,ct=X>239?4:X>223?3:X>191?2:1;if(Y+ct<=U)switch(ct){case 1:X<128&&(J=X);break;case 2:(192&(Q=C[Y+1]))==128&&(et=(31&X)<<6|63&Q)>127&&(J=et);break;case 3:Q=C[Y+1],W=C[Y+2],(192&Q)==128&&(192&W)==128&&(et=(15&X)<<12|(63&Q)<<6|63&W)>2047&&(et<55296||et>57343)&&(J=et);break;case 4:Q=C[Y+1],W=C[Y+2],Z=C[Y+3],(192&Q)==128&&(192&W)==128&&(192&Z)==128&&(et=(15&X)<<18|(63&Q)<<12|(63&W)<<6|63&Z)>65535&&et<1114112&&(J=et)}J===null?(J=65533,ct=1):J>65535&&(J-=65536,F.push(J>>>10&1023|55296),J=56320|1023&J),F.push(J),Y+=ct}return function(tt){var it=tt.length;if(it<=4096)return String.fromCharCode.apply(String,tt);for(var ot="",rt=0;rt<it;)ot+=String.fromCharCode.apply(String,tt.slice(rt,rt+=4096));return ot}(F)}M.Buffer=n,M.SlowBuffer=function(C){return+C!=C&&(C=0),n.alloc(+C)},M.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var C=new Uint8Array(1);return C.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},C.foo()===42&&typeof C.subarray=="function"&&C.subarray(1,1).byteLength===0}catch(P){return!1}}(),M.kMaxLength=r(),n.poolSize=8192,n._augment=function(C){return C.__proto__=n.prototype,C},n.from=function(C,P,U){return i(null,C,P,U)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(C,P,U){return function(F,Y,Q,W){return e(Y),Y<=0?t(F,Y):Q!==void 0?typeof W=="string"?t(F,Y).fill(Q,W):t(F,Y).fill(Q):t(F,Y)}(null,C,P,U)},n.allocUnsafe=function(C){return c(null,C)},n.allocUnsafeSlow=function(C){return c(null,C)},n.isBuffer=function(C){return!(C==null||!C._isBuffer)},n.compare=function(C,P){if(!n.isBuffer(C)||!n.isBuffer(P))throw new TypeError("Arguments must be Buffers");if(C===P)return 0;for(var U=C.length,F=P.length,Y=0,Q=Math.min(U,F);Y<Q;++Y)if(C[Y]!==P[Y]){U=C[Y],F=P[Y];break}return U<F?-1:F<U?1:0},n.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(C,P){if(!s(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return n.alloc(0);var U;if(P===void 0)for(P=0,U=0;U<C.length;++U)P+=C[U].length;var F=n.allocUnsafe(P),Y=0;for(U=0;U<C.length;++U){var Q=C[U];if(!n.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(F,Y),Y+=Q.length}return F},n.byteLength=p,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<C;P+=2)b(this,P,P+1);return this},n.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<C;P+=4)b(this,P,P+3),b(this,P+1,P+2);return this},n.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<C;P+=8)b(this,P,P+7),b(this,P+1,P+6),b(this,P+2,P+5),b(this,P+3,P+4);return this},n.prototype.toString=function(){var C=0|this.length;return C===0?"":arguments.length===0?v(this,0,C):h.apply(this,arguments)},n.prototype.equals=function(C){if(!n.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||n.compare(this,C)===0},n.prototype.inspect=function(){var C="",P=M.INSPECT_MAX_BYTES;return this.length>0&&(C=this.toString("hex",0,P).match(/.{2}/g).join(" "),this.length>P&&(C+=" ... ")),"<Buffer "+C+">"},n.prototype.compare=function(C,P,U,F,Y){if(!n.isBuffer(C))throw new TypeError("Argument must be a Buffer");if(P===void 0&&(P=0),U===void 0&&(U=C?C.length:0),F===void 0&&(F=0),Y===void 0&&(Y=this.length),P<0||U>C.length||F<0||Y>this.length)throw new RangeError("out of range index");if(F>=Y&&P>=U)return 0;if(F>=Y)return-1;if(P>=U)return 1;if(this===C)return 0;for(var Q=(Y>>>=0)-(F>>>=0),W=(U>>>=0)-(P>>>=0),Z=Math.min(Q,W),et=this.slice(F,Y),X=C.slice(P,U),J=0;J<Z;++J)if(et[J]!==X[J]){Q=et[J],W=X[J];break}return Q<W?-1:W<Q?1:0},n.prototype.includes=function(C,P,U){return this.indexOf(C,P,U)!==-1},n.prototype.indexOf=function(C,P,U){return S(this,C,P,U,!0)},n.prototype.lastIndexOf=function(C,P,U){return S(this,C,P,U,!1)},n.prototype.write=function(C,P,U,F){if(P===void 0)F="utf8",U=this.length,P=0;else if(U===void 0&&typeof P=="string")F=P,U=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P|=0,isFinite(U)?(U|=0,F===void 0&&(F="utf8")):(F=U,U=void 0)}var Y=this.length-P;if((U===void 0||U>Y)&&(U=Y),C.length>0&&(U<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var Q=!1;;)switch(F){case"hex":return k(this,C,P,U);case"utf8":case"utf-8":return u(this,C,P,U);case"ascii":return w(this,C,P,U);case"latin1":case"binary":return _(this,C,P,U);case"base64":return x(this,C,P,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,C,P,U);default:if(Q)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),Q=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(C,P,U){var F="";U=Math.min(C.length,U);for(var Y=P;Y<U;++Y)F+=String.fromCharCode(127&C[Y]);return F}function E(C,P,U){var F="";U=Math.min(C.length,U);for(var Y=P;Y<U;++Y)F+=String.fromCharCode(C[Y]);return F}function m(C,P,U){var F=C.length;(!P||P<0)&&(P=0),(!U||U<0||U>F)&&(U=F);for(var Y="",Q=P;Q<U;++Q)Y+=q(C[Q]);return Y}function A(C,P,U){for(var F=C.slice(P,U),Y="",Q=0;Q<F.length;Q+=2)Y+=String.fromCharCode(F[Q]+256*F[Q+1]);return Y}function B(C,P,U){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+P>U)throw new RangeError("Trying to access beyond buffer length")}function O(C,P,U,F,Y,Q){if(!n.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>Y||P<Q)throw new RangeError('"value" argument is out of bounds');if(U+F>C.length)throw new RangeError("Index out of range")}function V(C,P,U,F){P<0&&(P=65535+P+1);for(var Y=0,Q=Math.min(C.length-U,2);Y<Q;++Y)C[U+Y]=(P&255<<8*(F?Y:1-Y))>>>8*(F?Y:1-Y)}function j(C,P,U,F){P<0&&(P=4294967295+P+1);for(var Y=0,Q=Math.min(C.length-U,4);Y<Q;++Y)C[U+Y]=P>>>8*(F?Y:3-Y)&255}function $(C,P,U,F,Y,Q){if(U+F>C.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function H(C,P,U,F,Y){return Y||$(C,0,U,4),o.write(C,P,U,F,23,4),U+4}function G(C,P,U,F,Y){return Y||$(C,0,U,8),o.write(C,P,U,F,52,8),U+8}n.prototype.slice=function(C,P){var U,F=this.length;if((C=~~C)<0?(C+=F)<0&&(C=0):C>F&&(C=F),(P=P===void 0?F:~~P)<0?(P+=F)<0&&(P=0):P>F&&(P=F),P<C&&(P=C),n.TYPED_ARRAY_SUPPORT)(U=this.subarray(C,P)).__proto__=n.prototype;else{var Y=P-C;U=new n(Y,void 0);for(var Q=0;Q<Y;++Q)U[Q]=this[Q+C]}return U},n.prototype.readUIntLE=function(C,P,U){C|=0,P|=0,U||B(C,P,this.length);for(var F=this[C],Y=1,Q=0;++Q<P&&(Y*=256);)F+=this[C+Q]*Y;return F},n.prototype.readUIntBE=function(C,P,U){C|=0,P|=0,U||B(C,P,this.length);for(var F=this[C+--P],Y=1;P>0&&(Y*=256);)F+=this[C+--P]*Y;return F},n.prototype.readUInt8=function(C,P){return P||B(C,1,this.length),this[C]},n.prototype.readUInt16LE=function(C,P){return P||B(C,2,this.length),this[C]|this[C+1]<<8},n.prototype.readUInt16BE=function(C,P){return P||B(C,2,this.length),this[C]<<8|this[C+1]},n.prototype.readUInt32LE=function(C,P){return P||B(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},n.prototype.readUInt32BE=function(C,P){return P||B(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},n.prototype.readIntLE=function(C,P,U){C|=0,P|=0,U||B(C,P,this.length);for(var F=this[C],Y=1,Q=0;++Q<P&&(Y*=256);)F+=this[C+Q]*Y;return F>=(Y*=128)&&(F-=Math.pow(2,8*P)),F},n.prototype.readIntBE=function(C,P,U){C|=0,P|=0,U||B(C,P,this.length);for(var F=P,Y=1,Q=this[C+--F];F>0&&(Y*=256);)Q+=this[C+--F]*Y;return Q>=(Y*=128)&&(Q-=Math.pow(2,8*P)),Q},n.prototype.readInt8=function(C,P){return P||B(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},n.prototype.readInt16LE=function(C,P){P||B(C,2,this.length);var U=this[C]|this[C+1]<<8;return 32768&U?4294901760|U:U},n.prototype.readInt16BE=function(C,P){P||B(C,2,this.length);var U=this[C+1]|this[C]<<8;return 32768&U?4294901760|U:U},n.prototype.readInt32LE=function(C,P){return P||B(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},n.prototype.readInt32BE=function(C,P){return P||B(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},n.prototype.readFloatLE=function(C,P){return P||B(C,4,this.length),o.read(this,C,!0,23,4)},n.prototype.readFloatBE=function(C,P){return P||B(C,4,this.length),o.read(this,C,!1,23,4)},n.prototype.readDoubleLE=function(C,P){return P||B(C,8,this.length),o.read(this,C,!0,52,8)},n.prototype.readDoubleBE=function(C,P){return P||B(C,8,this.length),o.read(this,C,!1,52,8)},n.prototype.writeUIntLE=function(C,P,U,F){(C=+C,P|=0,U|=0,F)||O(this,C,P,U,Math.pow(2,8*U)-1,0);var Y=1,Q=0;for(this[P]=255&C;++Q<U&&(Y*=256);)this[P+Q]=C/Y&255;return P+U},n.prototype.writeUIntBE=function(C,P,U,F){(C=+C,P|=0,U|=0,F)||O(this,C,P,U,Math.pow(2,8*U)-1,0);var Y=U-1,Q=1;for(this[P+Y]=255&C;--Y>=0&&(Q*=256);)this[P+Y]=C/Q&255;return P+U},n.prototype.writeUInt8=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,1,255,0),n.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),this[P]=255&C,P+1},n.prototype.writeUInt16LE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[P]=255&C,this[P+1]=C>>>8):V(this,C,P,!0),P+2},n.prototype.writeUInt16BE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[P]=C>>>8,this[P+1]=255&C):V(this,C,P,!1),P+2},n.prototype.writeUInt32LE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[P+3]=C>>>24,this[P+2]=C>>>16,this[P+1]=C>>>8,this[P]=255&C):j(this,C,P,!0),P+4},n.prototype.writeUInt32BE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[P]=C>>>24,this[P+1]=C>>>16,this[P+2]=C>>>8,this[P+3]=255&C):j(this,C,P,!1),P+4},n.prototype.writeIntLE=function(C,P,U,F){if(C=+C,P|=0,!F){var Y=Math.pow(2,8*U-1);O(this,C,P,U,Y-1,-Y)}var Q=0,W=1,Z=0;for(this[P]=255&C;++Q<U&&(W*=256);)C<0&&Z===0&&this[P+Q-1]!==0&&(Z=1),this[P+Q]=(C/W>>0)-Z&255;return P+U},n.prototype.writeIntBE=function(C,P,U,F){if(C=+C,P|=0,!F){var Y=Math.pow(2,8*U-1);O(this,C,P,U,Y-1,-Y)}var Q=U-1,W=1,Z=0;for(this[P+Q]=255&C;--Q>=0&&(W*=256);)C<0&&Z===0&&this[P+Q+1]!==0&&(Z=1),this[P+Q]=(C/W>>0)-Z&255;return P+U},n.prototype.writeInt8=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,1,127,-128),n.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),C<0&&(C=255+C+1),this[P]=255&C,P+1},n.prototype.writeInt16LE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[P]=255&C,this[P+1]=C>>>8):V(this,C,P,!0),P+2},n.prototype.writeInt16BE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[P]=C>>>8,this[P+1]=255&C):V(this,C,P,!1),P+2},n.prototype.writeInt32LE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[P]=255&C,this[P+1]=C>>>8,this[P+2]=C>>>16,this[P+3]=C>>>24):j(this,C,P,!0),P+4},n.prototype.writeInt32BE=function(C,P,U){return C=+C,P|=0,U||O(this,C,P,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),n.TYPED_ARRAY_SUPPORT?(this[P]=C>>>24,this[P+1]=C>>>16,this[P+2]=C>>>8,this[P+3]=255&C):j(this,C,P,!1),P+4},n.prototype.writeFloatLE=function(C,P,U){return H(this,C,P,!0,U)},n.prototype.writeFloatBE=function(C,P,U){return H(this,C,P,!1,U)},n.prototype.writeDoubleLE=function(C,P,U){return G(this,C,P,!0,U)},n.prototype.writeDoubleBE=function(C,P,U){return G(this,C,P,!1,U)},n.prototype.copy=function(C,P,U,F){if(U||(U=0),F||F===0||(F=this.length),P>=C.length&&(P=C.length),P||(P=0),F>0&&F<U&&(F=U),F===U)return 0;if(C.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),C.length-P<F-U&&(F=C.length-P+U);var Y,Q=F-U;if(this===C&&U<P&&P<F)for(Y=Q-1;Y>=0;--Y)C[Y+P]=this[Y+U];else if(Q<1e3||!n.TYPED_ARRAY_SUPPORT)for(Y=0;Y<Q;++Y)C[Y+P]=this[Y+U];else Uint8Array.prototype.set.call(C,this.subarray(U,U+Q),P);return Q},n.prototype.fill=function(C,P,U,F){if(typeof C=="string"){if(typeof P=="string"?(F=P,P=0,U=this.length):typeof U=="string"&&(F=U,U=this.length),C.length===1){var Y=C.charCodeAt(0);Y<256&&(C=Y)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!n.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof C=="number"&&(C&=255);if(P<0||this.length<P||this.length<U)throw new RangeError("Out of range index");if(U<=P)return this;var Q;if(P>>>=0,U=U===void 0?this.length:U>>>0,C||(C=0),typeof C=="number")for(Q=P;Q<U;++Q)this[Q]=C;else{var W=n.isBuffer(C)?C:K(new n(C,F).toString()),Z=W.length;for(Q=0;Q<U-P;++Q)this[Q+P]=W[Q%Z]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function q(C){return C<16?"0"+C.toString(16):C.toString(16)}function K(C,P){var U;P=P||1/0;for(var F=C.length,Y=null,Q=[],W=0;W<F;++W){if((U=C.charCodeAt(W))>55295&&U<57344){if(!Y){if(U>56319){(P-=3)>-1&&Q.push(239,191,189);continue}if(W+1===F){(P-=3)>-1&&Q.push(239,191,189);continue}Y=U;continue}if(U<56320){(P-=3)>-1&&Q.push(239,191,189),Y=U;continue}U=65536+(Y-55296<<10|U-56320)}else Y&&(P-=3)>-1&&Q.push(239,191,189);if(Y=null,U<128){if((P-=1)<0)break;Q.push(U)}else if(U<2048){if((P-=2)<0)break;Q.push(U>>6|192,63&U|128)}else if(U<65536){if((P-=3)<0)break;Q.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;Q.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return Q}function z(C){return l.toByteArray(function(P){if((P=function(U){return U.trim?U.trim():U.replace(/^\s+|\s+$/g,"")}(P).replace(R,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(C))}function D(C,P,U,F){for(var Y=0;Y<F&&!(Y+U>=P.length||Y>=C.length);++Y)P[Y+U]=C[Y];return Y}}).call(this,g(35))},function(L,M,g){function a(l,o){if(!l)throw new Error(o||"Assertion failed")}L.exports=a,a.equal=function(l,o,s){if(l!=o)throw new Error(s||"Assertion failed: "+l+" != "+o)}},function(L,M,g){const a=M.second=1e3,l=M.minute=60*a,o=M.hour=60*l;M.MAX_RECORD_AGE=36*o,M.PROTOCOL_DHT="/ipfs/kad/1.0.0",M.PROVIDERS_KEY_PREFIX="/providers/",M.PROVIDERS_LRU_CACHE_SIZE=256,M.PROVIDERS_VALIDITY=24*o,M.PROVIDERS_CLEANUP_INTERVAL=o,M.READ_MESSAGE_TIMEOUT=10*a,M.GET_MANY_RECORD_COUNT=16,M.K=20,M.ALPHA=3,M.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*l,timeout:10*a,delay:10*a}},function(L,M,g){var a=g(94),l=g(98);L.exports=function(o,s){if(s||(s={}),!o)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var r=typeof o!="object"||o instanceof Uint8Array?a.parse(o):o,t=function(){var n=this;l(r,s.encodings||{}).forEach(function(i){n[i.name]=function(e){if(!e)return null;var c={};return Object.keys(e).forEach(function(f){c[f]=e[f].value}),c}(i.values)||i})};return t.prototype.toString=function(){return a.stringify(r)},t.prototype.toJSON=function(){return r},new t}},function(L,M,g){const a=g(23),{encodeText:l,decodeText:o,concat:s}=g(41);function r(t){if(a.names[t])return a.names[t];if(a.codes[t])return a.codes[t];throw new Error("Unsupported encoding: "+t)}(M=L.exports=function(t,n){if(!n)throw new Error("requires an encoded Uint8Array");const{name:i,codeBuf:e}=r(t);return function(c,f){r(c).decode(o(f))}(i,n),s([e,n],e.length+n.length)}).encode=function(t,n){const i=r(t),e=l(i.encode(n));return s([i.codeBuf,e],i.codeBuf.length+e.length)},M.decode=function(t){t instanceof Uint8Array&&(t=o(t));const n=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(n)&&(t=t.toLowerCase()),r(t[0]).decode(t.substring(1))},M.isEncoded=function(t){if(t instanceof Uint8Array&&(t=o(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return r(t[0]).name}catch(n){return!1}},M.encoding=r,M.encodingFromData=function(t){return t instanceof Uint8Array&&(t=o(t)),r(t[0])},M.names=Object.freeze(a.names),M.codes=Object.freeze(a.codes)},function(L,M,g){var a,l,o=L.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function t(b){if(a===setTimeout)return setTimeout(b,0);if((a===s||!a)&&setTimeout)return a=setTimeout,setTimeout(b,0);try{return a(b,0)}catch(S){try{return a.call(null,b,0)}catch(I){return a.call(this,b,0)}}}!function(){try{a=typeof setTimeout=="function"?setTimeout:s}catch(b){a=s}try{l=typeof clearTimeout=="function"?clearTimeout:r}catch(b){l=r}}();var n,i=[],e=!1,c=-1;function f(){e&&n&&(e=!1,n.length?i=n.concat(i):c=-1,i.length&&d())}function d(){if(!e){var b=t(f);e=!0;for(var S=i.length;S;){for(n=i,i=[];++c<S;)n&&n[c].run();c=-1,S=i.length}n=null,e=!1,function(I){if(l===clearTimeout)return clearTimeout(I);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(I);try{l(I)}catch(k){try{return l.call(null,I)}catch(u){return l.call(this,I)}}}(b)}}function p(b,S){this.fun=b,this.array=S}function h(){}o.nextTick=function(b){var S=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)S[I-1]=arguments[I];i.push(new p(b,S)),i.length!==1||e||t(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(L,M,g){L.exports=function(a,{className:l,symbolName:o}){const s=Symbol.for(o),r={[l]:class extends a{constructor(...t){super(...t),Object.defineProperty(this,s,{value:!0})}get[Symbol.toStringTag](){return l}}}[l];return r["is"+l]=t=>!(!t||!t[s]),r},L.exports.proto=function(a,{className:l,symbolName:o,withoutNew:s}){const r=Symbol.for(o),t={[l]:function(...n){if(s&&!(this instanceof t))return new t(...n);const i=a.call(this,...n)||this;return i&&!i[r]&&Object.defineProperty(i,r,{value:!0}),i}}[l];return t.prototype=Object.create(a.prototype),t.prototype.constructor=t,Object.defineProperty(t.prototype,Symbol.toStringTag,{get:()=>l}),t["is"+l]=n=>!(!n||!n[r]),t}},function(L,M,g){var a=g(0);L.exports=a.md=a.md||{},a.md.algorithms=a.md.algorithms||{}},function(L,M,g){L.exports={Record:g(93),validator:g(124),selection:g(138)}},function(L,M,g){const a=g(105),l=g(106),o=g(107),{decodeText:s,encodeText:r}=g(41),t=[["identity","\0",()=>({encode:s,decode:r}),""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",a,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",a,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",a,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",a,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",a,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],n=t.reduce((e,c)=>(e[c[0]]=new l(c[0],c[1],c[2],c[3]),e),{}),i=t.reduce((e,c)=>(e[c[1]]=n[c[0]],e),{});L.exports={names:n,codes:i}},function(L,M,g){M.TextEncoder=TextEncoder,M.TextDecoder=TextDecoder},function(L,M,g){const a=g(18),l=g(4),{names:o}=g(127),s=g(5),r=g(7),t=g(11),n={};for(const e in o)n[o[e]]=e;function i(e){M.decode(e)}M.names=o,M.codes=Object.freeze(n),M.toHexString=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(e,"base16")},M.fromHexString=function(e){return r(e,"base16")},M.toB58String=function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(a.encode("base58btc",e)).slice(1)},M.fromB58String=function(e){const c=e instanceof Uint8Array?s(e):e;return a.decode("z"+c)},M.decode=function(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const c=l.decode(e);if(!M.isValidCode(c))throw new Error("multihash unknown function code: 0x"+c.toString(16));e=e.slice(l.decode.bytes);const f=l.decode(e);if(f<0)throw new Error("multihash invalid length: "+f);if((e=e.slice(l.decode.bytes)).length!==f)throw new Error("multihash length inconsistent: 0x"+s(e,"base16"));return{code:c,name:n[c],length:f,digest:e}},M.encode=function(e,c,f){if(!e||c===void 0)throw new Error("multihash encode requires at least two args: digest, code");const d=M.coerceCode(c);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(f==null&&(f=e.length),f&&e.length!==f)throw new Error("digest length should be equal to specified length.");const p=l.encode(d),h=l.encode(f);return t([p,h,e],p.length+h.length+e.length)},M.coerceCode=function(e){let c=e;if(typeof e=="string"){if(o[e]===void 0)throw new Error("Unrecognized hash function named: "+e);c=o[e]}if(typeof c!="number")throw new Error("Hash function code should be a number. Got: "+c);if(n[c]===void 0&&!M.isAppCode(c))throw new Error("Unrecognized function code: "+c);return c},M.isAppCode=function(e){return e>0&&e<16},M.isValidCode=function(e){return!!M.isAppCode(e)||!!n[e]},M.validate=i,M.prefix=function(e){return i(e),e.subarray(0,2)}},function(L,M,g){const a=g(25),l=self.crypto||self.msCrypto,o=async(s,r)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(r){case"sha1":return new Uint8Array(await l.subtle.digest({name:"SHA-1"},s));case"sha2-256":return new Uint8Array(await l.subtle.digest({name:"SHA-256"},s));case"sha2-512":return new Uint8Array(await l.subtle.digest({name:"SHA-512"},s));case"dbl-sha2-256":{const t=await l.subtle.digest({name:"SHA-256"},s);return new Uint8Array(await l.subtle.digest({name:"SHA-256"},t))}default:throw new Error(r+" is not a supported algorithm")}};L.exports={factory:s=>async r=>o(r,s),digest:o,multihashing:async(s,r,t)=>{const n=await o(s,r);return a.encode(n,r,t)}}},function(L,M,g){const a=g(25),l=g(28),o=g(68),s=g(20),{PeerIdProto:r}=g(221),t=g(8),n=g(7),i=g(5),e=s(class{constructor(p,h,b){if(!(p instanceof Uint8Array))throw new Error("invalid id provided");if(h&&b&&!t(h.public.bytes,b.bytes))throw new Error("inconsistent arguments");this._id=p,this._idB58String=a.toB58String(this.id),this._privKey=h,this._pubKey=b}get id(){return this._id}set id(p){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(p){this._privKey=p}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{const p=a.decode(this.id);p.name==="identity"&&(this._pubKey=o.unmarshalPublicKey(p.digest))}catch(p){}return this._pubKey}set pubKey(p){this._pubKey=p}marshalPubKey(){if(this.pubKey)return o.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.marshalPrivateKey(this.privKey)}marshal(p){return r.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:p?null:this.marshalPrivKey()})}toPrint(){let p=this.toB58String();p.startsWith("Qm")&&(p=p.slice(2));let h=6;return p.length<h&&(h=p.length),"<peer.ID "+p.substr(0,h)+">"}toJSON(){return{id:this.toB58String(),privKey:d(this.marshalPrivKey()),pubKey:d(this.marshalPubKey())}}toHexString(){return a.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const p=new l(1,"libp2p-key",this.id,"base32");this._idCIDString=p.toBaseEncodedString("base32")}return this._idCIDString}equals(p){if(p instanceof Uint8Array)return t(this.id,p);if(p.id)return t(this.id,p.id);throw new Error("not valid Id")}isEqual(p){return this.equals(p)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&t(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(a.decode(this.id).name==="identity")return!0}catch(p){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});M=L.exports=e;const c=p=>p.bytes.length<=42?a.encode(p.bytes,"identity"):p.hash(),f=async(p,h)=>{const b=await c(h);return new e(b,p,h)};M.create=async p=>{(p=p||{}).bits=p.bits||2048,p.keyType=p.keyType||"RSA";const h=await o.generateKeyPair(p.keyType,p.bits);return f(h,h.public)},M.createFromHexString=p=>new e(a.fromHexString(p)),M.createFromBytes=p=>new e(p),M.createFromB58String=p=>M.createFromCID(p);function d(p){if(p)return i(p,"base64pad")}M.createFromCID=p=>{if(!(h=>h.codec==="libp2p-key"||h.codec==="dag-pb")(p=l.isCID(p)?p:new l(p)))throw new Error("Supplied PeerID CID has invalid multicodec: "+p.codec);return new e(p.multihash)},M.createFromPubKey=async p=>{let h=p;if(typeof h=="string"&&(h=n(p,"base64pad")),!(h instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const b=await o.unmarshalPublicKey(h);return f(null,b)},M.createFromPrivKey=async p=>{if(typeof p=="string"&&(p=n(p,"base64pad")),!(p instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const h=await o.unmarshalPrivateKey(p);return f(h,h.public)},M.createFromJSON=async p=>{const h=a.fromB58String(p.id),b=p.privKey&&n(p.privKey,"base64pad"),S=p.pubKey&&n(p.pubKey,"base64pad"),I=S&&await o.unmarshalPublicKey(S);if(!b)return new e(h,null,I);const k=await o.unmarshalPrivateKey(b),u=await c(k.public);let w;if(I&&(w=await c(I)),I&&!t(u,w))throw new Error("Public and private key do not match");if(h&&!t(u,h))throw new Error("Id and private key do not match");return new e(h,k,I)},M.createFromProtobuf=async p=>{typeof p=="string"&&(p=n(p,"base16"));let h,b,{id:S,privKey:I,pubKey:k}=r.decode(p);if(I=!!I&&await o.unmarshalPrivateKey(I),k=!!k&&await o.unmarshalPublicKey(k),I&&(b=await c(I.public)),k&&(h=await c(k)),I){if(k&&!t(b,h))throw new Error("Public and private key do not match");return new e(b,I,I.public)}if(k)return new e(h,null,k);if(S)return new e(S);throw new Error("Protobuf did not contain any usable key material")},M.isPeerId=p=>Boolean(typeof p=="object"&&p._id&&p._idB58String)},function(L,M,g){const a=g(25),l=g(18),o=g(160),s=g(29),r=g(168),t=g(20),n=g(11),i=g(5),e=g(8),c=Object.keys(s).reduce((p,h)=>(p[s[h]]=h,p),{});class f{constructor(p,h,b,S){if(d.isCID(p)){const I=p;return this.version=I.version,this.codec=I.codec,this.multihash=I.multihash,void(this.multibaseName=I.multibaseName||(I.version===0?"base58btc":"base32"))}if(typeof p=="string"){const I=l.isEncoded(p);if(I){const k=l.decode(p);this.version=parseInt(k.slice(0,1).toString("hex"),16),this.codec=o.getCodec(k.slice(1)),this.multihash=o.rmPrefix(k.slice(1)),this.multibaseName=I}else this.version=0,this.codec="dag-pb",this.multihash=a.fromB58String(p),this.multibaseName="base58btc";return f.validateCID(this),void Object.defineProperty(this,"string",{value:p})}if(p instanceof Uint8Array){const I=p.slice(0,1),k=parseInt(I.toString("hex"),16);if(k===1){const u=p;this.version=k,this.codec=o.getCodec(u.slice(1)),this.multihash=o.rmPrefix(u.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=p,this.multibaseName="base58btc";f.validateCID(this)}else this.version=p,typeof h=="number"&&(h=c[h]),this.codec=h,this.multihash=b,this.multibaseName=S||(p===0?"base58btc":"base32"),f.validateCID(this)}get bytes(){let p=this._bytes;if(!p){if(this.version===0)p=this.multihash;else{if(this.version!==1)throw new Error("unsupported version");{const h=o.getCodeVarint(this.codec);p=n([[1],h,this.multihash],1+h.byteLength+this.multihash.byteLength)}}Object.defineProperty(this,"_bytes",{value:p})}return p}get prefix(){const p=o.getCodeVarint(this.codec),h=a.prefix(this.multihash);return n([[this.version],p,h],1+p.byteLength+h.byteLength)}get code(){return s[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:p,length:h}=a.decode(this.multihash);if(p!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(h!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new d(0,this.codec,this.multihash)}toV1(){return new d(1,this.codec,this.multihash)}toBaseEncodedString(p=this.multibaseName){if(this.string&&p===this.multibaseName)return this.string;let h=null;if(this.version===0){if(p!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");h=a.toB58String(this.multihash)}else{if(this.version!==1)throw new Error("unsupported version");h=i(l.encode(p,this.bytes))}return p===this.multibaseName&&Object.defineProperty(this,"string",{value:h}),h}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(p){return this.toBaseEncodedString(p)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(p){return this.codec===p.codec&&this.version===p.version&&e(this.multihash,p.multihash)}static validateCID(p){const h=r.checkCIDComponents(p);if(h)throw new Error(h)}}const d=t(f,{className:"CID",symbolName:"@ipld/js-cid/CID"});d.codecs=s,L.exports=d},function(L){L.exports=JSON.parse('{"identity":0,"ip4":4,"tcp":6,"sha1":17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"blake3":30,"dccp":33,"murmur3-128":34,"murmur3-32":35,"ip6":41,"ip6zone":42,"path":47,"multicodec":48,"multihash":49,"multiaddr":50,"multibase":51,"dns":53,"dns4":54,"dns6":55,"dnsaddr":56,"protobuf":80,"cbor":81,"raw":85,"dbl-sha2-256":86,"rlp":96,"bencode":99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,"sctp":132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"stellar-block":208,"stellar-tx":209,"md4":212,"md5":213,"bmt":214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,"zeronet":230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,"udp":273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,"udt":301,"utp":302,"unix":400,"p2p":421,"ipfs":421,"https":443,"onion":444,"onion3":445,"garlic64":446,"garlic32":447,"tls":448,"quic":460,"ws":477,"wss":478,"p2p-websocket-star":479,"http":480,"json":512,"messagepack":513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,"x11":4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46000,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332}')},function(L,M,g){var a=g(0);g(2),g(48);var l=L.exports=a.asn1=a.asn1||{};function o(r,t,n){if(n>t){var i=new Error("Too few bytes to parse DER.");throw i.available=r.length(),i.remaining=t,i.requested=n,i}}l.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},l.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},l.create=function(r,t,n,i,e){if(a.util.isArray(i)){for(var c=[],f=0;f<i.length;++f)i[f]!==void 0&&c.push(i[f]);i=c}var d={tagClass:r,type:t,constructed:n,composed:n||a.util.isArray(i),value:i};return e&&"bitStringContents"in e&&(d.bitStringContents=e.bitStringContents,d.original=l.copy(d)),d},l.copy=function(r,t){var n;if(a.util.isArray(r)){n=[];for(var i=0;i<r.length;++i)n.push(l.copy(r[i],t));return n}return typeof r=="string"?r:(n={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:l.copy(r.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=r.bitStringContents),n)},l.equals=function(r,t,n){if(a.util.isArray(r)){if(!a.util.isArray(t))return!1;if(r.length!==t.length)return!1;for(var i=0;i<r.length;++i)if(!l.equals(r[i],t[i]))return!1;return!0}if(typeof r!=typeof t)return!1;if(typeof r=="string")return r===t;var e=r.tagClass===t.tagClass&&r.type===t.type&&r.constructed===t.constructed&&r.composed===t.composed&&l.equals(r.value,t.value);return n&&n.includeBitStringContents&&(e=e&&r.bitStringContents===t.bitStringContents),e},l.getBerValueLength=function(r){var t=r.getByte();if(t!==128)return 128&t?r.getInt((127&t)<<3):t},l.fromDer=function(r,t){return t===void 0&&(t={strict:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof r=="string"&&(r=a.util.createBuffer(r)),function n(i,e,c,f){var d;o(i,e,2);var p=i.getByte();e--;var h=192&p,b=31&p;d=i.length();var S,I,k=function(A,B){var O=A.getByte();if(B--,O!==128){var V;if(128&O){var j=127&O;o(A,B,j),V=A.getInt(j<<3)}else V=O;if(V<0)throw new Error("Negative length: "+V);return V}}(i,e);if(e-=d-i.length(),k!==void 0&&k>e){if(f.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=i.length(),u.remaining=e,u.requested=k,u}k=e}var w=(32&p)==32;if(w)if(S=[],k===void 0)for(;;){if(o(i,e,2),i.bytes(2)===String.fromCharCode(0,0)){i.getBytes(2),e-=2;break}d=i.length(),S.push(n(i,e,c+1,f)),e-=d-i.length()}else for(;k>0;)d=i.length(),S.push(n(i,k,c+1,f)),e-=d-i.length(),k-=d-i.length();if(S===void 0&&h===l.Class.UNIVERSAL&&b===l.Type.BITSTRING&&(I=i.bytes(k)),S===void 0&&f.decodeBitStrings&&h===l.Class.UNIVERSAL&&b===l.Type.BITSTRING&&k>1){var _=i.read,x=e,T=0;if(b===l.Type.BITSTRING&&(o(i,e,1),T=i.getByte(),e--),T===0)try{d=i.length();var N={verbose:f.verbose,strict:!0,decodeBitStrings:!0},v=n(i,e,c+1,N),y=d-i.length();e-=y,b==l.Type.BITSTRING&&y++;var E=v.tagClass;y!==k||E!==l.Class.UNIVERSAL&&E!==l.Class.CONTEXT_SPECIFIC||(S=[v])}catch(A){}S===void 0&&(i.read=_,e=x)}if(S===void 0){if(k===void 0){if(f.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=e}if(b===l.Type.BMPSTRING)for(S="";k>0;k-=2)o(i,e,2),S+=String.fromCharCode(i.getInt16()),e-=2;else S=i.getBytes(k)}var m=I===void 0?null:{bitStringContents:I};return l.create(h,b,w,S,m)}(r,r.length(),0,t)},l.toDer=function(r){var t=a.util.createBuffer(),n=r.tagClass|r.type,i=a.util.createBuffer(),e=!1;if("bitStringContents"in r&&(e=!0,r.original&&(e=l.equals(r,r.original))),e)i.putBytes(r.bitStringContents);else if(r.composed){r.constructed?n|=32:i.putByte(0);for(var c=0;c<r.value.length;++c)r.value[c]!==void 0&&i.putBuffer(l.toDer(r.value[c]))}else if(r.type===l.Type.BMPSTRING)for(c=0;c<r.value.length;++c)i.putInt16(r.value.charCodeAt(c));else r.type===l.Type.INTEGER&&r.value.length>1&&(r.value.charCodeAt(0)===0&&(128&r.value.charCodeAt(1))==0||r.value.charCodeAt(0)===255&&(128&r.value.charCodeAt(1))==128)?i.putBytes(r.value.substr(1)):i.putBytes(r.value);if(t.putByte(n),i.length()<=127)t.putByte(127&i.length());else{var f=i.length(),d="";do d+=String.fromCharCode(255&f),f>>>=8;while(f>0);for(t.putByte(128|d.length),c=d.length-1;c>=0;--c)t.putByte(d.charCodeAt(c))}return t.putBuffer(i),t},l.oidToDer=function(r){var t,n,i,e,c=r.split("."),f=a.util.createBuffer();f.putByte(40*parseInt(c[0],10)+parseInt(c[1],10));for(var d=2;d<c.length;++d){t=!0,n=[],i=parseInt(c[d],10);do e=127&i,i>>>=7,t||(e|=128),n.push(e),t=!1;while(i>0);for(var p=n.length-1;p>=0;--p)f.putByte(n[p])}return f},l.derToOid=function(r){var t;typeof r=="string"&&(r=a.util.createBuffer(r));var n=r.getByte();t=Math.floor(n/40)+"."+n%40;for(var i=0;r.length()>0;)i<<=7,128&(n=r.getByte())?i+=127&n:(t+="."+(i+n),i=0);return t},l.utcTimeToDate=function(r){var t=new Date,n=parseInt(r.substr(0,2),10);n=n>=50?1900+n:2e3+n;var i=parseInt(r.substr(2,2),10)-1,e=parseInt(r.substr(4,2),10),c=parseInt(r.substr(6,2),10),f=parseInt(r.substr(8,2),10),d=0;if(r.length>11){var p=r.charAt(10),h=10;p!=="+"&&p!=="-"&&(d=parseInt(r.substr(10,2),10),h+=2)}if(t.setUTCFullYear(n,i,e),t.setUTCHours(c,f,d,0),h&&((p=r.charAt(h))==="+"||p==="-")){var b=60*parseInt(r.substr(h+1,2),10)+parseInt(r.substr(h+4,2),10);b*=6e4,p==="+"?t.setTime(+t-b):t.setTime(+t+b)}return t},l.generalizedTimeToDate=function(r){var t=new Date,n=parseInt(r.substr(0,4),10),i=parseInt(r.substr(4,2),10)-1,e=parseInt(r.substr(6,2),10),c=parseInt(r.substr(8,2),10),f=parseInt(r.substr(10,2),10),d=parseInt(r.substr(12,2),10),p=0,h=0,b=!1;r.charAt(r.length-1)==="Z"&&(b=!0);var S=r.length-5,I=r.charAt(S);return I!=="+"&&I!=="-"||(h=60*parseInt(r.substr(S+1,2),10)+parseInt(r.substr(S+4,2),10),h*=6e4,I==="+"&&(h*=-1),b=!0),r.charAt(14)==="."&&(p=1e3*parseFloat(r.substr(14),10)),b?(t.setUTCFullYear(n,i,e),t.setUTCHours(c,f,d,p),t.setTime(+t+h)):(t.setFullYear(n,i,e),t.setHours(c,f,d,p)),t},l.dateToUtcTime=function(r){if(typeof r=="string")return r;var t="",n=[];n.push((""+r.getUTCFullYear()).substr(2)),n.push(""+(r.getUTCMonth()+1)),n.push(""+r.getUTCDate()),n.push(""+r.getUTCHours()),n.push(""+r.getUTCMinutes()),n.push(""+r.getUTCSeconds());for(var i=0;i<n.length;++i)n[i].length<2&&(t+="0"),t+=n[i];return t+="Z"},l.dateToGeneralizedTime=function(r){if(typeof r=="string")return r;var t="",n=[];n.push(""+r.getUTCFullYear()),n.push(""+(r.getUTCMonth()+1)),n.push(""+r.getUTCDate()),n.push(""+r.getUTCHours()),n.push(""+r.getUTCMinutes()),n.push(""+r.getUTCSeconds());for(var i=0;i<n.length;++i)n[i].length<2&&(t+="0"),t+=n[i];return t+="Z"},l.integerToDer=function(r){var t=a.util.createBuffer();if(r>=-128&&r<128)return t.putSignedInt(r,8);if(r>=-32768&&r<32768)return t.putSignedInt(r,16);if(r>=-8388608&&r<8388608)return t.putSignedInt(r,24);if(r>=-2147483648&&r<2147483648)return t.putSignedInt(r,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=r,n},l.derToInteger=function(r){typeof r=="string"&&(r=a.util.createBuffer(r));var t=8*r.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return r.getSignedInt(t)},l.validate=function(r,t,n,i){var e=!1;if(r.tagClass!==t.tagClass&&t.tagClass!==void 0||r.type!==t.type&&t.type!==void 0)i&&(r.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+r.tagClass+'"'),r.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+r.type+'"'));else if(r.constructed===t.constructed||t.constructed===void 0){if(e=!0,t.value&&a.util.isArray(t.value))for(var c=0,f=0;e&&f<t.value.length;++f)e=t.value[f].optional||!1,r.value[c]&&((e=l.validate(r.value[c],t.value[f],n,i))?++c:t.value[f].optional&&(e=!0)),!e&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+r.value.length+'"');if(e&&n&&(t.capture&&(n[t.capture]=r.value),t.captureAsn1&&(n[t.captureAsn1]=r),t.captureBitStringContents&&"bitStringContents"in r&&(n[t.captureBitStringContents]=r.bitStringContents),t.captureBitStringValue&&"bitStringContents"in r))if(r.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(r.bitStringContents.charCodeAt(0)!==0)throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=r.bitStringContents.slice(1)}}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+r.constructed+'"');return e};var s=/[^\\u0000-\\u00ff]/;l.prettyPrint=function(r,t,n){var i="";n=n||2,(t=t||0)>0&&(i+=`
`);for(var e="",c=0;c<t*n;++c)e+=" ";switch(i+=e+"Tag: ",r.tagClass){case l.Class.UNIVERSAL:i+="Universal:";break;case l.Class.APPLICATION:i+="Application:";break;case l.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case l.Class.PRIVATE:i+="Private:"}if(r.tagClass===l.Class.UNIVERSAL)switch(i+=r.type,r.type){case l.Type.NONE:i+=" (None)";break;case l.Type.BOOLEAN:i+=" (Boolean)";break;case l.Type.INTEGER:i+=" (Integer)";break;case l.Type.BITSTRING:i+=" (Bit string)";break;case l.Type.OCTETSTRING:i+=" (Octet string)";break;case l.Type.NULL:i+=" (Null)";break;case l.Type.OID:i+=" (Object Identifier)";break;case l.Type.ODESC:i+=" (Object Descriptor)";break;case l.Type.EXTERNAL:i+=" (External or Instance of)";break;case l.Type.REAL:i+=" (Real)";break;case l.Type.ENUMERATED:i+=" (Enumerated)";break;case l.Type.EMBEDDED:i+=" (Embedded PDV)";break;case l.Type.UTF8:i+=" (UTF8)";break;case l.Type.ROID:i+=" (Relative Object Identifier)";break;case l.Type.SEQUENCE:i+=" (Sequence)";break;case l.Type.SET:i+=" (Set)";break;case l.Type.PRINTABLESTRING:i+=" (Printable String)";break;case l.Type.IA5String:i+=" (IA5String (ASCII))";break;case l.Type.UTCTIME:i+=" (UTC time)";break;case l.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case l.Type.BMPSTRING:i+=" (BMP String)"}else i+=r.type;if(i+=`
`,i+=e+"Constructed: "+r.constructed+`
`,r.composed){var f=0,d="";for(c=0;c<r.value.length;++c)r.value[c]!==void 0&&(f+=1,d+=l.prettyPrint(r.value[c],t+1,n),c+1<r.value.length&&(d+=","));i+=e+"Sub values: "+f+d}else{if(i+=e+"Value: ",r.type===l.Type.OID){var p=l.derToOid(r.value);i+=p,a.pki&&a.pki.oids&&p in a.pki.oids&&(i+=" ("+a.pki.oids[p]+") ")}if(r.type===l.Type.INTEGER)try{i+=l.derToInteger(r.value)}catch(b){i+="0x"+a.util.bytesToHex(r.value)}else if(r.type===l.Type.BITSTRING){if(r.value.length>1?i+="0x"+a.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var h=r.value.charCodeAt(0);h==1?i+=" (1 unused bit shown)":h>1&&(i+=" ("+h+" unused bits shown)")}}else r.type===l.Type.OCTETSTRING?(s.test(r.value)||(i+="("+r.value+") "),i+="0x"+a.util.bytesToHex(r.value)):r.type===l.Type.UTF8?i+=a.util.decodeUtf8(r.value):r.type===l.Type.PRINTABLESTRING||r.type===l.Type.IA5String?i+=r.value:s.test(r.value)?i+="0x"+a.util.bytesToHex(r.value):r.value.length===0?i+="[null]":i+=r.value}return i}},function(L,M,g){var a=g(0);g(49),g(174),g(175),g(2),a.random&&a.random.getBytes?L.exports=a.random:function(l){var o={},s=new Array(4),r=a.util.createBuffer();function t(){var p=a.prng.create(o);return p.getBytes=function(h,b){return p.generate(h,b)},p.getBytesSync=function(h){return p.generate(h)},p}o.formatKey=function(p){var h=a.util.createBuffer(p);return(p=new Array(4))[0]=h.getInt32(),p[1]=h.getInt32(),p[2]=h.getInt32(),p[3]=h.getInt32(),a.aes._expandKey(p,!1)},o.formatSeed=function(p){var h=a.util.createBuffer(p);return(p=new Array(4))[0]=h.getInt32(),p[1]=h.getInt32(),p[2]=h.getInt32(),p[3]=h.getInt32(),p},o.cipher=function(p,h){return a.aes._updateBlock(p,h,s,!1),r.putInt32(s[0]),r.putInt32(s[1]),r.putInt32(s[2]),r.putInt32(s[3]),r.getBytes()},o.increment=function(p){return++p[3],p},o.md=a.md.sha256;var n=t(),i=null,e=a.util.globalScope,c=e.crypto||e.msCrypto;if(c&&c.getRandomValues&&(i=function(p){return c.getRandomValues(p)}),a.options.usePureJavaScript||!a.util.isNodejs&&!i){if(n.collectInt(+new Date,32),typeof navigator!="undefined"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch(p){}n.collect(f),f=null}l&&(l().mousemove(function(p){n.collectInt(p.clientX,16),n.collectInt(p.clientY,16)}),l().keypress(function(p){n.collectInt(p.charCode,8)}))}if(a.random)for(var d in n)a.random[d]=n[d];else a.random=n;a.random.createInstance=t,L.exports=a.random}(typeof jQuery!="undefined"?jQuery:null)},function(L,M,g){var a=g(10),l=g(15);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}M.BlockHash=o,o.prototype.update=function(s,r){if(s=a.toArray(s,r),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var t=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-t,s.length),this.pending.length===0&&(this.pending=null),s=a.join32(s,0,s.length-t,this.endian);for(var n=0;n<s.length;n+=this._delta32)this._update(s,n,n+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),l(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,r=this._delta8,t=r-(s+this.padLength)%r,n=new Array(t+this.padLength);n[0]=128;for(var i=1;i<t;i++)n[i]=0;if(s<<=3,this.endian==="big"){for(var e=8;e<this.padLength;e++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=s>>>24&255,n[i++]=s>>>16&255,n[i++]=s>>>8&255,n[i++]=255&s}else for(n[i++]=255&s,n[i++]=s>>>8&255,n[i++]=s>>>16&255,n[i++]=s>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,e=8;e<this.padLength;e++)n[i++]=0;return n}},function(L,M,g){const a=g(227);class l extends Error{constructor(s){super(s),this.name="TimeoutError"}}const o=(s,r,t)=>new Promise((n,i)=>{if(typeof r!="number"||r<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(r===1/0)return void n(s);const e=setTimeout(()=>{if(typeof t=="function"){try{n(t())}catch(f){i(f)}return}const c=t instanceof Error?t:new l(typeof t=="string"?t:`Promise timed out after ${r} milliseconds`);typeof s.cancel=="function"&&s.cancel(),i(c)},r);a(s.then(n,i),()=>{clearTimeout(e)})});L.exports=o,L.exports.default=o,L.exports.TimeoutError=l},function(L,M,g){const a=g(1),l=g(25),o=g(128),s=g(8);async function r(t,n,i){const e=await r.digest(t,n,i);return l.encode(e,n,i)}r.multihash=l,r.digest=async(t,n,i)=>{const e=r.createHash(n),c=await e(t);return i?c.slice(0,i):c},r.createHash=function(t){if(!t)throw a(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(t=l.coerceCode(t),!r.functions[t])throw a(new Error(`multihash function '${t}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return r.functions[t]},r.functions={0:o.identity,17:o.sha1,18:o.sha2256,19:o.sha2512,20:o.sha3512,21:o.sha3384,22:o.sha3256,23:o.sha3224,24:o.shake128,25:o.shake256,26:o.keccak224,27:o.keccak256,28:o.keccak384,29:o.keccak512,34:o.murmur3128,35:o.murmur332,86:o.dblSha2256},o.addBlake(r.functions),r.validate=async(t,n)=>{const i=await r(t,l.decode(n).name);return s(n,i)},L.exports=r},function(L,M,g){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(l){typeof window=="object"&&(a=window)}L.exports=a},function(L,M,g){var a,l=g(0);L.exports=l.jsbn=l.jsbn||{};function o(y,E,m){this.data=[],y!=null&&(typeof y=="number"?this.fromNumber(y,E,m):E==null&&typeof y!="string"?this.fromString(y,256):this.fromString(y,E))}function s(){return new o(null)}function r(y,E,m,A,B,O){for(var V=16383&E,j=E>>14;--O>=0;){var $=16383&this.data[y],H=this.data[y++]>>14,G=j*$+H*V;B=(($=V*$+((16383&G)<<14)+m.data[A]+B)>>28)+(G>>14)+j*H,m.data[A++]=268435455&$}return B}l.jsbn.BigInteger=o,typeof navigator=="undefined"?(o.prototype.am=r,a=28):navigator.appName=="Microsoft Internet Explorer"?(o.prototype.am=function(y,E,m,A,B,O){for(var V=32767&E,j=E>>15;--O>=0;){var $=32767&this.data[y],H=this.data[y++]>>15,G=j*$+H*V;B=(($=V*$+((32767&G)<<15)+m.data[A]+(1073741823&B))>>>30)+(G>>>15)+j*H+(B>>>30),m.data[A++]=1073741823&$}return B},a=30):navigator.appName!="Netscape"?(o.prototype.am=function(y,E,m,A,B,O){for(;--O>=0;){var V=E*this.data[y++]+m.data[A]+B;B=Math.floor(V/67108864),m.data[A++]=67108863&V}return B},a=26):(o.prototype.am=r,a=28),o.prototype.DB=a,o.prototype.DM=(1<<a)-1,o.prototype.DV=1<<a,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-a,o.prototype.F2=2*a-52;var t,n,i=new Array;for(t="0".charCodeAt(0),n=0;n<=9;++n)i[t++]=n;for(t="a".charCodeAt(0),n=10;n<36;++n)i[t++]=n;for(t="A".charCodeAt(0),n=10;n<36;++n)i[t++]=n;function e(y){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(y)}function c(y,E){var m=i[y.charCodeAt(E)];return m??-1}function f(y){var E=s();return E.fromInt(y),E}function d(y){var E,m=1;return(E=y>>>16)!=0&&(y=E,m+=16),(E=y>>8)!=0&&(y=E,m+=8),(E=y>>4)!=0&&(y=E,m+=4),(E=y>>2)!=0&&(y=E,m+=2),(E=y>>1)!=0&&(y=E,m+=1),m}function p(y){this.m=y}function h(y){this.m=y,this.mp=y.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<y.DB-15)-1,this.mt2=2*y.t}function b(y,E){return y&E}function S(y,E){return y|E}function I(y,E){return y^E}function k(y,E){return y&~E}function u(y){if(y==0)return-1;var E=0;return(65535&y)==0&&(y>>=16,E+=16),(255&y)==0&&(y>>=8,E+=8),(15&y)==0&&(y>>=4,E+=4),(3&y)==0&&(y>>=2,E+=2),(1&y)==0&&++E,E}function w(y){for(var E=0;y!=0;)y&=y-1,++E;return E}function _(){}function x(y){return y}function T(y){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*y.t,this.r2),this.mu=this.r2.divide(y),this.m=y}p.prototype.convert=function(y){return y.s<0||y.compareTo(this.m)>=0?y.mod(this.m):y},p.prototype.revert=function(y){return y},p.prototype.reduce=function(y){y.divRemTo(this.m,null,y)},p.prototype.mulTo=function(y,E,m){y.multiplyTo(E,m),this.reduce(m)},p.prototype.sqrTo=function(y,E){y.squareTo(E),this.reduce(E)},h.prototype.convert=function(y){var E=s();return y.abs().dlShiftTo(this.m.t,E),E.divRemTo(this.m,null,E),y.s<0&&E.compareTo(o.ZERO)>0&&this.m.subTo(E,E),E},h.prototype.revert=function(y){var E=s();return y.copyTo(E),this.reduce(E),E},h.prototype.reduce=function(y){for(;y.t<=this.mt2;)y.data[y.t++]=0;for(var E=0;E<this.m.t;++E){var m=32767&y.data[E],A=m*this.mpl+((m*this.mph+(y.data[E]>>15)*this.mpl&this.um)<<15)&y.DM;for(m=E+this.m.t,y.data[m]+=this.m.am(0,A,y,E,0,this.m.t);y.data[m]>=y.DV;)y.data[m]-=y.DV,y.data[++m]++}y.clamp(),y.drShiftTo(this.m.t,y),y.compareTo(this.m)>=0&&y.subTo(this.m,y)},h.prototype.mulTo=function(y,E,m){y.multiplyTo(E,m),this.reduce(m)},h.prototype.sqrTo=function(y,E){y.squareTo(E),this.reduce(E)},o.prototype.copyTo=function(y){for(var E=this.t-1;E>=0;--E)y.data[E]=this.data[E];y.t=this.t,y.s=this.s},o.prototype.fromInt=function(y){this.t=1,this.s=y<0?-1:0,y>0?this.data[0]=y:y<-1?this.data[0]=y+this.DV:this.t=0},o.prototype.fromString=function(y,E){var m;if(E==16)m=4;else if(E==8)m=3;else if(E==256)m=8;else if(E==2)m=1;else if(E==32)m=5;else{if(E!=4)return void this.fromRadix(y,E);m=2}this.t=0,this.s=0;for(var A=y.length,B=!1,O=0;--A>=0;){var V=m==8?255&y[A]:c(y,A);V<0?y.charAt(A)=="-"&&(B=!0):(B=!1,O==0?this.data[this.t++]=V:O+m>this.DB?(this.data[this.t-1]|=(V&(1<<this.DB-O)-1)<<O,this.data[this.t++]=V>>this.DB-O):this.data[this.t-1]|=V<<O,(O+=m)>=this.DB&&(O-=this.DB))}m==8&&(128&y[0])!=0&&(this.s=-1,O>0&&(this.data[this.t-1]|=(1<<this.DB-O)-1<<O)),this.clamp(),B&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var y=this.s&this.DM;this.t>0&&this.data[this.t-1]==y;)--this.t},o.prototype.dlShiftTo=function(y,E){var m;for(m=this.t-1;m>=0;--m)E.data[m+y]=this.data[m];for(m=y-1;m>=0;--m)E.data[m]=0;E.t=this.t+y,E.s=this.s},o.prototype.drShiftTo=function(y,E){for(var m=y;m<this.t;++m)E.data[m-y]=this.data[m];E.t=Math.max(this.t-y,0),E.s=this.s},o.prototype.lShiftTo=function(y,E){var m,A=y%this.DB,B=this.DB-A,O=(1<<B)-1,V=Math.floor(y/this.DB),j=this.s<<A&this.DM;for(m=this.t-1;m>=0;--m)E.data[m+V+1]=this.data[m]>>B|j,j=(this.data[m]&O)<<A;for(m=V-1;m>=0;--m)E.data[m]=0;E.data[V]=j,E.t=this.t+V+1,E.s=this.s,E.clamp()},o.prototype.rShiftTo=function(y,E){E.s=this.s;var m=Math.floor(y/this.DB);if(m>=this.t)E.t=0;else{var A=y%this.DB,B=this.DB-A,O=(1<<A)-1;E.data[0]=this.data[m]>>A;for(var V=m+1;V<this.t;++V)E.data[V-m-1]|=(this.data[V]&O)<<B,E.data[V-m]=this.data[V]>>A;A>0&&(E.data[this.t-m-1]|=(this.s&O)<<B),E.t=this.t-m,E.clamp()}},o.prototype.subTo=function(y,E){for(var m=0,A=0,B=Math.min(y.t,this.t);m<B;)A+=this.data[m]-y.data[m],E.data[m++]=A&this.DM,A>>=this.DB;if(y.t<this.t){for(A-=y.s;m<this.t;)A+=this.data[m],E.data[m++]=A&this.DM,A>>=this.DB;A+=this.s}else{for(A+=this.s;m<y.t;)A-=y.data[m],E.data[m++]=A&this.DM,A>>=this.DB;A-=y.s}E.s=A<0?-1:0,A<-1?E.data[m++]=this.DV+A:A>0&&(E.data[m++]=A),E.t=m,E.clamp()},o.prototype.multiplyTo=function(y,E){var m=this.abs(),A=y.abs(),B=m.t;for(E.t=B+A.t;--B>=0;)E.data[B]=0;for(B=0;B<A.t;++B)E.data[B+m.t]=m.am(0,A.data[B],E,B,0,m.t);E.s=0,E.clamp(),this.s!=y.s&&o.ZERO.subTo(E,E)},o.prototype.squareTo=function(y){for(var E=this.abs(),m=y.t=2*E.t;--m>=0;)y.data[m]=0;for(m=0;m<E.t-1;++m){var A=E.am(m,E.data[m],y,2*m,0,1);(y.data[m+E.t]+=E.am(m+1,2*E.data[m],y,2*m+1,A,E.t-m-1))>=E.DV&&(y.data[m+E.t]-=E.DV,y.data[m+E.t+1]=1)}y.t>0&&(y.data[y.t-1]+=E.am(m,E.data[m],y,2*m,0,1)),y.s=0,y.clamp()},o.prototype.divRemTo=function(y,E,m){var A=y.abs();if(!(A.t<=0)){var B=this.abs();if(B.t<A.t)return E!=null&&E.fromInt(0),void(m!=null&&this.copyTo(m));m==null&&(m=s());var O=s(),V=this.s,j=y.s,$=this.DB-d(A.data[A.t-1]);$>0?(A.lShiftTo($,O),B.lShiftTo($,m)):(A.copyTo(O),B.copyTo(m));var H=O.t,G=O.data[H-1];if(G!=0){var R=G*(1<<this.F1)+(H>1?O.data[H-2]>>this.F2:0),q=this.FV/R,K=(1<<this.F1)/R,z=1<<this.F2,D=m.t,C=D-H,P=E??s();for(O.dlShiftTo(C,P),m.compareTo(P)>=0&&(m.data[m.t++]=1,m.subTo(P,m)),o.ONE.dlShiftTo(H,P),P.subTo(O,O);O.t<H;)O.data[O.t++]=0;for(;--C>=0;){var U=m.data[--D]==G?this.DM:Math.floor(m.data[D]*q+(m.data[D-1]+z)*K);if((m.data[D]+=O.am(0,U,m,C,0,H))<U)for(O.dlShiftTo(C,P),m.subTo(P,m);m.data[D]<--U;)m.subTo(P,m)}E!=null&&(m.drShiftTo(H,E),V!=j&&o.ZERO.subTo(E,E)),m.t=H,m.clamp(),$>0&&m.rShiftTo($,m),V<0&&o.ZERO.subTo(m,m)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var y=this.data[0];if((1&y)==0)return 0;var E=3&y;return(E=(E=(E=(E=E*(2-(15&y)*E)&15)*(2-(255&y)*E)&255)*(2-((65535&y)*E&65535))&65535)*(2-y*E%this.DV)%this.DV)>0?this.DV-E:-E},o.prototype.isEven=function(){return(this.t>0?1&this.data[0]:this.s)==0},o.prototype.exp=function(y,E){if(y>4294967295||y<1)return o.ONE;var m=s(),A=s(),B=E.convert(this),O=d(y)-1;for(B.copyTo(m);--O>=0;)if(E.sqrTo(m,A),(y&1<<O)>0)E.mulTo(A,B,m);else{var V=m;m=A,A=V}return E.revert(m)},o.prototype.toString=function(y){if(this.s<0)return"-"+this.negate().toString(y);var E;if(y==16)E=4;else if(y==8)E=3;else if(y==2)E=1;else if(y==32)E=5;else{if(y!=4)return this.toRadix(y);E=2}var m,A=(1<<E)-1,B=!1,O="",V=this.t,j=this.DB-V*this.DB%E;if(V-- >0)for(j<this.DB&&(m=this.data[V]>>j)>0&&(B=!0,O=e(m));V>=0;)j<E?(m=(this.data[V]&(1<<j)-1)<<E-j,m|=this.data[--V]>>(j+=this.DB-E)):(m=this.data[V]>>(j-=E)&A,j<=0&&(j+=this.DB,--V)),m>0&&(B=!0),B&&(O+=e(m));return B?O:"0"},o.prototype.negate=function(){var y=s();return o.ZERO.subTo(this,y),y},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(y){var E=this.s-y.s;if(E!=0)return E;var m=this.t;if((E=m-y.t)!=0)return this.s<0?-E:E;for(;--m>=0;)if((E=this.data[m]-y.data[m])!=0)return E;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(y){var E=s();return this.abs().divRemTo(y,null,E),this.s<0&&E.compareTo(o.ZERO)>0&&y.subTo(E,E),E},o.prototype.modPowInt=function(y,E){var m;return m=y<256||E.isEven()?new p(E):new h(E),this.exp(y,m)},o.ZERO=f(0),o.ONE=f(1),_.prototype.convert=x,_.prototype.revert=x,_.prototype.mulTo=function(y,E,m){y.multiplyTo(E,m)},_.prototype.sqrTo=function(y,E){y.squareTo(E)},T.prototype.convert=function(y){if(y.s<0||y.t>2*this.m.t)return y.mod(this.m);if(y.compareTo(this.m)<0)return y;var E=s();return y.copyTo(E),this.reduce(E),E},T.prototype.revert=function(y){return y},T.prototype.reduce=function(y){for(y.drShiftTo(this.m.t-1,this.r2),y.t>this.m.t+1&&(y.t=this.m.t+1,y.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);y.compareTo(this.r2)<0;)y.dAddOffset(1,this.m.t+1);for(y.subTo(this.r2,y);y.compareTo(this.m)>=0;)y.subTo(this.m,y)},T.prototype.mulTo=function(y,E,m){y.multiplyTo(E,m),this.reduce(m)},T.prototype.sqrTo=function(y,E){y.squareTo(E),this.reduce(E)};var N=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],v=(1<<26)/N[N.length-1];o.prototype.chunkSize=function(y){return Math.floor(Math.LN2*this.DB/Math.log(y))},o.prototype.toRadix=function(y){if(y==null&&(y=10),this.signum()==0||y<2||y>36)return"0";var E=this.chunkSize(y),m=Math.pow(y,E),A=f(m),B=s(),O=s(),V="";for(this.divRemTo(A,B,O);B.signum()>0;)V=(m+O.intValue()).toString(y).substr(1)+V,B.divRemTo(A,B,O);return O.intValue().toString(y)+V},o.prototype.fromRadix=function(y,E){this.fromInt(0),E==null&&(E=10);for(var m=this.chunkSize(E),A=Math.pow(E,m),B=!1,O=0,V=0,j=0;j<y.length;++j){var $=c(y,j);$<0?y.charAt(j)=="-"&&this.signum()==0&&(B=!0):(V=E*V+$,++O>=m&&(this.dMultiply(A),this.dAddOffset(V,0),O=0,V=0))}O>0&&(this.dMultiply(Math.pow(E,O)),this.dAddOffset(V,0)),B&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(y,E,m){if(typeof E=="number")if(y<2)this.fromInt(1);else for(this.fromNumber(y,m),this.testBit(y-1)||this.bitwiseTo(o.ONE.shiftLeft(y-1),S,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(E);)this.dAddOffset(2,0),this.bitLength()>y&&this.subTo(o.ONE.shiftLeft(y-1),this);else{var A=new Array,B=7&y;A.length=1+(y>>3),E.nextBytes(A),B>0?A[0]&=(1<<B)-1:A[0]=0,this.fromString(A,256)}},o.prototype.bitwiseTo=function(y,E,m){var A,B,O=Math.min(y.t,this.t);for(A=0;A<O;++A)m.data[A]=E(this.data[A],y.data[A]);if(y.t<this.t){for(B=y.s&this.DM,A=O;A<this.t;++A)m.data[A]=E(this.data[A],B);m.t=this.t}else{for(B=this.s&this.DM,A=O;A<y.t;++A)m.data[A]=E(B,y.data[A]);m.t=y.t}m.s=E(this.s,y.s),m.clamp()},o.prototype.changeBit=function(y,E){var m=o.ONE.shiftLeft(y);return this.bitwiseTo(m,E,m),m},o.prototype.addTo=function(y,E){for(var m=0,A=0,B=Math.min(y.t,this.t);m<B;)A+=this.data[m]+y.data[m],E.data[m++]=A&this.DM,A>>=this.DB;if(y.t<this.t){for(A+=y.s;m<this.t;)A+=this.data[m],E.data[m++]=A&this.DM,A>>=this.DB;A+=this.s}else{for(A+=this.s;m<y.t;)A+=y.data[m],E.data[m++]=A&this.DM,A>>=this.DB;A+=y.s}E.s=A<0?-1:0,A>0?E.data[m++]=A:A<-1&&(E.data[m++]=this.DV+A),E.t=m,E.clamp()},o.prototype.dMultiply=function(y){this.data[this.t]=this.am(0,y-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(y,E){if(y!=0){for(;this.t<=E;)this.data[this.t++]=0;for(this.data[E]+=y;this.data[E]>=this.DV;)this.data[E]-=this.DV,++E>=this.t&&(this.data[this.t++]=0),++this.data[E]}},o.prototype.multiplyLowerTo=function(y,E,m){var A,B=Math.min(this.t+y.t,E);for(m.s=0,m.t=B;B>0;)m.data[--B]=0;for(A=m.t-this.t;B<A;++B)m.data[B+this.t]=this.am(0,y.data[B],m,B,0,this.t);for(A=Math.min(y.t,E);B<A;++B)this.am(0,y.data[B],m,B,0,E-B);m.clamp()},o.prototype.multiplyUpperTo=function(y,E,m){--E;var A=m.t=this.t+y.t-E;for(m.s=0;--A>=0;)m.data[A]=0;for(A=Math.max(E-this.t,0);A<y.t;++A)m.data[this.t+A-E]=this.am(E-A,y.data[A],m,0,0,this.t+A-E);m.clamp(),m.drShiftTo(1,m)},o.prototype.modInt=function(y){if(y<=0)return 0;var E=this.DV%y,m=this.s<0?y-1:0;if(this.t>0)if(E==0)m=this.data[0]%y;else for(var A=this.t-1;A>=0;--A)m=(E*m+this.data[A])%y;return m},o.prototype.millerRabin=function(y){var E=this.subtract(o.ONE),m=E.getLowestSetBit();if(m<=0)return!1;for(var A,B=E.shiftRight(m),O={nextBytes:function(H){for(var G=0;G<H.length;++G)H[G]=Math.floor(256*Math.random())}},V=0;V<y;++V){do A=new o(this.bitLength(),O);while(A.compareTo(o.ONE)<=0||A.compareTo(E)>=0);var j=A.modPow(B,this);if(j.compareTo(o.ONE)!=0&&j.compareTo(E)!=0){for(var $=1;$++<m&&j.compareTo(E)!=0;)if((j=j.modPowInt(2,this)).compareTo(o.ONE)==0)return!1;if(j.compareTo(E)!=0)return!1}}return!0},o.prototype.clone=function(){var y=s();return this.copyTo(y),y},o.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return this.t==0?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return this.t==0?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var y=this.t,E=new Array;E[0]=this.s;var m,A=this.DB-y*this.DB%8,B=0;if(y-- >0)for(A<this.DB&&(m=this.data[y]>>A)!=(this.s&this.DM)>>A&&(E[B++]=m|this.s<<this.DB-A);y>=0;)A<8?(m=(this.data[y]&(1<<A)-1)<<8-A,m|=this.data[--y]>>(A+=this.DB-8)):(m=this.data[y]>>(A-=8)&255,A<=0&&(A+=this.DB,--y)),(128&m)!=0&&(m|=-256),B==0&&(128&this.s)!=(128&m)&&++B,(B>0||m!=this.s)&&(E[B++]=m);return E},o.prototype.equals=function(y){return this.compareTo(y)==0},o.prototype.min=function(y){return this.compareTo(y)<0?this:y},o.prototype.max=function(y){return this.compareTo(y)>0?this:y},o.prototype.and=function(y){var E=s();return this.bitwiseTo(y,b,E),E},o.prototype.or=function(y){var E=s();return this.bitwiseTo(y,S,E),E},o.prototype.xor=function(y){var E=s();return this.bitwiseTo(y,I,E),E},o.prototype.andNot=function(y){var E=s();return this.bitwiseTo(y,k,E),E},o.prototype.not=function(){for(var y=s(),E=0;E<this.t;++E)y.data[E]=this.DM&~this.data[E];return y.t=this.t,y.s=~this.s,y},o.prototype.shiftLeft=function(y){var E=s();return y<0?this.rShiftTo(-y,E):this.lShiftTo(y,E),E},o.prototype.shiftRight=function(y){var E=s();return y<0?this.lShiftTo(-y,E):this.rShiftTo(y,E),E},o.prototype.getLowestSetBit=function(){for(var y=0;y<this.t;++y)if(this.data[y]!=0)return y*this.DB+u(this.data[y]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var y=0,E=this.s&this.DM,m=0;m<this.t;++m)y+=w(this.data[m]^E);return y},o.prototype.testBit=function(y){var E=Math.floor(y/this.DB);return E>=this.t?this.s!=0:(this.data[E]&1<<y%this.DB)!=0},o.prototype.setBit=function(y){return this.changeBit(y,S)},o.prototype.clearBit=function(y){return this.changeBit(y,k)},o.prototype.flipBit=function(y){return this.changeBit(y,I)},o.prototype.add=function(y){var E=s();return this.addTo(y,E),E},o.prototype.subtract=function(y){var E=s();return this.subTo(y,E),E},o.prototype.multiply=function(y){var E=s();return this.multiplyTo(y,E),E},o.prototype.divide=function(y){var E=s();return this.divRemTo(y,E,null),E},o.prototype.remainder=function(y){var E=s();return this.divRemTo(y,null,E),E},o.prototype.divideAndRemainder=function(y){var E=s(),m=s();return this.divRemTo(y,E,m),new Array(E,m)},o.prototype.modPow=function(y,E){var m,A,B=y.bitLength(),O=f(1);if(B<=0)return O;m=B<18?1:B<48?3:B<144?4:B<768?5:6,A=B<8?new p(E):E.isEven()?new T(E):new h(E);var V=new Array,j=3,$=m-1,H=(1<<m)-1;if(V[1]=A.convert(this),m>1){var G=s();for(A.sqrTo(V[1],G);j<=H;)V[j]=s(),A.mulTo(G,V[j-2],V[j]),j+=2}var R,q,K=y.t-1,z=!0,D=s();for(B=d(y.data[K])-1;K>=0;){for(B>=$?R=y.data[K]>>B-$&H:(R=(y.data[K]&(1<<B+1)-1)<<$-B,K>0&&(R|=y.data[K-1]>>this.DB+B-$)),j=m;(1&R)==0;)R>>=1,--j;if((B-=j)<0&&(B+=this.DB,--K),z)V[R].copyTo(O),z=!1;else{for(;j>1;)A.sqrTo(O,D),A.sqrTo(D,O),j-=2;j>0?A.sqrTo(O,D):(q=O,O=D,D=q),A.mulTo(D,V[R],O)}for(;K>=0&&(y.data[K]&1<<B)==0;)A.sqrTo(O,D),q=O,O=D,D=q,--B<0&&(B=this.DB-1,--K)}return A.revert(O)},o.prototype.modInverse=function(y){var E=y.isEven();if(this.isEven()&&E||y.signum()==0)return o.ZERO;for(var m=y.clone(),A=this.clone(),B=f(1),O=f(0),V=f(0),j=f(1);m.signum()!=0;){for(;m.isEven();)m.rShiftTo(1,m),E?(B.isEven()&&O.isEven()||(B.addTo(this,B),O.subTo(y,O)),B.rShiftTo(1,B)):O.isEven()||O.subTo(y,O),O.rShiftTo(1,O);for(;A.isEven();)A.rShiftTo(1,A),E?(V.isEven()&&j.isEven()||(V.addTo(this,V),j.subTo(y,j)),V.rShiftTo(1,V)):j.isEven()||j.subTo(y,j),j.rShiftTo(1,j);m.compareTo(A)>=0?(m.subTo(A,m),E&&B.subTo(V,B),O.subTo(j,O)):(A.subTo(m,A),E&&V.subTo(B,V),j.subTo(O,j))}return A.compareTo(o.ONE)!=0?o.ZERO:j.compareTo(y)>=0?j.subtract(y):j.signum()<0?(j.addTo(y,j),j.signum()<0?j.add(y):j):j},o.prototype.pow=function(y){return this.exp(y,new _)},o.prototype.gcd=function(y){var E=this.s<0?this.negate():this.clone(),m=y.s<0?y.negate():y.clone();if(E.compareTo(m)<0){var A=E;E=m,m=A}var B=E.getLowestSetBit(),O=m.getLowestSetBit();if(O<0)return E;for(B<O&&(O=B),O>0&&(E.rShiftTo(O,E),m.rShiftTo(O,m));E.signum()>0;)(B=E.getLowestSetBit())>0&&E.rShiftTo(B,E),(B=m.getLowestSetBit())>0&&m.rShiftTo(B,m),E.compareTo(m)>=0?(E.subTo(m,E),E.rShiftTo(1,E)):(m.subTo(E,m),m.rShiftTo(1,m));return O>0&&m.lShiftTo(O,m),m},o.prototype.isProbablePrime=function(y){var E,m=this.abs();if(m.t==1&&m.data[0]<=N[N.length-1]){for(E=0;E<N.length;++E)if(m.data[0]==N[E])return!0;return!1}if(m.isEven())return!1;for(E=1;E<N.length;){for(var A=N[E],B=E+1;B<N.length&&A<v;)A*=N[B++];for(A=m.modInt(A);E<B;)if(A%N[E++]==0)return!1}return m.millerRabin(y)}},function(L,M,g){M.get=(a=self)=>{const l=a.crypto||a.msCrypto;if(!l||!l.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return l}},function(L,M,g){var a=g(12),l=g(9),o=l.getNAF,s=l.getJSF,r=l.assert;function t(i,e){this.type=i,this.p=new a(e.p,16),this.red=e.prime?a.red(e.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=e.n&&new a(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function n(i,e){this.curve=i,this.type=e,this.precomputed=null}L.exports=t,t.prototype.point=function(){throw new Error("Not implemented")},t.prototype.validate=function(){throw new Error("Not implemented")},t.prototype._fixedNafMul=function(i,e){r(i.precomputed);var c=i._getDoubles(),f=o(e,1,this._bitLength),d=(1<<c.step+1)-(c.step%2==0?2:1);d/=3;for(var p=[],h=0;h<f.length;h+=c.step){var b=0;for(e=h+c.step-1;e>=h;e--)b=(b<<1)+f[e];p.push(b)}for(var S=this.jpoint(null,null,null),I=this.jpoint(null,null,null),k=d;k>0;k--){for(h=0;h<p.length;h++)(b=p[h])===k?I=I.mixedAdd(c.points[h]):b===-k&&(I=I.mixedAdd(c.points[h].neg()));S=S.add(I)}return S.toP()},t.prototype._wnafMul=function(i,e){var c=4,f=i._getNAFPoints(c);c=f.wnd;for(var d=f.points,p=o(e,c,this._bitLength),h=this.jpoint(null,null,null),b=p.length-1;b>=0;b--){for(e=0;b>=0&&p[b]===0;b--)e++;if(b>=0&&e++,h=h.dblp(e),b<0)break;var S=p[b];r(S!==0),h=i.type==="affine"?S>0?h.mixedAdd(d[S-1>>1]):h.mixedAdd(d[-S-1>>1].neg()):S>0?h.add(d[S-1>>1]):h.add(d[-S-1>>1].neg())}return i.type==="affine"?h.toP():h},t.prototype._wnafMulAdd=function(i,e,c,f,d){for(var p=this._wnafT1,h=this._wnafT2,b=this._wnafT3,S=0,I=0;I<f;I++){var k=(O=e[I])._getNAFPoints(i);p[I]=k.wnd,h[I]=k.points}for(I=f-1;I>=1;I-=2){var u=I-1,w=I;if(p[u]===1&&p[w]===1){var _=[e[u],null,null,e[w]];e[u].y.cmp(e[w].y)===0?(_[1]=e[u].add(e[w]),_[2]=e[u].toJ().mixedAdd(e[w].neg())):e[u].y.cmp(e[w].y.redNeg())===0?(_[1]=e[u].toJ().mixedAdd(e[w]),_[2]=e[u].add(e[w].neg())):(_[1]=e[u].toJ().mixedAdd(e[w]),_[2]=e[u].toJ().mixedAdd(e[w].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],T=s(c[u],c[w]);S=Math.max(T[0].length,S),b[u]=new Array(S),b[w]=new Array(S);for(var N=0;N<S;N++){var v=0|T[0][N],y=0|T[1][N];b[u][N]=x[3*(v+1)+(y+1)],b[w][N]=0,h[u]=_}}else b[u]=o(c[u],p[u],this._bitLength),b[w]=o(c[w],p[w],this._bitLength),S=Math.max(b[u].length,S),S=Math.max(b[w].length,S)}var E=this.jpoint(null,null,null),m=this._wnafT4;for(I=S;I>=0;I--){for(var A=0;I>=0;){var B=!0;for(N=0;N<f;N++)m[N]=0|b[N][I],m[N]!==0&&(B=!1);if(!B)break;A++,I--}if(I>=0&&A++,E=E.dblp(A),I<0)break;for(N=0;N<f;N++){var O,V=m[N];V!==0&&(V>0?O=h[N][V-1>>1]:V<0&&(O=h[N][-V-1>>1].neg()),E=O.type==="affine"?E.mixedAdd(O):E.add(O))}}for(I=0;I<f;I++)h[I]=null;return d?E:E.toP()},t.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(i,e){i=l.toArray(i,e);var c=this.p.byteLength();if((i[0]===4||i[0]===6||i[0]===7)&&i.length-1==2*c)return i[0]===6?r(i[i.length-1]%2==0):i[0]===7&&r(i[i.length-1]%2==1),this.point(i.slice(1,1+c),i.slice(1+c,1+2*c));if((i[0]===2||i[0]===3)&&i.length-1===c)return this.pointFromX(i.slice(1,1+c),i[0]===3);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(i){return this.encode(i,!0)},n.prototype._encode=function(i){var e=this.curve.p.byteLength(),c=this.getX().toArray("be",e);return i?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",e))},n.prototype.encode=function(i,e){return l.encode(this._encode(e),i)},n.prototype.precompute=function(i){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,i),e.beta=this._getBeta(),this.precomputed=e,this},n.prototype._hasDoubles=function(i){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((i.bitLength()+1)/e.step)},n.prototype._getDoubles=function(i,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],f=this,d=0;d<e;d+=i){for(var p=0;p<i;p++)f=f.dbl();c.push(f)}return{step:i,points:c}},n.prototype._getNAFPoints=function(i){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],c=(1<<i)-1,f=c===1?null:this.dbl(),d=1;d<c;d++)e[d]=e[d-1].add(f);return{wnd:i,points:e}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(i){for(var e=this,c=0;c<i;c++)e=e.dbl();return e}},function(L,M,g){typeof Object.create=="function"?L.exports=function(a,l){l&&(a.super_=l,a.prototype=Object.create(l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:L.exports=function(a,l){if(l){a.super_=l;var o=function(){};o.prototype=l.prototype,a.prototype=new o,a.prototype.constructor=a}}},function(L,M,g){var a,l=typeof Reflect=="object"?Reflect:null,o=l&&typeof l.apply=="function"?l.apply:function(b,S,I){return Function.prototype.apply.call(b,S,I)};a=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var s=Number.isNaN||function(b){return b!=b};function r(){r.init.call(this)}L.exports=r,L.exports.once=function(b,S){return new Promise(function(I,k){function u(){w!==void 0&&b.removeListener("error",w),I([].slice.call(arguments))}var w;S!=="error"&&(w=function(_){b.removeListener(S,u),k(_)},b.once("error",w)),b.once(S,u)})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var t=10;function n(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function i(b){return b._maxListeners===void 0?r.defaultMaxListeners:b._maxListeners}function e(b,S,I,k){var u,w,_,x;if(n(I),(w=b._events)===void 0?(w=b._events=Object.create(null),b._eventsCount=0):(w.newListener!==void 0&&(b.emit("newListener",S,I.listener?I.listener:I),w=b._events),_=w[S]),_===void 0)_=w[S]=I,++b._eventsCount;else if(typeof _=="function"?_=w[S]=k?[I,_]:[_,I]:k?_.unshift(I):_.push(I),(u=i(b))>0&&_.length>u&&!_.warned){_.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=b,T.type=S,T.count=_.length,x=T,console&&console.warn&&console.warn(x)}return b}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(b,S,I){var k={fired:!1,wrapFn:void 0,target:b,type:S,listener:I},u=c.bind(k);return u.listener=I,k.wrapFn=u,u}function d(b,S,I){var k=b._events;if(k===void 0)return[];var u=k[S];return u===void 0?[]:typeof u=="function"?I?[u.listener||u]:[u]:I?function(w){for(var _=new Array(w.length),x=0;x<_.length;++x)_[x]=w[x].listener||w[x];return _}(u):h(u,u.length)}function p(b){var S=this._events;if(S!==void 0){var I=S[b];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}function h(b,S){for(var I=new Array(S),k=0;k<S;++k)I[k]=b[k];return I}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");t=b}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},r.prototype.getMaxListeners=function(){return i(this)},r.prototype.emit=function(b){for(var S=[],I=1;I<arguments.length;I++)S.push(arguments[I]);var k=b==="error",u=this._events;if(u!==void 0)k=k&&u.error===void 0;else if(!k)return!1;if(k){var w;if(S.length>0&&(w=S[0]),w instanceof Error)throw w;var _=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw _.context=w,_}var x=u[b];if(x===void 0)return!1;if(typeof x=="function")o(x,this,S);else{var T=x.length,N=h(x,T);for(I=0;I<T;++I)o(N[I],this,S)}return!0},r.prototype.addListener=function(b,S){return e(this,b,S,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(b,S){return e(this,b,S,!0)},r.prototype.once=function(b,S){return n(S),this.on(b,f(this,b,S)),this},r.prototype.prependOnceListener=function(b,S){return n(S),this.prependListener(b,f(this,b,S)),this},r.prototype.removeListener=function(b,S){var I,k,u,w,_;if(n(S),(k=this._events)===void 0)return this;if((I=k[b])===void 0)return this;if(I===S||I.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete k[b],k.removeListener&&this.emit("removeListener",b,I.listener||S));else if(typeof I!="function"){for(u=-1,w=I.length-1;w>=0;w--)if(I[w]===S||I[w].listener===S){_=I[w].listener,u=w;break}if(u<0)return this;u===0?I.shift():function(x,T){for(;T+1<x.length;T++)x[T]=x[T+1];x.pop()}(I,u),I.length===1&&(k[b]=I[0]),k.removeListener!==void 0&&this.emit("removeListener",b,_||S)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(b){var S,I,k;if((I=this._events)===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[b]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete I[b]),this;if(arguments.length===0){var u,w=Object.keys(I);for(k=0;k<w.length;++k)(u=w[k])!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=I[b])=="function")this.removeListener(b,S);else if(S!==void 0)for(k=S.length-1;k>=0;k--)this.removeListener(b,S[k]);return this},r.prototype.listeners=function(b){return d(this,b,!0)},r.prototype.rawListeners=function(b){return d(this,b,!1)},r.listenerCount=function(b,S){return typeof b.listenerCount=="function"?b.listenerCount(S):p.call(b,S)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},function(L,M,g){const{TextEncoder:a,TextDecoder:l}=g(24),o=new l,s=new a;L.exports={decodeText:r=>o.decode(r),encodeText:r=>s.encode(r),concat:function(r,t){const n=new Uint8Array(t);let i=0;for(const e of r)n.set(e,i),i+=e.length;return n}}},function(L,M,g){M.defined=function(a){return a!=null&&(typeof a!="number"||!isNaN(a))}},function(L,M,g){const a=g(60),l=g(144),o=g(44),s=g(65),r=g(64);M.Key=a,M.MemoryDatastore=l,M.utils=o,M.Errors=s,M.Adapter=r},function(L,M,g){const a=g(142),l=g(143),o=g(63);M.utf8Encoder=new l("utf8"),M.utf8Decoder=new o("utf8"),M.filter=(s,r)=>async function*(){for await(const t of s)await r(t)&&(yield t)}(),M.sortAll=(s,r)=>async function*(){let t=[];for await(const n of s)t.push(n);t=await r(t);for(const n of t)yield n}(),M.take=(s,r)=>async function*(){if(r<=0)return;let t=0;for await(const n of s)if(yield n,t++,t>=r)return}(),M.map=(s,r)=>async function*(){for await(const t of s)yield r(t)}(),M.replaceStartWith=function(s,r){const t=new RegExp("^"+r);return s.replace(t,"")},M.tmpdir=a},function(L,M,g){function a(l,o){if(l.length!==o.length)throw new Error("Inputs should have the same length");for(var s=Buffer.allocUnsafe(l.length),r=0;r<l.length;r++)s[r]=l[r]^o[r];return s}L.exports=a,a.compare=function(l,o){if(l.length!==o.length)throw new Error("Inputs should have the same length");for(var s=0;s<l.length;s++)if(l[s]!==o[s])return l[s]<o[s]?-1:1;return 0},a.gt=function(l,o){return a.compare(l,o)===1},a.lt=function(l,o){return a.compare(l,o)===-1},a.eq=function(l,o){return a.compare(l,o)===0}},function(L,M,g){const a=g(156);L.exports=async(l,o,{concurrency:s=1/0,stopOnError:r=!0}={})=>new Promise((t,n)=>{if(typeof o!="function")throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(s)&&s!==1/0||!(s>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${s}\` (${typeof s})`);const i=[],e=[],c=l[Symbol.iterator]();let f=!1,d=!1,p=0,h=0;const b=()=>{if(f)return;const S=c.next(),I=h;if(h++,S.done)return d=!0,void(p===0&&(r||e.length===0?t(i):n(new a(e))));p++,(async()=>{try{const k=await S.value;i[I]=await o(k,I),p--,b()}catch(k){r?(f=!0,n(k)):(e.push(k),p--,b())}})()};for(let S=0;S<s&&(b(),!d);S++);})},function(L,M,g){L.exports=`enum KeyType {
  RSA = 0;
  Ed25519 = 1;
  Secp256k1 = 2;
}
message PublicKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}
message PrivateKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}`},function(L,M,g){var a=g(0);a.pki=a.pki||{};var l=L.exports=a.pki.oids=a.oids=a.oids||{};function o(r,t){l[r]=t,l[t]=r}function s(r,t){l[r]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.3.101.112","EdDSA25519"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.9","streetAddress"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.5.4.13","description"),o("2.5.4.15","businessCategory"),o("2.5.4.17","postalCode"),o("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),o("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),o("2.16.840.1.113730.1.1","nsCertType"),o("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(L,M,g){var a=g(0);function l(p,h){a.cipher.registerAlgorithm(p,function(){return new a.aes.Algorithm(p,h)})}g(69),g(70),g(2),L.exports=a.aes=a.aes||{},a.aes.startEncrypting=function(p,h,b,S){var I=d({key:p,output:b,decrypt:!1,mode:S});return I.start(h),I},a.aes.createEncryptionCipher=function(p,h){return d({key:p,output:null,decrypt:!1,mode:h})},a.aes.startDecrypting=function(p,h,b,S){var I=d({key:p,output:b,decrypt:!0,mode:S});return I.start(h),I},a.aes.createDecryptionCipher=function(p,h){return d({key:p,output:null,decrypt:!0,mode:h})},a.aes.Algorithm=function(p,h){i||e();var b=this;b.name=p,b.mode=new h({blockSize:16,cipher:{encrypt:function(S,I){return f(b._w,S,I,!1)},decrypt:function(S,I){return f(b._w,S,I,!0)}}}),b._init=!1},a.aes.Algorithm.prototype.initialize=function(p){if(!this._init){var h,b=p.key;if(typeof b!="string"||b.length!==16&&b.length!==24&&b.length!==32){if(a.util.isArray(b)&&(b.length===16||b.length===24||b.length===32)){h=b,b=a.util.createBuffer();for(var S=0;S<h.length;++S)b.putByte(h[S])}}else b=a.util.createBuffer(b);if(!a.util.isArray(b)){h=b,b=[];var I=h.length();if(I===16||I===24||I===32)for(I>>>=2,S=0;S<I;++S)b.push(h.getInt32())}if(!a.util.isArray(b)||b.length!==4&&b.length!==6&&b.length!==8)throw new Error("Invalid key parameter.");var k=this.mode.name,u=["CFB","OFB","CTR","GCM"].indexOf(k)!==-1;this._w=c(b,p.decrypt&&!u),this._init=!0}},a.aes._expandKey=function(p,h){return i||e(),c(p,h)},a.aes._updateBlock=f,l("AES-ECB",a.cipher.modes.ecb),l("AES-CBC",a.cipher.modes.cbc),l("AES-CFB",a.cipher.modes.cfb),l("AES-OFB",a.cipher.modes.ofb),l("AES-CTR",a.cipher.modes.ctr),l("AES-GCM",a.cipher.modes.gcm);var o,s,r,t,n,i=!1;function e(){i=!0,r=[0,1,2,4,8,16,32,64,128,27,54];for(var p=new Array(256),h=0;h<128;++h)p[h]=h<<1,p[h+128]=h+128<<1^283;for(o=new Array(256),s=new Array(256),t=new Array(4),n=new Array(4),h=0;h<4;++h)t[h]=new Array(256),n[h]=new Array(256);var b,S,I,k,u,w,_,x=0,T=0;for(h=0;h<256;++h){k=(k=T^T<<1^T<<2^T<<3^T<<4)>>8^255&k^99,o[x]=k,s[k]=x,w=(u=p[k])<<24^k<<16^k<<8^k^u,_=((b=p[x])^(S=p[b])^(I=p[S]))<<24^(x^I)<<16^(x^S^I)<<8^x^b^I;for(var N=0;N<4;++N)t[N][x]=w,n[N][k]=_,w=w<<24|w>>>8,_=_<<24|_>>>8;x===0?x=T=1:(x=b^p[p[p[b^I]]],T^=p[p[T]])}}function c(p,h){for(var b,S=p.slice(0),I=1,k=S.length,u=4*(k+6+1),w=k;w<u;++w)b=S[w-1],w%k==0?(b=o[b>>>16&255]<<24^o[b>>>8&255]<<16^o[255&b]<<8^o[b>>>24]^r[I]<<24,I++):k>6&&w%k==4&&(b=o[b>>>24]<<24^o[b>>>16&255]<<16^o[b>>>8&255]<<8^o[255&b]),S[w]=S[w-k]^b;if(h){for(var _,x=n[0],T=n[1],N=n[2],v=n[3],y=S.slice(0),E=(w=0,(u=S.length)-4);w<u;w+=4,E-=4)if(w===0||w===u-4)y[w]=S[E],y[w+1]=S[E+3],y[w+2]=S[E+2],y[w+3]=S[E+1];else for(var m=0;m<4;++m)_=S[E+m],y[w+(3&-m)]=x[o[_>>>24]]^T[o[_>>>16&255]]^N[o[_>>>8&255]]^v[o[255&_]];S=y}return S}function f(p,h,b,S){var I,k,u,w,_,x,T,N,v,y,E,m,A=p.length/4-1;S?(I=n[0],k=n[1],u=n[2],w=n[3],_=s):(I=t[0],k=t[1],u=t[2],w=t[3],_=o),x=h[0]^p[0],T=h[S?3:1]^p[1],N=h[2]^p[2],v=h[S?1:3]^p[3];for(var B=3,O=1;O<A;++O)y=I[x>>>24]^k[T>>>16&255]^u[N>>>8&255]^w[255&v]^p[++B],E=I[T>>>24]^k[N>>>16&255]^u[v>>>8&255]^w[255&x]^p[++B],m=I[N>>>24]^k[v>>>16&255]^u[x>>>8&255]^w[255&T]^p[++B],v=I[v>>>24]^k[x>>>16&255]^u[T>>>8&255]^w[255&N]^p[++B],x=y,T=E,N=m;b[0]=_[x>>>24]<<24^_[T>>>16&255]<<16^_[N>>>8&255]<<8^_[255&v]^p[++B],b[S?3:1]=_[T>>>24]<<24^_[N>>>16&255]<<16^_[v>>>8&255]<<8^_[255&x]^p[++B],b[2]=_[N>>>24]<<24^_[v>>>16&255]<<16^_[x>>>8&255]<<8^_[255&T]^p[++B],b[S?1:3]=_[v>>>24]<<24^_[x>>>16&255]<<16^_[T>>>8&255]<<8^_[255&N]^p[++B]}function d(p){var h,b="AES-"+((p=p||{}).mode||"CBC").toUpperCase(),S=(h=p.decrypt?a.cipher.createDecipher(b,p.key):a.cipher.createCipher(b,p.key)).start;return h.start=function(I,k){var u=null;k instanceof a.util.ByteBuffer&&(u=k,k={}),(k=k||{}).output=u,k.iv=I,S.call(h,k)},h}},function(L,M){},function(L,M,g){var a=g(0);if(g(30),g(36),g(48),g(177),g(179),g(31),g(2),l===void 0)var l=a.jsbn.BigInteger;var o=a.util.isNodejs?g(50):null,s=a.asn1,r=a.util;a.pki=a.pki||{},L.exports=a.pki.rsa=a.rsa=a.rsa||{};var t=a.pki,n=[6,4,2,4,2,4,6,2],i={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},c={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=a.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d=function(T){var N;if(!(T.algorithm in t.oids)){var v=new Error("Unknown message digest algorithm.");throw v.algorithm=T.algorithm,v}N=t.oids[T.algorithm];var y=s.oidToDer(N).getBytes(),E=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),m=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);m.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,y)),m.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var A=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,T.digest().getBytes());return E.value.push(m),E.value.push(A),s.toDer(E).getBytes()},p=function(T,N,v){if(v)return T.modPow(N.e,N.n);if(!N.p||!N.q)return T.modPow(N.d,N.n);var y;N.dP||(N.dP=N.d.mod(N.p.subtract(l.ONE))),N.dQ||(N.dQ=N.d.mod(N.q.subtract(l.ONE))),N.qInv||(N.qInv=N.q.modInverse(N.p));do y=new l(a.util.bytesToHex(a.random.getBytes(N.n.bitLength()/8)),16);while(y.compareTo(N.n)>=0||!y.gcd(N.n).equals(l.ONE));for(var E=(T=T.multiply(y.modPow(N.e,N.n)).mod(N.n)).mod(N.p).modPow(N.dP,N.p),m=T.mod(N.q).modPow(N.dQ,N.q);E.compareTo(m)<0;)E=E.add(N.p);var A=E.subtract(m).multiply(N.qInv).mod(N.p).multiply(N.q).add(m);return A=A.multiply(y.modInverse(N.n)).mod(N.n)};function h(T,N,v){var y=a.util.createBuffer(),E=Math.ceil(N.n.bitLength()/8);if(T.length>E-11){var m=new Error("Message is too long for PKCS#1 v1.5 padding.");throw m.length=T.length,m.max=E-11,m}y.putByte(0),y.putByte(v);var A,B=E-3-T.length;if(v===0||v===1){A=v===0?0:255;for(var O=0;O<B;++O)y.putByte(A)}else for(;B>0;){var V=0,j=a.random.getBytes(B);for(O=0;O<B;++O)(A=j.charCodeAt(O))===0?++V:y.putByte(A);B=V}return y.putByte(0),y.putBytes(T),y}function b(T,N,v,y){var E=Math.ceil(N.n.bitLength()/8),m=a.util.createBuffer(T),A=m.getByte(),B=m.getByte();if(A!==0||v&&B!==0&&B!==1||!v&&B!=2||v&&B===0&&y===void 0)throw new Error("Encryption block is invalid.");var O=0;if(B===0){O=E-3-y;for(var V=0;V<O;++V)if(m.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(B===1)for(O=0;m.length()>1;){if(m.getByte()!==255){--m.read;break}++O}else if(B===2)for(O=0;m.length()>1;){if(m.getByte()===0){--m.read;break}++O}if(m.getByte()!==0||O!==E-3-m.length())throw new Error("Encryption block is invalid.");return m.getBytes()}function S(T,N,v){typeof N=="function"&&(v=N,N={});var y={algorithm:{name:(N=N||{}).algorithm||"PRIMEINC",options:{workers:N.workers||2,workLoad:N.workLoad||100,workerScript:N.workerScript}}};function E(){m(T.pBits,function(B,O){return B?v(B):(T.p=O,T.q!==null?A(B,T.q):void m(T.qBits,A))})}function m(B,O){a.prime.generateProbablePrime(B,y,O)}function A(B,O){if(B)return v(B);if(T.q=O,T.p.compareTo(T.q)<0){var V=T.p;T.p=T.q,T.q=V}if(T.p.subtract(l.ONE).gcd(T.e).compareTo(l.ONE)!==0)return T.p=null,void E();if(T.q.subtract(l.ONE).gcd(T.e).compareTo(l.ONE)!==0)return T.q=null,void m(T.qBits,A);if(T.p1=T.p.subtract(l.ONE),T.q1=T.q.subtract(l.ONE),T.phi=T.p1.multiply(T.q1),T.phi.gcd(T.e).compareTo(l.ONE)!==0)return T.p=T.q=null,void E();if(T.n=T.p.multiply(T.q),T.n.bitLength()!==T.bits)return T.q=null,void m(T.qBits,A);var j=T.e.modInverse(T.phi);T.keys={privateKey:t.rsa.setPrivateKey(T.n,T.e,j,T.p,T.q,j.mod(T.p1),j.mod(T.q1),T.q.modInverse(T.p)),publicKey:t.rsa.setPublicKey(T.n,T.e)},v(null,T.keys)}"prng"in N&&(y.prng=N.prng),E()}function I(T){var N=T.toString(16);N[0]>="8"&&(N="00"+N);var v=a.util.hexToBytes(N);return v.length>1&&(v.charCodeAt(0)===0&&(128&v.charCodeAt(1))==0||v.charCodeAt(0)===255&&(128&v.charCodeAt(1))==128)?v.substr(1):v}function k(T){return T<=100?27:T<=150?18:T<=200?15:T<=250?12:T<=300?9:T<=350?8:T<=400?7:T<=500?6:T<=600?5:T<=800?4:T<=1250?3:2}function u(T){return a.util.isNodejs&&typeof o[T]=="function"}function w(T){return r.globalScope!==void 0&&typeof r.globalScope.crypto=="object"&&typeof r.globalScope.crypto.subtle=="object"&&typeof r.globalScope.crypto.subtle[T]=="function"}function _(T){return r.globalScope!==void 0&&typeof r.globalScope.msCrypto=="object"&&typeof r.globalScope.msCrypto.subtle=="object"&&typeof r.globalScope.msCrypto.subtle[T]=="function"}function x(T){for(var N=a.util.hexToBytes(T.toString(16)),v=new Uint8Array(N.length),y=0;y<N.length;++y)v[y]=N.charCodeAt(y);return v}t.rsa.encrypt=function(T,N,v){var y,E=v,m=Math.ceil(N.n.bitLength()/8);v!==!1&&v!==!0?(E=v===2,y=h(T,N,v)):(y=a.util.createBuffer()).putBytes(T);for(var A=new l(y.toHex(),16),B=p(A,N,E).toString(16),O=a.util.createBuffer(),V=m-Math.ceil(B.length/2);V>0;)O.putByte(0),--V;return O.putBytes(a.util.hexToBytes(B)),O.getBytes()},t.rsa.decrypt=function(T,N,v,y){var E=Math.ceil(N.n.bitLength()/8);if(T.length!==E){var m=new Error("Encrypted message length is invalid.");throw m.length=T.length,m.expected=E,m}var A=new l(a.util.createBuffer(T).toHex(),16);if(A.compareTo(N.n)>=0)throw new Error("Encrypted message is invalid.");for(var B=p(A,N,v).toString(16),O=a.util.createBuffer(),V=E-Math.ceil(B.length/2);V>0;)O.putByte(0),--V;return O.putBytes(a.util.hexToBytes(B)),y!==!1?b(O.getBytes(),N,v):O.getBytes()},t.rsa.createKeyPairGenerationState=function(T,N,v){typeof T=="string"&&(T=parseInt(T,10)),T=T||2048;var y,E=(v=v||{}).prng||a.random,m={nextBytes:function(B){for(var O=E.getBytesSync(B.length),V=0;V<B.length;++V)B[V]=O.charCodeAt(V)}},A=v.algorithm||"PRIMEINC";if(A!=="PRIMEINC")throw new Error("Invalid key generation algorithm: "+A);return(y={algorithm:A,state:0,bits:T,rng:m,eInt:N||65537,e:new l(null),p:null,q:null,qBits:T>>1,pBits:T-(T>>1),pqState:0,num:null,keys:null}).e.fromInt(y.eInt),y},t.rsa.stepKeyPairGenerationState=function(T,N){"algorithm"in T||(T.algorithm="PRIMEINC");var v=new l(null);v.fromInt(30);for(var y,E=0,m=function($,H){return $|H},A=+new Date,B=0;T.keys===null&&(N<=0||B<N);){if(T.state===0){var O=T.p===null?T.pBits:T.qBits,V=O-1;T.pqState===0?(T.num=new l(O,T.rng),T.num.testBit(V)||T.num.bitwiseTo(l.ONE.shiftLeft(V),m,T.num),T.num.dAddOffset(31-T.num.mod(v).byteValue(),0),E=0,++T.pqState):T.pqState===1?T.num.bitLength()>O?T.pqState=0:T.num.isProbablePrime(k(T.num.bitLength()))?++T.pqState:T.num.dAddOffset(n[E++%8],0):T.pqState===2?T.pqState=T.num.subtract(l.ONE).gcd(T.e).compareTo(l.ONE)===0?3:0:T.pqState===3&&(T.pqState=0,T.p===null?T.p=T.num:T.q=T.num,T.p!==null&&T.q!==null&&++T.state,T.num=null)}else if(T.state===1)T.p.compareTo(T.q)<0&&(T.num=T.p,T.p=T.q,T.q=T.num),++T.state;else if(T.state===2)T.p1=T.p.subtract(l.ONE),T.q1=T.q.subtract(l.ONE),T.phi=T.p1.multiply(T.q1),++T.state;else if(T.state===3)T.phi.gcd(T.e).compareTo(l.ONE)===0?++T.state:(T.p=null,T.q=null,T.state=0);else if(T.state===4)T.n=T.p.multiply(T.q),T.n.bitLength()===T.bits?++T.state:(T.q=null,T.state=0);else if(T.state===5){var j=T.e.modInverse(T.phi);T.keys={privateKey:t.rsa.setPrivateKey(T.n,T.e,j,T.p,T.q,j.mod(T.p1),j.mod(T.q1),T.q.modInverse(T.p)),publicKey:t.rsa.setPublicKey(T.n,T.e)}}B+=(y=+new Date)-A,A=y}return T.keys!==null},t.rsa.generateKeyPair=function(T,N,v,y){if(arguments.length===1?typeof T=="object"?(v=T,T=void 0):typeof T=="function"&&(y=T,T=void 0):arguments.length===2?typeof T=="number"?typeof N=="function"?(y=N,N=void 0):typeof N!="number"&&(v=N,N=void 0):(v=T,y=N,T=void 0,N=void 0):arguments.length===3&&(typeof N=="number"?typeof v=="function"&&(y=v,v=void 0):(y=v,v=N,N=void 0)),v=v||{},T===void 0&&(T=v.bits||2048),N===void 0&&(N=v.e||65537),!a.options.usePureJavaScript&&!v.prng&&T>=256&&T<=16384&&(N===65537||N===3)){if(y){if(u("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:T,publicExponent:N,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(B,O,V){if(B)return y(B);y(null,{privateKey:t.privateKeyFromPem(V),publicKey:t.publicKeyFromPem(O)})});if(w("generateKey")&&w("exportKey"))return r.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:T,publicExponent:x(N),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(B){return r.globalScope.crypto.subtle.exportKey("pkcs8",B.privateKey)}).then(void 0,function(B){y(B)}).then(function(B){if(B){var O=t.privateKeyFromAsn1(s.fromDer(a.util.createBuffer(B)));y(null,{privateKey:O,publicKey:t.setRsaPublicKey(O.n,O.e)})}});if(_("generateKey")&&_("exportKey")){var E=r.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:T,publicExponent:x(N),hash:{name:"SHA-256"}},!0,["sign","verify"]);return E.oncomplete=function(B){var O=B.target.result,V=r.globalScope.msCrypto.subtle.exportKey("pkcs8",O.privateKey);V.oncomplete=function(j){var $=j.target.result,H=t.privateKeyFromAsn1(s.fromDer(a.util.createBuffer($)));y(null,{privateKey:H,publicKey:t.setRsaPublicKey(H.n,H.e)})},V.onerror=function(j){y(j)}},void(E.onerror=function(B){y(B)})}}else if(u("generateKeyPairSync")){var m=o.generateKeyPairSync("rsa",{modulusLength:T,publicExponent:N,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:t.privateKeyFromPem(m.privateKey),publicKey:t.publicKeyFromPem(m.publicKey)}}}var A=t.rsa.createKeyPairGenerationState(T,N,v);if(!y)return t.rsa.stepKeyPairGenerationState(A,0),A.keys;S(A,v,y)},t.setRsaPublicKey=t.rsa.setPublicKey=function(T,N){var v={n:T,e:N,encrypt:function(y,E,m){if(typeof E=="string"?E=E.toUpperCase():E===void 0&&(E="RSAES-PKCS1-V1_5"),E==="RSAES-PKCS1-V1_5")E={encode:function(B,O,V){return h(B,O,2).getBytes()}};else if(E==="RSA-OAEP"||E==="RSAES-OAEP")E={encode:function(B,O){return a.pkcs1.encode_rsa_oaep(O,B,m)}};else if(["RAW","NONE","NULL",null].indexOf(E)!==-1)E={encode:function(B){return B}};else if(typeof E=="string")throw new Error('Unsupported encryption scheme: "'+E+'".');var A=E.encode(y,v,!0);return t.rsa.encrypt(A,v,!0)},verify:function(y,E,m){typeof m=="string"?m=m.toUpperCase():m===void 0&&(m="RSASSA-PKCS1-V1_5"),m==="RSASSA-PKCS1-V1_5"?m={verify:function(B,O){return O=b(O,v,!0),B===s.fromDer(O).value[1].value}}:m!=="NONE"&&m!=="NULL"&&m!==null||(m={verify:function(B,O){return B===(O=b(O,v,!0))}});var A=t.rsa.decrypt(E,v,!0,!1);return m.verify(y,A,v.n.bitLength())}};return v},t.setRsaPrivateKey=t.rsa.setPrivateKey=function(T,N,v,y,E,m,A,B){var O={n:T,e:N,d:v,p:y,q:E,dP:m,dQ:A,qInv:B,decrypt:function(V,j,$){typeof j=="string"?j=j.toUpperCase():j===void 0&&(j="RSAES-PKCS1-V1_5");var H=t.rsa.decrypt(V,O,!1,!1);if(j==="RSAES-PKCS1-V1_5")j={decode:b};else if(j==="RSA-OAEP"||j==="RSAES-OAEP")j={decode:function(G,R){return a.pkcs1.decode_rsa_oaep(R,G,$)}};else{if(["RAW","NONE","NULL",null].indexOf(j)===-1)throw new Error('Unsupported encryption scheme: "'+j+'".');j={decode:function(G){return G}}}return j.decode(H,O,!1)},sign:function(V,j){var $=!1;typeof j=="string"&&(j=j.toUpperCase()),j===void 0||j==="RSASSA-PKCS1-V1_5"?(j={encode:d},$=1):j!=="NONE"&&j!=="NULL"&&j!==null||(j={encode:function(){return V}},$=1);var H=j.encode(V,O.n.bitLength());return t.rsa.encrypt(H,O,$)}};return O},t.wrapRsaPrivateKey=function(T){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(T).getBytes())])},t.privateKeyFromAsn1=function(T){var N,v,y,E,m,A,B,O,V={},j=[];if(s.validate(T,i,V,j)&&(T=s.fromDer(a.util.createBuffer(V.privateKey))),V={},j=[],!s.validate(T,e,V,j)){var $=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw $.errors=j,$}return N=a.util.createBuffer(V.privateKeyModulus).toHex(),v=a.util.createBuffer(V.privateKeyPublicExponent).toHex(),y=a.util.createBuffer(V.privateKeyPrivateExponent).toHex(),E=a.util.createBuffer(V.privateKeyPrime1).toHex(),m=a.util.createBuffer(V.privateKeyPrime2).toHex(),A=a.util.createBuffer(V.privateKeyExponent1).toHex(),B=a.util.createBuffer(V.privateKeyExponent2).toHex(),O=a.util.createBuffer(V.privateKeyCoefficient).toHex(),t.setRsaPrivateKey(new l(N,16),new l(v,16),new l(y,16),new l(E,16),new l(m,16),new l(A,16),new l(B,16),new l(O,16))},t.privateKeyToAsn1=t.privateKeyToRSAPrivateKey=function(T){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.qInv))])},t.publicKeyFromAsn1=function(T){var N={},v=[];if(s.validate(T,f,N,v)){var y,E=s.derToOid(N.publicKeyOid);if(E!==t.oids.rsaEncryption)throw(y=new Error("Cannot read public key. Unknown OID.")).oid=E,y;T=N.rsaPublicKey}if(v=[],!s.validate(T,c,N,v))throw(y=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=v,y;var m=a.util.createBuffer(N.publicKeyModulus).toHex(),A=a.util.createBuffer(N.publicKeyExponent).toHex();return t.setRsaPublicKey(new l(m,16),new l(A,16))},t.publicKeyToAsn1=t.publicKeyToSubjectPublicKeyInfo=function(T){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(t.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[t.publicKeyToRSAPublicKey(T)])])},t.publicKeyToRSAPublicKey=function(T){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,I(T.e))])}},function(L,M,g){const a=g(184),l=g(1);L.exports=function(o){if(isNaN(o)||o<=0)throw l(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return a(o)}},function(L,M,g){g(2),g(36);const a=g(0),l=g(7),o=g(5),s=g(11);M.bigIntegerToUintBase64url=(r,t)=>{let n=Uint8Array.from(r.abs().toByteArray());if(n=n[0]===0?n.slice(1):n,t!=null){if(n.length>t)throw new Error("byte array longer than desired length");n=s([new Uint8Array(t-n.length),n])}return o(n,"base64url")},M.base64urlToBigInteger=r=>{const t=M.base64urlToBuffer(r);return new a.jsbn.BigInteger(o(t,"base16"),16)},M.base64urlToBuffer=(r,t)=>{let n=l(r,"base64urlpad");if(t!=null){if(n.length>t)throw new Error("byte array longer than desired length");n=s([new Uint8Array(t-n.length),n])}return n}},function(L,M,g){const a=g(18),l=g(72);L.exports={export:async function(o,s){const r=l.create(),t=await r.encrypt(o,s);return a.names.base64.encode(t)}}},function(L,M,g){var a,l=M,o=g(56),s=g(77),r=g(9).assert;function t(i){i.type==="short"?this.curve=new s.short(i):i.type==="edwards"?this.curve=new s.edwards(i):this.curve=new s.mont(i),this.g=this.curve.g,this.n=this.curve.n,this.hash=i.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function n(i,e){Object.defineProperty(l,i,{configurable:!0,enumerable:!0,get:function(){var c=new t(e);return Object.defineProperty(l,i,{configurable:!0,enumerable:!0,value:c}),c}})}l.PresetCurve=t,n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=g(208)}catch(i){a=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},function(L,M,g){var a=M;a.utils=g(10),a.common=g(32),a.sha=g(202),a.ripemd=g(206),a.hmac=g(207),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},function(L,M,g){function a(s){if(typeof s=="number"){if(a.codes[s])return a.codes[s];throw new Error("no protocol with code: "+s)}if(typeof s=="string"||s instanceof String){if(a.names[s])return a.names[s];throw new Error("no protocol with name: "+s)}throw new Error("invalid protocol id type: "+s)}const l=-1;function o(s,r,t,n,i){return{code:s,size:r,name:t,resolvable:Boolean(n),path:Boolean(i)}}a.lengthPrefixedVarSize=l,a.V=l,a.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,l,"ip6zone"],[53,l,"dns","resolvable"],[54,l,"dns4","resolvable"],[55,l,"dns6","resolvable"],[56,l,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,l,"unix",!1,"path"],[421,l,"ipfs"],[421,l,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,l,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,l,"memory"]],a.names={},a.codes={},a.table.map(s=>{const r=o.apply(null,s);a.codes[r.code]=r,a.names[r.name]=r}),a.object=o,L.exports=a},function(L,M,g){const a=g(34).multihash,l=g(3),o=g(247);L.exports=class{constructor(s,r,t){this.dht=s,this.key=r,this.makePath=t,this._log=l.logger(this.dht.peerId,"query:"+a.toB58String(r)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(s){return this.dht._queryManager.running?s.length===0?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new o(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,s.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(s)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-this._startTime}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),this.running&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this.running=!1,this._run&&this._run.stop(),this.dht._queryManager.queryCompleted(this))}}},function(L,M,g){function a(l){return(4294967296+l).toString(16).substring(1)}L.exports={normalizeInput:function(l){var o;if(l instanceof Uint8Array)o=l;else if(l instanceof Buffer)o=new Uint8Array(l);else{if(typeof l!="string")throw new Error("Input must be an string, Buffer or Uint8Array");o=new Uint8Array(Buffer.from(l,"utf8"))}return o},toHex:function(l){return Array.prototype.map.call(l,function(o){return(o<16?"0":"")+o.toString(16)}).join("")},debugPrint:function(l,o,s){for(var r=`
`+l+" = ",t=0;t<o.length;t+=2){if(s===32)r+=a(o[t]).toUpperCase(),r+=" ",r+=a(o[t+1]).toUpperCase();else{if(s!==64)throw new Error("Invalid size "+s);r+=a(o[t+1]).toUpperCase(),r+=a(o[t]).toUpperCase()}t%6==4?r+=`
`+new Array(l.length+4).join(" "):t<o.length-2&&(r+=" ")}console.log(r)},testSpeed:function(l,o,s){for(var r=new Date().getTime(),t=new Uint8Array(o),n=0;n<o;n++)t[n]=n%256;var i=new Date().getTime();for(console.log("Generated random input in "+(i-r)+"ms"),r=i,n=0;n<s;n++){var e=l(t),c=new Date().getTime(),f=c-r;r=c,console.log("Hashed in "+f+"ms: "+e.substring(0,20)+"..."),console.log(Math.round(o/(1<<20)/(f/1e3)*100)/100+" MB PER SECOND")}}}},function(L,M,g){const{nanoid:a}=g(61),l=g(20),{utf8Encoder:o,utf8Decoder:s}=g(44),r=g(63),t=o.encode("/"),n=t[0];class i{constructor(c,f){if(typeof c=="string")this._buf=o.encode(c);else{if(!(c instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=c}if(f==null&&(f=!0),f&&this.clean(),this._buf.byteLength===0||this._buf[0]!==n)throw new Error("Invalid key")}toString(c="utf8"){return c==="utf8"||c==="utf-8"?s.decode(this._buf):new r(c).decode(this._buf)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(c){return new e(c.join("/"))}static random(){return new e(a().replace(/-/g,""))}clean(){if(this._buf&&this._buf.byteLength!==0||(this._buf=t),this._buf[0]!==n){const c=new Uint8Array(this._buf.byteLength+1);c.fill(n,0,1),c.set(this._buf,1),this._buf=c}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===n;)this._buf=this._buf.subarray(0,-1)}less(c){const f=this.list(),d=c.list();for(let p=0;p<f.length;p++){if(d.length<p+1)return!1;const h=f[p],b=d[p];if(h<b)return!0;if(h>b)return!1}return f.length<d.length}reverse(){return i.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const c=this.namespaces();return c[c.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(c){const f=c.split(":");return f.length<2?"":f.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(c){const f=c.split(":");return f[f.length-1]}(this.baseNamespace())}instance(c){return new e(this.toString()+":"+c)}path(){let c=this.parent().toString();return c.endsWith("/")||(c+="/"),c+=this.type(),new e(c)}parent(){const c=this.list();return c.length===1?new e("/"):new e(c.slice(0,-1).join("/"))}child(c){return this.toString()==="/"?c:c.toString()==="/"?this:new e(this.toString()+c.toString(),!1)}isAncestorOf(c){return c.toString()!==this.toString()&&c.toString().startsWith(this.toString())}isDecendantOf(c){return c.toString()!==this.toString()&&this.toString().startsWith(c.toString())}isTopLevel(){return this.list().length===1}concat(...c){return i.withNamespaces([...this.namespaces(),...(f=c.map(d=>d.namespaces()),[].concat(...f))]);var f}}const e=l(i,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});L.exports=e},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),Object.defineProperty(M,"urlAlphabet",{enumerable:!0,get:function(){return a.urlAlphabet}}),M.random=M.customRandom=M.customAlphabet=M.nanoid=void 0;var a=g(141);let l=s=>crypto.getRandomValues(new Uint8Array(s));M.random=l;let o=(s,r,t)=>{let n=(2<<Math.log(s.length-1)/Math.LN2)-1,i=-~(1.6*n*r/s.length);return()=>{let e="";for(;;){let c=t(i),f=i;for(;f--;)if(e+=s[c[f]&n]||"",e.length===+r)return e}}};M.customRandom=o,M.customAlphabet=(s,r)=>o(s,r,l),M.nanoid=(s=21)=>{let r="",t=crypto.getRandomValues(new Uint8Array(s));for(;s--;){let n=63&t[s];r+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return r}},function(L,M,g){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),L.exports=globalThis},function(L,M,g){L.exports=g(62).TextDecoder},function(L,M,g){const{filter:a,sortAll:l,take:o,map:s}=g(44),r=g(145);L.exports=class{async open(){}async close(){}async put(t,n,i={}){}async*putMany(t,n={}){for await(const{key:i,value:e}of t)await this.put(i,e,n),yield{key:i,value:e}}async get(t,n={}){}async*getMany(t,n={}){for await(const i of t)yield this.get(i,n)}async has(t){}async delete(t,n={}){}async*deleteMany(t,n={}){for await(const i of t)await this.delete(i,n),yield i}batch(){let t=[],n=[];return{put(i,e){t.push({key:i,value:e})},delete(i){n.push(i)},commit:async i=>{await r(this.putMany(t,i)),t=[],await r(this.deleteMany(n,i)),n=[]}}}async*_all(t,n){}async*query(t,n){let i=this._all(t,n);if(t.prefix!=null&&(i=a(i,e=>e.key.toString().startsWith(t.prefix))),Array.isArray(t.filters)&&(i=t.filters.reduce((e,c)=>a(e,c),i)),Array.isArray(t.orders)&&(i=t.orders.reduce((e,c)=>l(e,c),i)),t.offset!=null){let e=0;i=a(i,()=>e++>=t.offset)}t.limit!=null&&(i=o(i,t.limit)),t.keysOnly===!0&&(i=s(i,e=>({key:e.key}))),yield*i}}},function(L,M,g){const a=g(1);L.exports.dbOpenFailedError=l=>(l=l||new Error("Cannot open database"),a(l,"ERR_DB_OPEN_FAILED")),L.exports.dbDeleteFailedError=l=>(l=l||new Error("Delete failed"),a(l,"ERR_DB_DELETE_FAILED")),L.exports.dbWriteFailedError=l=>(l=l||new Error("Write failed"),a(l,"ERR_DB_WRITE_FAILED")),L.exports.notFoundError=l=>(l=l||new Error("Not Found"),a(l,"ERR_NOT_FOUND")),L.exports.abortedError=l=>(l=l||new Error("Aborted"),a(l,"ERR_ABORTED"))},function(L,M,g){(function(a){M.formatArgs=function(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+L.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;o.splice(1,0,s,"color: inherit");let r=0,t=0;o[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(t=r))}),o.splice(t,0,s)},M.save=function(o){try{o?M.storage.setItem("debug",o):M.storage.removeItem("debug")}catch(s){}},M.load=function(){let o;try{o=M.storage.getItem("debug")}catch(s){}return!o&&a!==void 0&&"env"in a&&(o={NODE_ENV:"production"}.DEBUG),o},M.useColors=function(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},M.storage=function(){try{return localStorage}catch(o){}}(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],M.log=console.debug||console.log||(()=>{}),L.exports=g(153)(M);const{formatters:l}=L.exports;l.j=function(o){try{return JSON.stringify(o)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}).call(this,g(19))},function(L,M,g){const a=g(4),l=g(163),o=g(164);function s(r){return parseInt(l(r,"base16"),16)}L.exports={numberToUint8Array:function(r){let t=r.toString(16);return t.length%2==1&&(t="0"+t),o(t,"base16")},uint8ArrayToNumber:s,varintUint8ArrayEncode:function(r){return Uint8Array.from(a.encode(s(r)))},varintEncode:function(r){return Uint8Array.from(a.encode(r))}}},function(L,M,g){const a=g(17)(g(47));g(30),g(170);const l=g(0),o=g(1),s=g(7),r=g(180);M=L.exports;const t={rsa:g(181),ed25519:g(187),secp256k1:g(189)(a,g(52))};M.supportedKeys=t,M.keysPBM=a;const n="secp256k1 support requires libp2p-crypto-secp256k1 package",i="ERR_MISSING_PACKAGE";function e(c){const f=t[c.toLowerCase()];if(!f){const d=Object.keys(t).join(" / ");throw o(new Error(`invalid or unsupported key type ${c}. Must be ${d}`),"ERR_UNSUPPORTED_KEY_TYPE")}return f}M.keyStretcher=g(216),M.generateEphemeralKeyPair=g(218),M.generateKeyPair=async(c,f)=>e(c).generateKeyPair(f),M.generateKeyPairFromSeed=async(c,f,d)=>{const p=e(c);if(c.toLowerCase()!=="ed25519")throw o(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return p.generateKeyPairFromSeed(f,d)},M.unmarshalPublicKey=c=>{const f=a.PublicKey.decode(c),d=f.Data;switch(f.Type){case a.KeyType.RSA:return t.rsa.unmarshalRsaPublicKey(d);case a.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PublicKey(d);case a.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PublicKey(d);throw o(new Error(n),i);default:e(f.Type)}},M.marshalPublicKey=(c,f)=>(e(f=(f||"rsa").toLowerCase()),c.bytes),M.unmarshalPrivateKey=async c=>{const f=a.PrivateKey.decode(c),d=f.Data;switch(f.Type){case a.KeyType.RSA:return t.rsa.unmarshalRsaPrivateKey(d);case a.KeyType.Ed25519:return t.ed25519.unmarshalEd25519PrivateKey(d);case a.KeyType.Secp256k1:if(t.secp256k1)return t.secp256k1.unmarshalSecp256k1PrivateKey(d);throw o(new Error(n),i);default:e(f.Type)}},M.marshalPrivateKey=(c,f)=>(e(f=(f||"rsa").toLowerCase()),c.bytes),M.import=async(c,f)=>{try{const h=await r.import(c,f);return M.unmarshalPrivateKey(h)}catch(h){}const d=l.pki.decryptRsaPrivateKey(c,f);if(d===null)throw o(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let p=l.asn1.toDer(l.pki.privateKeyToAsn1(d));return p=s(p.getBytes(),"ascii"),t.rsa.unmarshalRsaPrivateKey(p)}},function(L,M,g){var a=g(0);g(2),L.exports=a.cipher=a.cipher||{},a.cipher.algorithms=a.cipher.algorithms||{},a.cipher.createCipher=function(o,s){var r=o;if(typeof r=="string"&&(r=a.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+o);return new a.cipher.BlockCipher({algorithm:r,key:s,decrypt:!1})},a.cipher.createDecipher=function(o,s){var r=o;if(typeof r=="string"&&(r=a.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+o);return new a.cipher.BlockCipher({algorithm:r,key:s,decrypt:!0})},a.cipher.registerAlgorithm=function(o,s){o=o.toUpperCase(),a.cipher.algorithms[o]=s},a.cipher.getAlgorithm=function(o){return(o=o.toUpperCase())in a.cipher.algorithms?a.cipher.algorithms[o]:null};var l=a.cipher.BlockCipher=function(o){this.algorithm=o.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=o.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=o.decrypt,this.algorithm.initialize(o)};l.prototype.start=function(o){o=o||{};var s={};for(var r in o)s[r]=o[r];s.decrypt=this._decrypt,this._finish=!1,this._input=a.util.createBuffer(),this.output=o.output||a.util.createBuffer(),this.mode.start(s)},l.prototype.update=function(o){for(o&&this._input.putBuffer(o);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},l.prototype.finish=function(o){!o||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(r){return o(this.blockSize,r,!1)},this.mode.unpad=function(r){return o(this.blockSize,r,!0)});var s={};return s.decrypt=this._decrypt,s.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,s))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,s))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,s)))}},function(L,M,g){var a=g(0);g(2),a.cipher=a.cipher||{};var l=L.exports=a.cipher.modes=a.cipher.modes||{};function o(t,n){if(typeof t=="string"&&(t=a.util.createBuffer(t)),a.util.isArray(t)&&t.length>4){var i=t;t=a.util.createBuffer();for(var e=0;e<i.length;++e)t.putByte(i[e])}if(t.length()<n)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+n+" bytes.");if(!a.util.isArray(t)){var c=[],f=n/4;for(e=0;e<f;++e)c.push(t.getInt32());t=c}return t}function s(t){t[t.length-1]=t[t.length-1]+1&4294967295}function r(t){return[t/4294967296|0,4294967295&t]}l.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},l.ecb.prototype.start=function(t){},l.ecb.prototype.encrypt=function(t,n,i){if(t.length()<this.blockSize&&!(i&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)n.putInt32(this._outBlock[e])},l.ecb.prototype.decrypt=function(t,n,i){if(t.length()<this.blockSize&&!(i&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)n.putInt32(this._outBlock[e])},l.ecb.prototype.pad=function(t,n){var i=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(i,i),!0},l.ecb.prototype.unpad=function(t,n){if(n.overflow>0)return!1;var i=t.length(),e=t.at(i-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},l.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},l.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},l.cbc.prototype.encrypt=function(t,n,i){if(t.length()<this.blockSize&&!(i&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)n.putInt32(this._outBlock[e]);this._prev=this._outBlock},l.cbc.prototype.decrypt=function(t,n,i){if(t.length()<this.blockSize&&!(i&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),e=0;e<this._ints;++e)n.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},l.cbc.prototype.pad=function(t,n){var i=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(i,i),!0},l.cbc.prototype.unpad=function(t,n){if(n.overflow>0)return!1;var i=t.length(),e=t.at(i-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},l.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},l.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},l.cfb.prototype.encrypt=function(t,n,i){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var c=0;c<this._ints;++c)this._inBlock[c]=t.getInt32()^this._outBlock[c],n.putInt32(this._inBlock[c]);else{var f=(this.blockSize-e)%this.blockSize;for(f>0&&(f=this.blockSize-f),this._partialOutput.clear(),c=0;c<this._ints;++c)this._partialBlock[c]=t.getInt32()^this._outBlock[c],this._partialOutput.putInt32(this._partialBlock[c]);if(f>0)t.read-=this.blockSize;else for(c=0;c<this._ints;++c)this._inBlock[c]=this._partialBlock[c];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),f>0&&!i)return n.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=f,!0;n.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},l.cfb.prototype.decrypt=function(t,n,i){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var c=0;c<this._ints;++c)this._inBlock[c]=t.getInt32(),n.putInt32(this._inBlock[c]^this._outBlock[c]);else{var f=(this.blockSize-e)%this.blockSize;for(f>0&&(f=this.blockSize-f),this._partialOutput.clear(),c=0;c<this._ints;++c)this._partialBlock[c]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[c]^this._outBlock[c]);if(f>0)t.read-=this.blockSize;else for(c=0;c<this._ints;++c)this._inBlock[c]=this._partialBlock[c];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),f>0&&!i)return n.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=f,!0;n.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},l.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},l.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},l.ofb.prototype.encrypt=function(t,n,i){var e=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var c=0;c<this._ints;++c)n.putInt32(t.getInt32()^this._outBlock[c]),this._inBlock[c]=this._outBlock[c];else{var f=(this.blockSize-e)%this.blockSize;for(f>0&&(f=this.blockSize-f),this._partialOutput.clear(),c=0;c<this._ints;++c)this._partialOutput.putInt32(t.getInt32()^this._outBlock[c]);if(f>0)t.read-=this.blockSize;else for(c=0;c<this._ints;++c)this._inBlock[c]=this._outBlock[c];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),f>0&&!i)return n.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=f,!0;n.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},l.ofb.prototype.decrypt=l.ofb.prototype.encrypt,l.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},l.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},l.ctr.prototype.encrypt=function(t,n,i){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize)for(var c=0;c<this._ints;++c)n.putInt32(t.getInt32()^this._outBlock[c]);else{var f=(this.blockSize-e)%this.blockSize;for(f>0&&(f=this.blockSize-f),this._partialOutput.clear(),c=0;c<this._ints;++c)this._partialOutput.putInt32(t.getInt32()^this._outBlock[c]);if(f>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),f>0&&!i)return n.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=f,!0;n.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},l.ctr.prototype.decrypt=l.ctr.prototype.encrypt,l.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0,this._R=3774873600},l.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var n,i=a.util.createBuffer(t.iv);if(this._cipherLength=0,n="additionalData"in t?a.util.createBuffer(t.additionalData):a.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=a.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var e=i.length();if(e===12)this._j0=[i.getInt32(),i.getInt32(),i.getInt32(),1];else{for(this._j0=[0,0,0,0];i.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[i.getInt32(),i.getInt32(),i.getInt32(),i.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(r(8*e)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,n=a.util.createBuffer(n),this._aDataLength=r(8*n.length());var c=n.length()%this.blockSize;for(c&&n.fillWithByte(0,this.blockSize-c),this._s=[0,0,0,0];n.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()])},l.gcm.prototype.encrypt=function(t,n,i){var e=t.length();if(e===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&e>=this.blockSize){for(var c=0;c<this._ints;++c)n.putInt32(this._outBlock[c]^=t.getInt32());this._cipherLength+=this.blockSize}else{var f=(this.blockSize-e)%this.blockSize;for(f>0&&(f=this.blockSize-f),this._partialOutput.clear(),c=0;c<this._ints;++c)this._partialOutput.putInt32(t.getInt32()^this._outBlock[c]);if(f<=0||i){if(i){var d=e%this.blockSize;this._cipherLength+=d,this._partialOutput.truncate(this.blockSize-d)}else this._cipherLength+=this.blockSize;for(c=0;c<this._ints;++c)this._outBlock[c]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),f>0&&!i)return t.read-=this.blockSize,n.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=f,!0;n.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},l.gcm.prototype.decrypt=function(t,n,i){var e=t.length();if(e<this.blockSize&&!(i&&e>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var c=0;c<this._ints;++c)n.putInt32(this._outBlock[c]^this._hashBlock[c]);e<this.blockSize?this._cipherLength+=e%this.blockSize:this._cipherLength+=this.blockSize},l.gcm.prototype.afterFinish=function(t,n){var i=!0;n.decrypt&&n.overflow&&t.truncate(this.blockSize-n.overflow),this.tag=a.util.createBuffer();var e=this._aDataLength.concat(r(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,e);var c=[];this.cipher.encrypt(this._j0,c);for(var f=0;f<this._ints;++f)this.tag.putInt32(this._s[f]^c[f]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),n.decrypt&&this.tag.bytes()!==this._tag&&(i=!1),i},l.gcm.prototype.multiply=function(t,n){for(var i=[0,0,0,0],e=n.slice(0),c=0;c<128;++c)t[c/32|0]&1<<31-c%32&&(i[0]^=e[0],i[1]^=e[1],i[2]^=e[2],i[3]^=e[3]),this.pow(e,e);return i},l.gcm.prototype.pow=function(t,n){for(var i=1&t[3],e=3;e>0;--e)n[e]=t[e]>>>1|(1&t[e-1])<<31;n[0]=t[0]>>>1,i&&(n[0]^=this._R)},l.gcm.prototype.tableMultiply=function(t){for(var n=[0,0,0,0],i=0;i<32;++i){var e=t[i/8|0]>>>4*(7-i%8)&15,c=this._m[i][e];n[0]^=c[0],n[1]^=c[1],n[2]^=c[2],n[3]^=c[3]}return n},l.gcm.prototype.ghash=function(t,n,i){return n[0]^=i[0],n[1]^=i[1],n[2]^=i[2],n[3]^=i[3],this.tableMultiply(n)},l.gcm.prototype.generateHashTable=function(t,n){for(var i=8/n,e=4*i,c=16*i,f=new Array(c),d=0;d<c;++d){var p=[0,0,0,0],h=(e-1-d%e)*n;p[d/e|0]=1<<n-1<<h,f[d]=this.generateSubHashTable(this.multiply(p,t),n)}return f},l.gcm.prototype.generateSubHashTable=function(t,n){var i=1<<n,e=i>>>1,c=new Array(i);c[e]=t.slice(0);for(var f=e>>>1;f>0;)this.pow(c[2*f],c[f]=[]),f>>=1;for(f=2;f<e;){for(var d=1;d<f;++d){var p=c[f],h=c[d];c[f+d]=[p[0]^h[0],p[1]^h[1],p[2]^h[2],p[3]^h[3]]}f*=2}for(c[0]=[0,0,0,0],f=e+1;f<i;++f){var b=c[f^e];c[f]=[t[0]^b[0],t[1]^b[1],t[2]^b[2],t[3]^b[3]]}return c}},function(L,M,g){var a=g(0);g(172),g(21),g(2);var l,o=a.pkcs5=a.pkcs5||{};a.util.isNodejs&&!a.options.usePureJavaScript&&(l=g(50)),L.exports=a.pbkdf2=o.pbkdf2=function(s,r,t,n,i,e){if(typeof i=="function"&&(e=i,i=null),a.util.isNodejs&&!a.options.usePureJavaScript&&l.pbkdf2&&(i===null||typeof i!="object")&&(l.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),s=Buffer.from(s,"binary"),r=Buffer.from(r,"binary"),e?l.pbkdf2Sync.length===4?l.pbkdf2(s,r,t,n,function(T,N){if(T)return e(T);e(null,N.toString("binary"))}):l.pbkdf2(s,r,t,n,i,function(T,N){if(T)return e(T);e(null,N.toString("binary"))}):l.pbkdf2Sync.length===4?l.pbkdf2Sync(s,r,t,n).toString("binary"):l.pbkdf2Sync(s,r,t,n,i).toString("binary");if(i==null&&(i="sha1"),typeof i=="string"){if(!(i in a.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=a.md[i].create()}var c=i.digestLength;if(n>4294967295*c){var f=new Error("Derived key is too long.");if(e)return e(f);throw f}var d=Math.ceil(n/c),p=n-(d-1)*c,h=a.hmac.create();h.start(i,s);var b,S,I,k="";if(!e){for(var u=1;u<=d;++u){h.start(null,null),h.update(r),h.update(a.util.int32ToBytes(u)),b=I=h.digest().getBytes();for(var w=2;w<=t;++w)h.start(null,null),h.update(I),S=h.digest().getBytes(),b=a.util.xorBytes(b,S,c),I=S;k+=u<d?b:b.substr(0,p)}return k}u=1;function _(){if(u>d)return e(null,k);h.start(null,null),h.update(r),h.update(a.util.int32ToBytes(u)),b=I=h.digest().getBytes(),w=2,x()}function x(){if(w<=t)return h.start(null,null),h.update(I),S=h.digest().getBytes(),b=a.util.xorBytes(b,S,c),I=S,++w,a.util.setImmediate(x);k+=u<d?b:b.substr(0,p),++u,_()}_()}},function(L,M,g){const a=g(11),l=g(7),o=g(37);L.exports={create:function({algorithm:s="AES-GCM",nonceLength:r=12,keyLength:t=16,digest:n="SHA-256",saltLength:i=16,iterations:e=32767}={}){const c=o.get();return t*=8,{encrypt:async function(f,d){const p=c.getRandomValues(new Uint8Array(i)),h=c.getRandomValues(new Uint8Array(r)),b={name:s,iv:h},S={name:"PBKDF2",salt:p,iterations:e,hash:{name:n}},I=await c.subtle.importKey("raw",l(d),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),k=await c.subtle.deriveKey(S,I,{name:s,length:t},!0,["encrypt"]),u=await c.subtle.encrypt(b,k,f);return a([p,b.iv,new Uint8Array(u)])},decrypt:async function(f,d){const p=f.slice(0,i),h=f.slice(i,i+r),b=f.slice(i+r),S={name:s,iv:h},I={name:"PBKDF2",salt:p,iterations:e,hash:{name:n}},k=await c.subtle.importKey("raw",l(d),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),u=await c.subtle.deriveKey(I,k,{name:s,length:t},!0,["decrypt"]),w=await c.subtle.decrypt(S,u,b);return new Uint8Array(w)}}}}},function(L,M,g){var a=g(0);g(21),g(2);var l=L.exports=a.sha512=a.sha512||{};a.md.sha512=a.md.algorithms.sha512=l;var o=a.sha384=a.sha512.sha384=a.sha512.sha384||{};o.create=function(){return l.create("SHA-384")},a.md.sha384=a.md.algorithms.sha384=o,a.sha512.sha256=a.sha512.sha256||{create:function(){return l.create("SHA-512/256")}},a.md["sha512/256"]=a.md.algorithms["sha512/256"]=a.sha512.sha256,a.sha512.sha224=a.sha512.sha224||{create:function(){return l.create("SHA-512/224")}},a.md["sha512/224"]=a.md.algorithms["sha512/224"]=a.sha512.sha224,l.create=function(e){if(r||(s=String.fromCharCode(128),s+=a.util.fillString(String.fromCharCode(0),128),t=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(n={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],n["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],n["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],n["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],r=!0),e===void 0&&(e="SHA-512"),!(e in n))throw new Error("Invalid SHA-512 algorithm: "+e);for(var c=n[e],f=null,d=a.util.createBuffer(),p=new Array(80),h=0;h<80;++h)p[h]=new Array(2);var b=64;switch(e){case"SHA-384":b=48;break;case"SHA-512/256":b=32;break;case"SHA-512/224":b=28}var S={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:b,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){S.messageLength=0,S.fullMessageLength=S.messageLength128=[];for(var I=S.messageLengthSize/4,k=0;k<I;++k)S.fullMessageLength.push(0);for(d=a.util.createBuffer(),f=new Array(c.length),k=0;k<c.length;++k)f[k]=c[k].slice(0);return S}};return S.start(),S.update=function(I,k){k==="utf8"&&(I=a.util.encodeUtf8(I));var u=I.length;S.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var w=S.fullMessageLength.length-1;w>=0;--w)S.fullMessageLength[w]+=u[1],u[1]=u[0]+(S.fullMessageLength[w]/4294967296>>>0),S.fullMessageLength[w]=S.fullMessageLength[w]>>>0,u[0]=u[1]/4294967296>>>0;return d.putBytes(I),i(f,p,d),(d.read>2048||d.length()===0)&&d.compact(),S},S.digest=function(){var I=a.util.createBuffer();I.putBytes(d.bytes());var k,u=S.fullMessageLength[S.fullMessageLength.length-1]+S.messageLengthSize&S.blockLength-1;I.putBytes(s.substr(0,S.blockLength-u));for(var w=8*S.fullMessageLength[0],_=0;_<S.fullMessageLength.length-1;++_)w+=(k=8*S.fullMessageLength[_+1])/4294967296>>>0,I.putInt32(w>>>0),w=k>>>0;I.putInt32(w);var x=new Array(f.length);for(_=0;_<f.length;++_)x[_]=f[_].slice(0);i(x,p,I);var T,N=a.util.createBuffer();for(T=e==="SHA-512"?x.length:e==="SHA-384"?x.length-2:x.length-4,_=0;_<T;++_)N.putInt32(x[_][0]),_===T-1&&e==="SHA-512/224"||N.putInt32(x[_][1]);return N},S};var s=null,r=!1,t=null,n=null;function i(e,c,f){for(var d,p,h,b,S,I,k,u,w,_,x,T,N,v,y,E,m,A,B,O,V,j,$,H,G,R,q,K,z,D,C,P,U,F=f.length();F>=128;){for(q=0;q<16;++q)c[q][0]=f.getInt32()>>>0,c[q][1]=f.getInt32()>>>0;for(;q<80;++q)d=(((K=(D=c[q-2])[0])>>>19|(z=D[1])<<13)^(z>>>29|K<<3)^K>>>6)>>>0,p=((K<<13|z>>>19)^(z<<3|K>>>29)^(K<<26|z>>>6))>>>0,h=(((K=(P=c[q-15])[0])>>>1|(z=P[1])<<31)^(K>>>8|z<<24)^K>>>7)>>>0,b=((K<<31|z>>>1)^(K<<24|z>>>8)^(K<<25|z>>>7))>>>0,C=c[q-7],U=c[q-16],z=p+C[1]+b+U[1],c[q][0]=d+C[0]+h+U[0]+(z/4294967296>>>0)>>>0,c[q][1]=z>>>0;for(x=e[0][0],T=e[0][1],N=e[1][0],v=e[1][1],y=e[2][0],E=e[2][1],m=e[3][0],A=e[3][1],B=e[4][0],O=e[4][1],V=e[5][0],j=e[5][1],$=e[6][0],H=e[6][1],G=e[7][0],R=e[7][1],q=0;q<80;++q)k=((B>>>14|O<<18)^(B>>>18|O<<14)^(O>>>9|B<<23))>>>0,u=($^B&(V^$))>>>0,S=((x>>>28|T<<4)^(T>>>2|x<<30)^(T>>>7|x<<25))>>>0,I=((x<<4|T>>>28)^(T<<30|x>>>2)^(T<<25|x>>>7))>>>0,w=(x&N|y&(x^N))>>>0,_=(T&v|E&(T^v))>>>0,z=R+(((B<<18|O>>>14)^(B<<14|O>>>18)^(O<<23|B>>>9))>>>0)+((H^O&(j^H))>>>0)+t[q][1]+c[q][1],d=G+k+u+t[q][0]+c[q][0]+(z/4294967296>>>0)>>>0,p=z>>>0,h=S+w+((z=I+_)/4294967296>>>0)>>>0,b=z>>>0,G=$,R=H,$=V,H=j,V=B,j=O,B=m+d+((z=A+p)/4294967296>>>0)>>>0,O=z>>>0,m=y,A=E,y=N,E=v,N=x,v=T,x=d+h+((z=p+b)/4294967296>>>0)>>>0,T=z>>>0;z=e[0][1]+T,e[0][0]=e[0][0]+x+(z/4294967296>>>0)>>>0,e[0][1]=z>>>0,z=e[1][1]+v,e[1][0]=e[1][0]+N+(z/4294967296>>>0)>>>0,e[1][1]=z>>>0,z=e[2][1]+E,e[2][0]=e[2][0]+y+(z/4294967296>>>0)>>>0,e[2][1]=z>>>0,z=e[3][1]+A,e[3][0]=e[3][0]+m+(z/4294967296>>>0)>>>0,e[3][1]=z>>>0,z=e[4][1]+O,e[4][0]=e[4][0]+B+(z/4294967296>>>0)>>>0,e[4][1]=z>>>0,z=e[5][1]+j,e[5][0]=e[5][0]+V+(z/4294967296>>>0)>>>0,e[5][1]=z>>>0,z=e[6][1]+H,e[6][0]=e[6][0]+$+(z/4294967296>>>0)>>>0,e[6][1]=z>>>0,z=e[7][1]+R,e[7][0]=e[7][0]+G+(z/4294967296>>>0)>>>0,e[7][1]=z>>>0,F-=128}}},function(L,M,g){var a=g(0);g(36),g(31),g(73),g(2);var l=g(182),o=l.publicKeyValidator,s=l.privateKeyValidator;if(r===void 0)var r=a.jsbn.BigInteger;var t=a.util.ByteBuffer,n=typeof Buffer=="undefined"?Uint8Array:Buffer;a.pki=a.pki||{},L.exports=a.pki.ed25519=a.ed25519=a.ed25519||{};var i=a.ed25519;function e(q){var K=q.message;if(K instanceof Uint8Array||K instanceof n)return K;var z=q.encoding;if(K===void 0){if(!q.md)throw new TypeError('"options.message" or "options.md" not specified.');K=q.md.digest().getBytes(),z="binary"}if(typeof K=="string"&&!z)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof K=="string"){if(typeof Buffer!="undefined")return Buffer.from(K,z);K=new t(K,z)}else if(!(K instanceof t))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var D=new n(K.length()),C=0;C<D.length;++C)D[C]=K.at(C);return D}i.constants={},i.constants.PUBLIC_KEY_BYTE_LENGTH=32,i.constants.PRIVATE_KEY_BYTE_LENGTH=64,i.constants.SEED_BYTE_LENGTH=32,i.constants.SIGN_BYTE_LENGTH=64,i.constants.HASH_BYTE_LENGTH=64,i.generateKeyPair=function(q){var K=(q=q||{}).seed;if(K===void 0)K=a.random.getBytesSync(i.constants.SEED_BYTE_LENGTH);else if(typeof K=="string"){if(K.length!==i.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+i.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(K instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');K=e({message:K,encoding:"binary"});for(var z=new n(i.constants.PUBLIC_KEY_BYTE_LENGTH),D=new n(i.constants.PRIVATE_KEY_BYTE_LENGTH),C=0;C<32;++C)D[C]=K[C];return function(P,U){var F,Y=[j(),j(),j(),j()],Q=k(U,32);for(Q[0]&=248,Q[31]&=127,Q[31]|=64,A(Y,Q),T(P,Y),F=0;F<32;++F)U[F+32]=P[F]}(z,D),{publicKey:z,privateKey:D}},i.privateKeyFromAsn1=function(q){var K={},z=[];if(!a.asn1.validate(q,s,K,z)){var D=new Error("Invalid Key.");throw D.errors=z,D}var C=a.asn1.derToOid(K.privateKeyOid),P=a.oids.EdDSA25519;if(C!==P)throw new Error('Invalid OID "'+C+'"; OID must be "'+P+'".');var U=K.privateKey;return{privateKeyBytes:e({message:a.asn1.fromDer(U).value,encoding:"binary"})}},i.publicKeyFromAsn1=function(q){var K={},z=[];if(!a.asn1.validate(q,o,K,z)){var D=new Error("Invalid Key.");throw D.errors=z,D}var C=a.asn1.derToOid(K.publicKeyOid),P=a.oids.EdDSA25519;if(C!==P)throw new Error('Invalid OID "'+C+'"; OID must be "'+P+'".');var U=K.ed25519PublicKey;if(U.length!==i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return e({message:U,encoding:"binary"})},i.publicKeyFromPrivateKey=function(q){var K=e({message:(q=q||{}).privateKey,encoding:"binary"});if(K.length!==i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+i.constants.PRIVATE_KEY_BYTE_LENGTH);for(var z=new n(i.constants.PUBLIC_KEY_BYTE_LENGTH),D=0;D<z.length;++D)z[D]=K[32+D];return z},i.sign=function(q){var K=e(q=q||{}),z=e({message:q.privateKey,encoding:"binary"});if(z.length===i.constants.SEED_BYTE_LENGTH)z=i.generateKeyPair({seed:z}).privateKey;else if(z.length!==i.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+i.constants.SEED_BYTE_LENGTH+" or "+i.constants.PRIVATE_KEY_BYTE_LENGTH);var D=new n(i.constants.SIGN_BYTE_LENGTH+K.length);!function(U,F,Y,Q){var W,Z,et=new Float64Array(64),X=[j(),j(),j(),j()],J=k(Q,32);for(J[0]&=248,J[31]&=127,J[31]|=64,W=0;W<Y;++W)U[64+W]=F[W];for(W=0;W<32;++W)U[32+W]=J[32+W];var ct=k(U.subarray(32),Y+32);for(w(ct),A(X,ct),T(U,X),W=32;W<64;++W)U[W]=Q[W];var tt=k(U,Y+64);for(w(tt),W=32;W<64;++W)et[W]=0;for(W=0;W<32;++W)et[W]=ct[W];for(W=0;W<32;++W)for(Z=0;Z<32;Z++)et[W+Z]+=tt[W]*J[Z];u(U.subarray(32),et)}(D,K,K.length,z);for(var C=new n(i.constants.SIGN_BYTE_LENGTH),P=0;P<C.length;++P)C[P]=D[P];return C},i.verify=function(q){var K=e(q=q||{});if(q.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var z=e({message:q.signature,encoding:"binary"});if(z.length!==i.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+i.constants.SIGN_BYTE_LENGTH);var D=e({message:q.publicKey,encoding:"binary"});if(D.length!==i.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+i.constants.PUBLIC_KEY_BYTE_LENGTH);var C,P=new n(i.constants.SIGN_BYTE_LENGTH+K.length),U=new n(i.constants.SIGN_BYTE_LENGTH+K.length);for(C=0;C<i.constants.SIGN_BYTE_LENGTH;++C)P[C]=z[C];for(C=0;C<K.length;++C)P[C+i.constants.SIGN_BYTE_LENGTH]=K[C];return function(F,Y,Q,W){var Z,et=new n(32),X=[j(),j(),j(),j()],J=[j(),j(),j(),j()];if(Q<64)return-1;if(function(tt,it){var ot=j(),rt=j(),nt=j(),St=j(),st=j(),at=j(),Tt=j();return B(tt[2],f),function(ut,ft){var Et;for(Et=0;Et<16;++Et)ut[Et]=ft[2*Et]+(ft[2*Et+1]<<8);ut[15]&=32767}(tt[1],it),G(nt,tt[1]),R(St,nt,d),H(nt,nt,tt[2]),$(St,tt[2],St),G(st,St),G(at,st),R(Tt,at,st),R(ot,Tt,nt),R(ot,ot,St),function(ut,ft){var Et,kt=j();for(Et=0;Et<16;++Et)kt[Et]=ft[Et];for(Et=250;Et>=0;--Et)G(kt,kt),Et!==1&&R(kt,kt,ft);for(Et=0;Et<16;++Et)ut[Et]=kt[Et]}(ot,ot),R(ot,ot,nt),R(ot,ot,St),R(ot,ot,St),R(tt[0],ot,St),G(rt,tt[0]),R(rt,rt,St),v(rt,nt)&&R(tt[0],tt[0],I),(G(rt,tt[0]),R(rt,rt,St),v(rt,nt))?-1:(E(tt[0])===it[31]>>7&&H(tt[0],c,tt[0]),R(tt[3],tt[0],tt[1]),0)}(J,W))return-1;for(Z=0;Z<Q;++Z)F[Z]=Y[Z];for(Z=0;Z<32;++Z)F[Z+32]=W[Z];var ct=k(F,Q);if(w(ct),m(X,J,ct),A(J,Y.subarray(32)),_(X,J),T(et,X),Q-=64,y(Y,0,et,0)){for(Z=0;Z<Q;++Z)F[Z]=0;return-1}for(Z=0;Z<Q;++Z)F[Z]=Y[Z+64];return Q}(U,P,P.length,D)>=0};var c=j(),f=j([1]),d=j([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=j([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=j([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=j([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),I=j([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function k(q,K){var z=a.md.sha512.create(),D=new t(q);z.update(D.getBytes(K),"binary");var C=z.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(C,"binary");for(var P=new n(i.constants.HASH_BYTE_LENGTH),U=0;U<64;++U)P[U]=C.charCodeAt(U);return P}function u(q,K){var z,D,C,P;for(D=63;D>=32;--D){for(z=0,C=D-32,P=D-12;C<P;++C)K[C]+=z-16*K[D]*S[C-(D-32)],z=K[C]+128>>8,K[C]-=256*z;K[C]+=z,K[D]=0}for(z=0,C=0;C<32;++C)K[C]+=z-(K[31]>>4)*S[C],z=K[C]>>8,K[C]&=255;for(C=0;C<32;++C)K[C]-=z*S[C];for(D=0;D<32;++D)K[D+1]+=K[D]>>8,q[D]=255&K[D]}function w(q){for(var K=new Float64Array(64),z=0;z<64;++z)K[z]=q[z],q[z]=0;u(q,K)}function _(q,K){var z=j(),D=j(),C=j(),P=j(),U=j(),F=j(),Y=j(),Q=j(),W=j();H(z,q[1],q[0]),H(W,K[1],K[0]),R(z,z,W),$(D,q[0],q[1]),$(W,K[0],K[1]),R(D,D,W),R(C,q[3],K[3]),R(C,C,p),R(P,q[2],K[2]),$(P,P,P),H(U,D,z),H(F,P,C),$(Y,P,C),$(Q,D,z),R(q[0],U,F),R(q[1],Q,Y),R(q[2],Y,F),R(q[3],U,Q)}function x(q,K,z){for(var D=0;D<4;++D)V(q[D],K[D],z)}function T(q,K){var z=j(),D=j(),C=j();!function(P,U){var F,Y=j();for(F=0;F<16;++F)Y[F]=U[F];for(F=253;F>=0;--F)G(Y,Y),F!==2&&F!==4&&R(Y,Y,U);for(F=0;F<16;++F)P[F]=Y[F]}(C,K[2]),R(z,K[0],C),R(D,K[1],C),N(q,D),q[31]^=E(z)<<7}function N(q,K){var z,D,C,P=j(),U=j();for(z=0;z<16;++z)U[z]=K[z];for(O(U),O(U),O(U),D=0;D<2;++D){for(P[0]=U[0]-65517,z=1;z<15;++z)P[z]=U[z]-65535-(P[z-1]>>16&1),P[z-1]&=65535;P[15]=U[15]-32767-(P[14]>>16&1),C=P[15]>>16&1,P[14]&=65535,V(U,P,1-C)}for(z=0;z<16;z++)q[2*z]=255&U[z],q[2*z+1]=U[z]>>8}function v(q,K){var z=new n(32),D=new n(32);return N(z,q),N(D,K),y(z,0,D,0)}function y(q,K,z,D){return function(C,P,U,F,Y){var Q,W=0;for(Q=0;Q<Y;++Q)W|=C[P+Q]^U[F+Q];return(1&W-1>>>8)-1}(q,K,z,D,32)}function E(q){var K=new n(32);return N(K,q),1&K[0]}function m(q,K,z){var D,C;for(B(q[0],c),B(q[1],f),B(q[2],f),B(q[3],c),C=255;C>=0;--C)x(q,K,D=z[C/8|0]>>(7&C)&1),_(K,q),_(q,q),x(q,K,D)}function A(q,K){var z=[j(),j(),j(),j()];B(z[0],h),B(z[1],b),B(z[2],f),R(z[3],h,b),m(q,z,K)}function B(q,K){var z;for(z=0;z<16;z++)q[z]=0|K[z]}function O(q){var K,z,D=1;for(K=0;K<16;++K)z=q[K]+D+65535,D=Math.floor(z/65536),q[K]=z-65536*D;q[0]+=D-1+37*(D-1)}function V(q,K,z){for(var D,C=~(z-1),P=0;P<16;++P)D=C&(q[P]^K[P]),q[P]^=D,K[P]^=D}function j(q){var K,z=new Float64Array(16);if(q)for(K=0;K<q.length;++K)z[K]=q[K];return z}function $(q,K,z){for(var D=0;D<16;++D)q[D]=K[D]+z[D]}function H(q,K,z){for(var D=0;D<16;++D)q[D]=K[D]-z[D]}function G(q,K){R(q,K,K)}function R(q,K,z){var D,C,P=0,U=0,F=0,Y=0,Q=0,W=0,Z=0,et=0,X=0,J=0,ct=0,tt=0,it=0,ot=0,rt=0,nt=0,St=0,st=0,at=0,Tt=0,ut=0,ft=0,Et=0,kt=0,_t=0,zt=0,At=0,It=0,qt=0,Ct=0,Bt=0,Lt=z[0],ht=z[1],dt=z[2],Nt=z[3],lt=z[4],pt=z[5],Dt=z[6],yt=z[7],bt=z[8],Ot=z[9],gt=z[10],mt=z[11],Ut=z[12],vt=z[13],wt=z[14],Kt=z[15];P+=(D=K[0])*Lt,U+=D*ht,F+=D*dt,Y+=D*Nt,Q+=D*lt,W+=D*pt,Z+=D*Dt,et+=D*yt,X+=D*bt,J+=D*Ot,ct+=D*gt,tt+=D*mt,it+=D*Ut,ot+=D*vt,rt+=D*wt,nt+=D*Kt,U+=(D=K[1])*Lt,F+=D*ht,Y+=D*dt,Q+=D*Nt,W+=D*lt,Z+=D*pt,et+=D*Dt,X+=D*yt,J+=D*bt,ct+=D*Ot,tt+=D*gt,it+=D*mt,ot+=D*Ut,rt+=D*vt,nt+=D*wt,St+=D*Kt,F+=(D=K[2])*Lt,Y+=D*ht,Q+=D*dt,W+=D*Nt,Z+=D*lt,et+=D*pt,X+=D*Dt,J+=D*yt,ct+=D*bt,tt+=D*Ot,it+=D*gt,ot+=D*mt,rt+=D*Ut,nt+=D*vt,St+=D*wt,st+=D*Kt,Y+=(D=K[3])*Lt,Q+=D*ht,W+=D*dt,Z+=D*Nt,et+=D*lt,X+=D*pt,J+=D*Dt,ct+=D*yt,tt+=D*bt,it+=D*Ot,ot+=D*gt,rt+=D*mt,nt+=D*Ut,St+=D*vt,st+=D*wt,at+=D*Kt,Q+=(D=K[4])*Lt,W+=D*ht,Z+=D*dt,et+=D*Nt,X+=D*lt,J+=D*pt,ct+=D*Dt,tt+=D*yt,it+=D*bt,ot+=D*Ot,rt+=D*gt,nt+=D*mt,St+=D*Ut,st+=D*vt,at+=D*wt,Tt+=D*Kt,W+=(D=K[5])*Lt,Z+=D*ht,et+=D*dt,X+=D*Nt,J+=D*lt,ct+=D*pt,tt+=D*Dt,it+=D*yt,ot+=D*bt,rt+=D*Ot,nt+=D*gt,St+=D*mt,st+=D*Ut,at+=D*vt,Tt+=D*wt,ut+=D*Kt,Z+=(D=K[6])*Lt,et+=D*ht,X+=D*dt,J+=D*Nt,ct+=D*lt,tt+=D*pt,it+=D*Dt,ot+=D*yt,rt+=D*bt,nt+=D*Ot,St+=D*gt,st+=D*mt,at+=D*Ut,Tt+=D*vt,ut+=D*wt,ft+=D*Kt,et+=(D=K[7])*Lt,X+=D*ht,J+=D*dt,ct+=D*Nt,tt+=D*lt,it+=D*pt,ot+=D*Dt,rt+=D*yt,nt+=D*bt,St+=D*Ot,st+=D*gt,at+=D*mt,Tt+=D*Ut,ut+=D*vt,ft+=D*wt,Et+=D*Kt,X+=(D=K[8])*Lt,J+=D*ht,ct+=D*dt,tt+=D*Nt,it+=D*lt,ot+=D*pt,rt+=D*Dt,nt+=D*yt,St+=D*bt,st+=D*Ot,at+=D*gt,Tt+=D*mt,ut+=D*Ut,ft+=D*vt,Et+=D*wt,kt+=D*Kt,J+=(D=K[9])*Lt,ct+=D*ht,tt+=D*dt,it+=D*Nt,ot+=D*lt,rt+=D*pt,nt+=D*Dt,St+=D*yt,st+=D*bt,at+=D*Ot,Tt+=D*gt,ut+=D*mt,ft+=D*Ut,Et+=D*vt,kt+=D*wt,_t+=D*Kt,ct+=(D=K[10])*Lt,tt+=D*ht,it+=D*dt,ot+=D*Nt,rt+=D*lt,nt+=D*pt,St+=D*Dt,st+=D*yt,at+=D*bt,Tt+=D*Ot,ut+=D*gt,ft+=D*mt,Et+=D*Ut,kt+=D*vt,_t+=D*wt,zt+=D*Kt,tt+=(D=K[11])*Lt,it+=D*ht,ot+=D*dt,rt+=D*Nt,nt+=D*lt,St+=D*pt,st+=D*Dt,at+=D*yt,Tt+=D*bt,ut+=D*Ot,ft+=D*gt,Et+=D*mt,kt+=D*Ut,_t+=D*vt,zt+=D*wt,At+=D*Kt,it+=(D=K[12])*Lt,ot+=D*ht,rt+=D*dt,nt+=D*Nt,St+=D*lt,st+=D*pt,at+=D*Dt,Tt+=D*yt,ut+=D*bt,ft+=D*Ot,Et+=D*gt,kt+=D*mt,_t+=D*Ut,zt+=D*vt,At+=D*wt,It+=D*Kt,ot+=(D=K[13])*Lt,rt+=D*ht,nt+=D*dt,St+=D*Nt,st+=D*lt,at+=D*pt,Tt+=D*Dt,ut+=D*yt,ft+=D*bt,Et+=D*Ot,kt+=D*gt,_t+=D*mt,zt+=D*Ut,At+=D*vt,It+=D*wt,qt+=D*Kt,rt+=(D=K[14])*Lt,nt+=D*ht,St+=D*dt,st+=D*Nt,at+=D*lt,Tt+=D*pt,ut+=D*Dt,ft+=D*yt,Et+=D*bt,kt+=D*Ot,_t+=D*gt,zt+=D*mt,At+=D*Ut,It+=D*vt,qt+=D*wt,Ct+=D*Kt,nt+=(D=K[15])*Lt,U+=38*(st+=D*dt),F+=38*(at+=D*Nt),Y+=38*(Tt+=D*lt),Q+=38*(ut+=D*pt),W+=38*(ft+=D*Dt),Z+=38*(Et+=D*yt),et+=38*(kt+=D*bt),X+=38*(_t+=D*Ot),J+=38*(zt+=D*gt),ct+=38*(At+=D*mt),tt+=38*(It+=D*Ut),it+=38*(qt+=D*vt),ot+=38*(Ct+=D*wt),rt+=38*(Bt+=D*Kt),P=(D=(P+=38*(St+=D*ht))+(C=1)+65535)-65536*(C=Math.floor(D/65536)),U=(D=U+C+65535)-65536*(C=Math.floor(D/65536)),F=(D=F+C+65535)-65536*(C=Math.floor(D/65536)),Y=(D=Y+C+65535)-65536*(C=Math.floor(D/65536)),Q=(D=Q+C+65535)-65536*(C=Math.floor(D/65536)),W=(D=W+C+65535)-65536*(C=Math.floor(D/65536)),Z=(D=Z+C+65535)-65536*(C=Math.floor(D/65536)),et=(D=et+C+65535)-65536*(C=Math.floor(D/65536)),X=(D=X+C+65535)-65536*(C=Math.floor(D/65536)),J=(D=J+C+65535)-65536*(C=Math.floor(D/65536)),ct=(D=ct+C+65535)-65536*(C=Math.floor(D/65536)),tt=(D=tt+C+65535)-65536*(C=Math.floor(D/65536)),it=(D=it+C+65535)-65536*(C=Math.floor(D/65536)),ot=(D=ot+C+65535)-65536*(C=Math.floor(D/65536)),rt=(D=rt+C+65535)-65536*(C=Math.floor(D/65536)),nt=(D=nt+C+65535)-65536*(C=Math.floor(D/65536)),P=(D=(P+=C-1+37*(C-1))+(C=1)+65535)-65536*(C=Math.floor(D/65536)),U=(D=U+C+65535)-65536*(C=Math.floor(D/65536)),F=(D=F+C+65535)-65536*(C=Math.floor(D/65536)),Y=(D=Y+C+65535)-65536*(C=Math.floor(D/65536)),Q=(D=Q+C+65535)-65536*(C=Math.floor(D/65536)),W=(D=W+C+65535)-65536*(C=Math.floor(D/65536)),Z=(D=Z+C+65535)-65536*(C=Math.floor(D/65536)),et=(D=et+C+65535)-65536*(C=Math.floor(D/65536)),X=(D=X+C+65535)-65536*(C=Math.floor(D/65536)),J=(D=J+C+65535)-65536*(C=Math.floor(D/65536)),ct=(D=ct+C+65535)-65536*(C=Math.floor(D/65536)),tt=(D=tt+C+65535)-65536*(C=Math.floor(D/65536)),it=(D=it+C+65535)-65536*(C=Math.floor(D/65536)),ot=(D=ot+C+65535)-65536*(C=Math.floor(D/65536)),rt=(D=rt+C+65535)-65536*(C=Math.floor(D/65536)),nt=(D=nt+C+65535)-65536*(C=Math.floor(D/65536)),P+=C-1+37*(C-1),q[0]=P,q[1]=U,q[2]=F,q[3]=Y,q[4]=Q,q[5]=W,q[6]=Z,q[7]=et,q[8]=X,q[9]=J,q[10]=ct,q[11]=tt,q[12]=it,q[13]=ot,q[14]=rt,q[15]=nt}},function(L,M,g){var a=M;function l(s){return s.length===1?"0"+s:s}function o(s){for(var r="",t=0;t<s.length;t++)r+=l(s[t].toString(16));return r}a.toArray=function(s,r){if(Array.isArray(s))return s.slice();if(!s)return[];var t=[];if(typeof s!="string"){for(var n=0;n<s.length;n++)t[n]=0|s[n];return t}if(r==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),n=0;n<s.length;n+=2)t.push(parseInt(s[n]+s[n+1],16));else for(n=0;n<s.length;n++){var i=s.charCodeAt(n),e=i>>8,c=255&i;e?t.push(e,c):t.push(c)}return t},a.zero2=l,a.toHex=o,a.encode=function(s,r){return r==="hex"?o(s):s}},function(L,M,g){var a;function l(s){this.rand=s}if(L.exports=function(s){return a||(a=new l(null)),a.generate(s)},L.exports.Rand=l,l.prototype.generate=function(s){return this._rand(s)},l.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var r=new Uint8Array(s),t=0;t<r.length;t++)r[t]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?l.prototype._rand=function(s){var r=new Uint8Array(s);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?l.prototype._rand=function(s){var r=new Uint8Array(s);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(l.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=g(198);if(typeof o.randomBytes!="function")throw new Error("Not supported");l.prototype._rand=function(s){return o.randomBytes(s)}}catch(s){}},function(L,M,g){var a=M;a.base=g(38),a.short=g(199),a.mont=g(200),a.edwards=g(201)},function(L,M,g){var a=g(10).rotr32;function l(r,t,n){return r&t^~r&n}function o(r,t,n){return r&t^r&n^t&n}function s(r,t,n){return r^t^n}M.ft_1=function(r,t,n,i){return r===0?l(t,n,i):r===1||r===3?s(t,n,i):r===2?o(t,n,i):void 0},M.ch32=l,M.maj32=o,M.p32=s,M.s0_256=function(r){return a(r,2)^a(r,13)^a(r,22)},M.s1_256=function(r){return a(r,6)^a(r,11)^a(r,25)},M.g0_256=function(r){return a(r,7)^a(r,18)^r>>>3},M.g1_256=function(r){return a(r,17)^a(r,19)^r>>>10}},function(L,M,g){var a=g(10),l=g(32),o=g(78),s=g(15),r=a.sum32,t=a.sum32_4,n=a.sum32_5,i=o.ch32,e=o.maj32,c=o.s0_256,f=o.s1_256,d=o.g0_256,p=o.g1_256,h=l.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}a.inherits(S,h),L.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(I,k){for(var u=this.W,w=0;w<16;w++)u[w]=I[k+w];for(;w<u.length;w++)u[w]=t(p(u[w-2]),u[w-7],d(u[w-15]),u[w-16]);var _=this.h[0],x=this.h[1],T=this.h[2],N=this.h[3],v=this.h[4],y=this.h[5],E=this.h[6],m=this.h[7];for(s(this.k.length===u.length),w=0;w<u.length;w++){var A=n(m,f(v),i(v,y,E),this.k[w],u[w]),B=r(c(_),e(_,x,T));m=E,E=y,y=v,v=r(N,A),N=T,T=x,x=_,_=r(A,B)}this.h[0]=r(this.h[0],_),this.h[1]=r(this.h[1],x),this.h[2]=r(this.h[2],T),this.h[3]=r(this.h[3],N),this.h[4]=r(this.h[4],v),this.h[5]=r(this.h[5],y),this.h[6]=r(this.h[6],E),this.h[7]=r(this.h[7],m)},S.prototype._digest=function(I){return I==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(L,M,g){var a=g(10),l=g(32),o=g(15),s=a.rotr64_hi,r=a.rotr64_lo,t=a.shr64_hi,n=a.shr64_lo,i=a.sum64,e=a.sum64_hi,c=a.sum64_lo,f=a.sum64_4_hi,d=a.sum64_4_lo,p=a.sum64_5_hi,h=a.sum64_5_lo,b=l.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}function k(B,O,V,j,$){var H=B&V^~B&$;return H<0&&(H+=4294967296),H}function u(B,O,V,j,$,H){var G=O&j^~O&H;return G<0&&(G+=4294967296),G}function w(B,O,V,j,$){var H=B&V^B&$^V&$;return H<0&&(H+=4294967296),H}function _(B,O,V,j,$,H){var G=O&j^O&H^j&H;return G<0&&(G+=4294967296),G}function x(B,O){var V=s(B,O,28)^s(O,B,2)^s(O,B,7);return V<0&&(V+=4294967296),V}function T(B,O){var V=r(B,O,28)^r(O,B,2)^r(O,B,7);return V<0&&(V+=4294967296),V}function N(B,O){var V=s(B,O,14)^s(B,O,18)^s(O,B,9);return V<0&&(V+=4294967296),V}function v(B,O){var V=r(B,O,14)^r(B,O,18)^r(O,B,9);return V<0&&(V+=4294967296),V}function y(B,O){var V=s(B,O,1)^s(B,O,8)^t(B,O,7);return V<0&&(V+=4294967296),V}function E(B,O){var V=r(B,O,1)^r(B,O,8)^n(B,O,7);return V<0&&(V+=4294967296),V}function m(B,O){var V=s(B,O,19)^s(O,B,29)^t(B,O,6);return V<0&&(V+=4294967296),V}function A(B,O){var V=r(B,O,19)^r(O,B,29)^n(B,O,6);return V<0&&(V+=4294967296),V}a.inherits(I,b),L.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(B,O){for(var V=this.W,j=0;j<32;j++)V[j]=B[O+j];for(;j<V.length;j+=2){var $=m(V[j-4],V[j-3]),H=A(V[j-4],V[j-3]),G=V[j-14],R=V[j-13],q=y(V[j-30],V[j-29]),K=E(V[j-30],V[j-29]),z=V[j-32],D=V[j-31];V[j]=f($,H,G,R,q,K,z,D),V[j+1]=d($,H,G,R,q,K,z,D)}},I.prototype._update=function(B,O){this._prepareBlock(B,O);var V=this.W,j=this.h[0],$=this.h[1],H=this.h[2],G=this.h[3],R=this.h[4],q=this.h[5],K=this.h[6],z=this.h[7],D=this.h[8],C=this.h[9],P=this.h[10],U=this.h[11],F=this.h[12],Y=this.h[13],Q=this.h[14],W=this.h[15];o(this.k.length===V.length);for(var Z=0;Z<V.length;Z+=2){var et=Q,X=W,J=N(D,C),ct=v(D,C),tt=k(D,C,P,U,F),it=u(D,C,P,U,F,Y),ot=this.k[Z],rt=this.k[Z+1],nt=V[Z],St=V[Z+1],st=p(et,X,J,ct,tt,it,ot,rt,nt,St),at=h(et,X,J,ct,tt,it,ot,rt,nt,St);et=x(j,$),X=T(j,$),J=w(j,$,H,G,R),ct=_(j,$,H,G,R,q);var Tt=e(et,X,J,ct),ut=c(et,X,J,ct);Q=F,W=Y,F=P,Y=U,P=D,U=C,D=e(K,z,st,at),C=c(z,z,st,at),K=R,z=q,R=H,q=G,H=j,G=$,j=e(st,at,Tt,ut),$=c(st,at,Tt,ut)}i(this.h,0,j,$),i(this.h,2,H,G),i(this.h,4,R,q),i(this.h,6,K,z),i(this.h,8,D,C),i(this.h,10,P,U),i(this.h,12,F,Y),i(this.h,14,Q,W)},I.prototype._digest=function(B){return B==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(L,M,g){const a=g(37),l=g(217),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};M.create=async function(s,r){const t=o[s],n=await a.get().subtle.importKey("raw",r,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{digest:async i=>(async(e,c)=>{const f=await a.get().subtle.sign({name:"HMAC"},e,c);return new Uint8Array(f,f.byteOffset,f.byteLength)})(n,i),length:l[s]}}},function(L,M,g){const a=(...t)=>{let n;for(;t.length;)n=t.shift()(n);return n},l=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),o=t=>t&&typeof t.sink=="function"&&l(t.source),s=t=>n=>(t.sink(n),t.source),r=(...t)=>{if(o(t[0])){const n=t[0];t[0]=()=>n.source}else if(l(t[0])){const n=t[0];t[0]=()=>n}if(t.length>1&&o(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let n=1;n<t.length-1;n++)o(t[n])&&(t[n]=s(t[n]));return a(...t)};L.exports=r,L.exports.pipe=r,L.exports.rawPipe=a,L.exports.isIterable=l,L.exports.isDuplex=o},function(L,M,g){M.encode=g(223),M.decode=g(224),M.varintEncode=g(85),M.varintDecode=g(86),M.int32BEEncode=g(225),M.int32BEDecode=g(226)},function(L,M,g){const{Buffer:a}=g(14),l=Symbol.for("BufferList");function o(s){if(!(this instanceof o))return new o(s);o._init.call(this,s)}o._init=function(s){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},o.prototype._new=function(s){return new o(s)},o.prototype._offset=function(s){if(s===0)return[0,0];let r=0;for(let t=0;t<this._bufs.length;t++){const n=r+this._bufs[t].length;if(s<n||t===this._bufs.length-1)return[t,s-r];r=n}},o.prototype._reverseOffset=function(s){const r=s[0];let t=s[1];for(let n=0;n<r;n++)t+=this._bufs[n].length;return t},o.prototype.get=function(s){if(s>this.length||s<0)return;const r=this._offset(s);return this._bufs[r[0]][r[1]]},o.prototype.slice=function(s,r){return typeof s=="number"&&s<0&&(s+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,s,r)},o.prototype.copy=function(s,r,t,n){if((typeof t!="number"||t<0)&&(t=0),(typeof n!="number"||n>this.length)&&(n=this.length),t>=this.length)return s||a.alloc(0);if(n<=0)return s||a.alloc(0);const i=!!s,e=this._offset(t),c=n-t;let f=c,d=i&&r||0,p=e[1];if(t===0&&n===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:a.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(s,d),d+=this._bufs[h].length;return s}if(f<=this._bufs[e[0]].length-p)return i?this._bufs[e[0]].copy(s,r,p,p+f):this._bufs[e[0]].slice(p,p+f);i||(s=a.allocUnsafe(c));for(let h=e[0];h<this._bufs.length;h++){const b=this._bufs[h].length-p;if(!(f>b)){this._bufs[h].copy(s,d,p,p+f),d+=b;break}this._bufs[h].copy(s,d,p),d+=b,f-=b,p&&(p=0)}return s.length>d?s.slice(0,d):s},o.prototype.shallowSlice=function(s,r){if(s=s||0,r=typeof r!="number"?this.length:r,s<0&&(s+=this.length),r<0&&(r+=this.length),s===r)return this._new();const t=this._offset(s),n=this._offset(r),i=this._bufs.slice(t[0],n[0]+1);return n[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),t[1]!==0&&(i[0]=i[0].slice(t[1])),this._new(i)},o.prototype.toString=function(s,r,t){return this.slice(r,t).toString(s)},o.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;){if(!(s>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const s=this._new();for(let r=0;r<this._bufs.length;r++)s.append(this._bufs[r]);return s},o.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(a.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let r=0;r<s.length;r++)this.append(s[r]);else if(this._isBufferList(s))for(let r=0;r<s._bufs.length;r++)this.append(s._bufs[r]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(a.from(s));return this},o.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},o.prototype.indexOf=function(s,r,t){if(t===void 0&&typeof r=="string"&&(t=r,r=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=a.from([s]):typeof s=="string"?s=a.from(s,t):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=a.from(s.buffer,s.byteOffset,s.byteLength):a.isBuffer(s)||(s=a.from(s)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),s.length===0)return r>this.length?this.length:r;const n=this._offset(r);let i=n[0],e=n[1];for(;i<this._bufs.length;i++){const c=this._bufs[i];for(;e<c.length;)if(c.length-e>=s.length){const f=c.indexOf(s,e);if(f!==-1)return this._reverseOffset([i,f]);e=c.length-s.length+1}else{const f=this._reverseOffset([i,e]);if(this._match(f,s))return f;e++}e=0}return-1},o.prototype._match=function(s,r){if(this.length-s<r.length)return!1;for(let t=0;t<r.length;t++)if(this.get(s+t)!==r[t])return!1;return!0},function(){const s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const r in s)!function(t){o.prototype[t]=s[t]===null?function(n,i){return this.slice(n,n+i)[t](0,i)}:function(n){return this.slice(n,n+s[t])[t](0)}}(r)}(),o.prototype._isBufferList=function(s){return s instanceof o||o.isBufferList(s)},o.isBufferList=function(s){return s!=null&&s[l]},L.exports=o},function(L,M,g){const a=g(4),{Buffer:l}=g(14),o=(s,r,t)=>{const n=a.encode(s,r,t);return o.bytes=a.encode.bytes,r||l.from(n)};L.exports=o},function(L,M,g){const{Buffer:a}=g(14),l=g(4),o=s=>{const r=l.decode(a.isBuffer(s)?s:(t=s,new Proxy({},{get:(n,i)=>i[0]==="l"?t[i]:t.get(parseInt(i))})));var t;return o.bytes=l.decode.bytes,r};L.exports=o},function(L,M,g){(function(a){Object.defineProperty(M,"__esModule",{value:!0}),M.hasNextTick=M.hasSetImmediate=void 0,M.fallback=i,M.wrap=e;var l,o=g(88),s=(l=o)&&l.__esModule?l:{default:l},r,t=M.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,n=M.hasNextTick=typeof a=="object"&&typeof a.nextTick=="function";function i(c){setTimeout(c,0)}function e(c){return function(f){var d=(0,s.default)(arguments,1);c(function(){f.apply(null,d)})}}r=t?setImmediate:n?a.nextTick:i,M.default=e(r)}).call(this,g(19))},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(a,l){l|=0;for(var o=Math.max(a.length-l,0),s=Array(o),r=0;r<o;r++)s[r]=a[l+r];return s},L.exports=M.default},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.isAsync=void 0;var a,l=g(264),o=(a=l)&&a.__esModule?a:{default:a},s=typeof Symbol=="function";function r(t){return s&&t[Symbol.toStringTag]==="AsyncFunction"}M.default=function(t){return r(t)?(0,o.default)(t):t},M.isAsync=r},function(L,M,g){const a=g(81),l=g(274),o=g(68);M.aes=l,M.hmac=a,M.keys=o,M.randomBytes=g(52),M.pbkdf2=g(277)},function(L,M,g){L.exports=g(92)},function(L,M,g){const{EventEmitter:a}=g(40),l=g(1),o=g(22),{MemoryDatastore:s}=g(43),r=g(8),t=g(146),n=g(3),i=g(16),e=g(222),c=g(246),f=g(270),d=g(273),p=g(13),h=g(278),b=g(284),S=g(287),I=o.Record;L.exports=class extends a{constructor({libp2p:k,dialer:u,peerId:w,peerStore:_,registrar:x,datastore:T=new s,kBucketSize:N=i.K,clientMode:v=!1,concurrency:y=i.ALPHA,validators:E={},selectors:m={},randomWalk:A={}}){if(super(),!u)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=k,this.dialer=u,this.peerId=w,this.peerStore=_,this.registrar=x,this.kBucketSize=N,this._clientMode=v,this.concurrency=y,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new t(this.peerId,this.kBucketSize),this.datastore=T,this.providers=new h(this.datastore,this.peerId),this.validators={pk:o.validator.validators.pk,...E},this.selectors={pk:o.selection.selectors.pk,...m},this.network=new e(this),this._log=n.logger(this.peerId),this.randomWalk=new b(this,A),this._queryManager=new S,this._running=!1,this.contentFetching=c(this),this.contentRouting=f(this),this.peerRouting=d(this)}get isStarted(){return this._running}async start(){this._running=!0,this.providers.start(),this._queryManager.start(),await this.network.start(),this.randomWalk.start()}stop(){return this._running=!1,this.randomWalk.stop(),this.providers.stop(),this._queryManager.stop(),this.network.stop()}async put(k,u,w={}){return this.contentFetching.put(k,u,w)}async get(k,u={}){return this.contentFetching.get(k,u)}async getMany(k,u,w={}){return this.contentFetching.getMany(k,u,w)}async provide(k){return this.contentRouting.provide(k)}async*findProviders(k,u={}){for await(const w of this.contentRouting.findProviders(k,u))yield w}async findPeer(k,u={}){return this.peerRouting.findPeer(k,u)}async*getClosestPeers(k,u={shallow:!1}){for await(const w of this.peerRouting.getClosestPeers(k,u))yield w}async getPublicKey(k){return this.peerRouting.getPublicKey(k)}_peerDiscovered(k,u){this.emit("peer",{id:k,multiaddrs:u})}async _nearestPeersToQuery(k){const u=await n.convertBuffer(k.key);return this.routingTable.closestPeers(u,this.kBucketSize).map(w=>{const _=this.peerStore.get(w);return{id:w,multiaddrs:_?_.addresses.map(x=>x.multiaddr):[]}})}async _betterPeersToQuery(k,u){return this._log("betterPeersToQuery"),(await this._nearestPeersToQuery(k)).filter(w=>this._isSelf(w.id)?(this._log.error("trying to return self as closer"),!1):!w.id.isEqual(u))}async _checkLocalDatastore(k){this._log("checkLocalDatastore: %b",k);const u=n.bufferToKey(k);let w;try{w=await this.datastore.get(u)}catch(x){if(x.code==="ERR_NOT_FOUND")return;throw x}const _=I.deserialize(w);if(!_)throw l("Invalid record","ERR_INVALID_RECORD");if(!(_.timeReceived==null||n.now()-_.timeReceived>i.MAX_RECORD_AGE))return _;await this.datastore.delete(u)}async _add(k){await this.routingTable.add(k)}async _verifyRecordLocally(k){this._log("verifyRecordLocally"),await o.validator.verifyRecord(this.validators,k)}_isSelf(k){return k&&r(this.peerId.id,k.id)}async _putValueToPeer(k,u,w){const _=new p(p.TYPES.PUT_VALUE,k,0);if(_.record=u,!(await this.network.sendRequest(w,_)).record.value.equals(I.deserialize(u).value))throw l(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(k,u){const w=await this._getValueSingle(k,u),_=w.closerPeers,x=w.record;if(x){try{await this._verifyRecordOnline(x)}catch(T){const N="invalid record received, discarded";throw this._log(N),l(new Error(N),"ERR_INVALID_RECORD")}return{record:x,peers:_}}if(_.length>0)return{peers:_};throw l(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(k,u){const w=new p(p.TYPES.GET_VALUE,u,0);return this.network.sendRequest(k,w)}async _verifyRecordOnline(k){await o.validator.verifyRecord(this.validators,k)}},L.exports.multicodec=i.PROTOCOL_DHT},function(L,M,g){const a=g(17)(g(122)).Record,l=g(123);class o{constructor(s,r,t){if(!(s instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=s,this.value=r,this.timeReceived=t}serialize(){return a.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&l.toRFC3339(this.timeReceived)}}static deserialize(s){const r=a.decode(s);return o.fromDeserialized(r)}static fromDeserialized(s){let r;return s.timeReceived&&(r=l.parseRFC3339(s.timeReceived)),new o(s.key,s.value,r)}}L.exports=o},function(L,M,g){var a=g(95),l=g(97);L.exports=a,L.exports.parse=a,L.exports.stringify=l},function(L,M,g){var a=g(96),l=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],o=function(k){for(var u={};k.length;)switch(k[0]){case"[":case",":k.shift();var w=k.shift();if(w==="("&&(w=k.shift(),k.shift()),k[0]!=="=")throw new Error("Unexpected token in field options: "+k[0]);if(k.shift(),k[0]==="]")throw new Error("Unexpected ] in field option");u[w]=k.shift();break;case"]":return k.shift(),u;default:throw new Error("Unexpected token in field options: "+k[0])}throw new Error("No closing tag for field options")},s=function(k){for(var u={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};k.length;)switch(k[0]){case"=":k.shift(),u.tag=Number(k.shift());break;case"map":if(u.type="map",u.map={from:null,to:null},k.shift(),k[0]!=="<")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),u.map.from=k.shift(),k[0]!==",")throw new Error("Unexpected token in map type: "+k[0]);if(k.shift(),u.map.to=k.shift(),k[0]!==">")throw new Error("Unexpected token in map type: "+k[0]);k.shift(),u.name=k.shift();break;case"repeated":case"required":case"optional":var w=k.shift();u.required=w==="required",u.repeated=w==="repeated",u.type=k.shift(),u.name=k.shift();break;case"[":u.options=o(k);break;case";":if(u.name===null)throw new Error("Missing field name");if(u.type===null)throw new Error("Missing type in message field: "+u.name);if(u.tag===-1)throw new Error("Missing tag number in message field: "+u.name);return k.shift(),u;default:throw new Error("Unexpected token in message field: "+k[0])}throw new Error("No ; found for message field")},r=function(k){for(var u={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};k.length;)switch(k[0]){case"map":case"repeated":case"optional":case"required":u.fields.push(s(k));break;case"enum":u.enums.push(d(k));break;case"message":u.messages.push(i(k));break;case"extensions":u.extensions=n(k);break;case"oneof":k.shift();var w=k.shift();if(k[0]!=="{")throw new Error("Unexpected token in oneof: "+k[0]);for(k.shift();k[0]!=="}";){k.unshift("optional");var _=s(k);_.oneof=w,u.fields.push(_)}k.shift();break;case"extend":u.extends.push(t(k));break;case";":k.shift();break;case"reserved":for(k.shift();k[0]!==";";)k.shift();break;case"option":var x=p(k);if(u.options[x.name]!==void 0)throw new Error("Duplicate option "+x.name);u.options[x.name]=x.value;break;default:k.unshift("optional"),u.fields.push(s(k))}return u},t=function(k){return{name:k[1],message:i(k)}},n=function(k){k.shift();var u=Number(k.shift());if(isNaN(u))throw new Error("Invalid from in extensions definition");if(k.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var w=k.shift();if(w==="max"&&(w=536870911),w=Number(w),isNaN(w))throw new Error("Invalid to in extensions definition");if(k.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:u,to:w}},i=function(k){k.shift();var u=1,w=[],_={name:k.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="{"?u++:k[0]==="}"&&u--,!u)return k.shift(),w=r(w),_.enums=w.enums,_.messages=w.messages,_.fields=w.fields,_.extends=w.extends,_.extensions=w.extensions,_.options=w.options,_;w.push(k.shift())}if(u)throw new Error("No closing tag for message")},e=function(k){k.shift();var u=k.shift();if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),u},c=function(k){if(k.shift(),k[0]!=="=")throw new Error("Expected = but found "+k[0]);k.shift();var u=k.shift();switch(u){case'"proto2"':u=2;break;case'"proto3"':u=3;break;default:throw new Error("Expected protobuf syntax version but found "+u)}if(k[0]!==";")throw new Error("Expected ; but found "+k[0]);return k.shift(),u},f=function(k){if(k.length<4)throw new Error("Invalid enum value: "+k.slice(0,3).join(" "));if(k[1]!=="=")throw new Error("Expected = but found "+k[1]);if(k[3]!==";"&&k[3]!=="[")throw new Error("Expected ; or [ but found "+k[1]);var u=k.shift();k.shift();var w={value:null,options:{}};return w.value=Number(k.shift()),k[0]==="["&&(w.options=o(k)),k.shift(),{name:u,val:w}},d=function(k){k.shift();var u={},w={name:k.shift(),values:{},options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),w;if(k[0]!=="option"){var _=f(k);w.values[_.name]=_.val}else u=p(k),w.options[u.name]=u.value}throw new Error("No closing tag for enum")},p=function(k){for(var u=null,w=null,_=function(T){return T==="true"||T!=="false"&&T.replace(/^"+|"+$/gm,"")};k.length;){if(k[0]===";")return k.shift(),{name:u,value:w};switch(k[0]){case"option":k.shift();var x=k[0]==="(";if(x&&k.shift(),u=k.shift(),x){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}k[0][0]==="."&&(u+=k.shift());break;case"=":if(k.shift(),u===null)throw new Error("Expected key for option with value: "+k[0]);if(w=_(k.shift()),u==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(w))throw new Error("Unexpected value for option optimize_for: "+w);w==="{"&&(w=h(k));break;default:throw new Error("Unexpected token in option: "+k[0])}}},h=function(k){for(var u=function(N){return N==="true"||N!=="false"&&N.replace(/^"+|"+$/gm,"")},w={};k.length;){if(k[0]==="}")return k.shift(),w;var _=k[0]==="(";_&&k.shift();var x=k.shift();if(_){if(k[0]!==")")throw new Error("Expected ) but found "+k[0]);k.shift()}var T=null;switch(k[0]){case":":if(w[x]!==void 0)throw new Error("Duplicate option map key "+x);k.shift(),(T=u(k.shift()))==="{"&&(T=h(k)),w[x]=T,k[0]===";"&&k.shift();break;case"{":if(k.shift(),T=h(k),w[x]===void 0&&(w[x]=[]),!Array.isArray(w[x]))throw new Error("Duplicate option map key "+x);w[x].push(T);break;default:throw new Error("Unexpected token in option map: "+k[0])}}throw new Error("No closing tag for option map")},b=function(k){k.shift();var u=k.shift().replace(/^"+|"+$/gm,"");if(k[0]!==";")throw new Error("Unexpected token: "+k[0]+'. Expected ";"');return k.shift(),u},S=function(k){k.shift();var u={name:k.shift(),methods:[],options:{}};if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),u;switch(k[0]){case"option":var w=p(k);if(u.options[w.name]!==void 0)throw new Error("Duplicate option "+w.name);u.options[w.name]=w.value;break;case"rpc":u.methods.push(I(k));break;default:throw new Error("Unexpected token in service: "+k[0])}}throw new Error("No closing tag for service")},I=function(k){k.shift();var u={name:k.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),u.client_streaming=!0),u.input_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]!=="returns")throw new Error("Expected returns but found "+k[0]);if(k.shift(),k[0]!=="(")throw new Error("Expected ( but found "+k[0]);if(k.shift(),k[0]==="stream"&&(k.shift(),u.server_streaming=!0),u.output_type=k.shift(),k[0]!==")")throw new Error("Expected ) but found "+k[0]);if(k.shift(),k[0]===";")return k.shift(),u;if(k[0]!=="{")throw new Error("Expected { but found "+k[0]);for(k.shift();k.length;){if(k[0]==="}")return k.shift(),k[0]===";"&&k.shift(),u;if(k[0]!=="option")throw new Error("Unexpected token in rpc options: "+k[0]);var w=p(k);if(u.options[w.name]!==void 0)throw new Error("Duplicate option "+w.name);u.options[w.name]=w.value}throw new Error("No closing tag for rpc")};L.exports=function(k){for(var u=a(k.toString()),w=0;w<u.length;w++){var _;if(/^("|')([^'"]*)$/.test(u[w])){for(_=u[w].length===1?w+1:w;_<u.length;_++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(u[_])){u=u.slice(0,w).concat(u.slice(w,_+1).join("")).concat(u.slice(_+1));break}}}for(var x={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},T=!0;u.length;){switch(u[0]){case"package":x.package=e(u);break;case"syntax":if(!T)throw new Error("Protobuf syntax version should be first thing in file");x.syntax=c(u);break;case"message":x.messages.push(i(u));break;case"enum":x.enums.push(d(u));break;case"option":var N=p(u);if(x.options[N.name])throw new Error("Duplicate option "+N.name);x.options[N.name]=N.value;break;case"import":x.imports.push(b(u));break;case"extend":x.extends.push(t(u));break;case"service":x.services||(x.services=[]),x.services.push(S(u));break;default:throw new Error("Unexpected token: "+u[0])}T=!1}return x.extends.forEach(function(v){x.messages.forEach(function(y){y.name===v.name&&v.message.fields.forEach(function(E){if(!y.extensions||E.tag<y.extensions.from||E.tag>y.extensions.to)throw new Error(y.name+" does not declare "+E.tag+" as an extension number");y.fields.push(E)})})}),x.messages.forEach(function(v){v.fields.forEach(function(y){var E,m,A,B;if(y.options&&y.options.packed==="true"&&l.indexOf(y.type)===-1){if(y.type.indexOf(".")===-1){if(v.enums&&v.enums.some(function(O){return O.name===y.type}))return}else{if((E=y.type.split(".")).length>2)throw new Error("what is this?");if(m=E[0],A=E[1],x.messages.some(function(O){if(O.name===m)return B=O,O}),B&&B.enums&&B.enums.some(function(O){return O.name===A}))return}throw new Error("Fields of type "+y.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),x}},function(L,M,g){L.exports=function(a){var l,o=function(s){return s.trim()};return a.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(o).filter(Boolean).map(function(s){var r=s.indexOf("//");return r>-1?s.slice(0,r):s}).map(o).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter((l=!1,function(s){return s==="/*"?(l=!0,!1):s==="*/"?(l=!1,!1):!l}))}},function(L,M,g){var a=function(e,c){var f=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(f="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(f="");var d=Object.keys(e.options||{}).map(function(p){return p+" = "+e.options[p]}).join(",");return d&&(d=" ["+d+"]"),c.push((f?f+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+d+";"),c},l=function(e,c){c.push("message "+e.name+" {"),e.options||(e.options={}),r(e.options,c),e.enums||(e.enums=[]),e.enums.forEach(function(d){c.push(o(d,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(d){c.push(l(d,[]))});var f={};return e.fields||(e.fields=[]),e.fields.forEach(function(d){d.oneof?(f[d.oneof]||(f[d.oneof]=[]),f[d.oneof].push(a(d,[]))):c.push(a(d,[]))}),Object.keys(f).forEach(function(d){f[d].unshift("oneof "+d+" {"),f[d].push("}"),c.push(f[d])}),c.push("}",""),c},o=function(e,c){c.push("enum "+e.name+" {"),e.options||(e.options={});var f=r(e.options,[]);return f.length>1&&c.push(f.slice(0,-1)),Object.keys(e.values).map(function(d){var p=s(e.values[d]);c.push([d+" = "+p+";"])}),c.push("}",""),c},s=function(e,c){var f=Object.keys(e.options||{}).map(function(d){return d+" = "+e.options[d]}).join(",");return f&&(f=" ["+f+"]"),e.value+f},r=function(e,c){var f=Object.keys(e);return f.forEach(function(d){var p=e[d];~d.indexOf(".")&&(d="("+d+")");var h=typeof p;h==="object"?(p=t(p,[])).length&&c.push("option "+d+" = {",p,"};"):(h==="string"&&d!=="optimize_for"&&(p='"'+p+'"'),c.push("option "+d+" = "+p+";"))}),f.length>0&&c.push(""),c},t=function(e,c){return Object.keys(e).forEach(function(f){var d=e[f],p=typeof d;p==="object"?Array.isArray(d)?d.forEach(function(h){(h=t(h,[])).length&&c.push(f+" {",h,"}")}):(d=t(d,[])).length&&c.push(f+" {",d,"}"):(p==="string"&&(d='"'+d+'"'),c.push(f+": "+d))}),c},n=function(e,c){var f="rpc "+e.name+"(";e.client_streaming&&(f+="stream "),f+=e.input_type+") returns (",e.server_streaming&&(f+="stream "),f+=e.output_type+")",e.options||(e.options={});var d=r(e.options,[]);return d.length>1?c.push(f+" {",d.slice(0,-1),"}"):c.push(f+";"),c},i=function(e){return function(c){return Array.isArray(c)?c.map(i(e+"  ")).join(`
`):e+c}};L.exports=function(e){var c=[];return c.push('syntax = "proto'+e.syntax+'";',""),e.package&&c.push("package "+e.package+";",""),e.options||(e.options={}),r(e.options,c),e.enums||(e.enums=[]),e.enums.forEach(function(f){o(f,c)}),e.messages||(e.messages=[]),e.messages.forEach(function(f){l(f,c)}),e.services&&e.services.forEach(function(f){!function(d,p){p.push("service "+d.name+" {"),d.options||(d.options={}),r(d.options,p),d.methods||(d.methods=[]),d.methods.forEach(function(h){p.push(n(h,[]))}),p.push("}","")}(f,c)}),c.map(i("")).join(`
`)}},function(L,M,g){const a=g(99),l=g(119),o=g(120),s=g(121),r=g(4);L.exports=function(t,n){const i={},e={},c={},f=function(h,b){h.enums&&h.enums.forEach(function(S){S.id=b+(b?".":"")+S.name,e[S.id]=S,f(S,S.id)}),h.messages&&h.messages.forEach(function(S){S.id=b+(b?".":"")+S.name,i[S.id]=S,S.fields.forEach(function(I){if(!I.map)return;const k="Map_"+I.map.from+"_"+I.map.to,u={name:k,enums:[],messages:[],fields:[{name:"key",type:I.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:I.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:b+(b?".":"")+k};i[u.id]||(i[u.id]=u,h.messages.push(u)),I.type=k,I.repeated=!0}),f(S,S.id)})};f(t,"");const d=function(h,b){h.messages.forEach(function(_){b[_.name]=p(_.name,h.id)}),h.enums.forEach(function(_){b[_.name]=function(x){if(!x)return null;const T={};return Object.keys(x).forEach(function(N){T[N]=x[N].value}),T}(_.values)}),b.type=2,b.message=!0,b.name=h.name;const S={};h.fields.forEach(function(_){_.oneof&&(S[_.oneof]||(S[_.oneof]=[]),S[_.oneof].push(_.name))});const I=h.fields.map(function(_){return p(_.type,h.id)}),k=s(h,I,S),u=o(h,p,I,S,k),w=l(h,p,I);return u.bytes=w.bytes=0,b.buffer=!0,b.encode=u,b.decode=w,b.encodingLength=k,b},p=function(h,b,S){if(n&&n[h])return n[h];if(a[h])return a[h];const I=(b?b+"."+h:h).split(".").map(function(k,u,w){return w.slice(0,u).concat(h).join(".")}).reverse().reduce(function(k,u){return k||i[u]||e[u]},null);if(S===!1)return I;if(!I)throw new Error("Could not resolve "+h);return I.values?function(k){const u=Object.keys(k.values||[]).map(function(w){return parseInt(k.values[w].value,10)});return a.make(0,function w(_,x,T,N){if(!u.length||u.indexOf(_)===-1)throw new Error("Invalid enum value: "+_);return r.encode(_,x,N),w.bytes=r.encode.bytes,x},function w(_,x,T){var N=r.decode(_,T);if(!u.length||u.indexOf(N)===-1)throw new Error("Invalid enum value: "+N);return w.bytes=r.decode.bytes,N},r.encodingLength)}(I):c[I.id]||d(I,c[I.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(h){return p(h.id)}))}},function(L,M,g){M.make=g(6),M.bytes=g(100),M.string=g(104),M.bool=g(108),M.int32=g(109),M.int64=g(110),M.sint32=M.sint64=g(111),M.uint32=M.uint64=M.enum=M.varint=g(113),M.fixed64=M.sfixed64=g(114),M.double=g(115),M.fixed32=g(116),M.sfixed32=g(117),M.float=g(118)},function(L,M,g){const a=g(4),l=g(6);function o(s){return s.byteLength}L.exports=l(2,function s(r,t,n,i){const e=i,c=o(r);a.encode(c,t,i),i+=a.encode.bytes,t.set(r,i),s.bytes=(i+=c)-e},function s(r,t,n){const i=n,e=a.decode(r,n);n+=a.decode.bytes;const c=r.slice(n,n+e);return n+=c.length,s.bytes=n-i,c},function(s){const r=o(s);return a.encodingLength(r)+r})},function(L,M,g){L.exports=function l(o,s,r){s=s||[];for(var t=r=r||0;o>=a;)s[r++]=255&o|128,o/=128;for(;-128&o;)s[r++]=255&o|128,o>>>=7;return s[r]=0|o,l.bytes=r-t+1,s};var a=Math.pow(2,31)},function(L,M,g){L.exports=function a(l,o){var s,r=0,t=0,n=o=o||0,i=l.length;do{if(n>=i)throw a.bytes=0,new RangeError("Could not decode varint");s=l[n++],r+=t<28?(127&s)<<t:(127&s)*Math.pow(2,t),t+=7}while(s>=128);return a.bytes=n-o,r}},function(L,M,g){var a=Math.pow(2,7),l=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),r=Math.pow(2,35),t=Math.pow(2,42),n=Math.pow(2,49),i=Math.pow(2,56),e=Math.pow(2,63);L.exports=function(c){return c<a?1:c<l?2:c<o?3:c<s?4:c<r?5:c<t?6:c<n?7:c<i?8:c<e?9:10}},function(L,M,g){const a=g(4),l=g(7),o=g(5),s=g(6);L.exports=s(2,function r(t,n,i,e){const c=e,f=l(t).byteLength;a.encode(f,n,e,"utf-8"),e+=a.encode.bytes;const d=l(t);n.set(d,e),e+=d.length,r.bytes=e-c},function r(t,n,i){const e=i,c=a.decode(t,i);i+=a.decode.bytes;const f=o(t.subarray(i,i+c));return r.bytes=(i+=c)-e,f},function(r){const t=l(r).byteLength;return a.encodingLength(t)+t})},function(L,M,g){L.exports=function(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var l=new Uint8Array(256),o=0;o<l.length;o++)l[o]=255;for(var s=0;s<a.length;s++){var r=a.charAt(s),t=r.charCodeAt(0);if(l[t]!==255)throw new TypeError(r+" is ambiguous");l[t]=s}var n=a.length,i=a.charAt(0),e=Math.log(n)/Math.log(256),c=Math.log(256)/Math.log(n);function f(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var p=0;if(d[p]!==" "){for(var h=0,b=0;d[p]===i;)h++,p++;for(var S=(d.length-p)*e+1>>>0,I=new Uint8Array(S);d[p];){var k=l[d.charCodeAt(p)];if(k===255)return;for(var u=0,w=S-1;(k!==0||u<b)&&w!==-1;w--,u++)k+=n*I[w]>>>0,I[w]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");b=u,p++}if(d[p]!==" "){for(var _=S-b;_!==S&&I[_]===0;)_++;for(var x=new Uint8Array(h+(S-_)),T=h;_!==S;)x[T++]=I[_++];return x}}}return{encode:function(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var p=0,h=0,b=0,S=d.length;b!==S&&d[b]===0;)b++,p++;for(var I=(S-b)*c+1>>>0,k=new Uint8Array(I);b!==S;){for(var u=d[b],w=0,_=I-1;(u!==0||w<h)&&_!==-1;_--,w++)u+=256*k[_]>>>0,k[_]=u%n>>>0,u=u/n>>>0;if(u!==0)throw new Error("Non-zero carry");h=w,b++}for(var x=I-h;x!==I&&k[x]===0;)x++;for(var T=i.repeat(p);x<I;++x)T+=a.charAt(k[x]);return T},decodeUnsafe:f,decode:function(d){var p=f(d);if(p)return p;throw new Error("Non-base"+n+" character")}}}},function(L,M,g){const{encodeText:a}=g(41);L.exports=class{constructor(l,o,s,r){this.name=l,this.code=o,this.codeBuf=a(this.code),this.alphabet=r,this.engine=s(r)}encode(l){return this.engine.encode(l)}decode(l){for(const o of l)if(this.alphabet&&this.alphabet.indexOf(o)<0)throw new Error(`invalid character '${o}' in '${l}'`);return this.engine.decode(l)}}},function(L,M,g){L.exports=a=>l=>({encode:o=>((s,r,t)=>{const n=r[r.length-1]==="=",i=(1<<t)-1;let e="",c=0,f=0;for(let d=0;d<s.length;++d)for(f=f<<8|s[d],c+=8;c>t;)c-=t,e+=r[i&f>>c];if(c&&(e+=r[i&f<<t-c]),n)for(;e.length*t&7;)e+="=";return e})(o,l,a),decode:o=>((s,r,t)=>{const n={};for(let p=0;p<r.length;++p)n[r[p]]=p;let i=s.length;for(;s[i-1]==="=";)--i;const e=new Uint8Array(i*t/8|0);let c=0,f=0,d=0;for(let p=0;p<i;++p){const h=n[s[p]];if(h===void 0)throw new SyntaxError("Invalid character "+s[p]);f=f<<t|h,c+=t,c>=8&&(c-=8,e[d++]=255&f>>c)}if(c>=t||255&f<<8-c)throw new SyntaxError("Unexpected end of data");return e})(o,l,a)})},function(L,M,g){const a=g(6);L.exports=a(0,function l(o,s,r,t){s[t]=o?1:0,l.bytes=1},function l(o,s,r){const t=o[r]>0;return l.bytes=1,t},function(){return 1})},function(L,M,g){const a=g(4),l=g(6);L.exports=l(0,function o(s,r,t,n){a.encode(s<0?s+4294967296:s,r,n),o.bytes=a.encode.bytes},function o(s,r,t){const n=a.decode(s,t);return o.bytes=a.decode.bytes,n>2147483647?n-4294967296:n},function(o){return a.encodingLength(o<0?o+4294967296:o)})},function(L,M,g){const a=g(4),l=g(6);L.exports=l(0,function o(s,r,t,n){if(s<0){const i=n+9;for(a.encode(-1*s,r,n),r[n+=a.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,o.bytes=10}else a.encode(s,r,n),o.bytes=a.encode.bytes},function o(s,r,t){let n=a.decode(s,t);if(n>=Math.pow(2,63)){let i=9;for(;s[t+i-1]===255;)i--;i=i||9;const e=s.subarray(t,t+i);e[i-1]=127&e[i-1],n=-1*a.decode(e,0),o.bytes=10}else o.bytes=a.decode.bytes;return n},function(o){return o<0?10:a.encodingLength(o)})},function(L,M,g){const a=g(112),l=g(6);L.exports=l(0,function o(s,r,t,n){a.encode(s,r,n),o.bytes=a.encode.bytes},function o(s,r,t){const n=a.decode(s,t);return o.bytes=a.decode.bytes,n},a.encodingLength)},function(L,M,g){var a=g(4);M.encode=function l(o,s,r){o=o>=0?2*o:-2*o-1;var t=a.encode(o,s,r);return l.bytes=a.encode.bytes,t},M.decode=function l(o,s){var r=a.decode(o,s);return l.bytes=a.decode.bytes,1&r?(r+1)/-2:r/2},M.encodingLength=function(l){return a.encodingLength(l>=0?2*l:-2*l-1)}},function(L,M,g){const a=g(4),l=g(6);L.exports=l(0,function o(s,r,t,n){a.encode(s,r,n),o.bytes=a.encode.bytes},function o(s,r,t){const n=a.decode(s,t);return o.bytes=a.decode.bytes,n},a.encodingLength)},function(L,M,g){const a=g(6);L.exports=a(1,function l(o,s,r,t){for(const n of o)s[t]=n,t++;l.bytes=8},function l(o,s,r){const t=o.slice(r,r+8);return l.bytes=8,t},function(){return 8})},function(L,M,g){const a=g(6);L.exports=a(1,function l(o,s,r,t){r.setFloat64(t,o,!0),l.bytes=8},function l(o,s,r){const t=s.getFloat64(r,!0);return l.bytes=8,t},function(){return 8})},function(L,M,g){const a=g(6);L.exports=a(5,function l(o,s,r,t){r.setUint32(t,o,!0),l.bytes=4},function l(o,s,r){const t=s.getUint32(r,!0);return l.bytes=4,t},function(l){return 4})},function(L,M,g){const a=g(6);L.exports=a(5,function l(o,s,r,t){r.setInt32(t,o,!0),l.bytes=4},function l(o,s,r){const t=s.getInt32(r,!0);return l.bytes=4,t},function(l){return 4})},function(L,M,g){const a=g(6);L.exports=a(5,function l(o,s,r,t){r.setFloat32(t,o,!0),l.bytes=4},function l(o,s,r){const t=s.getFloat32(r,!0);return l.bytes=4,t},function(){return 4})},function(L,M,g){const a=g(4),l=g(42).defined;function o(i){return`${i.substring(0,1).toUpperCase()}${i.substring(1)}`}function s(i,e,c,f){if(Object.prototype.hasOwnProperty.call(i,e))return;const d=o(e);Object.defineProperties(i,{[e]:{enumerable:!0,configurable:!0,set:p=>{c=p},get:()=>c===void 0?f:c},["has"+d]:{configurable:!0,value:()=>c!==void 0},["set"+d]:{configurable:!0,value:p=>{c=p}},["get"+d]:{configurable:!0,value:()=>c},["clear"+d]:{configurable:!0,value:()=>{c=void 0,i[e]=void 0}}})}var r=function(i,e,c,f){switch(i){case 0:return a.decode(e,f),f+a.decode.bytes;case 1:return f+8;case 2:var d=a.decode(e,f);return f+a.decode.bytes+d;case 3:case 4:throw new Error("Groups are not supported");case 5:return f+4;default:throw new Error("Unknown wire type: "+i)}},t=function(i){if(i.map)return{};if(i.repeated)return[];switch(i.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},n=function(i,e){if(e===void 0)return e;switch(i.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};L.exports=function(i,e,c){const f=[],d={},p=[],h=[];for(var b=0;b<c.length;b++){const I=i.fields[b];d[I.tag]=b;const k=I.options&&I.options.default,u=e(I.type,i.id,!1);h[b]=[k,u&&u.values],i.fields[b].packed=I.repeated&&I.options&&I.options.packed&&I.options.packed!=="false",I.required&&f.push(I.name),I.oneof&&p.push(I.name)}function S(I,k,u,w,_,x,T){const N=k.name;if(k.oneof){const E=Object.keys(u);for(var v=0;v<E.length;v++)if(p.indexOf(E[v])>-1){const m=o(E[v]);delete u["has"+m],delete u["get"+m],delete u["set"+m],delete u["clear"+m],delete u[E[v]]}}let y;if(I.message){const E=a.decode(w,x);x+=a.decode.bytes;const m=I.decode(w,_,x,x+E);k.map?(y=u[N]||{},y[m.key]=m.value):k.repeated?(y=u[N]||[],y.push(m)):y=m}else k.repeated?(y=u[N]||[],y.push(I.decode(w,_,x))):y=I.decode(w,_,x);return s(u,N,y),x+=I.decode.bytes}return function I(k,u,w,_){if(w==null&&(w=0),_==null&&(_=k.length),!(_<=k.length&&w<=k.length))throw new Error("Decoded message is not valid");u||(u=new DataView(k.buffer,k.byteOffset,k.byteLength));for(var x,T=w,N={};;){if(_<=w){var v,y,E="",m=0;for(m=0;m<f.length;m++)if(E=f[m],!l(N[E]))throw new Error("Decoded message is not valid, missing required field: "+E);for(m=0;m<c.length;m++){let G;if(x=i.fields[m],y=h[m][0],v=h[m][1],E=x.name,!Object.prototype.hasOwnProperty.call(N,E)){var A=!1;if(x.oneof){for(var B=Object.keys(N),O=0;O<B.length;O++)if(p.indexOf(B[O])>-1){A=!0;break}}A||(v?x.repeated?y=[]:(y=y&&v[y]?v[y].value:v[Object.keys(v)[0]].value,y=parseInt(y||0,10)):(G=t(x),y=n(x,y)),s(N,E,y,G))}}return I.bytes=w-T,N}var V=a.decode(k,w);w+=a.decode.bytes;var j=d[V>>3];if(j!=null){var $=c[j];if((x=i.fields[j]).packed){var H=a.decode(k,w);for(H+=w+=a.decode.bytes;w<H;)w=S($,x,N,k,u,w)}else w=S($,x,N,k,u,w)}else w=r(7&V,k,u,w)}}}},function(L,M,g){var a=g(42).defined,l=g(4);L.exports=function(o,s,r,t,n){const i=Object.keys(t),e=r.length,c={};for(let d=0;d<e;d++){c[d]={p:l.encode(o.fields[d].tag<<3|2),h:l.encode(o.fields[d].tag<<3|r[d].type)};const p=o.fields[d];o.fields[d].packed=p.repeated&&p.options&&p.options.packed&&p.options.packed!=="false"}function f(d,p,h,b,S,I,k){let u=0;if(!I)for(u=0;u<b.length;u++)d[h++]=b[u];return S.message&&(l.encode(S.encodingLength(k),d,h),h+=l.encode.bytes),S.encode(k,d,p,h),h+S.encode.bytes}return function d(p,h,b,S=0){h==null&&(h=new Uint8Array(n(p))),b==null&&(b=new DataView(h.buffer,h.byteOffset,h.byteLength));const I=S,k=Object.keys(p);let u=0,w=!1;for(u=0;u<i.length;u++){const _=i[u],x=t[u];if(k.indexOf(x)>-1){if(w)throw new Error("only one of the properties defined in oneof "+_+" can be set");w=!0}}for(u=0;u<e;u++){const _=r[u],x=o.fields[u];let T=p[x.name],N=0;if(!a(T)){if(x.required)throw new Error(x.name+" is required");continue}const v=c[u].p,y=c[u].h,E=x.packed;if(x.map){const m=Object.keys(T);for(N=0;N<m.length;N++)m[N]={key:m[N],value:T[m[N]]};T=m}if(E){let m=0;for(N=0;N<T.length;N++)Object.prototype.hasOwnProperty.call(T,N)&&(m+=_.encodingLength(T[N]));if(m){for(N=0;N<y.length;N++)h[S++]=v[N];l.encode(m,h,S),S+=l.encode.bytes}}if(x.repeated){let m;for(N=0;N<T.length;N++)m=T[N],a(m)&&(S=f(h,b,S,y,_,E,m))}else S=f(h,b,S,y,_,E,T)}return d.bytes=S-I,h}}},function(L,M,g){var a=g(42).defined,l=g(4);L.exports=function(o,s,r){const t=Object.keys(r),n=s.length,i=new Array(n);for(let e=0;e<o.fields.length;e++){i[e]=l.encodingLength(o.fields[e].tag<<3|s[e].type);const c=o.fields[e];o.fields[e].packed=c.repeated&&c.options&&c.options.packed&&c.options.packed!=="false"}return function(e){let c=0,f=0,d=0;for(f=0;f<t.length;f++){const p=t[f],h=r[p];let b=!1;for(d=0;d<h.length;d++)if(a(e[h[d]])){if(b)throw new Error("only one of the properties defined in oneof "+p+" can be set");b=!0}}for(f=0;f<n;f++){const p=s[f],h=o.fields[f];let b=e[h.name];const S=i[f];let I;if(a(b)){if(h.map){const k=Object.keys(b);for(d=0;d<k.length;d++)k[d]={key:k[d],value:b[k[d]]};b=k}if(h.packed){let k=0;for(d=0;d<b.length;d++)a(b[d])&&(I=p.encodingLength(b[d]),k+=I,p.message&&(k+=l.encodingLength(I)));k&&(c+=S+k+l.encodingLength(k))}else if(h.repeated)for(d=0;d<b.length;d++)a(b[d])&&(I=p.encodingLength(b[d]),c+=S+I+(p.message?l.encodingLength(I):0));else I=p.encodingLength(b),c+=S+I+(p.message?l.encodingLength(I):0)}else if(h.required)throw new Error(h.name+" is required")}return c}}},function(L,M,g){L.exports=`// Record represents a dht record that contains a value
// for a key value pair
message Record {
  // The key that references this record
  bytes key = 1;

  // The actual value this record is storing
  bytes value = 2;

  // Note: These fields were removed from the Record message
  // hash of the authors public key
  // optional bytes author = 3;
  // A PKI signature for the key+value+author
  // optional bytes signature = 4;

  // Time the record was received, set by receiver
  optional string timeReceived = 5;
}`},function(L,M,g){L.exports.toRFC3339=a=>`${a.getUTCFullYear()}-${String(a.getUTCMonth()+1).padStart(2,"0")}-${String(a.getUTCDate()).padStart(2,"0")}T${String(a.getUTCHours()).padStart(2,"0")}:${String(a.getUTCMinutes()).padStart(2,"0")}:${String(a.getUTCSeconds()).padStart(2,"0")}.${1e3*a.getUTCMilliseconds()*1e3}Z`,L.exports.parseRFC3339=a=>{const l=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),o=String(a).trim().match(l);if(!o)throw new Error("Invalid format");const s=parseInt(o[1],10),r=parseInt(o[2],10)-1,t=parseInt(o[3],10),n=parseInt(o[4],10),i=parseInt(o[5],10),e=parseInt(o[6],10),c=parseInt(o[7].slice(0,-6),10);return new Date(Date.UTC(s,r,t,n,i,e,c))}},function(L,M,g){const a=g(1),l=g(5);L.exports={verifyRecord:(o,s)=>{const r=s.key,t=l(r).split("/");if(t.length<3)return;const n=o[t[1].toString()];if(!n)throw a(new Error("Invalid record keytype"),"ERR_INVALID_RECORD_KEY_TYPE");return n.func(r,s.value)},validators:g(125)}},function(L,M,g){L.exports={pk:g(126)}},function(L,M,g){const a=g(34),l=g(1),o=g(5),s=g(8);L.exports={func:async(r,t)=>{if(!(r instanceof Uint8Array))throw l(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(r.byteLength<5)throw l(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(o(r.subarray(0,4))!=="/pk/")throw l(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");const n=r.slice(4),i=await a(t,"sha2-256");if(!s(n,i))throw l(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")},sign:!1}},function(L,M,g){const a=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});L.exports={names:a}},function(L,M,g){const a=g(129),l=g(131),{factory:o}=g(26),{fromNumberTo32BitBuf:s}=g(133),r=g(7),t=n=>async i=>{switch(n){case"sha3-224":return new Uint8Array(a.sha3_224.arrayBuffer(i));case"sha3-256":return new Uint8Array(a.sha3_256.arrayBuffer(i));case"sha3-384":return new Uint8Array(a.sha3_384.arrayBuffer(i));case"sha3-512":return new Uint8Array(a.sha3_512.arrayBuffer(i));case"shake-128":return new Uint8Array(a.shake128.create(128).update(i).arrayBuffer());case"shake-256":return new Uint8Array(a.shake256.create(256).update(i).arrayBuffer());case"keccak-224":return new Uint8Array(a.keccak224.arrayBuffer(i));case"keccak-256":return new Uint8Array(a.keccak256.arrayBuffer(i));case"keccak-384":return new Uint8Array(a.keccak384.arrayBuffer(i));case"keccak-512":return new Uint8Array(a.keccak512.arrayBuffer(i));case"murmur3-128":return r(l.x64.hash128(i),"base16");case"murmur3-32":return s(l.x86.hash32(i));default:throw new TypeError(n+" is not a supported algorithm")}};L.exports={identity:n=>n,sha1:o("sha1"),sha2256:o("sha2-256"),sha2512:o("sha2-512"),dblSha2256:o("dbl-sha2-256"),sha3224:t("sha3-224"),sha3256:t("sha3-256"),sha3384:t("sha3-384"),sha3512:t("sha3-512"),shake128:t("shake-128"),shake256:t("shake-256"),keccak224:t("keccak-224"),keccak256:t("keccak-256"),keccak384:t("keccak-384"),keccak512:t("keccak-512"),murmur3128:t("murmur3-128"),murmur332:t("murmur3-32"),addBlake:g(134)}},function(L,M,g){(function(a,l){var o;!function(){var s="input is invalid type",r=typeof window=="object",t=r?window:{};t.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&typeof self=="object";!t.JS_SHA3_NO_NODE_JS&&typeof a=="object"&&a.versions&&a.versions.node?t=l:n&&(t=self);var i=!t.JS_SHA3_NO_COMMON_JS&&typeof L=="object"&&L.exports,e=g(130),c=!t.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",f="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],h=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],S=[128,256],I=["hex","buffer","arrayBuffer","array","digest"],k={128:168,256:136};!t.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),!c||!t.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});for(var u=function(R,q,K){return function(z){return new $(R,q,R).update(z)[K]()}},w=function(R,q,K){return function(z,D){return new $(R,q,D).update(z)[K]()}},_=function(R,q,K){return function(z,D,C,P){return y["cshake"+R].update(z,D,C,P)[K]()}},x=function(R,q,K){return function(z,D,C,P){return y["kmac"+R].update(z,D,C,P)[K]()}},T=function(R,q,K,z){for(var D=0;D<I.length;++D){var C=I[D];R[C]=q(K,z,C)}return R},N=function(R,q){var K=u(R,q,"hex");return K.create=function(){return new $(R,q,R)},K.update=function(z){return K.create().update(z)},T(K,u,R,q)},v=[{name:"keccak",padding:[1,256,65536,16777216],bits:b,createMethod:N},{name:"sha3",padding:[6,1536,393216,100663296],bits:b,createMethod:N},{name:"shake",padding:[31,7936,2031616,520093696],bits:S,createMethod:function(R,q){var K=w(R,q,"hex");return K.create=function(z){return new $(R,q,z)},K.update=function(z,D){return K.create(D).update(z)},T(K,w,R,q)}},{name:"cshake",padding:d,bits:S,createMethod:function(R,q){var K=k[R],z=_(R,0,"hex");return z.create=function(D,C,P){return C||P?new $(R,q,D).bytepad([C,P],K):y["shake"+R].create(D)},z.update=function(D,C,P,U){return z.create(C,P,U).update(D)},T(z,_,R,q)}},{name:"kmac",padding:d,bits:S,createMethod:function(R,q){var K=k[R],z=x(R,0,"hex");return z.create=function(D,C,P){return new H(R,q,C).bytepad(["KMAC",P],K).bytepad([D],K)},z.update=function(D,C,P,U){return z.create(D,P,U).update(C)},T(z,x,R,q)}}],y={},E=[],m=0;m<v.length;++m)for(var A=v[m],B=A.bits,O=0;O<B.length;++O){var V=A.name+"_"+B[O];if(E.push(V),y[V]=A.createMethod(B[O],A.padding),A.name!=="sha3"){var j=A.name+B[O];E.push(j),y[j]=y[V]}}function $(R,q,K){this.blocks=[],this.s=[],this.padding=q,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(R<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(31&K)>>3;for(var z=0;z<50;++z)this.s[z]=0}function H(R,q,K){$.call(this,R,q,K)}$.prototype.update=function(R){if(this.finalized)throw new Error("finalize already called");var q,K=typeof R;if(K!=="string"){if(K!=="object")throw new Error(s);if(R===null)throw new Error(s);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!(Array.isArray(R)||c&&ArrayBuffer.isView(R)))throw new Error(s);q=!0}for(var z,D,C=this.blocks,P=this.byteCount,U=R.length,F=this.blockCount,Y=0,Q=this.s;Y<U;){if(this.reset)for(this.reset=!1,C[0]=this.block,z=1;z<F+1;++z)C[z]=0;if(q)for(z=this.start;Y<U&&z<P;++Y)C[z>>2]|=R[Y]<<p[3&z++];else for(z=this.start;Y<U&&z<P;++Y)(D=R.charCodeAt(Y))<128?C[z>>2]|=D<<p[3&z++]:D<2048?(C[z>>2]|=(192|D>>6)<<p[3&z++],C[z>>2]|=(128|63&D)<<p[3&z++]):D<55296||D>=57344?(C[z>>2]|=(224|D>>12)<<p[3&z++],C[z>>2]|=(128|D>>6&63)<<p[3&z++],C[z>>2]|=(128|63&D)<<p[3&z++]):(D=65536+((1023&D)<<10|1023&R.charCodeAt(++Y)),C[z>>2]|=(240|D>>18)<<p[3&z++],C[z>>2]|=(128|D>>12&63)<<p[3&z++],C[z>>2]|=(128|D>>6&63)<<p[3&z++],C[z>>2]|=(128|63&D)<<p[3&z++]);if(this.lastByteIndex=z,z>=P){for(this.start=z-P,this.block=C[F],z=0;z<F;++z)Q[z]^=C[z];G(Q),this.reset=!0}else this.start=z}return this},$.prototype.encode=function(R,q){var K=255&R,z=1,D=[K];for(K=255&(R>>=8);K>0;)D.unshift(K),K=255&(R>>=8),++z;return q?D.push(z):D.unshift(z),this.update(D),D.length},$.prototype.encodeString=function(R){var q,K=typeof R;if(K!=="string"){if(K!=="object")throw new Error(s);if(R===null)throw new Error(s);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!(Array.isArray(R)||c&&ArrayBuffer.isView(R)))throw new Error(s);q=!0}var z=0,D=R.length;if(q)z=D;else for(var C=0;C<R.length;++C){var P=R.charCodeAt(C);P<128?z+=1:P<2048?z+=2:P<55296||P>=57344?z+=3:(P=65536+((1023&P)<<10|1023&R.charCodeAt(++C)),z+=4)}return z+=this.encode(8*z),this.update(R),z},$.prototype.bytepad=function(R,q){for(var K=this.encode(q),z=0;z<R.length;++z)K+=this.encodeString(R[z]);var D=q-K%q,C=[];return C.length=D,this.update(C),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,q=this.lastByteIndex,K=this.blockCount,z=this.s;if(R[q>>2]|=this.padding[3&q],this.lastByteIndex===this.byteCount)for(R[0]=R[K],q=1;q<K+1;++q)R[q]=0;for(R[K-1]|=2147483648,q=0;q<K;++q)z[q]^=R[q];G(z)}},$.prototype.toString=$.prototype.hex=function(){this.finalize();for(var R,q=this.blockCount,K=this.s,z=this.outputBlocks,D=this.extraBytes,C=0,P=0,U="";P<z;){for(C=0;C<q&&P<z;++C,++P)R=K[C],U+=f[R>>4&15]+f[15&R]+f[R>>12&15]+f[R>>8&15]+f[R>>20&15]+f[R>>16&15]+f[R>>28&15]+f[R>>24&15];P%q==0&&(G(K),C=0)}return D&&(R=K[C],U+=f[R>>4&15]+f[15&R],D>1&&(U+=f[R>>12&15]+f[R>>8&15]),D>2&&(U+=f[R>>20&15]+f[R>>16&15])),U},$.prototype.arrayBuffer=function(){this.finalize();var R,q=this.blockCount,K=this.s,z=this.outputBlocks,D=this.extraBytes,C=0,P=0,U=this.outputBits>>3;R=D?new ArrayBuffer(z+1<<2):new ArrayBuffer(U);for(var F=new Uint32Array(R);P<z;){for(C=0;C<q&&P<z;++C,++P)F[P]=K[C];P%q==0&&G(K)}return D&&(F[C]=K[C],R=R.slice(0,U)),R},$.prototype.buffer=$.prototype.arrayBuffer,$.prototype.digest=$.prototype.array=function(){this.finalize();for(var R,q,K=this.blockCount,z=this.s,D=this.outputBlocks,C=this.extraBytes,P=0,U=0,F=[];U<D;){for(P=0;P<K&&U<D;++P,++U)R=U<<2,q=z[P],F[R]=255&q,F[R+1]=q>>8&255,F[R+2]=q>>16&255,F[R+3]=q>>24&255;U%K==0&&G(z)}return C&&(R=U<<2,q=z[P],F[R]=255&q,C>1&&(F[R+1]=q>>8&255),C>2&&(F[R+2]=q>>16&255)),F},H.prototype=new $,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),$.prototype.finalize.call(this)};var G=function(R){var q,K,z,D,C,P,U,F,Y,Q,W,Z,et,X,J,ct,tt,it,ot,rt,nt,St,st,at,Tt,ut,ft,Et,kt,_t,zt,At,It,qt,Ct,Bt,Lt,ht,dt,Nt,lt,pt,Dt,yt,bt,Ot,gt,mt,Ut,vt,wt,Kt,xt,Mt,$t,Rt,Pt,jt,Vt,Ft,Ht,Gt,Yt;for(z=0;z<48;z+=2)D=R[0]^R[10]^R[20]^R[30]^R[40],C=R[1]^R[11]^R[21]^R[31]^R[41],P=R[2]^R[12]^R[22]^R[32]^R[42],U=R[3]^R[13]^R[23]^R[33]^R[43],F=R[4]^R[14]^R[24]^R[34]^R[44],Y=R[5]^R[15]^R[25]^R[35]^R[45],Q=R[6]^R[16]^R[26]^R[36]^R[46],W=R[7]^R[17]^R[27]^R[37]^R[47],q=(Z=R[8]^R[18]^R[28]^R[38]^R[48])^(P<<1|U>>>31),K=(et=R[9]^R[19]^R[29]^R[39]^R[49])^(U<<1|P>>>31),R[0]^=q,R[1]^=K,R[10]^=q,R[11]^=K,R[20]^=q,R[21]^=K,R[30]^=q,R[31]^=K,R[40]^=q,R[41]^=K,q=D^(F<<1|Y>>>31),K=C^(Y<<1|F>>>31),R[2]^=q,R[3]^=K,R[12]^=q,R[13]^=K,R[22]^=q,R[23]^=K,R[32]^=q,R[33]^=K,R[42]^=q,R[43]^=K,q=P^(Q<<1|W>>>31),K=U^(W<<1|Q>>>31),R[4]^=q,R[5]^=K,R[14]^=q,R[15]^=K,R[24]^=q,R[25]^=K,R[34]^=q,R[35]^=K,R[44]^=q,R[45]^=K,q=F^(Z<<1|et>>>31),K=Y^(et<<1|Z>>>31),R[6]^=q,R[7]^=K,R[16]^=q,R[17]^=K,R[26]^=q,R[27]^=K,R[36]^=q,R[37]^=K,R[46]^=q,R[47]^=K,q=Q^(D<<1|C>>>31),K=W^(C<<1|D>>>31),R[8]^=q,R[9]^=K,R[18]^=q,R[19]^=K,R[28]^=q,R[29]^=K,R[38]^=q,R[39]^=K,R[48]^=q,R[49]^=K,X=R[0],J=R[1],Ot=R[11]<<4|R[10]>>>28,gt=R[10]<<4|R[11]>>>28,Et=R[20]<<3|R[21]>>>29,kt=R[21]<<3|R[20]>>>29,Ft=R[31]<<9|R[30]>>>23,Ht=R[30]<<9|R[31]>>>23,pt=R[40]<<18|R[41]>>>14,Dt=R[41]<<18|R[40]>>>14,qt=R[2]<<1|R[3]>>>31,Ct=R[3]<<1|R[2]>>>31,ct=R[13]<<12|R[12]>>>20,tt=R[12]<<12|R[13]>>>20,mt=R[22]<<10|R[23]>>>22,Ut=R[23]<<10|R[22]>>>22,_t=R[33]<<13|R[32]>>>19,zt=R[32]<<13|R[33]>>>19,Gt=R[42]<<2|R[43]>>>30,Yt=R[43]<<2|R[42]>>>30,Mt=R[5]<<30|R[4]>>>2,$t=R[4]<<30|R[5]>>>2,Bt=R[14]<<6|R[15]>>>26,Lt=R[15]<<6|R[14]>>>26,it=R[25]<<11|R[24]>>>21,ot=R[24]<<11|R[25]>>>21,vt=R[34]<<15|R[35]>>>17,wt=R[35]<<15|R[34]>>>17,At=R[45]<<29|R[44]>>>3,It=R[44]<<29|R[45]>>>3,at=R[6]<<28|R[7]>>>4,Tt=R[7]<<28|R[6]>>>4,Rt=R[17]<<23|R[16]>>>9,Pt=R[16]<<23|R[17]>>>9,ht=R[26]<<25|R[27]>>>7,dt=R[27]<<25|R[26]>>>7,rt=R[36]<<21|R[37]>>>11,nt=R[37]<<21|R[36]>>>11,Kt=R[47]<<24|R[46]>>>8,xt=R[46]<<24|R[47]>>>8,yt=R[8]<<27|R[9]>>>5,bt=R[9]<<27|R[8]>>>5,ut=R[18]<<20|R[19]>>>12,ft=R[19]<<20|R[18]>>>12,jt=R[29]<<7|R[28]>>>25,Vt=R[28]<<7|R[29]>>>25,Nt=R[38]<<8|R[39]>>>24,lt=R[39]<<8|R[38]>>>24,St=R[48]<<14|R[49]>>>18,st=R[49]<<14|R[48]>>>18,R[0]=X^~ct&it,R[1]=J^~tt&ot,R[10]=at^~ut&Et,R[11]=Tt^~ft&kt,R[20]=qt^~Bt&ht,R[21]=Ct^~Lt&dt,R[30]=yt^~Ot&mt,R[31]=bt^~gt&Ut,R[40]=Mt^~Rt&jt,R[41]=$t^~Pt&Vt,R[2]=ct^~it&rt,R[3]=tt^~ot&nt,R[12]=ut^~Et&_t,R[13]=ft^~kt&zt,R[22]=Bt^~ht&Nt,R[23]=Lt^~dt&lt,R[32]=Ot^~mt&vt,R[33]=gt^~Ut&wt,R[42]=Rt^~jt&Ft,R[43]=Pt^~Vt&Ht,R[4]=it^~rt&St,R[5]=ot^~nt&st,R[14]=Et^~_t&At,R[15]=kt^~zt&It,R[24]=ht^~Nt&pt,R[25]=dt^~lt&Dt,R[34]=mt^~vt&Kt,R[35]=Ut^~wt&xt,R[44]=jt^~Ft&Gt,R[45]=Vt^~Ht&Yt,R[6]=rt^~St&X,R[7]=nt^~st&J,R[16]=_t^~At&at,R[17]=zt^~It&Tt,R[26]=Nt^~pt&qt,R[27]=lt^~Dt&Ct,R[36]=vt^~Kt&yt,R[37]=wt^~xt&bt,R[46]=Ft^~Gt&Mt,R[47]=Ht^~Yt&$t,R[8]=St^~X&ct,R[9]=st^~J&tt,R[18]=At^~at&ut,R[19]=It^~Tt&ft,R[28]=pt^~qt&Bt,R[29]=Dt^~Ct&Lt,R[38]=Kt^~yt&Ot,R[39]=xt^~bt&gt,R[48]=Gt^~Mt&Rt,R[49]=Yt^~$t&Pt,R[0]^=h[z],R[1]^=h[z+1]};if(i)L.exports=y;else{for(m=0;m<E.length;++m)t[E[m]]=y[E[m]];e&&((o=function(){return y}.call(M,g,M,L))===void 0||(L.exports=o))}}()}).call(this,g(19),g(35))},function(L,M){(function(g){L.exports=g}).call(this,{})},function(L,M,g){L.exports=g(132)},function(L,M,g){!function(a,l){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(h){if(!Array.isArray(h)&&!ArrayBuffer.isView(h))return!1;for(var b=0;b<h.length;b++)if(!Number.isInteger(h[b])||h[b]<0||h[b]>255)return!1;return!0}function r(h,b){return(65535&h)*b+(((h>>>16)*b&65535)<<16)}function t(h,b){return h<<b|h>>>32-b}function n(h){return h=r(h^=h>>>16,2246822507),h=r(h^=h>>>13,3266489909),h^=h>>>16}function i(h,b){h=[h[0]>>>16,65535&h[0],h[1]>>>16,65535&h[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var S=[0,0,0,0];return S[3]+=h[3]+b[3],S[2]+=S[3]>>>16,S[3]&=65535,S[2]+=h[2]+b[2],S[1]+=S[2]>>>16,S[2]&=65535,S[1]+=h[1]+b[1],S[0]+=S[1]>>>16,S[1]&=65535,S[0]+=h[0]+b[0],S[0]&=65535,[S[0]<<16|S[1],S[2]<<16|S[3]]}function e(h,b){h=[h[0]>>>16,65535&h[0],h[1]>>>16,65535&h[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var S=[0,0,0,0];return S[3]+=h[3]*b[3],S[2]+=S[3]>>>16,S[3]&=65535,S[2]+=h[2]*b[3],S[1]+=S[2]>>>16,S[2]&=65535,S[2]+=h[3]*b[2],S[1]+=S[2]>>>16,S[2]&=65535,S[1]+=h[1]*b[3],S[0]+=S[1]>>>16,S[1]&=65535,S[1]+=h[2]*b[2],S[0]+=S[1]>>>16,S[1]&=65535,S[1]+=h[3]*b[1],S[0]+=S[1]>>>16,S[1]&=65535,S[0]+=h[0]*b[3]+h[1]*b[2]+h[2]*b[1]+h[3]*b[0],S[0]&=65535,[S[0]<<16|S[1],S[2]<<16|S[3]]}function c(h,b){return(b%=64)===32?[h[1],h[0]]:b<32?[h[0]<<b|h[1]>>>32-b,h[1]<<b|h[0]>>>32-b]:(b-=32,[h[1]<<b|h[0]>>>32-b,h[0]<<b|h[1]>>>32-b])}function f(h,b){return(b%=64)===0?h:b<32?[h[0]<<b|h[1]>>>32-b,h[1]<<b]:[h[1]<<b-32,0]}function d(h,b){return[h[0]^b[0],h[1]^b[1]]}function p(h){return h=d(h,[0,h[0]>>>1]),h=d(h=e(h,[4283543511,3981806797]),[0,h[0]>>>1]),h=d(h=e(h,[3301882366,444984403]),[0,h[0]>>>1])}o.x86.hash32=function(h,b){if(!o.inputValidation||s(h)){b=b||0;for(var S=h.length%4,I=h.length-S,k=b,u=0,w=3432918353,_=461845907,x=0;x<I;x+=4)u=r(u=h[x]|h[x+1]<<8|h[x+2]<<16|h[x+3]<<24,w),u=r(u=t(u,15),_),k=r(k=t(k^=u,13),5)+3864292196;switch(u=0,S){case 3:u^=h[x+2]<<16;case 2:u^=h[x+1]<<8;case 1:u=r(u^=h[x],w),k^=u=r(u=t(u,15),_)}return(k=n(k^=h.length))>>>0}},o.x86.hash128=function(h,b){if(!o.inputValidation||s(h)){b=b||0;for(var S=h.length%16,I=h.length-S,k=b,u=b,w=b,_=b,x=0,T=0,N=0,v=0,y=597399067,E=2869860233,m=951274213,A=2716044179,B=0;B<I;B+=16)x=h[B]|h[B+1]<<8|h[B+2]<<16|h[B+3]<<24,T=h[B+4]|h[B+5]<<8|h[B+6]<<16|h[B+7]<<24,N=h[B+8]|h[B+9]<<8|h[B+10]<<16|h[B+11]<<24,v=h[B+12]|h[B+13]<<8|h[B+14]<<16|h[B+15]<<24,x=t(x=r(x,y),15),k=t(k^=x=r(x,E),19),k=r(k+=u,5)+1444728091,T=t(T=r(T,E),16),u=t(u^=T=r(T,m),17),u=r(u+=w,5)+197830471,N=t(N=r(N,m),17),w=t(w^=N=r(N,A),15),w=r(w+=_,5)+2530024501,v=t(v=r(v,A),18),_=t(_^=v=r(v,y),13),_=r(_+=k,5)+850148119;switch(x=0,T=0,N=0,v=0,S){case 15:v^=h[B+14]<<16;case 14:v^=h[B+13]<<8;case 13:v=r(v^=h[B+12],A),_^=v=r(v=t(v,18),y);case 12:N^=h[B+11]<<24;case 11:N^=h[B+10]<<16;case 10:N^=h[B+9]<<8;case 9:N=r(N^=h[B+8],m),w^=N=r(N=t(N,17),A);case 8:T^=h[B+7]<<24;case 7:T^=h[B+6]<<16;case 6:T^=h[B+5]<<8;case 5:T=r(T^=h[B+4],E),u^=T=r(T=t(T,16),m);case 4:x^=h[B+3]<<24;case 3:x^=h[B+2]<<16;case 2:x^=h[B+1]<<8;case 1:x=r(x^=h[B],y),k^=x=r(x=t(x,15),E)}return k^=h.length,k+=u^=h.length,k+=w^=h.length,u+=k+=_^=h.length,w+=k,_+=k,k=n(k),k+=u=n(u),k+=w=n(w),u+=k+=_=n(_),w+=k,_+=k,("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(w>>>0).toString(16)).slice(-8)+("00000000"+(_>>>0).toString(16)).slice(-8)}},o.x64.hash128=function(h,b){if(!o.inputValidation||s(h)){b=b||0;for(var S=h.length%16,I=h.length-S,k=[0,b],u=[0,b],w=[0,0],_=[0,0],x=[2277735313,289559509],T=[1291169091,658871167],N=0;N<I;N+=16)w=[h[N+4]|h[N+5]<<8|h[N+6]<<16|h[N+7]<<24,h[N]|h[N+1]<<8|h[N+2]<<16|h[N+3]<<24],_=[h[N+12]|h[N+13]<<8|h[N+14]<<16|h[N+15]<<24,h[N+8]|h[N+9]<<8|h[N+10]<<16|h[N+11]<<24],w=c(w=e(w,x),31),k=i(k=c(k=d(k,w=e(w,T)),27),u),k=i(e(k,[0,5]),[0,1390208809]),_=c(_=e(_,T),33),u=i(u=c(u=d(u,_=e(_,x)),31),k),u=i(e(u,[0,5]),[0,944331445]);switch(w=[0,0],_=[0,0],S){case 15:_=d(_,f([0,h[N+14]],48));case 14:_=d(_,f([0,h[N+13]],40));case 13:_=d(_,f([0,h[N+12]],32));case 12:_=d(_,f([0,h[N+11]],24));case 11:_=d(_,f([0,h[N+10]],16));case 10:_=d(_,f([0,h[N+9]],8));case 9:_=e(_=d(_,[0,h[N+8]]),T),u=d(u,_=e(_=c(_,33),x));case 8:w=d(w,f([0,h[N+7]],56));case 7:w=d(w,f([0,h[N+6]],48));case 6:w=d(w,f([0,h[N+5]],40));case 5:w=d(w,f([0,h[N+4]],32));case 4:w=d(w,f([0,h[N+3]],24));case 3:w=d(w,f([0,h[N+2]],16));case 2:w=d(w,f([0,h[N+1]],8));case 1:w=e(w=d(w,[0,h[N]]),x),k=d(k,w=e(w=c(w,31),T))}return k=i(k=d(k,[0,h.length]),u=d(u,[0,h.length])),u=i(u,k),k=i(k=p(k),u=p(u)),u=i(u,k),("00000000"+(k[0]>>>0).toString(16)).slice(-8)+("00000000"+(k[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)}},L.exports&&(M=L.exports=o),M.murmurHash3=o}()},function(L,M,g){L.exports={fromNumberTo32BitBuf:a=>{const l=new Uint8Array(4);for(let o=0;o<4;o++)l[o]=255&a,a>>=8;return l}}},function(L,M,g){const a=g(135),l={init:a.blake2bInit,update:a.blake2bUpdate,digest:a.blake2bFinal},o={init:a.blake2sInit,update:a.blake2sUpdate,digest:a.blake2sFinal},s=(r,t)=>async n=>{const i=t.init(r,null);return t.update(i,n),t.digest(i)};L.exports=r=>{for(let t=0;t<64;t++)r[45569+t]=s(t+1,l);for(let t=0;t<32;t++)r[45633+t]=s(t+1,o)}},function(L,M,g){var a=g(136),l=g(137);L.exports={blake2b:a.blake2b,blake2bHex:a.blake2bHex,blake2bInit:a.blake2bInit,blake2bUpdate:a.blake2bUpdate,blake2bFinal:a.blake2bFinal,blake2s:l.blake2s,blake2sHex:l.blake2sHex,blake2sInit:l.blake2sInit,blake2sUpdate:l.blake2sUpdate,blake2sFinal:l.blake2sFinal}},function(L,M,g){var a=g(59);function l(b,S,I){var k=b[S]+b[I],u=b[S+1]+b[I+1];k>=4294967296&&u++,b[S]=k,b[S+1]=u}function o(b,S,I,k){var u=b[S]+I;I<0&&(u+=4294967296);var w=b[S+1]+k;u>=4294967296&&w++,b[S]=u,b[S+1]=w}function s(b,S){return b[S]^b[S+1]<<8^b[S+2]<<16^b[S+3]<<24}function r(b,S,I,k,u,w){var _=e[u],x=e[u+1],T=e[w],N=e[w+1];l(i,b,S),o(i,b,_,x);var v=i[k]^i[b],y=i[k+1]^i[b+1];i[k]=y,i[k+1]=v,l(i,I,k),v=i[S]^i[I],y=i[S+1]^i[I+1],i[S]=v>>>24^y<<8,i[S+1]=y>>>24^v<<8,l(i,b,S),o(i,b,T,N),v=i[k]^i[b],y=i[k+1]^i[b+1],i[k]=v>>>16^y<<16,i[k+1]=y>>>16^v<<16,l(i,I,k),v=i[S]^i[I],y=i[S+1]^i[I+1],i[S]=y>>>31^v<<1,i[S+1]=v>>>31^y<<1}var t=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),n=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(b){return 2*b})),i=new Uint32Array(32),e=new Uint32Array(32);function c(b,S){var I=0;for(I=0;I<16;I++)i[I]=b.h[I],i[I+16]=t[I];for(i[24]=i[24]^b.t,i[25]=i[25]^b.t/4294967296,S&&(i[28]=~i[28],i[29]=~i[29]),I=0;I<32;I++)e[I]=s(b.b,4*I);for(I=0;I<12;I++)r(0,8,16,24,n[16*I+0],n[16*I+1]),r(2,10,18,26,n[16*I+2],n[16*I+3]),r(4,12,20,28,n[16*I+4],n[16*I+5]),r(6,14,22,30,n[16*I+6],n[16*I+7]),r(0,10,20,30,n[16*I+8],n[16*I+9]),r(2,12,22,24,n[16*I+10],n[16*I+11]),r(4,14,16,26,n[16*I+12],n[16*I+13]),r(6,8,18,28,n[16*I+14],n[16*I+15]);for(I=0;I<16;I++)b.h[I]=b.h[I]^i[I]^i[I+16]}function f(b,S){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(S&&S.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var I={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b},k=0;k<16;k++)I.h[k]=t[k];var u=S?S.length:0;return I.h[0]^=16842752^u<<8^b,S&&(d(I,S),I.c=128),I}function d(b,S){for(var I=0;I<S.length;I++)b.c===128&&(b.t+=b.c,c(b,!1),b.c=0),b.b[b.c++]=S[I]}function p(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;c(b,!0);for(var S=new Uint8Array(b.outlen),I=0;I<b.outlen;I++)S[I]=b.h[I>>2]>>8*(3&I);return S}function h(b,S,I){I=I||64,b=a.normalizeInput(b);var k=f(I,S);return d(k,b),p(k)}L.exports={blake2b:h,blake2bHex:function(b,S,I){var k=h(b,S,I);return a.toHex(k)},blake2bInit:f,blake2bUpdate:d,blake2bFinal:p}},function(L,M,g){var a=g(59);function l(h,b){return h[b]^h[b+1]<<8^h[b+2]<<16^h[b+3]<<24}function o(h,b,S,I,k,u){n[h]=n[h]+n[b]+k,n[I]=s(n[I]^n[h],16),n[S]=n[S]+n[I],n[b]=s(n[b]^n[S],12),n[h]=n[h]+n[b]+u,n[I]=s(n[I]^n[h],8),n[S]=n[S]+n[I],n[b]=s(n[b]^n[S],7)}function s(h,b){return h>>>b^h<<32-b}var r=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),n=new Uint32Array(16),i=new Uint32Array(16);function e(h,b){var S=0;for(S=0;S<8;S++)n[S]=h.h[S],n[S+8]=r[S];for(n[12]^=h.t,n[13]^=h.t/4294967296,b&&(n[14]=~n[14]),S=0;S<16;S++)i[S]=l(h.b,4*S);for(S=0;S<10;S++)o(0,4,8,12,i[t[16*S+0]],i[t[16*S+1]]),o(1,5,9,13,i[t[16*S+2]],i[t[16*S+3]]),o(2,6,10,14,i[t[16*S+4]],i[t[16*S+5]]),o(3,7,11,15,i[t[16*S+6]],i[t[16*S+7]]),o(0,5,10,15,i[t[16*S+8]],i[t[16*S+9]]),o(1,6,11,12,i[t[16*S+10]],i[t[16*S+11]]),o(2,7,8,13,i[t[16*S+12]],i[t[16*S+13]]),o(3,4,9,14,i[t[16*S+14]],i[t[16*S+15]]);for(S=0;S<8;S++)h.h[S]^=n[S]^n[S+8]}function c(h,b){if(!(h>0&&h<=32))throw new Error("Incorrect output length, should be in [1, 32]");var S=b?b.length:0;if(b&&!(S>0&&S<=32))throw new Error("Incorrect key length, should be in [1, 32]");var I={h:new Uint32Array(r),b:new Uint32Array(64),c:0,t:0,outlen:h};return I.h[0]^=16842752^S<<8^h,S>0&&(f(I,b),I.c=64),I}function f(h,b){for(var S=0;S<b.length;S++)h.c===64&&(h.t+=h.c,e(h,!1),h.c=0),h.b[h.c++]=b[S]}function d(h){for(h.t+=h.c;h.c<64;)h.b[h.c++]=0;e(h,!0);for(var b=new Uint8Array(h.outlen),S=0;S<h.outlen;S++)b[S]=h.h[S>>2]>>8*(3&S)&255;return b}function p(h,b,S){S=S||32,h=a.normalizeInput(h);var I=c(S,b);return f(I,h),d(I)}L.exports={blake2s:p,blake2sHex:function(h,b,S){var I=p(h,b,S);return a.toHex(I)},blake2sInit:c,blake2sUpdate:f,blake2sFinal:d}},function(L,M,g){const a=g(1),l=g(5);L.exports={bestRecord:(o,s,r)=>{if(r.length===0)throw a(new Error("No records given"),"ERR_NO_RECORDS_RECEIVED");const t=l(s).split("/");if(t.length<3)throw a(new Error("Record key does not have a selector function"),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY");const n=o[t[1].toString()];if(!n){const i="Unrecognized key prefix: "+t[1];throw a(new Error(i),"ERR_UNRECOGNIZED_KEY_PREFIX")}return n(s,r)},selectors:g(139)}},function(L,M,g){L.exports={pk:g(140)}},function(L,M,g){L.exports=(a,l)=>0},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.urlAlphabet=void 0,M.urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"},function(L,M,g){const{nanoid:a}=g(61);L.exports=(l=o=>o)=>l(a())},function(L,M,g){L.exports=g(62).TextEncoder},function(L,M,g){const a=g(60),l=g(64),o=g(65);L.exports=class extends l{constructor(){super(),this.data={}}async put(s,r){this.data[s.toString()]=r}async get(s){if(!await this.has(s))throw o.notFoundError();return this.data[s.toString()]}async has(s){return this.data[s.toString()]!==void 0}async delete(s){delete this.data[s.toString()]}*_all(){yield*Object.entries(this.data).map(([s,r])=>({key:new a(s),value:r}))}}},function(L,M,g){L.exports=async a=>{for await(const l of a);}},function(L,M,g){const a=g(147),l=g(3);L.exports=class{constructor(o,s){this.self=o,this._onPing=this._onPing.bind(this),this._onInit(s)}async _onInit(o){const s=await l.convertPeerId(this.self);this.kb=new a({localNodeId:s,numberOfNodesPerKBucket:o,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(o,s){const r=o[0];this.kb.remove(r.id),this.kb.add(s)}get size(){return this.kb.count()}async find(o){const s=await l.convertPeerId(o),r=this.closestPeer(s);if(r&&r.isEqual(o))return r}closestPeer(o){const s=this.closestPeers(o,1);if(s.length>0)return s[0]}closestPeers(o,s){return this.kb.closest(o,s).map(r=>r.peer)}async add(o){const s=await l.convertPeerId(o);this.kb.add({id:s,peer:o})}async remove(o){const s=await l.convertPeerId(o);this.kb.remove(s)}}},function(L,M,g){const a=g(148),{EventEmitter:l}=g(40);function o(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let i=0,e=t.length;i<e;++i)if(t[i]!==n[i])return!1;return!0}function s(t,n){if(!(n instanceof Uint8Array))throw new TypeError(t+" is not a Uint8Array")}class r extends l{constructor(t={}){super(),this.localNodeId=t.localNodeId||a(20),this.numberOfNodesPerKBucket=t.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=t.numberOfNodesToPing||3,this.distance=t.distance||r.distance,this.arbiter=t.arbiter||r.arbiter,this.metadata=Object.assign({},t.metadata),s("option.localNodeId as parameter 1",this.localNodeId),this.root={contacts:[],dontSplit:!1,left:null,right:null}}static arbiter(t,n){return t.vectorClock>n.vectorClock?t:n}static distance(t,n){let i=0,e=0;const c=Math.min(t.length,n.length),f=Math.max(t.length,n.length);for(;e<c;++e)i=256*i+(t[e]^n[e]);for(;e<f;++e)i=256*i+255;return i}add(t){s("contact.id",(t||{}).id);let n=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,t.id,n++);const e=this._indexOf(i,t.id);return e>=0?(this._update(i,e,t),this):i.contacts.length<this.numberOfNodesPerKBucket?(i.contacts.push(t),this.emit("added",t),this):i.dontSplit?(this.emit("ping",i.contacts.slice(0,this.numberOfNodesToPing),t),this):(this._split(i,n),this.add(t))}closest(t,n=1/0){if(s("id",t),!Number.isInteger(n)&&n!==1/0||n<=0)throw new TypeError("n is not positive number");let i=[];for(let e=[this.root],c=0;e.length>0&&i.length<n;){const f=e.pop();if(f.contacts===null){const d=this._determineNode(f,t,c++);e.push(f.left===d?f.right:f.left),e.push(d)}else i=i.concat(f.contacts)}return i.map(e=>[this.distance(e.id,t),e]).sort((e,c)=>e[0]-c[0]).slice(0,n).map(e=>e[1])}count(){let t=0;for(const n=[this.root];n.length>0;){const i=n.pop();i.contacts===null?n.push(i.right,i.left):t+=i.contacts.length}return t}_determineNode(t,n,i){const e=i>>3,c=i%8;return n.length<=e&&c!==0?t.left:n[e]&1<<7-c?t.right:t.left}get(t){s("id",t);let n=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,t,n++);const e=this._indexOf(i,t);return e>=0?i.contacts[e]:null}_indexOf(t,n){for(let i=0;i<t.contacts.length;++i)if(o(t.contacts[i].id,n))return i;return-1}remove(t){s("the id as parameter 1",t);let n=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,t,n++);const e=this._indexOf(i,t);if(e>=0){const c=i.contacts.splice(e,1)[0];this.emit("removed",c)}return this}_split(t,n){t.left={contacts:[],dontSplit:!1,left:null,right:null},t.right={contacts:[],dontSplit:!1,left:null,right:null};for(const e of t.contacts)this._determineNode(t,e.id,n).contacts.push(e);t.contacts=null;const i=this._determineNode(t,this.localNodeId,n);(t.left===i?t.right:t.left).dontSplit=!0}toArray(){let t=[];for(const n=[this.root];n.length>0;){const i=n.pop();i.contacts===null?n.push(i.right,i.left):t=t.concat(i.contacts)}return t}_update(t,n,i){if(!o(t.contacts[n].id,i.id))throw new Error("wrong index for _update");const e=t.contacts[n],c=this.arbiter(e,i);c===e&&e!==i||(t.contacts.splice(n,1),t.contacts.push(c),this.emit("updated",e,c))}}L.exports=r},function(L,M,g){(function(a,l){var o=g(149).Buffer,s=a.crypto||a.msCrypto;s&&s.getRandomValues?L.exports=function(r,t){if(r>4294967295)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(r);if(r>0)if(r>65536)for(var i=0;i<r;i+=65536)s.getRandomValues(n.slice(i,i+65536));else s.getRandomValues(n);return typeof t=="function"?l.nextTick(function(){t(null,n)}):n}:L.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this,g(35),g(19))},function(L,M,g){var a=g(14),l=a.Buffer;function o(r,t){for(var n in r)t[n]=r[n]}function s(r,t,n){return l(r,t,n)}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?L.exports=a:(o(a,M),M.Buffer=s),s.prototype=Object.create(l.prototype),o(l,s),s.from=function(r,t,n){if(typeof r=="number")throw new TypeError("Argument must not be a number");return l(r,t,n)},s.alloc=function(r,t,n){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=l(r);return t!==void 0?typeof n=="string"?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return l(r)},s.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(r)}},function(L,M,g){M.byteLength=function(e){var c=n(e),f=c[0],d=c[1];return 3*(f+d)/4-d},M.toByteArray=function(e){var c,f,d=n(e),p=d[0],h=d[1],b=new o(function(k,u,w){return 3*(u+w)/4-w}(0,p,h)),S=0,I=h>0?p-4:p;for(f=0;f<I;f+=4)c=l[e.charCodeAt(f)]<<18|l[e.charCodeAt(f+1)]<<12|l[e.charCodeAt(f+2)]<<6|l[e.charCodeAt(f+3)],b[S++]=c>>16&255,b[S++]=c>>8&255,b[S++]=255&c;return h===2&&(c=l[e.charCodeAt(f)]<<2|l[e.charCodeAt(f+1)]>>4,b[S++]=255&c),h===1&&(c=l[e.charCodeAt(f)]<<10|l[e.charCodeAt(f+1)]<<4|l[e.charCodeAt(f+2)]>>2,b[S++]=c>>8&255,b[S++]=255&c),b},M.fromByteArray=function(e){for(var c,f=e.length,d=f%3,p=[],h=0,b=f-d;h<b;h+=16383)p.push(i(e,h,h+16383>b?b:h+16383));return d===1?(c=e[f-1],p.push(a[c>>2]+a[c<<4&63]+"==")):d===2&&(c=(e[f-2]<<8)+e[f-1],p.push(a[c>>10]+a[c>>4&63]+a[c<<2&63]+"=")),p.join("")};for(var a=[],l=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,t=s.length;r<t;++r)a[r]=s[r],l[s.charCodeAt(r)]=r;function n(e){var c=e.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.indexOf("=");return f===-1&&(f=c),[f,f===c?0:4-f%4]}function i(e,c,f){for(var d,p,h=[],b=c;b<f;b+=3)d=(e[b]<<16&16711680)+(e[b+1]<<8&65280)+(255&e[b+2]),h.push(a[(p=d)>>18&63]+a[p>>12&63]+a[p>>6&63]+a[63&p]);return h.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(L,M,g){M.read=function(a,l,o,s,r){var t,n,i=8*r-s-1,e=(1<<i)-1,c=e>>1,f=-7,d=o?r-1:0,p=o?-1:1,h=a[l+d];for(d+=p,t=h&(1<<-f)-1,h>>=-f,f+=i;f>0;t=256*t+a[l+d],d+=p,f-=8);for(n=t&(1<<-f)-1,t>>=-f,f+=s;f>0;n=256*n+a[l+d],d+=p,f-=8);if(t===0)t=1-c;else{if(t===e)return n?NaN:1/0*(h?-1:1);n+=Math.pow(2,s),t-=c}return(h?-1:1)*n*Math.pow(2,t-s)},M.write=function(a,l,o,s,r,t){var n,i,e,c=8*t-r-1,f=(1<<c)-1,d=f>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=s?0:t-1,b=s?1:-1,S=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(i=isNaN(l)?1:0,n=f):(n=Math.floor(Math.log(l)/Math.LN2),l*(e=Math.pow(2,-n))<1&&(n--,e*=2),(l+=n+d>=1?p/e:p*Math.pow(2,1-d))*e>=2&&(n++,e/=2),n+d>=f?(i=0,n=f):n+d>=1?(i=(l*e-1)*Math.pow(2,r),n+=d):(i=l*Math.pow(2,d-1)*Math.pow(2,r),n=0));r>=8;a[o+h]=255&i,h+=b,i/=256,r-=8);for(n=n<<r|i,c+=r;c>0;a[o+h]=255&n,h+=b,n/=256,c-=8);a[o+h-b]|=128*S}},function(L,M,g){var a={}.toString;L.exports=Array.isArray||function(l){return a.call(l)=="[object Array]"}},function(L,M,g){L.exports=function(a){function l(t){let n;function i(...e){if(!i.enabled)return;const c=i,f=Number(new Date),d=f-(n||f);c.diff=d,c.prev=n,c.curr=f,n=f,e[0]=l.coerce(e[0]),typeof e[0]!="string"&&e.unshift("%O");let p=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(h,b)=>{if(h==="%%")return h;p++;const S=l.formatters[b];if(typeof S=="function"){const I=e[p];h=S.call(c,I),e.splice(p,1),p--}return h}),l.formatArgs.call(c,e),(c.log||l.log).apply(c,e)}return i.namespace=t,i.enabled=l.enabled(t),i.useColors=l.useColors(),i.color=l.selectColor(t),i.destroy=o,i.extend=s,typeof l.init=="function"&&l.init(i),l.instances.push(i),i}function o(){const t=l.instances.indexOf(this);return t!==-1&&(l.instances.splice(t,1),!0)}function s(t,n){const i=l(this.namespace+(n===void 0?":":n)+t);return i.log=this.log,i}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return l.debug=l,l.default=l,l.coerce=function(t){return t instanceof Error?t.stack||t.message:t},l.disable=function(){const t=[...l.names.map(r),...l.skips.map(r).map(n=>"-"+n)].join(",");return l.enable(""),t},l.enable=function(t){let n;l.save(t),l.names=[],l.skips=[];const i=(typeof t=="string"?t:"").split(/[\s,]+/),e=i.length;for(n=0;n<e;n++)i[n]&&((t=i[n].replace(/\*/g,".*?"))[0]==="-"?l.skips.push(new RegExp("^"+t.substr(1)+"$")):l.names.push(new RegExp("^"+t+"$")));for(n=0;n<l.instances.length;n++){const c=l.instances[n];c.enabled=l.enabled(c.namespace)}},l.enabled=function(t){if(t[t.length-1]==="*")return!0;let n,i;for(n=0,i=l.skips.length;n<i;n++)if(l.skips[n].test(t))return!1;for(n=0,i=l.names.length;n<i;n++)if(l.names[n].test(t))return!0;return!1},l.humanize=g(154),Object.keys(a).forEach(t=>{l[t]=a[t]}),l.instances=[],l.names=[],l.skips=[],l.formatters={},l.selectColor=function(t){let n=0;for(let i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i),n|=0;return l.colors[Math.abs(n)%l.colors.length]},l.enable(l.load()),l}},function(L,M,g){var a=1e3,l=6e4,o=60*l,s=24*o;function r(t,n,i,e){var c=n>=1.5*i;return Math.round(t/i)+" "+e+(c?"s":"")}L.exports=function(t,n){n=n||{};var i=typeof t;if(i==="string"&&t.length>0)return function(e){if((e=String(e)).length>100)return;var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!c)return;var f=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"weeks":case"week":case"w":return 6048e5*f;case"days":case"day":case"d":return f*s;case"hours":case"hour":case"hrs":case"hr":case"h":return f*o;case"minutes":case"minute":case"mins":case"min":case"m":return f*l;case"seconds":case"second":case"secs":case"sec":case"s":return f*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}(t);if(i==="number"&&isFinite(t))return n.long?function(e){var c=Math.abs(e);return c>=s?r(e,c,s,"day"):c>=o?r(e,c,o,"hour"):c>=l?r(e,c,l,"minute"):c>=a?r(e,c,a,"second"):e+" ms"}(t):function(e){var c=Math.abs(e);return c>=s?Math.round(e/s)+"d":c>=o?Math.round(e/o)+"h":c>=l?Math.round(e/l)+"m":c>=a?Math.round(e/a)+"s":e+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(L,M,g){var a=function(n,i){return i||(i={}),n.split("").forEach(function(e,c){e in i||(i[e]=c)}),i},l={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};l.charmap=a(l.alphabet,l.charmap);var o={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};o.charmap=a(o.alphabet,o.charmap);var s={alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",charmap:{}};function r(n){if(this.buf=[],this.shift=8,this.carry=0,n){switch(n.type){case"rfc4648":this.charmap=M.rfc4648.charmap;break;case"crockford":this.charmap=M.crockford.charmap;break;case"base32hex":this.charmap=M.base32hex.charmap;break;default:throw new Error("invalid type")}n.charmap&&(this.charmap=n.charmap)}}function t(n){if(this.buf="",this.shift=3,this.carry=0,n){switch(n.type){case"rfc4648":this.alphabet=M.rfc4648.alphabet;break;case"crockford":this.alphabet=M.crockford.alphabet;break;case"base32hex":this.alphabet=M.base32hex.alphabet;break;default:throw new Error("invalid type")}n.alphabet?this.alphabet=n.alphabet:n.lc&&(this.alphabet=this.alphabet.toLowerCase())}}s.charmap=a(s.alphabet,s.charmap),r.prototype.charmap=l.charmap,r.prototype.write=function(n){var i=this.charmap,e=this.buf,c=this.shift,f=this.carry;return n.toUpperCase().split("").forEach(function(d){if(d!="="){var p=255&i[d];(c-=5)>0?f|=p<<c:c<0?(e.push(f|p>>-c),f=p<<(c+=8)&255):(e.push(f|p),c=8,f=0)}}),this.shift=c,this.carry=f,this},r.prototype.finalize=function(n){return n&&this.write(n),this.shift!==8&&this.carry!==0&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},t.prototype.alphabet=l.alphabet,t.prototype.write=function(n){var i,e,c,f=this.shift,d=this.carry;for(c=0;c<n.length;c++)i=d|(e=n[c])>>f,this.buf+=this.alphabet[31&i],f>5&&(i=e>>(f-=5),this.buf+=this.alphabet[31&i]),d=e<<(f=5-f),f=8-f;return this.shift=f,this.carry=d,this},t.prototype.finalize=function(n){return n&&this.write(n),this.shift!==3&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},M.encode=function(n,i){return new t(i).finalize(n)},M.decode=function(n,i){return new r(i).finalize(n)},M.Decoder=r,M.Encoder=t,M.charmap=a,M.crockford=o,M.rfc4648=l,M.base32hex=s},function(L,M,g){const a=g(157),l=g(158);class o extends Error{constructor(s){if(!Array.isArray(s))throw new TypeError("Expected input to be an Array, got "+typeof s);let r=(s=[...s].map(t=>t instanceof Error?t:t!==null&&typeof t=="object"?Object.assign(new Error(t.message),t):new Error(t))).map(t=>typeof t.stack=="string"?l(t.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(t)).join(`
`);r=`
`+a(r,4),super(r),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:s})}*[Symbol.iterator](){for(const s of this._errors)yield s}}L.exports=o},function(L,M,g){L.exports=(a,l=1,o)=>{if(o={indent:" ",includeEmptyLines:!1,...o},typeof a!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof a}\``);if(typeof l!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof l}\``);if(typeof o.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof o.indent}\``);if(l===0)return a;const s=o.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return a.replace(s,o.indent.repeat(l))}},function(L,M,g){const a=g(159),l=/\s+at.*(?:\(|\s)(.*)\)?/,o=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,s=a.homedir===void 0?"":a.homedir();L.exports=(r,t)=>(t=Object.assign({pretty:!1},t),r.replace(/\\/g,"/").split(`
`).filter(n=>{const i=n.match(l);if(i===null||!i[1])return!0;const e=i[1];return!e.includes(".app/Contents/Resources/electron.asar")&&!e.includes(".app/Contents/Resources/default_app.asar")&&!o.test(e)}).filter(n=>n.trim()!=="").map(n=>t.pretty?n.replace(l,(i,e)=>i.replace(e,e.replace(s,"~"))):n).join(`
`))},function(L,M){},function(L,M,g){const a=g(4),l=g(161),o=g(162),s=g(67),r=g(165);(M=L.exports).addPrefix=(n,i)=>{let e;if(n instanceof Uint8Array)e=s.varintUint8ArrayEncode(n);else{if(!o[n])throw new Error("multicodec not recognized");e=o[n]}return r([e,i],e.length+i.length)},M.rmPrefix=n=>(a.decode(n),n.slice(a.decode.bytes)),M.getCodec=n=>{const i=a.decode(n),e=l.get(i);if(e===void 0)throw new Error(`Code ${i} not found`);return e},M.getName=n=>l.get(n),M.getNumber=n=>{const i=o[n];if(i===void 0)throw new Error("Codec `"+n+"` not found");return a.decode(i)},M.getCode=n=>a.decode(n),M.getCodeVarint=n=>{const i=o[n];if(i===void 0)throw new Error("Codec `"+n+"` not found");return i},M.getVarint=n=>a.encode(n);const t=g(166);Object.assign(M,t),M.print=g(167)},function(L,M,g){const a=g(29),l=new Map;for(const o in a){const s=a[o];l.set(s,o)}L.exports=Object.freeze(l)},function(L,M,g){const a=g(29),l=g(67).varintEncode,o={};for(const s in a){const r=a[s];o[s]=l(r)}L.exports=Object.freeze(o)},function(L,M,g){const{names:a}=g(23),{TextDecoder:l}=g(24),o=new l("utf8");L.exports=function(s,r="utf8"){if(r==="utf8"||r==="utf-8")return o.decode(s);const t=a[r];if(!t)throw new Error("Unknown base");return t.encode(s)}},function(L,M,g){const{names:a}=g(23),{TextEncoder:l}=g(24),o=new l;L.exports=function(s,r="utf8"){if(r==="utf8"||r==="utf-8")return o.encode(s);const t=a[r];if(!t)throw new Error("Unknown base");return t.decode(s)}},function(L,M,g){L.exports=function(a,l){l||(l=a.reduce((r,t)=>r+t.length,0));const o=new Uint8Array(l);let s=0;for(const r of a)o.set(r,s),s+=r.length;return o}},function(L,M,g){const a=g(29),l={};for(const[o,s]of Object.entries(a))l[o.toUpperCase().replace(/-/g,"_")]=s;L.exports=Object.freeze(l)},function(L,M,g){const a=g(29),l={};for(const[o,s]of Object.entries(a))l[s]===void 0&&(l[s]=o);L.exports=Object.freeze(l)},function(L,M,g){const a=g(25),l={checkCIDComponents:function(o){if(o==null)return"null values are not valid CIDs";if(o.version!==0&&o.version!==1)return"Invalid version, must be a number equal to 1 or 0";if(typeof o.codec!="string")return"codec must be string";if(o.version===0){if(o.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(o.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(o.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{a.validate(o.multihash)}catch(s){let r=s.message;return r||(r="Multihash validation failed"),r}}};L.exports=l},function(L,M,g){var a={};L.exports=a;var l={};a.encode=function(o,s,r){if(typeof s!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var t="";if(o instanceof Uint8Array){var n=0,i=s.length,e=s.charAt(0),c=[0];for(n=0;n<o.length;++n){for(var f=0,d=o[n];f<c.length;++f)d+=c[f]<<8,c[f]=d%i,d=d/i|0;for(;d>0;)c.push(d%i),d=d/i|0}for(n=0;o[n]===0&&n<o.length-1;++n)t+=e;for(n=c.length-1;n>=0;--n)t+=s[c[n]]}else t=function(h,b){var S=0,I=b.length,k=b.charAt(0),u=[0];for(S=0;S<h.length();++S){for(var w=0,_=h.at(S);w<u.length;++w)_+=u[w]<<8,u[w]=_%I,_=_/I|0;for(;_>0;)u.push(_%I),_=_/I|0}var x="";for(S=0;h.at(S)===0&&S<h.length()-1;++S)x+=k;for(S=u.length-1;S>=0;--S)x+=b[u[S]];return x}(o,s);if(r){var p=new RegExp(".{1,"+r+"}","g");t=t.match(p).join(`\r
`)}return t},a.decode=function(o,s){if(typeof o!="string")throw new TypeError('"input" must be a string.');if(typeof s!="string")throw new TypeError('"alphabet" must be a string.');var r=l[s];if(!r){r=l[s]=[];for(var t=0;t<s.length;++t)r[s.charCodeAt(t)]=t}o=o.replace(/\s/g,"");var n=s.length,i=s.charAt(0),e=[0];for(t=0;t<o.length;t++){var c=r[o.charCodeAt(t)];if(c===void 0)return;for(var f=0,d=c;f<e.length;++f)d+=e[f]*n,e[f]=255&d,d>>=8;for(;d>0;)e.push(255&d),d>>=8}for(var p=0;o[p]===i&&p<o.length-1;++p)e.push(0);return typeof Buffer!="undefined"?Buffer.from(e.reverse()):new Uint8Array(e.reverse())}},function(L,M,g){var a=g(0);if(g(49),g(30),g(171),g(21),g(48),g(71),g(173),g(31),g(176),g(51),g(2),l===void 0)var l=a.jsbn.BigInteger;var o=a.asn1,s=a.pki=a.pki||{};L.exports=s.pbe=a.pbe=a.pbe||{};var r=s.oids,t={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},n={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},i={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function e(d,p){return d.start().update(p).digest().getBytes()}function c(d){var p;if(d){if(!(p=s.oids[o.derToOid(d)])){var h=new Error("Unsupported PRF OID.");throw h.oid=d,h.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],h}}else p="hmacWithSHA1";return f(p)}function f(d){var p=a.md;switch(d){case"hmacWithSHA224":p=a.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":d=d.substr(8).toLowerCase();break;default:var h=new Error("Unsupported PRF algorithm.");throw h.algorithm=d,h.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],h}if(!p||!(d in p))throw new Error("Unknown hash algorithm: "+d);return p[d].create()}s.encryptPrivateKeyInfo=function(d,p,h){(h=h||{}).saltSize=h.saltSize||8,h.count=h.count||2048,h.algorithm=h.algorithm||"aes128",h.prfAlgorithm=h.prfAlgorithm||"sha1";var b,S,I,k=a.random.getBytesSync(h.saltSize),u=h.count,w=o.integerToDer(u);if(h.algorithm.indexOf("aes")===0||h.algorithm==="des"){var _,x,T;switch(h.algorithm){case"aes128":b=16,_=16,x=r["aes128-CBC"],T=a.aes.createEncryptionCipher;break;case"aes192":b=24,_=16,x=r["aes192-CBC"],T=a.aes.createEncryptionCipher;break;case"aes256":b=32,_=16,x=r["aes256-CBC"],T=a.aes.createEncryptionCipher;break;case"des":b=8,_=8,x=r.desCBC,T=a.des.createEncryptionCipher;break;default:throw(A=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=h.algorithm,A}var N="hmacWith"+h.prfAlgorithm.toUpperCase(),v=f(N),y=a.pkcs5.pbkdf2(p,k,u,b,v),E=a.random.getBytesSync(_);(B=T(y)).start(E),B.update(o.toDer(d)),B.finish(),I=B.output.getBytes();var m=function(V,j,$,H){var G=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,V),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,j.getBytes())]);return H!=="hmacWithSHA1"&&G.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,a.util.hexToBytes($.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids[H]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),G}(k,w,b,N);S=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(r.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(r.pkcs5PBKDF2).getBytes()),m]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(x).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,E)])])])}else{var A;if(h.algorithm!=="3des")throw(A=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=h.algorithm,A;b=24;var B,O=new a.util.ByteBuffer(k);y=s.pbe.generatePkcs12Key(p,O,1,u,b),E=s.pbe.generatePkcs12Key(p,O,2,u,b),(B=a.des.createEncryptionCipher(y)).start(E),B.update(o.toDer(d)),B.finish(),I=B.output.getBytes(),S=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(r["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,k),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,w.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[S,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,I)])},s.decryptPrivateKeyInfo=function(d,p){var h=null,b={},S=[];if(!o.validate(d,t,b,S)){var I=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw I.errors=S,I}var k=o.derToOid(b.encryptionOid),u=s.pbe.getCipher(k,b.encryptionParams,p),w=a.util.createBuffer(b.encryptedData);return u.update(w),u.finish()&&(h=o.fromDer(u.output)),h},s.encryptedPrivateKeyToPem=function(d,p){var h={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(d).getBytes()};return a.pem.encode(h,{maxline:p})},s.encryptedPrivateKeyFromPem=function(d){var p=a.pem.decode(d)[0];if(p.type!=="ENCRYPTED PRIVATE KEY"){var h=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw h.headerType=p.type,h}if(p.procType&&p.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(p.body)},s.encryptRsaPrivateKey=function(d,p,h){if(!(h=h||{}).legacy){var b=s.wrapRsaPrivateKey(s.privateKeyToAsn1(d));return b=s.encryptPrivateKeyInfo(b,p,h),s.encryptedPrivateKeyToPem(b)}var S,I,k,u;switch(h.algorithm){case"aes128":S="AES-128-CBC",k=16,I=a.random.getBytesSync(16),u=a.aes.createEncryptionCipher;break;case"aes192":S="AES-192-CBC",k=24,I=a.random.getBytesSync(16),u=a.aes.createEncryptionCipher;break;case"aes256":S="AES-256-CBC",k=32,I=a.random.getBytesSync(16),u=a.aes.createEncryptionCipher;break;case"3des":S="DES-EDE3-CBC",k=24,I=a.random.getBytesSync(8),u=a.des.createEncryptionCipher;break;case"des":S="DES-CBC",k=8,I=a.random.getBytesSync(8),u=a.des.createEncryptionCipher;break;default:var w=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+h.algorithm+'".');throw w.algorithm=h.algorithm,w}var _=u(a.pbe.opensslDeriveBytes(p,I.substr(0,8),k));_.start(I),_.update(o.toDer(s.privateKeyToAsn1(d))),_.finish();var x={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:S,parameters:a.util.bytesToHex(I).toUpperCase()},body:_.output.getBytes()};return a.pem.encode(x)},s.decryptRsaPrivateKey=function(d,p){var h=null,b=a.pem.decode(d)[0];if(b.type!=="ENCRYPTED PRIVATE KEY"&&b.type!=="PRIVATE KEY"&&b.type!=="RSA PRIVATE KEY")throw(k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=k,k;if(b.procType&&b.procType.type==="ENCRYPTED"){var S,I;switch(b.dekInfo.algorithm){case"DES-CBC":S=8,I=a.des.createDecryptionCipher;break;case"DES-EDE3-CBC":S=24,I=a.des.createDecryptionCipher;break;case"AES-128-CBC":S=16,I=a.aes.createDecryptionCipher;break;case"AES-192-CBC":S=24,I=a.aes.createDecryptionCipher;break;case"AES-256-CBC":S=32,I=a.aes.createDecryptionCipher;break;case"RC2-40-CBC":S=5,I=function(_){return a.rc2.createDecryptionCipher(_,40)};break;case"RC2-64-CBC":S=8,I=function(_){return a.rc2.createDecryptionCipher(_,64)};break;case"RC2-128-CBC":S=16,I=function(_){return a.rc2.createDecryptionCipher(_,128)};break;default:var k;throw(k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+b.dekInfo.algorithm+'".')).algorithm=b.dekInfo.algorithm,k}var u=a.util.hexToBytes(b.dekInfo.parameters),w=I(a.pbe.opensslDeriveBytes(p,u.substr(0,8),S));if(w.start(u),w.update(a.util.createBuffer(b.body)),!w.finish())return h;h=w.output.getBytes()}else h=b.body;return(h=b.type==="ENCRYPTED PRIVATE KEY"?s.decryptPrivateKeyInfo(o.fromDer(h),p):o.fromDer(h))!==null&&(h=s.privateKeyFromAsn1(h)),h},s.pbe.generatePkcs12Key=function(d,p,h,b,S,I){var k,u;if(I==null){if(!("sha1"in a.md))throw new Error('"sha1" hash algorithm unavailable.');I=a.md.sha1.create()}var w=I.digestLength,_=I.blockLength,x=new a.util.ByteBuffer,T=new a.util.ByteBuffer;if(d!=null){for(u=0;u<d.length;u++)T.putInt16(d.charCodeAt(u));T.putInt16(0)}var N=T.length(),v=p.length(),y=new a.util.ByteBuffer;y.fillWithByte(h,_);var E=_*Math.ceil(v/_),m=new a.util.ByteBuffer;for(u=0;u<E;u++)m.putByte(p.at(u%v));var A=_*Math.ceil(N/_),B=new a.util.ByteBuffer;for(u=0;u<A;u++)B.putByte(T.at(u%N));var O=m;O.putBuffer(B);for(var V=Math.ceil(S/w),j=1;j<=V;j++){var $=new a.util.ByteBuffer;$.putBytes(y.bytes()),$.putBytes(O.bytes());for(var H=0;H<b;H++)I.start(),I.update($.getBytes()),$=I.digest();var G=new a.util.ByteBuffer;for(u=0;u<_;u++)G.putByte($.at(u%w));var R=Math.ceil(v/_)+Math.ceil(N/_),q=new a.util.ByteBuffer;for(k=0;k<R;k++){var K=new a.util.ByteBuffer(O.getBytes(_)),z=511;for(u=G.length()-1;u>=0;u--)z>>=8,z+=G.at(u)+K.at(u),K.setAt(u,255&z);q.putBuffer(K)}O=q,x.putBuffer($)}return x.truncate(x.length()-S),x},s.pbe.getCipher=function(d,p,h){switch(d){case s.oids.pkcs5PBES2:return s.pbe.getCipherForPBES2(d,p,h);case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case s.oids["pbewithSHAAnd40BitRC2-CBC"]:return s.pbe.getCipherForPKCS12PBE(d,p,h);default:var b=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw b.oid=d,b.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],b}},s.pbe.getCipherForPBES2=function(d,p,h){var b,S={},I=[];if(!o.validate(p,n,S,I))throw(b=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=I,b;if((d=o.derToOid(S.kdfOid))!==s.oids.pkcs5PBKDF2)throw(b=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=d,b.supportedOids=["pkcs5PBKDF2"],b;if((d=o.derToOid(S.encOid))!==s.oids["aes128-CBC"]&&d!==s.oids["aes192-CBC"]&&d!==s.oids["aes256-CBC"]&&d!==s.oids["des-EDE3-CBC"]&&d!==s.oids.desCBC)throw(b=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=d,b.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],b;var k,u,w=S.kdfSalt,_=a.util.createBuffer(S.kdfIterationCount);switch(_=_.getInt(_.length()<<3),s.oids[d]){case"aes128-CBC":k=16,u=a.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,u=a.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,u=a.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,u=a.des.createDecryptionCipher;break;case"desCBC":k=8,u=a.des.createDecryptionCipher}var x=c(S.prfOid),T=a.pkcs5.pbkdf2(h,w,_,k,x),N=S.encIv,v=u(T);return v.start(N),v},s.pbe.getCipherForPKCS12PBE=function(d,p,h){var b={},S=[];if(!o.validate(p,i,b,S))throw(x=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=S,x;var I,k,u,w=a.util.createBuffer(b.salt),_=a.util.createBuffer(b.iterations);switch(_=_.getInt(_.length()<<3),d){case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:I=24,k=8,u=a.des.startDecrypting;break;case s.oids["pbewithSHAAnd40BitRC2-CBC"]:I=5,k=8,u=function(v,y){var E=a.rc2.createDecryptionCipher(v,40);return E.start(y,null),E};break;default:var x;throw(x=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=d,x}var T=c(b.prfOid),N=s.pbe.generatePkcs12Key(h,w,1,_,I,T);return T.start(),u(N,s.pbe.generatePkcs12Key(h,w,2,_,k,T))},s.pbe.opensslDeriveBytes=function(d,p,h,b){if(b==null){if(!("md5"in a.md))throw new Error('"md5" hash algorithm unavailable.');b=a.md.md5.create()}p===null&&(p="");for(var S=[e(b,d+p)],I=16,k=1;I<h;++k,I+=16)S.push(e(b,S[k-1]+d+p));return S.join("").substr(0,h)}},function(L,M,g){var a=g(0);function l(p,h){a.cipher.registerAlgorithm(p,function(){return new a.des.Algorithm(p,h)})}g(69),g(70),g(2),L.exports=a.des=a.des||{},a.des.startEncrypting=function(p,h,b,S){var I=d({key:p,output:b,decrypt:!1,mode:S||(h===null?"ECB":"CBC")});return I.start(h),I},a.des.createEncryptionCipher=function(p,h){return d({key:p,output:null,decrypt:!1,mode:h})},a.des.startDecrypting=function(p,h,b,S){var I=d({key:p,output:b,decrypt:!0,mode:S||(h===null?"ECB":"CBC")});return I.start(h),I},a.des.createDecryptionCipher=function(p,h){return d({key:p,output:null,decrypt:!0,mode:h})},a.des.Algorithm=function(p,h){var b=this;b.name=p,b.mode=new h({blockSize:8,cipher:{encrypt:function(S,I){return f(b._keys,S,I,!1)},decrypt:function(S,I){return f(b._keys,S,I,!0)}}}),b._init=!1},a.des.Algorithm.prototype.initialize=function(p){if(!this._init){var h=a.util.createBuffer(p.key);if(this.name.indexOf("3DES")===0&&h.length()!==24)throw new Error("Invalid Triple-DES key size: "+8*h.length());this._keys=function(b){for(var S,I=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],k=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],u=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],w=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],_=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],x=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],T=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],N=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],v=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],E=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],m=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],A=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],B=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],O=b.length()>8?3:1,V=[],j=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],$=0,H=0;H<O;H++){var G=b.getInt32(),R=b.getInt32();G^=(S=252645135&(G>>>4^R))<<4,G^=S=65535&((R^=S)>>>-16^G),G^=(S=858993459&(G>>>2^(R^=S<<-16)))<<2,G^=S=65535&((R^=S)>>>-16^G),G^=(S=1431655765&(G>>>1^(R^=S<<-16)))<<1,G^=S=16711935&((R^=S)>>>8^G),S=(G^=(S=1431655765&(G>>>1^(R^=S<<8)))<<1)<<8|(R^=S)>>>20&240,G=R<<24|R<<8&16711680|R>>>8&65280|R>>>24&240,R=S;for(var q=0;q<j.length;++q){j[q]?(G=G<<2|G>>>26,R=R<<2|R>>>26):(G=G<<1|G>>>27,R=R<<1|R>>>27);var K=I[(G&=-15)>>>28]|k[G>>>24&15]|u[G>>>20&15]|w[G>>>16&15]|_[G>>>12&15]|x[G>>>8&15]|T[G>>>4&15],z=N[(R&=-15)>>>28]|v[R>>>24&15]|y[R>>>20&15]|E[R>>>16&15]|m[R>>>12&15]|A[R>>>8&15]|B[R>>>4&15];S=65535&(z>>>16^K),V[$++]=K^S,V[$++]=z^S<<16}}return V}(h),this._init=!0}},l("DES-ECB",a.cipher.modes.ecb),l("DES-CBC",a.cipher.modes.cbc),l("DES-CFB",a.cipher.modes.cfb),l("DES-OFB",a.cipher.modes.ofb),l("DES-CTR",a.cipher.modes.ctr),l("3DES-ECB",a.cipher.modes.ecb),l("3DES-CBC",a.cipher.modes.cbc),l("3DES-CFB",a.cipher.modes.cfb),l("3DES-OFB",a.cipher.modes.ofb),l("3DES-CTR",a.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],r=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],t=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],n=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],i=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],e=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],c=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(p,h,b,S){var I,k,u=p.length===32?3:9;I=u===3?S?[30,-2,-2]:[0,32,2]:S?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var w=h[0],_=h[1];w^=(k=252645135&(w>>>4^_))<<4,w^=(k=65535&(w>>>16^(_^=k)))<<16,w^=k=858993459&((_^=k)>>>2^w),w^=k=16711935&((_^=k<<2)>>>8^w),w=(w^=(k=1431655765&(w>>>1^(_^=k<<8)))<<1)<<1|w>>>31,_=(_^=k)<<1|_>>>31;for(var x=0;x<u;x+=3){for(var T=I[x+1],N=I[x+2],v=I[x];v!=T;v+=N){var y=_^p[v],E=(_>>>4|_<<28)^p[v+1];k=w,w=_,_=k^(s[y>>>24&63]|t[y>>>16&63]|i[y>>>8&63]|c[63&y]|o[E>>>24&63]|r[E>>>16&63]|n[E>>>8&63]|e[63&E])}k=w,w=_,_=k}_=_>>>1|_<<31,_^=k=1431655765&((w=w>>>1|w<<31)>>>1^_),_^=(k=16711935&(_>>>8^(w^=k<<1)))<<8,_^=(k=858993459&(_>>>2^(w^=k)))<<2,_^=k=65535&((w^=k)>>>16^_),_^=k=252645135&((w^=k<<16)>>>4^_),w^=k<<4,b[0]=w,b[1]=_}function d(p){var h,b="DES-"+((p=p||{}).mode||"CBC").toUpperCase(),S=(h=p.decrypt?a.cipher.createDecipher(b,p.key):a.cipher.createCipher(b,p.key)).start;return h.start=function(I,k){var u=null;k instanceof a.util.ByteBuffer&&(u=k,k={}),(k=k||{}).output=u,k.iv=I,S.call(h,k)},h}},function(L,M,g){var a=g(0);g(21),g(2),(L.exports=a.hmac=a.hmac||{}).create=function(){var l=null,o=null,s=null,r=null,t={start:function(n,i){if(n!==null)if(typeof n=="string"){if(!((n=n.toLowerCase())in a.md.algorithms))throw new Error('Unknown hash algorithm "'+n+'"');o=a.md.algorithms[n].create()}else o=n;if(i===null)i=l;else{if(typeof i=="string")i=a.util.createBuffer(i);else if(a.util.isArray(i)){var e=i;i=a.util.createBuffer();for(var c=0;c<e.length;++c)i.putByte(e[c])}var f=i.length();for(f>o.blockLength&&(o.start(),o.update(i.bytes()),i=o.digest()),s=a.util.createBuffer(),r=a.util.createBuffer(),f=i.length(),c=0;c<f;++c)e=i.at(c),s.putByte(54^e),r.putByte(92^e);if(f<o.blockLength)for(e=o.blockLength-f,c=0;c<e;++c)s.putByte(54),r.putByte(92);l=i,s=s.bytes(),r=r.bytes()}o.start(),o.update(s)},update:function(n){o.update(n)},getMac:function(){var n=o.digest().bytes();return o.start(),o.update(r),o.update(n),o.digest()}};return t.digest=t.getMac,t}},function(L,M,g){var a=g(0);g(2);var l=L.exports=a.pem=a.pem||{};function o(r){for(var t=r.name+": ",n=[],i=function(p,h){return" "+h},e=0;e<r.values.length;++e)n.push(r.values[e].replace(/^(\S+\r\n)/,i));t+=n.join(",")+`\r
`;var c=0,f=-1;for(e=0;e<t.length;++e,++c)if(c>65&&f!==-1){var d=t[f];d===","?(++f,t=t.substr(0,f)+`\r
 `+t.substr(f)):t=t.substr(0,f)+`\r
`+d+t.substr(f+1),c=e-f-1,f=-1,++e}else t[e]!==" "&&t[e]!=="	"&&t[e]!==","||(f=e);return t}function s(r){return r.replace(/^\s+/,"")}l.encode=function(r,t){t=t||{};var n,i="-----BEGIN "+r.type+`-----\r
`;if(r.procType&&(i+=o(n={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]})),r.contentDomain&&(i+=o(n={name:"Content-Domain",values:[r.contentDomain]})),r.dekInfo&&(n={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&n.values.push(r.dekInfo.parameters),i+=o(n)),r.headers)for(var e=0;e<r.headers.length;++e)i+=o(r.headers[e]);return r.procType&&(i+=`\r
`),i+=a.util.encode64(r.body,t.maxline||64)+`\r
`,i+="-----END "+r.type+`-----\r
`},l.decode=function(r){for(var t,n=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,e=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,c=/\r?\n/;t=i.exec(r);){var f={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:a.util.decode64(t[3])};if(n.push(f),t[2]){for(var d=t[2].split(c),p=0;t&&p<d.length;){for(var h=d[p].replace(/\s+$/,""),b=p+1;b<d.length;++b){var S=d[b];if(!/\s/.test(S[0]))break;h+=S,p=b}if(t=h.match(e)){for(var I={name:t[1],values:[]},k=t[2].split(","),u=0;u<k.length;++u)I.values.push(s(k[u]));if(f.procType)if(f.contentDomain||I.name!=="Content-Domain")if(f.dekInfo||I.name!=="DEK-Info")f.headers.push(I);else{if(I.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:k[0],parameters:k[1]||null}}else f.contentDomain=k[0]||"";else{if(I.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(I.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:k[0],type:k[1]}}}++p}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(n.length===0)throw new Error("Invalid PEM formatted message.");return n}},function(L,M,g){var a=g(0);g(21),g(2);var l=L.exports=a.sha256=a.sha256||{};a.md.sha256=a.md.algorithms.sha256=l,l.create=function(){s||(o=String.fromCharCode(128),o+=a.util.fillString(String.fromCharCode(0),64),r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var n=null,i=a.util.createBuffer(),e=new Array(64),c={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength64=[];for(var f=c.messageLengthSize/4,d=0;d<f;++d)c.fullMessageLength.push(0);return i=a.util.createBuffer(),n={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},c}};return c.start(),c.update=function(f,d){d==="utf8"&&(f=a.util.encodeUtf8(f));var p=f.length;c.messageLength+=p,p=[p/4294967296>>>0,p>>>0];for(var h=c.fullMessageLength.length-1;h>=0;--h)c.fullMessageLength[h]+=p[1],p[1]=p[0]+(c.fullMessageLength[h]/4294967296>>>0),c.fullMessageLength[h]=c.fullMessageLength[h]>>>0,p[0]=p[1]/4294967296>>>0;return i.putBytes(f),t(n,e,i),(i.read>2048||i.length()===0)&&i.compact(),c},c.digest=function(){var f=a.util.createBuffer();f.putBytes(i.bytes());var d,p=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1;f.putBytes(o.substr(0,c.blockLength-p));for(var h=8*c.fullMessageLength[0],b=0;b<c.fullMessageLength.length-1;++b)h+=(d=8*c.fullMessageLength[b+1])/4294967296>>>0,f.putInt32(h>>>0),h=d>>>0;f.putInt32(h);var S={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3,h4:n.h4,h5:n.h5,h6:n.h6,h7:n.h7};t(S,e,f);var I=a.util.createBuffer();return I.putInt32(S.h0),I.putInt32(S.h1),I.putInt32(S.h2),I.putInt32(S.h3),I.putInt32(S.h4),I.putInt32(S.h5),I.putInt32(S.h6),I.putInt32(S.h7),I},c};var o=null,s=!1,r=null;function t(n,i,e){for(var c,f,d,p,h,b,S,I,k,u,w,_,x,T=e.length();T>=64;){for(h=0;h<16;++h)i[h]=e.getInt32();for(;h<64;++h)c=((c=i[h-2])>>>17|c<<15)^(c>>>19|c<<13)^c>>>10,f=((f=i[h-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,i[h]=c+i[h-7]+f+i[h-16]|0;for(b=n.h0,S=n.h1,I=n.h2,k=n.h3,u=n.h4,w=n.h5,_=n.h6,x=n.h7,h=0;h<64;++h)d=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),p=b&S|I&(b^S),c=x+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(_^u&(w^_))+r[h]+i[h],x=_,_=w,w=u,u=k+c>>>0,k=I,I=S,S=b,b=c+(f=d+p)>>>0;n.h0=n.h0+b|0,n.h1=n.h1+S|0,n.h2=n.h2+I|0,n.h3=n.h3+k|0,n.h4=n.h4+u|0,n.h5=n.h5+w|0,n.h6=n.h6+_|0,n.h7=n.h7+x|0,T-=64}}},function(L,M,g){(function(a){var l=g(0);g(2);var o=null;!l.util.isNodejs||l.options.usePureJavaScript||a.versions["node-webkit"]||(o=g(50)),(L.exports=l.prng=l.prng||{}).create=function(s){for(var r={plugin:s,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=s.md,n=new Array(32),i=0;i<32;++i)n[i]=t.create();function e(){if(r.pools[0].messageLength>=32)return c();var d=32-r.pools[0].messageLength<<5;r.collect(r.seedFileSync(d)),c()}function c(){r.reseeds=r.reseeds===4294967295?0:r.reseeds+1;var d=r.plugin.md.create();d.update(r.keyBytes);for(var p=1,h=0;h<32;++h)r.reseeds%p==0&&(d.update(r.pools[h].digest().getBytes()),r.pools[h].start()),p<<=1;r.keyBytes=d.digest().getBytes(),d.start(),d.update(r.keyBytes);var b=d.digest().getBytes();r.key=r.plugin.formatKey(r.keyBytes),r.seed=r.plugin.formatSeed(b),r.generated=0}function f(d){var p=null,h=l.util.globalScope,b=h.crypto||h.msCrypto;b&&b.getRandomValues&&(p=function(N){return b.getRandomValues(N)});var S=l.util.createBuffer();if(p)for(;S.length()<d;){var I=Math.max(1,Math.min(d-S.length(),65536)/4),k=new Uint32Array(Math.floor(I));try{p(k);for(var u=0;u<k.length;++u)S.putInt32(k[u])}catch(N){if(!(typeof QuotaExceededError!="undefined"&&N instanceof QuotaExceededError))throw N}}if(S.length()<d)for(var w,_,x,T=Math.floor(65536*Math.random());S.length()<d;)for(_=16807*(65535&T),_+=(32767&(w=16807*(T>>16)))<<16,T=4294967295&(_=(2147483647&(_+=w>>15))+(_>>31)),u=0;u<3;++u)x=T>>>(u<<3),x^=Math.floor(256*Math.random()),S.putByte(String.fromCharCode(255&x));return S.getBytes(d)}return r.pools=n,r.pool=0,r.generate=function(d,p){if(!p)return r.generateSync(d);var h=r.plugin.cipher,b=r.plugin.increment,S=r.plugin.formatKey,I=r.plugin.formatSeed,k=l.util.createBuffer();r.key=null,function u(w){if(w)return p(w);if(k.length()>=d)return p(null,k.getBytes(d));if(r.generated>1048575&&(r.key=null),r.key===null)return l.util.nextTick(function(){!function(x){if(r.pools[0].messageLength>=32)return c(),x();var T=32-r.pools[0].messageLength<<5;r.seedFile(T,function(N,v){if(N)return x(N);r.collect(v),c(),x()})}(u)});var _=h(r.key,r.seed);r.generated+=_.length,k.putBytes(_),r.key=S(h(r.key,b(r.seed))),r.seed=I(h(r.key,r.seed)),l.util.setImmediate(u)}()},r.generateSync=function(d){var p=r.plugin.cipher,h=r.plugin.increment,b=r.plugin.formatKey,S=r.plugin.formatSeed;r.key=null;for(var I=l.util.createBuffer();I.length()<d;){r.generated>1048575&&(r.key=null),r.key===null&&e();var k=p(r.key,r.seed);r.generated+=k.length,I.putBytes(k),r.key=b(p(r.key,h(r.seed))),r.seed=S(p(r.key,r.seed))}return I.getBytes(d)},o?(r.seedFile=function(d,p){o.randomBytes(d,function(h,b){if(h)return p(h);p(null,b.toString())})},r.seedFileSync=function(d){return o.randomBytes(d).toString()}):(r.seedFile=function(d,p){try{p(null,f(d))}catch(h){p(h)}},r.seedFileSync=f),r.collect=function(d){for(var p=d.length,h=0;h<p;++h)r.pools[r.pool].update(d.substr(h,1)),r.pool=r.pool===31?0:r.pool+1},r.collectInt=function(d,p){for(var h="",b=0;b<p;b+=8)h+=String.fromCharCode(d>>b&255);r.collect(h)},r.registerWorker=function(d){d===self?r.seedFile=function(p,h){self.addEventListener("message",function b(S){var I=S.data;I.forge&&I.forge.prng&&(self.removeEventListener("message",b),h(I.forge.prng.err,I.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:p}}})}:d.addEventListener("message",function(p){var h=p.data;h.forge&&h.forge.prng&&r.seedFile(h.forge.prng.needed,function(b,S){d.postMessage({forge:{prng:{err:b,bytes:S}}})})})},r}}).call(this,g(19))},function(L,M,g){var a=g(0);g(2);var l=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],s=function(n,i){return n<<i&65535|(65535&n)>>16-i},r=function(n,i){return(65535&n)>>i|n<<16-i&65535};L.exports=a.rc2=a.rc2||{},a.rc2.expandKey=function(n,i){typeof n=="string"&&(n=a.util.createBuffer(n)),i=i||128;var e,c=n,f=n.length(),d=i,p=Math.ceil(d/8),h=255>>(7&d);for(e=f;e<128;e++)c.putByte(l[c.at(e-1)+c.at(e-f)&255]);for(c.setAt(128-p,l[c.at(128-p)&h]),e=127-p;e>=0;e--)c.setAt(e,l[c.at(e+1)^c.at(e+p)]);return c};var t=function(n,i,e){var c,f,d,p,h=!1,b=null,S=null,I=null,k=[];for(n=a.rc2.expandKey(n,i),d=0;d<64;d++)k.push(n.getInt16Le());e?(c=function(_){for(d=0;d<4;d++)_[d]+=k[p]+(_[(d+3)%4]&_[(d+2)%4])+(~_[(d+3)%4]&_[(d+1)%4]),_[d]=s(_[d],o[d]),p++},f=function(_){for(d=0;d<4;d++)_[d]+=k[63&_[(d+3)%4]]}):(c=function(_){for(d=3;d>=0;d--)_[d]=r(_[d],o[d]),_[d]-=k[p]+(_[(d+3)%4]&_[(d+2)%4])+(~_[(d+3)%4]&_[(d+1)%4]),p--},f=function(_){for(d=3;d>=0;d--)_[d]-=k[63&_[(d+3)%4]]});var u=function(_){var x=[];for(d=0;d<4;d++){var T=b.getInt16Le();I!==null&&(e?T^=I.getInt16Le():I.putInt16Le(T)),x.push(65535&T)}p=e?0:63;for(var N=0;N<_.length;N++)for(var v=0;v<_[N][0];v++)_[N][1](x);for(d=0;d<4;d++)I!==null&&(e?I.putInt16Le(x[d]):x[d]^=I.getInt16Le()),S.putInt16Le(x[d])},w=null;return w={start:function(_,x){_&&typeof _=="string"&&(_=a.util.createBuffer(_)),h=!1,b=a.util.createBuffer(),S=x||new a.util.createBuffer,I=_,w.output=S},update:function(_){for(h||b.putBuffer(_);b.length()>=8;)u([[5,c],[1,f],[6,c],[1,f],[5,c]])},finish:function(_){var x=!0;if(e)if(_)x=_(8,b,!e);else{var T=b.length()===8?8:8-b.length();b.fillWithByte(T,T)}if(x&&(h=!0,w.update()),!e&&(x=b.length()===0))if(_)x=_(8,S,!e);else{var N=S.length(),v=S.at(N-1);v>N?x=!1:S.truncate(v)}return x}}};a.rc2.startEncrypting=function(n,i,e){var c=a.rc2.createEncryptionCipher(n,128);return c.start(i,e),c},a.rc2.createEncryptionCipher=function(n,i){return t(n,i,!0)},a.rc2.startDecrypting=function(n,i,e){var c=a.rc2.createDecryptionCipher(n,128);return c.start(i,e),c},a.rc2.createDecryptionCipher=function(n,i){return t(n,i,!1)}},function(L,M,g){var a=g(0);g(2),g(31),g(178);var l=L.exports=a.pkcs1=a.pkcs1||{};function o(s,r,t){t||(t=a.md.sha1.create());for(var n="",i=Math.ceil(r/t.digestLength),e=0;e<i;++e){var c=String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e);t.start(),t.update(s+c),n+=t.digest().getBytes()}return n.substring(0,r)}l.encode_rsa_oaep=function(s,r,t){var n,i,e,c;typeof t=="string"?(n=t,i=arguments[3]||void 0,e=arguments[4]||void 0):t&&(n=t.label||void 0,i=t.seed||void 0,e=t.md||void 0,t.mgf1&&t.mgf1.md&&(c=t.mgf1.md)),e?e.start():e=a.md.sha1.create(),c||(c=e);var f=Math.ceil(s.n.bitLength()/8),d=f-2*e.digestLength-2;if(r.length>d)throw(k=new Error("RSAES-OAEP input message length is too long.")).length=r.length,k.maxLength=d,k;n||(n=""),e.update(n,"raw");for(var p=e.digest(),h="",b=d-r.length,S=0;S<b;S++)h+="\0";var I=p.getBytes()+h+""+r;if(i){if(i.length!==e.digestLength){var k;throw(k=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=i.length,k.digestLength=e.digestLength,k}}else i=a.random.getBytes(e.digestLength);var u=o(i,f-e.digestLength-1,c),w=a.util.xorBytes(I,u,I.length),_=o(w,e.digestLength,c),x=a.util.xorBytes(i,_,i.length);return"\0"+x+w},l.decode_rsa_oaep=function(s,r,t){var n,i,e;typeof t=="string"?(n=t,i=arguments[3]||void 0):t&&(n=t.label||void 0,i=t.md||void 0,t.mgf1&&t.mgf1.md&&(e=t.mgf1.md));var c=Math.ceil(s.n.bitLength()/8);if(r.length!==c)throw(w=new Error("RSAES-OAEP encoded message length is invalid.")).length=r.length,w.expectedLength=c,w;if(i===void 0?i=a.md.sha1.create():i.start(),e||(e=i),c<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var f=i.digest().getBytes(),d=r.charAt(0),p=r.substring(1,i.digestLength+1),h=r.substring(1+i.digestLength),b=o(h,i.digestLength,e),S=a.util.xorBytes(p,b,p.length),I=o(S,c-i.digestLength-1,e),k=a.util.xorBytes(h,I,h.length),u=k.substring(0,i.digestLength),w=d!=="\0",_=0;_<i.digestLength;++_)w|=f.charAt(_)!==u.charAt(_);for(var x=1,T=i.digestLength,N=i.digestLength;N<k.length;N++){var v=k.charCodeAt(N),y=1&v^1,E=x?65534:0;w|=v&E,T+=x&=y}if(w||k.charCodeAt(T)!==1)throw new Error("Invalid RSAES-OAEP padding.");return k.substring(T+1)}},function(L,M,g){var a=g(0);g(21),g(2);var l=L.exports=a.sha1=a.sha1||{};a.md.sha1=a.md.algorithms.sha1=l,l.create=function(){s||(o=String.fromCharCode(128),o+=a.util.fillString(String.fromCharCode(0),64),s=!0);var t=null,n=a.util.createBuffer(),i=new Array(80),e={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){e.messageLength=0,e.fullMessageLength=e.messageLength64=[];for(var c=e.messageLengthSize/4,f=0;f<c;++f)e.fullMessageLength.push(0);return n=a.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},e}};return e.start(),e.update=function(c,f){f==="utf8"&&(c=a.util.encodeUtf8(c));var d=c.length;e.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var p=e.fullMessageLength.length-1;p>=0;--p)e.fullMessageLength[p]+=d[1],d[1]=d[0]+(e.fullMessageLength[p]/4294967296>>>0),e.fullMessageLength[p]=e.fullMessageLength[p]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),r(t,i,n),(n.read>2048||n.length()===0)&&n.compact(),e},e.digest=function(){var c=a.util.createBuffer();c.putBytes(n.bytes());var f,d=e.fullMessageLength[e.fullMessageLength.length-1]+e.messageLengthSize&e.blockLength-1;c.putBytes(o.substr(0,e.blockLength-d));for(var p=8*e.fullMessageLength[0],h=0;h<e.fullMessageLength.length-1;++h)p+=(f=8*e.fullMessageLength[h+1])/4294967296>>>0,c.putInt32(p>>>0),p=f>>>0;c.putInt32(p);var b={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};r(b,i,c);var S=a.util.createBuffer();return S.putInt32(b.h0),S.putInt32(b.h1),S.putInt32(b.h2),S.putInt32(b.h3),S.putInt32(b.h4),S},e};var o=null,s=!1;function r(t,n,i){for(var e,c,f,d,p,h,b,S=i.length();S>=64;){for(c=t.h0,f=t.h1,d=t.h2,p=t.h3,h=t.h4,b=0;b<16;++b)e=i.getInt32(),n[b]=e,e=(c<<5|c>>>27)+(p^f&(d^p))+h+1518500249+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;for(;b<20;++b)e=(e=n[b-3]^n[b-8]^n[b-14]^n[b-16])<<1|e>>>31,n[b]=e,e=(c<<5|c>>>27)+(p^f&(d^p))+h+1518500249+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;for(;b<32;++b)e=(e=n[b-3]^n[b-8]^n[b-14]^n[b-16])<<1|e>>>31,n[b]=e,e=(c<<5|c>>>27)+(f^d^p)+h+1859775393+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;for(;b<40;++b)e=(e=n[b-6]^n[b-16]^n[b-28]^n[b-32])<<2|e>>>30,n[b]=e,e=(c<<5|c>>>27)+(f^d^p)+h+1859775393+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;for(;b<60;++b)e=(e=n[b-6]^n[b-16]^n[b-28]^n[b-32])<<2|e>>>30,n[b]=e,e=(c<<5|c>>>27)+(f&d|p&(f^d))+h+2400959708+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;for(;b<80;++b)e=(e=n[b-6]^n[b-16]^n[b-28]^n[b-32])<<2|e>>>30,n[b]=e,e=(c<<5|c>>>27)+(f^d^p)+h+3395469782+e,h=p,p=d,d=(f<<30|f>>>2)>>>0,f=c,c=e;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+d|0,t.h3=t.h3+p|0,t.h4=t.h4+h|0,S-=64}}},function(L,M,g){var a=g(0);g(2),g(36),g(31),function(){if(a.prime)L.exports=a.prime;else{var l=L.exports=a.prime=a.prime||{},o=a.jsbn.BigInteger,s=[6,4,2,4,2,4,6,2],r=new o(null);r.fromInt(30);var t=function(e,c){return e|c};l.generateProbablePrime=function(e,c,f){typeof c=="function"&&(f=c,c={});var d=(c=c||{}).algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var p=c.prng||a.random,h={nextBytes:function(b){for(var S=p.getBytesSync(b.length),I=0;I<b.length;++I)b[I]=S.charCodeAt(I)}};if(d.name==="PRIMEINC")return function(b,S,I,k){return"workers"in I?function(u,w,_,x){if(typeof Worker=="undefined")return n(u,w,_,x);var T=i(u,w),N=_.workers,v=_.workLoad||100,y=30*v/8,E=_.workerScript||"forge/prime.worker.js";if(N===-1)return a.util.estimateCores(function(A,B){A&&(B=2),N=B-1,m()});function m(){N=Math.max(1,N);for(var A=[],B=0;B<N;++B)A[B]=new Worker(E);for(B=0;B<N;++B)A[B].addEventListener("message",V);var O=!1;function V(j){if(!O){var $=j.data;if($.found){for(var H=0;H<A.length;++H)A[H].terminate();return O=!0,x(null,new o($.prime,16))}T.bitLength()>u&&(T=i(u,w));var G=T.toString(16);j.target.postMessage({hex:G,workLoad:v}),T.dAddOffset(y,0)}}}m()}(b,S,I,k):n(b,S,I,k)}(e,h,d.options,f);throw new Error("Invalid prime generation algorithm: "+d.name)}}function n(e,c,f,d){var p=i(e,c),h=function(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}(p.bitLength());"millerRabinTests"in f&&(h=f.millerRabinTests);var b=10;"maxBlockTime"in f&&(b=f.maxBlockTime),function S(I,k,u,w,_,x,T){var N=+new Date;do{if(I.bitLength()>k&&(I=i(k,u)),I.isProbablePrime(_))return T(null,I);I.dAddOffset(s[w++%8],0)}while(x<0||+new Date-N<x);a.util.setImmediate(function(){S(I,k,u,w,_,x,T)})}(p,e,c,0,h,b,d)}function i(e,c){var f=new o(e,c),d=e-1;return f.testBit(d)||f.bitwiseTo(o.ONE.shiftLeft(d),t,f),f.dAddOffset(31-f.mod(r).byteValue(),0),f}}()},function(L,M,g){const a=g(18),l=g(72);L.exports={import:async function(o,s){const r=a.names.base64.decode(o),t=l.create();return await t.decrypt(r,s)}}},function(L,M,g){const a=g(26),l=g(17),o=g(1),s=g(8),r=g(5);g(73),g(74);const t=g(0),n=g(183),i=l(g(47)),e=g(54);class c{constructor(d){this._key=d}async verify(d,p){return n.hashAndVerify(this._key,p,d)}marshal(){return n.utils.jwkToPkix(this._key)}get bytes(){return i.PublicKey.encode({Type:i.KeyType.RSA,Data:this.marshal()})}encrypt(d){return n.encrypt(this._key,d)}equals(d){return s(this.bytes,d.bytes)}async hash(){return a.multihashing(this.bytes,"sha2-256")}}class f{constructor(d,p){this._key=d,this._publicKey=p}genSecret(){return n.getRandomValues(16)}async sign(d){return n.hashAndSign(this._key,d)}get public(){if(!this._publicKey)throw o(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new c(this._publicKey)}decrypt(d){return n.decrypt(this._key,d)}marshal(){return n.utils.jwkToPkcs1(this._key)}get bytes(){return i.PrivateKey.encode({Type:i.KeyType.RSA,Data:this.marshal()})}equals(d){return s(this.bytes,d.bytes)}async hash(){return a.multihashing(this.bytes,"sha2-256")}async id(){const d=await this.public.hash();return r(d,"base58btc")}async export(d,p="pkcs-8"){if(p==="pkcs-8"){const h=new t.util.ByteBuffer(this.marshal()),b=t.asn1.fromDer(h),S=t.pki.privateKeyFromAsn1(b),I={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return t.pki.encryptRsaPrivateKey(S,d,I)}if(p==="libp2p-key")return e.export(this.bytes,d);throw o(new Error(`export format '${p}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}L.exports={RsaPublicKey:c,RsaPrivateKey:f,unmarshalRsaPublicKey:function(d){const p=n.utils.pkixToJwk(d);return new c(p)},unmarshalRsaPrivateKey:async function(d){const p=n.utils.pkcs1ToJwk(d),h=await n.unmarshalPrivateKey(p);return new f(h.privateKey,h.publicKey)},generateKeyPair:async function(d){const p=await n.generateKey(d);return new f(p.privateKey,p.publicKey)},fromJwk:async function(d){const p=await n.unmarshalPrivateKey(d);return new f(p.privateKey,p.publicKey)}}},function(L,M,g){var a=g(0);g(30);var l=a.asn1;M.privateKeyValidator={name:"PrivateKeyInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},M.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(L,M,g){const a=g(37),l=g(52),o=g(5),s=g(7);function r(e){return Promise.all([a.get().subtle.exportKey("jwk",e.privateKey),a.get().subtle.exportKey("jwk",e.publicKey)])}M.utils=g(185),M.generateKey=async function(e){const c=await a.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),f=await r(c);return{privateKey:f[0],publicKey:f[1]}},M.unmarshalPrivateKey=async function(e){const c=[await a.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await(f=e,a.get().subtle.importKey("jwk",{kty:f.kty,n:f.n,e:f.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))];var f;const d=await r({privateKey:c[0],publicKey:c[1]});return{privateKey:d[0],publicKey:d[1]}},M.getRandomValues=l,M.hashAndSign=async function(e,c){const f=await a.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),d=await a.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},f,Uint8Array.from(c));return new Uint8Array(d,d.byteOffset,d.byteLength)},M.hashAndVerify=async function(e,c,f){const d=await a.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return a.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},d,c,f)};const{jwk2pub:t,jwk2priv:n}=g(186);function i(e,c,f,d){const p=c?t(e):n(e),h=d(o(Uint8Array.from(f),"ascii"),p);return s(h,"ascii")}M.encrypt=function(e,c){return i(e,!0,c,(f,d)=>d.encrypt(f))},M.decrypt=function(e,c){return i(e,!1,c,(f,d)=>d.decrypt(f))}},function(L,M,g){const a=self.crypto||self.msCrypto,{Buffer:l}=g(14);a&&a.getRandomValues?L.exports=function(o){const s=new Uint8Array(o);let r=0;if(o>0)if(o>65536)for(;r<o;)r+65536>o?(a.getRandomValues(s.subarray(r,r+(o-r))),r+=o-r):(a.getRandomValues(s.subarray(r,r+65536)),r+=65536);else a.getRandomValues(s);return l.from(s)}:L.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}},function(L,M,g){g(30),g(51);const a=g(0),{bigIntegerToUintBase64url:l,base64urlToBigInteger:o}=g(53),s=g(7),r=g(5);M.pkcs1ToJwk=function(t){const n=a.asn1.fromDer(r(t,"ascii")),i=a.pki.privateKeyFromAsn1(n);return{kty:"RSA",n:l(i.n),e:l(i.e),d:l(i.d),p:l(i.p),q:l(i.q),dp:l(i.dP),dq:l(i.dQ),qi:l(i.qInv),alg:"RS256",kid:"2011-04-29"}},M.jwkToPkcs1=function(t){const n=a.pki.privateKeyToAsn1({n:o(t.n),e:o(t.e),d:o(t.d),p:o(t.p),q:o(t.q),dP:o(t.dp),dQ:o(t.dq),qInv:o(t.qi)});return s(a.asn1.toDer(n).getBytes(),"ascii")},M.pkixToJwk=function(t){const n=a.asn1.fromDer(r(t,"ascii")),i=a.pki.publicKeyFromAsn1(n);return{kty:"RSA",n:l(i.n),e:l(i.e),alg:"RS256",kid:"2011-04-29"}},M.jwkToPkix=function(t){const n=a.pki.publicKeyToAsn1({n:o(t.n),e:o(t.e)});return s(a.asn1.toDer(n).getBytes(),"ascii")}},function(L,M,g){g(51);const a=g(0),{base64urlToBigInteger:l}=g(53);function o(s,r){return r.map(t=>l(s[t]))}L.exports={jwk2pub:function(s){return a.pki.setRsaPublicKey(...o(s,["n","e"]))},jwk2priv:function(s){return a.pki.setRsaPrivateKey(...o(s,["n","e","d","p","q","dp","dq","qi"]))}}},function(L,M,g){const a=g(26),l=g(17),o=g(18),s=g(1),r=g(8),t=g(188),n=l(g(47)),i=g(54);class e{constructor(d){this._key=f(d,t.publicKeyLength)}async verify(d,p){return t.hashAndVerify(this._key,p,d)}marshal(){return this._key}get bytes(){return n.PublicKey.encode({Type:n.KeyType.Ed25519,Data:this.marshal()})}equals(d){return r(this.bytes,d.bytes)}async hash(){return a.multihashing(this.bytes,"sha2-256")}}class c{constructor(d,p){this._key=f(d,t.privateKeyLength),this._publicKey=f(p,t.publicKeyLength)}async sign(d){return t.hashAndSign(this._key,d)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return n.PrivateKey.encode({Type:n.KeyType.Ed25519,Data:this.marshal()})}equals(d){return r(this.bytes,d.bytes)}async hash(){return a.multihashing(this.bytes,"sha2-256")}async id(){const d=await this.public.hash();return o.encode("base58btc",d).toString().slice(1)}async export(d,p="libp2p-key"){if(p==="libp2p-key")return i.export(this.bytes,d);throw s(new Error(`export format '${p}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function f(d,p){if((d=Uint8Array.from(d||[])).length!==p)throw s(new Error(`Key must be a Uint8Array of length ${p}, got ${d.length}`),"ERR_INVALID_KEY_TYPE");return d}L.exports={Ed25519PublicKey:e,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(d){if(d.length>t.privateKeyLength){const b=(d=f(d,t.privateKeyLength+t.publicKeyLength)).slice(0,t.privateKeyLength),S=d.slice(t.privateKeyLength,d.length);return new c(b,S)}const p=(d=f(d,t.privateKeyLength)).slice(0,t.privateKeyLength),h=d.slice(t.publicKeyLength);return new c(p,h)},unmarshalEd25519PublicKey:function(d){return d=f(d,t.publicKeyLength),new e(d)},generateKeyPair:async function(){const{privateKey:d,publicKey:p}=await t.generateKey();return new c(d,p)},generateKeyPairFromSeed:async function(d){const{privateKey:p,publicKey:h}=await t.generateKeyFromSeed(d);return new c(p,h)}}},function(L,M,g){g(74);const a=g(0);M.publicKeyLength=a.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,M.privateKeyLength=a.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,M.generateKey=async function(){return a.pki.ed25519.generateKeyPair()},M.generateKeyFromSeed=async function(l){return a.pki.ed25519.generateKeyPair({seed:l})},M.hashAndSign=async function(l,o){return a.pki.ed25519.sign({message:o,privateKey:l})},M.hashAndVerify=async function(l,o,s){return a.pki.ed25519.verify({signature:o,message:s,publicKey:l})}},function(L,M,g){const a=g(26),l=g(1),o=g(8),s=g(5),r=g(54);L.exports=(t,n,i)=>{i=i||g(190)(n);class e{constructor(f){i.validatePublicKey(f),this._key=f}verify(f,d){return i.hashAndVerify(this._key,d,f)}marshal(){return i.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(f){return o(this.bytes,f.bytes)}hash(){return a.multihashing(this.bytes,"sha2-256")}}class c{constructor(f,d){this._key=f,this._publicKey=d||i.computePublicKey(f),i.validatePrivateKey(this._key),i.validatePublicKey(this._publicKey)}sign(f){return i.hashAndSign(this._key,f)}get public(){return new e(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(f){return o(this.bytes,f.bytes)}hash(){return a.multihashing(this.bytes,"sha2-256")}async id(){const f=await this.public.hash();return s(f,"base58btc")}async export(f,d="libp2p-key"){if(d==="libp2p-key")return r.export(this.bytes,f);throw l(new Error(`export format '${d}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:e,Secp256k1PrivateKey:c,unmarshalSecp256k1PrivateKey:function(f){return new c(f)},unmarshalSecp256k1PublicKey:function(f){return new e(f)},generateKeyPair:async function(){const f=await i.generateKey();return new c(f)}}}},function(L,M,g){const a=g(191),l=g(26);L.exports=o=>{function s(r){if(!a.privateKeyVerify(r))throw new Error("Invalid private key")}return{generateKey:function(){let r;do r=o(32);while(!a.privateKeyVerify(r));return r},privateKeyLength:32,hashAndSign:async function(r,t){const n=await l.digest(t,"sha2-256"),i=a.ecdsaSign(n,r);return a.signatureExport(i.signature)},hashAndVerify:async function(r,t,n){const i=await l.digest(n,"sha2-256");return t=a.signatureImport(t),a.ecdsaVerify(t,i,r)},compressPublicKey:function(r){if(!a.publicKeyVerify(r))throw new Error("Invalid public key");return a.publicKeyConvert(r,!0)},decompressPublicKey:function(r){return a.publicKeyConvert(r,!1)},validatePrivateKey:s,validatePublicKey:function(r){if(!a.publicKeyVerify(r))throw new Error("Invalid public key")},computePublicKey:function(r){return s(r),a.publicKeyCreate(r)}}}},function(L,M,g){L.exports=g(192)(g(193))},function(L,M,g){const a="Impossible case. Please create issue.",l="The tweak was out of range or the resulted private key is invalid",o="The tweak was out of range or equal to zero",s="Unknow error on context randomization",r="Private Key is invalid",t="Public Key could not be parsed",n="Public Key serialization error",i="The sum of the public keys is not valid",e="Signature could not be parsed",c="The nonce generation function failed, or the private key was invalid",f="Public key could not be recover",d="Scalar was invalid (zero or overflow)";function p(k,u){if(!k)throw new Error(u)}function h(k,u,w){if(p(u instanceof Uint8Array,`Expected ${k} to be an Uint8Array`),w!==void 0)if(Array.isArray(w)){const _=`Expected ${k} to be an Uint8Array with length [${w.join(", ")}]`;p(w.includes(u.length),_)}else{const _=`Expected ${k} to be an Uint8Array with length ${w}`;p(u.length===w,_)}}function b(k){p(I(k)==="Boolean","Expected compressed to be a Boolean")}function S(k=w=>new Uint8Array(w),u){return typeof k=="function"&&(k=k(u)),h("output",k,u),k}function I(k){return Object.prototype.toString.call(k).slice(8,-1)}L.exports=k=>({contextRandomize(u){switch(p(u===null||u instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),u!==null&&h("seed",u,32),k.contextRandomize(u)){case 1:throw new Error(s)}},privateKeyVerify:u=>(h("private key",u,32),k.privateKeyVerify(u)===0),privateKeyNegate(u){switch(h("private key",u,32),k.privateKeyNegate(u)){case 0:return u;case 1:throw new Error(a)}},privateKeyTweakAdd(u,w){switch(h("private key",u,32),h("tweak",w,32),k.privateKeyTweakAdd(u,w)){case 0:return u;case 1:throw new Error(l)}},privateKeyTweakMul(u,w){switch(h("private key",u,32),h("tweak",w,32),k.privateKeyTweakMul(u,w)){case 0:return u;case 1:throw new Error(o)}},publicKeyVerify:u=>(h("public key",u,[33,65]),k.publicKeyVerify(u)===0),publicKeyCreate(u,w=!0,_){switch(h("private key",u,32),b(w),_=S(_,w?33:65),k.publicKeyCreate(_,u)){case 0:return _;case 1:throw new Error(r);case 2:throw new Error(n)}},publicKeyConvert(u,w=!0,_){switch(h("public key",u,[33,65]),b(w),_=S(_,w?33:65),k.publicKeyConvert(_,u)){case 0:return _;case 1:throw new Error(t);case 2:throw new Error(n)}},publicKeyNegate(u,w=!0,_){switch(h("public key",u,[33,65]),b(w),_=S(_,w?33:65),k.publicKeyNegate(_,u)){case 0:return _;case 1:throw new Error(t);case 2:throw new Error(a);case 3:throw new Error(n)}},publicKeyCombine(u,w=!0,_){p(Array.isArray(u),"Expected public keys to be an Array"),p(u.length>0,"Expected public keys array will have more than zero items");for(const x of u)h("public key",x,[33,65]);switch(b(w),_=S(_,w?33:65),k.publicKeyCombine(_,u)){case 0:return _;case 1:throw new Error(t);case 2:throw new Error(i);case 3:throw new Error(n)}},publicKeyTweakAdd(u,w,_=!0,x){switch(h("public key",u,[33,65]),h("tweak",w,32),b(_),x=S(x,_?33:65),k.publicKeyTweakAdd(x,u,w)){case 0:return x;case 1:throw new Error(t);case 2:throw new Error(l)}},publicKeyTweakMul(u,w,_=!0,x){switch(h("public key",u,[33,65]),h("tweak",w,32),b(_),x=S(x,_?33:65),k.publicKeyTweakMul(x,u,w)){case 0:return x;case 1:throw new Error(t);case 2:throw new Error(o)}},signatureNormalize(u){switch(h("signature",u,64),k.signatureNormalize(u)){case 0:return u;case 1:throw new Error(e)}},signatureExport(u,w){h("signature",u,64);const _={output:w=S(w,72),outputlen:72};switch(k.signatureExport(_,u)){case 0:return w.slice(0,_.outputlen);case 1:throw new Error(e);case 2:throw new Error(a)}},signatureImport(u,w){switch(h("signature",u),w=S(w,64),k.signatureImport(w,u)){case 0:return w;case 1:throw new Error(e);case 2:throw new Error(a)}},ecdsaSign(u,w,_={},x){h("message",u,32),h("private key",w,32),p(I(_)==="Object","Expected options to be an Object"),_.data!==void 0&&h("options.data",_.data),_.noncefn!==void 0&&p(I(_.noncefn)==="Function","Expected options.noncefn to be a Function");const T={signature:x=S(x,64),recid:null};switch(k.ecdsaSign(T,u,w,_.data,_.noncefn)){case 0:return T;case 1:throw new Error(c);case 2:throw new Error(a)}},ecdsaVerify(u,w,_){switch(h("signature",u,64),h("message",w,32),h("public key",_,[33,65]),k.ecdsaVerify(u,w,_)){case 0:return!0;case 3:return!1;case 1:throw new Error(e);case 2:throw new Error(t)}},ecdsaRecover(u,w,_,x=!0,T){switch(h("signature",u,64),p(I(w)==="Number"&&w>=0&&w<=3,"Expected recovery id to be a Number within interval [0, 3]"),h("message",_,32),b(x),T=S(T,x?33:65),k.ecdsaRecover(T,u,w,_)){case 0:return T;case 1:throw new Error(e);case 2:throw new Error(f);case 3:throw new Error(a)}},ecdh(u,w,_={},x){switch(h("public key",u,[33,65]),h("private key",w,32),p(I(_)==="Object","Expected options to be an Object"),_.data!==void 0&&h("options.data",_.data),_.hashfn!==void 0?(p(I(_.hashfn)==="Function","Expected options.hashfn to be a Function"),_.xbuf!==void 0&&h("options.xbuf",_.xbuf,32),_.ybuf!==void 0&&h("options.ybuf",_.ybuf,32),h("output",x)):x=S(x,32),k.ecdh(x,u,w,_.data,_.hashfn,_.xbuf,_.ybuf)){case 0:return x;case 1:throw new Error(t);case 2:throw new Error(d)}}})},function(L,M,g){const a=new(g(194)).ec("secp256k1"),l=a.curve,o=l.n.constructor;function s(t){const n=t[0];switch(n){case 2:case 3:return t.length!==33?null:function(i,e){let c=new o(e);if(c.cmp(l.p)>=0)return null;c=c.toRed(l.red);let f=c.redSqr().redIMul(c).redIAdd(l.b).redSqrt();return i===3!==f.isOdd()&&(f=f.redNeg()),a.keyPair({pub:{x:c,y:f}})}(n,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:function(i,e,c){let f=new o(e),d=new o(c);if(f.cmp(l.p)>=0||d.cmp(l.p)>=0)return null;if(f=f.toRed(l.red),d=d.toRed(l.red),(i===6||i===7)&&d.isOdd()!==(i===7))return null;const p=f.redSqr().redIMul(f);return d.redSqr().redISub(p.redIAdd(l.b)).isZero()?a.keyPair({pub:{x:f,y:d}}):null}(n,t.subarray(1,33),t.subarray(33,65));default:return null}}function r(t,n){const i=n.encode(null,t.length===33);for(let e=0;e<t.length;++e)t[e]=i[e]}L.exports={contextRandomize:()=>0,privateKeyVerify(t){const n=new o(t);return n.cmp(l.n)<0&&!n.isZero()?0:1},privateKeyNegate(t){const n=new o(t),i=l.n.sub(n).umod(l.n).toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakAdd(t,n){const i=new o(n);if(i.cmp(l.n)>=0)return 1;if(i.iadd(new o(t)),i.cmp(l.n)>=0&&i.isub(l.n),i.isZero())return 1;const e=i.toArrayLike(Uint8Array,"be",32);return t.set(e),0},privateKeyTweakMul(t,n){let i=new o(n);if(i.cmp(l.n)>=0||i.isZero())return 1;i.imul(new o(t)),i.cmp(l.n)>=0&&(i=i.umod(l.n));const e=i.toArrayLike(Uint8Array,"be",32);return t.set(e),0},publicKeyVerify:t=>s(t)===null?1:0,publicKeyCreate(t,n){const i=new o(n);return i.cmp(l.n)>=0||i.isZero()?1:(r(t,a.keyFromPrivate(n).getPublic()),0)},publicKeyConvert(t,n){const i=s(n);return i===null?1:(r(t,i.getPublic()),0)},publicKeyNegate(t,n){const i=s(n);if(i===null)return 1;const e=i.getPublic();return e.y=e.y.redNeg(),r(t,e),0},publicKeyCombine(t,n){const i=new Array(n.length);for(let c=0;c<n.length;++c)if(i[c]=s(n[c]),i[c]===null)return 1;let e=i[0].getPublic();for(let c=1;c<i.length;++c)e=e.add(i[c].pub);return e.isInfinity()?2:(r(t,e),0)},publicKeyTweakAdd(t,n,i){const e=s(n);if(e===null)return 1;if((i=new o(i)).cmp(l.n)>=0)return 2;const c=e.getPublic().add(l.g.mul(i));return c.isInfinity()?2:(r(t,c),0)},publicKeyTweakMul(t,n,i){const e=s(n);return e===null?1:(i=new o(i)).cmp(l.n)>=0||i.isZero()?2:(r(t,e.getPublic().mul(i)),0)},signatureNormalize(t){const n=new o(t.subarray(0,32)),i=new o(t.subarray(32,64));return n.cmp(l.n)>=0||i.cmp(l.n)>=0?1:(i.cmp(a.nh)===1&&t.set(l.n.sub(i).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,n){const i=n.subarray(0,32),e=n.subarray(32,64);if(new o(i).cmp(l.n)>=0)return 1;if(new o(e).cmp(l.n)>=0)return 1;const{output:c}=t;let f=c.subarray(4,37);f[0]=0,f.set(i,1);let d=33,p=0;for(;d>1&&f[p]===0&&!(128&f[p+1]);--d,++p);if(f=f.subarray(p),128&f[0])return 1;if(d>1&&f[0]===0&&!(128&f[1]))return 1;let h=c.subarray(39,72);h[0]=0,h.set(e,1);let b=33,S=0;for(;b>1&&h[S]===0&&!(128&h[S+1]);--b,++S);return h=h.subarray(S),128&h[0]||b>1&&h[0]===0&&!(128&h[1])?1:(t.outputlen=6+d+b,c[0]=48,c[1]=t.outputlen-2,c[2]=2,c[3]=f.length,c.set(f,4),c[4+d]=2,c[5+d]=h.length,c.set(h,6+d),0)},signatureImport(t,n){if(n.length<8)return 1;if(n.length>72)return 1;if(n[0]!==48)return 1;if(n[1]!==n.length-2)return 1;if(n[2]!==2)return 1;const i=n[3];if(i===0)return 1;if(5+i>=n.length)return 1;if(n[4+i]!==2)return 1;const e=n[5+i];if(e===0)return 1;if(6+i+e!==n.length)return 1;if(128&n[4])return 1;if(i>1&&n[4]===0&&!(128&n[5]))return 1;if(128&n[i+6])return 1;if(e>1&&n[i+6]===0&&!(128&n[i+7]))return 1;let c=n.subarray(4,4+i);if(c.length===33&&c[0]===0&&(c=c.subarray(1)),c.length>32)return 1;let f=n.subarray(6+i);if(f.length===33&&f[0]===0&&(f=f.slice(1)),f.length>32)throw new Error("S length is too long");let d=new o(c);d.cmp(l.n)>=0&&(d=new o(0));let p=new o(n.subarray(6+i));return p.cmp(l.n)>=0&&(p=new o(0)),t.set(d.toArrayLike(Uint8Array,"be",32),0),t.set(p.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,n,i,e,c){if(c){const p=c;c=h=>{const b=p(n,i,null,e,h);if(!(b instanceof Uint8Array&&b.length===32))throw new Error("This is the way");return new o(b)}}const f=new o(i);if(f.cmp(l.n)>=0||f.isZero())return 1;let d;try{d=a.sign(n,i,{canonical:!0,k:c,pers:e})}catch(p){return 1}return t.signature.set(d.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(d.s.toArrayLike(Uint8Array,"be",32),32),t.recid=d.recoveryParam,0},ecdsaVerify(t,n,i){const e={r:t.subarray(0,32),s:t.subarray(32,64)},c=new o(e.r),f=new o(e.s);if(c.cmp(l.n)>=0||f.cmp(l.n)>=0)return 1;if(f.cmp(a.nh)===1||c.isZero()||f.isZero())return 3;const d=s(i);if(d===null)return 2;const p=d.getPublic();return a.verify(n,e,p)?0:3},ecdsaRecover(t,n,i,e){const c={r:n.slice(0,32),s:n.slice(32,64)},f=new o(c.r),d=new o(c.s);if(f.cmp(l.n)>=0||d.cmp(l.n)>=0)return 1;if(f.isZero()||d.isZero())return 2;let p;try{p=a.recoverPubKey(e,c,i)}catch(h){return 2}return r(t,p),0},ecdh(t,n,i,e,c,f,d){const p=s(n);if(p===null)return 1;const h=new o(i);if(h.cmp(l.n)>=0||h.isZero())return 2;const b=p.getPublic().mul(h);if(c===void 0){const S=b.encode(null,!0),I=a.hash().update(S).digest();for(let k=0;k<32;++k)t[k]=I[k]}else{f||(f=new Uint8Array(32));const S=b.getX().toArray("be",32);for(let u=0;u<32;++u)f[u]=S[u];d||(d=new Uint8Array(32));const I=b.getY().toArray("be",32);for(let u=0;u<32;++u)d[u]=I[u];const k=c(f,d,e);if(!(k instanceof Uint8Array&&k.length===t.length))return 2;t.set(k)}return 0}}},function(L,M,g){var a=M;a.version=g(195).version,a.utils=g(9),a.rand=g(76),a.curve=g(77),a.curves=g(55),a.ec=g(209),a.eddsa=g(213)},function(L){L.exports=JSON.parse('{"name":"elliptic","version":"6.5.3","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(L,M,g){L.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(L,M){},function(L,M){},function(L,M,g){var a=g(9),l=g(12),o=g(39),s=g(38),r=a.assert;function t(e){s.call(this,"short",e),this.a=new l(e.a,16).toRed(this.red),this.b=new l(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function n(e,c,f,d){s.BasePoint.call(this,e,"affine"),c===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new l(c,16),this.y=new l(f,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function i(e,c,f,d){s.BasePoint.call(this,e,"jacobian"),c===null&&f===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new l(0)):(this.x=new l(c,16),this.y=new l(f,16),this.z=new l(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(t,s),L.exports=t,t.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var c,f;if(e.beta)c=new l(e.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);c=(c=d[0].cmp(d[1])<0?d[0]:d[1]).toRed(this.red)}if(e.lambda)f=new l(e.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(c))===0?f=p[0]:(f=p[1],r(this.g.mul(f).x.cmp(this.g.x.redMul(c))===0))}return{beta:c,lambda:f,basis:e.basis?e.basis.map(function(h){return{a:new l(h.a,16),b:new l(h.b,16)}}):this._getEndoBasis(f)}}},t.prototype._getEndoRoots=function(e){var c=e===this.p?this.red:l.mont(e),f=new l(2).toRed(c).redInvm(),d=f.redNeg(),p=new l(3).toRed(c).redNeg().redSqrt().redMul(f);return[d.redAdd(p).fromRed(),d.redSub(p).fromRed()]},t.prototype._getEndoBasis=function(e){for(var c,f,d,p,h,b,S,I,k,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),w=e,_=this.n.clone(),x=new l(1),T=new l(0),N=new l(0),v=new l(1),y=0;w.cmpn(0)!==0;){var E=_.div(w);I=_.sub(E.mul(w)),k=N.sub(E.mul(x));var m=v.sub(E.mul(T));if(!d&&I.cmp(u)<0)c=S.neg(),f=x,d=I.neg(),p=k;else if(d&&++y==2)break;S=I,_=w,w=I,N=x,x=k,v=T,T=m}h=I.neg(),b=k;var A=d.sqr().add(p.sqr());return h.sqr().add(b.sqr()).cmp(A)>=0&&(h=c,b=f),d.negative&&(d=d.neg(),p=p.neg()),h.negative&&(h=h.neg(),b=b.neg()),[{a:d,b:p},{a:h,b}]},t.prototype._endoSplit=function(e){var c=this.endo.basis,f=c[0],d=c[1],p=d.b.mul(e).divRound(this.n),h=f.b.neg().mul(e).divRound(this.n),b=p.mul(f.a),S=h.mul(d.a),I=p.mul(f.b),k=h.mul(d.b);return{k1:e.sub(b).sub(S),k2:I.add(k).neg()}},t.prototype.pointFromX=function(e,c){(e=new l(e,16)).red||(e=e.toRed(this.red));var f=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),d=f.redSqrt();if(d.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();return(c&&!p||!c&&p)&&(d=d.redNeg()),this.point(e,d)},t.prototype.validate=function(e){if(e.inf)return!0;var c=e.x,f=e.y,d=this.a.redMul(c),p=c.redSqr().redMul(c).redIAdd(d).redIAdd(this.b);return f.redSqr().redISub(p).cmpn(0)===0},t.prototype._endoWnafMulAdd=function(e,c,f){for(var d=this._endoWnafT1,p=this._endoWnafT2,h=0;h<e.length;h++){var b=this._endoSplit(c[h]),S=e[h],I=S._getBeta();b.k1.negative&&(b.k1.ineg(),S=S.neg(!0)),b.k2.negative&&(b.k2.ineg(),I=I.neg(!0)),d[2*h]=S,d[2*h+1]=I,p[2*h]=b.k1,p[2*h+1]=b.k2}for(var k=this._wnafMulAdd(1,d,p,2*h,f),u=0;u<2*h;u++)d[u]=null,p[u]=null;return k},o(n,s.BasePoint),t.prototype.point=function(e,c,f){return new n(this,e,c,f)},t.prototype.pointFromJSON=function(e,c){return n.fromJSON(this,e,c)},n.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var c=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var f=this.curve,d=function(p){return f.point(p.x.redMul(f.endo.beta),p.y)};e.beta=c,c.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(d)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(d)}}}return c}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(e,c,f){typeof c=="string"&&(c=JSON.parse(c));var d=e.point(c[0],c[1],f);if(!c[2])return d;function p(b){return e.point(b[0],b[1],f)}var h=c[2];return d.precomputed={beta:null,doubles:h.doubles&&{step:h.doubles.step,points:[d].concat(h.doubles.points.map(p))},naf:h.naf&&{wnd:h.naf.wnd,points:[d].concat(h.naf.points.map(p))}},d},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var c=this.y.redSub(e.y);c.cmpn(0)!==0&&(c=c.redMul(this.x.redSub(e.x).redInvm()));var f=c.redSqr().redISub(this.x).redISub(e.x),d=c.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,d)},n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var c=this.curve.a,f=this.x.redSqr(),d=e.redInvm(),p=f.redAdd(f).redIAdd(f).redIAdd(c).redMul(d),h=p.redSqr().redISub(this.x.redAdd(this.x)),b=p.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,b)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(e){return e=new l(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,c,f){var d=[this,c],p=[e,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,p):this.curve._wnafMulAdd(1,d,p,2)},n.prototype.jmulAdd=function(e,c,f){var d=[this,c],p=[e,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,p,!0):this.curve._wnafMulAdd(1,d,p,2,!0)},n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},n.prototype.neg=function(e){if(this.inf)return this;var c=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var f=this.precomputed,d=function(p){return p.neg()};c.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return c},n.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(i,s.BasePoint),t.prototype.jpoint=function(e,c,f){return new i(this,e,c,f)},i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),c=e.redSqr(),f=this.x.redMul(c),d=this.y.redMul(c).redMul(e);return this.curve.point(f,d)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var c=e.z.redSqr(),f=this.z.redSqr(),d=this.x.redMul(c),p=e.x.redMul(f),h=this.y.redMul(c.redMul(e.z)),b=e.y.redMul(f.redMul(this.z)),S=d.redSub(p),I=h.redSub(b);if(S.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=S.redSqr(),u=k.redMul(S),w=d.redMul(k),_=I.redSqr().redIAdd(u).redISub(w).redISub(w),x=I.redMul(w.redISub(_)).redISub(h.redMul(u)),T=this.z.redMul(e.z).redMul(S);return this.curve.jpoint(_,x,T)},i.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var c=this.z.redSqr(),f=this.x,d=e.x.redMul(c),p=this.y,h=e.y.redMul(c).redMul(this.z),b=f.redSub(d),S=p.redSub(h);if(b.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=b.redSqr(),k=I.redMul(b),u=f.redMul(I),w=S.redSqr().redIAdd(k).redISub(u).redISub(u),_=S.redMul(u.redISub(w)).redISub(p.redMul(k)),x=this.z.redMul(b);return this.curve.jpoint(w,_,x)},i.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var c=this,f=0;f<e;f++)c=c.dbl();return c}var d=this.curve.a,p=this.curve.tinv,h=this.x,b=this.y,S=this.z,I=S.redSqr().redSqr(),k=b.redAdd(b);for(f=0;f<e;f++){var u=h.redSqr(),w=k.redSqr(),_=w.redSqr(),x=u.redAdd(u).redIAdd(u).redIAdd(d.redMul(I)),T=h.redMul(w),N=x.redSqr().redISub(T.redAdd(T)),v=T.redISub(N),y=x.redMul(v);y=y.redIAdd(y).redISub(_);var E=k.redMul(S);f+1<e&&(I=I.redMul(_)),h=N,S=E,k=y}return this.curve.jpoint(h,k.redMul(p),S)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},i.prototype._zeroDbl=function(){var e,c,f;if(this.zOne){var d=this.x.redSqr(),p=this.y.redSqr(),h=p.redSqr(),b=this.x.redAdd(p).redSqr().redISub(d).redISub(h);b=b.redIAdd(b);var S=d.redAdd(d).redIAdd(d),I=S.redSqr().redISub(b).redISub(b),k=h.redIAdd(h);k=(k=k.redIAdd(k)).redIAdd(k),e=I,c=S.redMul(b.redISub(I)).redISub(k),f=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),x=this.x.redAdd(w).redSqr().redISub(u).redISub(_);x=x.redIAdd(x);var T=u.redAdd(u).redIAdd(u),N=T.redSqr(),v=_.redIAdd(_);v=(v=v.redIAdd(v)).redIAdd(v),e=N.redISub(x).redISub(x),c=T.redMul(x.redISub(e)).redISub(v),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(e,c,f)},i.prototype._threeDbl=function(){var e,c,f;if(this.zOne){var d=this.x.redSqr(),p=this.y.redSqr(),h=p.redSqr(),b=this.x.redAdd(p).redSqr().redISub(d).redISub(h);b=b.redIAdd(b);var S=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),I=S.redSqr().redISub(b).redISub(b);e=I;var k=h.redIAdd(h);k=(k=k.redIAdd(k)).redIAdd(k),c=S.redMul(b.redISub(I)).redISub(k),f=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),w=this.y.redSqr(),_=this.x.redMul(w),x=this.x.redSub(u).redMul(this.x.redAdd(u));x=x.redAdd(x).redIAdd(x);var T=_.redIAdd(_),N=(T=T.redIAdd(T)).redAdd(T);e=x.redSqr().redISub(N),f=this.y.redAdd(this.z).redSqr().redISub(w).redISub(u);var v=w.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),c=x.redMul(T.redISub(e)).redISub(v)}return this.curve.jpoint(e,c,f)},i.prototype._dbl=function(){var e=this.curve.a,c=this.x,f=this.y,d=this.z,p=d.redSqr().redSqr(),h=c.redSqr(),b=f.redSqr(),S=h.redAdd(h).redIAdd(h).redIAdd(e.redMul(p)),I=c.redAdd(c),k=(I=I.redIAdd(I)).redMul(b),u=S.redSqr().redISub(k.redAdd(k)),w=k.redISub(u),_=b.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var x=S.redMul(w).redISub(_),T=f.redAdd(f).redMul(d);return this.curve.jpoint(u,x,T)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),c=this.y.redSqr(),f=this.z.redSqr(),d=c.redSqr(),p=e.redAdd(e).redIAdd(e),h=p.redSqr(),b=this.x.redAdd(c).redSqr().redISub(e).redISub(d),S=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(h)).redSqr(),I=d.redIAdd(d);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var k=p.redIAdd(b).redSqr().redISub(h).redISub(S).redISub(I),u=c.redMul(k);u=(u=u.redIAdd(u)).redIAdd(u);var w=this.x.redMul(S).redISub(u);w=(w=w.redIAdd(w)).redIAdd(w);var _=this.y.redMul(k.redMul(I.redISub(k)).redISub(b.redMul(S)));_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var x=this.z.redAdd(b).redSqr().redISub(f).redISub(S);return this.curve.jpoint(w,_,x)},i.prototype.mul=function(e,c){return e=new l(e,c),this.curve._wnafMul(this,e)},i.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var c=this.z.redSqr(),f=e.z.redSqr();if(this.x.redMul(f).redISub(e.x.redMul(c)).cmpn(0)!==0)return!1;var d=c.redMul(this.z),p=f.redMul(e.z);return this.y.redMul(p).redISub(e.y.redMul(d)).cmpn(0)===0},i.prototype.eqXToP=function(e){var c=this.z.redSqr(),f=e.toRed(this.curve.red).redMul(c);if(this.x.cmp(f)===0)return!0;for(var d=e.clone(),p=this.curve.redN.redMul(c);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(p),this.x.cmp(f)===0)return!0}},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},function(L,M,g){var a=g(12),l=g(39),o=g(38),s=g(9);function r(n){o.call(this,"mont",n),this.a=new a(n.a,16).toRed(this.red),this.b=new a(n.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function t(n,i,e){o.BasePoint.call(this,n,"projective"),i===null&&e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(i,16),this.z=new a(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}l(r,o),L.exports=r,r.prototype.validate=function(n){var i=n.normalize().x,e=i.redSqr(),c=e.redMul(i).redAdd(e.redMul(this.a)).redAdd(i);return c.redSqrt().redSqr().cmp(c)===0},l(t,o.BasePoint),r.prototype.decodePoint=function(n,i){return this.point(s.toArray(n,i),1)},r.prototype.point=function(n,i){return new t(this,n,i)},r.prototype.pointFromJSON=function(n){return t.fromJSON(this,n)},t.prototype.precompute=function(){},t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},t.fromJSON=function(n,i){return new t(n,i[0],i[1]||n.one)},t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},t.prototype.dbl=function(){var n=this.x.redAdd(this.z).redSqr(),i=this.x.redSub(this.z).redSqr(),e=n.redSub(i),c=n.redMul(i),f=e.redMul(i.redAdd(this.curve.a24.redMul(e)));return this.curve.point(c,f)},t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.diffAdd=function(n,i){var e=this.x.redAdd(this.z),c=this.x.redSub(this.z),f=n.x.redAdd(n.z),d=n.x.redSub(n.z).redMul(e),p=f.redMul(c),h=i.z.redMul(d.redAdd(p).redSqr()),b=i.x.redMul(d.redISub(p).redSqr());return this.curve.point(h,b)},t.prototype.mul=function(n){for(var i=n.clone(),e=this,c=this.curve.point(null,null),f=[];i.cmpn(0)!==0;i.iushrn(1))f.push(i.andln(1));for(var d=f.length-1;d>=0;d--)f[d]===0?(e=e.diffAdd(c,this),c=c.dbl()):(c=e.diffAdd(c,this),e=e.dbl());return c},t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.eq=function(n){return this.getX().cmp(n.getX())===0},t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},t.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(L,M,g){var a=g(9),l=g(12),o=g(39),s=g(38),r=a.assert;function t(i){this.twisted=(0|i.a)!=1,this.mOneA=this.twisted&&(0|i.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",i),this.a=new l(i.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new l(i.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new l(i.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|i.c)==1}function n(i,e,c,f,d){s.BasePoint.call(this,i,"projective"),e===null&&c===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new l(e,16),this.y=new l(c,16),this.z=f?new l(f,16):this.curve.one,this.t=d&&new l(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(t,s),L.exports=t,t.prototype._mulA=function(i){return this.mOneA?i.redNeg():this.a.redMul(i)},t.prototype._mulC=function(i){return this.oneC?i:this.c.redMul(i)},t.prototype.jpoint=function(i,e,c,f){return this.point(i,e,c,f)},t.prototype.pointFromX=function(i,e){(i=new l(i,16)).red||(i=i.toRed(this.red));var c=i.redSqr(),f=this.c2.redSub(this.a.redMul(c)),d=this.one.redSub(this.c2.redMul(this.d).redMul(c)),p=f.redMul(d.redInvm()),h=p.redSqrt();if(h.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var b=h.fromRed().isOdd();return(e&&!b||!e&&b)&&(h=h.redNeg()),this.point(i,h)},t.prototype.pointFromY=function(i,e){(i=new l(i,16)).red||(i=i.toRed(this.red));var c=i.redSqr(),f=c.redSub(this.c2),d=c.redMul(this.d).redMul(this.c2).redSub(this.a),p=f.redMul(d.redInvm());if(p.cmp(this.zero)===0){if(e)throw new Error("invalid point");return this.point(this.zero,i)}var h=p.redSqrt();if(h.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return h.fromRed().isOdd()!==e&&(h=h.redNeg()),this.point(h,i)},t.prototype.validate=function(i){if(i.isInfinity())return!0;i.normalize();var e=i.x.redSqr(),c=i.y.redSqr(),f=e.redMul(this.a).redAdd(c),d=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(c)));return f.cmp(d)===0},o(n,s.BasePoint),t.prototype.pointFromJSON=function(i){return n.fromJSON(this,i)},t.prototype.point=function(i,e,c,f){return new n(this,i,e,c,f)},n.fromJSON=function(i,e){return new n(i,e[0],e[1],e[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},n.prototype._extDbl=function(){var i=this.x.redSqr(),e=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var f=this.curve._mulA(i),d=this.x.redAdd(this.y).redSqr().redISub(i).redISub(e),p=f.redAdd(e),h=p.redSub(c),b=f.redSub(e),S=d.redMul(h),I=p.redMul(b),k=d.redMul(b),u=h.redMul(p);return this.curve.point(S,I,u,k)},n.prototype._projDbl=function(){var i,e,c,f=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),p=this.y.redSqr();if(this.curve.twisted){var h=(I=this.curve._mulA(d)).redAdd(p);if(this.zOne)i=f.redSub(d).redSub(p).redMul(h.redSub(this.curve.two)),e=h.redMul(I.redSub(p)),c=h.redSqr().redSub(h).redSub(h);else{var b=this.z.redSqr(),S=h.redSub(b).redISub(b);i=f.redSub(d).redISub(p).redMul(S),e=h.redMul(I.redSub(p)),c=h.redMul(S)}}else{var I=d.redAdd(p);b=this.curve._mulC(this.z).redSqr(),S=I.redSub(b).redSub(b),i=this.curve._mulC(f.redISub(I)).redMul(S),e=this.curve._mulC(I).redMul(d.redISub(p)),c=I.redMul(S)}return this.curve.point(i,e,c)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(i){var e=this.y.redSub(this.x).redMul(i.y.redSub(i.x)),c=this.y.redAdd(this.x).redMul(i.y.redAdd(i.x)),f=this.t.redMul(this.curve.dd).redMul(i.t),d=this.z.redMul(i.z.redAdd(i.z)),p=c.redSub(e),h=d.redSub(f),b=d.redAdd(f),S=c.redAdd(e),I=p.redMul(h),k=b.redMul(S),u=p.redMul(S),w=h.redMul(b);return this.curve.point(I,k,w,u)},n.prototype._projAdd=function(i){var e,c,f=this.z.redMul(i.z),d=f.redSqr(),p=this.x.redMul(i.x),h=this.y.redMul(i.y),b=this.curve.d.redMul(p).redMul(h),S=d.redSub(b),I=d.redAdd(b),k=this.x.redAdd(this.y).redMul(i.x.redAdd(i.y)).redISub(p).redISub(h),u=f.redMul(S).redMul(k);return this.curve.twisted?(e=f.redMul(I).redMul(h.redSub(this.curve._mulA(p))),c=S.redMul(I)):(e=f.redMul(I).redMul(h.redSub(p)),c=this.curve._mulC(S).redMul(I)),this.curve.point(u,e,c)},n.prototype.add=function(i){return this.isInfinity()?i:i.isInfinity()?this:this.curve.extended?this._extAdd(i):this._projAdd(i)},n.prototype.mul=function(i){return this._hasDoubles(i)?this.curve._fixedNafMul(this,i):this.curve._wnafMul(this,i)},n.prototype.mulAdd=function(i,e,c){return this.curve._wnafMulAdd(1,[this,e],[i,c],2,!1)},n.prototype.jmulAdd=function(i,e,c){return this.curve._wnafMulAdd(1,[this,e],[i,c],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var i=this.z.redInvm();return this.x=this.x.redMul(i),this.y=this.y.redMul(i),this.t&&(this.t=this.t.redMul(i)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(i){return this===i||this.getX().cmp(i.getX())===0&&this.getY().cmp(i.getY())===0},n.prototype.eqXToP=function(i){var e=i.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var c=i.clone(),f=this.curve.redN.redMul(this.z);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(f),this.x.cmp(e)===0)return!0}},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},function(L,M,g){M.sha1=g(203),M.sha224=g(204),M.sha256=g(79),M.sha384=g(205),M.sha512=g(80)},function(L,M,g){var a=g(10),l=g(32),o=g(78),s=a.rotl32,r=a.sum32,t=a.sum32_5,n=o.ft_1,i=l.BlockHash,e=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(c,i),L.exports=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(f,d){for(var p=this.W,h=0;h<16;h++)p[h]=f[d+h];for(;h<p.length;h++)p[h]=s(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);var b=this.h[0],S=this.h[1],I=this.h[2],k=this.h[3],u=this.h[4];for(h=0;h<p.length;h++){var w=~~(h/20),_=t(s(b,5),n(w,S,I,k),u,p[h],e[w]);u=k,k=I,I=s(S,30),S=b,b=_}this.h[0]=r(this.h[0],b),this.h[1]=r(this.h[1],S),this.h[2]=r(this.h[2],I),this.h[3]=r(this.h[3],k),this.h[4]=r(this.h[4],u)},c.prototype._digest=function(f){return f==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},function(L,M,g){var a=g(10),l=g(79);function o(){if(!(this instanceof o))return new o;l.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(o,l),L.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},function(L,M,g){var a=g(10),l=g(80);function o(){if(!(this instanceof o))return new o;l.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(o,l),L.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},function(L,M,g){var a=g(10),l=g(32),o=a.rotl32,s=a.sum32,r=a.sum32_3,t=a.sum32_4,n=l.BlockHash;function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function e(S,I,k,u){return S<=15?I^k^u:S<=31?I&k|~I&u:S<=47?(I|~k)^u:S<=63?I&u|k&~u:I^(k|~u)}function c(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function f(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}a.inherits(i,n),M.ripemd160=i,i.blockSize=512,i.outSize=160,i.hmacStrength=192,i.padLength=64,i.prototype._update=function(S,I){for(var k=this.h[0],u=this.h[1],w=this.h[2],_=this.h[3],x=this.h[4],T=k,N=u,v=w,y=_,E=x,m=0;m<80;m++){var A=s(o(t(k,e(m,u,w,_),S[d[m]+I],c(m)),h[m]),x);k=x,x=_,_=o(w,10),w=u,u=A,A=s(o(t(T,e(79-m,N,v,y),S[p[m]+I],f(m)),b[m]),E),T=E,E=y,y=o(v,10),v=N,N=A}A=r(this.h[1],w,y),this.h[1]=r(this.h[2],_,E),this.h[2]=r(this.h[3],x,T),this.h[3]=r(this.h[4],k,N),this.h[4]=r(this.h[0],u,v),this.h[0]=A},i.prototype._digest=function(S){return S==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(L,M,g){var a=g(10),l=g(15);function o(s,r,t){if(!(this instanceof o))return new o(s,r,t);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(r,t))}L.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),l(s.length<=this.blockSize);for(var r=s.length;r<this.blockSize;r++)s.push(0);for(r=0;r<s.length;r++)s[r]^=54;for(this.inner=new this.Hash().update(s),r=0;r<s.length;r++)s[r]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,r){return this.inner.update(s,r),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},function(L,M,g){L.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(L,M,g){var a=g(12),l=g(210),o=g(9),s=g(55),r=g(76),t=o.assert,n=g(211),i=g(212);function e(c){if(!(this instanceof e))return new e(c);typeof c=="string"&&(t(s.hasOwnProperty(c),"Unknown curve "+c),c=s[c]),c instanceof s.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}L.exports=e,e.prototype.keyPair=function(c){return new n(this,c)},e.prototype.keyFromPrivate=function(c,f){return n.fromPrivate(this,c,f)},e.prototype.keyFromPublic=function(c,f){return n.fromPublic(this,c,f)},e.prototype.genKeyPair=function(c){c||(c={});for(var f=new l({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||r(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),p=this.n.sub(new a(2));;){var h=new a(f.generate(d));if(!(h.cmp(p)>0))return h.iaddn(1),this.keyFromPrivate(h)}},e.prototype._truncateToN=function(c,f){var d=8*c.byteLength()-this.n.bitLength();return d>0&&(c=c.ushrn(d)),!f&&c.cmp(this.n)>=0?c.sub(this.n):c},e.prototype.sign=function(c,f,d,p){typeof d=="object"&&(p=d,d=null),p||(p={}),f=this.keyFromPrivate(f,d),c=this._truncateToN(new a(c,16));for(var h=this.n.byteLength(),b=f.getPrivate().toArray("be",h),S=c.toArray("be",h),I=new l({hash:this.hash,entropy:b,nonce:S,pers:p.pers,persEnc:p.persEnc||"utf8"}),k=this.n.sub(new a(1)),u=0;;u++){var w=p.k?p.k(u):new a(I.generate(this.n.byteLength()));if(!((w=this._truncateToN(w,!0)).cmpn(1)<=0||w.cmp(k)>=0)){var _=this.g.mul(w);if(!_.isInfinity()){var x=_.getX(),T=x.umod(this.n);if(T.cmpn(0)!==0){var N=w.invm(this.n).mul(T.mul(f.getPrivate()).iadd(c));if((N=N.umod(this.n)).cmpn(0)!==0){var v=(_.getY().isOdd()?1:0)|(x.cmp(T)!==0?2:0);return p.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),v^=1),new i({r:T,s:N,recoveryParam:v})}}}}}},e.prototype.verify=function(c,f,d,p){c=this._truncateToN(new a(c,16)),d=this.keyFromPublic(d,p);var h=(f=new i(f,"hex")).r,b=f.s;if(h.cmpn(1)<0||h.cmp(this.n)>=0)return!1;if(b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var S,I=b.invm(this.n),k=I.mul(c).umod(this.n),u=I.mul(h).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(k,d.getPublic(),u)).isInfinity()&&S.eqXToP(h):!(S=this.g.mulAdd(k,d.getPublic(),u)).isInfinity()&&S.getX().umod(this.n).cmp(h)===0},e.prototype.recoverPubKey=function(c,f,d,p){t((3&d)===d,"The recovery param is more than two bits"),f=new i(f,p);var h=this.n,b=new a(c),S=f.r,I=f.s,k=1&d,u=d>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");S=u?this.curve.pointFromX(S.add(this.curve.n),k):this.curve.pointFromX(S,k);var w=f.r.invm(h),_=h.sub(b).mul(w).umod(h),x=I.mul(w).umod(h);return this.g.mulAdd(_,S,x)},e.prototype.getKeyRecoveryParam=function(c,f,d,p){if((f=new i(f,p)).recoveryParam!==null)return f.recoveryParam;for(var h=0;h<4;h++){var b;try{b=this.recoverPubKey(c,f,h)}catch(S){continue}if(b.eq(d))return h}throw new Error("Unable to find valid recovery factor")}},function(L,M,g){var a=g(56),l=g(75),o=g(15);function s(r){if(!(this instanceof s))return new s(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=l.toArray(r.entropy,r.entropyEnc||"hex"),n=l.toArray(r.nonce,r.nonceEnc||"hex"),i=l.toArray(r.pers,r.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}L.exports=s,s.prototype._init=function(r,t,n){var i=r.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},s.prototype._update=function(r){var t=this._hmac().update(this.V).update([0]);r&&(t=t.update(r)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(r,t,n,i){typeof t!="string"&&(i=n,n=t,t=null),r=l.toArray(r,t),n=l.toArray(n,i),o(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(n||[])),this._reseed=1},s.prototype.generate=function(r,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=n,n=t,t=null),n&&(n=l.toArray(n,i||"hex"),this._update(n));for(var e=[];e.length<r;)this.V=this._hmac().update(this.V).digest(),e=e.concat(this.V);var c=e.slice(0,r);return this._update(n),this._reseed++,l.encode(c,t)}},function(L,M,g){var a=g(12),l=g(9).assert;function o(s,r){this.ec=s,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}L.exports=o,o.fromPublic=function(s,r,t){return r instanceof o?r:new o(s,{pub:r,pubEnc:t})},o.fromPrivate=function(s,r,t){return r instanceof o?r:new o(s,{priv:r,privEnc:t})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,r){return typeof s=="string"&&(r=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,r){this.priv=new a(s,r||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,r){if(s.x||s.y)return this.ec.curve.type==="mont"?l(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||l(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,r)},o.prototype.derive=function(s){return s.mul(this.priv).getX()},o.prototype.sign=function(s,r,t){return this.ec.sign(s,this,r,t)},o.prototype.verify=function(s,r){return this.ec.verify(s,r,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(L,M,g){var a=g(12),l=g(9),o=l.assert;function s(e,c){if(e instanceof s)return e;this._importDER(e,c)||(o(e.r&&e.s,"Signature without r or s"),this.r=new a(e.r,16),this.s=new a(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function r(){this.place=0}function t(e,c){var f=e[c.place++];if(!(128&f))return f;var d=15&f;if(d===0||d>4)return!1;for(var p=0,h=0,b=c.place;h<d;h++,b++)p<<=8,p|=e[b],p>>>=0;return!(p<=127)&&(c.place=b,p)}function n(e){for(var c=0,f=e.length-1;!e[c]&&!(128&e[c+1])&&c<f;)c++;return c===0?e:e.slice(c)}function i(e,c){if(c<128)e.push(c);else{var f=1+(Math.log(c)/Math.LN2>>>3);for(e.push(128|f);--f;)e.push(c>>>(f<<3)&255);e.push(c)}}L.exports=s,s.prototype._importDER=function(e,c){e=l.toArray(e,c);var f=new r;if(e[f.place++]!==48)return!1;var d=t(e,f);if(d===!1)return!1;if(d+f.place!==e.length)return!1;if(e[f.place++]!==2)return!1;var p=t(e,f);if(p===!1)return!1;var h=e.slice(f.place,p+f.place);if(f.place+=p,e[f.place++]!==2)return!1;var b=t(e,f);if(b===!1)return!1;if(e.length!==b+f.place)return!1;var S=e.slice(f.place,b+f.place);if(h[0]===0){if(!(128&h[1]))return!1;h=h.slice(1)}if(S[0]===0){if(!(128&S[1]))return!1;S=S.slice(1)}return this.r=new a(h),this.s=new a(S),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var c=this.r.toArray(),f=this.s.toArray();for(128&c[0]&&(c=[0].concat(c)),128&f[0]&&(f=[0].concat(f)),c=n(c),f=n(f);!(f[0]||128&f[1]);)f=f.slice(1);var d=[2];i(d,c.length),(d=d.concat(c)).push(2),i(d,f.length);var p=d.concat(f),h=[48];return i(h,p.length),h=h.concat(p),l.encode(h,e)}},function(L,M,g){var a=g(56),l=g(55),o=g(9),s=o.assert,r=o.parseBytes,t=g(214),n=g(215);function i(e){if(s(e==="ed25519","only tested with ed25519 so far"),!(this instanceof i))return new i(e);e=l[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=a.sha512}L.exports=i,i.prototype.sign=function(e,c){e=r(e);var f=this.keyFromSecret(c),d=this.hashInt(f.messagePrefix(),e),p=this.g.mul(d),h=this.encodePoint(p),b=this.hashInt(h,f.pubBytes(),e).mul(f.priv()),S=d.add(b).umod(this.curve.n);return this.makeSignature({R:p,S,Rencoded:h})},i.prototype.verify=function(e,c,f){e=r(e),c=this.makeSignature(c);var d=this.keyFromPublic(f),p=this.hashInt(c.Rencoded(),d.pubBytes(),e),h=this.g.mul(c.S());return c.R().add(d.pub().mul(p)).eq(h)},i.prototype.hashInt=function(){for(var e=this.hash(),c=0;c<arguments.length;c++)e.update(arguments[c]);return o.intFromLE(e.digest()).umod(this.curve.n)},i.prototype.keyFromPublic=function(e){return t.fromPublic(this,e)},i.prototype.keyFromSecret=function(e){return t.fromSecret(this,e)},i.prototype.makeSignature=function(e){return e instanceof n?e:new n(this,e)},i.prototype.encodePoint=function(e){var c=e.getY().toArray("le",this.encodingLength);return c[this.encodingLength-1]|=e.getX().isOdd()?128:0,c},i.prototype.decodePoint=function(e){var c=(e=o.parseBytes(e)).length-1,f=e.slice(0,c).concat(-129&e[c]),d=(128&e[c])!=0,p=o.intFromLE(f);return this.curve.pointFromY(p,d)},i.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},i.prototype.decodeInt=function(e){return o.intFromLE(e)},i.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(L,M,g){var a=g(9),l=a.assert,o=a.parseBytes,s=a.cachedProperty;function r(t,n){this.eddsa=t,this._secret=o(n.secret),t.isPoint(n.pub)?this._pub=n.pub:this._pubBytes=o(n.pub)}r.fromPublic=function(t,n){return n instanceof r?n:new r(t,{pub:n})},r.fromSecret=function(t,n){return n instanceof r?n:new r(t,{secret:n})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(r,"privBytes",function(){var t=this.eddsa,n=this.hash(),i=t.encodingLength-1,e=n.slice(0,t.encodingLength);return e[0]&=248,e[i]&=127,e[i]|=64,e}),s(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(t){return l(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},r.prototype.verify=function(t,n){return this.eddsa.verify(t,n,this)},r.prototype.getSecret=function(t){return l(this._secret,"KeyPair is public only"),a.encode(this.secret(),t)},r.prototype.getPublic=function(t){return a.encode(this.pubBytes(),t)},L.exports=r},function(L,M,g){var a=g(12),l=g(9),o=l.assert,s=l.cachedProperty,r=l.parseBytes;function t(n,i){this.eddsa=n,typeof i!="object"&&(i=r(i)),Array.isArray(i)&&(i={R:i.slice(0,n.encodingLength),S:i.slice(n.encodingLength)}),o(i.R&&i.S,"Signature without R or S"),n.isPoint(i.R)&&(this._R=i.R),i.S instanceof a&&(this._S=i.S),this._Rencoded=Array.isArray(i.R)?i.R:i.Rencoded,this._Sencoded=Array.isArray(i.S)?i.S:i.Sencoded}s(t,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(t,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(t,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(t,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return l.encode(this.toBytes(),"hex").toUpperCase()},L.exports=t},function(L,M,g){const a=g(1),l=g(11),o=g(7),s=g(81),r={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};L.exports=async(t,n,i)=>{const e=r[t];if(!e){const T=Object.keys(r).join(" / ");throw a(new Error(`unknown cipher type '${t}'. Must be ${T}`),"ERR_INVALID_CIPHER_TYPE")}if(!n)throw a(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const c=e.keySize,f=e.ivSize,d=o("key expansion"),p=2*(f+c+20),h=await s.create(n,i);let b=await h.digest(d);const S=[];let I=0;for(;I<p;){const T=await h.digest(l([b,d]));let N=T.length;I+N>p&&(N=p-I),S.push(T),I+=N,b=await h.digest(b)}const k=p/2,u=l(S),w=u.slice(0,k),_=u.slice(k,p),x=T=>({iv:T.slice(0,f),cipherKey:T.slice(f,f+c),macKey:T.slice(f+c)});return{k1:x(w),k2:x(_)}}},function(L,M,g){L.exports={SHA1:20,SHA256:32,SHA512:64}},function(L,M,g){const a=g(219);L.exports=async l=>a.generateEphmeralKeyPair(l)},function(L,M,g){const a=g(1),l=g(37),{base64urlToBuffer:o}=g(53),s=g(220),r=g(5),t=g(11),n=g(8),i={"P-256":256,"P-384":384,"P-521":521};M.generateEphmeralKeyPair=async function(p){s(Object.keys(i),p);const h=await l.get().subtle.generateKey({name:"ECDH",namedCurve:p},!0,["deriveBits"]);return{key:c(await l.get().subtle.exportKey("jwk",h.publicKey)),genSharedKey:async(b,S)=>{let I;I=S?await l.get().subtle.importKey("jwk",d(p,S),{name:"ECDH",namedCurve:p},!1,["deriveBits"]):h.privateKey;const k=[await l.get().subtle.importKey("jwk",f(p,b),{name:"ECDH",namedCurve:p},!1,[]),I],u=await l.get().subtle.deriveBits({name:"ECDH",namedCurve:p,public:k[0]},k[1],i[p]);return new Uint8Array(u,u.byteOffset,u.byteLength)}}};const e={"P-256":32,"P-384":48,"P-521":66};function c(p){const h=e[p.crv];return t([Uint8Array.from([4]),o(p.x,h),o(p.y,h)],1+2*h)}function f(p,h){const b=e[p];if(n(!h.slice(0,1),Uint8Array.from([4])))throw a(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:p,x:r(h.slice(1,b+1),"base64url"),y:r(h.slice(1+b),"base64url"),ext:!0}}const d=(p,h)=>({...f(p,h.public),d:r(h.private,"base64url")})},function(L,M,g){const a=g(1);L.exports=function(l,o){if(!l.includes(o)){const s=l.join(" / ");throw a(new Error(`Unknown curve: ${o}. Must be ${s}`),"ERR_INVALID_CURVE")}}},function(L,M,g){const a=g(17);L.exports=a(`

message PeerIdProto {
  required bytes id = 1;
  bytes pubKey = 2;
  bytes privKey = 3;
}

`)},function(L,M,g){const a=g(1),l=g(82),o=g(83),s=g(33),{consume:r}=g(228),t=g(229),n=g(231),i=g(16),e=g(13),c=g(3);L.exports=class{constructor(f){this.dht=f,this.readMessageTimeout=i.READ_MESSAGE_TIMEOUT,this._log=c.logger(this.dht.peerId,"net"),this._rpc=n(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}async start(){if(this._running)return;if(!this.dht.isStarted)throw a(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,this.dht._clientMode===!1&&this.dht.registrar.handle(i.PROTOCOL_DHT,this._rpc);const f=new t({multicodecs:[i.PROTOCOL_DHT],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=await this.dht.registrar.register(f)}async stop(){(this.dht.isStarted||this.isStarted)&&(this._running=!1,await this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(f){await this.dht._add(f),this._log("added to the routing table: %s",f.toB58String())}async sendRequest(f,d){if(!this.isConnected)throw a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");const p=f.toB58String();this._log("sending to: %s",p);let h=this.dht.registrar.connectionManager.get(f);h||(h=await this.dht.dialer.connectToPeer(f));const{stream:b}=await h.newStream(i.PROTOCOL_DHT);return this._writeReadMessage(b,d.serialize())}async sendMessage(f,d){if(!this.isConnected)throw a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");const p=f.toB58String();this._log("sending to: %s",p);let h=this.dht.registrar.connectionManager.get(f);h||(h=await this.dht.dialer.connectToPeer(f));const{stream:b}=await h.newStream(i.PROTOCOL_DHT);return this._writeMessage(b,d.serialize())}async _writeReadMessage(f,d){return s(async function(p,h){const b=await l([h],o.encode(),p,o.decode(),async S=>{for await(const I of S)return I.slice()});if(b.length===0)throw a(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return e.deserialize(b)}(f,d),this.readMessageTimeout)}_writeMessage(f,d){return l([d],o.encode(),f,r)}}},function(L,M,g){const{Buffer:a}=g(14),l=g(84),o=g(85);function s(r){r=r||{};const t=Math.max(r.poolSize||10240,r.minPoolSize||8),n=r.lengthEncoder||o;return i=>async function*(){let e=a.alloc(t),c=0;for await(const f of i){n(f.length,e,c);const d=e.slice(c,c+n.bytes);c+=n.bytes,e.length-c<8&&(e=a.alloc(t),c=0),yield new l().append(d).append(f)}}()}s.single=(r,t)=>{const n=(t=t||{}).lengthEncoder||o;return new l([n(r.length),r])},L.exports=s,L.exports.MIN_POOL_SIZE=8,L.exports.DEFAULT_POOL_SIZE=10240},function(L,M,g){const{Buffer:a}=g(14),l=g(84),o=g(86),s=a.alloc(0),r="readLength",t="readData",n={[r]:(e,c,f,d)=>{let p;c=c.append(e);try{p=d.lengthDecoder(c)}catch(h){if(c.length>d.maxLengthLength)throw Object.assign(h,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(h instanceof RangeError)return{mode:r,buffer:c};throw h}if(p>d.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=c.shallowSlice(d.lengthDecoder.bytes),c=new l,d.onLength&&d.onLength(p),p<=0?(d.onData&&d.onData(s),{mode:r,chunk:e,buffer:c,data:s}):{mode:t,chunk:e,buffer:c,state:{dataLength:p}}},[t]:(e,c,f,d)=>{if((c=c.append(e)).length<f.dataLength)return{mode:t,buffer:c,state:f};const{dataLength:p}=f,h=c.shallowSlice(0,p);return e=c.length>p?c.shallowSlice(p):null,c=new l,d.onData&&d.onData(h),{mode:r,chunk:e,buffer:c,data:h}}};function i(e){return(e=e||{}).lengthDecoder=e.lengthDecoder||o,e.maxLengthLength=e.maxLengthLength||8,e.maxDataLength=e.maxDataLength||4194304,c=>async function*(){let f,d=new l,p=r;for await(let h of c)for(;h;){const b=n[p](h,d,f,e);({mode:p,chunk:h,buffer:d,state:f}=b),b.data&&(yield b.data)}if(d.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}()}i.fromReader=(e,c)=>{c=c||{};let f=1;const d={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(f)}catch(p){if(p.code==="ERR_UNDER_READ")return{done:!0,value:null};throw p}finally{f=1}}};return c.onLength=p=>{f=p},i(c)(d)},L.exports=i,L.exports.MAX_LENGTH_LENGTH=8,L.exports.MAX_DATA_LENGTH=4194304},function(L,M,g){const{Buffer:a}=g(14),l=(o,s,r)=>((s=s||a.allocUnsafe(4)).writeInt32BE(o,r),s);l.bytes=4,L.exports=l},function(L,M,g){const a=l=>{if(l.length<4)throw RangeError("Could not decode int32BE");return l.readInt32BE(0)};a.bytes=4,L.exports=a},function(L,M,g){L.exports=(a,l)=>(l=l||(()=>{}),a.then(o=>new Promise(s=>{s(l())}).then(()=>o),o=>new Promise(s=>{s(l())}).then(()=>{throw o})))},function(L,M,g){function a(H,G){return G===void 0?R=>a(H,R):G[Symbol.asyncIterator]?async function*(R,q){let K=[];for await(const z of q)K.push(z),K.length===R&&(yield K,K=[]);K.length>0&&(yield K)}(H,G):function*(R,q){let K=[];for(const z of q)K.push(z),K.length===R&&(yield K,K=[]);K.length>0&&(yield K)}(H,G)}function l(H){if(typeof H.next=="function")return H;if(typeof H[Symbol.iterator]=="function")return H[Symbol.iterator]();if(typeof H[Symbol.asyncIterator]=="function")return H[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function o(){let H,G;return{promise:new Promise((R,q)=>{G=R,H=q}),reject:H,resolve:G}}function s(H,G){const R=l(G),q=[],K=[];let z=!1,D=!1;async function C(){if(!D&&!(z||q.length>=H)){z=!0;try{const{done:U,value:F}=await R.next();U?D=!0:q.push({value:F})}catch(U){D=!0,q.push({error:U})}!function(){for(;K.length>0&&q.length>0;){const U=K.shift(),{error:F,value:Y}=q.shift();F?U.reject(F):U.resolve({done:!1,value:Y})}for(;K.length>0&&D;){const{resolve:U}=K.shift();U({done:!0,value:void 0})}}(),z=!1,C()}}const P={next:async function(){if(q.length>0){const{error:F,value:Y}=q.shift();if(F)throw F;return C(),{done:!1,value:Y}}if(D)return{done:!0,value:void 0};const U=o();return K.push(U),C(),U.promise},[Symbol.asyncIterator]:()=>P};return P}function r(H,G){return G===void 0?R=>r(H,R):H===0?G:G[Symbol.asyncIterator]?s(H,G):function*(R,q){const K=[];let z;try{for(const D of q)K.push(D),K.length<=R||(yield K.shift())}catch(D){z=D}for(const D of K)yield D;if(z)throw z}(H,G)}function t(H){return H[Symbol.asyncIterator]?async function(G){const R=[];for await(const q of G)R.push(q);return R}(H):Array.from(H)}function n(...H){return H.find(G=>G[Symbol.asyncIterator]!==void 0)?async function*(G){for await(const R of G)yield*R}(H):function*(G){for(const R of G)yield*R}(H)}function i(H){if(H[Symbol.asyncIterator])return async function(G){for await(const R of G);}(H);for(const G of H);}async function*e(H,G){for await(const R of G)await H(R)&&(yield R)}function c(H,G){return G===void 0?R=>e(H,R):e(H,G)}async function*f(H){for await(const G of H)G&&typeof G!="string"&&(G[Symbol.iterator]||G[Symbol.asyncIterator])?yield*f(G):yield G}async function*d(H,G){for await(const R of G)yield await H(R)}function p(H,G){return G===void 0?R=>d(H,R):d(H,G)}function h(H,G){return G===void 0?R=>h(H,R):c(R=>R!=null,f(p(H,G)))}function b(H,G,R){const q=l(R),K=[],z=[];let D=!1,C=!1,P=0,U=null;function F(){for(;z.length>0&&K.length>0;){const{resolve:W}=z.shift();W({done:!1,value:K.shift()})}for(;z.length>0&&P===0&&D;){const{resolve:W,reject:Z}=z.shift();U?(Z(U),U=null):W({done:!0,value:void 0})}}async function Y(){if(D)F();else if(!(C||P+K.length>=H)){C=!0,P++;try{const{done:W,value:Z}=await q.next();W?(D=!0,P--,F()):async function(et){try{const X=await G(et);if(X&&X[Symbol.asyncIterator])for await(const J of X)K.push(J);else K.push(X)}catch(X){D=!0,U=X}P--,F(),Y()}(Z)}catch(W){D=!0,P--,U=W,F()}C=!1,Y()}}const Q={next:async function(){if(K.length===0){const Z=o();return z.push(Z),Y(),Z.promise}const W=K.shift();return Y(),{done:!1,value:W}},[Symbol.asyncIterator]:()=>Q};return Q}function S(H,G,R){return G===void 0?(q,K)=>K?S(H,q,K):S(H,q):R===void 0?q=>S(H,G,q):c(q=>q!=null,f(b(H,G,R)))}async function I(H){return new Promise(G=>{H.once("readable",()=>{G()})})}function k(H){return typeof H[Symbol.asyncIterator]=="function"?H:async function*(G){for(;;){const R=G.read();if(R===null){if(G._readableState.ended)break;await I(G)}else yield R}}(H)}async function*u(...H){const G=new Set(H.map(l));for(;G.size>0;)for(const R of G){const q=await R.next();q.done?G.delete(R):yield q.value}}function w(H,...G){let R=H();for(const q of G)R=q(R);return R}function _(H,G,R){return G===void 0?(q,K)=>_(H,q,K):R===void 0?q=>_(H,G,q):H===1?p(G,R):async function*(q,K,z){let D=null;const C=l(w(()=>z,r(1),async function*(P){for await(const U of P){if(D)return;yield U}},p(P=>({value:K(P)})),r(q-1)));for(;;){const{value:P,done:U}=await C.next();if(U)break;try{const F=await P.value;D||(yield F)}catch(F){D=F}}if(D)throw D}(H,G,R)}function x(H,G,R){return G===void 0?(q,K)=>K?x(H,q,K):x(H,q):R===void 0?q=>x(H,G,q):c(q=>q!=null,f(_(H,G,R)))}async function*T(...H){const G=H.map(l),R=new Set,q=new Map;let K=null,z=null,D=null;const C=F=>{K=F,z&&z(F)},P=F=>{D&&D(F)},U=F=>{const Y=Promise.resolve(F.next()).then(async({done:Q,value:W})=>{Q||q.set(F,W),R.delete(Y)});R.add(Y),Y.then(P,C)};for(const F of G)U(F);for(;;){if(R.size===0&&q.size===0)return;await new Promise((F,Y)=>{if(K&&Y(K),q.size>0)return F();D=F,z=Y});for(const[F,Y]of q)q.delete(F),yield Y,U(F)}}async function N(H,G,R){let q=G;for await(const K of R)q=await H(q,K);return q}function v(H,G,R){return G===void 0?(q,K)=>K?N(H,q,K):v(H,q):R===void 0?q=>v(H,G,q):N(H,G,R)}function y(H,G){return G===void 0?R=>y(H,R):G[Symbol.asyncIterator]?async function*(R,q){let K=0;for await(const z of q)if(yield await z,K++,K>=R)break}(H,G):function*(R,q){let K=0;for(const z of q)if(yield z,K++,K>=R)break}(H,G)}async function*E(H,G){for await(const R of G)await H(R),yield R}function m(H,G){return G===void 0?R=>E(H,R):E(H,G)}function A(H,G){let R=H[0]+G[0],q=H[1]+G[1];if(q>=1e9){const K=q%1e9;R+=(q-K)/1e9,q=K}return[R,q]}function B(H={},G){return G===void 0?R=>B(H,R):G[Symbol.asyncIterator]!==void 0?async function*(R,q){const K=q[Symbol.asyncIterator]();let z=[0,0];for(;;){const D=Qt.hrtime(),{value:C,done:P}=await K.next(),U=Qt.hrtime(D);if(z=A(z,U),R.progress&&R.progress(U,z),P)return R.total&&R.total(z),C;yield C}}(H,G):function*(R,q){const K=q[Symbol.iterator]();let z=[0,0];for(;;){const D=Qt.hrtime(),{value:C,done:P}=K.next(),U=Qt.hrtime(D);if(z=A(z,U),R.progress&&R.progress(U,z),P)return R.total&&R.total(z),C;yield C}}(H,G)}function O(H,G,R){const q=l(R),K=[],z=[];let D=!1,C=!1,P=0,U=null;function F(){for(;z.length>0&&K.length>0;){const{resolve:W}=z.shift();W({done:!1,value:K.shift()})}for(;z.length>0&&P===0&&D;){const{resolve:W,reject:Z}=z.shift();U?(Z(U),U=null):W({done:!0,value:void 0})}}async function Y(){if(D)F();else if(!(C||P+K.length>=H)){C=!0,P++;try{const{done:W,value:Z}=await q.next();W?(D=!0,P--,F()):async function(et){try{const X=await G(et);K.push(X)}catch(X){D=!0,U=X}P--,F(),Y()}(Z)}catch(W){D=!0,P--,U=W,F()}C=!1,Y()}}const Q={next:async function(){if(K.length===0){const Z=o();return z.push(Z),Y(),Z.promise}const W=K.shift();return Y(),{done:!1,value:W}},[Symbol.asyncIterator]:()=>Q};return Q}function V(H,G,R){return G===void 0?(q,K)=>K?V(H,q,K):V(H,q):R===void 0?q=>V(H,G,q):O(H,G,R)}async function j(H,G){let R=null,q=null,K=null;const z=C=>{R=C,q&&q(C)},D=()=>{K&&K()};H.once("error",z);for await(const C of G)if(H.write(C)===!1&&await new Promise((P,U)=>{if(R)return U(R);H.once("drain",D),K=P,q=U}),R)break;if(H.removeListener("error",z),H.removeListener("drain",D),R)throw R}function $(H,G){return G===void 0?R=>j(H,R):j(H,G)}g.r(M),g.d(M,"batch",function(){return a}),g.d(M,"buffer",function(){return r}),g.d(M,"collect",function(){return t}),g.d(M,"concat",function(){return n}),g.d(M,"consume",function(){return i}),g.d(M,"filter",function(){return c}),g.d(M,"flatMap",function(){return h}),g.d(M,"flatTransform",function(){return S}),g.d(M,"flatten",function(){return f}),g.d(M,"fromStream",function(){return k}),g.d(M,"getIterator",function(){return l}),g.d(M,"map",function(){return p}),g.d(M,"merge",function(){return u}),g.d(M,"parallelFlatMap",function(){return x}),g.d(M,"parallelMap",function(){return _}),g.d(M,"parallelMerge",function(){return T}),g.d(M,"pipeline",function(){return w}),g.d(M,"reduce",function(){return v}),g.d(M,"take",function(){return y}),g.d(M,"tap",function(){return m}),g.d(M,"time",function(){return B}),g.d(M,"transform",function(){return V}),g.d(M,"writeToStream",function(){return $})},function(L,M,g){const a=g(20),l=g(230);L.exports=a(class extends l{constructor({min:o,max:s,multicodecs:r,handlers:t}){if(super({min:o,max:s,handlers:t}),!r)throw new Error("one or more multicodec should be provided");if(!t)throw new Error("the handlers should be provided");if(typeof t.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof t.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(r)?r:[r],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}set registrar(o){this._registrar=o,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(o){for(const{id:s,protocols:r}of o)if(this.multicodecs.filter(t=>r.includes(t)).length){this.peers.add(s.toB58String());const t=this._registrar.getConnection(s);t&&this._onConnect(s,t)}else this.peers.delete(s.toB58String())}_onProtocolChange({peerId:o,protocols:s}){const r=this.peers.has(o.toB58String()),t=s.filter(n=>this.multicodecs.includes(n));r&&t.length===0&&this._onDisconnect(o);for(const n of s)if(this.multicodecs.includes(n)){const i=this._registrar.peerStore.get(o);return void this._updatePeers([i])}}_onPeerConnect(o){const s=o.remotePeer,r=this._registrar.peerStore.protoBook.get(s);r&&this.multicodecs.find(t=>r.includes(t))&&(this.peers.add(s.toB58String()),this._onConnect(s,o))}},{className:"MulticodecTopology",symbolName:"@libp2p/js-interfaces/topology/multicodec-topology"})},function(L,M,g){const a=g(20),l=()=>{};L.exports=a(class{constructor({min:o=0,max:s=1/0,handlers:r={}}){this.min=o,this.max=s,this._onConnect=r.onConnect||l,this._onDisconnect=r.onDisconnect||l,this.peers=new Set}set registrar(o){this._registrar=o}disconnect(o){this._onDisconnect(o)}},{className:"Topology",symbolName:"@libp2p/js-interfaces/topology"})},function(L,M,g){const a=g(82),l=g(83),o=g(13),s=g(239),r=g(3);L.exports=t=>{const n=r.logger(t.peerId,"rpc"),i=s(t);async function e(c,f){const d=i(f.type);try{await t._add(c)}catch(p){n.error("Failed to update the kbucket store",p)}if(d)return d(c,f);n.error("no handler found for message type: "+f.type)}return async function({stream:c,connection:f}){const d=f.remotePeer;try{await t._add(d)}catch(h){n.error(h)}const p=d.toB58String();n("from: %s",p),await a(c.source,l.decode(),h=>async function*(){for await(const b of h){const S=o.deserialize(b.slice()),I=await e(d,S);I&&(yield I.serialize())}}(),l.encode(),c.sink)}}},function(L,M,g){const a=g(233),l=g(57),o=g(4),s=g(28),r=g(20),t=g(1),n=Symbol.for("nodejs.util.inspect.custom"),i=g(5),e=g(8),c=new Map,f=r.proto(function(d){if(!(this instanceof f))return new f(d);if(d==null&&(d=""),d instanceof Uint8Array)this.bytes=a.fromBytes(d);else if(typeof d=="string"||d instanceof String){if(d.length>0&&d.charAt(0)!=="/")throw new Error(`multiaddr "${d}" must start with a "/"`);this.bytes=a.fromString(d)}else{if(!(d.bytes&&d.protos&&d.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=a.fromBytes(d.bytes)}},{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});f.prototype.toString=function(){return a.bytesToString(this.bytes)},f.prototype.toJSON=f.prototype.toString,f.prototype.toOptions=function(){const d={},p=this.toString().split("/");return d.family=p[1]==="ip4"?"ipv4":"ipv6",d.host=p[2],d.transport=p[3],d.port=parseInt(p[4]),d},f.prototype[n]=function(){return"<Multiaddr "+i(this.bytes,"base16")+" - "+a.bytesToString(this.bytes)+">"},f.prototype.inspect=function(){return"<Multiaddr "+i(this.bytes,"base16")+" - "+a.bytesToString(this.bytes)+">"},f.prototype.protos=function(){return this.protoCodes().map(d=>Object.assign({},l(d)))},f.prototype.protoCodes=function(){const d=[],p=this.bytes;let h=0;for(;h<p.length;){const b=o.decode(p,h),S=o.decode.bytes,I=l(b);h+=a.sizeForAddr(I,p.slice(h+S))+S,d.push(b)}return d},f.prototype.protoNames=function(){return this.protos().map(d=>d.name)},f.prototype.tuples=function(){return a.bytesToTuples(this.bytes)},f.prototype.stringTuples=function(){const d=a.bytesToTuples(this.bytes);return a.tuplesToStringTuples(d)},f.prototype.encapsulate=function(d){return d=f(d),f(this.toString()+d.toString())},f.prototype.decapsulate=function(d){d=d.toString();const p=this.toString(),h=p.lastIndexOf(d);if(h<0)throw new Error("Address "+this+" does not contain subaddress: "+d);return f(p.slice(0,h))},f.prototype.decapsulateCode=function(d){const p=this.tuples();for(let h=p.length-1;h>=0;h--)if(p[h][0]===d)return f(a.tuplesToBytes(p.slice(0,h)));return this},f.prototype.getPeerId=function(){let d=null;try{d=this.stringTuples().filter(p=>{if(p[0]===l.names.ipfs.code)return!0}).pop()[1],d=i(new s(d).multihash,"base58btc")}catch(p){d=null}return d},f.prototype.getPath=function(){let d=null;try{d=this.stringTuples().filter(p=>{if(l(p[0]).path)return!0})[0][1]}catch(p){d=null}return d},f.prototype.equals=function(d){return e(this.bytes,d.bytes)},f.prototype.resolve=async function(){const d=this.protos().find(h=>h.resolvable);if(!d)return[this];const p=c.get(d.name);if(!p)throw t(new Error("no available resolver for "+d.name),"ERR_NO_AVAILABLE_RESOLVER");return(await p(this)).map(h=>f(h))},f.prototype.nodeAddress=function(){const d=this.protoCodes(),p=this.protoNames(),h=this.toString().split("/").slice(1);if(h.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(d[0]!==4&&d[0]!==41&&d[0]!==54&&d[0]!==55)throw new Error(`no protocol with name: "'${p[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(h[2]!=="tcp"&&h[2]!=="udp")throw new Error(`no protocol with name: "'${p[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:d[0]===41||d[0]===55?6:4,address:h[1],port:parseInt(h[3])}},f.fromNodeAddress=function(d,p){if(!d)throw new Error("requires node address object");if(!p)throw new Error("requires transport protocol");let h;switch(d.family){case"IPv4":h="ip4";break;case"IPv6":h="ip6";break;default:throw Error(`Invalid addr family. Got '${d.family}' instead of 'IPv4' or 'IPv6'`)}return f("/"+[h,d.address,p,d.port].join("/"))},f.prototype.isThinWaistAddress=function(d){const p=(d||this).protos();return p.length===2&&(p[0].code===4||p[0].code===41)&&(p[1].code===6||p[1].code===273)},f.protocols=l,f.isName=function(d){return!!f.isMultiaddr(d)&&d.protos().some(p=>p.resolvable)},f.resolve=function(d){return f.isMultiaddr(d)&&f.isName(d)?Promise.reject(new Error("not implemented yet")):Promise.reject(Error("not a valid name"))},f.resolvers=c,L.exports=f},function(L,M,g){const a=g(234),l=g(57),o=g(4),s=g(11),r=g(5);function t(u){const w=[],_=u.split("/").slice(1);if(_.length===1&&_[0]==="")return[];for(let x=0;x<_.length;x++){const T=_[x],N=l(T);if(N.size!==0){if(x++,x>=_.length)throw I("invalid address: "+u);if(N.path){w.push([T,S(_.slice(x).join("/"))]);break}w.push([T,_[x]])}else w.push([T])}return w}function n(u){const w=[];return u.map(_=>{const x=k(_);w.push(x.name),_.length>1&&w.push(_[1])}),S(w.join("/"))}function i(u){return u.map(w=>{Array.isArray(w)||(w=[w]);const _=k(w);return w.length>1?[_.code,a.toBytes(_.code,w[1])]:[_.code]})}function e(u){return u.map(w=>{const _=k(w);return w.length>1?[_.code,a.toString(_.code,w[1])]:[_.code]})}function c(u){return h(s(u.map(w=>{const _=k(w);let x=Uint8Array.from(o.encode(_.code));return w.length>1&&(x=s([x,w[1]])),x})))}function f(u,w){return u.size>0?u.size/8:u.size===0?0:o.decode(w)+o.decode.bytes}function d(u){const w=[];let _=0;for(;_<u.length;){const x=o.decode(u,_),T=o.decode.bytes,N=f(l(x),u.slice(_+T));if(N===0){w.push([x]),_+=T;continue}const v=u.slice(_+T,_+T+N);if(_+=N+T,_>u.length)throw I("Invalid address Uint8Array: "+r(u,"base16"));w.push([x,v])}return w}function p(u){return c(i(t(u=S(u))))}function h(u){const w=b(u);if(w)throw w;return Uint8Array.from(u)}function b(u){try{d(u)}catch(w){return w}}function S(u){return"/"+u.trim().split("/").filter(w=>w).join("/")}function I(u){return new Error("Error parsing address: "+u)}function k(u){return l(u[0])}L.exports={stringToStringTuples:t,stringTuplesToString:n,tuplesToStringTuples:e,stringTuplesToTuples:i,bytesToTuples:d,tuplesToBytes:c,bytesToString:function(u){const w=d(u);return n(e(w))},stringToBytes:p,fromString:function(u){return p(u)},fromBytes:h,validateBytes:b,isValidBytes:function(u){return b(u)===void 0},cleanPath:S,ParseError:I,protoFromTuple:k,sizeForAddr:f}},function(L,M,g){const a=g(235),l=g(57),o=g(28),s=g(18),r=g(4),t=g(5),n=g(7),i=g(11);function e(h,b){return b instanceof Uint8Array?e.toString(h,b):e.toBytes(h,b)}function c(h){if(!a.isIP(h))throw new Error("invalid ip address");return a.toBytes(h)}function f(h){const b=new ArrayBuffer(2);return new DataView(b).setUint16(0,h),new Uint8Array(b)}function d(h){return new DataView(h.buffer).getUint16(0)}function p(h){const b=h.slice(0,h.length-2),S=h.slice(h.length-2);return t(b,"base32")+":"+d(S)}L.exports=e,e.toString=function(h,b){switch((h=l(h)).code){case 4:case 41:return function(S){const I=a.toString(S);if(!I||!a.isIP(I))throw new Error("invalid ip address");return I}(b);case 6:case 273:case 33:case 132:return d(b);case 53:case 54:case 55:case 56:case 400:case 777:return function(S){const I=r.decode(S);if((S=S.slice(r.decode.bytes)).length!==I)throw new Error("inconsistent lengths");return t(S)}(b);case 421:return function(S){const I=r.decode(S),k=S.slice(r.decode.bytes);if(k.length!==I)throw new Error("inconsistent lengths");return t(k,"base58btc")}(b);case 444:case 445:return p(b);default:return t(b,"base16")}},e.toBytes=function(h,b){switch((h=l(h)).code){case 4:case 41:return c(b);case 6:case 273:case 33:case 132:return f(parseInt(b,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(S){const I=n(S),k=Uint8Array.from(r.encode(I.length));return i([k,I],k.length+I.length)}(b);case 421:return function(S){const I=new o(S).multihash,k=Uint8Array.from(r.encode(I.length));return i([k,I],k.length+I.length)}(b);case 444:return function(S){const I=S.split(":");if(I.length!==2)throw new Error("failed to parse onion addr: "+I+" does not contain a port number");if(I[0].length!==16)throw new Error("failed to parse onion addr: "+I[0]+" not a Tor onion address.");const k=s.decode("b"+I[0]),u=parseInt(I[1],10);if(u<1||u>65536)throw new Error("Port number is not in range(1, 65536)");const w=f(u);return i([k,w],k.length+w.length)}(b);case 445:return function(S){const I=S.split(":");if(I.length!==2)throw new Error("failed to parse onion addr: "+I+" does not contain a port number");if(I[0].length!==56)throw new Error("failed to parse onion addr: "+I[0]+" not a Tor onion3 address.");const k=s.decode("b"+I[0]),u=parseInt(I[1],10);if(u<1||u>65536)throw new Error("Port number is not in range(1, 65536)");const w=f(u);return i([k,w],k.length+w.length)}(b);default:return n(b,"base16")}}},function(L,M,g){const a=g(236),l=g(5),o=a,s=a.v4,r=a.v6,t=function(n,i,e){var c;if(e=~~e,s(n))c=i||new Uint8Array(e+4),n.split(/\./g).map(function(S){c[e++]=255&parseInt(S,10)});else if(r(n)){var f,d=n.split(":",8);for(f=0;f<d.length;f++){var p;s(d[f])&&(p=t(d[f]),d[f]=l(p.slice(0,2),"base16")),p&&++f<8&&d.splice(f,0,l(p.slice(2,4),"base16"))}if(d[0]==="")for(;d.length<8;)d.unshift("0");else if(d[d.length-1]==="")for(;d.length<8;)d.push("0");else if(d.length<8){for(f=0;f<d.length&&d[f]!=="";f++);var h=[f,"1"];for(f=9-d.length;f>0;f--)h.push("0");d.splice.apply(d,h)}for(c=i||new Uint8Array(e+16),f=0;f<d.length;f++){var b=parseInt(d[f],16);c[e++]=b>>8&255,c[e++]=255&b}}if(!c)throw Error("Invalid ip address: "+n);return c};L.exports={isIP:o,isV4:s,isV6:r,toBytes:t,toString:function(n,i,e){i=~~i,e=e||n.length-i;var c,f=[];const d=new DataView(n.buffer);if(e===4){for(let p=0;p<e;p++)f.push(n[i+p]);c=f.join(".")}else if(e===16){for(let p=0;p<e;p+=2)f.push(d.getUint16(i+p).toString(16));c=(c=(c=f.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return c}}},function(L,M,g){const a=g(237),l=o=>a({exact:!0}).test(o);l.v4=o=>a.v4({exact:!0}).test(o),l.v6=o=>a.v6({exact:!0}).test(o),l.version=o=>l(o)?l.v4(o)?4:6:void 0,L.exports=l},function(L,M,g){const a=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",l="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",s=`
(
(?:${o}:){7}(?:${o}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${o}:){6}(?:${l}|:${o}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${o}:){5}(?::${l}|(:${o}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${o}:){4}(?:(:${o}){0,1}:${l}|(:${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${o}:){3}(?:(:${o}){0,2}:${l}|(:${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${o}:){2}(?:(:${o}){0,3}:${l}|(:${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${o}:){1}(?:(:${o}){0,4}:${l}|(:${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${o}){0,5}:${l}|(?::${o}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),r=new RegExp(`(?:^${l}$)|(?:^${s}$)`),t=new RegExp(`^${l}$`),n=new RegExp(`^${s}$`),i=e=>e&&e.exact?r:new RegExp(`(?:${a(e)}${l}${a(e)})|(?:${a(e)}${s}${a(e)})`,"g");i.v4=e=>e&&e.exact?t:new RegExp(`${a(e)}${l}${a(e)}`,"g"),i.v6=e=>e&&e.exact?n:new RegExp(`${a(e)}${s}${a(e)}`,"g"),L.exports=i},function(L,M,g){L.exports=`// can't use, because protocol-buffers doesn't support imports
// so we have to duplicate for now :(
// import "record.proto";

message Record {
  // adjusted for javascript
  optional bytes key = 1;
  optional bytes value = 2;
  optional bytes author = 3;
  optional bytes signature = 4;
  optional string timeReceived = 5;
}

message Message {
  enum MessageType {
    PUT_VALUE = 0;
    GET_VALUE = 1;
    ADD_PROVIDER = 2;
    GET_PROVIDERS = 3;
    FIND_NODE = 4;
    PING = 5;
  }

  enum ConnectionType {
    // sender does not have a connection to peer, and no extra information (default)
    NOT_CONNECTED = 0;

    // sender has a live connection to peer
    CONNECTED = 1;

    // sender recently connected to peer
    CAN_CONNECT = 2;

    // sender recently tried to connect to peer repeatedly but failed to connect
    // ("try" here is loose, but this should signal "made strong effort, failed")
    CANNOT_CONNECT = 3;
  }

  message Peer {
    // ID of a given peer.
    optional bytes id = 1;

    // multiaddrs for a given peer
    repeated bytes addrs = 2;

    // used to signal the sender's connection capabilities to the peer
    optional ConnectionType connection = 3;
  }

  // defines what type of message it is.
  optional MessageType type = 1;

  // defines what coral cluster level this query/response belongs to.
  // in case we want to implement coral's cluster rings in the future.
  optional int32 clusterLevelRaw = 10;

  // Used to specify the key associated with this message.
  // PUT_VALUE, GET_VALUE, ADD_PROVIDER, GET_PROVIDERS
  // adjusted for javascript
  optional bytes key = 2;

  // Used to return a value
  // PUT_VALUE, GET_VALUE
  // adjusted Record to bytes for js
  optional bytes record = 3;

  // Used to return peers closer to a key in a query
  // GET_VALUE, GET_PROVIDERS, FIND_NODE
  repeated Peer closerPeers = 8;

  // Used to return Providers
  // GET_VALUE, ADD_PROVIDER, GET_PROVIDERS
  repeated Peer providerPeers = 9;
}`},function(L,M,g){const a=g(13).TYPES;L.exports=l=>{const o={[a.GET_VALUE]:g(240)(l),[a.PUT_VALUE]:g(241)(l),[a.FIND_NODE]:g(242)(l),[a.ADD_PROVIDER]:g(243)(l),[a.GET_PROVIDERS]:g(244)(l),[a.PING]:g(245)(l)};return function(s){return o[s]}}},function(L,M,g){const{Record:a}=g(22),l=g(1),o=g(13),s=g(3);L.exports=r=>{const t=s.logger(r.peerId,"rpc:get-value");return async function(n,i){const e=i.key;if(t("key: %b",e),!e||e.length===0)throw l(new Error("Invalid key"),"ERR_INVALID_KEY");const c=new o(o.TYPES.GET_VALUE,e,i.clusterLevel);if(s.isPublicKeyKey(e)){t("is public key");const p=s.fromPublicKeyKey(e);let h;if(r._isSelf(p))h=r.peerId;else{const b=r.peerStore.get(p);h=b&&b.id}if(h&&h.pubKey)return t("returning found public key"),c.record=new a(e,h.pubKey.bytes),c}const[f,d]=await Promise.all([r._checkLocalDatastore(e),r._betterPeersToQuery(i,n)]);return f&&(t("got record"),c.record=f),d.length>0&&(t("got closer %s",d.length),c.closerPeers=d),c}}},function(L,M,g){const a=g(3),l=g(1);L.exports=o=>{const s=a.logger(o.peerId,"rpc:put-value");return async function(r,t){const n=t.key;s("key: %b",n);const i=t.record;if(!i){const c="Empty record from: "+r.toB58String();throw s.error(c),l(new Error(c),"ERR_EMPTY_RECORD")}await o._verifyRecordLocally(i),i.timeReceived=new Date;const e=a.bufferToKey(i.key);return await o.datastore.put(e,i.serialize()),t}}},function(L,M,g){const a=g(8),l=g(13),o=g(3);L.exports=s=>{const r=o.logger(s.peerId,"rpc:find-node");return async function(t,n){let i;r("start"),i=a(n.key,s.peerId.id)?[{id:s.peerId}]:await s._betterPeersToQuery(n,t);const e=new l(n.type,new Uint8Array(0),n.clusterLevel);return i.length>0?e.closerPeers=i:r("handle FindNode %s: could not find anything",t.toB58String()),e}}},function(L,M,g){const a=g(28),l=g(1),o=g(3);L.exports=s=>{const r=o.logger(s.peerId,"rpc:add-provider");return async function(t,n){if(r("start"),!n.key||n.key.length===0)throw l(new Error("Missing key"),"ERR_MISSING_KEY");let i;try{i=new a(n.key)}catch(e){const c="Invalid CID: "+e.message;throw l(new Error(c),"ERR_INVALID_CID")}return n.providerPeers.forEach(e=>{if(e.id.isEqual(t)){if(!(e.multiaddrs.length<1))return r("received provider %s for %s (addrs %s)",t.toB58String(),i.toBaseEncodedString(),e.multiaddrs.map(c=>c.toString())),s._isSelf(e.id)?void 0:(s.peerStore.addressBook.add(e.id,e.multiaddrs),s.providers.addProvider(i,e.id));r("no valid addresses for provider %s. Ignore",t.toB58String())}else r("invalid provider peer %s from %s",e.id.toB58String(),t.toB58String())}),s.providers.addProvider(i,t)}}},function(L,M,g){const a=g(28),l=g(1),o=g(13),s=g(3);L.exports=r=>{const t=s.logger(r.peerId,"rpc:get-providers");return async function(n,i){let e;try{e=new a(i.key)}catch(I){throw l(new Error("Invalid CID: "+I.message),"ERR_INVALID_CID")}t("%s",e.toBaseEncodedString());const c=s.bufferToKey(e.bytes),[f,d,p]=await Promise.all([r.datastore.has(c),r.providers.getProviders(e),r._betterPeersToQuery(i,n)]),h=d.map(I=>({id:I})),b=p.map(I=>({id:I.id}));f&&h.push({id:r.peerId});const S=new o(i.type,i.key,i.clusterLevel);return h.length>0&&(S.providerPeers=h),b.length>0&&(S.closerPeers=b),t("got %s providers %s closerPeers",h.length,b.length),S}}},function(L,M,g){const a=g(3);L.exports=l=>{const o=a.logger(l.peerId,"rpc:ping");return function(s,r){return o("from %s",s.toB58String()),r}}},function(L,M,g){const a=g(1),l=g(33),o=g(8),s=g(22),r=g(16),t=g(58),n=g(3),i=s.Record;L.exports=e=>{const c=async(f,d)=>e.datastore.put(n.bufferToKey(f),d);return{_putLocal:async(f,d)=>c(f,d),async put(f,d,p={}){e._log("PutValue %b",f);const h=await n.createPutRecord(f,d);await c(f,h);let b=0,S=0;await n.mapParallel(e.getClosestPeers(f,{shallow:!0}),async k=>{try{b+=1,await e._putValueToPeer(f,h,k),S+=1}catch(u){e._log.error("Failed to put to peer (%b): %s",k.id,u)}});const I=p.minPeers||b;if(I>S){const k=a(new Error(`Failed to put value to enough peers: ${S}/${I}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw e._log.error(k),k}},async get(f,d={}){d.timeout=d.timeout||r.minute,e._log("_get %b",f);const p=await e.getMany(f,r.GET_MANY_RECORD_COUNT,d),h=p.map(I=>I.val);let b=0;try{b=s.selection.bestRecord(e.selectors,f,h)}catch(I){if(I.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw I}const S=h[b];if(e._log("GetValue %b %s",f,S),!S)throw a(new Error("best value was not found"),"ERR_NOT_FOUND");return await(async(I,k,u)=>{const w=await n.createPutRecord(I,u);return Promise.all(k.map(async _=>{if(!o(_.val,u))if(e._isSelf(_.from))try{await e._putLocal(I,w)}catch(x){e._log.error("Failed error correcting self",x)}else try{await e._putValueToPeer(I,w,_.from)}catch(x){e._log.error("Failed error correcting entry",x)}}))})(f,p,S),S},async getMany(f,d,p={}){p.timeout=p.timeout||r.minute,e._log("getMany %b (%s)",f,d);let h,b=[];try{h=await(async _=>{e._log("getLocal %b",_);const x=await e.datastore.get(n.bufferToKey(_));e._log("found %b in local datastore",_);const T=i.deserialize(x);return await e._verifyRecordLocally(T),T})(f)}catch(_){if(d===0)throw _}if(h&&b.push({val:h.value,from:e.peerId}),b.length>=d)return b;const S=[],I=await n.convertBuffer(f),k=e.routingTable.closestPeers(I,this.kBucketSize);if(e._log("peers in rt: %d",k.length),k.length===0){const _="Failed to lookup key! No peers from routing table!";if(e._log.error(_),b.length===0)throw a(new Error(_),"ERR_NO_PEERS_IN_ROUTING_TABLE");return b}const u=new t(e,f,(_,x)=>{const T=n.pathSize(d-b.length,x),N=[];return S.push(N),async v=>{let y,E,m;try{const B=await e._getValueOrPeers(v,f);y=B.record,E=B.peers}catch(B){if(B.code!=="ERR_INVALID_RECORD")throw B;m=B}const A={closerPeers:E};return(y&&y.value||m)&&N.push({val:y&&y.value,from:v}),N.length>=T&&(A.pathComplete=!0),A}});let w;try{await l(u.run(k),p.timeout)}catch(_){w=_}if(u.stop(),b=[].concat.apply(b,S).slice(0,d),w&&b.length===0)throw w;return b}}}},function(L,M,g){const a=g(248),l=g(40),o=g(249),s=g(253),r=g(3);L.exports=class extends l{constructor(t){super(),this.query=t,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(this.running){this.running=!1;for(const t of this.workers)t.stop()}}async execute(t){const n=[],i=Math.min(this.query.dht.disjointPaths,t.length);for(let c=0;c<i;c++)n.push(new o(this,this.query.makePath(c,i)));t.forEach((c,f)=>{n[f%i].addInitialPeer(c)}),await this.executePaths(n);const e={finalSet:new Set(this.peersQueried.peers),paths:[]};for(const c of n)c.res&&(c.res.pathComplete||c.res.queryComplete)&&(c.res.success=!0,e.paths.push(c.res));return e}async executePaths(t){this.running=!0,this.emit("start");try{await Promise.all(t.map(n=>n.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(t){await this.init(),await this.startWorker(t)}async startWorker(t){const n=new s(this.query.dht,this,t,this.query._log);this.workers.push(n),await n.execute()}async init(){this.peersQueried||(this.peersQueriedPromise?await this.peersQueriedPromise:(this.peersQueriedPromise=(async()=>{const t=await r.convertBuffer(this.query.key);this.peersQueried=new a(t,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise))}async continueQuerying(t){if(this.peersQueried.length<this.peersQueried.capacity)return!0;const n=t.queue.workersList().map(i=>i.data);return!!await this.peersQueried.anyCloser(n)}}},function(L,M,g){const a=g(45),l=g(3),o=g(46),s=g(8);L.exports=class{constructor(r,t){this.originDhtKey=r,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(r=>r.peerId)}async add(r){if(this.peerDistances.find(i=>s(i.peerId.id,r.id)))return;const t=await l.convertPeerId(r),n={peerId:r,distance:a(this.originDhtKey,t)};this.peerDistances.push(n),this.peerDistances.sort((i,e)=>a.compare(i.distance,e.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(r){if(!r.length)return!1;if(!this.length)return!0;const t=await o(r,i=>l.convertPeerId(i)),n=this.peerDistances[this.peerDistances.length-1].distance;for(const i of t){const e=a(this.originDhtKey,i);if(a.compare(e,n)<0)return!0}return!1}}},function(L,M,g){const a=g(250),l=g(3);L.exports=class{constructor(o,s){if(this.run=o,this.queryFunc=l.withTimeout(s,3e4),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if(typeof this.queryFunc!="function")throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null}addInitialPeer(o){this.initialPeers.push(o)}async execute(){const o=await a.fromKey(this.run.query.key);this.peersToQuery=o,await Promise.all(this.initialPeers.map(s=>this.addPeerToQuery(s))),await this.run.workerQueue(this)}async addPeerToQuery(o){this.run.query.dht._isSelf(o)||this.run.peersSeen.has(o.toB58String())||await this.peersToQuery.enqueue(o)}}},function(L,M,g){const a=g(251),l=g(45),o=g(66),s=g(3),r=o("libp2p:dht:peer-queue");class t{static async fromPeerId(n){const i=await s.convertPeerId(n);return new t(i)}static async fromKey(n){const i=await s.convertBuffer(n);return new t(i)}constructor(n){r("create: %b",n),this.from=n,this.heap=new a(s.xorCompare)}async enqueue(n){r("enqueue %s",n.toB58String());const i=await s.convertPeerId(n),e={id:n,distance:l(this.from,i)};this.heap.push(e)}dequeue(){const n=this.heap.pop();return r("dequeue %s",n.id.toB58String()),n.id}get length(){return this.heap.size()}}L.exports=t},function(L,M,g){L.exports=g(252)},function(L,M,g){var a,l,o;(function(){var s,r,t,n,i,e,c,f,d,p,h,b,S,I,k;t=Math.floor,p=Math.min,r=function(u,w){return u<w?-1:u>w?1:0},d=function(u,w,_,x,T){var N;if(_==null&&(_=0),T==null&&(T=r),_<0)throw new Error("lo must be non-negative");for(x==null&&(x=u.length);_<x;)T(w,u[N=t((_+x)/2)])<0?x=N:_=N+1;return[].splice.apply(u,[_,_-_].concat(w)),w},e=function(u,w,_){return _==null&&(_=r),u.push(w),I(u,0,u.length-1,_)},i=function(u,w){var _,x;return w==null&&(w=r),_=u.pop(),u.length?(x=u[0],u[0]=_,k(u,0,w)):x=_,x},f=function(u,w,_){var x;return _==null&&(_=r),x=u[0],u[0]=w,k(u,0,_),x},c=function(u,w,_){var x;return _==null&&(_=r),u.length&&_(u[0],w)<0&&(w=(x=[u[0],w])[0],u[0]=x[1],k(u,0,_)),w},n=function(u,w){var _,x,T,N,v,y;for(w==null&&(w=r),v=[],x=0,T=(N=function(){y=[];for(var E=0,m=t(u.length/2);0<=m?E<m:E>m;0<=m?E++:E--)y.push(E);return y}.apply(this).reverse()).length;x<T;x++)_=N[x],v.push(k(u,_,w));return v},S=function(u,w,_){var x;if(_==null&&(_=r),(x=u.indexOf(w))!==-1)return I(u,0,x,_),k(u,x,_)},h=function(u,w,_){var x,T,N,v,y;if(_==null&&(_=r),!(T=u.slice(0,w)).length)return T;for(n(T,_),N=0,v=(y=u.slice(w)).length;N<v;N++)x=y[N],c(T,x,_);return T.sort(_).reverse()},b=function(u,w,_){var x,T,N,v,y,E,m,A,B;if(_==null&&(_=r),10*w<=u.length){if(!(N=u.slice(0,w).sort(_)).length)return N;for(T=N[N.length-1],v=0,E=(m=u.slice(w)).length;v<E;v++)_(x=m[v],T)<0&&(d(N,x,0,null,_),N.pop(),T=N[N.length-1]);return N}for(n(u,_),B=[],y=0,A=p(w,u.length);0<=A?y<A:y>A;0<=A?++y:--y)B.push(i(u,_));return B},I=function(u,w,_,x){var T,N,v;for(x==null&&(x=r),T=u[_];_>w&&x(T,N=u[v=_-1>>1])<0;)u[_]=N,_=v;return u[_]=T},k=function(u,w,_){var x,T,N,v,y;for(_==null&&(_=r),T=u.length,y=w,N=u[w],x=2*w+1;x<T;)(v=x+1)<T&&!(_(u[x],u[v])<0)&&(x=v),u[w]=u[x],x=2*(w=x)+1;return u[w]=N,I(u,y,w,_)},s=function(){function u(w){this.cmp=w??r,this.nodes=[]}return u.push=e,u.pop=i,u.replace=f,u.pushpop=c,u.heapify=n,u.updateItem=S,u.nlargest=h,u.nsmallest=b,u.prototype.push=function(w){return e(this.nodes,w,this.cmp)},u.prototype.pop=function(){return i(this.nodes,this.cmp)},u.prototype.peek=function(){return this.nodes[0]},u.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},u.prototype.replace=function(w){return f(this.nodes,w,this.cmp)},u.prototype.pushpop=function(w){return c(this.nodes,w,this.cmp)},u.prototype.heapify=function(){return n(this.nodes,this.cmp)},u.prototype.updateItem=function(w){return S(this.nodes,w,this.cmp)},u.prototype.clear=function(){return this.nodes=[]},u.prototype.empty=function(){return this.nodes.length===0},u.prototype.size=function(){return this.nodes.length},u.prototype.clone=function(){var w;return(w=new u).nodes=this.nodes.slice(0),w},u.prototype.toArray=function(){return this.nodes.slice(0)},u.prototype.insert=u.prototype.push,u.prototype.top=u.prototype.peek,u.prototype.front=u.prototype.peek,u.prototype.has=u.prototype.contains,u.prototype.copy=u.prototype.clone,u}(),l=[],(o=typeof(a=function(){return s})=="function"?a.apply(M,l):a)===void 0||(L.exports=o)}).call(void 0)},function(L,M,g){const a=g(254),l=g(267);L.exports=class{constructor(o,s,r,t){this.dht=o,this.run=s,this.path=r,this.log=t,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null}setupQueue(){const o=a((s,r)=>{l(this.processNext(s))(r)},this.concurrency);return o.error=s=>{this.log.error("queue",s),this.stop(s)},o.drain=()=>{this.log("queue:drain"),this.stop()},o.unsaturated=()=>{this.running&&this.fill()},o.buffer=0,o}stop(o){this.running&&(this.running=!1,this.queue.kill(),this.log("worker:stop, %d workers still running",this.run.workers.filter(s=>s.running).length),o?this.execution.reject(o):this.execution.resolve())}async execute(){this.running=!0,this.execution={};const o=new Promise((s,r)=>Object.assign(this.execution,{resolve:s,reject:r}));this.fill(),await o}fill(){for(;this.queue.running()+this.queue.length()<this.concurrency&&this.path.peersToQuery.length>0;)this.queue.push(this.path.peersToQuery.dequeue())}async processNext(o){if(!this.running)return;if(this.run.peersSeen.has(o.toB58String()))return;let s,r,t,n;try{s=await this.run.continueQuerying(this)}catch(i){r=i}if(this.running){if(r)throw r;if(s){if(!this.run.peersSeen.has(o.toB58String())){this.run.peersSeen.add(o.toB58String()),this.log("queue:work");try{t=await this.execQuery(o)}catch(i){n=i}if(this.running){if(this.log("queue:work:done",n,t),n)throw n;if(t&&t.queryComplete)return this.log("query:complete"),void this.run.stop();t&&t.pathComplete&&this.stop()}}}else this.stop()}}async execQuery(o){let s,r;try{s=await this.path.queryFunc(o)}catch(t){r=t}if(this.running)if(r)this.run.errors.push(r);else{if(await this.run.peersQueried.add(o),s.pathComplete||s.queryComplete)return this.path.res=s,{pathComplete:s.pathComplete,queryComplete:s.queryComplete};s.closerPeers&&s.closerPeers.length>0&&await Promise.all(s.closerPeers.map(async t=>{this.dht._isSelf(t.id)||(this.dht._peerDiscovered(t.id,t.multiaddrs),await this.path.addPeerToQuery(t.id))}))}}}},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(s,r){var t=(0,l.default)(s);return(0,a.default)(function(n,i){t(n[0],i)},r,1)};var a=o(g(255)),l=o(g(89));function o(s){return s&&s.__esModule?s:{default:s}}L.exports=M.default},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,c,f){if(c==null)c=1;else if(c===0)throw new Error("Concurrency must not be zero");var d=(0,n.default)(e),p=0,h=[],b=!1;function S(w,_,x){if(x!=null&&typeof x!="function")throw new Error("task callback must be a function");if(u.started=!0,(0,l.default)(w)||(w=[w]),w.length===0&&u.idle())return(0,r.default)(function(){u.drain()});for(var T=0,N=w.length;T<N;T++){var v={data:w[T],callback:x||o.default};_?u._tasks.unshift(v):u._tasks.push(v)}b||(b=!0,(0,r.default)(function(){b=!1,u.process()}))}function I(w){return function(_){p-=1;for(var x=0,T=w.length;x<T;x++){var N=w[x],v=(0,a.default)(h,N,0);v===0?h.shift():v>0&&h.splice(v,1),N.callback.apply(N,arguments),_!=null&&u.error(_,N.data)}p<=u.concurrency-u.buffer&&u.unsaturated(),u.idle()&&u.drain(),u.process()}}var k=!1,u={_tasks:new t.default,concurrency:c,payload:f,saturated:o.default,unsaturated:o.default,buffer:c/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(w,_){S(w,!1,_)},kill:function(){u.drain=o.default,u._tasks.empty()},unshift:function(w,_){S(w,!0,_)},remove:function(w){u._tasks.remove(w)},process:function(){if(!k){for(k=!0;!u.paused&&p<u.concurrency&&u._tasks.length;){var w=[],_=[],x=u._tasks.length;u.payload&&(x=Math.min(x,u.payload));for(var T=0;T<x;T++){var N=u._tasks.shift();w.push(N),h.push(N),_.push(N.data)}p+=1,u._tasks.length===0&&u.empty(),p===u.concurrency&&u.saturated();var v=(0,s.default)(I(w));d(_,v)}k=!1}},length:function(){return u._tasks.length},running:function(){return p},workersList:function(){return h},idle:function(){return u._tasks.length+p===0},pause:function(){u.paused=!0},resume:function(){u.paused!==!1&&(u.paused=!1,(0,r.default)(u.process))}};return u};var a=i(g(256)),l=i(g(260)),o=i(g(261)),s=i(g(262)),r=i(g(87)),t=i(g(263)),n=i(g(89));function i(e){return e&&e.__esModule?e:{default:e}}L.exports=M.default},function(L,M,g){var a=g(257),l=g(258),o=g(259);L.exports=function(s,r,t){return r==r?o(s,r,t):a(s,l,t)}},function(L,M,g){L.exports=function(a,l,o,s){for(var r=a.length,t=o+(s?1:-1);s?t--:++t<r;)if(l(a[t],t,a))return t;return-1}},function(L,M,g){L.exports=function(a){return a!=a}},function(L,M,g){L.exports=function(a,l,o){for(var s=o-1,r=a.length;++s<r;)if(a[s]===l)return s;return-1}},function(L,M,g){var a=Array.isArray;L.exports=a},function(L,M,g){L.exports=function(){}},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(a){return function(){if(a===null)throw new Error("Callback was already called.");var l=a;a=null,l.apply(this,arguments)}},L.exports=M.default},function(L,M,g){function a(){this.head=this.tail=null,this.length=0}function l(o,s){o.length=1,o.head=o.tail=s}Object.defineProperty(M,"__esModule",{value:!0}),M.default=a,a.prototype.removeLink=function(o){return o.prev?o.prev.next=o.next:this.head=o.next,o.next?o.next.prev=o.prev:this.tail=o.prev,o.prev=o.next=null,this.length-=1,o},a.prototype.empty=function(){for(;this.head;)this.shift();return this},a.prototype.insertAfter=function(o,s){s.prev=o,s.next=o.next,o.next?o.next.prev=s:this.tail=s,o.next=s,this.length+=1},a.prototype.insertBefore=function(o,s){s.prev=o.prev,s.next=o,o.prev?o.prev.next=s:this.head=s,o.prev=s,this.length+=1},a.prototype.unshift=function(o){this.head?this.insertBefore(this.head,o):l(this,o)},a.prototype.push=function(o){this.tail?this.insertAfter(this.tail,o):l(this,o)},a.prototype.shift=function(){return this.head&&this.removeLink(this.head)},a.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},a.prototype.toArray=function(){for(var o=Array(this.length),s=this.head,r=0;r<this.length;r++)o[r]=s.data,s=s.next;return o},a.prototype.remove=function(o){for(var s=this.head;s;){var r=s.next;o(s)&&this.removeLink(s),s=r}return this},L.exports=M.default},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(n){return(0,l.default)(function(i,e){var c;try{c=n.apply(this,i)}catch(f){return e(f)}(0,a.default)(c)&&typeof c.then=="function"?c.then(function(f){r(e,null,f)},function(f){r(e,f.message?f:new Error(f))}):e(null,c)})};var a=s(g(265)),l=s(g(266)),o=s(g(87));function s(n){return n&&n.__esModule?n:{default:n}}function r(n,i,e){try{n(i,e)}catch(c){(0,o.default)(t,c)}}function t(n){throw n}L.exports=M.default},function(L,M,g){L.exports=function(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(s){return function(){var r=(0,o.default)(arguments),t=r.pop();s.call(this,r,t)}};var a,l=g(88),o=(a=l)&&a.__esModule?a:{default:a};L.exports=M.default},function(L,M,g){var a=g(268),l=g(269);L.exports=function(o){if(!a(o.then))throw new TypeError("Expected a promise");return function(s){o.then(function(r){l(s,null,r)},function(r){l(s,r)})}}},function(L,M,g){var a=Object.prototype.toString;L.exports=function(l){return a.call(l)==="[object Function]"}},function(L,M,g){L.exports=typeof setImmediate=="function"?setImmediate:function(){var a=[].slice.apply(arguments);a.splice(1,0,0),setTimeout.apply(null,a)}},function(L,M,g){const a=g(1),l=g(33),o=g(16),s=g(271),r=g(13),t=g(58),n=g(3);L.exports=i=>({async provide(e){i._log("provide: %s",e.toBaseEncodedString());const c=[];await i.providers.addProvider(e,i.peerId);const f=i.libp2p?i.libp2p.multiaddrs:[],d=new r(r.TYPES.ADD_PROVIDER,e.bytes,0);if(d.providerPeers=[{id:i.peerId,multiaddrs:f}],await n.mapParallel(i.getClosestPeers(e.bytes),async p=>{i._log("putProvider %s to %s",e.toBaseEncodedString(),p.toB58String());try{await i.network.sendMessage(p,d)}catch(h){c.push(h)}}),c.length)throw a(new Error(`Failed to provide to ${c.length} of ${i.kBucketSize} peers`,"ERR_SOME_PROVIDES_FAILED"),{errors:c})},async*findProviders(e,c={}){const f=c.timeout||o.minute,d=c.maxNumProviders||o.K;i._log("findProviders %s",e.toBaseEncodedString());const p=new s(d);if((await i.providers.getProviders(e)).forEach(I=>{const k=i.peerStore.get(I)||{};p.push({id:k.id||I,multiaddrs:(k.addresses||[]).map(u=>u.multiaddr)})}),p.length>=d){for(const I of p.toArray())yield I;return}const h=[],b=new t(i,e.bytes,(I,k)=>{const u=n.pathSize(d-p.length,k),w=new s(u);return h.push(w),async _=>{const x=await(async(N,v)=>{const y=new r(r.TYPES.GET_PROVIDERS,v.bytes,0);return i.network.sendRequest(N,y)})(_,e),T=x.providerPeers;return i._log("(%s) found %s provider entries",i.peerId.toB58String(),T.length),T.forEach(N=>{w.push({id:N.id})}),w.length>=u?{pathComplete:!0}:{closerPeers:x.closerPeers}}}),S=i.routingTable.closestPeers(e.bytes,i.kBucketSize);try{await l(b.run(S),f)}catch(I){if(I.name!==l.TimeoutError.name)throw I}finally{b.stop()}if(h.forEach(I=>{I.toArray().forEach(k=>{p.push(k)})}),p.length===0)throw a(new Error("no providers found"),"ERR_NOT_FOUND");for(const I of p.toArray())yield I}})},function(L,M,g){const a=g(272);L.exports=class extends a{constructor(l){super(),this.limit=l}push(l){return this.length<this.limit&&super.push(l)}}},function(L,M,g){L.exports=class{constructor(){this.list=[]}push(a){return!this.has(a.id)&&(this.list.push(a),!0)}has(a){const l=this.list.find(o=>o.id.isEqual(a));return Boolean(l)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}}},function(L,M,g){const a=g(1),l=g(33),o=g(27),s=g(90),r=g(16),t=g(13),n=g(58),i=g(3);L.exports=e=>{const c=async f=>{const d=i.keyForPublicKey(f),p=await(async(b,S)=>{const I=new t(t.TYPES.GET_VALUE,S,0);return e.network.sendRequest(b,I)})(f,d);if(!p.record||!p.record.value)throw a("Node not responding with its public key: "+f.toB58String(),"ERR_INVALID_RECORD");const h=o.createFromPubKey(p.record.value);if(!h.isEqual(f))throw a("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return h.pubKey};return{async _findPeerSingle(f,d){e._log("findPeerSingle %s",f.toB58String());const p=new t(t.TYPES.FIND_NODE,d.id,0);return e.network.sendRequest(f,p)},async findPeer(f,d={}){d.timeout=d.timeout||r.minute,e._log("findPeer %s",f.toB58String());const p=await(async _=>{e._log("findPeerLocal %s",_.toB58String());const x=await e.routingTable.find(_),T=x&&e.peerStore.get(x);if(T)return{id:T.id,multiaddrs:T.addresses.map(N=>N.multiaddr)}})(f);if(p!=null)return e._log("found local"),p;const h=await i.convertPeerId(f),b=e.routingTable.closestPeers(h,e.kBucketSize);if(b.length===0)throw a(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(b.find(_=>_.isEqual(f))){const _=e.peerStore.get(f);if(_)return e._log("found in peerStore"),{id:_.id,multiaddrs:_.addresses.map(x=>x.multiaddr)}}const S=new n(e,f.id,()=>async _=>{const x=await this._findPeerSingle(_,f),T=x.closerPeers.find(N=>N.id.isEqual(f));return T?{peer:T,queryComplete:!0}:{closerPeers:x.closerPeers}});let I,k;try{k=await l(S.run(b),d.timeout)}catch(_){I=_}if(S.stop(),I)throw I;let u=!1;if(k.paths.forEach(_=>{_.success&&(u=!0,e.peerStore.addressBook.add(_.peer.id,_.peer.multiaddrs))}),e._log("findPeer %s: %s",f.toB58String(),u),!u)throw a(new Error("No peer found"),"ERR_NOT_FOUND");const w=e.peerStore.get(f);return{id:w.id,multiaddrs:w.addresses.map(_=>_.multiaddr)}},async*getClosestPeers(f,d={shallow:!1}){e._log("getClosestPeers to %b",f);const p=await i.convertBuffer(f),h=e.routingTable.closestPeers(p,e.kBucketSize),b=new n(e,f,()=>async k=>({closerPeers:await(async(u,w)=>(e._log("closerPeersSingle %b from %s",u,w.toB58String()),(await e.peerRouting._findPeerSingle(w,new o(u))).closerPeers.filter(_=>!e._isSelf(_.id)).map(_=>(e.peerStore.addressBook.add(_.id,_.multiaddrs),_))))(f,k),pathComplete:!!d.shallow||void 0})),S=await b.run(h);if(!S||!S.finalSet)return[];const I=await i.sortClosestPeers(Array.from(S.finalSet),p);for(const k of I.slice(0,e.kBucketSize))yield k},async getPublicKey(f){e._log("getPublicKey %s",f.toB58String());const d=e.peerStore.get(f);if(d&&d.id.pubKey)return e._log("getPublicKey: found local copy"),d.id.pubKey;let p;try{p=await c(f)}catch(b){const S=i.keyForPublicKey(f),I=await e.get(S);p=s.keys.unmarshalPublicKey(I)}d.id=new o(f.id,null,p);const h=d.addresses.map(b=>b.multiaddr);return e.peerStore.addressBook.add(d.id,h),e.peerStore.keyBook.set(d.id,p),p}}}},function(L,M,g){const a=g(275),l=g(276);M.create=async function(o,s){const r=l(o),t=a.createCipheriv(r,o,s),n=a.createDecipheriv(r,o,s);return{encrypt:async i=>t.update(i),decrypt:async i=>n.update(i)}}},function(L,M,g){g(49);const a=g(0),l=g(5),o=g(7);L.exports={createCipheriv:(s,r,t)=>{const n=a.cipher.createCipher("AES-CTR",l(r,"ascii"));return n.start({iv:l(t,"ascii")}),{update:i=>(n.update(a.util.createBuffer(l(i,"ascii"))),o(n.output.getBytes(),"ascii"))}},createDecipheriv:(s,r,t)=>{const n=a.cipher.createDecipher("AES-CTR",l(r,"ascii"));return n.start({iv:l(t,"ascii")}),{update:i=>(n.update(a.util.createBuffer(l(i,"ascii"))),o(n.output.getBytes(),"ascii"))}}}},function(L,M,g){const a=g(1),l={16:"aes-128-ctr",32:"aes-256-ctr"};L.exports=function(o){const s=l[o.length];if(!s){const r=Object.entries(l).map(([t,n])=>`${t} (${n})`).join(" / ");throw a(new Error(`Invalid key length ${o.length} bytes. Must be ${r}`),"ERR_INVALID_KEY_LENGTH")}return s}},function(L,M,g){const a=g(71),l=g(2),o=g(1),s={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};L.exports=function(r,t,n,i,e){const c=s[e];if(!c){const d=Object.keys(s).join(" / ");throw o(new Error(`Hash '${e}' is unknown or not supported. Must be ${d}`),"ERR_UNSUPPORTED_HASH_TYPE")}const f=a(r,t,n,i,c);return l.encode64(f)}},function(L,M,g){const a=g(279),l=g(4),o=g(27),{Key:s}=g(43),{default:r}=g(280),t=g(16),n=g(3);function i(f){return f=typeof f=="string"?f:n.encodeBase32(f.bytes),t.PROVIDERS_KEY_PREFIX+f}function e(f){const d=f.toString().split("/");if(d.length!==4)throw new Error("incorrectly formatted provider entry key in datastore: "+f);return{cid:d[2],peerId:d[3]}}function c(f){return l.decode(f)}L.exports=class{constructor(f,d,p){this.datastore=f,this._log=n.logger(d,"providers"),this.cleanupInterval=t.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=t.PROVIDERS_VALIDITY,this.lruCacheSize=p||t.PROVIDERS_LRU_CACHE_SIZE,this.providers=a(this.lruCacheSize),this.syncQueue=new r({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){clearInterval(this._cleaner),this._cleaner=null}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");const f=Date.now();let d=0,p=0;const h=new Map,b=this.datastore.batch(),S=this.datastore.query({prefix:t.PROVIDERS_KEY_PREFIX});for await(const I of S)try{const{cid:k,peerId:u}=e(I.key),w=c(I.value),_=Date.now(),x=_-w,T=x>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",_,w,x,this.provideValidity,T?"(expired)":""),T){p++,b.delete(I.key);const N=h.get(k)||new Set;N.add(u),h.set(k,N)}d++}catch(k){this._log.error(k.message)}this._log("deleting %d / %d entries",p,d),h.size&&await b.commit();for(const[I,k]of h){const u=i(I),w=this.providers.get(u);if(w){for(const _ of k)w.delete(_);w.size===0?this.providers.remove(u):this.providers.set(u,w)}}this._log("Cleanup successful (%dms)",Date.now()-f)})}async _getProvidersMap(f){const d=i(f);let p=this.providers.get(d);return p||(p=await async function(h,b){const S=new Map,I=h.query({prefix:i(b)});for await(const k of I){const{peerId:u}=e(k.key);S.set(u,c(k.value))}return S}(this.datastore,f),this.providers.set(d,p)),p}async addProvider(f,d){return this.syncQueue.add(async()=>{this._log("addProvider %s",f.toBaseEncodedString());const p=await this._getProvidersMap(f);this._log("loaded %s provs",p.size);const h=Date.now();p.set(n.encodeBase32(d.id),h);const b=i(f);return this.providers.set(b,p),async function(S,I,k,u){const w=[i(I),"/",n.encodeBase32(k.id)].join(""),_=new s(w),x=Uint8Array.from(l.encode(u));return S.put(_,x)}(this.datastore,f,d,h)})}async getProviders(f){return this.syncQueue.add(async()=>(this._log("getProviders %s",f.toBaseEncodedString()),[...(await this._getProvidersMap(f)).keys()].map(d=>new o(n.decodeBase32(d)))))}}},function(L,M,g){L.exports=function(a){if(!a)throw Error("hashlru must have a max value, of type number, greater than 0");var l=0,o=Object.create(null),s=Object.create(null);function r(t,n){o[t]=n,++l>=a&&(l=0,s=o,o=Object.create(null))}return{has:function(t){return o[t]!==void 0||s[t]!==void 0},remove:function(t){o[t]!==void 0&&(o[t]=void 0),s[t]!==void 0&&(s[t]=void 0)},get:function(t){var n=o[t];return n!==void 0?n:(n=s[t])!==void 0?(r(t,n),n):void 0},set:function(t,n){o[t]!==void 0?o[t]=n:r(t,n)},clear:function(){o=Object.create(null),s=Object.create(null)}}}},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0});const a=g(281),l=g(33),o=g(282),s=()=>{},r=new l.TimeoutError;M.default=class extends a{constructor(t){var n,i,e,c;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!(typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},t)).intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(n=t.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(c=(e=t.interval)===null||e===void 0?void 0:e.toString())!==null&&c!==void 0?c:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(this._intervalId===void 0){const n=this._intervalEnd-t;if(!(n<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},n)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const n=this._queue.dequeue();return!!n&&(this.emit("active"),n(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,n={}){return new Promise((i,e)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const c=this._timeout===void 0&&n.timeout===void 0?t():l.default(Promise.resolve(t()),n.timeout===void 0?this._timeout:n.timeout,()=>{(n.throwOnTimeout===void 0?this._throwOnTimeout:n.throwOnTimeout)&&e(r)});i(await c)}catch(c){e(c)}this._next()},n),this._tryToStartAnother(),this.emit("add")})}async addAll(t,n){return Promise.all(t.map(async i=>this.add(i,n)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{const n=this._resolveEmpty;this._resolveEmpty=()=>{n(),t()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(t=>{const n=this._resolveIdle;this._resolveIdle=()=>{n(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},function(L,M,g){var a=Object.prototype.hasOwnProperty,l="~";function o(){}function s(i,e,c){this.fn=i,this.context=e,this.once=c||!1}function r(i,e,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new s(c,f||i,d),h=l?l+e:e;return i._events[h]?i._events[h].fn?i._events[h]=[i._events[h],p]:i._events[h].push(p):(i._events[h]=p,i._eventsCount++),i}function t(i,e){--i._eventsCount==0?i._events=new o:delete i._events[e]}function n(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(l=!1)),n.prototype.eventNames=function(){var i,e,c=[];if(this._eventsCount===0)return c;for(e in i=this._events)a.call(i,e)&&c.push(l?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(i)):c},n.prototype.listeners=function(i){var e=l?l+i:i,c=this._events[e];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,d=c.length,p=new Array(d);f<d;f++)p[f]=c[f].fn;return p},n.prototype.listenerCount=function(i){var e=l?l+i:i,c=this._events[e];return c?c.fn?1:c.length:0},n.prototype.emit=function(i,e,c,f,d,p){var h=l?l+i:i;if(!this._events[h])return!1;var b,S,I=this._events[h],k=arguments.length;if(I.fn){switch(I.once&&this.removeListener(i,I.fn,void 0,!0),k){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,e),!0;case 3:return I.fn.call(I.context,e,c),!0;case 4:return I.fn.call(I.context,e,c,f),!0;case 5:return I.fn.call(I.context,e,c,f,d),!0;case 6:return I.fn.call(I.context,e,c,f,d,p),!0}for(S=1,b=new Array(k-1);S<k;S++)b[S-1]=arguments[S];I.fn.apply(I.context,b)}else{var u,w=I.length;for(S=0;S<w;S++)switch(I[S].once&&this.removeListener(i,I[S].fn,void 0,!0),k){case 1:I[S].fn.call(I[S].context);break;case 2:I[S].fn.call(I[S].context,e);break;case 3:I[S].fn.call(I[S].context,e,c);break;case 4:I[S].fn.call(I[S].context,e,c,f);break;default:if(!b)for(u=1,b=new Array(k-1);u<k;u++)b[u-1]=arguments[u];I[S].fn.apply(I[S].context,b)}}return!0},n.prototype.on=function(i,e,c){return r(this,i,e,c,!1)},n.prototype.once=function(i,e,c){return r(this,i,e,c,!0)},n.prototype.removeListener=function(i,e,c,f){var d=l?l+i:i;if(!this._events[d])return this;if(!e)return t(this,d),this;var p=this._events[d];if(p.fn)p.fn!==e||f&&!p.once||c&&p.context!==c||t(this,d);else{for(var h=0,b=[],S=p.length;h<S;h++)(p[h].fn!==e||f&&!p[h].once||c&&p[h].context!==c)&&b.push(p[h]);b.length?this._events[d]=b.length===1?b[0]:b:t(this,d)}return this},n.prototype.removeAllListeners=function(i){var e;return i?(e=l?l+i:i,this._events[e]&&t(this,e)):(this._events=new o,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=l,n.EventEmitter=n,L.exports=n},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0});const a=g(283);M.default=class{constructor(){this._queue=[]}enqueue(l,o){const s={priority:(o=Object.assign({priority:0},o)).priority,run:l};if(this.size&&this._queue[this.size-1].priority>=o.priority)return void this._queue.push(s);const r=a.default(this._queue,s,(t,n)=>n.priority-t.priority);this._queue.splice(r,0,s)}dequeue(){const l=this._queue.shift();return l==null?void 0:l.run}filter(l){return this._queue.filter(o=>o.priority===l.priority).map(o=>o.run)}get size(){return this._queue.length}}},function(L,M,g){Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(a,l,o){let s=0,r=a.length;for(;r>0;){const t=r/2|0;let n=s+t;o(a[n],l)<=0?(s=++n,r-=t+1):r=t}return s}},function(L,M,g){const a=g(90),l=g(34),o=g(27),s=g(285),r=g(1),t=g(286),n=g(16),{logger:i}=g(3);L.exports=class{constructor(e,c){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...n.defaultRandomWalk,...c},this.log=i(e.peerId,"random-walk"),this._timeoutId=void 0}start(){!this._timeoutId&&this._options.enabled&&(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,c){this.log("start"),this._controller=new s;try{await t(e,async f=>{this.log("running query %d",f);try{const d=await this._randomPeerId();if(!this._controller)return;await this._query(d,{timeout:c,signal:this._controller.signal})}catch(d){if(d&&d.code!=="ETIMEDOUT")throw this.log.error("query %d finished with error",f,d),d}this.log("finished query %d",f)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,c){let f;this.log("query:%s",e.toB58String());try{f=await this._kadDHT.findPeer(e,c)}catch(d){if(d&&d.code==="ERR_NOT_FOUND")return;throw d}throw this.log("query:found",f),r(`random-walk: ACTUALLY FOUND PEER: ${f}, ${e.toB58String()}`,"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){const e=await l(a.randomBytes(16),"sha2-256");return new o(e)}}},function(L,M,g){const{AbortController:a,AbortSignal:l}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;L.exports=a,L.exports.AbortSignal=l,L.exports.default=a},function(L,M,g){const a=g(46),l=async(o,s,r)=>a(new Array(o).fill(),(t,n)=>s(n),r);L.exports=l,L.exports.default=l},function(L,M,g){L.exports=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(a){this.queries.add(a)}queryCompleted(a){this.queries.delete(a)}start(){this.running=!0}stop(){this.running=!1;for(const a of this.queries)a.stop();this.queries.clear()}}}])})}),ye=de(pe);async function he(){return{addresses:{listen:["/dns4/boiling-hamlet-91904.herokuapp.com/tcp/443/wss/p2p-webrtc-star"]},modules:{transport:[window.Libp2pWebsockets,window.Libp2pWebrtcStar],streamMuxer:[window.Libp2pMplex],connEncryption:[window.Libp2pSecio],pubsub:window.Libp2pGossipsub,dht:ye},config:{dht:{kBucketSize:10,enabled:!0,randomWalk:{enabled:!0,interval:3e5,timeout:1e4}}}}}async function be(fe={}){await import("https://unpkg.com/libp2p@0.29.0/dist/index.min.js"),await import("https://unpkg.com/libp2p-mplex@0.10.0/dist/index.min.js"),await import("https://unpkg.com/libp2p-secio@0.13.1/dist/index.min.js"),await import("https://unpkg.com/libp2p-websockets@0.14.0/dist/index.min.js"),await import("https://unpkg.com/libp2p-gossipsub@0.6.3/dist/index.min.js"),await import("https://unpkg.com/libp2p-webrtc-star@0.20.0/dist/index.min.js");const Wt=await self.Libp2p.create(await he());return await Wt.start(),Wt}export default be;export{he as config};
