import{p as Fn}from"./process-e9e98960.js";import{c as he,a as Wr}from"./_commonjsHelpers-c99fd594.js";import{c as se,u as Zr}from"./constants-83de7adf.js";import{t as te}from"./to-string-b6e14ed9.js";import{f as de}from"./from-string-5d106fde.js";import{e as X}from"./index-4f726977.js";var On=he(function(e,n){const{encodeText:r,decodeText:a,concat:o}=Zr;function f(h,b){if(!b)throw new Error("requires an encoded Uint8Array");const{name:C,codeBuf:i}=l(h);return u(C,b),o([i,b],i.length+b.length)}function c(h,b){const C=l(h),i=r(C.encode(b));return o([C.codeBuf,i],C.codeBuf.length+i.length)}function E(h){h instanceof Uint8Array&&(h=a(h));const b=h[0];["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(b)&&(h=h.toLowerCase());const C=l(h[0]);return C.decode(h.substring(1))}function U(h){if(h instanceof Uint8Array&&(h=a(h)),Object.prototype.toString.call(h)!=="[object String]")return!1;try{const b=l(h[0]);return b.name}catch(b){return!1}}function u(h,b){const C=l(h);C.decode(a(b))}function l(h){if(se.names[h])return se.names[h];if(se.codes[h])return se.codes[h];throw new Error(`Unsupported encoding: ${h}`)}function d(h){return h instanceof Uint8Array&&(h=a(h)),l(h[0])}n=e.exports=f,n.encode=c,n.decode=E,n.isEncoded=U,n.encoding=l,n.encodingFromData=d,n.names=Object.freeze(se.names),n.codes=Object.freeze(se.codes)}),Xr=Yn,Jn=128,Qr=127,et=~Qr,nt=Math.pow(2,31);function Yn(e,n,r){n=n||[],r=r||0;for(var a=r;e>=nt;)n[r++]=e&255|Jn,e/=128;for(;e&et;)n[r++]=e&255|Jn,e>>>=7;return n[r]=e|0,Yn.bytes=r-a+1,n}var rt=In,tt=128,Wn=127;function In(e,n){var r=0,n=n||0,a=0,o=n,f,c=e.length;do{if(o>=c)throw In.bytes=0,new RangeError("Could not decode varint");f=e[o++],r+=a<28?(f&Wn)<<a:(f&Wn)*Math.pow(2,a),a+=7}while(f>=tt);return In.bytes=o-n,r}var at=Math.pow(2,7),it=Math.pow(2,14),ot=Math.pow(2,21),st=Math.pow(2,28),ct=Math.pow(2,35),ut=Math.pow(2,42),ft=Math.pow(2,49),lt=Math.pow(2,56),ht=Math.pow(2,63),dt=function(e){return e<at?1:e<it?2:e<ot?3:e<st?4:e<ct?5:e<ut?6:e<ft?7:e<lt?8:e<ht?9:10},A={encode:Xr,decode:rt,encodingLength:dt};const bt=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var pt={names:bt};function xt(e,n){n||(n=e.reduce((o,f)=>o+f.length,0));const r=new Uint8Array(n);let a=0;for(const o of e)r.set(o,a),a+=o.length;return r}var Zn=xt,ce=he(function(e,n){const{names:r}=pt,a={};for(const f in r)a[r[f]]=f;n.names=r,n.codes=Object.freeze(a),n.toHexString=function(c){if(!(c instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return te(c,"base16")},n.fromHexString=function(c){return de(c,"base16")},n.toB58String=function(c){if(!(c instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return te(On.encode("base58btc",c)).slice(1)},n.fromB58String=function(c){const E=c instanceof Uint8Array?te(c):c;return On.decode("z"+E)},n.decode=function(c){if(!(c instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(c.length<2)throw new Error("multihash too short. must be > 2 bytes.");const E=A.decode(c);if(!n.isValidCode(E))throw new Error(`multihash unknown function code: 0x${E.toString(16)}`);c=c.slice(A.decode.bytes);const U=A.decode(c);if(U<0)throw new Error(`multihash invalid length: ${U}`);if(c=c.slice(A.decode.bytes),c.length!==U)throw new Error(`multihash length inconsistent: 0x${te(c,"base16")}`);return{code:E,name:a[E],length:U,digest:c}},n.encode=function(c,E,U){if(!c||E===void 0)throw new Error("multihash encode requires at least two args: digest, code");const u=n.coerceCode(E);if(!(c instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(U==null&&(U=c.length),U&&c.length!==U)throw new Error("digest length should be equal to specified length.");const l=A.encode(u),d=A.encode(U);return Zn([l,d,c],l.length+d.length+c.length)},n.coerceCode=function(c){let E=c;if(typeof c=="string"){if(r[c]===void 0)throw new Error(`Unrecognized hash function named: ${c}`);E=r[c]}if(typeof E!="number")throw new Error(`Hash function code should be a number. Got: ${E}`);if(a[E]===void 0&&!n.isAppCode(E))throw new Error(`Unrecognized function code: ${E}`);return E},n.isAppCode=function(c){return c>0&&c<16},n.isValidCode=function(c){return n.isAppCode(c)?!0:!!a[c]};function o(f){n.decode(f)}n.validate=o,n.prefix=function(c){return o(c),c.subarray(0,2)}});function gt(e,n){if(e===n)return!0;if(e.byteLength!==n.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==n[r])return!1;return!0}var Dn=gt,vt=function(e){var n=function(o){var f=o.indexOf("//");return f>-1?o.slice(0,f):o},r=function(){var o=!1;return function(f){return f==="/*"?(o=!0,!1):f==="*/"?(o=!1,!1):!o}},a=function(o){return o.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(a).filter(Boolean).map(n).map(a).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter(r())},mt=536870911,yt=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],Xn=function(e){for(var n={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if(r==="("&&(r=e.shift(),e.shift()),e[0]!=="=")throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),e[0]==="]")throw new Error("Unexpected ] in field option");n[r]=e.shift();break;case"]":return e.shift(),n;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},Nn=function(e){for(var n={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),n.tag=Number(e.shift());break;case"map":if(n.type="map",n.map={from:null,to:null},e.shift(),e[0]!=="<")throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),n.map.from=e.shift(),e[0]!==",")throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),n.map.to=e.shift(),e[0]!==">")throw new Error("Unexpected token in map type: "+e[0]);e.shift(),n.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();n.required=r==="required",n.repeated=r==="repeated",n.type=e.shift(),n.name=e.shift();break;case"[":n.options=Xn(e);break;case";":if(n.name===null)throw new Error("Missing field name");if(n.type===null)throw new Error("Missing type in message field: "+n.name);if(n.tag===-1)throw new Error("Missing tag number in message field: "+n.name);return e.shift(),n;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},wt=function(e){for(var n={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":n.fields.push(Nn(e));break;case"enum":n.enums.push(er(e));break;case"message":n.messages.push(Tn(e));break;case"extensions":n.extensions=kt(e);break;case"oneof":e.shift();var r=e.shift();if(e[0]!=="{")throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();e[0]!=="}";){e.unshift("optional");var a=Nn(e);a.oneof=r,n.fields.push(a)}e.shift();break;case"extend":n.extends.push(Qn(e));break;case";":e.shift();break;case"reserved":for(e.shift();e[0]!==";";)e.shift();break;case"option":var o=be(e);if(n.options[o.name]!==void 0)throw new Error("Duplicate option "+o.name);n.options[o.name]=o.value;break;default:e.unshift("optional"),n.fields.push(Nn(e))}return n},Qn=function(e){var n={name:e[1],message:Tn(e)};return n},kt=function(e){e.shift();var n=Number(e.shift());if(isNaN(n))throw new Error("Invalid from in extensions definition");if(e.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if(r==="max"&&(r=mt),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(e.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:n,to:r}},Tn=function(e){e.shift();var n=1,r=[],a={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="{"?n++:e[0]==="}"&&n--,!n)return e.shift(),r=wt(r),a.enums=r.enums,a.messages=r.messages,a.fields=r.fields,a.extends=r.extends,a.extensions=r.extensions,a.options=r.options,a;r.push(e.shift())}if(n)throw new Error("No closing tag for message")},Et=function(e){e.shift();var n=e.shift();if(e[0]!==";")throw new Error("Expected ; but found "+e[0]);return e.shift(),n},At=function(e){if(e.shift(),e[0]!=="=")throw new Error("Expected = but found "+e[0]);e.shift();var n=e.shift();switch(n){case'"proto2"':n=2;break;case'"proto3"':n=3;break;default:throw new Error("Expected protobuf syntax version but found "+n)}if(e[0]!==";")throw new Error("Expected ; but found "+e[0]);return e.shift(),n},Ut=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if(e[1]!=="=")throw new Error("Expected = but found "+e[1]);if(e[3]!==";"&&e[3]!=="[")throw new Error("Expected ; or [ but found "+e[1]);var n=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),e[0]==="["&&(r.options=Xn(e)),e.shift(),{name:n,val:r}},er=function(e){e.shift();var n={},r={name:e.shift(),values:{},options:{}};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),r;if(e[0]==="option"){n=be(e),r.options[n.name]=n.value;continue}var a=Ut(e);r.values[a.name]=a.val}throw new Error("No closing tag for enum")},be=function(e){for(var n=null,r=null,a=function(f){return f==="true"?!0:f==="false"?!1:f.replace(/^"+|"+$/gm,"")};e.length;){if(e[0]===";")return e.shift(),{name:n,value:r};switch(e[0]){case"option":e.shift();var o=e[0]==="(";if(o&&e.shift(),n=e.shift(),o){if(e[0]!==")")throw new Error("Expected ) but found "+e[0]);e.shift()}e[0][0]==="."&&(n+=e.shift());break;case"=":if(e.shift(),n===null)throw new Error("Expected key for option with value: "+e[0]);if(r=a(e.shift()),n==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);r==="{"&&(r=Ln(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},Ln=function(e){for(var n=function(c){return c==="true"?!0:c==="false"?!1:c.replace(/^"+|"+$/gm,"")},r={};e.length;){if(e[0]==="}")return e.shift(),r;var a=e[0]==="(";a&&e.shift();var o=e.shift();if(a){if(e[0]!==")")throw new Error("Expected ) but found "+e[0]);e.shift()}var f=null;switch(e[0]){case":":if(r[o]!==void 0)throw new Error("Duplicate option map key "+o);e.shift(),f=n(e.shift()),f==="{"&&(f=Ln(e)),r[o]=f,e[0]===";"&&e.shift();break;case"{":if(e.shift(),f=Ln(e),r[o]===void 0&&(r[o]=[]),!Array.isArray(r[o]))throw new Error("Duplicate option map key "+o);r[o].push(f);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},Ct=function(e){e.shift();var n=e.shift().replace(/^"+|"+$/gm,"");if(e[0]!==";")throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),n},_t=function(e){e.shift();var n={name:e.shift(),methods:[],options:{}};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),n;switch(e[0]){case"option":var r=be(e);if(n.options[r.name]!==void 0)throw new Error("Duplicate option "+r.name);n.options[r.name]=r.value;break;case"rpc":n.methods.push(St(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},St=function(e){e.shift();var n={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(e[0]!=="(")throw new Error("Expected ( but found "+e[0]);if(e.shift(),e[0]==="stream"&&(e.shift(),n.client_streaming=!0),n.input_type=e.shift(),e[0]!==")")throw new Error("Expected ) but found "+e[0]);if(e.shift(),e[0]!=="returns")throw new Error("Expected returns but found "+e[0]);if(e.shift(),e[0]!=="(")throw new Error("Expected ( but found "+e[0]);if(e.shift(),e[0]==="stream"&&(e.shift(),n.server_streaming=!0),n.output_type=e.shift(),e[0]!==")")throw new Error("Expected ) but found "+e[0]);if(e.shift(),e[0]===";")return e.shift(),n;if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),n;if(e[0]==="option"){var r=be(e);if(n.options[r.name]!==void 0)throw new Error("Duplicate option "+r.name);n.options[r.name]=r.value}else throw new Error("Unexpected token in rpc options: "+e[0])}throw new Error("No closing tag for rpc")},Bt=function(e){for(var n=vt(e.toString()),r=0;r<n.length;r++)if(/^("|')([^'"]*)$/.test(n[r])){var a;for(n[r].length===1?a=r+1:a=r,a;a<n.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(n[a])){n=n.slice(0,r).concat(n.slice(r,a+1).join("")).concat(n.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},f=!0;n.length;){switch(n[0]){case"package":o.package=Et(n);break;case"syntax":if(!f)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=At(n);break;case"message":o.messages.push(Tn(n));break;case"enum":o.enums.push(er(n));break;case"option":var c=be(n);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(Ct(n));break;case"extend":o.extends.push(Qn(n));break;case"service":o.services||(o.services=[]),o.services.push(_t(n));break;default:throw new Error("Unexpected token: "+n[0])}f=!1}return o.extends.forEach(function(E){o.messages.forEach(function(U){U.name===E.name&&E.message.fields.forEach(function(u){if(!U.extensions||u.tag<U.extensions.from||u.tag>U.extensions.to)throw new Error(U.name+" does not declare "+u.tag+" as an extension number");U.fields.push(u)})})}),o.messages.forEach(function(E){E.fields.forEach(function(U){var u,l,d,h;function b(i){return i.name===U.type}function C(i){return i.name===d}if(U.options&&U.options.packed==="true"&&yt.indexOf(U.type)===-1){if(U.type.indexOf(".")===-1){if(E.enums&&E.enums.some(b))return}else{if(u=U.type.split("."),u.length>2)throw new Error("what is this?");if(l=u[0],d=u[1],o.messages.some(function(i){if(i.name===l)return h=i,i}),h&&h.enums&&h.enums.some(C))return}throw new Error("Fields of type "+U.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),o},nr=Bt,rr=function(e,n){var r=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var a=Object.keys(e.options||{}).map(function(o){return o+" = "+e.options[o]}).join(",");return a&&(a=" ["+a+"]"),n.push((r?r+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+a+";"),n},tr=function(e,n){n.push("message "+e.name+" {"),e.options||(e.options={}),pe(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(a){n.push(ar(a,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(a){n.push(tr(a,[]))});var r={};return e.fields||(e.fields=[]),e.fields.forEach(function(a){a.oneof?(r[a.oneof]||(r[a.oneof]=[]),r[a.oneof].push(rr(a,[]))):n.push(rr(a,[]))}),Object.keys(r).forEach(function(a){r[a].unshift("oneof "+a+" {"),r[a].push("}"),n.push(r[a])}),n.push("}",""),n},ar=function(e,n){n.push("enum "+e.name+" {"),e.options||(e.options={});var r=pe(e.options,[]);return r.length>1&&n.push(r.slice(0,-1)),Object.keys(e.values).map(function(a){var o=Rt(e.values[a]);n.push([a+" = "+o+";"])}),n.push("}",""),n},Rt=function(e,n){var r=Object.keys(e.options||{}).map(function(o){return o+" = "+e.options[o]}).join(",");r&&(r=" ["+r+"]");var a=e.value+r;return a},pe=function(e,n){var r=Object.keys(e);return r.forEach(function(a){var o=e[a];~a.indexOf(".")&&(a="("+a+")");var f=typeof o;f==="object"?(o=Mn(o,[]),o.length&&n.push("option "+a+" = {",o,"};")):(f==="string"&&a!=="optimize_for"&&(o='"'+o+'"'),n.push("option "+a+" = "+o+";"))}),r.length>0&&n.push(""),n},Mn=function(e,n){var r=Object.keys(e);return r.forEach(function(a){var o=e[a],f=typeof o;f==="object"?Array.isArray(o)?o.forEach(function(c){c=Mn(c,[]),c.length&&n.push(a+" {",c,"}")}):(o=Mn(o,[]),o.length&&n.push(a+" {",o,"}")):(f==="string"&&(o='"'+o+'"'),n.push(a+": "+o))}),n},Ft=function(e,n){return n.push("service "+e.name+" {"),e.options||(e.options={}),pe(e.options,n),e.methods||(e.methods=[]),e.methods.forEach(function(r){n.push(Ot(r,[]))}),n.push("}",""),n},Ot=function(e,n){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var a=pe(e.options,[]);return a.length>1?n.push(r+" {",a.slice(0,-1),"}"):n.push(r+";"),n},ir=function(e){return function(n){return Array.isArray(n)?n.map(ir(e+"  ")).join(`
`):e+n}},It=function(e){var n=[];return n.push('syntax = "proto'+e.syntax+'";',""),e.package&&n.push("package "+e.package+";",""),e.options||(e.options={}),pe(e.options,n),e.enums||(e.enums=[]),e.enums.forEach(function(r){ar(r,n)}),e.messages||(e.messages=[]),e.messages.forEach(function(r){tr(r,n)}),e.services&&e.services.forEach(function(r){Ft(r,n)}),n.map(ir("")).join(`
`)},kn=nr,Dt=nr,Nt=It;kn.parse=Dt,kn.stringify=Nt;function Tt(e,n,r,a){return n.bytes=r.bytes=0,{type:e,encode:n,decode:r,encodingLength:a}}var J=Tt;function or(e){return e.byteLength}function Lt(e){const n=or(e);return A.encodingLength(n)+n}function sr(e,n,r,a){const o=a,f=or(e);A.encode(f,n,a),a+=A.encode.bytes,n.set(e,a),a+=f,sr.bytes=a-o}function cr(e,n,r){const a=r,o=A.decode(e,r);r+=A.decode.bytes;const f=e.slice(r,r+o);return r+=f.length,cr.bytes=r-a,f}var Mt=J(2,sr,cr,Lt);function $t(e){const n=de(e).byteLength;return A.encodingLength(n)+n}function ur(e,n,r,a){const o=a,f=de(e).byteLength;A.encode(f,n,a,"utf-8"),a+=A.encode.bytes;const c=de(e);n.set(c,a),a+=c.length,ur.bytes=a-o}function fr(e,n,r){const a=r,o=A.decode(e,r);r+=A.decode.bytes;const f=te(e.subarray(r,r+o));return r+=o,fr.bytes=r-a,f}var Ht=J(2,ur,fr,$t);function Pt(){return 1}function lr(e,n,r,a){n[a]=e?1:0,lr.bytes=1}function hr(e,n,r){const a=e[r]>0;return hr.bytes=1,a}var jt=J(0,lr,hr,Pt);function dr(e,n,r,a){A.encode(e<0?e+4294967296:e,n,a),dr.bytes=A.encode.bytes}function br(e,n,r){const a=A.decode(e,r);return br.bytes=A.decode.bytes,a>2147483647?a-4294967296:a}function Vt(e){return A.encodingLength(e<0?e+4294967296:e)}var Kt=J(0,dr,br,Vt);function $n(e,n,r,a){if(e<0){const o=a+9;for(A.encode(e*-1,n,a),a+=A.encode.bytes-1,n[a]=n[a]|128;a<o-1;)a++,n[a]=255;n[o]=1,$n.bytes=10}else A.encode(e,n,a),$n.bytes=A.encode.bytes}function Hn(e,n,r){let a=A.decode(e,r);if(a>=Math.pow(2,63)){let o=9;for(;e[r+o-1]===255;)o--;o=o||9;const f=e.subarray(r,r+o);f[o-1]=f[o-1]&127,a=-1*A.decode(f,0),Hn.bytes=10}else Hn.bytes=A.decode.bytes;return a}function zt(e){return e<0?10:A.encodingLength(e)}var Gt=J(0,$n,Hn,zt),qt=function e(n,r,a){n=n>=0?n*2:n*-2-1;var o=A.encode(n,r,a);return e.bytes=A.encode.bytes,o},Jt=function e(n,r){var a=A.decode(n,r);return e.bytes=A.decode.bytes,a&1?(a+1)/-2:a/2},Yt=function(e){return A.encodingLength(e>=0?e*2:e*-2-1)},xe={encode:qt,decode:Jt,encodingLength:Yt};function pr(e,n,r,a){xe.encode(e,n,a),pr.bytes=xe.encode.bytes}function xr(e,n,r){const a=xe.decode(e,r);return xr.bytes=xe.decode.bytes,a}var Wt=J(0,pr,xr,xe.encodingLength);function gr(e,n,r,a){A.encode(e,n,a),gr.bytes=A.encode.bytes}function vr(e,n,r){const a=A.decode(e,r);return vr.bytes=A.decode.bytes,a}var Zt=J(0,gr,vr,A.encodingLength);function Xt(){return 8}function mr(e,n,r,a){for(const o of e)n[a]=o,a++;mr.bytes=8}function yr(e,n,r){const a=e.slice(r,r+8);return yr.bytes=8,a}var Qt=J(1,mr,yr,Xt);function ea(){return 8}function wr(e,n,r,a){r.setFloat64(a,e,!0),wr.bytes=8}function kr(e,n,r){const a=n.getFloat64(r,!0);return kr.bytes=8,a}var na=J(1,wr,kr,ea);function ra(e){return 4}function Er(e,n,r,a){r.setUint32(a,e,!0),Er.bytes=4}function Ar(e,n,r){const a=n.getUint32(r,!0);return Ar.bytes=4,a}var ta=J(5,Er,Ar,ra);function aa(e){return 4}function Ur(e,n,r,a){r.setInt32(a,e,!0),Ur.bytes=4}function Cr(e,n,r){const a=n.getInt32(r,!0);return Cr.bytes=4,a}var ia=J(5,Ur,Cr,aa);function oa(){return 4}function _r(e,n,r,a){r.setFloat32(a,e,!0),_r.bytes=4}function Sr(e,n,r){const a=n.getFloat32(r,!0);return Sr.bytes=4,a}var sa=J(5,_r,Sr,oa),Pn=he(function(e,n){n.make=J,n.bytes=Mt,n.string=Ht,n.bool=jt,n.int32=Kt,n.int64=Gt,n.sint32=n.sint64=Wt,n.uint32=n.uint64=n.enum=n.varint=Zt,n.fixed64=n.sfixed64=Qt,n.double=na,n.fixed32=ta,n.sfixed32=ia,n.float=sa}),ca=function(e){return e!=null&&(typeof e!="number"||!isNaN(e))},jn={defined:ca};const ua=jn.defined;function Br(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function Rr(e,n,r,a){if(Object.prototype.hasOwnProperty.call(e,n))return;const o=Br(n);Object.defineProperties(e,{[n]:{enumerable:!0,configurable:!0,set:f=>{r=f},get:()=>r===void 0?a:r},[`has${o}`]:{configurable:!0,value:()=>r!==void 0},[`set${o}`]:{configurable:!0,value:f=>{r=f}},[`get${o}`]:{configurable:!0,value:()=>r},[`clear${o}`]:{configurable:!0,value:()=>{r=void 0,e[n]=void 0}}})}function fa(e,n,r){const a=[],o={},f=[],c=[];for(var E=0;E<r.length;E++){const u=e.fields[E];o[u.tag]=E;const l=u.options&&u.options.default,d=n(u.type,e.id,!1);c[E]=[l,d&&d.values],e.fields[E].packed=u.repeated&&u.options&&u.options.packed&&u.options.packed!=="false",u.required&&a.push(u.name),u.oneof&&f.push(u.name)}function U(u,l,d,h,b,C,i){const s=l.name;if(l.oneof){const v=Object.keys(d);for(var m=0;m<v.length;m++)if(f.indexOf(v[m])>-1){const p=Br(v[m]);delete d[`has${p}`],delete d[`get${p}`],delete d[`set${p}`],delete d[`clear${p}`],delete d[v[m]]}}let L;if(u.message){const v=A.decode(h,C);C+=A.decode.bytes;const p=u.decode(h,b,C,C+v);l.map?(L=d[s]||{},L[p.key]=p.value):l.repeated?(L=d[s]||[],L.push(p)):L=p}else l.repeated?(L=d[s]||[],L.push(u.decode(h,b,C))):L=u.decode(h,b,C);return Rr(d,s,L),C+=u.decode.bytes,C}return function u(l,d,h,b){if(h==null&&(h=0),b==null&&(b=l.length),!(b<=l.length&&h<=l.length))throw new Error("Decoded message is not valid");d||(d=new DataView(l.buffer,l.byteOffset,l.byteLength));for(var C=h,i={},s;;){if(b<=h){var m="",L=0;for(L=0;L<a.length;L++)if(m=a[L],!ua(i[m]))throw new Error("Decoded message is not valid, missing required field: "+m);var v,p;for(L=0;L<r.length;L++){s=e.fields[L],p=c[L][0],v=c[L][1],m=s.name;let Z;if(Object.prototype.hasOwnProperty.call(i,m))continue;var w=!1;if(s.oneof){for(var S=Object.keys(i),F=0;F<S.length;F++)if(f.indexOf(S[F])>-1){w=!0;break}}if(w)continue;v?s.repeated?p=[]:(p=p&&v[p]?v[p].value:v[Object.keys(v)[0]].value,p=parseInt(p||0,10)):(Z=ha(s),p=da(s,p)),Rr(i,m,p,Z)}return u.bytes=h-C,i}var T=A.decode(l,h);h+=A.decode.bytes;var k=T>>3,$=o[k];if($==null){h=la(T&7,l,d,h);continue}var ee=r[$];if(s=e.fields[$],s.packed){var ne=A.decode(l,h);for(h+=A.decode.bytes,ne+=h;h<ne;)h=U(ee,s,i,l,d,h)}else h=U(ee,s,i,l,d,h)}}}var la=function(e,n,r,a){switch(e){case 0:return A.decode(n,a),a+A.decode.bytes;case 1:return a+8;case 2:var o=A.decode(n,a);return a+A.decode.bytes+o;case 3:case 4:throw new Error("Groups are not supported");case 5:return a+4;default:throw new Error("Unknown wire type: "+e)}},ha=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},da=function(e,n){if(n===void 0)return n;switch(e.type){case"bool":return n==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(n,10);default:return n}},ba=fa,Fr=jn.defined;function pa(e,n,r,a,o){const f=Object.keys(a),c=r.length,E={};for(let u=0;u<c;u++){E[u]={p:A.encode(e.fields[u].tag<<3|2),h:A.encode(e.fields[u].tag<<3|r[u].type)};const l=e.fields[u];e.fields[u].packed=l.repeated&&l.options&&l.options.packed&&l.options.packed!=="false"}function U(u,l,d,h,b,C,i){let s=0;if(!C)for(s=0;s<h.length;s++)u[d++]=h[s];return b.message&&(A.encode(b.encodingLength(i),u,d),d+=A.encode.bytes),b.encode(i,u,l,d),d+b.encode.bytes}return function u(l,d,h,b=0){d==null&&(d=new Uint8Array(o(l))),h==null&&(h=new DataView(d.buffer,d.byteOffset,d.byteLength));const C=b,i=Object.keys(l);let s=0,m=!1;for(s=0;s<f.length;s++){const L=f[s],v=a[s];if(i.indexOf(v)>-1){if(m)throw new Error("only one of the properties defined in oneof "+L+" can be set");m=!0}}for(s=0;s<c;s++){const L=r[s],v=e.fields[s];let p=l[v.name],w=0;if(!Fr(p)){if(v.required)throw new Error(v.name+" is required");continue}const S=E[s].p,F=E[s].h,T=v.packed;if(v.map){const k=Object.keys(p);for(w=0;w<k.length;w++)k[w]={key:k[w],value:p[k[w]]};p=k}if(T){let k=0;for(w=0;w<p.length;w++){if(!Object.prototype.hasOwnProperty.call(p,w))continue;k+=L.encodingLength(p[w])}if(k){for(w=0;w<F.length;w++)d[b++]=S[w];A.encode(k,d,b),b+=A.encode.bytes}}if(v.repeated){let k;for(w=0;w<p.length;w++){if(k=p[w],!Fr(k))continue;b=U(d,h,b,F,L,T,k)}}else b=U(d,h,b,F,L,T,p)}return u.bytes=b-C,d}}var xa=pa,En=jn.defined;function ga(e,n,r){const a=Object.keys(r),o=n.length,f=new Array(o);for(let c=0;c<e.fields.length;c++){f[c]=A.encodingLength(e.fields[c].tag<<3|n[c].type);const E=e.fields[c];e.fields[c].packed=E.repeated&&E.options&&E.options.packed&&E.options.packed!=="false"}return function(E){let U=0,u=0,l=0;for(u=0;u<a.length;u++){const d=a[u],h=r[d];let b=!1;for(l=0;l<h.length;l++)if(En(E[h[l]])){if(b)throw new Error("only one of the properties defined in oneof "+d+" can be set");b=!0}}for(u=0;u<o;u++){const d=n[u],h=e.fields[u];let b=E[h.name];const C=f[u];let i;if(!En(b)){if(h.required)throw new Error(h.name+" is required");continue}if(h.map){const s=Object.keys(b);for(l=0;l<s.length;l++)s[l]={key:s[l],value:b[s[l]]};b=s}if(h.packed){let s=0;for(l=0;l<b.length;l++){if(!En(b[l]))continue;i=d.encodingLength(b[l]),s+=i,d.message&&(s+=A.encodingLength(i))}s&&(U+=C+s+A.encodingLength(s))}else if(h.repeated)for(l=0;l<b.length;l++){if(!En(b[l]))continue;i=d.encodingLength(b[l]),U+=C+i+(d.message?A.encodingLength(i):0)}else i=d.encodingLength(b),U+=C+i+(d.message?A.encodingLength(i):0)}return U}}var va=ga;const ma=function(e){if(!e)return null;const n={};return Object.keys(e).forEach(function(r){n[r]=e[r].value}),n};var ya=function(e,n){const r={},a={},o={},f=function(u,l){u.enums&&u.enums.forEach(function(d){d.id=l+(l?".":"")+d.name,a[d.id]=d,f(d,d.id)}),u.messages&&u.messages.forEach(function(d){d.id=l+(l?".":"")+d.name,r[d.id]=d,d.fields.forEach(function(h){if(!h.map)return;const b="Map_"+h.map.from+"_"+h.map.to,C={name:b,enums:[],messages:[],fields:[{name:"key",type:h.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:h.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:l+(l?".":"")+b};r[C.id]||(r[C.id]=C,u.messages.push(C)),h.type=b,h.repeated=!0}),f(d,d.id)})};f(e,"");const c=function(u){const l=Object.keys(u.values||[]).map(function(b){return parseInt(u.values[b].value,10)}),d=function b(C,i,s,m){if(!l.length||l.indexOf(C)===-1)throw new Error("Invalid enum value: "+C);return A.encode(C,i,m),b.bytes=A.encode.bytes,i},h=function b(C,i,s){var m=A.decode(C,s);if(!l.length||l.indexOf(m)===-1)throw new Error("Invalid enum value: "+m);return b.bytes=A.decode.bytes,m};return Pn.make(0,d,h,A.encodingLength)},E=function(u,l){u.messages.forEach(function(s){l[s.name]=U(s.name,u.id)}),u.enums.forEach(function(s){l[s.name]=ma(s.values)}),l.type=2,l.message=!0,l.name=u.name;const d={};u.fields.forEach(function(s){if(!s.oneof)return;d[s.oneof]||(d[s.oneof]=[]),d[s.oneof].push(s.name)});const h=u.fields.map(function(s){return U(s.type,u.id)}),b=va(u,h,d),C=xa(u,U,h,d,b),i=ba(u,U,h);return C.bytes=i.bytes=0,l.buffer=!0,l.encode=C,l.decode=i,l.encodingLength=b,l},U=function(u,l,d){if(n&&n[u])return n[u];if(Pn[u])return Pn[u];const h=(l?l+"."+u:u).split(".").map(function(C,i,s){return s.slice(0,i).concat(u).join(".")}).reverse().reduce(function(C,i){return C||r[i]||a[i]},null);if(d===!1)return h;if(!h)throw new Error("Could not resolve "+u);if(h.values)return c(h);const b=o[h.id]||E(h,o[h.id]={});return b};return(e.enums||[]).concat((e.messages||[]).map(function(u){return U(u.id)}))},wa=function(e){if(!e)return null;var n={};return Object.keys(e).forEach(function(r){n[r]=e[r].value}),n},Or=function(e,n){if(n||(n={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var r=typeof e=="object"&&!(e instanceof Uint8Array)?e:kn.parse(e),a=function(){var o=this;ya(r,n.encodings||{}).forEach(function(f){o[f.name]=wa(f.values)||f})};return a.prototype.toString=function(){return kn.stringify(r)},a.prototype.toJSON=function(){return r},new a};const ge=self.crypto||self.msCrypto,Vn=async(e,n)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(n){case"sha1":return new Uint8Array(await ge.subtle.digest({name:"SHA-1"},e));case"sha2-256":return new Uint8Array(await ge.subtle.digest({name:"SHA-256"},e));case"sha2-512":return new Uint8Array(await ge.subtle.digest({name:"SHA-512"},e));case"dbl-sha2-256":{const r=await ge.subtle.digest({name:"SHA-256"},e);return new Uint8Array(await ge.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${n} is not a supported algorithm`)}};var Ir={factory:e=>async n=>Vn(n,e),digest:Vn,multihashing:async(e,n,r)=>{const a=await Vn(e,n);return ce.encode(a,n,r)}},ka=`// Record represents a dht record that contains a value
// for a key value pair
message Record {
  // The key that references this record
  bytes key = 1;

  // The actual value this record is storing
  bytes value = 2;

  // Note: These fields were removed from the Record message
  // hash of the authors public key
  // optional bytes author = 3;
  // A PKI signature for the key+value+author
  // optional bytes signature = 4;

  // Time the record was received, set by receiver
  optional string timeReceived = 5;
}`,Ea=e=>{const n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0"),o=String(e.getUTCHours()).padStart(2,"0"),f=String(e.getUTCMinutes()).padStart(2,"0"),c=String(e.getUTCSeconds()).padStart(2,"0"),E=e.getUTCMilliseconds(),U=E*1e3*1e3;return`${n}-${r}-${a}T${o}:${f}:${c}.${U}Z`},Aa=e=>{const n=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(e).trim().match(n);if(!r)throw new Error("Invalid format");const a=parseInt(r[1],10),o=parseInt(r[2],10)-1,f=parseInt(r[3],10),c=parseInt(r[4],10),E=parseInt(r[5],10),U=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(a,o,f,c,E,U,u))},Dr={toRFC3339:Ea,parseRFC3339:Aa};const Nr=Or(ka).Record;class Kn{constructor(e,n,r){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=n,this.timeReceived=r}serialize(){return Nr.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&Dr.toRFC3339(this.timeReceived)}}static deserialize(e){const n=Nr.decode(e);return Kn.fromDeserialized(n)}static fromDeserialized(e){let n;e.timeReceived&&(n=Dr.parseRFC3339(e.timeReceived));const r=new Kn(e.key,e.value,n);return r}}var Ua=Kn,Q=he(function(e){/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(){var n="input is invalid type",r="finalize already called",a=typeof window=="object",o=a?window:{};o.JS_SHA3_NO_WINDOW&&(a=!1);var f=!a&&typeof self=="object",c=!o.JS_SHA3_NO_NODE_JS&&typeof Fn=="object"&&Fn.versions&&Fn.versions.node;c?o=Wr:f&&(o=self);var E=!o.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,U=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],b=[6,1536,393216,100663296],C=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=[224,256,384,512],m=[128,256],L=["hex","buffer","arrayBuffer","array","digest"],v={"128":168,"256":136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),U&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var p=function(t,x,g){return function(y){return new P(t,x,t).update(y)[g]()}},w=function(t,x,g){return function(y,_){return new P(t,x,_).update(y)[g]()}},S=function(t,x,g){return function(y,_,R,O){return q["cshake"+t].update(y,_,R,O)[g]()}},F=function(t,x,g){return function(y,_,R,O){return q["kmac"+t].update(y,_,R,O)[g]()}},T=function(t,x,g,y){for(var _=0;_<L.length;++_){var R=L[_];t[R]=x(g,y,R)}return t},k=function(t,x){var g=p(t,x,"hex");return g.create=function(){return new P(t,x,t)},g.update=function(y){return g.create().update(y)},T(g,p,t,x)},$=function(t,x){var g=w(t,x,"hex");return g.create=function(y){return new P(t,x,y)},g.update=function(y,_){return g.create(_).update(y)},T(g,w,t,x)},ee=function(t,x){var g=v[t],y=S(t,x,"hex");return y.create=function(_,R,O){return!R&&!O?q["shake"+t].create(_):new P(t,x,_).bytepad([R,O],g)},y.update=function(_,R,O,B){return y.create(R,O,B).update(_)},T(y,S,t,x)},ne=function(t,x){var g=v[t],y=F(t,x,"hex");return y.create=function(_,R,O){return new Rn(t,x,R).bytepad(["KMAC",O],g).bytepad([_],g)},y.update=function(_,R,O,B){return y.create(_,O,B).update(R)},T(y,F,t,x)},Z=[{name:"keccak",padding:h,bits:s,createMethod:k},{name:"sha3",padding:b,bits:s,createMethod:k},{name:"shake",padding:l,bits:m,createMethod:$},{name:"cshake",padding:d,bits:m,createMethod:ee},{name:"kmac",padding:d,bits:m,createMethod:ne}],q={},N=[],re=0;re<Z.length;++re)for(var oe=Z[re],we=oe.bits,fe=0;fe<we.length;++fe){var Bn=oe.name+"_"+we[fe];if(N.push(Bn),q[Bn]=oe.createMethod(we[fe],oe.padding),oe.name!=="sha3"){var qn=oe.name+we[fe];N.push(qn),q[qn]=q[Bn]}}function P(t,x,g){this.blocks=[],this.s=[],this.padding=x,this.outputBits=g,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=g>>5,this.extraBytes=(g&31)>>3;for(var y=0;y<50;++y)this.s[y]=0}P.prototype.update=function(t){if(this.finalized)throw new Error(r);var x,g=typeof t;if(g!=="string"){if(g==="object"){if(t===null)throw new Error(n);if(U&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!U||!ArrayBuffer.isView(t)))throw new Error(n)}else throw new Error(n);x=!0}for(var y=this.blocks,_=this.byteCount,R=t.length,O=this.blockCount,B=0,j=this.s,I,H;B<R;){if(this.reset)for(this.reset=!1,y[0]=this.block,I=1;I<O+1;++I)y[I]=0;if(x)for(I=this.start;B<R&&I<_;++B)y[I>>2]|=t[B]<<C[I++&3];else for(I=this.start;B<R&&I<_;++B)H=t.charCodeAt(B),H<128?y[I>>2]|=H<<C[I++&3]:H<2048?(y[I>>2]|=(192|H>>6)<<C[I++&3],y[I>>2]|=(128|H&63)<<C[I++&3]):H<55296||H>=57344?(y[I>>2]|=(224|H>>12)<<C[I++&3],y[I>>2]|=(128|H>>6&63)<<C[I++&3],y[I>>2]|=(128|H&63)<<C[I++&3]):(H=65536+((H&1023)<<10|t.charCodeAt(++B)&1023),y[I>>2]|=(240|H>>18)<<C[I++&3],y[I>>2]|=(128|H>>12&63)<<C[I++&3],y[I>>2]|=(128|H>>6&63)<<C[I++&3],y[I>>2]|=(128|H&63)<<C[I++&3]);if(this.lastByteIndex=I,I>=_){for(this.start=I-_,this.block=y[O],I=0;I<O;++I)j[I]^=y[I];le(j),this.reset=!0}else this.start=I}return this},P.prototype.encode=function(t,x){var g=t&255,y=1,_=[g];for(t=t>>8,g=t&255;g>0;)_.unshift(g),t=t>>8,g=t&255,++y;return x?_.push(y):_.unshift(y),this.update(_),_.length},P.prototype.encodeString=function(t){var x,g=typeof t;if(g!=="string"){if(g==="object"){if(t===null)throw new Error(n);if(U&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!U||!ArrayBuffer.isView(t)))throw new Error(n)}else throw new Error(n);x=!0}var y=0,_=t.length;if(x)y=_;else for(var R=0;R<t.length;++R){var O=t.charCodeAt(R);O<128?y+=1:O<2048?y+=2:O<55296||O>=57344?y+=3:(O=65536+((O&1023)<<10|t.charCodeAt(++R)&1023),y+=4)}return y+=this.encode(y*8),this.update(t),y},P.prototype.bytepad=function(t,x){for(var g=this.encode(x),y=0;y<t.length;++y)g+=this.encodeString(t[y]);var _=x-g%x,R=[];return R.length=_,this.update(R),this},P.prototype.finalize=function(){if(this.finalized)return;this.finalized=!0;var t=this.blocks,x=this.lastByteIndex,g=this.blockCount,y=this.s;if(t[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(t[0]=t[g],x=1;x<g+1;++x)t[x]=0;for(t[g-1]|=2147483648,x=0;x<g;++x)y[x]^=t[x];le(y)},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var t=this.blockCount,x=this.s,g=this.outputBlocks,y=this.extraBytes,_=0,R=0,O="",B;R<g;){for(_=0;_<t&&R<g;++_,++R)B=x[_],O+=u[B>>4&15]+u[B&15]+u[B>>12&15]+u[B>>8&15]+u[B>>20&15]+u[B>>16&15]+u[B>>28&15]+u[B>>24&15];R%t===0&&(le(x),_=0)}return y&&(B=x[_],O+=u[B>>4&15]+u[B&15],y>1&&(O+=u[B>>12&15]+u[B>>8&15]),y>2&&(O+=u[B>>20&15]+u[B>>16&15])),O},P.prototype.arrayBuffer=function(){this.finalize();var t=this.blockCount,x=this.s,g=this.outputBlocks,y=this.extraBytes,_=0,R=0,O=this.outputBits>>3,B;y?B=new ArrayBuffer(g+1<<2):B=new ArrayBuffer(O);for(var j=new Uint32Array(B);R<g;){for(_=0;_<t&&R<g;++_,++R)j[R]=x[_];R%t===0&&le(x)}return y&&(j[_]=x[_],B=B.slice(0,O)),B},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var t=this.blockCount,x=this.s,g=this.outputBlocks,y=this.extraBytes,_=0,R=0,O=[],B,j;R<g;){for(_=0;_<t&&R<g;++_,++R)B=R<<2,j=x[_],O[B]=j&255,O[B+1]=j>>8&255,O[B+2]=j>>16&255,O[B+3]=j>>24&255;R%t===0&&le(x)}return y&&(B=R<<2,j=x[_],O[B]=j&255,y>1&&(O[B+1]=j>>8&255),y>2&&(O[B+2]=j>>16&255)),O};function Rn(t,x,g){P.call(this,t,x,g)}Rn.prototype=new P,Rn.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var le=function(t){var x,g,y,_,R,O,B,j,I,H,ke,Ee,Ae,Ue,Ce,_e,Se,Be,Re,Fe,Oe,Ie,De,Ne,Te,Le,Me,$e,He,Pe,je,Ve,Ke,ze,Ge,qe,Je,Ye,We,Ze,Xe,Qe,en,nn,rn,tn,an,on,sn,cn,un,fn,ln,hn,dn,bn,pn,xn,gn,vn,mn,yn,wn;for(y=0;y<48;y+=2)_=t[0]^t[10]^t[20]^t[30]^t[40],R=t[1]^t[11]^t[21]^t[31]^t[41],O=t[2]^t[12]^t[22]^t[32]^t[42],B=t[3]^t[13]^t[23]^t[33]^t[43],j=t[4]^t[14]^t[24]^t[34]^t[44],I=t[5]^t[15]^t[25]^t[35]^t[45],H=t[6]^t[16]^t[26]^t[36]^t[46],ke=t[7]^t[17]^t[27]^t[37]^t[47],Ee=t[8]^t[18]^t[28]^t[38]^t[48],Ae=t[9]^t[19]^t[29]^t[39]^t[49],x=Ee^(O<<1|B>>>31),g=Ae^(B<<1|O>>>31),t[0]^=x,t[1]^=g,t[10]^=x,t[11]^=g,t[20]^=x,t[21]^=g,t[30]^=x,t[31]^=g,t[40]^=x,t[41]^=g,x=_^(j<<1|I>>>31),g=R^(I<<1|j>>>31),t[2]^=x,t[3]^=g,t[12]^=x,t[13]^=g,t[22]^=x,t[23]^=g,t[32]^=x,t[33]^=g,t[42]^=x,t[43]^=g,x=O^(H<<1|ke>>>31),g=B^(ke<<1|H>>>31),t[4]^=x,t[5]^=g,t[14]^=x,t[15]^=g,t[24]^=x,t[25]^=g,t[34]^=x,t[35]^=g,t[44]^=x,t[45]^=g,x=j^(Ee<<1|Ae>>>31),g=I^(Ae<<1|Ee>>>31),t[6]^=x,t[7]^=g,t[16]^=x,t[17]^=g,t[26]^=x,t[27]^=g,t[36]^=x,t[37]^=g,t[46]^=x,t[47]^=g,x=H^(_<<1|R>>>31),g=ke^(R<<1|_>>>31),t[8]^=x,t[9]^=g,t[18]^=x,t[19]^=g,t[28]^=x,t[29]^=g,t[38]^=x,t[39]^=g,t[48]^=x,t[49]^=g,Ue=t[0],Ce=t[1],tn=t[11]<<4|t[10]>>>28,an=t[10]<<4|t[11]>>>28,$e=t[20]<<3|t[21]>>>29,He=t[21]<<3|t[20]>>>29,vn=t[31]<<9|t[30]>>>23,mn=t[30]<<9|t[31]>>>23,Qe=t[40]<<18|t[41]>>>14,en=t[41]<<18|t[40]>>>14,ze=t[2]<<1|t[3]>>>31,Ge=t[3]<<1|t[2]>>>31,_e=t[13]<<12|t[12]>>>20,Se=t[12]<<12|t[13]>>>20,on=t[22]<<10|t[23]>>>22,sn=t[23]<<10|t[22]>>>22,Pe=t[33]<<13|t[32]>>>19,je=t[32]<<13|t[33]>>>19,yn=t[42]<<2|t[43]>>>30,wn=t[43]<<2|t[42]>>>30,hn=t[5]<<30|t[4]>>>2,dn=t[4]<<30|t[5]>>>2,qe=t[14]<<6|t[15]>>>26,Je=t[15]<<6|t[14]>>>26,Be=t[25]<<11|t[24]>>>21,Re=t[24]<<11|t[25]>>>21,cn=t[34]<<15|t[35]>>>17,un=t[35]<<15|t[34]>>>17,Ve=t[45]<<29|t[44]>>>3,Ke=t[44]<<29|t[45]>>>3,Ne=t[6]<<28|t[7]>>>4,Te=t[7]<<28|t[6]>>>4,bn=t[17]<<23|t[16]>>>9,pn=t[16]<<23|t[17]>>>9,Ye=t[26]<<25|t[27]>>>7,We=t[27]<<25|t[26]>>>7,Fe=t[36]<<21|t[37]>>>11,Oe=t[37]<<21|t[36]>>>11,fn=t[47]<<24|t[46]>>>8,ln=t[46]<<24|t[47]>>>8,nn=t[8]<<27|t[9]>>>5,rn=t[9]<<27|t[8]>>>5,Le=t[18]<<20|t[19]>>>12,Me=t[19]<<20|t[18]>>>12,xn=t[29]<<7|t[28]>>>25,gn=t[28]<<7|t[29]>>>25,Ze=t[38]<<8|t[39]>>>24,Xe=t[39]<<8|t[38]>>>24,Ie=t[48]<<14|t[49]>>>18,De=t[49]<<14|t[48]>>>18,t[0]=Ue^~_e&Be,t[1]=Ce^~Se&Re,t[10]=Ne^~Le&$e,t[11]=Te^~Me&He,t[20]=ze^~qe&Ye,t[21]=Ge^~Je&We,t[30]=nn^~tn&on,t[31]=rn^~an&sn,t[40]=hn^~bn&xn,t[41]=dn^~pn&gn,t[2]=_e^~Be&Fe,t[3]=Se^~Re&Oe,t[12]=Le^~$e&Pe,t[13]=Me^~He&je,t[22]=qe^~Ye&Ze,t[23]=Je^~We&Xe,t[32]=tn^~on&cn,t[33]=an^~sn&un,t[42]=bn^~xn&vn,t[43]=pn^~gn&mn,t[4]=Be^~Fe&Ie,t[5]=Re^~Oe&De,t[14]=$e^~Pe&Ve,t[15]=He^~je&Ke,t[24]=Ye^~Ze&Qe,t[25]=We^~Xe&en,t[34]=on^~cn&fn,t[35]=sn^~un&ln,t[44]=xn^~vn&yn,t[45]=gn^~mn&wn,t[6]=Fe^~Ie&Ue,t[7]=Oe^~De&Ce,t[16]=Pe^~Ve&Ne,t[17]=je^~Ke&Te,t[26]=Ze^~Qe&ze,t[27]=Xe^~en&Ge,t[36]=cn^~fn&nn,t[37]=un^~ln&rn,t[46]=vn^~yn&hn,t[47]=mn^~wn&dn,t[8]=Ie^~Ue&_e,t[9]=De^~Ce&Se,t[18]=Ve^~Ne&Le,t[19]=Ke^~Te&Me,t[28]=Qe^~ze&qe,t[29]=en^~Ge&Je,t[38]=fn^~nn&tn,t[39]=ln^~rn&an,t[48]=yn^~hn&bn,t[49]=wn^~dn&pn,t[0]^=i[y],t[1]^=i[y+1]};if(E)e.exports=q;else for(re=0;re<N.length;++re)o[N[re]]=q[N[re]]})()}),Ca=he(function(e,n){(function(r,a){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function f(i){if(!Array.isArray(i)&&!ArrayBuffer.isView(i))return!1;for(var s=0;s<i.length;s++)if(!Number.isInteger(i[s])||i[s]<0||i[s]>255)return!1;return!0}function c(i,s){return(i&65535)*s+(((i>>>16)*s&65535)<<16)}function E(i,s){return i<<s|i>>>32-s}function U(i){return i^=i>>>16,i=c(i,2246822507),i^=i>>>13,i=c(i,3266489909),i^=i>>>16,i}function u(i,s){i=[i[0]>>>16,i[0]&65535,i[1]>>>16,i[1]&65535],s=[s[0]>>>16,s[0]&65535,s[1]>>>16,s[1]&65535];var m=[0,0,0,0];return m[3]+=i[3]+s[3],m[2]+=m[3]>>>16,m[3]&=65535,m[2]+=i[2]+s[2],m[1]+=m[2]>>>16,m[2]&=65535,m[1]+=i[1]+s[1],m[0]+=m[1]>>>16,m[1]&=65535,m[0]+=i[0]+s[0],m[0]&=65535,[m[0]<<16|m[1],m[2]<<16|m[3]]}function l(i,s){i=[i[0]>>>16,i[0]&65535,i[1]>>>16,i[1]&65535],s=[s[0]>>>16,s[0]&65535,s[1]>>>16,s[1]&65535];var m=[0,0,0,0];return m[3]+=i[3]*s[3],m[2]+=m[3]>>>16,m[3]&=65535,m[2]+=i[2]*s[3],m[1]+=m[2]>>>16,m[2]&=65535,m[2]+=i[3]*s[2],m[1]+=m[2]>>>16,m[2]&=65535,m[1]+=i[1]*s[3],m[0]+=m[1]>>>16,m[1]&=65535,m[1]+=i[2]*s[2],m[0]+=m[1]>>>16,m[1]&=65535,m[1]+=i[3]*s[1],m[0]+=m[1]>>>16,m[1]&=65535,m[0]+=i[0]*s[3]+i[1]*s[2]+i[2]*s[1]+i[3]*s[0],m[0]&=65535,[m[0]<<16|m[1],m[2]<<16|m[3]]}function d(i,s){return s%=64,s===32?[i[1],i[0]]:s<32?[i[0]<<s|i[1]>>>32-s,i[1]<<s|i[0]>>>32-s]:(s-=32,[i[1]<<s|i[0]>>>32-s,i[0]<<s|i[1]>>>32-s])}function h(i,s){return s%=64,s===0?i:s<32?[i[0]<<s|i[1]>>>32-s,i[1]<<s]:[i[1]<<s-32,0]}function b(i,s){return[i[0]^s[0],i[1]^s[1]]}function C(i){return i=b(i,[0,i[0]>>>1]),i=l(i,[4283543511,3981806797]),i=b(i,[0,i[0]>>>1]),i=l(i,[3301882366,444984403]),i=b(i,[0,i[0]>>>1]),i}o.x86.hash32=function(i,s){if(o.inputValidation&&!f(i))return a;s=s||0;for(var m=i.length%4,L=i.length-m,v=s,p=0,w=3432918353,S=461845907,F=0;F<L;F=F+4)p=i[F]|i[F+1]<<8|i[F+2]<<16|i[F+3]<<24,p=c(p,w),p=E(p,15),p=c(p,S),v^=p,v=E(v,13),v=c(v,5)+3864292196;p=0;switch(m){case 3:p^=i[F+2]<<16;case 2:p^=i[F+1]<<8;case 1:p^=i[F],p=c(p,w),p=E(p,15),p=c(p,S),v^=p}return v^=i.length,v=U(v),v>>>0},o.x86.hash128=function(i,s){if(o.inputValidation&&!f(i))return a;s=s||0;for(var m=i.length%16,L=i.length-m,v=s,p=s,w=s,S=s,F=0,T=0,k=0,$=0,ee=597399067,ne=2869860233,Z=951274213,q=2716044179,N=0;N<L;N=N+16)F=i[N]|i[N+1]<<8|i[N+2]<<16|i[N+3]<<24,T=i[N+4]|i[N+5]<<8|i[N+6]<<16|i[N+7]<<24,k=i[N+8]|i[N+9]<<8|i[N+10]<<16|i[N+11]<<24,$=i[N+12]|i[N+13]<<8|i[N+14]<<16|i[N+15]<<24,F=c(F,ee),F=E(F,15),F=c(F,ne),v^=F,v=E(v,19),v+=p,v=c(v,5)+1444728091,T=c(T,ne),T=E(T,16),T=c(T,Z),p^=T,p=E(p,17),p+=w,p=c(p,5)+197830471,k=c(k,Z),k=E(k,17),k=c(k,q),w^=k,w=E(w,15),w+=S,w=c(w,5)+2530024501,$=c($,q),$=E($,18),$=c($,ee),S^=$,S=E(S,13),S+=v,S=c(S,5)+850148119;F=0,T=0,k=0,$=0;switch(m){case 15:$^=i[N+14]<<16;case 14:$^=i[N+13]<<8;case 13:$^=i[N+12],$=c($,q),$=E($,18),$=c($,ee),S^=$;case 12:k^=i[N+11]<<24;case 11:k^=i[N+10]<<16;case 10:k^=i[N+9]<<8;case 9:k^=i[N+8],k=c(k,Z),k=E(k,17),k=c(k,q),w^=k;case 8:T^=i[N+7]<<24;case 7:T^=i[N+6]<<16;case 6:T^=i[N+5]<<8;case 5:T^=i[N+4],T=c(T,ne),T=E(T,16),T=c(T,Z),p^=T;case 4:F^=i[N+3]<<24;case 3:F^=i[N+2]<<16;case 2:F^=i[N+1]<<8;case 1:F^=i[N],F=c(F,ee),F=E(F,15),F=c(F,ne),v^=F}return v^=i.length,p^=i.length,w^=i.length,S^=i.length,v+=p,v+=w,v+=S,p+=v,w+=v,S+=v,v=U(v),p=U(p),w=U(w),S=U(S),v+=p,v+=w,v+=S,p+=v,w+=v,S+=v,("00000000"+(v>>>0).toString(16)).slice(-8)+("00000000"+(p>>>0).toString(16)).slice(-8)+("00000000"+(w>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)},o.x64.hash128=function(i,s){if(o.inputValidation&&!f(i))return a;s=s||0;for(var m=i.length%16,L=i.length-m,v=[0,s],p=[0,s],w=[0,0],S=[0,0],F=[2277735313,289559509],T=[1291169091,658871167],k=0;k<L;k=k+16)w=[i[k+4]|i[k+5]<<8|i[k+6]<<16|i[k+7]<<24,i[k]|i[k+1]<<8|i[k+2]<<16|i[k+3]<<24],S=[i[k+12]|i[k+13]<<8|i[k+14]<<16|i[k+15]<<24,i[k+8]|i[k+9]<<8|i[k+10]<<16|i[k+11]<<24],w=l(w,F),w=d(w,31),w=l(w,T),v=b(v,w),v=d(v,27),v=u(v,p),v=u(l(v,[0,5]),[0,1390208809]),S=l(S,T),S=d(S,33),S=l(S,F),p=b(p,S),p=d(p,31),p=u(p,v),p=u(l(p,[0,5]),[0,944331445]);w=[0,0],S=[0,0];switch(m){case 15:S=b(S,h([0,i[k+14]],48));case 14:S=b(S,h([0,i[k+13]],40));case 13:S=b(S,h([0,i[k+12]],32));case 12:S=b(S,h([0,i[k+11]],24));case 11:S=b(S,h([0,i[k+10]],16));case 10:S=b(S,h([0,i[k+9]],8));case 9:S=b(S,[0,i[k+8]]),S=l(S,T),S=d(S,33),S=l(S,F),p=b(p,S);case 8:w=b(w,h([0,i[k+7]],56));case 7:w=b(w,h([0,i[k+6]],48));case 6:w=b(w,h([0,i[k+5]],40));case 5:w=b(w,h([0,i[k+4]],32));case 4:w=b(w,h([0,i[k+3]],24));case 3:w=b(w,h([0,i[k+2]],16));case 2:w=b(w,h([0,i[k+1]],8));case 1:w=b(w,[0,i[k]]),w=l(w,F),w=d(w,31),w=l(w,T),v=b(v,w)}return v=b(v,[0,i.length]),p=b(p,[0,i.length]),v=u(v,p),p=u(p,v),v=C(v),p=C(p),v=u(v,p),p=u(p,v),("00000000"+(v[0]>>>0).toString(16)).slice(-8)+("00000000"+(v[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)},e.exports&&(n=e.exports=o),n.murmurHash3=o})()}),Tr=Ca;const _a=e=>{const n=new Uint8Array(4);for(let r=0;r<4;r++)n[r]=e&255,e=e>>8;return n};var Sa={fromNumberTo32BitBuf:_a},Ba="Input must be an string, Buffer or Uint8Array";function Ra(e){var n;if(e instanceof Uint8Array)n=e;else if(e instanceof Buffer)n=new Uint8Array(e);else if(typeof e=="string")n=new Uint8Array(Buffer.from(e,"utf8"));else throw new Error(Ba);return n}function Fa(e){return Array.prototype.map.call(e,function(n){return(n<16?"0":"")+n.toString(16)}).join("")}function An(e){return(4294967296+e).toString(16).substring(1)}function Oa(e,n,r){for(var a=`
`+e+" = ",o=0;o<n.length;o+=2){if(r===32)a+=An(n[o]).toUpperCase(),a+=" ",a+=An(n[o+1]).toUpperCase();else if(r===64)a+=An(n[o+1]).toUpperCase(),a+=An(n[o]).toUpperCase();else throw new Error("Invalid size "+r);o%6===4?a+=`
`+new Array(e.length+4).join(" "):o<n.length-2&&(a+=" ")}console.log(a)}function Ia(e,n,r){for(var a=new Date().getTime(),o=new Uint8Array(n),f=0;f<n;f++)o[f]=f%256;var c=new Date().getTime();for(console.log("Generated random input in "+(c-a)+"ms"),a=c,f=0;f<r;f++){var E=e(o),U=new Date().getTime(),u=U-a;a=U,console.log("Hashed in "+u+"ms: "+E.substring(0,20)+"..."),console.log(Math.round(n/(1<<20)/(u/1e3)*100)/100+" MB PER SECOND")}}var Un={normalizeInput:Ra,toHex:Fa,debugPrint:Oa,testSpeed:Ia};function Cn(e,n,r){var a=e[n]+e[r],o=e[n+1]+e[r+1];a>=4294967296&&o++,e[n]=a,e[n+1]=o}function Lr(e,n,r,a){var o=e[n]+r;r<0&&(o+=4294967296);var f=e[n+1]+a;o>=4294967296&&f++,e[n]=o,e[n+1]=f}function Da(e,n){return e[n]^e[n+1]<<8^e[n+2]<<16^e[n+3]<<24}function ae(e,n,r,a,o,f){var c=ve[o],E=ve[o+1],U=ve[f],u=ve[f+1];Cn(D,e,n),Lr(D,e,c,E);var l=D[a]^D[e],d=D[a+1]^D[e+1];D[a]=d,D[a+1]=l,Cn(D,r,a),l=D[n]^D[r],d=D[n+1]^D[r+1],D[n]=l>>>24^d<<8,D[n+1]=d>>>24^l<<8,Cn(D,e,n),Lr(D,e,U,u),l=D[a]^D[e],d=D[a+1]^D[e+1],D[a]=l>>>16^d<<16,D[a+1]=d>>>16^l<<16,Cn(D,r,a),l=D[n]^D[r],d=D[n+1]^D[r+1],D[n]=d>>>31^l<<1,D[n+1]=l>>>31^d<<1}var Mr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Na=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],z=new Uint8Array(Na.map(function(e){return e*2})),D=new Uint32Array(32),ve=new Uint32Array(32);function $r(e,n){var r=0;for(r=0;r<16;r++)D[r]=e.h[r],D[r+16]=Mr[r];for(D[24]=D[24]^e.t,D[25]=D[25]^e.t/4294967296,n&&(D[28]=~D[28],D[29]=~D[29]),r=0;r<32;r++)ve[r]=Da(e.b,4*r);for(r=0;r<12;r++)ae(0,8,16,24,z[r*16+0],z[r*16+1]),ae(2,10,18,26,z[r*16+2],z[r*16+3]),ae(4,12,20,28,z[r*16+4],z[r*16+5]),ae(6,14,22,30,z[r*16+6],z[r*16+7]),ae(0,10,20,30,z[r*16+8],z[r*16+9]),ae(2,12,22,24,z[r*16+10],z[r*16+11]),ae(4,14,16,26,z[r*16+12],z[r*16+13]),ae(6,8,18,28,z[r*16+14],z[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^D[r]^D[r+16]}function Hr(e,n){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(n&&n.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},a=0;a<16;a++)r.h[a]=Mr[a];var o=n?n.length:0;return r.h[0]^=16842752^o<<8^e,n&&(zn(r,n),r.c=128),r}function zn(e,n){for(var r=0;r<n.length;r++)e.c===128&&(e.t+=e.c,$r(e,!1),e.c=0),e.b[e.c++]=n[r]}function Pr(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;$r(e,!0);for(var n=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)n[r]=e.h[r>>2]>>8*(r&3);return n}function jr(e,n,r){r=r||64,e=Un.normalizeInput(e);var a=Hr(r,n);return zn(a,e),Pr(a)}function Ta(e,n,r){var a=jr(e,n,r);return Un.toHex(a)}var me={blake2b:jr,blake2bHex:Ta,blake2bInit:Hr,blake2bUpdate:zn,blake2bFinal:Pr};function La(e,n){return e[n]^e[n+1]<<8^e[n+2]<<16^e[n+3]<<24}function ie(e,n,r,a,o,f){M[e]=M[e]+M[n]+o,M[a]=_n(M[a]^M[e],16),M[r]=M[r]+M[a],M[n]=_n(M[n]^M[r],12),M[e]=M[e]+M[n]+f,M[a]=_n(M[a]^M[e],8),M[r]=M[r]+M[a],M[n]=_n(M[n]^M[r],7)}function _n(e,n){return e>>>n^e<<32-n}var Vr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),G=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),M=new Uint32Array(16),K=new Uint32Array(16);function Kr(e,n){var r=0;for(r=0;r<8;r++)M[r]=e.h[r],M[r+8]=Vr[r];for(M[12]^=e.t,M[13]^=e.t/4294967296,n&&(M[14]=~M[14]),r=0;r<16;r++)K[r]=La(e.b,4*r);for(r=0;r<10;r++)ie(0,4,8,12,K[G[r*16+0]],K[G[r*16+1]]),ie(1,5,9,13,K[G[r*16+2]],K[G[r*16+3]]),ie(2,6,10,14,K[G[r*16+4]],K[G[r*16+5]]),ie(3,7,11,15,K[G[r*16+6]],K[G[r*16+7]]),ie(0,5,10,15,K[G[r*16+8]],K[G[r*16+9]]),ie(1,6,11,12,K[G[r*16+10]],K[G[r*16+11]]),ie(2,7,8,13,K[G[r*16+12]],K[G[r*16+13]]),ie(3,4,9,14,K[G[r*16+14]],K[G[r*16+15]]);for(r=0;r<8;r++)e.h[r]^=M[r]^M[r+8]}function zr(e,n){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=n?n.length:0;if(n&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var a={h:new Uint32Array(Vr),b:new Uint32Array(64),c:0,t:0,outlen:e};return a.h[0]^=16842752^r<<8^e,r>0&&(Gn(a,n),a.c=64),a}function Gn(e,n){for(var r=0;r<n.length;r++)e.c===64&&(e.t+=e.c,Kr(e,!1),e.c=0),e.b[e.c++]=n[r]}function Gr(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;Kr(e,!0);for(var n=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)n[r]=e.h[r>>2]>>8*(r&3)&255;return n}function qr(e,n,r){r=r||32,e=Un.normalizeInput(e);var a=zr(r,n);return Gn(a,e),Gr(a)}function Ma(e,n,r){var a=qr(e,n,r);return Un.toHex(a)}var ye={blake2s:qr,blake2sHex:Ma,blake2sInit:zr,blake2sUpdate:Gn,blake2sFinal:Gr},ue={blake2b:me.blake2b,blake2bHex:me.blake2bHex,blake2bInit:me.blake2bInit,blake2bUpdate:me.blake2bUpdate,blake2bFinal:me.blake2bFinal,blake2s:ye.blake2s,blake2sHex:ye.blake2sHex,blake2sInit:ye.blake2sInit,blake2sUpdate:ye.blake2sUpdate,blake2sFinal:ye.blake2sFinal};const $a=45569,Ha=45633,Pa={init:ue.blake2bInit,update:ue.blake2bUpdate,digest:ue.blake2bFinal},ja={init:ue.blake2sInit,update:ue.blake2sUpdate,digest:ue.blake2sFinal},Jr=(e,n)=>async r=>{const a=n.init(e,null);return n.update(a,r),n.digest(a)};var Va=e=>{for(let n=0;n<64;n++)e[$a+n]=Jr(n+1,Pa);for(let n=0;n<32;n++)e[Ha+n]=Jr(n+1,ja)};const{factory:Sn}=Ir,{fromNumberTo32BitBuf:Ka}=Sa,Y=e=>async n=>{switch(e){case"sha3-224":return new Uint8Array(Q.sha3_224.arrayBuffer(n));case"sha3-256":return new Uint8Array(Q.sha3_256.arrayBuffer(n));case"sha3-384":return new Uint8Array(Q.sha3_384.arrayBuffer(n));case"sha3-512":return new Uint8Array(Q.sha3_512.arrayBuffer(n));case"shake-128":return new Uint8Array(Q.shake128.create(128).update(n).arrayBuffer());case"shake-256":return new Uint8Array(Q.shake256.create(256).update(n).arrayBuffer());case"keccak-224":return new Uint8Array(Q.keccak224.arrayBuffer(n));case"keccak-256":return new Uint8Array(Q.keccak256.arrayBuffer(n));case"keccak-384":return new Uint8Array(Q.keccak384.arrayBuffer(n));case"keccak-512":return new Uint8Array(Q.keccak512.arrayBuffer(n));case"murmur3-128":return de(Tr.x64.hash128(n),"base16");case"murmur3-32":return Ka(Tr.x86.hash32(n));default:throw new TypeError(`${e} is not a supported algorithm`)}},za=e=>e;var V={identity:za,sha1:Sn("sha1"),sha2256:Sn("sha2-256"),sha2512:Sn("sha2-512"),dblSha2256:Sn("dbl-sha2-256"),sha3224:Y("sha3-224"),sha3256:Y("sha3-256"),sha3384:Y("sha3-384"),sha3512:Y("sha3-512"),shake128:Y("shake-128"),shake256:Y("shake-256"),keccak224:Y("keccak-224"),keccak256:Y("keccak-256"),keccak384:Y("keccak-384"),keccak512:Y("keccak-512"),murmur3128:Y("murmur3-128"),murmur332:Y("murmur3-32"),addBlake:Va};async function W(e,n,r){const a=await W.digest(e,n,r);return ce.encode(a,n,r)}W.multihash=ce,W.digest=async(e,n,r)=>{const a=W.createHash(n),o=await a(e);return r?o.slice(0,r):o},W.createHash=function(e){if(!e)throw X(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=ce.coerceCode(e),!W.functions[e])throw X(new Error(`multihash function '${e}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return W.functions[e]},W.functions={0:V.identity,17:V.sha1,18:V.sha2256,19:V.sha2512,20:V.sha3512,21:V.sha3384,22:V.sha3256,23:V.sha3224,24:V.shake128,25:V.shake256,26:V.keccak224,27:V.keccak256,28:V.keccak384,29:V.keccak512,34:V.murmur3128,35:V.murmur332,86:V.dblSha2256},V.addBlake(W.functions),W.validate=async(e,n)=>{const r=await W(e,ce.decode(n).name);return Dn(n,r)};var Yr=W;const Ga=async(e,n)=>{if(!(e instanceof Uint8Array))throw X(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(e.byteLength<5)throw X(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");const r=te(e.subarray(0,4));if(r!=="/pk/")throw X(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");const a=e.slice(4),o=await Yr(n,"sha2-256");if(!Dn(a,o))throw X(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};var qa={func:Ga,sign:!1},Ja={pk:qa};const Ya=(e,n)=>{const r=n.key,a=te(r),o=a.split("/");if(o.length<3)return;const f=e[o[1].toString()];if(!f){const c="Invalid record keytype";throw X(new Error(c),"ERR_INVALID_RECORD_KEY_TYPE")}return f.func(r,n.value)};var Wa={verifyRecord:Ya,validators:Ja};const Za=(e,n)=>0;var Xa=Za,Qa={pk:Xa};const ei=(e,n,r)=>{if(r.length===0){const c="No records given";throw X(new Error(c),"ERR_NO_RECORDS_RECEIVED")}const a=te(n),o=a.split("/");if(o.length<3){const c="Record key does not have a selector function";throw X(new Error(c),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const f=e[o[1].toString()];if(!f){const c=`Unrecognized key prefix: ${o[1]}`;throw X(new Error(c),"ERR_UNRECOGNIZED_KEY_PREFIX")}return f(n,r)};var ni={bestRecord:ei,selectors:Qa},ri={Record:Ua,validator:Wa,selection:ni};export{On as a,Or as b,Zn as c,Ir as d,Dn as e,ri as f,Yr as g,ce as s,A as v};
