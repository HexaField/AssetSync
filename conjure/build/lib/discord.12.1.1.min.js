!function(u,g){typeof exports=="object"&&typeof module=="object"?module.exports=g():typeof define=="function"&&define.amd?define([],g):typeof exports=="object"?exports.Discord=g():u.Discord=g()}(window,function(){return function(u){var g={};function e(l){if(g[l])return g[l].exports;var n=g[l]={i:l,l:!1,exports:{}};return u[l].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=u,e.c=g,e.d=function(l,n,o){e.o(l,n)||Object.defineProperty(l,n,{enumerable:!0,get:o})},e.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},e.t=function(l,n){if(1&n&&(l=e(l)),8&n)return l;if(4&n&&typeof l=="object"&&l&&l.__esModule)return l;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:l}),2&n&&typeof l!="string")for(var t in l)e.d(o,t,function(i){return l[i]}.bind(null,t));return o},e.n=function(l){var n=l&&l.__esModule?function(){return l.default}:function(){return l};return e.d(n,"a",n),n},e.o=function(l,n){return Object.prototype.hasOwnProperty.call(l,n)},e.p="",e(e.s=83)}([function(u,g,e){"use strict";(function(l){const n=g.Package=e(49),{Error:o,RangeError:t}=e(3),i=g.browser=typeof window!="undefined";g.DefaultOptions={shardCount:1,messageCacheMaxSize:200,messageCacheLifetime:0,messageSweepInterval:0,fetchAllMembers:!1,disableMentions:"none",partials:[],restWsBridgeTimeout:5e3,restRequestTimeout:15e3,retryLimit:1,restTimeOffset:500,restSweepInterval:60,presence:{},ws:{large_threshold:250,compress:!1,properties:{$os:i?"browser":l.platform,$browser:"discord.js",$device:"discord.js"},version:6},http:{version:7,api:"https://discordapp.com/api",cdn:"https://cdn.discordapp.com",invite:"https://discord.gg"}},g.UserAgent=i?null:`DiscordBot (${n.homepage.split("#")[0]}, ${n.version}) Node.js/${l.version}`,g.WSCodes={1e3:"WS_CLOSE_REQUESTED",4004:"TOKEN_INVALID",4010:"SHARDING_INVALID",4011:"SHARDING_REQUIRED",4013:"INVALID_INTENTS",4014:"DISALLOWED_INTENTS"};const s=["webp","png","jpg","gif"],c=Array.from({length:8},(d,a)=>2**(a+4));function r(d,{format:a="webp",size:m}={}){if(a&&!s.includes(a))throw new o("IMAGE_FORMAT",a);if(m&&!c.includes(m))throw new t("IMAGE_SIZE",m);return`${d}.${a}${m?`?size=${m}`:""}`}function h(d){let a=Object.create(null);for(const m of d)a[m]=m;return a}g.Endpoints={CDN:d=>({Emoji:(a,m="png")=>`${d}/emojis/${a}.${m}`,Asset:a=>`${d}/assets/${a}`,DefaultAvatar:a=>`${d}/embed/avatars/${a}.png`,Avatar:(a,m,p="webp",f,A=!1)=>(A&&(p=m.startsWith("a_")?"gif":p),r(`${d}/avatars/${a}/${m}`,{format:p,size:f})),Banner:(a,m,p="webp",f)=>r(`${d}/banners/${a}/${m}`,{format:p,size:f}),Icon:(a,m,p="webp",f,A=!1)=>(A&&(p=m.startsWith("a_")?"gif":p),r(`${d}/icons/${a}/${m}`,{format:p,size:f})),AppIcon:(a,m,{format:p="webp",size:f}={})=>r(`${d}/app-icons/${a}/${m}`,{size:f,format:p}),AppAsset:(a,m,{format:p="webp",size:f}={})=>r(`${d}/app-assets/${a}/${m}`,{size:f,format:p}),GDMIcon:(a,m,p="webp",f)=>r(`${d}/channel-icons/${a}/${m}`,{size:f,format:p}),Splash:(a,m,p="webp",f)=>r(`${d}/splashes/${a}/${m}`,{size:f,format:p}),DiscoverySplash:(a,m,p="webp",f)=>r(`${d}/discovery-splashes/${a}/${m}`,{size:f,format:p}),TeamIcon:(a,m,{format:p="webp",size:f}={})=>r(`${d}/team-icons/${a}/${m}`,{size:f,format:p})}),invite:(d,a)=>`${d}/${a}`,botGateway:"/gateway/bot"},g.Status={READY:0,CONNECTING:1,RECONNECTING:2,IDLE:3,NEARLY:4,DISCONNECTED:5,WAITING_FOR_GUILDS:6,IDENTIFYING:7,RESUMING:8},g.VoiceStatus={CONNECTED:0,CONNECTING:1,AUTHENTICATING:2,RECONNECTING:3,DISCONNECTED:4},g.OPCodes={DISPATCH:0,HEARTBEAT:1,IDENTIFY:2,STATUS_UPDATE:3,VOICE_STATE_UPDATE:4,VOICE_GUILD_PING:5,RESUME:6,RECONNECT:7,REQUEST_GUILD_MEMBERS:8,INVALID_SESSION:9,HELLO:10,HEARTBEAT_ACK:11},g.VoiceOPCodes={IDENTIFY:0,SELECT_PROTOCOL:1,READY:2,HEARTBEAT:3,SESSION_DESCRIPTION:4,SPEAKING:5,HELLO:8,CLIENT_CONNECT:12,CLIENT_DISCONNECT:13},g.Events={RATE_LIMIT:"rateLimit",CLIENT_READY:"ready",GUILD_CREATE:"guildCreate",GUILD_DELETE:"guildDelete",GUILD_UPDATE:"guildUpdate",GUILD_UNAVAILABLE:"guildUnavailable",GUILD_AVAILABLE:"guildAvailable",GUILD_MEMBER_ADD:"guildMemberAdd",GUILD_MEMBER_REMOVE:"guildMemberRemove",GUILD_MEMBER_UPDATE:"guildMemberUpdate",GUILD_MEMBER_AVAILABLE:"guildMemberAvailable",GUILD_MEMBER_SPEAKING:"guildMemberSpeaking",GUILD_MEMBERS_CHUNK:"guildMembersChunk",GUILD_INTEGRATIONS_UPDATE:"guildIntegrationsUpdate",GUILD_ROLE_CREATE:"roleCreate",GUILD_ROLE_DELETE:"roleDelete",INVITE_CREATE:"inviteCreate",INVITE_DELETE:"inviteDelete",GUILD_ROLE_UPDATE:"roleUpdate",GUILD_EMOJI_CREATE:"emojiCreate",GUILD_EMOJI_DELETE:"emojiDelete",GUILD_EMOJI_UPDATE:"emojiUpdate",GUILD_BAN_ADD:"guildBanAdd",GUILD_BAN_REMOVE:"guildBanRemove",CHANNEL_CREATE:"channelCreate",CHANNEL_DELETE:"channelDelete",CHANNEL_UPDATE:"channelUpdate",CHANNEL_PINS_UPDATE:"channelPinsUpdate",MESSAGE_CREATE:"message",MESSAGE_DELETE:"messageDelete",MESSAGE_UPDATE:"messageUpdate",MESSAGE_BULK_DELETE:"messageDeleteBulk",MESSAGE_REACTION_ADD:"messageReactionAdd",MESSAGE_REACTION_REMOVE:"messageReactionRemove",MESSAGE_REACTION_REMOVE_ALL:"messageReactionRemoveAll",MESSAGE_REACTION_REMOVE_EMOJI:"messageReactionRemoveEmoji",USER_UPDATE:"userUpdate",PRESENCE_UPDATE:"presenceUpdate",VOICE_SERVER_UPDATE:"voiceServerUpdate",VOICE_STATE_UPDATE:"voiceStateUpdate",VOICE_BROADCAST_SUBSCRIBE:"subscribe",VOICE_BROADCAST_UNSUBSCRIBE:"unsubscribe",TYPING_START:"typingStart",TYPING_STOP:"typingStop",WEBHOOKS_UPDATE:"webhookUpdate",ERROR:"error",WARN:"warn",DEBUG:"debug",SHARD_DISCONNECT:"shardDisconnect",SHARD_ERROR:"shardError",SHARD_RECONNECTING:"shardReconnecting",SHARD_READY:"shardReady",SHARD_RESUME:"shardResume",INVALIDATED:"invalidated",RAW:"raw"},g.ShardEvents={CLOSE:"close",DESTROYED:"destroyed",INVALID_SESSION:"invalidSession",READY:"ready",RESUMED:"resumed",ALL_READY:"allReady"},g.PartialTypes=h(["USER","CHANNEL","GUILD_MEMBER","MESSAGE","REACTION"]),g.WSEvents=h(["READY","RESUMED","GUILD_CREATE","GUILD_DELETE","GUILD_UPDATE","INVITE_CREATE","INVITE_DELETE","GUILD_MEMBER_ADD","GUILD_MEMBER_REMOVE","GUILD_MEMBER_UPDATE","GUILD_MEMBERS_CHUNK","GUILD_INTEGRATIONS_UPDATE","GUILD_ROLE_CREATE","GUILD_ROLE_DELETE","GUILD_ROLE_UPDATE","GUILD_BAN_ADD","GUILD_BAN_REMOVE","GUILD_EMOJIS_UPDATE","CHANNEL_CREATE","CHANNEL_DELETE","CHANNEL_UPDATE","CHANNEL_PINS_UPDATE","MESSAGE_CREATE","MESSAGE_DELETE","MESSAGE_UPDATE","MESSAGE_DELETE_BULK","MESSAGE_REACTION_ADD","MESSAGE_REACTION_REMOVE","MESSAGE_REACTION_REMOVE_ALL","MESSAGE_REACTION_REMOVE_EMOJI","USER_UPDATE","PRESENCE_UPDATE","TYPING_START","VOICE_STATE_UPDATE","VOICE_SERVER_UPDATE","WEBHOOKS_UPDATE"]),g.MessageTypes=["DEFAULT","RECIPIENT_ADD","RECIPIENT_REMOVE","CALL","CHANNEL_NAME_CHANGE","CHANNEL_ICON_CHANGE","PINS_ADD","GUILD_MEMBER_JOIN","USER_PREMIUM_GUILD_SUBSCRIPTION","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3","CHANNEL_FOLLOW_ADD",null,"GUILD_DISCOVERY_DISQUALIFIED","GUILD_DISCOVERY_REQUALIFIED"],g.ActivityTypes=["PLAYING","STREAMING","LISTENING","WATCHING","CUSTOM_STATUS"],g.ChannelTypes={TEXT:0,DM:1,VOICE:2,GROUP:3,CATEGORY:4,NEWS:5,STORE:6},g.ClientApplicationAssetTypes={SMALL:1,BIG:2},g.Colors={DEFAULT:0,WHITE:16777215,AQUA:1752220,GREEN:3066993,BLUE:3447003,YELLOW:16776960,PURPLE:10181046,LUMINOUS_VIVID_PINK:15277667,GOLD:15844367,ORANGE:15105570,RED:15158332,GREY:9807270,NAVY:3426654,DARK_AQUA:1146986,DARK_GREEN:2067276,DARK_BLUE:2123412,DARK_PURPLE:7419530,DARK_VIVID_PINK:11342935,DARK_GOLD:12745742,DARK_ORANGE:11027200,DARK_RED:10038562,DARK_GREY:9936031,DARKER_GREY:8359053,LIGHT_GREY:12370112,DARK_NAVY:2899536,BLURPLE:7506394,GREYPLE:10070709,DARK_BUT_NOT_BLACK:2895667,NOT_QUITE_BLACK:2303786},g.ExplicitContentFilterLevels=["DISABLED","MEMBERS_WITHOUT_ROLES","ALL_MEMBERS"],g.VerificationLevels=["NONE","LOW","MEDIUM","HIGH","VERY_HIGH"],g.APIErrors={UNKNOWN_ACCOUNT:10001,UNKNOWN_APPLICATION:10002,UNKNOWN_CHANNEL:10003,UNKNOWN_GUILD:10004,UNKNOWN_INTEGRATION:10005,UNKNOWN_INVITE:10006,UNKNOWN_MEMBER:10007,UNKNOWN_MESSAGE:10008,UNKNOWN_OVERWRITE:10009,UNKNOWN_PROVIDER:10010,UNKNOWN_ROLE:10011,UNKNOWN_TOKEN:10012,UNKNOWN_USER:10013,UNKNOWN_EMOJI:10014,UNKNOWN_WEBHOOK:10015,BOT_PROHIBITED_ENDPOINT:20001,BOT_ONLY_ENDPOINT:20002,MAXIMUM_GUILDS:30001,MAXIMUM_FRIENDS:30002,MAXIMUM_PINS:30003,MAXIMUM_ROLES:30005,MAXIMUM_REACTIONS:30010,MAXIMUM_CHANNELS:30013,MAXIMUM_INVITES:30016,UNAUTHORIZED:40001,USER_BANNED:40007,MISSING_ACCESS:50001,INVALID_ACCOUNT_TYPE:50002,CANNOT_EXECUTE_ON_DM:50003,EMBED_DISABLED:50004,CANNOT_EDIT_MESSAGE_BY_OTHER:50005,CANNOT_SEND_EMPTY_MESSAGE:50006,CANNOT_MESSAGE_USER:50007,CANNOT_SEND_MESSAGES_IN_VOICE_CHANNEL:50008,CHANNEL_VERIFICATION_LEVEL_TOO_HIGH:50009,OAUTH2_APPLICATION_BOT_ABSENT:50010,MAXIMUM_OAUTH2_APPLICATIONS:50011,INVALID_OAUTH_STATE:50012,MISSING_PERMISSIONS:50013,INVALID_AUTHENTICATION_TOKEN:50014,NOTE_TOO_LONG:50015,INVALID_BULK_DELETE_QUANTITY:50016,CANNOT_PIN_MESSAGE_IN_OTHER_CHANNEL:50019,INVALID_OR_TAKEN_INVITE_CODE:50020,CANNOT_EXECUTE_ON_SYSTEM_MESSAGE:50021,INVALID_OAUTH_TOKEN:50025,BULK_DELETE_MESSAGE_TOO_OLD:50034,INVALID_FORM_BODY:50035,INVITE_ACCEPTED_TO_GUILD_NOT_CONTAINING_BOT:50036,INVALID_API_VERSION:50041,REACTION_BLOCKED:90001,RESOURCE_OVERLOADED:13e4},g.DefaultMessageNotifications=["ALL","MENTIONS"],g.MembershipStates=[null,"INVITED","ACCEPTED"],g.WebhookTypes=[null,"Incoming","Channel Follower"]}).call(this,e(23))},function(u,g,e){"use strict";const{PartialTypes:l}=e(0);u.exports=class{constructor(o){this.client=o}handle(o){return o}getPayload(o,t,i,s,c){const r=t.cache.get(i);return!r&&this.client.options.partials.includes(s)?t.add(o,c):r}getChannel(o){const t=o.channel_id||o.id;return o.channel||this.getPayload({id:t,guild_id:o.guild_id,recipients:[o.author||{id:o.user_id}]},this.client.channels,t,l.CHANNEL)}getMessage(o,t,i){const s=o.message_id||o.id;return o.message||this.getPayload({id:s,channel_id:t.id,guild_id:o.guild_id||(t.guild?t.guild.id:null)},t.messages,s,l.MESSAGE,i)}getReaction(o,t,i){const s=o.emoji.id||decodeURIComponent(o.emoji.name);return this.getPayload({emoji:o.emoji,count:t.partial?null:0,me:!!i&&i.id===this.client.user.id},t.reactions,s,l.REACTION)}getMember(o,t){const i=o.user.id;return this.getPayload({user:{id:i}},t.members,i,l.GUILD_MEMBER)}getUser(o){const t=o.user_id;return o.user||this.getPayload({id:t},this.client.users,t,l.USER)}}},function(u,g,e){"use strict";const l=e(85),n=e(4);u.exports=class extends l{toJSON(){return this.map(t=>typeof t.toJSON=="function"?t.toJSON():n.flatten(t))}}},function(u,g,e){"use strict";u.exports=e(50),u.exports.Messages=e(84)},function(u,g,e){"use strict";const{parse:l}=e(29),n=e(30),{Colors:o,DefaultOptions:t,Endpoints:i}=e(0),{Error:s,RangeError:c,TypeError:r}=e(3),h=a=>typeof a=="object"&&a!==null;class d{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static flatten(a,...m){if(!h(a))return a;m=Object.assign(...Object.keys(a).filter(f=>!f.startsWith("_")).map(f=>({[f]:!0})),...m);const p={};for(let[f,A]of Object.entries(m)){if(!A)continue;A=A===!0?f:A;const _=a[f],E=h(_),y=E&&typeof _.valueOf=="function"?_.valueOf():null;_ instanceof e(2)?p[A]=Array.from(_.keys()):y instanceof e(2)?p[A]=Array.from(y.keys()):Array.isArray(_)?p[A]=_.map(T=>d.flatten(T)):typeof y!="object"?p[A]=y:E||(p[A]=_)}return p}static splitMessage(a,{maxLength:m=2e3,char:p=`
`,prepend:f="",append:A=""}={}){if((a=d.resolveString(a)).length<=m)return[a];const _=a.split(p);if(_.some(T=>T.length>m))throw new c("SPLIT_MAX_LEN");const E=[];let y="";for(const T of _)y&&(y+p+T+A).length>m&&(E.push(y+A),y=f),y+=(y&&y!==f?p:"")+T;return E.concat(y).filter(T=>T)}static escapeMarkdown(a,{codeBlock:m=!0,inlineCode:p=!0,bold:f=!0,italic:A=!0,underline:_=!0,strikethrough:E=!0,spoiler:y=!0,codeBlockContent:T=!0,inlineCodeContent:N=!0}={}){return T?N?(p&&(a=d.escapeInlineCode(a)),m&&(a=d.escapeCodeBlock(a)),A&&(a=d.escapeItalic(a)),f&&(a=d.escapeBold(a)),_&&(a=d.escapeUnderline(a)),E&&(a=d.escapeStrikethrough(a)),y&&(a=d.escapeSpoiler(a)),a):a.split(/(?<=^|[^`])`(?=[^`]|$)/g).map((S,R,C)=>R%2&&R!==C.length-1?S:d.escapeMarkdown(S,{codeBlock:m,bold:f,italic:A,underline:_,strikethrough:E,spoiler:y})).join(p?"\\`":"`"):a.split("```").map((S,R,C)=>R%2&&R!==C.length-1?S:d.escapeMarkdown(S,{inlineCode:p,bold:f,italic:A,underline:_,strikethrough:E,spoiler:y,inlineCodeContent:N})).join(m?"\\`\\`\\`":"```")}static escapeCodeBlock(a){return a.replace(/```/g,"\\`\\`\\`")}static escapeInlineCode(a){return a.replace(/(?<=^|[^`])`(?=[^`]|$)/g,"\\`")}static escapeItalic(a){let m=0;return a=a.replace(/(?<=^|[^*])\*([^*]|\*\*|$)/g,(p,f)=>f==="**"?++m%2?`\\*${f}`:`${f}\\*`:`\\*${f}`),m=0,a.replace(/(?<=^|[^_])_([^_]|__|$)/g,(p,f)=>f==="__"?++m%2?`\\_${f}`:`${f}\\_`:`\\_${f}`)}static escapeBold(a){let m=0;return a.replace(/\*\*(\*)?/g,(p,f)=>f?++m%2?`${f}\\*\\*`:`\\*\\*${f}`:"\\*\\*")}static escapeUnderline(a){let m=0;return a.replace(/__(_)?/g,(p,f)=>f?++m%2?`${f}\\_\\_`:`\\_\\_${f}`:"\\_\\_")}static escapeStrikethrough(a){return a.replace(/~~/g,"\\~\\~")}static escapeSpoiler(a){return a.replace(/\|\|/g,"\\|\\|")}static fetchRecommendedShards(a,m=1e3){if(!a)throw new s("TOKEN_MISSING");return n(`${t.http.api}/v${t.http.version}${i.botGateway}`,{method:"GET",headers:{Authorization:`Bot ${a.replace(/^Bot\s*/i,"")}`}}).then(p=>{if(p.ok)return p.json();throw p}).then(p=>p.shards*(1e3/m))}static parseEmoji(a){if(a.includes("%")&&(a=decodeURIComponent(a)),!a.includes(":"))return{animated:!1,name:a,id:null};const m=a.match(/<?(?:(a):)?(\w{2,32}):(\d{17,19})?>?/);return m?{animated:Boolean(m[1]),name:m[2],id:m[3]||null}:null}static cloneObject(a){return Object.assign(Object.create(a),a)}static mergeDefault(a,m){if(!m)return a;for(const A in a)p=m,f=A,Object.prototype.hasOwnProperty.call(p,f)&&m[A]!==void 0?m[A]===Object(m[A])&&(m[A]=d.mergeDefault(a[A],m[A])):m[A]=a[A];var p,f;return m}static convertToBuffer(a){return typeof a=="string"&&(a=d.str2ab(a)),Buffer.from(a)}static str2ab(a){const m=new ArrayBuffer(2*a.length),p=new Uint16Array(m);for(var f=0,A=a.length;f<A;f++)p[f]=a.charCodeAt(f);return m}static makeError(a){const m=new Error(a.message);return m.name=a.name,m.stack=a.stack,m}static makePlainError(a){return{name:a.name,message:a.message,stack:a.stack}}static moveElementInArray(a,m,p,f=!1){const A=a.indexOf(m);if((p=(f?A:0)+p)>-1&&p<a.length){const _=a.splice(A,1)[0];a.splice(p,0,_)}return a.indexOf(m)}static resolveString(a){return typeof a=="string"?a:Array.isArray(a)?a.join(`
`):String(a)}static resolveColor(a){if(typeof a=="string"){if(a==="RANDOM")return Math.floor(16777216*Math.random());if(a==="DEFAULT")return 0;a=o[a]||parseInt(a.replace("#",""),16)}else Array.isArray(a)&&(a=(a[0]<<16)+(a[1]<<8)+a[2]);if(a<0||a>16777215)throw new c("COLOR_RANGE");if(a&&isNaN(a))throw new r("COLOR_CONVERT");return a}static discordSort(a){return a.sorted((m,p)=>m.rawPosition-p.rawPosition||parseInt(p.id.slice(0,-10))-parseInt(m.id.slice(0,-10))||parseInt(p.id.slice(10))-parseInt(m.id.slice(10)))}static setPosition(a,m,p,f,A,_){let E=f.array();return d.moveElementInArray(E,a,m,p),E=E.map((y,T)=>({id:y.id,position:T})),A.patch({data:E,reason:_}).then(()=>E)}static basename(a,m){let p=l(a);return m&&p.ext.startsWith(m)?p.name:p.base.split("?")[0]}static idToBinary(a){let m="",p=parseInt(a.slice(0,-10))||0,f=parseInt(a.slice(-10));for(;f>0||p>0;)m=String(1&f)+m,f=Math.floor(f/2),p>0&&(f+=p%2*5e9,p=Math.floor(p/2));return m}static binaryToID(a){let m="";for(;a.length>50;){const p=parseInt(a.slice(0,-32),2),f=parseInt((p%10).toString(2)+a.slice(-32),2);m=(f%10).toString()+m,a=Math.floor(p/10).toString(2)+Math.floor(f/10).toString(2).padStart(32,"0")}for(a=parseInt(a,2);a>0;)m=(a%10).toString()+m,a=Math.floor(a/10);return m}static removeMentions(a){return a.replace(/@/g,"@\u200B")}static cleanContent(a,m){return a=a.replace(/<@!?[0-9]+>/g,p=>{const f=p.replace(/<|!|>|@/g,"");if(m.channel.type==="dm"){const _=m.client.users.cache.get(f);return _?`@${_.username}`:p}const A=m.channel.guild.members.cache.get(f);if(A)return`@${A.displayName}`;{const _=m.client.users.cache.get(f);return _?`@${_.username}`:p}}).replace(/<#[0-9]+>/g,p=>{const f=m.client.channels.cache.get(p.replace(/<|#|>/g,""));return f?`#${f.name}`:p}).replace(/<@&[0-9]+>/g,p=>{if(m.channel.type==="dm")return p;const f=m.guild.roles.cache.get(p.replace(/<|@|>|&/g,""));return f?`@${f.name}`:p}),m.client.options.disableMentions==="everyone"&&(a=a.replace(/@([^<>@ ]*)/gmus,(p,f)=>f.match(/^[&!]?\d+$/)?`@${f}`:`@\u200B${f}`)),m.client.options.disableMentions==="all"?d.removeMentions(a):a}static cleanCodeBlockContent(a){return a.replace(/```/g,"`\u200B``")}static delayFor(a){return new Promise(m=>{setTimeout(m,a)})}}u.exports=d},function(u,g,e){"use strict";const l=e(4);u.exports=class{constructor(o){Object.defineProperty(this,"client",{value:o})}_clone(){return Object.assign(Object.create(this),this)}_patch(o){return o}_update(o){const t=this._clone();return this._patch(o),t}toJSON(...o){return l.flatten(this,...o)}valueOf(){return this.id}}},function(u,g,e){"use strict";const l=e(2);let n;u.exports=class{constructor(t,i,s,c=l,...r){if(n||(n=e(18)),Object.defineProperty(this,"holds",{value:n.get(s.name)||s}),Object.defineProperty(this,"client",{value:t}),this.cacheType=c,this.cache=new c(...r),i)for(const h of i)this.add(h)}add(t,i=!0,{id:s,extras:c=[]}={}){const r=this.cache.get(s||t.id);if(r&&r._patch&&i&&r._patch(t),r)return r;const h=this.holds?new this.holds(this.client,t,...c):t;return i&&this.cache.set(s||h.id,h),h}resolve(t){return t instanceof this.holds?t:typeof t=="string"&&this.cache.get(t)||null}resolveID(t){return t instanceof this.holds?t.id:typeof t=="string"?t:null}valueOf(){return this.cache}}},function(u,g,e){"use strict";const l=e(4);let n=0;u.exports=class{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static generate(t=Date.now()){if(t instanceof Date&&(t=t.getTime()),typeof t!="number"||isNaN(t))throw new TypeError(`"timestamp" argument must be a number (received ${isNaN(t)?"NaN":typeof t})`);n>=4095&&(n=0);const i=`${(t-14200704e5).toString(2).padStart(42,"0")}0000100000${(n++).toString(2).padStart(12,"0")}`;return l.binaryToID(i)}static deconstruct(t){const i=l.idToBinary(t).toString(2).padStart(64,"0"),s={timestamp:parseInt(i.substring(0,42),2)+14200704e5,workerID:parseInt(i.substring(42,47),2),processID:parseInt(i.substring(47,52),2),increment:parseInt(i.substring(52,64),2),binary:i};return Object.defineProperty(s,"date",{get:function(){return new Date(this.timestamp)},enumerable:!0}),s}}},function(u,g,e){"use strict";const l=e(14);class n extends l{any(o,t=!0){return t&&super.has(this.constructor.FLAGS.ADMINISTRATOR)||super.any(o)}has(o,t=!0){return t&&super.has(this.constructor.FLAGS.ADMINISTRATOR)||super.has(o)}}n.FLAGS={CREATE_INSTANT_INVITE:1,KICK_MEMBERS:2,BAN_MEMBERS:4,ADMINISTRATOR:8,MANAGE_CHANNELS:16,MANAGE_GUILD:32,ADD_REACTIONS:64,VIEW_AUDIT_LOG:128,PRIORITY_SPEAKER:256,STREAM:512,VIEW_CHANNEL:1024,SEND_MESSAGES:2048,SEND_TTS_MESSAGES:4096,MANAGE_MESSAGES:8192,EMBED_LINKS:16384,ATTACH_FILES:32768,READ_MESSAGE_HISTORY:65536,MENTION_EVERYONE:1<<17,USE_EXTERNAL_EMOJIS:1<<18,VIEW_GUILD_INSIGHTS:1<<19,CONNECT:1<<20,SPEAK:1<<21,MUTE_MEMBERS:1<<22,DEAFEN_MEMBERS:1<<23,MOVE_MEMBERS:1<<24,USE_VAD:1<<25,CHANGE_NICKNAME:1<<26,MANAGE_NICKNAMES:1<<27,MANAGE_ROLES:1<<28,MANAGE_WEBHOOKS:1<<29,MANAGE_EMOJIS:1<<30},n.ALL=Object.values(n.FLAGS).reduce((o,t)=>o|t,0),n.DEFAULT=104324673,u.exports=n},function(u,g,e){"use strict";const l=e(29),n=e(29),o=e(30),{Error:t,TypeError:i}=e(3),{browser:s}=e(0),c=e(4);class r{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static resolveInviteCode(h){const d=/discord(?:app\.com\/invite|\.gg(?:\/invite)?)\/([\w-]{2,255})/i.exec(h);return d&&d[1]?d[1]:h}static async resolveImage(h){if(!h)return null;if(typeof h=="string"&&h.startsWith("data:"))return h;const d=await this.resolveFile(h);return r.resolveBase64(d)}static resolveBase64(h){return Buffer.isBuffer(h)?`data:image/jpg;base64,${h.toString("base64")}`:h}static resolveFile(h){if(!s&&Buffer.isBuffer(h))return Promise.resolve(h);if(s&&h instanceof ArrayBuffer)return Promise.resolve(c.convertToBuffer(h));if(typeof h=="string"){if(/^https?:\/\//.test(h))return o(h).then(d=>s?d.blob():d.buffer());if(!s)return new Promise((d,a)=>{const m=s?h:n.resolve(h);l.stat(m,(p,f)=>p?a(p):f.isFile()?(l.readFile(m,(A,_)=>{A?a(A):d(_)}),null):a(new t("FILE_NOT_FOUND",m)))})}else if(typeof h.pipe=="function")return new Promise((d,a)=>{const m=[];h.once("error",a),h.on("data",p=>m.push(p)),h.once("end",()=>d(Buffer.concat(m)))});return Promise.reject(new i("REQ_RESOURCE_TYPE"))}}u.exports=r},function(u,g,e){"use strict";const l=e(5),{Presence:n}=e(12),o=e(17),t=e(21),i=e(27),{Error:s}=e(3),c=e(59),r=e(8);class h extends l{constructor(d,a,m){super(d),this.guild=m,a.user&&(this.user=d.users.add(a.user,!0)),this.joinedTimestamp=null,this.lastMessageID=null,this.lastMessageChannelID=null,this.premiumSinceTimestamp=null,this.deleted=!1,this._roles=[],a&&this._patch(a)}_patch(d){d.nick!==void 0&&(this.nickname=d.nick),d.joined_at&&(this.joinedTimestamp=new Date(d.joined_at).getTime()),d.premium_since&&(this.premiumSinceTimestamp=new Date(d.premium_since).getTime()),d.user&&(this.user=this.guild.client.users.add(d.user)),d.roles&&(this._roles=d.roles)}_clone(){const d=super._clone();return d._roles=this._roles.slice(),d}get partial(){return!this.joinedTimestamp}get roles(){return new c(this)}get lastMessage(){const d=this.guild.channels.cache.get(this.lastMessageChannelID);return d&&d.messages.cache.get(this.lastMessageID)||null}get voice(){return this.guild.voiceStates.cache.get(this.id)||new t(this.guild,{user_id:this.id})}get joinedAt(){return this.joinedTimestamp?new Date(this.joinedTimestamp):null}get premiumSince(){return this.premiumSinceTimestamp?new Date(this.premiumSinceTimestamp):null}get presence(){return this.guild.presences.cache.get(this.id)||new n(this.client,{user:{id:this.id},guild:this.guild})}get displayColor(){const d=this.roles.color;return d&&d.color||0}get displayHexColor(){const d=this.roles.color;return d&&d.hexColor||"#000000"}get id(){return this.user.id}get displayName(){return this.nickname||this.user.username}get permissions(){return this.user.id===this.guild.ownerID?new r(r.ALL).freeze():new r(this.roles.cache.map(d=>d.permissions)).freeze()}get manageable(){if(this.user.id===this.guild.ownerID)return!1;if(this.user.id===this.client.user.id)return!1;if(this.client.user.id===this.guild.ownerID)return!0;if(!this.guild.me)throw new s("GUILD_UNCACHED_ME");return this.guild.me.roles.highest.comparePositionTo(this.roles.highest)>0}get kickable(){return this.manageable&&this.guild.me.permissions.has(r.FLAGS.KICK_MEMBERS)}get bannable(){return this.manageable&&this.guild.me.permissions.has(r.FLAGS.BAN_MEMBERS)}permissionsIn(d){if(!(d=this.guild.channels.resolve(d)))throw new s("GUILD_CHANNEL_RESOLVE");return d.memberPermissions(this)}hasPermission(d,{checkAdmin:a=!0,checkOwner:m=!0}={}){return!(!m||this.user.id!==this.guild.ownerID)||this.roles.cache.some(p=>p.permissions.has(d,a))}async edit(d,a){if(d.channel){if(d.channel=this.guild.channels.resolve(d.channel),!d.channel||d.channel.type!=="voice")throw new s("GUILD_VOICE_CHANNEL_RESOLVE");d.channel_id=d.channel.id,d.channel=void 0}else d.channel===null&&(d.channel_id=null,d.channel=void 0);d.roles&&(d.roles=d.roles.map(f=>f instanceof o?f.id:f));let m=this.client.api.guilds(this.guild.id);if(this.user.id===this.client.user.id){const f=Object.keys(d);m=f.length===1&&f[0]==="nick"?m.members("@me").nick:m.members(this.id)}else m=m.members(this.id);await m.patch({data:d,reason:a});const p=this._clone();return d.user=this.user,p._patch(d),p}setNickname(d,a){return this.edit({nick:d},a)}createDM(){return this.user.createDM()}deleteDM(){return this.user.deleteDM()}kick(d){return this.client.api.guilds(this.guild.id).members(this.user.id).delete({reason:d}).then(()=>this)}ban(d){return this.guild.members.ban(this,d)}fetch(){return this.guild.members.fetch(this.id,!0)}toString(){return`<@${this.nickname?"!":""}${this.user.id}>`}toJSON(){return super.toJSON({guild:"guildID",user:"userID",displayName:!0,speaking:!1,lastMessage:!1,lastMessageID:!1,roles:!0})}send(){}}i.applyToClass(h),u.exports=h},function(u,g,e){"use strict";const l=e(26),n=e(13),{WebhookTypes:o}=e(0),t=e(9),i=e(7);class s{constructor(c,r){Object.defineProperty(this,"client",{value:c}),r&&this._patch(r)}_patch(c){this.name=c.name,Object.defineProperty(this,"token",{value:c.token||null,writable:!0,configurable:!0}),this.avatar=c.avatar,this.id=c.id,this.type=o[c.type],this.guildID=c.guild_id,this.channelID=c.channel_id,c.user?this.owner=this.client.users?this.client.users.cache.get(c.user.id):c.user:this.owner=null}async send(c,r){let h;if(c instanceof l)h=c.resolveData();else if(h=l.create(this,c,r).resolveData(),Array.isArray(h.data.content))return Promise.all(h.split().map(this.send.bind(this)));const{data:d,files:a}=await h.resolveFiles();return this.client.api.webhooks(this.id,this.token).post({data:d,files:a,query:{wait:!0},auth:!1}).then(m=>{const p=this.client.channels?this.client.channels.cache.get(m.channel_id):void 0;return p?p.messages.add(m,!1):m})}sendSlackMessage(c){return this.client.api.webhooks(this.id,this.token).slack.post({query:{wait:!0},auth:!1,data:c}).then(r=>r.toString()==="ok")}async edit({name:c=this.name,avatar:r,channel:h},d){r&&typeof r=="string"&&!r.startsWith("data:")&&(r=await t.resolveImage(r)),h&&(h=h instanceof n?h.id:h);const a=await this.client.api.webhooks(this.id,h?void 0:this.token).patch({data:{name:c,avatar:r,channel_id:h},reason:d});return this.name=a.name,this.avatar=a.avatar,this.channelID=a.channel_id,this}delete(c){return this.client.api.webhooks(this.id,this.token).delete({reason:c})}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get url(){return this.client.options.http.api+this.client.api.webhooks(this.id,this.token)}avatarURL({format:c,size:r}={}){return this.avatar?this.client.rest.cdn.Avatar(this.id,this.avatar,c,r):null}static applyToClass(c){for(const r of["send","sendSlackMessage","edit","delete","createdTimestamp","createdAt","url"])Object.defineProperty(c.prototype,r,Object.getOwnPropertyDescriptor(s.prototype,r))}}u.exports=s},function(u,g,e){"use strict";const l=e(25),n=e(57),{ActivityTypes:o}=e(0),t=e(4);class i{constructor(c,r){Object.defineProperty(this,"presence",{value:c}),this.name=r.name,this.type=o[r.type],this.url=r.url||null,this.details=r.details||null,this.state=r.state||null,this.applicationID=r.application_id||null,this.timestamps=r.timestamps?{start:r.timestamps.start?new Date(Number(r.timestamps.start)):null,end:r.timestamps.end?new Date(Number(r.timestamps.end)):null}:null,this.party=r.party||null,this.assets=r.assets?new s(this,r.assets):null,this.syncID=r.sync_id,this.flags=new n(r.flags).freeze(),this.emoji=r.emoji?new l(c.client,r.emoji):null,this.createdTimestamp=new Date(r.created_at).getTime()}equals(c){return this===c||c&&this.name===c.name&&this.type===c.type&&this.url===c.url}get createdAt(){return new Date(this.createdTimestamp)}toString(){return this.name}_clone(){return Object.assign(Object.create(this),this)}}class s{constructor(c,r){Object.defineProperty(this,"activity",{value:c}),this.largeText=r.large_text||null,this.smallText=r.small_text||null,this.largeImage=r.large_image||null,this.smallImage=r.small_image||null}smallImageURL({format:c,size:r}={}){return this.smallImage?this.activity.presence.client.rest.cdn.AppAsset(this.activity.applicationID,this.smallImage,{format:c,size:r}):null}largeImageURL({format:c,size:r}={}){return this.largeImage?/^spotify:/.test(this.largeImage)?`https://i.scdn.co/image/${this.largeImage.slice(8)}`:/^twitch:/.test(this.largeImage)?`https://static-cdn.jtvnw.net/previews-ttv/live_user_${this.largeImage.slice(7)}.png`:this.activity.presence.client.rest.cdn.AppAsset(this.activity.applicationID,this.largeImage,{format:c,size:r}):null}}g.Presence=class{constructor(r,h={}){Object.defineProperty(this,"client",{value:r}),this.userID=h.user.id,this.guild=h.guild||null,this.patch(h)}get user(){return this.client.users.cache.get(this.userID)||null}get member(){return this.guild.members.cache.get(this.userID)||null}patch(r){return this.status=r.status||this.status||"offline",r.activities?this.activities=r.activities.map(h=>new i(this,h)):r.activity||r.game?this.activities=[new i(this,r.game||r.activity)]:this.activities=[],this.clientStatus=r.client_status||null,this}_clone(){const r=Object.assign(Object.create(this),this);return this.activities&&(r.activities=this.activities.map(h=>h._clone())),r}equals(r){return this===r||r&&this.status===r.status&&this.activities.length===r.activities.length&&this.activities.every((h,d)=>h.equals(r.activities[d]))&&this.clientStatus.web===r.clientStatus.web&&this.clientStatus.mobile===r.clientStatus.mobile&&this.clientStatus.desktop===r.clientStatus.desktop}toJSON(){return t.flatten(this)}},g.Activity=i,g.RichPresenceAssets=s},function(u,g,e){"use strict";const l=e(5),{ChannelTypes:n}=e(0),o=e(7);u.exports=class extends l{constructor(i,s){super(i);const c=Object.keys(n)[s.type];this.type=c?c.toLowerCase():"unknown",this.deleted=!1,s&&this._patch(s)}_patch(i){this.id=i.id}get createdTimestamp(){return o.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}toString(){return`<#${this.id}>`}delete(){return this.client.api.channels(this.id).delete().then(()=>this)}fetch(){return this.client.channels.fetch(this.id,!0)}static create(i,s,c){const r=e(18);let h;if(s.guild_id||c){if(c=c||i.guilds.cache.get(s.guild_id)){switch(s.type){case n.TEXT:h=new(r.get("TextChannel"))(c,s);break;case n.VOICE:h=new(r.get("VoiceChannel"))(c,s);break;case n.CATEGORY:h=new(r.get("CategoryChannel"))(c,s);break;case n.NEWS:h=new(r.get("NewsChannel"))(c,s);break;case n.STORE:h=new(r.get("StoreChannel"))(c,s);break}h&&c.channels.cache.set(h.id,h)}}else s.recipients&&s.type!==n.GROUP||s.type===n.DM?h=new(r.get("DMChannel"))(i,s):s.type===n.GROUP&&(h=new(e(109))(i,s));return h}toJSON(...i){return super.toJSON({createdTimestamp:!0},...i)}}},function(u,g,e){"use strict";const{RangeError:l}=e(3);class n{constructor(o){this.bitfield=this.constructor.resolve(o)}any(o){return(this.bitfield&this.constructor.resolve(o))!=0}equals(o){return this.bitfield===this.constructor.resolve(o)}has(o){return Array.isArray(o)?o.every(t=>this.has(t)):(o=this.constructor.resolve(o),(this.bitfield&o)===o)}missing(o,...t){return Array.isArray(o)||(o=new this.constructor(o).toArray(!1)),o.filter(i=>!this.has(i,...t))}freeze(){return Object.freeze(this)}add(...o){let t=0;for(const i of o)t|=this.constructor.resolve(i);return Object.isFrozen(this)?new this.constructor(this.bitfield|t):(this.bitfield|=t,this)}remove(...o){let t=0;for(const i of o)t|=this.constructor.resolve(i);return Object.isFrozen(this)?new this.constructor(this.bitfield&~t):(this.bitfield&=~t,this)}serialize(...o){const t={};for(const[i,s]of Object.entries(this.constructor.FLAGS))t[i]=this.has(s,...o);return t}toArray(...o){return Object.keys(this.constructor.FLAGS).filter(t=>this.has(t,...o))}toJSON(){return this.bitfield}valueOf(){return this.bitfield}*[Symbol.iterator](){yield*this.toArray()}static resolve(o=0){if(typeof o=="number"&&o>=0)return o;if(o instanceof n)return o.bitfield;if(Array.isArray(o))return o.map(t=>this.resolve(t)).reduce((t,i)=>t|i,0);if(typeof o=="string"&&this.FLAGS[o]!==void 0)return this.FLAGS[o];throw new l("BITFIELD_INVALID")}}n.FLAGS={},u.exports=n},function(u,g,e){"use strict";const l=e(13),n=e(16),o=e(35),t=e(17),{Error:i,TypeError:s}=e(3),c=e(2),r=e(8),h=e(4);u.exports=class extends l{constructor(a,m){super(a.client,m),this.guild=a}_patch(a){if(super._patch(a),this.name=a.name,this.rawPosition=a.position,this.parentID=a.parent_id,this.permissionOverwrites=new c,a.permission_overwrites)for(const m of a.permission_overwrites)this.permissionOverwrites.set(m.id,new o(this,m))}get parent(){return this.guild.channels.cache.get(this.parentID)||null}get permissionsLocked(){return this.parent?this.permissionOverwrites.size===this.parent.permissionOverwrites.size&&this.permissionOverwrites.every((a,m)=>{const p=this.parent.permissionOverwrites.get(m);return p!==void 0&&p.deny.bitfield===a.deny.bitfield&&p.allow.bitfield===a.allow.bitfield}):null}get position(){const a=this.guild._sortedChannels(this);return a.array().indexOf(a.get(this.id))}permissionsFor(a){const m=this.guild.members.resolve(a);if(m)return this.memberPermissions(m);const p=this.guild.roles.resolve(a);return p?this.rolePermissions(p):null}overwritesFor(a,m=!1,p=null){if(m||(a=this.guild.members.resolve(a)),!a)return[];p=p||a.roles.cache;const f=[];let A,_;for(const E of this.permissionOverwrites.values())E.id===this.guild.id?_=E:p.has(E.id)?f.push(E):E.id===a.id&&(A=E);return{everyone:_,roles:f,member:A}}memberPermissions(a){if(a.id===this.guild.ownerID)return new r(r.ALL).freeze();const m=a.roles.cache,p=new r(m.map(A=>A.permissions));if(p.has(r.FLAGS.ADMINISTRATOR))return new r(r.ALL).freeze();const f=this.overwritesFor(a,!0,m);return p.remove(f.everyone?f.everyone.deny:0).add(f.everyone?f.everyone.allow:0).remove(f.roles.length>0?f.roles.map(A=>A.deny):0).add(f.roles.length>0?f.roles.map(A=>A.allow):0).remove(f.member?f.member.deny:0).add(f.member?f.member.allow:0).freeze()}rolePermissions(a){if(a.permissions.has(r.FLAGS.ADMINISTRATOR))return new r(r.ALL).freeze();const m=this.permissionOverwrites.get(this.guild.id),p=this.permissionOverwrites.get(a.id);return a.permissions.remove(m?m.deny:0).add(m?m.allow:0).remove(p?p.deny:0).add(p?p.allow:0).freeze()}overwritePermissions(a,m){return Array.isArray(a)||a instanceof c?this.edit({permissionOverwrites:a,reason:m}).then(()=>this):Promise.reject(new s("INVALID_TYPE","overwrites","Array or Collection of Permission Overwrites",!0))}updateOverwrite(a,m,p){if(!(a=this.guild.roles.resolve(a)||this.client.users.resolve(a)))return Promise.reject(new s("INVALID_TYPE","parameter","User nor a Role",!0));const f=this.permissionOverwrites.get(a.id);return f?f.update(m,p).then(()=>this):this.createOverwrite(a,m,p)}createOverwrite(a,m,p){if(!(a=this.guild.roles.resolve(a)||this.client.users.resolve(a)))return Promise.reject(new s("INVALID_TYPE","parameter","User nor a Role",!0));const f=a instanceof t?"role":"member",{allow:A,deny:_}=o.resolveOverwriteOptions(m);return this.client.api.channels(this.id).permissions[a.id].put({data:{id:a.id,type:f,allow:A.bitfield,deny:_.bitfield},reason:p}).then(()=>this)}lockPermissions(){if(!this.parent)return Promise.reject(new i("GUILD_CHANNEL_ORPHAN"));const a=this.parent.permissionOverwrites.map(m=>m.toJSON());return this.edit({permissionOverwrites:a})}get members(){const a=new c;for(const m of this.guild.members.cache.values())this.permissionsFor(m).has("VIEW_CHANNEL",!1)&&a.set(m.id,m);return a}async edit(a,m){a.position!==void 0&&await h.setPosition(this,a.position,!1,this.guild._sortedChannels(this),this.client.api.guilds(this.guild.id).channels,m).then(_=>{this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.guild.id,channels:_})});const p=a.permissionOverwrites&&a.permissionOverwrites.map(_=>o.resolve(_,this.guild)),f=await this.client.api.channels(this.id).patch({data:{name:(a.name||this.name).trim(),topic:a.topic,nsfw:a.nsfw,bitrate:a.bitrate||this.bitrate,user_limit:a.userLimit!==void 0?a.userLimit:this.userLimit,parent_id:a.parentID,lock_permissions:a.lockPermissions,rate_limit_per_user:a.rateLimitPerUser,permission_overwrites:p},reason:m}),A=this._clone();return A._patch(f),A}setName(a,m){return this.edit({name:a},m)}setParent(a,{lockPermissions:m=!0,reason:p}={}){return this.edit({parentID:a!==null?a.hasOwnProperty("id")?a.id:a:null,lockPermissions:m},p)}setTopic(a,m){return this.edit({topic:a},m)}setPosition(a,{relative:m,reason:p}={}){return h.setPosition(this,a,m,this.guild._sortedChannels(this),this.client.api.guilds(this.guild.id).channels,p).then(f=>(this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.guild.id,channels:f}),this))}createInvite({temporary:a=!1,maxAge:m=86400,maxUses:p=0,unique:f,reason:A}={}){return this.client.api.channels(this.id).invites.post({data:{temporary:a,max_age:m,max_uses:p,unique:f},reason:A}).then(_=>new n(this.client,_))}async fetchInvites(){const a=await this.client.api.channels(this.id).invites.get(),m=new c;for(const p of a){const f=new n(this.client,p);m.set(f.code,f)}return m}clone(a={}){return h.mergeDefault({name:this.name,permissionOverwrites:this.permissionOverwrites,topic:this.topic,type:this.type,nsfw:this.nsfw,parent:this.parent,bitrate:this.bitrate,userLimit:this.userLimit,rateLimitPerUser:this.rateLimitPerUser,reason:null},a),this.guild.channels.create(a.name,a)}equals(a){let m=a&&this.id===a.id&&this.type===a.type&&this.topic===a.topic&&this.position===a.position&&this.name===a.name;return m&&(m=this.permissionOverwrites&&a.permissionOverwrites?this.permissionOverwrites.equals(a.permissionOverwrites):!this.permissionOverwrites&&!a.permissionOverwrites),m}get deletable(){return this.permissionsFor(this.client.user).has(r.FLAGS.MANAGE_CHANNELS,!1)}get manageable(){if(this.client.user.id===this.guild.ownerID)return!0;if(this.type==="voice"){if(!this.permissionsFor(this.client.user).has(r.FLAGS.CONNECT,!1))return!1}else if(!this.viewable)return!1;return this.permissionsFor(this.client.user).has(r.FLAGS.MANAGE_CHANNELS,!1)}get viewable(){if(this.client.user.id===this.guild.ownerID)return!0;const a=this.permissionsFor(this.client.user);return!!a&&a.has(r.FLAGS.VIEW_CHANNEL,!1)}delete(a){return this.client.api.channels(this.id).delete({reason:a}).then(()=>this)}}},function(u,g,e){"use strict";const l=e(5),{Endpoints:n}=e(0),o=e(8);u.exports=class extends l{constructor(i,s){super(i),this._patch(s)}_patch(i){this.guild=i.guild?this.client.guilds.add(i.guild,!1):null,this.code=i.code,this.presenceCount="approximate_presence_count"in i?i.approximate_presence_count:null,this.memberCount="approximate_member_count"in i?i.approximate_member_count:null,this.temporary="temporary"in i?i.temporary:null,this.maxAge="max_age"in i?i.max_age:null,this.uses="uses"in i?i.uses:null,this.maxUses="max_uses"in i?i.max_uses:null,this.inviter=i.inviter?this.client.users.add(i.inviter):null,this.targetUser=i.target_user?this.client.users.add(i.target_user):null,this.targetUserType=typeof i.target_user_type=="number"?i.target_user_type:null,this.channel=this.client.channels.add(i.channel,this.guild,!1),this.createdTimestamp="created_at"in i?new Date(i.created_at).getTime():null}get createdAt(){return this.createdTimestamp?new Date(this.createdTimestamp):null}get deletable(){const i=this.guild;if(!i||!this.client.guilds.cache.has(i.id))return!1;if(!i.me)throw new Error("GUILD_UNCACHED_ME");return this.channel.permissionsFor(this.client.user).has(o.FLAGS.MANAGE_CHANNELS,!1)||i.me.permissions.has(o.FLAGS.MANAGE_GUILD)}get expiresTimestamp(){return this.createdTimestamp&&this.maxAge?this.createdTimestamp+1e3*this.maxAge:null}get expiresAt(){const{expiresTimestamp:i}=this;return i?new Date(i):null}get url(){return n.invite(this.client.options.http.invite,this.code)}delete(i){return this.client.api.invites[this.code].delete({reason:i}).then(()=>this)}toString(){return this.url}toJSON(){return super.toJSON({url:!0,expiresTimestamp:!0,presenceCount:!1,memberCount:!1,uses:!1,channel:"channelID",inviter:"inviterID",guild:"guildID"})}valueOf(){return this.code}}},function(u,g,e){"use strict";const l=e(5),{Error:n,TypeError:o}=e(3),t=e(8),i=e(7),s=e(4);u.exports=class extends l{constructor(r,h,d){super(r),this.guild=d,h&&this._patch(h)}_patch(r){this.id=r.id,this.name=r.name,this.color=r.color,this.hoist=r.hoist,this.rawPosition=r.position,this.permissions=new t(r.permissions).freeze(),this.managed=r.managed,this.mentionable=r.mentionable,this.deleted=!1}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get hexColor(){return`#${this.color.toString(16).padStart(6,"0")}`}get members(){return this.guild.members.cache.filter(r=>r.roles.cache.has(this.id))}get editable(){if(this.managed)return!1;const r=this.guild.member(this.client.user);return!!r.permissions.has(t.FLAGS.MANAGE_ROLES)&&r.roles.highest.comparePositionTo(this)>0}get position(){const r=this.guild._sortedRoles();return r.array().indexOf(r.get(this.id))}comparePositionTo(r){if(!(r=this.guild.roles.resolve(r)))throw new o("INVALID_TYPE","role","Role nor a Snowflake");return this.constructor.comparePositions(this,r)}async edit(r,h){return r.permissions!==void 0?r.permissions=t.resolve(r.permissions):r.permissions=this.permissions.bitfield,r.position!==void 0&&await s.setPosition(this,r.position,!1,this.guild._sortedRoles(),this.client.api.guilds(this.guild.id).roles,h).then(d=>{this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.guild.id,roles:d})}),this.client.api.guilds[this.guild.id].roles[this.id].patch({data:{name:r.name||this.name,color:r.color!==null?s.resolveColor(r.color||this.color):null,hoist:r.hoist!==void 0?r.hoist:this.hoist,permissions:r.permissions,mentionable:r.mentionable!==void 0?r.mentionable:this.mentionable},reason:h}).then(d=>{const a=this._clone();return a._patch(d),a})}permissionsIn(r){if(!(r=this.guild.channels.resolve(r)))throw new n("GUILD_CHANNEL_RESOLVE");return r.rolePermissions(this)}setName(r,h){return this.edit({name:r},h)}setColor(r,h){return this.edit({color:r},h)}setHoist(r,h){return this.edit({hoist:r},h)}setPermissions(r,h){return this.edit({permissions:r},h)}setMentionable(r,h){return this.edit({mentionable:r},h)}setPosition(r,{relative:h,reason:d}={}){return s.setPosition(this,r,h,this.guild._sortedRoles(),this.client.api.guilds(this.guild.id).roles,d).then(a=>(this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.guild.id,roles:a}),this))}delete(r){return this.client.api.guilds[this.guild.id].roles[this.id].delete({reason:r}).then(()=>(this.client.actions.GuildRoleDelete.handle({guild_id:this.guild.id,role_id:this.id}),this))}equals(r){return r&&this.id===r.id&&this.name===r.name&&this.color===r.color&&this.hoist===r.hoist&&this.position===r.position&&this.permissions.bitfield===r.permissions.bitfield&&this.managed===r.managed}toString(){return this.id===this.guild.id?"@everyone":`<@&${this.id}>`}toJSON(){return super.toJSON({createdTimestamp:!0})}static comparePositions(r,h){return r.position===h.position?h.id-r.id:r.position-h.position}}},function(u,g,e){"use strict";const l={GuildEmoji:e(19),DMChannel:e(32),TextChannel:e(34),VoiceChannel:e(65),CategoryChannel:e(66),NewsChannel:e(67),StoreChannel:e(68),GuildMember:e(10),Guild:e(44),Message:e(22),MessageReaction:e(42),Presence:e(12).Presence,ClientPresence:e(75),VoiceState:e(21),Role:e(17),User:e(20)};u.exports=class{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static get(o){if(typeof o=="string")return l[o];throw new TypeError(`"structure" argument must be a string (received ${typeof o})`)}static extend(o,t){if(!l[o])throw new RangeError(`"${o}" is not a valid extensible structure.`);if(typeof t!="function")throw new TypeError(`"extender" argument must be a function that returns the extended structure class/prototype ${`(received ${typeof t})`}.`);const i=t(l[o]);if(typeof i!="function")throw new TypeError(`The extender function must return the extended structure class/prototype ${`(received ${typeof i})`}.`);if(!(i.prototype instanceof l[o])){const s=Object.getPrototypeOf(i),c=`${i.name||"unnamed"}${s.name?` extends ${s.name}`:""}`;throw new Error(`The class/prototype returned from the extender function must extend the existing structure class/prototype (received function ${c}; expected extension of ${l[o].name}).`)}return l[o]=i,i}}},function(u,g,e){"use strict";const l=e(33),{Error:n}=e(3),o=e(56),t=e(8);class i extends l{_clone(){const s=super._clone();return s._roles=this._roles.slice(),s}get deletable(){if(!this.guild.me)throw new n("GUILD_UNCACHED_ME");return!this.managed&&this.guild.me.hasPermission(t.FLAGS.MANAGE_EMOJIS)}get roles(){return new o(this)}fetchAuthor(){return this.managed?Promise.reject(new n("EMOJI_MANAGED")):this.guild.me?this.guild.me.permissions.has(t.FLAGS.MANAGE_EMOJIS)?this.client.api.guilds(this.guild.id).emojis(this.id).get().then(s=>this.client.users.add(s.user)):Promise.reject(new n("MISSING_MANAGE_EMOJIS_PERMISSION",this.guild)):Promise.reject(new n("GUILD_UNCACHED_ME"))}edit(s,c){const r=s.roles?s.roles.map(h=>h.id||h):void 0;return this.client.api.guilds(this.guild.id).emojis(this.id).patch({data:{name:s.name,roles:r},reason:c}).then(h=>{const d=this._clone();return d._patch(h),d})}setName(s,c){return this.edit({name:s},c)}delete(s){return this.client.api.guilds(this.guild.id).emojis(this.id).delete({reason:s}).then(()=>this)}equals(s){return s instanceof i?s.id===this.id&&s.name===this.name&&s.managed===this.managed&&s.requiresColons===this.requiresColons&&s.roles.cache.size===this.roles.cache.size&&s.roles.cache.every(c=>this.roles.cache.has(c.id)):s.id===this.id&&s.name===this.name&&s.roles.length===this.roles.cache.size&&s.roles.every(c=>this.roles.cache.has(c))}}u.exports=i},function(u,g,e){"use strict";const l=e(5),{Presence:n}=e(12),o=e(27),{Error:t}=e(3),i=e(7);class s extends l{constructor(c,r){super(c),this.id=r.id,this.bot=Boolean(r.bot),this._patch(r)}_patch(c){c.username&&(this.username=c.username),c.discriminator&&(this.discriminator=c.discriminator),c.avatar!==void 0&&(this.avatar=c.avatar),c.bot!==void 0&&(this.bot=Boolean(c.bot)),c.system!==void 0&&(this.system=Boolean(c.system)),c.locale&&(this.locale=c.locale),this.lastMessageID=null,this.lastMessageChannelID=null}get partial(){return typeof this.username!="string"}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get lastMessage(){const c=this.client.channels.cache.get(this.lastMessageChannelID);return c&&c.messages.cache.get(this.lastMessageID)||null}get presence(){for(const c of this.client.guilds.cache.values())if(c.presences.cache.has(this.id))return c.presences.cache.get(this.id);return new n(this.client,{user:{id:this.id}})}avatarURL({format:c,size:r,dynamic:h}={}){return this.avatar?this.client.rest.cdn.Avatar(this.id,this.avatar,c,r,h):null}get defaultAvatarURL(){return this.client.rest.cdn.DefaultAvatar(this.discriminator%5)}displayAvatarURL(c){return this.avatarURL(c)||this.defaultAvatarURL}get tag(){return typeof this.username=="string"?`${this.username}#${this.discriminator}`:null}typingIn(c){return(c=this.client.channels.resolve(c))._typing.has(this.id)}typingSinceIn(c){return(c=this.client.channels.resolve(c))._typing.has(this.id)?new Date(c._typing.get(this.id).since):null}typingDurationIn(c){return(c=this.client.channels.resolve(c))._typing.has(this.id)?c._typing.get(this.id).elapsedTime:-1}get dmChannel(){return this.client.channels.cache.find(c=>c.type==="dm"&&c.recipient.id===this.id)||null}async createDM(){const{dmChannel:c}=this;if(c&&!c.partial)return c;const r=await this.client.api.users(this.client.user.id).channels.post({data:{recipient_id:this.id}});return this.client.actions.ChannelCreate.handle(r).channel}async deleteDM(){const{dmChannel:c}=this;if(!c)throw new t("USER_NO_DMCHANNEL");const r=await this.client.api.channels(c.id).delete();return this.client.actions.ChannelDelete.handle(r).channel}equals(c){return c&&this.id===c.id&&this.username===c.username&&this.discriminator===c.discriminator&&this.avatar===c.avatar}fetch(){return this.client.users.fetch(this.id,!0)}toString(){return`<@${this.id}>`}toJSON(...c){const r=super.toJSON({createdTimestamp:!0,defaultAvatarURL:!0,tag:!0,lastMessage:!1,lastMessageID:!1},...c);return r.avatarURL=this.avatarURL(),r.displayAvatarURL=this.displayAvatarURL(),r}send(){}}o.applyToClass(s),u.exports=s},function(u,g,e){"use strict";const l=e(5),{Error:n,TypeError:o}=e(3),{browser:t}=e(0);u.exports=class extends l{constructor(s,c){super(s.client),this.guild=s,this.id=c.user_id,this._patch(c)}_patch(s){return this.serverDeaf=s.deaf,this.serverMute=s.mute,this.selfDeaf=s.self_deaf,this.selfMute=s.self_mute,this.sessionID=s.session_id,this.streaming=s.self_stream||!1,this.channelID=s.channel_id,this}get member(){return this.guild.members.cache.get(this.id)||null}get channel(){return this.guild.channels.cache.get(this.channelID)||null}get connection(){return t||this.id!==this.client.user.id?null:this.client.voice.connections.get(this.guild.id)||null}get deaf(){return this.serverDeaf||this.selfDeaf}get mute(){return this.serverMute||this.selfMute}get speaking(){return this.channel&&this.channel.connection?Boolean(this.channel.connection._speaking.get(this.id)):null}setMute(s,c){return this.member?this.member.edit({mute:s},c):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}setDeaf(s,c){return this.member?this.member.edit({deaf:s},c):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}kick(s){return this.setChannel(null,s)}setChannel(s,c){return this.member?this.member.edit({channel:s},c):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}async setSelfMute(s){if(this.id!==this.client.user.id)throw new n("VOICE_STATE_NOT_OWN");if(typeof s!="boolean")throw new o("VOICE_STATE_INVALID_TYPE","mute");return!!this.connection&&(this.selfMute=s,await this.connection.sendVoiceStateUpdate(),!0)}async setSelfDeaf(s){return this.id!==this.client.user.id?new n("VOICE_STATE_NOT_OWN"):typeof s!="boolean"?new o("VOICE_STATE_INVALID_TYPE","deaf"):!!this.connection&&(this.selfDeaf=s,await this.connection.sendVoiceStateUpdate(),!0)}toJSON(){return super.toJSON({id:!0,serverDeaf:!0,serverMute:!0,selfDeaf:!0,selfMute:!0,sessionID:!0,channelID:"channel"})}}},function(u,g,e){"use strict";const l=e(26),n=e(5),o=e(41),t=e(36),i=e(37),s=e(62),c=e(63),{Error:r,TypeError:h}=e(3),d=e(105),a=e(2),{MessageTypes:m}=e(0),p=e(38),f=e(8),A=e(4);u.exports=class extends n{constructor(E,y,T){super(E),this.channel=T,this.deleted=!1,y&&this._patch(y)}_patch(E){if(this.id=E.id,this.type=m[E.type],this.content=E.content,this.author=E.author?this.client.users.add(E.author,!E.webhook_id):null,this.pinned=E.pinned,this.tts=E.tts,this.nonce=E.nonce,this.system=E.type!==0,this.embeds=(E.embeds||[]).map(y=>new i(y,!0)),this.attachments=new a,E.attachments)for(const y of E.attachments)this.attachments.set(y.id,new t(y.url,y.filename,y));if(this.createdTimestamp=new Date(E.timestamp).getTime(),this.editedTimestamp=E.edited_timestamp?new Date(E.edited_timestamp).getTime():null,this.reactions=new d(this),E.reactions&&E.reactions.length>0)for(const y of E.reactions)this.reactions.add(y);this.mentions=new s(this,E.mentions,E.mention_roles,E.mention_everyone,E.mention_channels),this.webhookID=E.webhook_id||null,this.application=E.application?new o(this.client,E.application):null,this.activity=E.activity?{partyID:E.activity.party_id,type:E.activity.type}:null,this._edits=[],this.member&&E.member?this.member._patch(E.member):E.member&&this.guild&&this.author&&this.guild.members.add(Object.assign(E.member,{user:this.author})),this.flags=new p(E.flags).freeze(),this.reference=E.message_reference?{channelID:E.message_reference.channel_id,guildID:E.message_reference.guild_id,messageID:E.message_reference.message_id}:null}get partial(){return typeof this.content!="string"||!this.author}patch(E){const y=this._clone();if(this._edits.unshift(y),"edited_timestamp"in E&&(this.editedTimestamp=new Date(E.edited_timestamp).getTime()),"content"in E&&(this.content=E.content),"pinned"in E&&(this.pinned=E.pinned),"tts"in E&&(this.tts=E.tts),this.embeds="embeds"in E?E.embeds.map(T=>new i(T,!0)):this.embeds.slice(),"attachments"in E){this.attachments=new a;for(const T of E.attachments)this.attachments.set(T.id,new t(T.url,T.filename,T))}else this.attachments=new a(this.attachments);this.mentions=new s(this,"mentions"in E?E.mentions:this.mentions.users,"mentions_roles"in E?E.mentions_roles:this.mentions.roles,"mention_everyone"in E?E.mention_everyone:this.mentions.everyone,"mention_channels"in E?E.mention_channels:this.mentions.crosspostedChannels),this.flags=new p("flags"in E?E.flags:0).freeze()}get member(){return this.guild&&this.guild.member(this.author)||null}get createdAt(){return new Date(this.createdTimestamp)}get editedAt(){return this.editedTimestamp?new Date(this.editedTimestamp):null}get guild(){return this.channel.guild||null}get url(){return`https://discordapp.com/channels/${this.guild?this.guild.id:"@me"}/${this.channel.id}/${this.id}`}get cleanContent(){return this.content!=null?A.cleanContent(this.content,this):null}createReactionCollector(E,y={}){return new c(this,E,y)}awaitReactions(E,y={}){return new Promise((T,N)=>{this.createReactionCollector(E,y).once("end",(S,R)=>{y.errors&&y.errors.includes(R)?N(S):T(S)})})}get edits(){const E=this._edits.slice();return E.unshift(this),E}get editable(){return this.author.id===this.client.user.id}get deletable(){return!this.deleted&&(this.author.id===this.client.user.id||this.guild&&this.channel.permissionsFor(this.client.user).has(f.FLAGS.MANAGE_MESSAGES,!1))}get pinnable(){return this.type==="DEFAULT"&&(!this.guild||this.channel.permissionsFor(this.client.user).has(f.FLAGS.MANAGE_MESSAGES,!1))}edit(E,y){const{data:T}=E instanceof l?E.resolveData():l.create(this,E,y).resolveData();return this.client.api.channels[this.channel.id].messages[this.id].patch({data:T}).then(N=>{const S=this._clone();return S._patch(N),S})}pin(){return this.client.api.channels(this.channel.id).pins(this.id).put().then(()=>this)}unpin(){return this.client.api.channels(this.channel.id).pins(this.id).delete().then(()=>this)}react(E){if(!(E=this.client.emojis.resolveIdentifier(E)))throw new h("EMOJI_TYPE");return this.client.api.channels(this.channel.id).messages(this.id).reactions(E,"@me").put().then(()=>this.client.actions.MessageReactionAdd.handle({user:this.client.user,channel:this.channel,message:this,emoji:A.parseEmoji(E)}).reaction)}delete(E={}){if(typeof E!="object")throw new h("INVALID_TYPE","options","object",!0);const{timeout:y=0,reason:T}=E;return y<=0?this.channel.messages.delete(this.id,T).then(()=>this):new Promise(N=>{this.client.setTimeout(()=>{N(this.delete({reason:T}))},y)})}reply(E,y){return this.channel.send(E instanceof l?E:l.transformOptions(E,y,{reply:this.member||this.author}))}fetch(){return this.channel.messages.fetch(this.id,!0)}fetchWebhook(){return this.webhookID?this.client.fetchWebhook(this.webhookID):Promise.reject(new r("WEBHOOK_MESSAGE"))}suppressEmbeds(E=!0){const y=new p(this.flags.bitfield);return E?y.add(p.FLAGS.SUPPRESS_EMBEDS):y.remove(p.FLAGS.SUPPRESS_EMBEDS),this.edit({flags:y})}equals(E,y){if(!E)return!1;if(!E.author&&!E.attachments)return this.id===E.id&&this.embeds.length===E.embeds.length;let T=this.id===E.id&&this.author.id===E.author.id&&this.content===E.content&&this.tts===E.tts&&this.nonce===E.nonce&&this.embeds.length===E.embeds.length&&this.attachments.length===E.attachments.length;return T&&y&&(T=this.mentions.everyone===E.mentions.everyone&&this.createdTimestamp===new Date(y.timestamp).getTime()&&this.editedTimestamp===new Date(y.edited_timestamp).getTime()),T}toString(){return this.content}toJSON(){return super.toJSON({channel:"channelID",author:"authorID",application:"applicationID",guild:"guildID",cleanContent:!0,member:!1,reactions:!1})}}},function(u,g){var e,l,n=u.exports={};function o(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function i(f){if(e===setTimeout)return setTimeout(f,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(f,0);try{return e(f,0)}catch(A){try{return e.call(null,f,0)}catch(_){return e.call(this,f,0)}}}!function(){try{e=typeof setTimeout=="function"?setTimeout:o}catch(f){e=o}try{l=typeof clearTimeout=="function"?clearTimeout:t}catch(f){l=t}}();var s,c=[],r=!1,h=-1;function d(){r&&s&&(r=!1,s.length?c=s.concat(c):h=-1,c.length&&a())}function a(){if(!r){var f=i(d);r=!0;for(var A=c.length;A;){for(s=c,c=[];++h<A;)s&&s[h].run();h=-1,A=c.length}s=null,r=!1,function(_){if(l===clearTimeout)return clearTimeout(_);if((l===t||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(_);try{l(_)}catch(E){try{return l.call(null,_)}catch(y){return l.call(this,_)}}}(f)}}function m(f,A){this.fun=f,this.array=A}function p(){}n.nextTick=function(f){var A=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)A[_-1]=arguments[_];c.push(new m(f,A)),c.length!==1||r||i(a)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(f){return[]},n.binding=function(f){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(f){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(u,g,e){"use strict";var l,n=typeof Reflect=="object"?Reflect:null,o=n&&typeof n.apply=="function"?n.apply:function(A,_,E){return Function.prototype.apply.call(A,_,E)};l=n&&typeof n.ownKeys=="function"?n.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var t=Number.isNaN||function(A){return A!=A};function i(){i.init.call(this)}u.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function c(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function r(A){return A._maxListeners===void 0?i.defaultMaxListeners:A._maxListeners}function h(A,_,E,y){var T,N,S,R;if(c(E),(N=A._events)===void 0?(N=A._events=Object.create(null),A._eventsCount=0):(N.newListener!==void 0&&(A.emit("newListener",_,E.listener?E.listener:E),N=A._events),S=N[_]),S===void 0)S=N[_]=E,++A._eventsCount;else if(typeof S=="function"?S=N[_]=y?[E,S]:[S,E]:y?S.unshift(E):S.push(E),(T=r(A))>0&&S.length>T&&!S.warned){S.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=A,C.type=_,C.count=S.length,R=C,console&&console.warn&&console.warn(R)}return A}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(A,_,E){var y={fired:!1,wrapFn:void 0,target:A,type:_,listener:E},T=d.bind(y);return T.listener=E,y.wrapFn=T,T}function m(A,_,E){var y=A._events;if(y===void 0)return[];var T=y[_];return T===void 0?[]:typeof T=="function"?E?[T.listener||T]:[T]:E?function(N){for(var S=new Array(N.length),R=0;R<S.length;++R)S[R]=N[R].listener||N[R];return S}(T):f(T,T.length)}function p(A){var _=this._events;if(_!==void 0){var E=_[A];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}function f(A,_){for(var E=new Array(_),y=0;y<_;++y)E[y]=A[y];return E}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(A){if(typeof A!="number"||A<0||t(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");s=A}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||t(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},i.prototype.getMaxListeners=function(){return r(this)},i.prototype.emit=function(A){for(var _=[],E=1;E<arguments.length;E++)_.push(arguments[E]);var y=A==="error",T=this._events;if(T!==void 0)y=y&&T.error===void 0;else if(!y)return!1;if(y){var N;if(_.length>0&&(N=_[0]),N instanceof Error)throw N;var S=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw S.context=N,S}var R=T[A];if(R===void 0)return!1;if(typeof R=="function")o(R,this,_);else{var C=R.length,L=f(R,C);for(E=0;E<C;++E)o(L[E],this,_)}return!0},i.prototype.addListener=function(A,_){return h(this,A,_,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(A,_){return h(this,A,_,!0)},i.prototype.once=function(A,_){return c(_),this.on(A,a(this,A,_)),this},i.prototype.prependOnceListener=function(A,_){return c(_),this.prependListener(A,a(this,A,_)),this},i.prototype.removeListener=function(A,_){var E,y,T,N,S;if(c(_),(y=this._events)===void 0)return this;if((E=y[A])===void 0)return this;if(E===_||E.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete y[A],y.removeListener&&this.emit("removeListener",A,E.listener||_));else if(typeof E!="function"){for(T=-1,N=E.length-1;N>=0;N--)if(E[N]===_||E[N].listener===_){S=E[N].listener,T=N;break}if(T<0)return this;T===0?E.shift():function(R,C){for(;C+1<R.length;C++)R[C]=R[C+1];R.pop()}(E,T),E.length===1&&(y[A]=E[0]),y.removeListener!==void 0&&this.emit("removeListener",A,S||_)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(A){var _,E,y;if((E=this._events)===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[A]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete E[A]),this;if(arguments.length===0){var T,N=Object.keys(E);for(y=0;y<N.length;++y)(T=N[y])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_=E[A])=="function")this.removeListener(A,_);else if(_!==void 0)for(y=_.length-1;y>=0;y--)this.removeListener(A,_[y]);return this},i.prototype.listeners=function(A){return m(this,A,!0)},i.prototype.rawListeners=function(A){return m(this,A,!1)},i.listenerCount=function(A,_){return typeof A.listenerCount=="function"?A.listenerCount(_):p.call(A,_)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]}},function(u,g,e){"use strict";const l=e(5),n=e(7);u.exports=class extends l{constructor(t,i){super(t),this.animated=i.animated,this.name=i.name,this.id=i.id,this.deleted=!1}get identifier(){return this.id?`${this.animated?"a:":""}${this.name}:${this.id}`:encodeURIComponent(this.name)}get url(){return this.id?this.client.rest.cdn.Emoji(this.id,this.animated?"gif":"png"):null}get createdTimestamp(){return this.id?n.deconstruct(this.id).timestamp:null}get createdAt(){return this.id?new Date(this.createdTimestamp):null}toString(){return this.id?`<${this.animated?"a":""}:${this.name}:${this.id}>`:this.name}toJSON(){return super.toJSON({guild:"guildID",createdTimestamp:!0,url:!0,identifier:!0})}}},function(u,g,e){"use strict";const l=e(36),n=e(37),{RangeError:o}=e(3),{browser:t}=e(0),i=e(9),s=e(38),c=e(4);class r{constructor(h,d){this.target=h,this.options=d,this.data=null,this.files=null}get isWebhook(){const h=e(11),d=e(39);return this.target instanceof h||this.target instanceof d}get isUser(){const h=e(20),d=e(10);return this.target instanceof h||this.target instanceof d}get isMessage(){const h=e(22);return this.target instanceof h}makeContent(){const h=e(10);let d;this.options.content===null?d="":this.options.content!==void 0&&(d=c.resolveString(this.options.content));const a=this.options.disableMentions===void 0?this.target.client.options.disableMentions:this.options.disableMentions;a==="all"?d=c.removeMentions(d||""):a==="everyone"&&(d=(d||"").replace(/@([^<>@ ]*)/gmus,(_,E)=>E.match(/^[&!]?\d+$/)?`@${E}`:`@\u200B${E}`));const m=this.options.split!==void 0&&this.options.split!==!1,p=this.options.code!==void 0&&this.options.code!==!1,f=m?{...this.options.split}:void 0;let A="";if(this.options.reply&&!this.isUser&&this.target.type!=="dm"){const _=this.target.client.users.resolveID(this.options.reply);A=`<@${this.options.reply instanceof h&&this.options.reply.nickname?"!":""}${_}>, `,m&&(f.prepend=`${A}${f.prepend||""}`)}if(d||A){if(p){const _=typeof this.options.code=="string"?this.options.code:"";d=`${A}\`\`\`${_}
${c.cleanCodeBlockContent(d||"")}
\`\`\``,m&&(f.prepend=`${f.prepend||""}\`\`\`${_}
`,f.append=`
\`\`\`${f.append||""}`)}else A&&(d=`${A}${d||""}`);m&&(d=c.splitMessage(d||"",f))}return d}resolveData(){if(this.data)return this;const h=this.makeContent(),d=Boolean(this.options.tts);let a;if(this.options.nonce!==void 0&&(a=parseInt(this.options.nonce),isNaN(a)||a<0))throw new o("MESSAGE_NONCE_TYPE");const m=[];this.isWebhook?this.options.embeds&&m.push(...this.options.embeds):this.options.embed&&m.push(this.options.embed);const p=m.map(E=>new n(E).toJSON());let f,A,_;return this.isWebhook&&(f=this.options.username||this.target.name,this.options.avatarURL&&(A=this.options.avatarURL)),this.isMessage&&(_=this.options.flags!=null?new s(this.options.flags).bitfield:this.target.flags.bitfield),this.data={content:h,tts:d,nonce:a,embed:this.options.embed===null?null:p[0],embeds:p,username:f,avatar_url:A,allowed_mentions:this.options.allowedMentions,flags:_},this}async resolveFiles(){if(this.files)return this;const h=[];this.isWebhook?this.options.embeds&&h.push(...this.options.embeds):this.options.embed&&h.push(this.options.embed);const d=[];this.options.files&&d.push(...this.options.files);for(const a of h)a.files&&d.push(...a.files);return this.files=await Promise.all(d.map(a=>this.constructor.resolveFile(a))),this}split(){if(this.data||this.resolveData(),!Array.isArray(this.data.content))return[this];const h=[];for(let d=0;d<this.data.content.length;d++){let a,m;d===this.data.content.length-1?(a={...this.data,content:this.data.content[d]},m={...this.options,content:this.data.content[d]}):(a={content:this.data.content[d],tts:this.data.tts},m={content:this.data.content[d],tts:this.data.tts});const p=new r(this.target,m);p.data=a,h.push(p)}return h}static async resolveFile(h){let d,a;const m=p=>typeof p=="string"?c.basename(p):p.path?c.basename(p.path):"file.jpg";return typeof h=="string"||h instanceof(t?ArrayBuffer:Buffer)||typeof h.pipe=="function"?(d=h,a=m(d)):(d=h.attachment,a=h.name||m(d)),{attachment:d,name:a,file:await i.resolveFile(d)}}static partitionMessageAdditions(h){const d=[],a=[];for(const m of h)m instanceof n?d.push(m):m instanceof l&&a.push(m);return[d,a]}static transformOptions(h,d,a={},m=!1){if(d||typeof h!="object"||Array.isArray(h)||(d=h,h=void 0),d){if(d instanceof n)return m?{content:h,embeds:[d],...a}:{content:h,embed:d,...a};if(d instanceof l)return{content:h,files:[d],...a}}else d={};if(Array.isArray(d)){const[p,f]=this.partitionMessageAdditions(d);return m?{content:h,embeds:p,files:f,...a}:{content:h,embed:p[0],files:f,...a}}if(Array.isArray(h)){const[p,f]=this.partitionMessageAdditions(h);if(p.length||f.length)return m?{embeds:p,files:f,...a}:{embed:p[0],files:f,...a}}return{content:h,...d,...a}}static create(h,d,a,m={}){const p=e(11),f=e(39),A=h instanceof p||h instanceof f;return new this(h,this.transformOptions(d,a,m,A))}}u.exports=r},function(u,g,e){"use strict";const l=e(58),n=e(26),o=e(7),t=e(2),{RangeError:i,TypeError:s}=e(3);class c{constructor(){this.messages=new r(this),this.lastMessageID=null,this.lastPinTimestamp=null}get lastMessage(){return this.messages.cache.get(this.lastMessageID)||null}get lastPinAt(){return this.lastPinTimestamp?new Date(this.lastPinTimestamp):null}async send(h,d){const a=e(20),m=e(10);if(this instanceof a||this instanceof m)return this.createDM().then(_=>_.send(h,d));let p;if(h instanceof n)p=h.resolveData();else if(p=n.create(this,h,d).resolveData(),Array.isArray(p.data.content))return Promise.all(p.split().map(this.send.bind(this)));const{data:f,files:A}=await p.resolveFiles();return this.client.api.channels[this.id].messages.post({data:f,files:A}).then(_=>this.client.actions.MessageCreate.handle(_).message)}startTyping(h){if(h!==void 0&&h<1)throw new i("TYPING_COUNT");if(this.client.user._typing.has(this.id)){const a=this.client.user._typing.get(this.id);return a.count=h||a.count+1,a.promise}const d={};return d.promise=new Promise((a,m)=>{const p=this.client.api.channels[this.id].typing;Object.assign(d,{count:h||1,interval:this.client.setInterval(()=>{p.post().catch(f=>{this.client.clearInterval(d.interval),this.client.user._typing.delete(this.id),m(f)})},9e3),resolve:a}),p.post().catch(f=>{this.client.clearInterval(d.interval),this.client.user._typing.delete(this.id),m(f)}),this.client.user._typing.set(this.id,d)}),d.promise}stopTyping(h=!1){if(this.client.user._typing.has(this.id)){const d=this.client.user._typing.get(this.id);d.count--,(d.count<=0||h)&&(this.client.clearInterval(d.interval),this.client.user._typing.delete(this.id),d.resolve())}}get typing(){return this.client.user._typing.has(this.id)}get typingCount(){return this.client.user._typing.has(this.id)?this.client.user._typing.get(this.id).count:0}createMessageCollector(h,d={}){return new l(this,h,d)}awaitMessages(h,d={}){return new Promise((a,m)=>{this.createMessageCollector(h,d).once("end",(p,f)=>{d.errors&&d.errors.includes(f)?m(p):a(p)})})}async bulkDelete(h,d=!1){if(Array.isArray(h)||h instanceof t){let a=h instanceof t?h.keyArray():h.map(m=>m.id||m);if(d&&(a=a.filter(m=>Date.now()-o.deconstruct(m).date.getTime()<12096e5)),a.length===0)return new t;if(a.length===1){await this.client.api.channels(this.id).messages(a[0]).delete();const m=this.client.actions.MessageDelete.getMessage({message_id:a[0]},this);return m?new t([[m.id,m]]):new t}return await this.client.api.channels[this.id].messages["bulk-delete"].post({data:{messages:a}}),a.reduce((m,p)=>m.set(p,this.client.actions.MessageDeleteBulk.getMessage({message_id:p},this)),new t)}if(!isNaN(h)){const a=await this.messages.fetch({limit:h});return this.bulkDelete(a,d)}throw new s("MESSAGE_BULK_DELETE_TYPE")}static applyToClass(h,d=!1,a=[]){const m=["send"];d&&m.push("lastMessage","lastPinAt","bulkDelete","startTyping","stopTyping","typing","typingCount","createMessageCollector","awaitMessages");for(const p of m)a.includes(p)||Object.defineProperty(h.prototype,p,Object.getOwnPropertyDescriptor(c.prototype,p))}}u.exports=c;const r=e(28)},function(u,g,e){"use strict";const l=e(6),n=e(22),o=e(2),t=e(106);u.exports=class extends l{constructor(s,c){super(s.client,c,n,t,s.client.options.messageCacheMaxSize),this.channel=s}add(s,c){return super.add(s,c,{extras:[this.channel]})}fetch(s,c=!0){return typeof s=="string"?this._fetchId(s,c):this._fetchMany(s,c)}fetchPinned(s=!0){return this.client.api.channels[this.channel.id].pins.get().then(c=>{const r=new o;for(const h of c)r.set(h.id,this.add(h,s));return r})}async delete(s,c){(s=this.resolveID(s))&&await this.client.api.channels(this.channel.id).messages(s).delete({reason:c})}async _fetchId(s,c){const r=this.cache.get(s);if(r&&!r.partial)return r;const h=await this.client.api.channels[this.channel.id].messages[s].get();return this.add(h,c)}async _fetchMany(s={},c){const r=await this.client.api.channels[this.channel.id].messages.get({query:s}),h=new o;for(const d of r)h.set(d.id,this.add(d,c));return h}}},function(u,g){},function(u,g,e){"use strict";var l=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(l!==void 0)return l;throw new Error("unable to locate global object")}();u.exports=g=l.fetch,g.default=l.fetch.bind(l),g.Headers=l.Headers,g.Request=l.Request,g.Response=l.Response},function(u,g,e){"use strict";(function(l,n){e(53);const o=e(24),t=e(86),{DefaultOptions:i}=e(0),s=e(4);u.exports=class extends o{constructor(r={}){super(),this._timeouts=new Set,this._intervals=new Set,this._immediates=new Set,this.options=s.mergeDefault(i,r),this.rest=new t(this,r._tokenType)}get api(){return this.rest.api}destroy(){for(const r of this._timeouts)this.clearTimeout(r);for(const r of this._intervals)this.clearInterval(r);for(const r of this._immediates)this.clearImmediate(r);this._timeouts.clear(),this._intervals.clear(),this._immediates.clear()}setTimeout(r,h,...d){const a=setTimeout(()=>{r(...d),this._timeouts.delete(a)},h);return this._timeouts.add(a),a}clearTimeout(r){clearTimeout(r),this._timeouts.delete(r)}setInterval(r,h,...d){const a=setInterval(r,h,...d);return this._intervals.add(a),a}clearInterval(r){clearInterval(r),this._intervals.delete(r)}setImmediate(r,...h){const d=l(r,...h);return this._immediates.add(d),d}clearImmediate(r){n(r),this._immediates.delete(r)}toJSON(...r){return s.flatten(this,{domain:!1},...r)}}}).call(this,e(51).setImmediate,e(51).clearImmediate)},function(u,g,e){"use strict";const l=e(13),n=e(27),o=e(28);class t extends l{constructor(i,s){super(i,s),this.type="dm",this.messages=new o(this),this._typing=new Map}_patch(i){super._patch(i),i.recipients&&(this.recipient=this.client.users.add(i.recipients[0])),this.lastMessageID=i.last_message_id,this.lastPinTimestamp=i.last_pin_timestamp?new Date(i.last_pin_timestamp).getTime():null}get partial(){return this.lastMessageID===void 0}fetch(){return this.recipient.createDM()}toString(){return this.recipient.toString()}get lastMessage(){}get lastPinAt(){}send(){}startTyping(){}stopTyping(){}get typing(){}get typingCount(){}createMessageCollector(){}awaitMessages(){}}n.applyToClass(t,!0,["bulkDelete"]),u.exports=t},function(u,g,e){"use strict";const l=e(25);u.exports=class extends l{constructor(o,t,i){super(o,t),this.guild=i,Object.defineProperty(this,"_roles",{value:[],writable:!0}),this._patch(t)}_patch(o){o.name&&(this.name=o.name),o.require_colons!==void 0&&(this.requiresColons=o.require_colons),o.managed!==void 0&&(this.managed=o.managed),o.available!==void 0&&(this.available=o.available),o.roles&&(this._roles=o.roles)}}},function(u,g,e){"use strict";const l=e(15),n=e(11),o=e(27),t=e(28),i=e(2),s=e(9);class c extends l{constructor(r,h){super(r,h),this.messages=new t(this),this._typing=new Map}_patch(r){if(super._patch(r),this.topic=r.topic,this.nsfw=r.nsfw,this.lastMessageID=r.last_message_id,this.rateLimitPerUser=r.rate_limit_per_user||0,this.lastPinTimestamp=r.last_pin_timestamp?new Date(r.last_pin_timestamp).getTime():null,r.messages)for(const h of r.messages)this.messages.add(h)}setRateLimitPerUser(r,h){return this.edit({rateLimitPerUser:r},h)}setNSFW(r,h){return this.edit({nsfw:r},h)}fetchWebhooks(){return this.client.api.channels[this.id].webhooks.get().then(r=>{const h=new i;for(const d of r)h.set(d.id,new n(this.client,d));return h})}async createWebhook(r,{avatar:h,reason:d}={}){return typeof h!="string"||h.startsWith("data:")||(h=await s.resolveImage(h)),this.client.api.channels[this.id].webhooks.post({data:{name:r,avatar:h},reason:d}).then(a=>new n(this.client,a))}get lastMessage(){}get lastPinAt(){}send(){}startTyping(){}stopTyping(){}get typing(){}get typingCount(){}createMessageCollector(){}awaitMessages(){}bulkDelete(){}}o.applyToClass(c,!0),u.exports=c},function(u,g,e){"use strict";const l=e(17),{TypeError:n}=e(3),o=e(8),t=e(4);u.exports=class{constructor(s,c){Object.defineProperty(this,"channel",{value:s}),c&&this._patch(c)}_patch(s){this.id=s.id,this.type=s.type,this.deny=new o(s.deny).freeze(),this.allow=new o(s.allow).freeze()}update(s,c){const{allow:r,deny:h}=this.constructor.resolveOverwriteOptions(s,this);return this.channel.client.api.channels(this.channel.id).permissions[this.id].put({data:{id:this.id,type:this.type,allow:r.bitfield,deny:h.bitfield},reason:c}).then(()=>this)}delete(s){return this.channel.client.api.channels[this.channel.id].permissions[this.id].delete({reason:s}).then(()=>this)}toJSON(){return t.flatten(this)}static resolveOverwriteOptions(s,{allow:c,deny:r}={}){c=new o(c),r=new o(r);for(const[h,d]of Object.entries(s))d===!0?(c.add(o.FLAGS[h]),r.remove(o.FLAGS[h])):d===!1?(c.remove(o.FLAGS[h]),r.add(o.FLAGS[h])):d===null&&(c.remove(o.FLAGS[h]),r.remove(o.FLAGS[h]));return{allow:c,deny:r}}static resolve(s,c){if(s instanceof this)return s.toJSON();if(typeof s.id=="string"&&["role","member"].includes(s.type))return{...s,allow:o.resolve(s.allow),deny:o.resolve(s.deny)};const r=c.roles.resolve(s.id)||c.client.users.resolve(s.id);if(!r)throw new n("INVALID_TYPE","parameter","User nor a Role",!0);const h=r instanceof l?"role":"member";return{id:r.id,type:h,allow:o.resolve(s.allow),deny:o.resolve(s.deny)}}}},function(u,g,e){"use strict";const l=e(4);u.exports=class{constructor(o,t=null,i){this.attachment=o,this.name=t,i&&this._patch(i)}setFile(o,t=null){return this.attachment=o,this.name=t,this}setName(o){return this.name=o,this}_patch(o){this.id=o.id,this.size=o.size,this.url=o.url,this.proxyURL=o.proxy_url,this.height=o.height!==void 0?o.height:null,this.width=o.width!==void 0?o.width:null}get spoiler(){return l.basename(this.url).startsWith("SPOILER_")}toJSON(){return l.flatten(this)}}},function(u,g,e){"use strict";const{RangeError:l}=e(3),n=e(4);u.exports=class{constructor(t={},i=!1){this.setup(t,i)}setup(t,i){this.type=t.type,this.title=t.title,this.description=t.description,this.url=t.url,this.color=n.resolveColor(t.color),this.timestamp=t.timestamp?new Date(t.timestamp).getTime():null,this.fields=[],t.fields&&(this.fields=i?t.fields.map(n.cloneObject):this.constructor.normalizeFields(t.fields)),this.thumbnail=t.thumbnail?{url:t.thumbnail.url,proxyURL:t.thumbnail.proxyURL||t.thumbnail.proxy_url,height:t.thumbnail.height,width:t.thumbnail.width}:null,this.image=t.image?{url:t.image.url,proxyURL:t.image.proxyURL||t.image.proxy_url,height:t.image.height,width:t.image.width}:null,this.video=t.video?{url:t.video.url,proxyURL:t.video.proxyURL||t.video.proxy_url,height:t.video.height,width:t.video.width}:null,this.author=t.author?{name:t.author.name,url:t.author.url,iconURL:t.author.iconURL||t.author.icon_url,proxyIconURL:t.author.proxyIconURL||t.author.proxy_icon_url}:null,this.provider=t.provider?{name:t.provider.name,url:t.provider.name}:null,this.footer=t.footer?{text:t.footer.text,iconURL:t.footer.iconURL||t.footer.icon_url,proxyIconURL:t.footer.proxyIconURL||t.footer.proxy_icon_url}:null,this.files=t.files||[]}get createdAt(){return this.timestamp?new Date(this.timestamp):null}get hexColor(){return this.color?`#${this.color.toString(16).padStart(6,"0")}`:null}get length(){return(this.title?this.title.length:0)+(this.description?this.description.length:0)+(this.fields.length>=1?this.fields.reduce((t,i)=>t+i.name.length+i.value.length,0):0)+(this.footer?this.footer.text.length:0)}addField(t,i,s){return this.addFields({name:t,value:i,inline:s})}addFields(...t){return this.fields.push(...this.constructor.normalizeFields(t)),this}spliceFields(t,i,...s){return this.fields.splice(t,i,...this.constructor.normalizeFields(...s)),this}attachFiles(t){return this.files=this.files.concat(t),this}setAuthor(t,i,s){return this.author={name:n.resolveString(t),iconURL:i,url:s},this}setColor(t){return this.color=n.resolveColor(t),this}setDescription(t){return t=n.resolveString(t),this.description=t,this}setFooter(t,i){return t=n.resolveString(t),this.footer={text:t,iconURL:i},this}setImage(t){return this.image={url:t},this}setThumbnail(t){return this.thumbnail={url:t},this}setTimestamp(t=Date.now()){return t instanceof Date&&(t=t.getTime()),this.timestamp=t,this}setTitle(t){return t=n.resolveString(t),this.title=t,this}setURL(t){return this.url=t,this}toJSON(){return{title:this.title,type:"rich",description:this.description,url:this.url,timestamp:this.timestamp?new Date(this.timestamp):null,color:this.color,fields:this.fields,thumbnail:this.thumbnail,image:this.image,author:this.author?{name:this.author.name,url:this.author.url,icon_url:this.author.iconURL}:null,footer:this.footer?{text:this.footer.text,icon_url:this.footer.iconURL}:null}}static normalizeField(t,i,s=!1){if(!(t=n.resolveString(t)))throw new l("EMBED_FIELD_NAME");if(!(i=n.resolveString(i)))throw new l("EMBED_FIELD_VALUE");return{name:t,value:i,inline:s}}static normalizeFields(...t){return t.flat(2).map(i=>this.normalizeField(i&&i.name,i&&i.value,!(!i||typeof i.inline!="boolean")&&i.inline))}}},function(u,g,e){"use strict";const l=e(14);class n extends l{}n.FLAGS={CROSSPOSTED:1,IS_CROSSPOST:2,SUPPRESS_EMBEDS:4,SOURCE_MESSAGE_DELETED:8,URGENT:16},u.exports=n},function(u,g,e){"use strict";const l=e(31);class n extends l{constructor(o,t,i){super(i),Object.defineProperty(this,"client",{value:this}),this.id=o,Object.defineProperty(this,"token",{value:t,writable:!0,configurable:!0})}}e(11).applyToClass(n),u.exports=n},function(u,g,e){"use strict";const l=e(24),n=e(2),o=e(4);u.exports=class extends l{constructor(i,s,c={}){super(),Object.defineProperty(this,"client",{value:i}),this.filter=s,this.options=c,this.collected=new n,this.ended=!1,this._timeout=null,this._idletimeout=null,this.handleCollect=this.handleCollect.bind(this),this.handleDispose=this.handleDispose.bind(this),c.time&&(this._timeout=this.client.setTimeout(()=>this.stop("time"),c.time)),c.idle&&(this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),c.idle))}handleCollect(...i){const s=this.collect(...i);s&&this.filter(...i,this.collected)&&(this.collected.set(s,i[0]),this.emit("collect",...i),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),this.options.idle))),this.checkEnd()}handleDispose(...i){if(!this.options.dispose)return;const s=this.dispose(...i);s&&this.filter(...i)&&this.collected.has(s)&&(this.collected.delete(s),this.emit("dispose",...i),this.checkEnd())}get next(){return new Promise((i,s)=>{if(this.ended)return void s(this.collected);const c=()=>{this.removeListener("collect",r),this.removeListener("end",h)},r=d=>{c(),i(d)},h=()=>{c(),s(this.collected)};this.on("collect",r),this.on("end",h)})}stop(i="user"){this.ended||(this._timeout&&(this.client.clearTimeout(this._timeout),this._timeout=null),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=null),this.ended=!0,this.emit("end",this.collected,i))}resetTimer({time:i,idle:s}={}){this._timeout&&(this.client.clearTimeout(this._timeout),this._timeout=this.client.setTimeout(()=>this.stop("time"),i||this.options.time)),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),s||this.options.idle))}checkEnd(){const i=this.endReason();i&&this.stop(i)}async*[Symbol.asyncIterator](){const i=[],s=c=>i.push(c);this.on("collect",s);try{for(;i.length||!this.ended;)i.length?yield i.shift():await new Promise(c=>{const r=()=>(this.removeListener("collect",r),this.removeListener("end",r),c());this.on("collect",r),this.on("end",r)})}finally{this.removeListener("collect",s)}}toJSON(){return o.flatten(this)}collect(){}dispose(){}endReason(){}}},function(u,g,e){"use strict";const l=e(5),n=e(60),{ClientApplicationAssetTypes:o,Endpoints:t}=e(0),i=e(7),s=Object.keys(o);u.exports=class extends l{constructor(r,h){super(r),this._patch(h)}_patch(r){this.id=r.id,this.name=r.name,this.description=r.description,this.icon=r.icon,this.cover=r.cover_image||null,this.rpcOrigins=r.rpc_origins||[],this.botRequireCodeGrant=r.bot_require_code_grant!==void 0?r.bot_require_code_grant:null,this.botPublic=r.bot_public!==void 0?r.bot_public:null,this.owner=r.team?new n(this.client,r.team):r.owner?this.client.users.add(r.owner):null}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}iconURL({format:r,size:h}={}){return this.icon?this.client.rest.cdn.AppIcon(this.id,this.icon,{format:r,size:h}):null}coverImage({format:r,size:h}={}){return this.cover?t.CDN(this.client.options.http.cdn).AppIcon(this.id,this.cover,{format:r,size:h}):null}fetchAssets(){return this.client.api.oauth2.applications(this.id).assets.get().then(r=>r.map(h=>({id:h.id,name:h.name,type:s[h.type-1]})))}toString(){return this.name}toJSON(){return super.toJSON({createdTimestamp:!0})}}},function(u,g,e){"use strict";const l=e(19),n=e(43),o=e(64),t=e(4);u.exports=class{constructor(s,c,r){Object.defineProperty(this,"client",{value:s}),this.message=r,this.me=c.me,this.users=new o(s,void 0,this),this._emoji=new n(this,c.emoji),this._patch(c)}_patch(s){this.count==null&&(this.count=s.count)}async remove(){return await this.client.api.channels(this.message.channel.id).messages(this.message.id).reactions(this._emoji.identifier).delete(),this}get emoji(){if(this._emoji instanceof l)return this._emoji;if(this._emoji.id){const s=this.message.client.emojis.cache;if(s.has(this._emoji.id)){const c=s.get(this._emoji.id);return this._emoji=c,c}}return this._emoji}get partial(){return this.count===null}async fetch(){const s=(await this.message.fetch()).reactions.cache.get(this.emoji.id||this.emoji.name);return this._patch(s||{count:0}),this}toJSON(){return t.flatten(this,{emoji:"emojiID",message:"messageID"})}_add(s){this.partial||(this.users.cache.set(s.id,s),this.me&&s.id===this.message.client.user.id&&this.count!==0||this.count++,this.me||(this.me=s.id===this.message.client.user.id))}_remove(s){this.partial||(this.users.cache.delete(s.id),this.me&&s.id===this.message.client.user.id||this.count--,s.id===this.message.client.user.id&&(this.me=!1),this.count<=0&&this.users.cache.size===0&&this.message.reactions.cache.delete(this.emoji.id||this.emoji.name))}}},function(u,g,e){"use strict";const l=e(25),n=e(4);u.exports=class extends l{constructor(t,i){super(t.message.client,i),this.reaction=t}toJSON(){return n.flatten(this,{identifier:!0})}valueOf(){return this.id}}},function(u,g,e){"use strict";const l=e(5),n=e(69),o=e(46),t=e(45),i=e(16),s=e(47),c=e(11),r=e(70),h=e(48),d=e(71),a=e(72),m=e(73),p=e(108),f=e(2),{ChannelTypes:A,DefaultMessageNotifications:_,PartialTypes:E,VerificationLevels:y,ExplicitContentFilterLevels:T}=e(0),N=e(9),S=e(7),R=e(74),C=e(4);u.exports=class extends l{constructor(I,D){super(I),this.members=new d(this),this.channels=new r(this),this.roles=new m(this),this.presences=new a(this.client),this.voiceStates=new p(this),this.deleted=!1,D&&(D.unavailable?(this.available=!1,this.id=D.id):(this._patch(D),D.channels||(this.available=!1)),this.shardID=D.shardID)}get shard(){return this.client.ws.shards.get(this.shardID)}_patch(I){if(this.name=I.name,this.icon=I.icon,this.splash=I.splash,this.region=I.region,this.memberCount=I.member_count||this.memberCount,this.large=Boolean("large"in I?I.large:this.large),this.features=I.features,this.applicationID=I.application_id,this.afkTimeout=I.afk_timeout,this.afkChannelID=I.afk_channel_id,this.systemChannelID=I.system_channel_id,this.embedEnabled=I.embed_enabled,this.premiumTier=I.premium_tier,I.premium_subscription_count!==void 0&&(this.premiumSubscriptionCount=I.premium_subscription_count),I.widget_enabled!==void 0&&(this.widgetEnabled=I.widget_enabled),I.widget_channel_id!==void 0&&(this.widgetChannelID=I.widget_channel_id),I.embed_channel_id!==void 0&&(this.embedChannelID=I.embed_channel_id),this.verificationLevel=y[I.verification_level],this.explicitContentFilter=T[I.explicit_content_filter],this.mfaLevel=I.mfa_level,this.joinedTimestamp=I.joined_at?new Date(I.joined_at).getTime():this.joinedTimestamp,this.defaultMessageNotifications=_[I.default_message_notifications]||I.default_message_notifications,this.systemChannelFlags=new R(I.system_channel_flags).freeze(),I.max_members!==void 0&&(this.maximumMembers=I.max_members||25e4),I.max_presences!==void 0&&(this.maximumPresences=I.max_presences||25e3),this.vanityURLCode=I.vanity_url_code,this.description=I.description,this.banner=I.banner,this.id=I.id,this.available=!I.unavailable,this.features=I.features||this.features||[],this.rulesChannelID=I.rules_channel_id,this.publicUpdatesChannelID=I.public_updates_channel_id,I.channels){this.channels.cache.clear();for(const D of I.channels)this.client.channels.add(D,this)}if(I.roles){this.roles.cache.clear();for(const D of I.roles)this.roles.add(D)}if(I.members){this.members.cache.clear();for(const D of I.members)this.members.add(D)}if(I.owner_id&&(this.ownerID=I.owner_id),I.presences)for(const D of I.presences)this.presences.add(Object.assign(D,{guild:this}));if(I.voice_states){this.voiceStates.cache.clear();for(const D of I.voice_states)this.voiceStates.add(D)}if(this.emojis)I.emojis&&this.client.actions.GuildEmojisUpdate.handle({guild_id:this.id,emojis:I.emojis});else if(this.emojis=new h(this),I.emojis)for(const D of I.emojis)this.emojis.add(D)}bannerURL({format:I,size:D}={}){return this.banner?this.client.rest.cdn.Banner(this.id,this.banner,I,D):null}get createdTimestamp(){return S.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get joinedAt(){return new Date(this.joinedTimestamp)}get partnered(){return this.features.includes("PARTNERED")}get verified(){return this.features.includes("VERIFIED")}iconURL({format:I,size:D,dynamic:O}={}){return this.icon?this.client.rest.cdn.Icon(this.id,this.icon,I,D,O):null}get nameAcronym(){return this.name.replace(/\w+/g,I=>I[0]).replace(/\s/g,"")}splashURL({format:I,size:D}={}){return this.splash?this.client.rest.cdn.Splash(this.id,this.splash,I,D):null}get owner(){return this.members.cache.get(this.ownerID)||(this.client.options.partials.includes(E.GUILD_MEMBER)?this.members.add({user:{id:this.ownerID}},!0):null)}get afkChannel(){return this.client.channels.cache.get(this.afkChannelID)||null}get systemChannel(){return this.client.channels.cache.get(this.systemChannelID)||null}get widgetChannel(){return this.client.channels.cache.get(this.widgetChannelID)||null}get embedChannel(){return this.client.channels.cache.get(this.embedChannelID)||null}get rulesChannel(){return this.client.channels.cache.get(this.rulesChannelID)||null}get publicUpdatesChannel(){return this.client.channels.cache.get(this.publicUpdatesChannelID)||null}get me(){return this.members.cache.get(this.client.user.id)||(this.client.options.partials.includes(E.GUILD_MEMBER)?this.members.add({user:{id:this.client.user.id}},!0):null)}get voice(){return this.voiceStates.cache.get(this.client.user.id)}member(I){return this.members.resolve(I)}fetch(){return this.client.api.guilds(this.id).get().then(I=>(this._patch(I),this))}fetchBan(I){const D=this.client.users.resolveID(I);if(!D)throw new Error("FETCH_BAN_RESOLVE_ID");return this.client.api.guilds(this.id).bans(D).get().then(O=>({reason:O.reason,user:this.client.users.add(O.user)}))}fetchBans(){return this.client.api.guilds(this.id).bans.get().then(I=>I.reduce((D,O)=>(D.set(O.user.id,{reason:O.reason,user:this.client.users.add(O.user)}),D),new f))}fetchIntegrations(){return this.client.api.guilds(this.id).integrations.get().then(I=>I.reduce((D,O)=>D.set(O.id,new t(this.client,O,this)),new f))}createIntegration(I,D){return this.client.api.guilds(this.id).integrations.post({data:I,reason:D}).then(()=>this)}fetchInvites(){return this.client.api.guilds(this.id).invites.get().then(I=>{const D=new f;for(const O of I){const G=new i(this.client,O);D.set(G.code,G)}return D})}fetchPreview(){return this.client.api.guilds(this.id).preview.get().then(I=>new o(this.client,I))}fetchVanityCode(){return this.features.includes("VANITY_URL")?this.client.api.guilds(this.id,"vanity-url").get().then(I=>I.code):Promise.reject(new Error("VANITY_URL"))}fetchWebhooks(){return this.client.api.guilds(this.id).webhooks.get().then(I=>{const D=new f;for(const O of I)D.set(O.id,new c(this.client,O));return D})}fetchVoiceRegions(){return this.client.api.guilds(this.id).regions.get().then(I=>{const D=new f;for(const O of I)D.set(O.id,new s(O));return D})}fetchEmbed(){return this.client.api.guilds(this.id).embed.get().then(I=>({enabled:I.enabled,channel:I.channel_id?this.channels.cache.get(I.channel_id):null}))}fetchAuditLogs(I={}){return I.before&&I.before instanceof n.Entry&&(I.before=I.before.id),typeof I.type=="string"&&(I.type=n.Actions[I.type]),this.client.api.guilds(this.id)["audit-logs"].get({query:{before:I.before,limit:I.limit,user_id:this.client.users.resolveID(I.user),action_type:I.type}}).then(D=>n.build(this,D))}addMember(I,D){if(!(I=this.client.users.resolveID(I)))return Promise.reject(new TypeError("INVALID_TYPE","user","UserResolvable"));if(this.members.cache.has(I))return Promise.resolve(this.members.cache.get(I));if(D.access_token=D.accessToken,D.roles){const O=[];for(let G of D.roles instanceof f?D.roles.values():D.roles){if(G=this.roles.resolve(G),!G)return Promise.reject(new TypeError("INVALID_TYPE","options.roles","Array or Collection of Roles or Snowflakes",!0));O.push(G.id)}D.roles=O}return this.client.api.guilds(this.id).members(I).put({data:D}).then(O=>this.members.add(O))}edit(I,D){const O={};return I.name&&(O.name=I.name),I.region&&(O.region=I.region),I.verificationLevel!==void 0&&(O.verification_level=typeof I.verificationLevel=="number"?Number(I.verificationLevel):y.indexOf(I.verificationLevel)),I.afkChannel!==void 0&&(O.afk_channel_id=this.client.channels.resolveID(I.afkChannel)),I.systemChannel!==void 0&&(O.system_channel_id=this.client.channels.resolveID(I.systemChannel)),I.afkTimeout&&(O.afk_timeout=Number(I.afkTimeout)),I.icon!==void 0&&(O.icon=I.icon),I.owner&&(O.owner_id=this.client.users.resolveID(I.owner)),I.splash&&(O.splash=I.splash),I.banner&&(O.banner=I.banner),I.explicitContentFilter!==void 0&&(O.explicit_content_filter=typeof I.explicitContentFilter=="number"?I.explicitContentFilter:T.indexOf(I.explicitContentFilter)),I.defaultMessageNotifications!==void 0&&(O.default_message_notifications=typeof I.defaultMessageNotifications=="string"?_.indexOf(I.defaultMessageNotifications):I.defaultMessageNotifications),I.systemChannelFlags!==void 0&&(O.system_channel_flags=R.resolve(I.systemChannelFlags)),this.client.api.guilds(this.id).patch({data:O,reason:D}).then(G=>this.client.actions.GuildUpdate.handle(G).updated)}setExplicitContentFilter(I,D){return this.edit({explicitContentFilter:I},D)}setDefaultMessageNotifications(I,D){return this.edit({defaultMessageNotifications:I},D)}setSystemChannelFlags(I,D){return this.edit({systemChannelFlags:I},D)}setName(I,D){return this.edit({name:I},D)}setRegion(I,D){return this.edit({region:I},D)}setVerificationLevel(I,D){return this.edit({verificationLevel:I},D)}setAFKChannel(I,D){return this.edit({afkChannel:I},D)}setSystemChannel(I,D){return this.edit({systemChannel:I},D)}setAFKTimeout(I,D){return this.edit({afkTimeout:I},D)}async setIcon(I,D){return this.edit({icon:await N.resolveImage(I),reason:D})}setOwner(I,D){return this.edit({owner:I},D)}async setSplash(I,D){return this.edit({splash:await N.resolveImage(I),reason:D})}async setBanner(I,D){return this.edit({banner:await N.resolveImage(I),reason:D})}setChannelPositions(I){const D=I.map(O=>({id:this.client.channels.resolveID(O.channel),position:O.position}));return this.client.api.guilds(this.id).channels.patch({data:D}).then(()=>this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.id,channels:D}).guild)}setRolePositions(I){return I=I.map(D=>({id:this.roles.resolveID(D.role),position:D.position})),this.client.api.guilds(this.id).roles.patch({data:I}).then(()=>this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.id,roles:I}).guild)}setEmbed(I,D){return this.client.api.guilds(this.id).embed.patch({data:{enabled:I.enabled,channel_id:this.channels.resolveID(I.channel)},reason:D}).then(()=>this)}leave(){return this.ownerID===this.client.user.id?Promise.reject(new Error("GUILD_OWNED")):this.client.api.users("@me").guilds(this.id).delete().then(()=>this.client.actions.GuildDelete.handle({id:this.id}).guild)}delete(){return this.client.api.guilds(this.id).delete().then(()=>this.client.actions.GuildDelete.handle({id:this.id}).guild)}equals(I){let D=I&&I instanceof this.constructor&&this.id===I.id&&this.available===I.available&&this.splash===I.splash&&this.region===I.region&&this.name===I.name&&this.memberCount===I.memberCount&&this.large===I.large&&this.icon===I.icon&&this.ownerID===I.ownerID&&this.verificationLevel===I.verificationLevel&&this.embedEnabled===I.embedEnabled&&(this.features===I.features||this.features.length===I.features.length&&this.features.every((O,G)=>O===I.features[G]));return D&&(this.embedChannel?I.embedChannel&&this.embedChannel.id===I.embedChannel.id||(D=!1):I.embedChannel&&(D=!1)),D}toString(){return this.name}toJSON(){const I=super.toJSON({available:!1,createdTimestamp:!0,nameAcronym:!0,presences:!1,voiceStates:!1});return I.iconURL=this.iconURL(),I.splashURL=this.splashURL(),I.bannerURL=this.bannerURL(),I}_sortedRoles(){return C.discordSort(this.roles.cache)}_sortedChannels(I){const D=I.type===A.CATEGORY;return C.discordSort(this.channels.cache.filter(O=>O.type===I.type&&(D||O.parent===I.parent)))}}},function(u,g,e){"use strict";const l=e(5);u.exports=class extends l{constructor(o,t,i){super(o),this.guild=i,this.id=t.id,this.name=t.name,this.type=t.type,this.enabled=t.enabled,this.syncing=t.syncing,this.role=this.guild.roles.cache.get(t.role_id),this.user=this.client.users.add(t.user),this.account=t.account,this.syncedAt=t.synced_at,this._patch(t)}_patch(o){this.expireBehavior=o.expire_behavior,this.expireGracePeriod=o.expire_grace_period}sync(){return this.syncing=!0,this.client.api.guilds(this.guild.id).integrations(this.id).post().then(()=>(this.syncing=!1,this.syncedAt=Date.now(),this))}edit(o,t){return"expireBehavior"in o&&(o.expire_behavior=o.expireBehavior,o.expireBehavior=null),"expireGracePeriod"in o&&(o.expire_grace_period=o.expireGracePeriod,o.expireGracePeriod=null),this.client.api.guilds(this.guild.id).integrations(this.id).patch({data:o,reason:t}).then(()=>(this._patch(o),this))}delete(o){return this.client.api.guilds(this.guild.id).integrations(this.id).delete({reason:o}).then(()=>this)}toJSON(){return super.toJSON({role:"roleID",guild:"guildID",user:"userID"})}}},function(u,g,e){"use strict";const l=e(5),n=e(107),o=e(2);u.exports=class extends l{constructor(i,s){super(i),s&&this._patch(s)}_patch(i){this.id=i.id,this.name=i.name,this.icon=i.icon,this.splash=i.splash,this.discoverySplash=i.discovery_splash,this.features=i.features,this.approximateMemberCount=i.approximate_member_count,this.approximatePresenceCount=i.approximate_presence_count,this.description=i.description,this.emojis?this.emojis.clear():this.emojis=new o;for(const s of i.emojis)this.emojis.set(s.id,new n(this.client,s,this))}splashURL({format:i,size:s}={}){return this.splash?this.client.rest.cdn.Splash(this.id,this.splash,i,s):null}discoverySplashURL({format:i,size:s}={}){return this.discoverySplash?this.client.rest.cdn.DiscoverySplash(this.id,this.discoverySplash,i,s):null}iconURL({format:i,size:s,dynamic:c}={}){return this.icon?this.client.rest.cdn.Icon(this.id,this.icon,i,s,c):null}fetch(){return this.client.api.guilds(this.id).preview.get().then(i=>(this._patch(i),this))}toString(){return this.name}toJSON(){const i=super.toJSON();return i.iconURL=this.iconURL(),i.splashURL=this.splashURL(),i}}},function(u,g,e){"use strict";const l=e(4);u.exports=class{constructor(o){this.id=o.id,this.name=o.name,this.vip=o.vip,this.deprecated=o.deprecated,this.optimal=o.optimal,this.custom=o.custom}toJSON(){return l.flatten(this)}}},function(u,g,e){"use strict";const l=e(6),{TypeError:n}=e(3),o=e(19),t=e(43),i=e(2),s=e(9);u.exports=class extends l{constructor(r,h){super(r.client,h,o),this.guild=r}add(r,h){return super.add(r,h,{extras:[this.guild]})}async create(r,h,{roles:d,reason:a}={}){if(!(r=await s.resolveImage(r)))throw new n("REQ_RESOURCE_TYPE");const m={image:r,name:h};if(d){m.roles=[];for(let p of d instanceof i?d.values():d){if(p=this.guild.roles.resolve(p),!p)return Promise.reject(new n("INVALID_TYPE","options.roles","Array or Collection of Roles or Snowflakes",!0));m.roles.push(p.id)}}return this.client.api.guilds(this.guild.id).emojis.post({data:m,reason:a}).then(p=>this.client.actions.GuildEmojiCreate.handle(this.guild,p).emoji)}resolve(r){return r instanceof t?super.resolve(r.id):super.resolve(r)}resolveID(r){return r instanceof t?r.id:super.resolveID(r)}resolveIdentifier(r){const h=this.resolve(r);return h?h.identifier:r instanceof t?r.identifier:typeof r=="string"?r.includes("%")?r:encodeURIComponent(r):null}}},function(u,g){u.exports={version:"12.1.1",homepage:"https://github.com/discordjs/discord.js#readme"}},function(u,g,e){"use strict";const l=Symbol("code"),n=new Map;function o(t){return class i extends t{constructor(s,...c){super(function(r,h){if(typeof r!="string")throw new Error("Error message key must be a string");const d=n.get(r);if(!d)throw new Error(`An invalid error message key was used: ${r}.`);return typeof d=="function"?d(...h):h===void 0||h.length===0?d:(h.unshift(d),String(...h))}(s,c)),this[l]=s,Error.captureStackTrace&&Error.captureStackTrace(this,i)}get name(){return`${super.name} [${this[l]}]`}get code(){return this[l]}}}u.exports={register:function(t,i){n.set(t,typeof i=="function"?i:String(i))},Error:o(Error),TypeError:o(TypeError),RangeError:o(RangeError)}},function(u,g,e){(function(l){var n=l!==void 0&&l||typeof self!="undefined"&&self||window,o=Function.prototype.apply;function t(i,s){this._id=i,this._clearFn=s}g.setTimeout=function(){return new t(o.call(setTimeout,n,arguments),clearTimeout)},g.setInterval=function(){return new t(o.call(setInterval,n,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(i){i&&i.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(n,this._id)},g.enroll=function(i,s){clearTimeout(i._idleTimeoutId),i._idleTimeout=s},g.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},g._unrefActive=g.active=function(i){clearTimeout(i._idleTimeoutId);var s=i._idleTimeout;s>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},s))},e(53),g.setImmediate=typeof self!="undefined"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self!="undefined"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,e(52))},function(u,g){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(l){typeof window=="object"&&(e=window)}u.exports=e},function(u,g,e){(function(l,n){!function(o,t){"use strict";if(!o.setImmediate){var i,s,c,r,h,d=1,a={},m=!1,p=o.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(o);f=f&&f.setTimeout?f:o,{}.toString.call(o.process)==="[object process]"?i=function(E){n.nextTick(function(){_(E)})}:function(){if(o.postMessage&&!o.importScripts){var E=!0,y=o.onmessage;return o.onmessage=function(){E=!1},o.postMessage("","*"),o.onmessage=y,E}}()?(r="setImmediate$"+Math.random()+"$",h=function(E){E.source===o&&typeof E.data=="string"&&E.data.indexOf(r)===0&&_(+E.data.slice(r.length))},o.addEventListener?o.addEventListener("message",h,!1):o.attachEvent("onmessage",h),i=function(E){o.postMessage(r+E,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(E){_(E.data)},i=function(E){c.port2.postMessage(E)}):p&&"onreadystatechange"in p.createElement("script")?(s=p.documentElement,i=function(E){var y=p.createElement("script");y.onreadystatechange=function(){_(E),y.onreadystatechange=null,s.removeChild(y),y=null},s.appendChild(y)}):i=function(E){setTimeout(_,0,E)},f.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),T=0;T<y.length;T++)y[T]=arguments[T+1];var N={callback:E,args:y};return a[d]=N,i(d),d++},f.clearImmediate=A}function A(E){delete a[E]}function _(E){if(m)setTimeout(_,0,E);else{var y=a[E];if(y){m=!0;try{!function(T){var N=T.callback,S=T.args;switch(S.length){case 0:N();break;case 1:N(S[0]);break;case 2:N(S[0],S[1]);break;case 3:N(S[0],S[1],S[2]);break;default:N.apply(void 0,S)}}(y)}finally{A(E),m=!1}}}}}(typeof self=="undefined"?l===void 0?this:l:self)}).call(this,e(52),e(23))},function(u,g,e){"use strict";class l extends Error{constructor(n,o,t,i){super();const s=this.constructor.flattenErrors(o.errors||o).join(`
`);this.name="DiscordAPIError",this.message=o.message&&s?`${o.message}
${s}`:o.message||s,this.method=t,this.path=n,this.code=o.code,this.httpStatus=i}static flattenErrors(n,o=""){let t=[];for(const[i,s]of Object.entries(n)){if(i==="message")continue;const c=o?isNaN(i)?`${o}.${i}`:`${o}[${i}]`:i;s._errors?t.push(`${c}: ${s._errors.map(r=>r.message).join(" ")}`):s.code||s.message?t.push(`${s.code?`${s.code}: `:""}${s.message}`.trim()):typeof s=="string"?t.push(s):t=t.concat(this.flattenErrors(s,c))}return t}}u.exports=l},function(u,g,e){"use strict";class l extends Error{constructor(n,o,t,i,s){super(n),this.name=o,this.code=t||500,this.method=i,this.path=s}}u.exports=l},function(u,g,e){"use strict";const{TypeError:l}=e(3),n=e(2);u.exports=class{constructor(t){this.emoji=t,this.guild=t.guild,Object.defineProperty(this,"client",{value:t.client})}get _roles(){return this.guild.roles.cache.filter(t=>this.emoji._roles.includes(t.id))}get cache(){return this._roles}add(t){if(t instanceof n)return this.add(t.keyArray());if(!Array.isArray(t))return this.add([t]);if((t=t.map(s=>this.guild.roles.resolve(s))).includes(null))return Promise.reject(new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0));const i=[...new Set(t.concat(...this._roles.values()))];return this.set(i)}remove(t){if(t instanceof n)return this.remove(t.keyArray());if(!Array.isArray(t))return this.remove([t]);if((t=t.map(s=>this.guild.roles.resolveID(s))).includes(null))return Promise.reject(new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0));const i=this._roles.keyArray().filter(s=>!t.includes(s));return this.set(i)}set(t){return this.emoji.edit({roles:t})}clone(){const t=new this.constructor(this.emoji);return t._patch(this._roles.keyArray().slice()),t}_patch(t){this.emoji._roles=t}}},function(u,g,e){"use strict";const l=e(14);class n extends l{}n.FLAGS={INSTANCE:1,JOIN:2,SPECTATE:4,JOIN_REQUEST:8,SYNC:16,PLAY:32},u.exports=n},function(u,g,e){"use strict";const l=e(40),{Events:n}=e(0);u.exports=class extends l{constructor(t,i,s={}){super(t.client,i,s),this.channel=t,this.received=0;const c=r=>{for(const h of r.values())this.handleDispose(h)};this._handleChannelDeletion=this._handleChannelDeletion.bind(this),this._handleGuildDeletion=this._handleGuildDeletion.bind(this),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()+1),this.client.on(n.MESSAGE_CREATE,this.handleCollect),this.client.on(n.MESSAGE_DELETE,this.handleDispose),this.client.on(n.MESSAGE_BULK_DELETE,c),this.client.on(n.CHANNEL_DELETE,this._handleChannelDeletion),this.client.on(n.GUILD_DELETE,this._handleGuildDeletion),this.once("end",()=>{this.client.removeListener(n.MESSAGE_CREATE,this.handleCollect),this.client.removeListener(n.MESSAGE_DELETE,this.handleDispose),this.client.removeListener(n.MESSAGE_BULK_DELETE,c),this.client.removeListener(n.CHANNEL_DELETE,this._handleChannelDeletion),this.client.removeListener(n.GUILD_DELETE,this._handleGuildDeletion),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()-1)})}collect(t){return t.channel.id!==this.channel.id?null:(this.received++,t.id)}dispose(t){return t.channel.id===this.channel.id?t.id:null}endReason(){return this.options.max&&this.collected.size>=this.options.max?"limit":this.options.maxProcessed&&this.received===this.options.maxProcessed?"processedLimit":null}_handleChannelDeletion(t){t.id===this.channel.id&&this.stop("channelDelete")}_handleGuildDeletion(t){this.channel.guild&&t.id===this.channel.guild.id&&this.stop("guildDelete")}}},function(u,g,e){"use strict";const{TypeError:l}=e(3),n=e(2);u.exports=class{constructor(t){this.member=t,this.guild=t.guild,Object.defineProperty(this,"client",{value:t.client})}get _roles(){const t=this.guild.roles.everyone;return this.guild.roles.cache.filter(i=>this.member._roles.includes(i.id)).set(t.id,t)}get cache(){return this._roles}get hoist(){const t=this._roles.filter(i=>i.hoist);return t.size?t.reduce((i,s)=>!i||s.comparePositionTo(i)>0?s:i):null}get color(){const t=this._roles.filter(i=>i.color);return t.size?t.reduce((i,s)=>!i||s.comparePositionTo(i)>0?s:i):null}get highest(){return this._roles.reduce((t,i)=>i.comparePositionTo(t)>0?i:t,this._roles.first())}async add(t,i){if(t instanceof n||Array.isArray(t)){if((t=t.map(c=>this.guild.roles.resolve(c))).includes(null))throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);const s=[...new Set(t.concat(...this._roles.values()))];return this.set(s,i)}{if((t=this.guild.roles.resolve(t))===null)throw new l("INVALID_TYPE","roles","Role, Snowflake or Array or Collection of Roles or Snowflakes",!0);await this.client.api.guilds[this.guild.id].members[this.member.id].roles[t.id].put({reason:i});const s=this.member._clone();return s._roles=[...this._roles.keys(),t.id],s}}async remove(t,i){if(t instanceof n||Array.isArray(t)){if((t=t.map(c=>this.guild.roles.resolve(c))).includes(null))throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);const s=this._roles.filter(c=>!t.includes(c));return this.set(s,i)}{if((t=this.guild.roles.resolve(t))===null)throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);await this.client.api.guilds[this.guild.id].members[this.member.id].roles[t.id].delete({reason:i});const s=this.member._clone(),c=this._roles.filter(r=>r.id!==t.id);return s._roles=[...c.keys()],s}}set(t,i){return this.member.edit({roles:t},i)}clone(){const t=new this.constructor(this.member);return t.member._roles=[...this._roles.keyArray()],t}}},function(u,g,e){"use strict";const l=e(5),n=e(61),o=e(2),t=e(7);u.exports=class extends l{constructor(s,c){super(s),this._patch(c)}_patch(s){this.id=s.id,this.name=s.name,this.icon=s.icon||null,this.ownerID=s.owner_user_id||null,this.members=new o;for(const c of s.members){const r=new n(this,c);this.members.set(r.id,r)}}get owner(){return this.members.get(this.ownerID)||null}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}iconURL({format:s,size:c}={}){return this.icon?this.client.rest.cdn.TeamIcon(this.id,this.icon,{format:s,size:c}):null}toString(){return this.name}toJSON(){return super.toJSON({createdTimestamp:!0})}}},function(u,g,e){"use strict";const l=e(5),{MembershipStates:n}=e(0);u.exports=class extends l{constructor(t,i){super(t.client),this.team=t,this._patch(i)}_patch(t){this.permissions=t.permissions,this.membershipState=n[t.membership_state],this.user=this.client.users.add(t.user)}get id(){return this.user.id}toString(){return this.user.toString()}}},function(u,g,e){"use strict";const l=e(2),{ChannelTypes:n}=e(0),o=e(4);class t{constructor(i,s,c,r,h){if(Object.defineProperty(this,"client",{value:i.client}),Object.defineProperty(this,"guild",{value:i.guild}),Object.defineProperty(this,"_content",{value:i.content}),this.everyone=Boolean(r),s)if(s instanceof l)this.users=new l(s);else{this.users=new l;for(const d of s){d.member&&i.guild&&i.guild.members.add(Object.assign(d.member,{user:d}));const a=i.client.users.add(d);this.users.set(a.id,a)}}else this.users=new l;if(c)if(c instanceof l)this.roles=new l(c);else{this.roles=new l;for(const d of c){const a=i.channel.guild.roles.cache.get(d);a&&this.roles.set(a.id,a)}}else this.roles=new l;if(this._members=null,this._channels=null,h)if(h instanceof l)this.crosspostedChannels=new l(h);else{this.crosspostedChannels=new l;const d=Object.keys(n);for(const a of h){const m=d[a.type];this.crosspostedChannels.set(a.id,{channelID:a.id,guildID:a.guild_id,type:m?m.toLowerCase():"unknown",name:a.name})}}else this.crosspostedChannels=new l}get members(){return this._members?this._members:this.guild?(this._members=new l,this.users.forEach(i=>{const s=this.guild.member(i);s&&this._members.set(s.user.id,s)}),this._members):null}get channels(){if(this._channels)return this._channels;let i;for(this._channels=new l;(i=this.constructor.CHANNELS_PATTERN.exec(this._content))!==null;){const s=this.client.channels.cache.get(i[1]);s&&this._channels.set(s.id,s)}return this._channels}has(i,{ignoreDirect:s=!1,ignoreRoles:c=!1,ignoreEveryone:r=!1}={}){if(!r&&this.everyone)return!0;const h=e(10);if(!c&&i instanceof h){for(const d of this.roles.values())if(i.roles.cache.has(d.id))return!0}if(!s){const d=i.id||i;return this.users.has(d)||this.channels.has(d)||this.roles.has(d)}return!1}toJSON(){return o.flatten(this,{members:!0,channels:!0})}}t.EVERYONE_PATTERN=/@(everyone|here)/g,t.USERS_PATTERN=/<@!?(\d{17,19})>/g,t.ROLES_PATTERN=/<@&(\d{17,19})>/g,t.CHANNELS_PATTERN=/<#(\d{17,19})>/g,u.exports=t},function(u,g,e){"use strict";const l=e(40),n=e(2),{Events:o}=e(0);class t extends l{constructor(i,s,c={}){super(i.client,s,c),this.message=i,this.users=new n,this.total=0,this.empty=this.empty.bind(this),this._handleChannelDeletion=this._handleChannelDeletion.bind(this),this._handleGuildDeletion=this._handleGuildDeletion.bind(this),this._handleMessageDeletion=this._handleMessageDeletion.bind(this),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()+1),this.client.on(o.MESSAGE_REACTION_ADD,this.handleCollect),this.client.on(o.MESSAGE_REACTION_REMOVE,this.handleDispose),this.client.on(o.MESSAGE_REACTION_REMOVE_ALL,this.empty),this.client.on(o.MESSAGE_DELETE,this._handleMessageDeletion),this.client.on(o.CHANNEL_DELETE,this._handleChannelDeletion),this.client.on(o.GUILD_DELETE,this._handleGuildDeletion),this.once("end",()=>{this.client.removeListener(o.MESSAGE_REACTION_ADD,this.handleCollect),this.client.removeListener(o.MESSAGE_REACTION_REMOVE,this.handleDispose),this.client.removeListener(o.MESSAGE_REACTION_REMOVE_ALL,this.empty),this.client.removeListener(o.MESSAGE_DELETE,this._handleMessageDeletion),this.client.removeListener(o.CHANNEL_DELETE,this._handleChannelDeletion),this.client.removeListener(o.GUILD_DELETE,this._handleGuildDeletion),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()-1)}),this.on("collect",(r,h)=>{this.total++,this.users.set(h.id,h)}),this.on("remove",(r,h)=>{this.total--,this.collected.some(d=>d.users.cache.has(h.id))||this.users.delete(h.id)})}collect(i){return i.message.id!==this.message.id?null:t.key(i)}dispose(i,s){return i.message.id!==this.message.id?null:(this.collected.has(t.key(i))&&this.users.has(s.id)&&this.emit("remove",i,s),i.count?null:t.key(i))}empty(){this.total=0,this.collected.clear(),this.users.clear(),this.checkEnd()}endReason(){return this.options.max&&this.total>=this.options.max?"limit":this.options.maxEmojis&&this.collected.size>=this.options.maxEmojis?"emojiLimit":this.options.maxUsers&&this.users.size>=this.options.maxUsers?"userLimit":null}_handleMessageDeletion(i){i.id===this.message.id&&this.stop("messageDelete")}_handleChannelDeletion(i){i.id===this.message.channel.id&&this.stop("channelDelete")}_handleGuildDeletion(i){this.message.guild&&i.id===this.message.guild.id&&this.stop("guildDelete")}static key(i){return i.emoji.id||i.emoji.name}}u.exports=t},function(u,g,e){"use strict";const l=e(6),{Error:n}=e(3),o=e(2);u.exports=class extends l{constructor(i,s,c){super(i,s,{name:"User"}),this.reaction=c}async fetch({limit:i=100,after:s,before:c}={}){const r=this.reaction.message,h=await this.client.api.channels[r.channel.id].messages[r.id].reactions[this.reaction.emoji.identifier].get({query:{limit:i,before:c,after:s}}),d=new o;for(const a of h){const m=this.client.users.add(a);this.cache.set(m.id,m),d.set(m.id,m)}return d}remove(i=this.reaction.message.client.user){const s=this.reaction.message,c=s.client.users.resolveID(i);return c?s.client.api.channels[s.channel.id].messages[s.id].reactions[this.reaction.emoji.identifier][c===s.client.user.id?"@me":c].delete().then(()=>this.reaction):Promise.reject(new n("REACTION_RESOLVE_USER"))}}},function(u,g,e){"use strict";const l=e(15),{Error:n}=e(3),o=e(2),{browser:t}=e(0),i=e(8);u.exports=class extends l{_patch(c){super._patch(c),this.bitrate=c.bitrate,this.userLimit=c.user_limit}get members(){const c=new o;for(const r of this.guild.voiceStates.cache.values())r.channelID===this.id&&r.member&&c.set(r.id,r.member);return c}get full(){return this.userLimit>0&&this.members.size>=this.userLimit}get deletable(){return super.deletable&&this.permissionsFor(this.client.user).has(i.FLAGS.CONNECT,!1)}get editable(){return this.manageable&&this.permissionsFor(this.client.user).has(i.FLAGS.CONNECT,!1)}get joinable(){return!t&&(!!this.viewable&&!!this.permissionsFor(this.client.user).has(i.FLAGS.CONNECT,!1))&&!(this.full&&!this.permissionsFor(this.client.user).has(i.FLAGS.MOVE_MEMBERS,!1))}get speakable(){return this.permissionsFor(this.client.user).has(i.FLAGS.SPEAK,!1)}setBitrate(c,r){return this.edit({bitrate:c},r)}setUserLimit(c,r){return this.edit({userLimit:c},r)}join(){return t?Promise.reject(new n("VOICE_NO_BROWSER")):this.client.voice.joinChannel(this)}leave(){if(t)return;const c=this.client.voice.connections.get(this.guild.id);c&&c.channel.id===this.id&&c.disconnect()}}},function(u,g,e){"use strict";const l=e(15);u.exports=class extends l{get children(){return this.guild.channels.cache.filter(o=>o.parentID===this.id)}}},function(u,g,e){"use strict";const l=e(34);u.exports=class extends l{_patch(o){super._patch(o),this.rateLimitPerUser=void 0}}},function(u,g,e){"use strict";const l=e(15);u.exports=class extends l{_patch(o){super._patch(o),this.nsfw=o.nsfw}}},function(u,g,e){"use strict";const l=e(45),n=e(11),o=e(2),{PartialTypes:t}=e(0),i=e(7),s=e(4),c={ALL:"ALL",GUILD:"GUILD",CHANNEL:"CHANNEL",USER:"USER",ROLE:"ROLE",INVITE:"INVITE",WEBHOOK:"WEBHOOK",EMOJI:"EMOJI",MESSAGE:"MESSAGE",INTEGRATION:"INTEGRATION",UNKNOWN:"UNKNOWN"},r={ALL:null,GUILD_UPDATE:1,CHANNEL_CREATE:10,CHANNEL_UPDATE:11,CHANNEL_DELETE:12,CHANNEL_OVERWRITE_CREATE:13,CHANNEL_OVERWRITE_UPDATE:14,CHANNEL_OVERWRITE_DELETE:15,MEMBER_KICK:20,MEMBER_PRUNE:21,MEMBER_BAN_ADD:22,MEMBER_BAN_REMOVE:23,MEMBER_UPDATE:24,MEMBER_ROLE_UPDATE:25,MEMBER_MOVE:26,MEMBER_DISCONNECT:27,BOT_ADD:28,ROLE_CREATE:30,ROLE_UPDATE:31,ROLE_DELETE:32,INVITE_CREATE:40,INVITE_UPDATE:41,INVITE_DELETE:42,WEBHOOK_CREATE:50,WEBHOOK_UPDATE:51,WEBHOOK_DELETE:52,EMOJI_CREATE:60,EMOJI_UPDATE:61,EMOJI_DELETE:62,MESSAGE_DELETE:72,MESSAGE_BULK_DELETE:73,MESSAGE_PIN:74,MESSAGE_UNPIN:75,INTEGRATION_CREATE:80,INTEGRATION_UPDATE:81,INTEGRATION_DELETE:82};class h{constructor(a,m){if(m.users)for(const p of m.users)a.client.users.add(p);if(this.webhooks=new o,m.webhooks)for(const p of m.webhooks)this.webhooks.set(p.id,new n(a.client,p));if(this.integrations=new o,m.integrations)for(const p of m.integrations)this.integrations.set(p.id,new l(a.client,p,a));this.entries=new o;for(const p of m.audit_log_entries){const f=new d(this,a,p);this.entries.set(f.id,f)}}static build(...a){const m=new h(...a);return Promise.all(m.entries.map(p=>p.target)).then(()=>m)}static targetType(a){return a<10?c.GUILD:a<20?c.CHANNEL:a<30?c.USER:a<40?c.ROLE:a<50?c.INVITE:a<60?c.WEBHOOK:a<70?c.EMOJI:a<80?c.MESSAGE:a<90?c.INTEGRATION:c.UNKNOWN}static actionType(a){return[r.CHANNEL_CREATE,r.CHANNEL_OVERWRITE_CREATE,r.MEMBER_BAN_REMOVE,r.BOT_ADD,r.ROLE_CREATE,r.INVITE_CREATE,r.WEBHOOK_CREATE,r.EMOJI_CREATE,r.MESSAGE_PIN,r.INTEGRATION_CREATE].includes(a)?"CREATE":[r.CHANNEL_DELETE,r.CHANNEL_OVERWRITE_DELETE,r.MEMBER_KICK,r.MEMBER_PRUNE,r.MEMBER_BAN_ADD,r.MEMBER_DISCONNECT,r.ROLE_DELETE,r.INVITE_DELETE,r.WEBHOOK_DELETE,r.EMOJI_DELETE,r.MESSAGE_DELETE,r.MESSAGE_BULK_DELETE,r.MESSAGE_UNPIN,r.INTEGRATION_DELETE].includes(a)?"DELETE":[r.GUILD_UPDATE,r.CHANNEL_UPDATE,r.CHANNEL_OVERWRITE_UPDATE,r.MEMBER_UPDATE,r.MEMBER_ROLE_UPDATE,r.MEMBER_MOVE,r.ROLE_UPDATE,r.INVITE_UPDATE,r.WEBHOOK_UPDATE,r.EMOJI_UPDATE,r.INTEGRATION_UPDATE].includes(a)?"UPDATE":"ALL"}toJSON(){return s.flatten(this)}}class d{constructor(a,m,p){const f=h.targetType(p.action_type);switch(this.targetType=f,this.actionType=h.actionType(p.action_type),this.action=Object.keys(r).find(A=>r[A]===p.action_type),this.reason=p.reason||null,this.executor=m.client.options.partials.includes(t.USER)?m.client.users.add({id:p.user_id}):m.client.users.cache.get(p.user_id),this.changes=p.changes?p.changes.map(A=>({key:A.key,old:A.old_value,new:A.new_value})):null,this.id=p.id,this.extra=null,p.action_type){case r.MEMBER_PRUNE:this.extra={removed:Number(p.options.members_removed),days:Number(p.options.delete_member_days)};break;case r.MEMBER_MOVE:case r.MESSAGE_DELETE:case r.MESSAGE_BULK_DELETE:this.extra={channel:m.channels.cache.get(p.options.channel_id)||{id:p.options.channel_id},count:Number(p.options.count)};break;case r.MESSAGE_PIN:case r.MESSAGE_UNPIN:this.extra={channel:m.client.channels.cache.get(p.options.channel_id)||{id:p.options.channel_id},messageID:p.options.message_id};break;case r.MEMBER_DISCONNECT:this.extra={count:Number(p.options.count)};break;case r.CHANNEL_OVERWRITE_CREATE:case r.CHANNEL_OVERWRITE_UPDATE:case r.CHANNEL_OVERWRITE_DELETE:switch(p.options.type){case"member":this.extra=m.members.cache.get(p.options.id)||{id:p.options.id,type:"member"};break;case"role":this.extra=m.roles.cache.get(p.options.id)||{id:p.options.id,name:p.options.role_name,type:"role"}}}this.target=null,f===c.UNKNOWN?(this.target=this.changes.reduce((A,_)=>(A[_.key]=_.new||_.old,A),{}),this.target.id=p.target_id):f===c.USER&&p.target_id?this.target=m.client.options.partials.includes(t.USER)?m.client.users.add({id:p.target_id}):m.client.users.cache.get(p.target_id):f===c.GUILD?this.target=m.client.guilds.cache.get(p.target_id):f===c.WEBHOOK?this.target=a.webhooks.get(p.target_id)||new n(m.client,this.changes.reduce((A,_)=>(A[_.key]=_.new||_.old,A),{id:p.target_id,guild_id:m.id})):f===c.INVITE?this.target=m.members.fetch(m.client.user.id).then(A=>{if(A.permissions.has("MANAGE_GUILD")){const _=this.changes.find(E=>E.key==="code");return m.fetchInvites().then(E=>{this.target=E.find(y=>y.code===(_.new||_.old))})}return this.target=this.changes.reduce((_,E)=>(_[E.key]=E.new||E.old,_),{}),this.target}):f===c.MESSAGE?this.target=p.action_type===r.MESSAGE_BULK_DELETE?m.channels.cache.get(p.target_id)||{id:p.target_id}:m.client.users.cache.get(p.target_id):f===c.INTEGRATION?this.target=a.integrations.get(p.target_id)||new l(m.client,this.changes.reduce((A,_)=>(A[_.key]=_.new||_.old,A),{id:p.target_id}),m):p.target_id&&(this.target=m[`${f.toLowerCase()}s`].cache.get(p.target_id)||{id:p.target_id})}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}toJSON(){return s.flatten(this,{createdTimestamp:!0})}}h.Actions=r,h.Targets=c,h.Entry=d,u.exports=h},function(u,g,e){"use strict";const l=e(6),n=e(15),o=e(35),{ChannelTypes:t}=e(0);u.exports=class extends l{constructor(s,c){super(s.client,c,n),this.guild=s}add(s){const c=this.cache.get(s.id);return c||(this.cache.set(s.id,s),s)}async create(s,c={}){let{type:r,topic:h,nsfw:d,bitrate:a,userLimit:m,parent:p,permissionOverwrites:f,position:A,rateLimitPerUser:_,reason:E}=c;p&&(p=this.client.channels.resolveID(p)),f&&(f=f.map(T=>o.resolve(T,this.guild)));const y=await this.client.api.guilds(this.guild.id).channels.post({data:{name:s,topic:h,type:r?t[r.toUpperCase()]:t.TEXT,nsfw:d,bitrate:a,user_limit:m,parent_id:p,position:A,permission_overwrites:f,rate_limit_per_user:_},reason:E});return this.client.actions.ChannelCreate.handle(y).channel}}},function(u,g,e){"use strict";const l=e(6),{Error:n,TypeError:o}=e(3),t=e(10),i=e(2),{Events:s,OPCodes:c}=e(0);u.exports=class extends l{constructor(h,d){super(h.client,d,t),this.guild=h}add(h,d=!0){return super.add(h,d,{id:h.user.id,extras:[this.guild]})}resolve(h){const d=super.resolve(h);if(d)return d;const a=this.client.users.resolveID(h);return a?super.resolve(a):null}resolveID(h){const d=super.resolveID(h);if(d)return d;const a=this.client.users.resolveID(h);return this.cache.has(a)?a:null}fetch(h){if(!h)return this._fetchMany();const d=this.client.users.resolveID(h);if(d)return this._fetchSingle({user:d,cache:!0});if(h.user){if(Array.isArray(h.user))return h.user=h.user.map(a=>this.client.users.resolveID(a)),this._fetchMany(h);if(h.user=this.client.users.resolveID(h.user),!h.limit&&!h.withPresences)return this._fetchSingle(h)}return this._fetchMany(h)}prune({days:h=7,dry:d=!1,count:a=!0,reason:m}={}){if(typeof h!="number")throw new o("PRUNE_DAYS_TYPE");return this.client.api.guilds(this.guild.id).prune[d?"get":"post"]({query:{days:h,compute_prune_count:a},reason:m}).then(p=>p.pruned)}ban(h,d={days:0}){d.days&&(d["delete-message-days"]=d.days);const a=this.client.users.resolveID(h);return a?this.client.api.guilds(this.guild.id).bans[a].put({query:d}).then(()=>{if(h instanceof t)return h;const m=this.client.users.resolve(a);return m?this.resolve(m)||m:a}):Promise.reject(new n("BAN_RESOLVE_ID",!0))}unban(h,d){const a=this.client.users.resolveID(h);return a?this.client.api.guilds(this.guild.id).bans[a].delete({reason:d}).then(()=>this.client.users.resolve(h)):Promise.reject(new n("BAN_RESOLVE_ID"))}_fetchSingle({user:h,cache:d}){const a=this.cache.get(h);return a&&!a.partial?Promise.resolve(a):this.client.api.guilds(this.guild.id).members(h).get().then(m=>this.add(m,d))}_fetchMany({limit:h=0,withPresences:d=!1,user:a,query:m}={}){return new Promise((p,f)=>{if(!(this.guild.memberCount!==this.cache.size||m||h||d||a))return void p(this.cache);m||a||(m=""),this.guild.shard.send({op:c.REQUEST_GUILD_MEMBERS,d:{guild_id:this.guild.id,presences:d,user_ids:a,query:m,limit:h}});const A=new i,_=m||h||d||a,E=(T,N)=>{if(N.id===this.guild.id){y.refresh();for(const S of T.values())_&&A.set(S.id,S);if(this.guild.memberCount<=this.cache.size||_&&T.size<1e3||h&&A.size>=h){this.guild.client.removeListener(s.GUILD_MEMBERS_CHUNK,E);let S=_?A:this.cache;a&&!Array.isArray(a)&&S.size&&(S=S.first()),p(S)}}},y=this.guild.client.setTimeout(()=>{this.guild.client.removeListener(s.GUILD_MEMBERS_CHUNK,E),f(new n("GUILD_MEMBERS_TIMEOUT"))},12e4);this.guild.client.on(s.GUILD_MEMBERS_CHUNK,E)})}}},function(u,g,e){"use strict";const l=e(6),{Presence:n}=e(12);u.exports=class extends l{constructor(t,i){super(t,i,n)}add(t,i){const s=this.cache.get(t.user.id);return s?s.patch(t):super.add(t,i,{id:t.user.id})}resolve(t){const i=super.resolve(t);if(i)return i;const s=this.client.users.resolveID(t);return super.resolve(s)||null}resolveID(t){const i=super.resolveID(t);if(i)return i;const s=this.client.users.resolveID(t);return this.cache.has(s)?s:null}}},function(u,g,e){"use strict";const l=e(6),n=e(17),o=e(8),{resolveColor:t}=e(4);u.exports=class extends l{constructor(s,c){super(s.client,c,n),this.guild=s}add(s,c){return super.add(s,c,{extras:[this.guild]})}async fetch(s,c=!0){if(s){const h=this.cache.get(s);if(h)return h}const r=await this.client.api.guilds(this.guild.id).roles.get();for(const h of r)this.add(h,c);return s?this.cache.get(s)||null:this}create({data:s={},reason:c}={}){return s.color&&(s.color=t(s.color)),s.permissions&&(s.permissions=o.resolve(s.permissions)),this.guild.client.api.guilds(this.guild.id).roles.post({data:s,reason:c}).then(r=>{const{role:h}=this.client.actions.GuildRoleCreate.handle({guild_id:this.guild.id,role:r});return s.position?h.setPosition(s.position,c):h})}get everyone(){return this.cache.get(this.guild.id)||null}get highest(){return this.cache.reduce((s,c)=>c.comparePositionTo(s)>0?c:s,this.cache.first())}}},function(u,g,e){"use strict";const l=e(14);class n extends l{}n.FLAGS={WELCOME_MESSAGE_DISABLED:1,BOOST_MESSAGE_DISABLED:2},u.exports=n},function(u,g,e){"use strict";const{Presence:l}=e(12),{TypeError:n}=e(3),o=e(2),{ActivityTypes:t,OPCodes:i}=e(0);u.exports=class extends l{constructor(c,r={}){super(c,Object.assign(r,{status:"online",user:{id:null}}))}async set(c){const r=await this._parse(c);if(this.patch(r),c.shardID===void 0)this.client.ws.broadcast({op:i.STATUS_UPDATE,d:r});else if(Array.isArray(c.shardID))for(const h of c.shardID)this.client.ws.shards.get(h).send({op:i.STATUS_UPDATE,d:r});else this.client.ws.shards.get(c.shardID).send({op:i.STATUS_UPDATE,d:r});return this}async _parse({status:c,since:r,afk:h,activity:d}){const a=d&&(d.application?d.application.id||d.application:null);let m=new o;if(d){if(typeof d.name!="string")throw new n("INVALID_TYPE","name","string");if(d.type||(d.type=0),d.assets&&a)try{const f=await this.client.api.oauth2.applications(a).assets.get();for(const A of f)m.set(A.name,A.id)}catch{}}const p={afk:h!=null&&h,since:r??null,status:c||this.status,game:d?{type:d.type,name:d.name,url:d.url,details:d.details||void 0,state:d.state||void 0,assets:d.assets?{large_text:d.assets.largeText||void 0,small_text:d.assets.smallText||void 0,large_image:m.get(d.assets.largeImage)||d.assets.largeImage,small_image:m.get(d.assets.smallImage)||d.assets.smallImage}:void 0,timestamps:d.timestamps||void 0,party:d.party||void 0,application_id:a||void 0,secrets:d.secrets||void 0,instance:d.instance||void 0}:null};return(c||h||r)&&!d&&(p.game=this.activities[0]||null),p.game&&(p.game.type=typeof p.game.type=="number"?p.game.type:t.indexOf(p.game.type)),p}}},function(u,g,e){"use strict";const{browser:l}=e(0);let n,o;try{n=e(134),n.pack||(n=null)}catch{}l?(o=window.TextDecoder,g.WebSocket=window.WebSocket):(o=e(135).TextDecoder,g.WebSocket=e(138));const t=new o;g.encoding=n?"etf":"json",g.pack=n?n.pack:JSON.stringify,g.unpack=(i,s)=>g.encoding==="json"||s==="json"?(typeof i!="string"&&(i=t.decode(i)),JSON.parse(i)):(Buffer.isBuffer(i)||(i=Buffer.from(new Uint8Array(i))),n.unpack(i)),g.create=(i,s={},...c)=>{const[r,h]=i.split("?");s.encoding=g.encoding,s=new URLSearchParams(s),h&&new URLSearchParams(h).forEach((a,m)=>s.set(m,a));const d=new g.WebSocket(`${r}?${s}`,...c);return l&&(d.binaryType="arraybuffer"),d};for(const i of["CONNECTING","OPEN","CLOSING","CLOSED"])g[i]=g.WebSocket[i]},function(u,g,e){"use strict";const{WSEvents:l}=e(0),n={};for(const o of Object.keys(l))try{n[o]=e(140)(`./${o}.js`)}catch{}u.exports=n},function(u,g,e){"use strict";const l=e(9),n=e(18);class o extends n.get("User"){constructor(t,i){super(t,i),this._typing=new Map}_patch(t){super._patch(t),"verified"in t&&(this.verified=t.verified),"mfa_enabled"in t?this.mfaEnabled=typeof t.mfa_enabled=="boolean"?t.mfa_enabled:null:this.mfaEnabled===void 0&&(this.mfaEnabled=null),t.token&&(this.client.token=t.token)}get presence(){return this.client.presence}edit(t){return this.client.api.users("@me").patch({data:t}).then(i=>{this.client.token=i.token;const{updated:s}=this.client.actions.UserUpdate.handle(i);return s||this})}setUsername(t){return this.edit({username:t})}async setAvatar(t){return this.edit({avatar:await l.resolveImage(t)})}setPresence(t){return this.client.presence.set(t)}setStatus(t,i){return this.setPresence({status:t,shardID:i})}setActivity(t,i={}){if(!t)return this.setPresence({activity:null,shardID:i.shardID});const s=Object.assign({},i,typeof t=="object"?t:{name:t});return this.setPresence({activity:s,shardID:s.shardID})}setAFK(t){return this.setPresence({afk:t})}}u.exports=o},function(u,g,e){"use strict";const l=e(6),n=e(13),{Events:o}=e(0);u.exports=class extends l{constructor(i,s){super(i,s,n)}add(i,s,c=!0){const r=this.cache.get(i.id);if(r)return r._patch&&c&&r._patch(i),s&&s.channels.add(r),r;const h=n.create(this.client,i,s);return h?(c&&this.cache.set(h.id,h),h):(this.client.emit(o.DEBUG,`Failed to find guild, or unknown type for channel ${i.id} ${i.type}`),null)}remove(i){const s=this.cache.get(i);s.guild&&s.guild.channels.cache.delete(i),this.cache.delete(i)}async fetch(i,s=!0){const c=this.cache.get(i);if(c&&!c.partial)return c;const r=await this.client.api.channels(i).get();return this.add(r,null,s)}}},function(u,g,e){"use strict";const l=e(6),n=e(44),o=e(15),t=e(19),i=e(10),s=e(16),c=e(17),{Events:r,VerificationLevels:h,DefaultMessageNotifications:d,ExplicitContentFilterLevels:a}=e(0),m=e(9),p=e(8),{resolveColor:f}=e(4);u.exports=class extends l{constructor(_,E){super(_,E,n)}resolve(_){return _ instanceof o||_ instanceof i||_ instanceof t||_ instanceof c||_ instanceof s&&_.guild?super.resolve(_.guild):super.resolve(_)}resolveID(_){return _ instanceof o||_ instanceof i||_ instanceof t||_ instanceof c||_ instanceof s&&_.guild?super.resolveID(_.guild.id):super.resolveID(_)}async create(_,{channels:E=[],defaultMessageNotifications:y,explicitContentFilter:T,icon:N=null,region:S,roles:R=[],verificationLevel:C}={}){N=await m.resolveImage(N),C!==void 0&&typeof C!="number"&&(C=h.indexOf(C)),y!==void 0&&typeof y!="number"&&(y=d.indexOf(y)),T!==void 0&&typeof T!="number"&&(T=a.indexOf(T));for(const L of E)if(L.parent_id=L.parentID,delete L.parentID,L.permissionOverwrites){for(const I of L.permissionOverwrites)I.allow&&(I.allow=p.resolve(I.allow)),I.deny&&(I.deny=p.resolve(I.deny));L.permission_overwrites=L.permissionOverwrites,delete L.permissionOverwrites}for(const L of R)L.color&&(L.color=f(L.color)),L.permissions&&(L.permissions=p.resolve(L.permissions));return new Promise((L,I)=>this.client.api.guilds.post({data:{name:_,region:S,icon:N,verification_level:C,default_message_notifications:y,explicit_content_filter:T,channels:E,roles:R}}).then(D=>{if(this.client.guilds.cache.has(D.id))return L(this.client.guilds.cache.get(D.id));const O=W=>{W.id===D.id&&(this.client.removeListener(r.GUILD_CREATE,O),this.client.clearTimeout(G),L(W))};this.client.on(r.GUILD_CREATE,O);const G=this.client.setTimeout(()=>{this.client.removeListener(r.GUILD_CREATE,O),L(this.client.guilds.add(D))},1e4)},I))}}},function(u,g,e){"use strict";const l=e(6),n=e(10),o=e(22),t=e(20);u.exports=class extends l{constructor(s,c){super(s,c,t)}resolve(s){return s instanceof n?s.user:s instanceof o?s.author:super.resolve(s)}resolveID(s){return s instanceof n?s.user.id:s instanceof o?s.author.id:super.resolveID(s)}async fetch(s,c=!0){const r=this.cache.get(s);if(r&&!r.partial)return r;const h=await this.client.api.users(s).get();return this.add(h,c)}}},function(u,g,e){"use strict";const l=e(14);class n extends l{}n.FLAGS={GUILDS:1,GUILD_MEMBERS:2,GUILD_BANS:4,GUILD_EMOJIS:8,GUILD_INTEGRATIONS:16,GUILD_WEBHOOKS:32,GUILD_INVITES:64,GUILD_VOICE_STATES:128,GUILD_PRESENCES:256,GUILD_MESSAGES:512,GUILD_MESSAGE_REACTIONS:1024,GUILD_MESSAGE_TYPING:2048,DIRECT_MESSAGES:4096,DIRECT_MESSAGE_REACTIONS:8192,DIRECT_MESSAGE_TYPING:16384},n.PRIVILEGED=n.FLAGS.GUILD_MEMBERS|n.FLAGS.GUILD_PRESENCES,n.ALL=Object.values(n.FLAGS).reduce((o,t)=>o|t,0),n.NON_PRIVILEGED=n.ALL&~n.PRIVILEGED,u.exports=n},function(u,g,e){"use strict";const l=e(4);u.exports={BaseClient:e(31),Client:e(93),Shard:e(179),ShardClientUtil:e(180),ShardingManager:e(181),WebhookClient:e(39),ActivityFlags:e(57),BitField:e(14),Collection:e(2),Constants:e(0),DataResolver:e(9),BaseManager:e(6),DiscordAPIError:e(54),HTTPError:e(55),MessageFlags:e(38),Intents:e(82),Permissions:e(8),Speaking:e(182),Snowflake:e(7),SnowflakeUtil:e(7),Structures:e(18),SystemChannelFlags:e(74),Util:l,version:e(49).version,ChannelManager:e(79),GuildChannelManager:e(70),GuildEmojiManager:e(48),GuildEmojiRoleManager:e(56),GuildMemberManager:e(71),GuildMemberRoleManager:e(59),GuildManager:e(80),ReactionUserManager:e(64),MessageManager:e(28),PresenceManager:e(72),RoleManager:e(73),UserManager:e(81),discordSort:l.discordSort,escapeMarkdown:l.escapeMarkdown,fetchRecommendedShards:l.fetchRecommendedShards,resolveColor:l.resolveColor,resolveString:l.resolveString,splitMessage:l.splitMessage,Base:e(5),Activity:e(12).Activity,APIMessage:e(26),BaseGuildEmoji:e(33),CategoryChannel:e(66),Channel:e(13),ClientApplication:e(41),get ClientUser(){return e(78)},Collector:e(40),DMChannel:e(32),Emoji:e(25),Guild:e(44),GuildAuditLogs:e(69),GuildChannel:e(15),GuildEmoji:e(19),GuildMember:e(10),GuildPreview:e(46),Integration:e(45),Invite:e(16),Message:e(22),MessageAttachment:e(36),MessageCollector:e(58),MessageEmbed:e(37),MessageMentions:e(62),MessageReaction:e(42),NewsChannel:e(67),PermissionOverwrites:e(35),Presence:e(12).Presence,ClientPresence:e(75),ReactionCollector:e(63),ReactionEmoji:e(43),RichPresenceAssets:e(12).RichPresenceAssets,Role:e(17),StoreChannel:e(68),Team:e(60),TeamMember:e(61),TextChannel:e(34),User:e(20),VoiceChannel:e(65),VoiceRegion:e(47),VoiceState:e(21),Webhook:e(11),WebSocket:e(76)}},function(u,g,e){"use strict";const{register:l}=e(50),n={CLIENT_INVALID_OPTION:(o,t)=>`The ${o} option must be ${t}`,CLIENT_INVALID_PROVIDED_SHARDS:"None of the provided shards were valid.",TOKEN_INVALID:"An invalid token was provided.",TOKEN_MISSING:"Request to use token, but token was unavailable to the client.",WS_CLOSE_REQUESTED:"WebSocket closed due to user request.",WS_CONNECTION_EXISTS:"There is already an existing WebSocket connection.",WS_NOT_OPEN:(o="data")=>`Websocket not open to send ${o}`,BITFIELD_INVALID:"Invalid bitfield flag or number.",SHARDING_INVALID:"Invalid shard settings were provided.",SHARDING_REQUIRED:"This session would have handled too many guilds - Sharding is required.",INVALID_INTENTS:"Invalid intent provided for WebSocket intents.",DISALLOWED_INTENTS:"Privileged intent provided is not enabled or whitelisted.",SHARDING_NO_SHARDS:"No shards have been spawned.",SHARDING_IN_PROCESS:"Shards are still being spawned.",SHARDING_ALREADY_SPAWNED:o=>`Already spawned ${o} shards.`,SHARDING_PROCESS_EXISTS:o=>`Shard ${o} already has an active process.`,SHARDING_READY_TIMEOUT:o=>`Shard ${o}'s Client took too long to become ready.`,SHARDING_READY_DISCONNECTED:o=>`Shard ${o}'s Client disconnected before becoming ready.`,SHARDING_READY_DIED:o=>`Shard ${o}'s process exited before its Client became ready.`,COLOR_RANGE:"Color must be within the range 0 - 16777215 (0xFFFFFF).",COLOR_CONVERT:"Unable to convert color to a number.",EMBED_FIELD_NAME:"MessageEmbed field names may not be empty.",EMBED_FIELD_VALUE:"MessageEmbed field values may not be empty.",FILE_NOT_FOUND:o=>`File could not be found: ${o}`,USER_NO_DMCHANNEL:"No DM Channel exists!",VOICE_INVALID_HEARTBEAT:"Tried to set voice heartbeat but no valid interval was specified.",VOICE_USER_MISSING:"Couldn't resolve the user to create stream.",VOICE_JOIN_CHANNEL:(o=!1)=>`You do not have permission to join this voice channel${o?"; it is full.":"."}`,VOICE_CONNECTION_TIMEOUT:"Connection not established within 15 seconds.",VOICE_TOKEN_ABSENT:"Token not provided from voice server packet.",VOICE_SESSION_ABSENT:"Session ID not supplied.",VOICE_INVALID_ENDPOINT:"Invalid endpoint received.",VOICE_NO_BROWSER:"Voice connections are not available in browsers.",VOICE_CONNECTION_ATTEMPTS_EXCEEDED:o=>`Too many connection attempts (${o}).`,VOICE_JOIN_SOCKET_CLOSED:"Tried to send join packet, but the WebSocket is not open.",VOICE_PLAY_INTERFACE_NO_BROADCAST:"A broadcast cannot be played in this context.",VOICE_PLAY_INTERFACE_BAD_TYPE:"Unknown stream type",VOICE_PRISM_DEMUXERS_NEED_STREAM:"To play a webm/ogg stream, you need to pass a ReadableStream.",VOICE_STATE_UNCACHED_MEMBER:"The member of this voice state is uncached.",VOICE_STATE_NOT_OWN:"You cannot self-deafen/mute on VoiceStates that do not belong to the ClientUser.",VOICE_STATE_INVALID_TYPE:o=>`${o} must be a boolean.`,UDP_SEND_FAIL:"Tried to send a UDP packet, but there is no socket available.",UDP_ADDRESS_MALFORMED:"Malformed UDP address or port.",UDP_CONNECTION_EXISTS:"There is already an existing UDP connection.",REQ_RESOURCE_TYPE:"The resource must be a string, Buffer or a valid file stream.",IMAGE_FORMAT:o=>`Invalid image format: ${o}`,IMAGE_SIZE:o=>`Invalid image size: ${o}`,MESSAGE_BULK_DELETE_TYPE:"The messages must be an Array, Collection, or number.",MESSAGE_NONCE_TYPE:"Message nonce must fit in an unsigned 64-bit integer.",TYPING_COUNT:"Count must be at least 1",SPLIT_MAX_LEN:"Chunk exceeds the max length and contains no split characters.",BAN_RESOLVE_ID:(o=!1)=>`Couldn't resolve the user ID to ${o?"ban":"unban"}.`,FETCH_BAN_RESOLVE_ID:"Couldn't resolve the user ID to fetch the ban.",PRUNE_DAYS_TYPE:"Days must be a number",GUILD_CHANNEL_RESOLVE:"Could not resolve channel to a guild channel.",GUILD_VOICE_CHANNEL_RESOLVE:"Could not resolve channel to a guild voice channel.",GUILD_CHANNEL_ORPHAN:"Could not find a parent to this guild channel.",GUILD_OWNED:"Guild is owned by the client.",GUILD_MEMBERS_TIMEOUT:"Members didn't arrive in time.",GUILD_UNCACHED_ME:"The client user as a member of this guild is uncached.",INVALID_TYPE:(o,t,i=!1)=>`Supplied ${o} is not a${i?"n":""} ${t}.`,WEBHOOK_MESSAGE:"The message was not sent by a webhook.",EMOJI_TYPE:"Emoji must be a string or GuildEmoji/ReactionEmoji",EMOJI_MANAGED:"Emoji is managed and has no Author.",MISSING_MANAGE_EMOJIS_PERMISSION:o=>`Client must have Manage Emoji permission in guild ${o} to see emoji authors.`,REACTION_RESOLVE_USER:"Couldn't resolve the user ID to remove from the reaction.",VANITY_URL:"This guild does not have the VANITY_URL feature enabled.",DELETE_GROUP_DM_CHANNEL:"Bots don't have access to Group DM Channels and cannot delete them",FETCH_GROUP_DM_CHANNEL:"Bots don't have access to Group DM Channels and cannot fetch them"};for(const[o,t]of Object.entries(n))l(o,t)},function(u,g,e){"use strict";Object.defineProperty(g,"__esModule",{value:!0});class l extends Map{constructor(n){super(n),Object.defineProperty(this,"_array",{value:null,writable:!0,configurable:!0}),Object.defineProperty(this,"_keyArray",{value:null,writable:!0,configurable:!0})}get(n){return super.get(n)}set(n,o){return this._array=null,this._keyArray=null,super.set(n,o)}has(n){return super.has(n)}delete(n){return this._array=null,this._keyArray=null,super.delete(n)}clear(){return super.clear()}array(){return this._array&&this._array.length===this.size||(this._array=[...this.values()]),this._array}keyArray(){return this._keyArray&&this._keyArray.length===this.size||(this._keyArray=[...this.keys()]),this._keyArray}first(n){if(n===void 0)return this.values().next().value;if(n<0)return this.last(-1*n);n=Math.min(this.size,n);const o=this.values();return Array.from({length:n},()=>o.next().value)}firstKey(n){if(n===void 0)return this.keys().next().value;if(n<0)return this.lastKey(-1*n);n=Math.min(this.size,n);const o=this.keys();return Array.from({length:n},()=>o.next().value)}last(n){const o=this.array();return n===void 0?o[o.length-1]:n<0?this.first(-1*n):n?o.slice(-n):[]}lastKey(n){const o=this.keyArray();return n===void 0?o[o.length-1]:n<0?this.firstKey(-1*n):n?o.slice(-n):[]}random(n){let o=this.array();return n===void 0?o[Math.floor(Math.random()*o.length)]:o.length!==0&&n?(o=o.slice(),Array.from({length:n},()=>o.splice(Math.floor(Math.random()*o.length),1)[0])):[]}randomKey(n){let o=this.keyArray();return n===void 0?o[Math.floor(Math.random()*o.length)]:o.length!==0&&n?(o=o.slice(),Array.from({length:n},()=>o.splice(Math.floor(Math.random()*o.length),1)[0])):[]}find(n,o){o!==void 0&&(n=n.bind(o));for(const[t,i]of this)if(n(i,t,this))return i}findKey(n,o){o!==void 0&&(n=n.bind(o));for(const[t,i]of this)if(n(i,t,this))return t}sweep(n,o){o!==void 0&&(n=n.bind(o));const t=this.size;for(const[i,s]of this)n(s,i,this)&&this.delete(i);return t-this.size}filter(n,o){o!==void 0&&(n=n.bind(o));const t=new this.constructor[Symbol.species];for(const[i,s]of this)n(s,i,this)&&t.set(i,s);return t}partition(n,o){o!==void 0&&(n=n.bind(o));const t=[new this.constructor[Symbol.species],new this.constructor[Symbol.species]];for(const[i,s]of this)n(s,i,this)?t[0].set(i,s):t[1].set(i,s);return t}flatMap(n,o){const t=this.map(n,o);return new this.constructor[Symbol.species]().concat(...t)}map(n,o){o!==void 0&&(n=n.bind(o));const t=this.entries();return Array.from({length:this.size},()=>{const[i,s]=t.next().value;return n(s,i,this)})}mapValues(n,o){o!==void 0&&(n=n.bind(o));const t=new this.constructor[Symbol.species];for(const[i,s]of this)t.set(i,n(s,i,this));return t}some(n,o){o!==void 0&&(n=n.bind(o));for(const[t,i]of this)if(n(i,t,this))return!0;return!1}every(n,o){o!==void 0&&(n=n.bind(o));for(const[t,i]of this)if(!n(i,t,this))return!1;return!0}reduce(n,o){let t;if(o!==void 0){t=o;for(const[s,c]of this)t=n(t,c,s,this);return t}let i=!0;for(const[s,c]of this)i?(t=c,i=!1):t=n(t,c,s,this);if(i)throw new TypeError("Reduce of empty collection with no initial value");return t}each(n,o){return this.forEach(n,o),this}tap(n,o){return o!==void 0&&(n=n.bind(o)),n(this),this}clone(){return new this.constructor[Symbol.species](this)}concat(...n){const o=this.clone();for(const t of n)for(const[i,s]of t)o.set(i,s);return o}equals(n){if(!n)return!1;if(this===n)return!0;if(this.size!==n.size)return!1;for(const[o,t]of this)if(!n.has(o)||t!==n.get(o))return!1;return!0}sort(n=(o,t)=>Number(o>t)||Number(o===t)-1){const o=[...this.entries()];o.sort((t,i)=>n(t[1],i[1],t[0],i[0])),super.clear(),this._array=null,this._keyArray=null;for(const[t,i]of o)super.set(t,i);return this}intersect(n){return n.filter((o,t)=>this.has(t))}difference(n){return n.filter((o,t)=>!this.has(t)).concat(this.filter((o,t)=>!n.has(t)))}sorted(n=(o,t)=>Number(o>t)||Number(o===t)-1){return new this.constructor[Symbol.species]([...this.entries()]).sort((o,t,i,s)=>n(o,t,i,s))}}g.Collection=l,l.default=l,g.default=l,u.exports=l},function(u,g,e){"use strict";const l=e(87),n=e(91),o=e(92),{Error:t}=e(3),i=e(2),{Endpoints:s}=e(0);u.exports=class{constructor(r,h="Bot"){this.client=r,this.handlers=new i,this.tokenPrefix=h,this.versioned=!0,this.globalTimeout=null,r.options.restSweepInterval>0&&r.setInterval(()=>{this.handlers.sweep(d=>d._inactive)},1e3*r.options.restSweepInterval)}get api(){return n(this)}getAuth(){const r=this.client.token||this.client.accessToken;if(r)return`${this.tokenPrefix} ${r}`;throw new t("TOKEN_MISSING")}get cdn(){return s.CDN(this.client.options.http.cdn)}push(r,h){return new Promise((d,a)=>{r.push({request:h,resolve:d,reject:a,retries:0}).catch(a)})}request(r,h,d={}){const a=new l(this,r,h,d);let m=this.handlers.get(a.route);return m||(m=new o(this),this.handlers.set(a.route,m)),this.push(m,a)}set endpoint(r){this.client.options.http.api=r}}},function(u,g,e){"use strict";const l=e(88),n=e(89),o=e(90),t=e(30),{browser:i,UserAgent:s}=e(0);if(l.Agent)var c=new l.Agent({keepAlive:!0});u.exports=class{constructor(h,d,a,m){this.rest=h,this.client=h.client,this.method=d,this.route=m.route,this.options=m;let p="";if(m.query){const f=Object.entries(m.query).filter(([,A])=>A!=null);p=new URLSearchParams(f).toString()}this.path=`${a}${p&&`?${p}`}`}make(){const h=(this.options.versioned===!1?this.client.options.http.api:`${this.client.options.http.api}/v${this.client.options.http.version}`)+this.path;let d,a={};if(this.options.auth!==!1&&(a.Authorization=this.rest.getAuth()),this.options.reason&&(a["X-Audit-Log-Reason"]=encodeURIComponent(this.options.reason)),i||(a["User-Agent"]=s),this.options.headers&&(a=Object.assign(a,this.options.headers)),this.options.files&&this.options.files.length){d=new o;for(const f of this.options.files)f&&f.file&&d.append(f.name,f.file,f.name);this.options.data!==void 0&&d.append("payload_json",JSON.stringify(this.options.data)),i||(a=Object.assign(a,d.getHeaders()))}else this.options.data!=null&&(d=JSON.stringify(this.options.data),a["Content-Type"]="application/json");const m=new n,p=this.client.setTimeout(()=>m.abort(),this.client.options.restRequestTimeout);return t(h,{method:this.method,headers:a,agent:c,body:d,signal:m.signal}).finally(()=>this.client.clearTimeout(p))}}},function(u,g){},function(u,g,e){"use strict";const{AbortController:l,AbortSignal:n}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;u.exports=l,u.exports.AbortSignal=n,u.exports.default=l},function(u,g){u.exports=typeof self=="object"?self.FormData:window.FormData},function(u,g,e){"use strict";const l=()=>{},n=["get","post","delete","patch","put"],o=["toString","valueOf","inspect","constructor",Symbol.toPrimitive,Symbol.for("nodejs.util.inspect.custom")];u.exports=function(t){const i=[""],s={get(c,r){if(o.includes(r))return()=>i.join("/");if(n.includes(r)){const h=[];for(let d=0;d<i.length&&i[d-1]!=="reactions";d++)/\d{16,19}/g.test(i[d])&&!/channels|guilds/.test(i[d-1])?h.push(":id"):h.push(i[d]);return d=>t.request(r,i.join("/"),Object.assign({versioned:t.versioned,route:h.join("/")},d))}return i.push(r),new Proxy(l,s)},apply:(c,r,h)=>(i.push(...h.filter(d=>d!=null)),new Proxy(l,s))};return new Proxy(l,s)}},function(u,g,e){"use strict";const l=e(54),n=e(55),{Events:{RATE_LIMIT:o},browser:t}=e(0),i=e(4);function s(r){return r.headers.get("content-type").startsWith("application/json")?r.json():t?r.blob():r.buffer()}function c(r){return new Date(r).getTime()-Date.now()}u.exports=class{constructor(h){this.manager=h,this.busy=!1,this.queue=[],this.reset=-1,this.remaining=-1,this.limit=-1,this.retryAfter=-1}push(h){return this.busy?(this.queue.push(h),this.run()):this.execute(h)}run(){return this.queue.length===0?Promise.resolve():this.execute(this.queue.shift())}get limited(){return Boolean(this.manager.globalTimeout)||this.remaining<=0&&Date.now()<this.reset}get _inactive(){return this.queue.length===0&&!this.limited&&this.busy!==!0}async execute(h){if(this.busy)return this.queue.unshift(h),null;this.busy=!0;const{reject:d,request:a,resolve:m}=h;if(this.limited){const f=this.reset+this.manager.client.options.restTimeOffset-Date.now();this.manager.client.listenerCount(o)&&this.manager.client.emit(o,{timeout:f,limit:this.limit,method:a.method,path:a.path,route:a.route}),this.manager.globalTimeout?await this.manager.globalTimeout:await i.delayFor(f)}let p;try{p=await a.make()}catch(f){return this.busy=!1,d(new n(f.message,f.constructor.name,f.status,a.method,a.path))}if(p&&p.headers){const f=p.headers.get("date"),A=p.headers.get("x-ratelimit-limit"),_=p.headers.get("x-ratelimit-remaining"),E=p.headers.get("x-ratelimit-reset"),y=p.headers.get("retry-after");this.limit=A?Number(A):1/0,this.remaining=_?Number(_):1,this.reset=E?function(T,N){return new Date(1e3*Number(T)).getTime()-c(N)}(E,f):Date.now(),this.retryAfter=y?Number(y):-1,h.request.route.includes("reactions")&&(this.reset=new Date(f).getTime()-c(f)+250),p.headers.get("x-ratelimit-global")&&(this.manager.globalTimeout=i.delayFor(this.retryAfter),await this.manager.globalTimeout,this.manager.globalTimeout=null)}if(this.busy=!1,p.ok)return m(await s(p)),this.run();if(p.status===429)return this.queue.unshift(h),this.manager.client.emit("debug",`429 hit on route ${h.request.route}`),await i.delayFor(this.retryAfter),this.run();if(p.status>=500&&p.status<600)return h.retries===this.manager.client.options.retryLimit?d(new n(p.statusText,p.constructor.name,p.status,h.request.method,a.path)):(h.retries++,this.queue.unshift(h),this.run());try{const f=await s(p);return p.status>=400&&p.status<500?d(new l(a.path,f,a.method,p.status)):null}catch(f){return d(new n(f.message,f.constructor.name,f.status,a.method,a.path))}}}},function(module,exports,__webpack_require__){"use strict";(function(process){const BaseClient=__webpack_require__(31),ActionsManager=__webpack_require__(94),ClientVoiceManager=__webpack_require__(131),WebSocketManager=__webpack_require__(132),{Error,TypeError,RangeError}=__webpack_require__(3),ChannelManager=__webpack_require__(79),GuildEmojiManager=__webpack_require__(48),GuildManager=__webpack_require__(80),UserManager=__webpack_require__(81),ShardClientUtil=__webpack_require__(177),ClientApplication=__webpack_require__(41),GuildPreview=__webpack_require__(46),Invite=__webpack_require__(16),VoiceRegion=__webpack_require__(47),Webhook=__webpack_require__(11),Collection=__webpack_require__(2),{Events,browser,DefaultOptions}=__webpack_require__(0),DataResolver=__webpack_require__(9),Intents=__webpack_require__(82),Permissions=__webpack_require__(8),Structures=__webpack_require__(18);class Client extends BaseClient{constructor(u={}){super(Object.assign({_tokenType:"Bot"},u));let g=process.env;try{g=__webpack_require__(178).workerData||g}catch{}this.options.shards===DefaultOptions.shards&&"SHARDS"in g&&(this.options.shards=JSON.parse(g.SHARDS)),this.options.shardCount===DefaultOptions.shardCount&&("SHARD_COUNT"in g?this.options.shardCount=Number(g.SHARD_COUNT):Array.isArray(this.options.shards)&&(this.options.shardCount=this.options.shards.length));const e=typeof this.options.shards;e==="undefined"&&typeof this.options.shardCount=="number"&&(this.options.shards=Array.from({length:this.options.shardCount},(n,o)=>o)),e==="number"&&(this.options.shards=[this.options.shards]),Array.isArray(this.options.shards)&&(this.options.shards=[...new Set(this.options.shards.filter(n=>!isNaN(n)&&n>=0&&n<1/0&&n===(0|n)))]),this._validateOptions(),this.ws=new WebSocketManager(this),this.actions=new ActionsManager(this),this.voice=browser?null:new ClientVoiceManager(this),this.shard=!browser&&process.env.SHARDING_MANAGER?ShardClientUtil.singleton(this,process.env.SHARDING_MANAGER_MODE):null,this.users=new UserManager(this),this.guilds=new GuildManager(this),this.channels=new ChannelManager(this);const l=Structures.get("ClientPresence");this.presence=new l(this),Object.defineProperty(this,"token",{writable:!0}),browser||this.token||!("DISCORD_TOKEN"in process.env)?this.token=null:this.token=process.env.DISCORD_TOKEN,this.user=null,this.readyAt=null,this.options.messageSweepInterval>0&&this.setInterval(this.sweepMessages.bind(this),1e3*this.options.messageSweepInterval)}get emojis(){const u=new GuildEmojiManager({client:this});for(const g of this.guilds.cache.values())if(g.available)for(const e of g.emojis.cache.values())u.cache.set(e.id,e);return u}get readyTimestamp(){return this.readyAt?this.readyAt.getTime():null}get uptime(){return this.readyAt?Date.now()-this.readyAt:null}async login(u=this.token){if(!u||typeof u!="string")throw new Error("TOKEN_INVALID");this.token=u=u.replace(/^(Bot|Bearer)\s*/i,""),this.emit(Events.DEBUG,`Provided token: ${u.split(".").map((g,e)=>e>1?g.replace(/./g,"*"):g).join(".")}`),this.options.presence&&(this.options.ws.presence=await this.presence._parse(this.options.presence)),this.emit(Events.DEBUG,"Preparing to connect to the gateway...");try{return await this.ws.connect(),this.token}catch(g){throw this.destroy(),g}}destroy(){super.destroy(),this.ws.destroy(),this.token=null}fetchInvite(u){const g=DataResolver.resolveInviteCode(u);return this.api.invites(g).get({query:{with_counts:!0}}).then(e=>new Invite(this,e))}fetchWebhook(u,g){return this.api.webhooks(u,g).get().then(e=>new Webhook(this,e))}fetchVoiceRegions(){return this.api.voice.regions.get().then(u=>{const g=new Collection;for(const e of u)g.set(e.id,new VoiceRegion(e));return g})}sweepMessages(u=this.options.messageCacheLifetime){if(typeof u!="number"||isNaN(u))throw new TypeError("INVALID_TYPE","lifetime","number");if(u<=0)return this.emit(Events.DEBUG,"Didn't sweep messages - lifetime is unlimited"),-1;const g=1e3*u,e=Date.now();let l=0,n=0;for(const o of this.channels.cache.values())o.messages&&(l++,n+=o.messages.cache.sweep(t=>e-(t.editedTimestamp||t.createdTimestamp)>g));return this.emit(Events.DEBUG,`Swept ${n} messages older than ${u} seconds in ${l} text-based channels`),n}fetchApplication(){return this.api.oauth2.applications("@me").get().then(u=>new ClientApplication(this,u))}fetchGuildPreview(u){const g=this.guilds.resolveID(u);if(!g)throw new TypeError("INVALID_TYPE","guild","GuildResolvable");return this.api.guilds(g).preview.get().then(e=>new GuildPreview(this,e))}async generateInvite(u){u=Permissions.resolve(u);const g=await this.fetchApplication(),e=new URLSearchParams({client_id:g.id,permissions:u,scope:"bot"});return`${this.options.http.api}${this.api.oauth2.authorize}?${e}`}toJSON(){return super.toJSON({readyAt:!1,presences:!1})}_eval(script){return eval(script)}_validateOptions(u=this.options){if(u.ws.intents!==void 0&&(u.ws.intents=Intents.resolve(u.ws.intents)),typeof u.shardCount!="number"||isNaN(u.shardCount)||u.shardCount<1)throw new TypeError("CLIENT_INVALID_OPTION","shardCount","a number greater than or equal to 1");if(u.shards&&u.shards!=="auto"&&!Array.isArray(u.shards))throw new TypeError("CLIENT_INVALID_OPTION","shards","'auto', a number or array of numbers");if(u.shards&&!u.shards.length)throw new RangeError("CLIENT_INVALID_PROVIDED_SHARDS");if(typeof u.messageCacheMaxSize!="number"||isNaN(u.messageCacheMaxSize))throw new TypeError("CLIENT_INVALID_OPTION","messageCacheMaxSize","a number");if(typeof u.messageCacheLifetime!="number"||isNaN(u.messageCacheLifetime))throw new TypeError("CLIENT_INVALID_OPTION","The messageCacheLifetime","a number");if(typeof u.messageSweepInterval!="number"||isNaN(u.messageSweepInterval))throw new TypeError("CLIENT_INVALID_OPTION","messageSweepInterval","a number");if(typeof u.fetchAllMembers!="boolean")throw new TypeError("CLIENT_INVALID_OPTION","fetchAllMembers","a boolean");if(typeof u.disableMentions!="string")throw new TypeError("CLIENT_INVALID_OPTION","disableMentions","a string");if(!Array.isArray(u.partials))throw new TypeError("CLIENT_INVALID_OPTION","partials","an Array");if(typeof u.restWsBridgeTimeout!="number"||isNaN(u.restWsBridgeTimeout))throw new TypeError("CLIENT_INVALID_OPTION","restWsBridgeTimeout","a number");if(typeof u.restRequestTimeout!="number"||isNaN(u.restRequestTimeout))throw new TypeError("CLIENT_INVALID_OPTION","restRequestTimeout","a number");if(typeof u.restSweepInterval!="number"||isNaN(u.restSweepInterval))throw new TypeError("CLIENT_INVALID_OPTION","restSweepInterval","a number");if(typeof u.retryLimit!="number"||isNaN(u.retryLimit))throw new TypeError("CLIENT_INVALID_OPTION","retryLimit","a number")}}module.exports=Client}).call(this,__webpack_require__(23))},function(u,g,e){"use strict";u.exports=class{constructor(n){this.client=n,this.register(e(95)),this.register(e(96)),this.register(e(97)),this.register(e(98)),this.register(e(99)),this.register(e(100)),this.register(e(101)),this.register(e(102)),this.register(e(103)),this.register(e(104)),this.register(e(110)),this.register(e(111)),this.register(e(112)),this.register(e(113)),this.register(e(114)),this.register(e(115)),this.register(e(116)),this.register(e(117)),this.register(e(118)),this.register(e(119)),this.register(e(120)),this.register(e(121)),this.register(e(122)),this.register(e(123)),this.register(e(124)),this.register(e(125)),this.register(e(126)),this.register(e(127)),this.register(e(128)),this.register(e(129)),this.register(e(130))}register(n){this[n.name.replace(/Action$/,"")]=new n(this.client)}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.channels.cache.get(t.channel_id);if(s){const c=s.messages.cache.get(t.id);if(c)return{message:c};const r=s.messages.add(t),h=r.author;let d=r.member;return s.lastMessageID=t.id,h&&(h.lastMessageID=t.id,h.lastMessageChannelID=s.id),d&&(d.lastMessageID=t.id,d.lastMessageChannelID=s.id),i.emit(n.MESSAGE_CREATE,r),{message:r}}return{}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=this.getChannel(t);let c;return s&&(c=this.getMessage(t,s),c&&(s.messages.cache.delete(c.id),c.deleted=!0,i.emit(n.MESSAGE_DELETE,c))),{message:c}}}},function(u,g,e){"use strict";const l=e(1),n=e(2),{Events:o}=e(0);u.exports=class extends l{handle(i){const s=this.client,c=s.channels.cache.get(i.channel_id);if(c){const r=i.ids,h=new n;for(const d of r){const a=this.getMessage({id:d,guild_id:i.guild_id},c,!1);a&&(a.deleted=!0,h.set(a.id,a),c.messages.cache.delete(d))}return h.size>0&&s.emit(o.MESSAGE_BULK_DELETE,h),{messages:h}}return{}}}},function(u,g,e){"use strict";const l=e(1);u.exports=class extends l{handle(o){const t=this.getChannel(o);if(t){const{id:i,channel_id:s,guild_id:c,author:r,timestamp:h,type:d}=o,a=this.getMessage({id:i,channel_id:s,guild_id:c,author:r,timestamp:h,type:d},t);if(a)return a.patch(o),{old:a._edits[0],updated:a}}return{}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0),{PartialTypes:o}=e(0);u.exports=class extends l{handle(i){if(!i.emoji)return!1;const s=this.getUser(i);if(!s)return!1;const c=this.getChannel(i);if(!c||c.type==="voice")return!1;const r=this.getMessage(i,c);if(!r)return!1;if(r.partial&&!this.client.options.partials.includes(o.REACTION))return!1;const h=r.reactions.add({emoji:i.emoji,count:r.partial?null:0,me:s.id===this.client.user.id});return!!h&&(h._add(s),this.client.emit(n.MESSAGE_REACTION_ADD,h,s),{message:r,reaction:h,user:s})}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){if(!t.emoji)return!1;const i=this.getUser(t);if(!i)return!1;const s=this.getChannel(t);if(!s||s.type==="voice")return!1;const c=this.getMessage(t,s);if(!c)return!1;const r=this.getReaction(t,c,i);return!!r&&(r._remove(i),this.client.emit(n.MESSAGE_REACTION_REMOVE,r,i),{message:c,reaction:r,user:i})}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.getChannel(t);if(!i||i.type==="voice")return!1;const s=this.getMessage(t,i);return!!s&&(s.reactions.cache.clear(),this.client.emit(n.MESSAGE_REACTION_REMOVE_ALL,s),{message:s})}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.getChannel(t);if(!i||i.type==="voice")return!1;const s=this.getMessage(t,i);if(!s)return!1;const c=this.getReaction(t,s);return!!c&&(s.partial||s.reactions.cache.delete(c.emoji.id||c.emoji.name),this.client.emit(n.MESSAGE_REACTION_REMOVE_EMOJI,c),{reaction:c})}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.channels.cache.has(t.id),c=i.channels.add(t);return!s&&c&&i.emit(n.CHANNEL_CREATE,c),{channel:c}}}},function(u,g,e){"use strict";const l=e(1),n=e(32),{Events:o}=e(0);u.exports=class extends l{constructor(i){super(i),this.deleted=new Map}handle(i){const s=this.client;let c=s.channels.cache.get(i.id);if(c){if(s.channels.remove(c.id),c.deleted=!0,c.messages&&!(c instanceof n))for(const r of c.messages.cache.values())r.deleted=!0;s.emit(o.CHANNEL_DELETE,c)}return{channel:c}}}},function(u,g,e){"use strict";const l=e(6),n=e(42);u.exports=class extends l{constructor(t,i){super(t.client,i,n),this.message=t}add(t,i){return super.add(t,i,{id:t.emoji.id||t.emoji.name,extras:[this.message]})}removeAll(){return this.client.api.channels(this.message.channel.id).messages(this.message.id).reactions.delete().then(()=>this.message)}}},function(u,g,e){"use strict";const l=e(2);u.exports=class extends l{constructor(o=0,t=null){super(t),this.maxSize=o}set(o,t){return this.maxSize===0?this:(this.size>=this.maxSize&&!this.has(o)&&this.delete(this.firstKey()),super.set(o,t))}static get[Symbol.species](){return l}}},function(u,g,e){"use strict";const l=e(33);u.exports=class extends l{get roles(){return new Set(this._roles)}}},function(u,g,e){"use strict";const l=e(6),n=e(21);u.exports=class extends l{constructor(t,i){super(t.client,i,n),this.guild=t}add(t,i=!0){const s=this.cache.get(t.user_id);if(s)return s._patch(t);const c=new n(this.guild,t);return i&&this.cache.set(t.user_id,c),c}}},function(u,g,e){"use strict";const l=e(13),{Error:n}=e(3);u.exports=class extends l{constructor(t,i){super(t,i),this.name=i.name,this.icon=i.icon}iconURL({format:t,size:i}={}){return this.icon?this.client.rest.cdn.GDMIcon(this.id,this.icon,t,i):null}delete(){return Promise.reject(new n("DELETE_GROUP_DM_CHANNEL"))}fetch(){return Promise.reject(new n("FETCH_GROUP_DM_CHANNEL"))}}},function(u,g,e){"use strict";const l=e(1),n=e(13),{ChannelTypes:o}=e(0);u.exports=class extends l{handle(i){let s=this.client.channels.cache.get(i.id);if(s){const c=s._update(i);if(o[s.type.toUpperCase()]!==i.type){const r=n.create(this.client,i,s.guild);for(const[h,d]of s.messages.cache)r.messages.cache.set(h,d);r._typing=new Map(s._typing),s=r,this.client.channels.cache.set(s.id,s)}return{old:c,updated:s}}return{}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{constructor(t){super(t),this.deleted=new Map}handle(t){const i=this.client;let s=i.guilds.cache.get(t.id);if(s){for(const c of s.channels.cache.values())c.type==="text"&&c.stopTyping(!0);if(t.unavailable)return s.available=!1,i.emit(n.GUILD_UNAVAILABLE,s),{guild:null};for(const c of s.channels.cache.values())this.client.channels.remove(c.id);s.voice&&s.voice.connection&&s.voice.connection.disconnect(),i.guilds.cache.delete(s.id),s.deleted=!0,i.emit(n.GUILD_DELETE,s),this.deleted.set(s.id,s),this.scheduleForDeletion(s.id)}else s=this.deleted.get(t.id)||null;return{guild:s}}scheduleForDeletion(t){this.client.setTimeout(()=>this.deleted.delete(t),this.client.options.restWsBridgeTimeout)}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.id);if(s){const c=s._update(t);return i.emit(n.GUILD_UPDATE,c,s),{old:c,updated:s}}return{old:null,updated:null}}}},function(u,g,e){"use strict";const l=e(1),n=e(16),{Events:o}=e(0);u.exports=class extends l{handle(i){const s=this.client,c=s.channels.cache.get(i.channel_id),r=s.guilds.cache.get(i.guild_id);if(!c&&!r)return!1;const h=Object.assign(i,{channel:c,guild:r}),d=new n(s,h);return s.emit(o.INVITE_CREATE,d),{invite:d}}}},function(u,g,e){"use strict";const l=e(1),n=e(16),{Events:o}=e(0);u.exports=class extends l{handle(i){const s=this.client,c=s.channels.cache.get(i.channel_id),r=s.guilds.cache.get(i.guild_id);if(!c&&!r)return!1;const h=Object.assign(i,{channel:c,guild:r}),d=new n(s,h);return s.emit(o.INVITE_DELETE,d),{invite:d}}}},function(u,g,e){"use strict";const l=e(1),{Events:n,Status:o}=e(0);u.exports=class extends l{handle(i,s){const c=this.client,r=c.guilds.cache.get(i.guild_id);let h=null;return r&&(h=this.getMember(i,r),r.memberCount--,h&&(h.deleted=!0,r.members.cache.delete(h.id),s.status===o.READY&&c.emit(n.GUILD_MEMBER_REMOVE,h)),r.voiceStates.cache.delete(i.user.id)),{guild:r,member:h}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.guild_id),c=i.users.add(t.user);s&&c&&i.emit(n.GUILD_BAN_REMOVE,s,c)}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.guild_id);let c;if(s){const r=s.roles.cache.has(t.role.id);c=s.roles.add(t.role),r||i.emit(n.GUILD_ROLE_CREATE,c)}return{role:c}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.guild_id);let c;return s&&(c=s.roles.cache.get(t.role_id),c&&(s.roles.cache.delete(t.role_id),c.deleted=!0,i.emit(n.GUILD_ROLE_DELETE,c))),{role:c}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.guild_id);if(s){let c=null;const r=s.roles.cache.get(t.role.id);return r&&(c=r._update(t.role),i.emit(n.GUILD_ROLE_UPDATE,c,r)),{old:c,updated:r}}return{old:null,updated:null}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){let i=this.client.users.cache.get(t.user.id);if(!i&&t.user.username&&(i=this.client.users.add(t.user)),!i)return;t.user&&t.user.username&&(i.equals(t.user)||this.client.actions.UserUpdate.handle(t.user));const s=this.client.guilds.cache.get(t.guild_id);if(!s)return;let c=s.presences.cache.get(i.id);c&&(c=c._clone());let r=s.members.cache.get(i.id);r||t.status==="offline"||(r=s.members.add({user:i,roles:t.roles,deaf:!1,mute:!1}),this.client.emit(n.GUILD_MEMBER_AVAILABLE,r)),s.presences.add(Object.assign(t,{guild:s})),r&&this.client.listenerCount(n.PRESENCE_UPDATE)&&this.client.emit(n.PRESENCE_UPDATE,c,r.presence)}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.users.cache.get(t.id),c=s._update(t);return c.equals(s)?{old:null,updated:null}:(i.emit(n.USER_UPDATE,c,s),{old:c,updated:s})}}},function(u,g,e){"use strict";const l=e(1),n=e(21),{Events:o}=e(0);u.exports=class extends l{handle(i){const s=this.client,c=s.guilds.cache.get(i.guild_id);if(c){const r=c.voiceStates.cache.has(i.user_id)?c.voiceStates.cache.get(i.user_id)._clone():new n(c,{user_id:i.user_id}),h=c.voiceStates.add(i);let d=c.members.cache.get(i.user_id);d&&i.member?d._patch(i.member):i.member&&i.member.user&&i.member.joined_at&&(d=c.members.add(i.member)),d&&d.user.id===s.user.id&&(s.emit("debug",`[VOICE] received voice state update: ${JSON.stringify(i)}`),s.voice.onVoiceStateUpdate(i)),s.emit(o.VOICE_STATE_UPDATE,r,h)}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t,i){const s=t.emojis.add(i);return this.client.emit(n.GUILD_EMOJI_CREATE,s),{emoji:s}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){return t.guild.emojis.cache.delete(t.id),t.deleted=!0,this.client.emit(n.GUILD_EMOJI_DELETE,t),{emoji:t}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t,i){const s=t._update(i);return this.client.emit(n.GUILD_EMOJI_UPDATE,s,t),{emoji:t}}}},function(u,g,e){"use strict";const l=e(1);u.exports=class extends l{handle(o){const t=this.client.guilds.cache.get(o.guild_id);if(!t||!t.emojis)return;const i=new Map(t.emojis.cache);for(const s of o.emojis){const c=t.emojis.cache.get(s.id);c?(i.delete(s.id),c.equals(s)||this.client.actions.GuildEmojiUpdate.handle(c,s)):this.client.actions.GuildEmojiCreate.handle(t,s)}for(const s of i.values())this.client.actions.GuildEmojiDelete.handle(s)}}},function(u,g,e){"use strict";const l=e(1);u.exports=class extends l{handle(o){const t=this.client.guilds.cache.get(o.guild_id);if(t)for(const i of o.roles){const s=t.roles.cache.get(i.id);s&&(s.rawPosition=i.position)}return{guild:t}}}},function(u,g,e){"use strict";const l=e(1);u.exports=class extends l{handle(o){const t=this.client.guilds.cache.get(o.guild_id);if(t)for(const i of o.channels){const s=t.channels.cache.get(i.id);s&&(s.rawPosition=i.position)}return{guild:t}}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.guilds.cache.get(t.guild_id);s&&i.emit(n.GUILD_INTEGRATIONS_UPDATE,s)}}},function(u,g,e){"use strict";const l=e(1),{Events:n}=e(0);u.exports=class extends l{handle(t){const i=this.client,s=i.channels.cache.get(t.channel_id);s&&i.emit(n.WEBHOOKS_UPDATE,s)}}},function(u,g){},function(u,g,e){"use strict";const l=e(24),n=e(133),o=e(77),{Error:t}=e(3),i=e(2),{Events:s,ShardEvents:c,Status:r,WSCodes:h,WSEvents:d}=e(0),a=e(4),m=[d.READY,d.RESUMED,d.GUILD_CREATE,d.GUILD_DELETE,d.GUILD_MEMBERS_CHUNK,d.GUILD_MEMBER_ADD,d.GUILD_MEMBER_REMOVE],p=Object.keys(h).slice(1).map(Number),f=[1e3,4006,4007];u.exports=class extends l{constructor(_){super(),Object.defineProperty(this,"client",{value:_}),this.gateway=void 0,this.totalShards=this.client.options.shards.length,this.shards=new i,Object.defineProperty(this,"shardQueue",{value:new Set,writable:!0}),Object.defineProperty(this,"packetQueue",{value:[]}),this.status=r.IDLE,this.destroyed=!1,this.reconnecting=!1,this.sessionStartLimit=void 0}get ping(){return this.shards.reduce((_,E)=>_+E.ping,0)/this.shards.size}debug(_,E){this.client.emit(s.DEBUG,`[WS => ${E?`Shard ${E.id}`:"Manager"}] ${_}`)}async connect(){const _=new t(h[4004]),{url:E,shards:y,session_start_limit:T}=await this.client.api.gateway.bot.get().catch(L=>{throw L.httpStatus===401?_:L});this.sessionStartLimit=T;const{total:N,remaining:S,reset_after:R}=T;this.debug(`Fetched Gateway Information
    URL: ${E}
    Recommended Shards: ${y}`),this.debug(`Session Limit Information
    Total: ${N}
    Remaining: ${S}`),this.gateway=`${E}/`;let{shards:C}=this.client.options;return C==="auto"&&(this.debug(`Using the recommended shard count provided by Discord: ${y}`),this.totalShards=this.client.options.shardCount=y,C=this.client.options.shards=Array.from({length:y},(L,I)=>I)),this.totalShards=C.length,this.debug(`Spawning shards: ${C.join(", ")}`),this.shardQueue=new Set(C.map(L=>new n(this,L))),await this._handleSessionLimit(S,R),this.createShards()}async createShards(){if(!this.shardQueue.size)return!1;const[_]=this.shardQueue;this.shardQueue.delete(_),_.eventsAttached||(_.on(c.ALL_READY,E=>{this.client.emit(s.SHARD_READY,_.id,E),this.shardQueue.size||(this.reconnecting=!1),this.checkShardsReady()}),_.on(c.CLOSE,E=>{if(E.code===1e3?this.destroyed:p.includes(E.code))return this.client.emit(s.SHARD_DISCONNECT,E,_.id),void this.debug(h[E.code],_);f.includes(E.code)&&(_.sessionID=void 0),this.client.emit(s.SHARD_RECONNECTING,_.id),this.shardQueue.add(_),_.sessionID?(this.debug("Session ID is present, attempting an immediate reconnect...",_),this.reconnect(!0)):(_.destroy({reset:!0,emit:!1,log:!1}),this.reconnect())}),_.on(c.INVALID_SESSION,()=>{this.client.emit(s.SHARD_RECONNECTING,_.id)}),_.on(c.DESTROYED,()=>{this.debug("Shard was destroyed but no WebSocket connection was present! Reconnecting...",_),this.client.emit(s.SHARD_RECONNECTING,_.id),this.shardQueue.add(_),this.reconnect()}),_.eventsAttached=!0),this.shards.set(_.id,_);try{await _.connect()}catch(E){if(E&&E.code&&p.includes(E.code))throw new t(h[E.code]);if(E&&!E.code)throw E;this.debug("Failed to connect to the gateway, requeueing...",_),this.shardQueue.add(_)}return!this.shardQueue.size||(this.debug(`Shard Queue Size: ${this.shardQueue.size}; continuing in 5 seconds...`),await a.delayFor(5e3),await this._handleSessionLimit(),this.createShards())}async reconnect(_=!1){if(this.reconnecting||this.status!==r.READY)return!1;this.reconnecting=!0;try{_||await this._handleSessionLimit(),await this.createShards()}catch(E){if(this.debug(`Couldn't reconnect or fetch information about the gateway. ${E}`),E.httpStatus!==401)return this.debug("Possible network error occurred. Retrying in 5s..."),await a.delayFor(5e3),this.reconnecting=!1,this.reconnect();this.client.listenerCount(s.INVALIDATED)?(this.client.emit(s.INVALIDATED),this.destroy()):this.client.destroy()}finally{this.reconnecting=!1}return!0}broadcast(_){for(const E of this.shards.values())E.send(_)}destroy(){if(!this.destroyed){this.debug(`Manager was destroyed. Called by:
${new Error("MANAGER_DESTROYED").stack}`),this.destroyed=!0,this.shardQueue.clear();for(const _ of this.shards.values())_.destroy({closeCode:1e3,reset:!0,emit:!1,log:!1})}}async _handleSessionLimit(_,E){if(_===void 0&&E===void 0){const{session_start_limit:y}=await this.client.api.gateway.bot.get();this.sessionStartLimit=y,_=y.remaining,E=y.reset_after,this.debug(`Session Limit Information
    Total: ${y.total}
    Remaining: ${_}`)}_||(this.debug(`Exceeded identify threshold. Will attempt a connection in ${E}ms`),await a.delayFor(E))}handlePacket(_,E){if(_&&this.status!==r.READY&&!m.includes(_.t))return this.packetQueue.push({packet:_,shard:E}),!1;if(this.packetQueue.length){const y=this.packetQueue.shift();this.client.setImmediate(()=>{this.handlePacket(y.packet,y.shard)})}return _&&o[_.t]&&o[_.t](this.client,_,E),!0}async checkShardsReady(){if(this.status!==r.READY&&this.shards.size===this.totalShards&&!this.shards.some(_=>_.status!==r.READY)){if(this.status=r.NEARLY,this.client.options.fetchAllMembers)try{const _=this.client.guilds.cache.map(E=>E.available?E.members.fetch():Promise.resolve());await Promise.all(_)}catch(_){this.debug(`Failed to fetch all members before ready! ${_}
${_.stack}`)}this.triggerClientReady()}}triggerClientReady(){this.status=r.READY,this.client.readyAt=new Date,this.client.emit(s.CLIENT_READY),this.handlePacket()}}},function(u,g,e){"use strict";const l=e(24),n=e(76),{browser:o,Status:t,Events:i,ShardEvents:s,OPCodes:c,WSEvents:r}=e(0),h=Object.keys(t),d=Object.keys(n.WebSocket);let a;if(!o)try{a=e(139)}catch{}u.exports=class extends l{constructor(p,f){super(),this.manager=p,this.id=f,this.status=t.IDLE,this.sequence=-1,this.closeSequence=0,this.sessionID=void 0,this.ping=-1,this.lastPingTimestamp=-1,this.lastHeartbeatAcked=!0,Object.defineProperty(this,"ratelimit",{value:{queue:[],total:120,remaining:120,time:6e4,timer:null}}),Object.defineProperty(this,"connection",{value:null,writable:!0}),Object.defineProperty(this,"inflate",{value:null,writable:!0}),Object.defineProperty(this,"helloTimeout",{value:void 0,writable:!0}),Object.defineProperty(this,"eventsAttached",{value:!1,writable:!0}),Object.defineProperty(this,"expectedGuilds",{value:void 0,writable:!0}),Object.defineProperty(this,"readyTimeout",{value:void 0,writable:!0}),Object.defineProperty(this,"connectedAt",{value:0,writable:!0})}debug(p){this.manager.debug(p,this)}connect(){const{gateway:p,client:f}=this.manager;return this.connection&&this.connection.readyState===n.OPEN&&this.status===t.READY?Promise.resolve():new Promise((A,_)=>{const E=()=>{this.removeListener(s.CLOSE,N),this.removeListener(s.READY,y),this.removeListener(s.RESUMED,T),this.removeListener(s.INVALID_SESSION,S),this.removeListener(s.DESTROYED,S)},y=()=>{E(),A()},T=()=>{E(),A()},N=L=>{E(),_(L)},S=()=>{E(),_()};if(this.once(s.READY,y),this.once(s.RESUMED,T),this.once(s.CLOSE,N),this.once(s.INVALID_SESSION,S),this.once(s.DESTROYED,S),this.connection&&this.connection.readyState===n.OPEN)return this.debug("An open connection was found, attempting an immediate identify."),void this.identify();this.connection&&(this.debug(`A connection object was found. Cleaning up before continuing.
    State: ${d[this.connection.readyState]}`),this.destroy({emit:!1}));const R={v:f.options.ws.version};a&&(this.inflate=new a.Inflate({chunkSize:65535,flush:a.Z_SYNC_FLUSH,to:n.encoding==="json"?"string":""}),R.compress="zlib-stream"),this.debug(`[CONNECT]
    Gateway    : ${p}
    Version    : ${f.options.ws.version}
    Encoding   : ${n.encoding}
    Compression: ${a?"zlib-stream":"none"}`),this.status=this.status===t.DISCONNECTED?t.RECONNECTING:t.CONNECTING,this.setHelloTimeout(),this.connectedAt=Date.now();const C=this.connection=n.create(p,R);C.onopen=this.onOpen.bind(this),C.onmessage=this.onMessage.bind(this),C.onerror=this.onError.bind(this),C.onclose=this.onClose.bind(this)})}onOpen(){this.debug(`[CONNECTED] ${this.connection.url} in ${Date.now()-this.connectedAt}ms`),this.status=t.NEARLY}onMessage({data:p}){let f,A;if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),a){const _=p.length,E=_>=4&&p[_-4]===0&&p[_-3]===0&&p[_-2]===255&&p[_-1]===255;if(this.inflate.push(p,E&&a.Z_SYNC_FLUSH),!E)return;f=this.inflate.result}else f=p;try{A=n.unpack(f),this.manager.client.emit(i.RAW,A,this.id),A.op===c.DISPATCH&&this.manager.emit(A.t,A.d,this.id)}catch(_){return void this.manager.client.emit(i.SHARD_ERROR,_,this.id)}this.onPacket(A)}onError(p){const f=p&&p.error?p.error:p;f&&this.manager.client.emit(i.SHARD_ERROR,f,this.id)}onClose(p){this.sequence!==-1&&(this.closeSequence=this.sequence),this.sequence=-1,this.debug(`[CLOSE]
    Event Code: ${p.code}
    Clean     : ${p.wasClean}
    Reason    : ${p.reason||"No reason received"}`),this.setHeartbeatTimer(-1),this.setHelloTimeout(-1),this.connection&&this._cleanupConnection(),this.status=t.DISCONNECTED,this.emit(s.CLOSE,p)}onPacket(p){if(p){switch(p.t){case r.READY:this.emit(s.READY),this.sessionID=p.d.session_id,this.expectedGuilds=new Set(p.d.guilds.map(f=>f.id)),this.status=t.WAITING_FOR_GUILDS,this.debug(`[READY] Session ${this.sessionID}.`),this.lastHeartbeatAcked=!0,this.sendHeartbeat("ReadyHeartbeat");break;case r.RESUMED:{this.emit(s.RESUMED),this.status=t.READY;const f=p.s-this.closeSequence;this.debug(`[RESUMED] Session ${this.sessionID} | Replayed ${f} events.`),this.lastHeartbeatAcked=!0,this.sendHeartbeat("ResumeHeartbeat");break}}switch(p.s>this.sequence&&(this.sequence=p.s),p.op){case c.HELLO:this.setHelloTimeout(-1),this.setHeartbeatTimer(p.d.heartbeat_interval),this.identify();break;case c.RECONNECT:this.destroy({closeCode:4e3});break;case c.INVALID_SESSION:if(this.debug(`[INVALID SESSION] Resumable: ${p.d}.`),p.d)return void this.identifyResume();this.sequence=-1,this.sessionID=void 0,this.status=t.RECONNECTING,this.emit(s.INVALID_SESSION);break;case c.HEARTBEAT_ACK:this.ackHeartbeat();break;case c.HEARTBEAT:this.sendHeartbeat("HeartbeatRequest",!0);break;default:this.manager.handlePacket(p,this),this.status===t.WAITING_FOR_GUILDS&&p.t===r.GUILD_CREATE&&(this.expectedGuilds.delete(p.d.id),this.checkReady())}}else this.debug(`Received broken packet: '${p}'.`)}checkReady(){if(this.readyTimeout&&(this.manager.client.clearTimeout(this.readyTimeout),this.readyTimeout=void 0),!this.expectedGuilds.size)return this.debug("Shard received all its guilds. Marking as fully ready."),this.status=t.READY,void this.emit(s.ALL_READY);this.readyTimeout=this.manager.client.setTimeout(()=>{this.debug(`Shard did not receive any more guild packets in 15 seconds.
  Unavailable guild count: ${this.expectedGuilds.size}`),this.readyTimeout=void 0,this.status=t.READY,this.emit(s.ALL_READY,this.expectedGuilds)},15e3)}setHelloTimeout(p){p!==-1?(this.debug("Setting a HELLO timeout for 20s."),this.helloTimeout=this.manager.client.setTimeout(()=>{this.debug("Did not receive HELLO in time. Destroying and connecting again."),this.destroy({reset:!0,closeCode:4009})},2e4)):this.helloTimeout&&(this.debug("Clearing the HELLO timeout."),this.manager.client.clearTimeout(this.helloTimeout),this.helloTimeout=void 0)}setHeartbeatTimer(p){p!==-1?(this.debug(`Setting a heartbeat interval for ${p}ms.`),this.heartbeatInterval&&this.manager.client.clearInterval(this.heartbeatInterval),this.heartbeatInterval=this.manager.client.setInterval(()=>this.sendHeartbeat(),p)):this.heartbeatInterval&&(this.debug("Clearing the heartbeat interval."),this.manager.client.clearInterval(this.heartbeatInterval),this.heartbeatInterval=void 0)}sendHeartbeat(p="HeartbeatTimer",f=[t.WAITING_FOR_GUILDS,t.IDENTIFYING,t.RESUMING].includes(this.status)){if(f&&!this.lastHeartbeatAcked)this.debug(`[${p}] Didn't process heartbeat ack yet but we are still connected. Sending one now.`);else if(!this.lastHeartbeatAcked)return this.debug(`[${p}] Didn't receive a heartbeat ack last time, assuming zombie connection. Destroying and reconnecting.
    Status          : ${h[this.status]}
    Sequence        : ${this.sequence}
    Connection State: ${this.connection?d[this.connection.readyState]:"No Connection??"}`),void this.destroy({closeCode:4009,reset:!0});this.debug(`[${p}] Sending a heartbeat.`),this.lastHeartbeatAcked=!1,this.lastPingTimestamp=Date.now(),this.send({op:c.HEARTBEAT,d:this.sequence},!0)}ackHeartbeat(){this.lastHeartbeatAcked=!0;const p=Date.now()-this.lastPingTimestamp;this.debug(`Heartbeat acknowledged, latency of ${p}ms.`),this.ping=p}identify(){return this.sessionID?this.identifyResume():this.identifyNew()}identifyNew(){const{client:p}=this.manager;if(!p.token)return void this.debug("[IDENTIFY] No token available to identify a new session.");this.status=t.IDENTIFYING;const f={...p.options.ws,token:p.token,shard:[this.id,Number(p.options.shardCount)]};this.debug(`[IDENTIFY] Shard ${this.id}/${p.options.shardCount}`),this.send({op:c.IDENTIFY,d:f},!0)}identifyResume(){if(!this.sessionID)return this.debug("[RESUME] No session ID was present; identifying as a new session."),void this.identifyNew();this.status=t.RESUMING,this.debug(`[RESUME] Session ${this.sessionID}, sequence ${this.closeSequence}`);const p={token:this.manager.client.token,session_id:this.sessionID,seq:this.closeSequence};this.send({op:c.RESUME,d:p},!0)}send(p,f=!1){this.ratelimit.queue[f?"unshift":"push"](p),this.processQueue()}_send(p){if(!this.connection||this.connection.readyState!==n.OPEN)return this.debug(`Tried to send packet '${JSON.stringify(p)}' but no WebSocket is available!`),void this.destroy({close:4e3});this.connection.send(n.pack(p),f=>{f&&this.manager.client.emit(i.SHARD_ERROR,f,this.id)})}processQueue(){if(this.ratelimit.remaining!==0&&this.ratelimit.queue.length!==0)for(this.ratelimit.remaining===this.ratelimit.total&&(this.ratelimit.timer=this.manager.client.setTimeout(()=>{this.ratelimit.remaining=this.ratelimit.total,this.processQueue()},this.ratelimit.time));this.ratelimit.remaining>0;){const p=this.ratelimit.queue.shift();if(!p)return;this._send(p),this.ratelimit.remaining--}}destroy({closeCode:p=1e3,reset:f=!1,emit:A=!0,log:_=!0}={}){if(_&&this.debug(`[DESTROY]
    Close Code    : ${p}
    Reset         : ${f}
    Emit DESTROYED: ${A}`),this.setHeartbeatTimer(-1),this.setHelloTimeout(-1),this.connection)if(this.connection.readyState===n.OPEN)this.connection.close(p);else{this.debug(`WS State: ${d[this.connection.readyState]}`),this._cleanupConnection();try{this.connection.close(p)}catch{}A&&this._emitDestroyed()}else A&&this._emitDestroyed();this.connection=null,this.status=t.DISCONNECTED,this.sequence!==-1&&(this.closeSequence=this.sequence),f&&(this.sequence=-1,this.sessionID=void 0),this.ratelimit.remaining=this.ratelimit.total,this.ratelimit.queue.length=0,this.ratelimit.timer&&(this.manager.client.clearTimeout(this.ratelimit.timer),this.ratelimit.timer=null)}_cleanupConnection(){this.connection.onopen=this.connection.onclose=this.connection.onerror=this.connection.onmessage=null}_emitDestroyed(){this.emit(s.DESTROYED)}}},function(u,g){},function(u,g,e){(function(l){var n=Object.getOwnPropertyDescriptors||function(v){for(var b=Object.keys(v),w={},M=0;M<b.length;M++)w[b[M]]=Object.getOwnPropertyDescriptor(v,b[M]);return w},o=/%[sdj%]/g;g.format=function(v){if(!_(v)){for(var b=[],w=0;w<arguments.length;w++)b.push(s(arguments[w]));return b.join(" ")}w=1;for(var M=arguments,k=M.length,x=String(v).replace(o,function(P){if(P==="%%")return"%";if(w>=k)return P;switch(P){case"%s":return String(M[w++]);case"%d":return Number(M[w++]);case"%j":try{return JSON.stringify(M[w++])}catch(V){return"[Circular]"}default:return P}}),U=M[w];w<k;U=M[++w])f(U)||!T(U)?x+=" "+U:x+=" "+s(U);return x},g.deprecate=function(v,b){if(l!==void 0&&l.noDeprecation===!0)return v;if(l===void 0)return function(){return g.deprecate(v,b).apply(this,arguments)};var w=!1;return function(){if(!w){if(l.throwDeprecation)throw new Error(b);l.traceDeprecation?console.trace(b):console.error(b),w=!0}return v.apply(this,arguments)}};var t,i={};function s(v,b){var w={seen:[],stylize:r};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),p(b)?w.showHidden=b:b&&g._extend(w,b),E(w.showHidden)&&(w.showHidden=!1),E(w.depth)&&(w.depth=2),E(w.colors)&&(w.colors=!1),E(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=c),h(w,v,w.depth)}function c(v,b){var w=s.styles[b];return w?"["+s.colors[w][0]+"m"+v+"["+s.colors[w][1]+"m":v}function r(v,b){return v}function h(v,b,w){if(v.customInspect&&b&&R(b.inspect)&&b.inspect!==g.inspect&&(!b.constructor||b.constructor.prototype!==b)){var M=b.inspect(w,v);return _(M)||(M=h(v,M,w)),M}var k=function(B,j){if(E(j))return B.stylize("undefined","undefined");if(_(j)){var $="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize($,"string")}if(A(j))return B.stylize(""+j,"number");if(p(j))return B.stylize(""+j,"boolean");if(f(j))return B.stylize("null","null")}(v,b);if(k)return k;var x=Object.keys(b),U=function(B){var j={};return B.forEach(function($,F){j[$]=!0}),j}(x);if(v.showHidden&&(x=Object.getOwnPropertyNames(b)),S(b)&&(x.indexOf("message")>=0||x.indexOf("description")>=0))return d(b);if(x.length===0){if(R(b)){var P=b.name?": "+b.name:"";return v.stylize("[Function"+P+"]","special")}if(y(b))return v.stylize(RegExp.prototype.toString.call(b),"regexp");if(N(b))return v.stylize(Date.prototype.toString.call(b),"date");if(S(b))return d(b)}var V,H="",Y=!1,z=["{","}"];return(m(b)&&(Y=!0,z=["[","]"]),R(b))&&(H=" [Function"+(b.name?": "+b.name:"")+"]"),y(b)&&(H=" "+RegExp.prototype.toString.call(b)),N(b)&&(H=" "+Date.prototype.toUTCString.call(b)),S(b)&&(H=" "+d(b)),x.length!==0||Y&&b.length!=0?w<0?y(b)?v.stylize(RegExp.prototype.toString.call(b),"regexp"):v.stylize("[Object]","special"):(v.seen.push(b),V=Y?function(B,j,$,F,K){for(var q=[],J=0,X=j.length;J<X;++J)O(j,String(J))?q.push(a(B,j,$,F,String(J),!0)):q.push("");return K.forEach(function(Q){Q.match(/^\d+$/)||q.push(a(B,j,$,F,Q,!0))}),q}(v,b,w,U,x):x.map(function(B){return a(v,b,w,U,B,Y)}),v.seen.pop(),function(B,j,$){return B.reduce(function(F,K){return K.indexOf(`
`)>=0,F+K.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(j===""?"":j+`
 `)+" "+B.join(`,
  `)+" "+$[1]:$[0]+j+" "+B.join(", ")+" "+$[1]}(V,H,z)):z[0]+H+z[1]}function d(v){return"["+Error.prototype.toString.call(v)+"]"}function a(v,b,w,M,k,x){var U,P,V;if((V=Object.getOwnPropertyDescriptor(b,k)||{value:b[k]}).get?P=V.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):V.set&&(P=v.stylize("[Setter]","special")),O(M,k)||(U="["+k+"]"),P||(v.seen.indexOf(V.value)<0?(P=f(w)?h(v,V.value,null):h(v,V.value,w-1)).indexOf(`
`)>-1&&(P=x?P.split(`
`).map(function(H){return"  "+H}).join(`
`).substr(2):`
`+P.split(`
`).map(function(H){return"   "+H}).join(`
`)):P=v.stylize("[Circular]","special")),E(U)){if(x&&k.match(/^\d+$/))return P;(U=JSON.stringify(""+k)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=v.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=v.stylize(U,"string"))}return U+": "+P}function m(v){return Array.isArray(v)}function p(v){return typeof v=="boolean"}function f(v){return v===null}function A(v){return typeof v=="number"}function _(v){return typeof v=="string"}function E(v){return v===void 0}function y(v){return T(v)&&C(v)==="[object RegExp]"}function T(v){return typeof v=="object"&&v!==null}function N(v){return T(v)&&C(v)==="[object Date]"}function S(v){return T(v)&&(C(v)==="[object Error]"||v instanceof Error)}function R(v){return typeof v=="function"}function C(v){return Object.prototype.toString.call(v)}function L(v){return v<10?"0"+v.toString(10):v.toString(10)}g.debuglog=function(v){if(E(t)&&(t=l.env.NODE_DEBUG||""),v=v.toUpperCase(),!i[v])if(new RegExp("\\b"+v+"\\b","i").test(t)){var b=l.pid;i[v]=function(){var w=g.format.apply(g,arguments);console.error("%s %d: %s",v,b,w)}}else i[v]=function(){};return i[v]},g.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=m,g.isBoolean=p,g.isNull=f,g.isNullOrUndefined=function(v){return v==null},g.isNumber=A,g.isString=_,g.isSymbol=function(v){return typeof v=="symbol"},g.isUndefined=E,g.isRegExp=y,g.isObject=T,g.isDate=N,g.isError=S,g.isFunction=R,g.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},g.isBuffer=e(136);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var v=new Date,b=[L(v.getHours()),L(v.getMinutes()),L(v.getSeconds())].join(":");return[v.getDate(),I[v.getMonth()],b].join(" ")}function O(v,b){return Object.prototype.hasOwnProperty.call(v,b)}g.log=function(){console.log("%s - %s",D(),g.format.apply(g,arguments))},g.inherits=e(137),g._extend=function(v,b){if(!b||!T(b))return v;for(var w=Object.keys(b),M=w.length;M--;)v[w[M]]=b[w[M]];return v};var G=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function W(v,b){if(!v){var w=new Error("Promise was rejected with a falsy value");w.reason=v,v=w}return b(v)}g.promisify=function(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');if(G&&v[G]){var b;if(typeof(b=v[G])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,G,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var w,M,k=new Promise(function(P,V){w=P,M=V}),x=[],U=0;U<arguments.length;U++)x.push(arguments[U]);x.push(function(P,V){P?M(P):w(V)});try{v.apply(this,x)}catch(P){M(P)}return k}return Object.setPrototypeOf(b,Object.getPrototypeOf(v)),G&&Object.defineProperty(b,G,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,n(v))},g.promisify.custom=G,g.callbackify=function(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');function b(){for(var w=[],M=0;M<arguments.length;M++)w.push(arguments[M]);var k=w.pop();if(typeof k!="function")throw new TypeError("The last argument must be of type Function");var x=this,U=function(){return k.apply(x,arguments)};v.apply(this,w).then(function(P){l.nextTick(U,null,P)},function(P){l.nextTick(W,P,U)})}return Object.setPrototypeOf(b,Object.getPrototypeOf(v)),Object.defineProperties(b,n(v)),b}}).call(this,e(23))},function(u,g){u.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},function(u,g){typeof Object.create=="function"?u.exports=function(e,l){e.super_=l,e.prototype=Object.create(l.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:u.exports=function(e,l){e.super_=l;var n=function(){};n.prototype=l.prototype,e.prototype=new n,e.prototype.constructor=e}},function(u,g){},function(u,g){},function(u,g,e){var l={"./CHANNEL_CREATE.js":141,"./CHANNEL_DELETE.js":142,"./CHANNEL_PINS_UPDATE.js":143,"./CHANNEL_UPDATE.js":144,"./GUILD_BAN_ADD.js":145,"./GUILD_BAN_REMOVE.js":146,"./GUILD_CREATE.js":147,"./GUILD_DELETE.js":148,"./GUILD_EMOJIS_UPDATE.js":149,"./GUILD_INTEGRATIONS_UPDATE.js":150,"./GUILD_MEMBERS_CHUNK.js":151,"./GUILD_MEMBER_ADD.js":152,"./GUILD_MEMBER_REMOVE.js":153,"./GUILD_MEMBER_UPDATE.js":154,"./GUILD_ROLE_CREATE.js":155,"./GUILD_ROLE_DELETE.js":156,"./GUILD_ROLE_UPDATE.js":157,"./GUILD_UPDATE.js":158,"./INVITE_CREATE.js":159,"./INVITE_DELETE.js":160,"./MESSAGE_CREATE.js":161,"./MESSAGE_DELETE.js":162,"./MESSAGE_DELETE_BULK.js":163,"./MESSAGE_REACTION_ADD.js":164,"./MESSAGE_REACTION_REMOVE.js":165,"./MESSAGE_REACTION_REMOVE_ALL.js":166,"./MESSAGE_REACTION_REMOVE_EMOJI.js":167,"./MESSAGE_UPDATE.js":168,"./PRESENCE_UPDATE.js":169,"./READY.js":170,"./RESUMED.js":171,"./TYPING_START.js":172,"./USER_UPDATE.js":173,"./VOICE_SERVER_UPDATE.js":174,"./VOICE_STATE_UPDATE.js":175,"./WEBHOOKS_UPDATE.js":176,"./index.js":77};function n(t){var i=o(t);return e(i)}function o(t){if(!e.o(l,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return l[t]}n.keys=function(){return Object.keys(l)},n.resolve=o,u.exports=n,n.id=140},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.ChannelCreate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.ChannelDelete.handle(n.d)}},function(u,g,e){"use strict";const{Events:l}=e(0);u.exports=(n,{d:o})=>{const t=n.channels.cache.get(o.channel_id),i=new Date(o.last_pin_timestamp);t&&!Number.isNaN(i.getTime())&&(t.lastPinTimestamp=i.getTime()||null,n.emit(l.CHANNEL_PINS_UPDATE,t,i))}},function(u,g,e){"use strict";const{Events:l}=e(0);u.exports=(n,o)=>{const{old:t,updated:i}=n.actions.ChannelUpdate.handle(o.d);t&&i&&n.emit(l.CHANNEL_UPDATE,t,i)}},function(u,g,e){"use strict";const{Events:l}=e(0);u.exports=(n,{d:o})=>{const t=n.guilds.cache.get(o.guild_id),i=n.users.add(o.user);t&&i&&n.emit(l.GUILD_BAN_ADD,t,i)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildBanRemove.handle(n.d)}},function(u,g,e){"use strict";const{Events:l,Status:n}=e(0);u.exports=async(o,{d:t},i)=>{let s=o.guilds.cache.get(t.id);s?s.available||t.unavailable||(s._patch(t),o.ws.status===n.READY&&o.options.fetchAllMembers&&await s.members.fetch().catch(c=>o.emit(l.DEBUG,`Failed to fetch all members: ${c}
${c.stack}`))):(t.shardID=i.id,s=o.guilds.add(t),o.ws.status===n.READY&&(o.options.fetchAllMembers&&await s.members.fetch().catch(c=>o.emit(l.DEBUG,`Failed to fetch all members: ${c}
${c.stack}`)),o.emit(l.GUILD_CREATE,s)))}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildDelete.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildEmojisUpdate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildIntegrationsUpdate.handle(n.d)}},function(u,g,e){"use strict";const l=e(2),{Events:n}=e(0);u.exports=(o,{d:t})=>{const i=o.guilds.cache.get(t.guild_id);if(!i)return;const s=new l;for(const c of t.members)s.set(c.user.id,i.members.add(c));if(t.presences)for(const c of t.presences)i.presences.cache.add(Object.assign(c,{guild:i}));o.emit(n.GUILD_MEMBERS_CHUNK,s,i)}},function(u,g,e){"use strict";const{Events:l,Status:n}=e(0);u.exports=(o,{d:t},i)=>{const s=o.guilds.cache.get(t.guild_id);if(s){s.memberCount++;const c=s.members.add(t);i.status===n.READY&&o.emit(l.GUILD_MEMBER_ADD,c)}}},function(u,g,e){"use strict";u.exports=(l,n,o)=>{l.actions.GuildMemberRemove.handle(n.d,o)}},function(u,g,e){"use strict";const{Status:l,Events:n}=e(0);u.exports=(o,{d:t},i)=>{const s=o.guilds.cache.get(t.guild_id);if(s){const c=s.members.cache.get(t.user.id);if(c){const r=c._update(t);i.status===l.READY&&o.emit(n.GUILD_MEMBER_UPDATE,r,c)}}}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleCreate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleDelete.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleUpdate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.GuildUpdate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.InviteCreate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.InviteDelete.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageCreate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageDelete.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageDeleteBulk.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionAdd.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemove.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemoveAll.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemoveEmoji.handle(n.d)}},function(u,g,e){"use strict";const{Events:l}=e(0);u.exports=(n,o)=>{const{old:t,updated:i}=n.actions.MessageUpdate.handle(o.d);t&&i&&n.emit(l.MESSAGE_UPDATE,t,i)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.PresenceUpdate.handle(n.d)}},function(u,g,e){"use strict";let l;u.exports=(n,{d:o},t)=>{if(n.user)n.user._patch(o.user);else{l||(l=e(78));const i=new l(n,o.user);n.user=i,n.users.cache.set(i.id,i)}for(const i of o.guilds)i.shardID=t.id,n.guilds.add(i);t.checkReady()}},function(u,g,e){"use strict";const{Events:l}=e(0);u.exports=(n,o,t)=>{const i=t.sequence-t.closeSequence;n.emit(l.SHARD_RESUME,t.id,i)}},function(u,g,e){"use strict";const{Events:l}=e(0);function n(o,t){return o.client.setTimeout(()=>{o._typing.delete(t.id)},1e4)}u.exports=(o,{d:t})=>{const i=o.channels.cache.get(t.channel_id),s=o.users.cache.get(t.user_id),c=new Date(1e3*t.timestamp);if(i&&s){if(i.type==="voice")return void o.emit(l.WARN,`Discord sent a typing packet to a voice channel ${i.id}`);if(i._typing.has(s.id)){const r=i._typing.get(s.id);r.lastTimestamp=c,r.elapsedTime=Date.now()-r.since,o.clearTimeout(r.timeout),r.timeout=n(i,s)}else{const r=new Date,h=new Date;i._typing.set(s.id,{user:s,since:r,lastTimestamp:h,elapsedTime:Date.now()-r,timeout:n(i,s)}),o.emit(l.TYPING_START,i,s)}}}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.UserUpdate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.emit("debug",`[VOICE] received voice server: ${JSON.stringify(n)}`),l.voice.onVoiceServer(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.VoiceStateUpdate.handle(n.d)}},function(u,g,e){"use strict";u.exports=(l,n)=>{l.actions.WebhooksUpdate.handle(n.d)}},function(u,g){},function(u,g){},function(u,g){},function(u,g){},function(u,g){},function(u,g,e){"use strict";const l=e(14);class n extends l{}n.FLAGS={SPEAKING:1,SOUNDSHARE:2,PRIORITY_SPEAKING:4},u.exports=n}])});
