!function(u,g){typeof exports=="object"&&typeof module=="object"?module.exports=g():typeof define=="function"&&define.amd?define([],g):typeof exports=="object"?exports.Discord=g():u.Discord=g()}(window,function(){return function(u){var g={};function s(l){if(g[l])return g[l].exports;var n=g[l]={i:l,l:!1,exports:{}};return u[l].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=u,s.c=g,s.d=function(l,n,e){s.o(l,n)||Object.defineProperty(l,n,{enumerable:!0,get:e})},s.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},s.t=function(l,n){if(1&n&&(l=s(l)),8&n)return l;if(4&n&&typeof l=="object"&&l&&l.__esModule)return l;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:l}),2&n&&typeof l!="string")for(var i in l)s.d(e,i,function(t){return l[t]}.bind(null,i));return e},s.n=function(l){var n=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(n,"a",n),n},s.o=function(l,n){return Object.prototype.hasOwnProperty.call(l,n)},s.p="",s(s.s=83)}([function(u,g,s){"use strict";(function(l){const n=g.Package=s(49),{Error:e,RangeError:i}=s(3),t=g.browser=typeof window!="undefined";g.DefaultOptions={shardCount:1,messageCacheMaxSize:200,messageCacheLifetime:0,messageSweepInterval:0,fetchAllMembers:!1,disableMentions:"none",partials:[],restWsBridgeTimeout:5e3,restRequestTimeout:15e3,retryLimit:1,restTimeOffset:500,restSweepInterval:60,presence:{},ws:{large_threshold:250,compress:!1,properties:{$os:t?"browser":l.platform,$browser:"discord.js",$device:"discord.js"},version:6},http:{version:7,api:"https://discordapp.com/api",cdn:"https://cdn.discordapp.com",invite:"https://discord.gg"}},g.UserAgent=t?null:`DiscordBot (${n.homepage.split("#")[0]}, ${n.version}) Node.js/${l.version}`,g.WSCodes={1e3:"WS_CLOSE_REQUESTED",4004:"TOKEN_INVALID",4010:"SHARDING_INVALID",4011:"SHARDING_REQUIRED",4013:"INVALID_INTENTS",4014:"DISALLOWED_INTENTS"};const o=["webp","png","jpg","gif"],r=Array.from({length:8},(c,h)=>2**(h+4));function a(c,{format:h="webp",size:d}={}){if(h&&!o.includes(h))throw new e("IMAGE_FORMAT",h);if(d&&!r.includes(d))throw new i("IMAGE_SIZE",d);return`${c}.${h}${d?`?size=${d}`:""}`}function m(c){let h=Object.create(null);for(const d of c)h[d]=d;return h}g.Endpoints={CDN:c=>({Emoji:(h,d="png")=>`${c}/emojis/${h}.${d}`,Asset:h=>`${c}/assets/${h}`,DefaultAvatar:h=>`${c}/embed/avatars/${h}.png`,Avatar:(h,d,p="webp",y,E=!1)=>(E&&(p=d.startsWith("a_")?"gif":p),a(`${c}/avatars/${h}/${d}`,{format:p,size:y})),Banner:(h,d,p="webp",y)=>a(`${c}/banners/${h}/${d}`,{format:p,size:y}),Icon:(h,d,p="webp",y,E=!1)=>(E&&(p=d.startsWith("a_")?"gif":p),a(`${c}/icons/${h}/${d}`,{format:p,size:y})),AppIcon:(h,d,{format:p="webp",size:y}={})=>a(`${c}/app-icons/${h}/${d}`,{size:y,format:p}),AppAsset:(h,d,{format:p="webp",size:y}={})=>a(`${c}/app-assets/${h}/${d}`,{size:y,format:p}),GDMIcon:(h,d,p="webp",y)=>a(`${c}/channel-icons/${h}/${d}`,{size:y,format:p}),Splash:(h,d,p="webp",y)=>a(`${c}/splashes/${h}/${d}`,{size:y,format:p}),DiscoverySplash:(h,d,p="webp",y)=>a(`${c}/discovery-splashes/${h}/${d}`,{size:y,format:p}),TeamIcon:(h,d,{format:p="webp",size:y}={})=>a(`${c}/team-icons/${h}/${d}`,{size:y,format:p})}),invite:(c,h)=>`${c}/${h}`,botGateway:"/gateway/bot"},g.Status={READY:0,CONNECTING:1,RECONNECTING:2,IDLE:3,NEARLY:4,DISCONNECTED:5,WAITING_FOR_GUILDS:6,IDENTIFYING:7,RESUMING:8},g.VoiceStatus={CONNECTED:0,CONNECTING:1,AUTHENTICATING:2,RECONNECTING:3,DISCONNECTED:4},g.OPCodes={DISPATCH:0,HEARTBEAT:1,IDENTIFY:2,STATUS_UPDATE:3,VOICE_STATE_UPDATE:4,VOICE_GUILD_PING:5,RESUME:6,RECONNECT:7,REQUEST_GUILD_MEMBERS:8,INVALID_SESSION:9,HELLO:10,HEARTBEAT_ACK:11},g.VoiceOPCodes={IDENTIFY:0,SELECT_PROTOCOL:1,READY:2,HEARTBEAT:3,SESSION_DESCRIPTION:4,SPEAKING:5,HELLO:8,CLIENT_CONNECT:12,CLIENT_DISCONNECT:13},g.Events={RATE_LIMIT:"rateLimit",CLIENT_READY:"ready",GUILD_CREATE:"guildCreate",GUILD_DELETE:"guildDelete",GUILD_UPDATE:"guildUpdate",GUILD_UNAVAILABLE:"guildUnavailable",GUILD_AVAILABLE:"guildAvailable",GUILD_MEMBER_ADD:"guildMemberAdd",GUILD_MEMBER_REMOVE:"guildMemberRemove",GUILD_MEMBER_UPDATE:"guildMemberUpdate",GUILD_MEMBER_AVAILABLE:"guildMemberAvailable",GUILD_MEMBER_SPEAKING:"guildMemberSpeaking",GUILD_MEMBERS_CHUNK:"guildMembersChunk",GUILD_INTEGRATIONS_UPDATE:"guildIntegrationsUpdate",GUILD_ROLE_CREATE:"roleCreate",GUILD_ROLE_DELETE:"roleDelete",INVITE_CREATE:"inviteCreate",INVITE_DELETE:"inviteDelete",GUILD_ROLE_UPDATE:"roleUpdate",GUILD_EMOJI_CREATE:"emojiCreate",GUILD_EMOJI_DELETE:"emojiDelete",GUILD_EMOJI_UPDATE:"emojiUpdate",GUILD_BAN_ADD:"guildBanAdd",GUILD_BAN_REMOVE:"guildBanRemove",CHANNEL_CREATE:"channelCreate",CHANNEL_DELETE:"channelDelete",CHANNEL_UPDATE:"channelUpdate",CHANNEL_PINS_UPDATE:"channelPinsUpdate",MESSAGE_CREATE:"message",MESSAGE_DELETE:"messageDelete",MESSAGE_UPDATE:"messageUpdate",MESSAGE_BULK_DELETE:"messageDeleteBulk",MESSAGE_REACTION_ADD:"messageReactionAdd",MESSAGE_REACTION_REMOVE:"messageReactionRemove",MESSAGE_REACTION_REMOVE_ALL:"messageReactionRemoveAll",MESSAGE_REACTION_REMOVE_EMOJI:"messageReactionRemoveEmoji",USER_UPDATE:"userUpdate",PRESENCE_UPDATE:"presenceUpdate",VOICE_SERVER_UPDATE:"voiceServerUpdate",VOICE_STATE_UPDATE:"voiceStateUpdate",VOICE_BROADCAST_SUBSCRIBE:"subscribe",VOICE_BROADCAST_UNSUBSCRIBE:"unsubscribe",TYPING_START:"typingStart",TYPING_STOP:"typingStop",WEBHOOKS_UPDATE:"webhookUpdate",ERROR:"error",WARN:"warn",DEBUG:"debug",SHARD_DISCONNECT:"shardDisconnect",SHARD_ERROR:"shardError",SHARD_RECONNECTING:"shardReconnecting",SHARD_READY:"shardReady",SHARD_RESUME:"shardResume",INVALIDATED:"invalidated",RAW:"raw"},g.ShardEvents={CLOSE:"close",DESTROYED:"destroyed",INVALID_SESSION:"invalidSession",READY:"ready",RESUMED:"resumed",ALL_READY:"allReady"},g.PartialTypes=m(["USER","CHANNEL","GUILD_MEMBER","MESSAGE","REACTION"]),g.WSEvents=m(["READY","RESUMED","GUILD_CREATE","GUILD_DELETE","GUILD_UPDATE","INVITE_CREATE","INVITE_DELETE","GUILD_MEMBER_ADD","GUILD_MEMBER_REMOVE","GUILD_MEMBER_UPDATE","GUILD_MEMBERS_CHUNK","GUILD_INTEGRATIONS_UPDATE","GUILD_ROLE_CREATE","GUILD_ROLE_DELETE","GUILD_ROLE_UPDATE","GUILD_BAN_ADD","GUILD_BAN_REMOVE","GUILD_EMOJIS_UPDATE","CHANNEL_CREATE","CHANNEL_DELETE","CHANNEL_UPDATE","CHANNEL_PINS_UPDATE","MESSAGE_CREATE","MESSAGE_DELETE","MESSAGE_UPDATE","MESSAGE_DELETE_BULK","MESSAGE_REACTION_ADD","MESSAGE_REACTION_REMOVE","MESSAGE_REACTION_REMOVE_ALL","MESSAGE_REACTION_REMOVE_EMOJI","USER_UPDATE","PRESENCE_UPDATE","TYPING_START","VOICE_STATE_UPDATE","VOICE_SERVER_UPDATE","WEBHOOKS_UPDATE"]),g.MessageTypes=["DEFAULT","RECIPIENT_ADD","RECIPIENT_REMOVE","CALL","CHANNEL_NAME_CHANGE","CHANNEL_ICON_CHANGE","PINS_ADD","GUILD_MEMBER_JOIN","USER_PREMIUM_GUILD_SUBSCRIPTION","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2","USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3","CHANNEL_FOLLOW_ADD",null,"GUILD_DISCOVERY_DISQUALIFIED","GUILD_DISCOVERY_REQUALIFIED"],g.ActivityTypes=["PLAYING","STREAMING","LISTENING","WATCHING","CUSTOM_STATUS"],g.ChannelTypes={TEXT:0,DM:1,VOICE:2,GROUP:3,CATEGORY:4,NEWS:5,STORE:6},g.ClientApplicationAssetTypes={SMALL:1,BIG:2},g.Colors={DEFAULT:0,WHITE:16777215,AQUA:1752220,GREEN:3066993,BLUE:3447003,YELLOW:16776960,PURPLE:10181046,LUMINOUS_VIVID_PINK:15277667,GOLD:15844367,ORANGE:15105570,RED:15158332,GREY:9807270,NAVY:3426654,DARK_AQUA:1146986,DARK_GREEN:2067276,DARK_BLUE:2123412,DARK_PURPLE:7419530,DARK_VIVID_PINK:11342935,DARK_GOLD:12745742,DARK_ORANGE:11027200,DARK_RED:10038562,DARK_GREY:9936031,DARKER_GREY:8359053,LIGHT_GREY:12370112,DARK_NAVY:2899536,BLURPLE:7506394,GREYPLE:10070709,DARK_BUT_NOT_BLACK:2895667,NOT_QUITE_BLACK:2303786},g.ExplicitContentFilterLevels=["DISABLED","MEMBERS_WITHOUT_ROLES","ALL_MEMBERS"],g.VerificationLevels=["NONE","LOW","MEDIUM","HIGH","VERY_HIGH"],g.APIErrors={UNKNOWN_ACCOUNT:10001,UNKNOWN_APPLICATION:10002,UNKNOWN_CHANNEL:10003,UNKNOWN_GUILD:10004,UNKNOWN_INTEGRATION:10005,UNKNOWN_INVITE:10006,UNKNOWN_MEMBER:10007,UNKNOWN_MESSAGE:10008,UNKNOWN_OVERWRITE:10009,UNKNOWN_PROVIDER:10010,UNKNOWN_ROLE:10011,UNKNOWN_TOKEN:10012,UNKNOWN_USER:10013,UNKNOWN_EMOJI:10014,UNKNOWN_WEBHOOK:10015,BOT_PROHIBITED_ENDPOINT:20001,BOT_ONLY_ENDPOINT:20002,MAXIMUM_GUILDS:30001,MAXIMUM_FRIENDS:30002,MAXIMUM_PINS:30003,MAXIMUM_ROLES:30005,MAXIMUM_REACTIONS:30010,MAXIMUM_CHANNELS:30013,MAXIMUM_INVITES:30016,UNAUTHORIZED:40001,USER_BANNED:40007,MISSING_ACCESS:50001,INVALID_ACCOUNT_TYPE:50002,CANNOT_EXECUTE_ON_DM:50003,EMBED_DISABLED:50004,CANNOT_EDIT_MESSAGE_BY_OTHER:50005,CANNOT_SEND_EMPTY_MESSAGE:50006,CANNOT_MESSAGE_USER:50007,CANNOT_SEND_MESSAGES_IN_VOICE_CHANNEL:50008,CHANNEL_VERIFICATION_LEVEL_TOO_HIGH:50009,OAUTH2_APPLICATION_BOT_ABSENT:50010,MAXIMUM_OAUTH2_APPLICATIONS:50011,INVALID_OAUTH_STATE:50012,MISSING_PERMISSIONS:50013,INVALID_AUTHENTICATION_TOKEN:50014,NOTE_TOO_LONG:50015,INVALID_BULK_DELETE_QUANTITY:50016,CANNOT_PIN_MESSAGE_IN_OTHER_CHANNEL:50019,INVALID_OR_TAKEN_INVITE_CODE:50020,CANNOT_EXECUTE_ON_SYSTEM_MESSAGE:50021,INVALID_OAUTH_TOKEN:50025,BULK_DELETE_MESSAGE_TOO_OLD:50034,INVALID_FORM_BODY:50035,INVITE_ACCEPTED_TO_GUILD_NOT_CONTAINING_BOT:50036,INVALID_API_VERSION:50041,REACTION_BLOCKED:90001,RESOURCE_OVERLOADED:13e4},g.DefaultMessageNotifications=["ALL","MENTIONS"],g.MembershipStates=[null,"INVITED","ACCEPTED"],g.WebhookTypes=[null,"Incoming","Channel Follower"]}).call(this,s(23))},function(u,g,s){"use strict";const{PartialTypes:l}=s(0);u.exports=class{constructor(n){this.client=n}handle(n){return n}getPayload(n,e,i,t,o){const r=e.cache.get(i);return!r&&this.client.options.partials.includes(t)?e.add(n,o):r}getChannel(n){const e=n.channel_id||n.id;return n.channel||this.getPayload({id:e,guild_id:n.guild_id,recipients:[n.author||{id:n.user_id}]},this.client.channels,e,l.CHANNEL)}getMessage(n,e,i){const t=n.message_id||n.id;return n.message||this.getPayload({id:t,channel_id:e.id,guild_id:n.guild_id||(e.guild?e.guild.id:null)},e.messages,t,l.MESSAGE,i)}getReaction(n,e,i){const t=n.emoji.id||decodeURIComponent(n.emoji.name);return this.getPayload({emoji:n.emoji,count:e.partial?null:0,me:!!i&&i.id===this.client.user.id},e.reactions,t,l.REACTION)}getMember(n,e){const i=n.user.id;return this.getPayload({user:{id:i}},e.members,i,l.GUILD_MEMBER)}getUser(n){const e=n.user_id;return n.user||this.getPayload({id:e},this.client.users,e,l.USER)}}},function(u,g,s){"use strict";const l=s(85),n=s(4);u.exports=class extends l{toJSON(){return this.map(e=>typeof e.toJSON=="function"?e.toJSON():n.flatten(e))}}},function(u,g,s){"use strict";u.exports=s(50),u.exports.Messages=s(84)},function(u,g,s){"use strict";const{parse:l}=s(29),n=s(30),{Colors:e,DefaultOptions:i,Endpoints:t}=s(0),{Error:o,RangeError:r,TypeError:a}=s(3),m=h=>typeof h=="object"&&h!==null;class c{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static flatten(h,...d){if(!m(h))return h;d=Object.assign(...Object.keys(h).filter(y=>!y.startsWith("_")).map(y=>({[y]:!0})),...d);const p={};for(let[y,E]of Object.entries(d)){if(!E)continue;E=E===!0?y:E;const f=h[y],A=m(f),D=A&&typeof f.valueOf=="function"?f.valueOf():null;f instanceof s(2)?p[E]=Array.from(f.keys()):D instanceof s(2)?p[E]=Array.from(D.keys()):Array.isArray(f)?p[E]=f.map(I=>c.flatten(I)):typeof D!="object"?p[E]=D:A||(p[E]=f)}return p}static splitMessage(h,{maxLength:d=2e3,char:p=`
`,prepend:y="",append:E=""}={}){if((h=c.resolveString(h)).length<=d)return[h];const f=h.split(p);if(f.some(I=>I.length>d))throw new r("SPLIT_MAX_LEN");const A=[];let D="";for(const I of f)D&&(D+p+I+E).length>d&&(A.push(D+E),D=y),D+=(D&&D!==y?p:"")+I;return A.concat(D).filter(I=>I)}static escapeMarkdown(h,{codeBlock:d=!0,inlineCode:p=!0,bold:y=!0,italic:E=!0,underline:f=!0,strikethrough:A=!0,spoiler:D=!0,codeBlockContent:I=!0,inlineCodeContent:b=!0}={}){return I?b?(p&&(h=c.escapeInlineCode(h)),d&&(h=c.escapeCodeBlock(h)),E&&(h=c.escapeItalic(h)),y&&(h=c.escapeBold(h)),f&&(h=c.escapeUnderline(h)),A&&(h=c.escapeStrikethrough(h)),D&&(h=c.escapeSpoiler(h)),h):h.split(/(?<=^|[^`])`(?=[^`]|$)/g).map((w,R,L)=>R%2&&R!==L.length-1?w:c.escapeMarkdown(w,{codeBlock:d,bold:y,italic:E,underline:f,strikethrough:A,spoiler:D})).join(p?"\\`":"`"):h.split("```").map((w,R,L)=>R%2&&R!==L.length-1?w:c.escapeMarkdown(w,{inlineCode:p,bold:y,italic:E,underline:f,strikethrough:A,spoiler:D,inlineCodeContent:b})).join(d?"\\`\\`\\`":"```")}static escapeCodeBlock(h){return h.replace(/```/g,"\\`\\`\\`")}static escapeInlineCode(h){return h.replace(/(?<=^|[^`])`(?=[^`]|$)/g,"\\`")}static escapeItalic(h){let d=0;return h=h.replace(/(?<=^|[^*])\*([^*]|\*\*|$)/g,(p,y)=>y==="**"?++d%2?`\\*${y}`:`${y}\\*`:`\\*${y}`),d=0,h.replace(/(?<=^|[^_])_([^_]|__|$)/g,(p,y)=>y==="__"?++d%2?`\\_${y}`:`${y}\\_`:`\\_${y}`)}static escapeBold(h){let d=0;return h.replace(/\*\*(\*)?/g,(p,y)=>y?++d%2?`${y}\\*\\*`:`\\*\\*${y}`:"\\*\\*")}static escapeUnderline(h){let d=0;return h.replace(/__(_)?/g,(p,y)=>y?++d%2?`${y}\\_\\_`:`\\_\\_${y}`:"\\_\\_")}static escapeStrikethrough(h){return h.replace(/~~/g,"\\~\\~")}static escapeSpoiler(h){return h.replace(/\|\|/g,"\\|\\|")}static fetchRecommendedShards(h,d=1e3){if(!h)throw new o("TOKEN_MISSING");return n(`${i.http.api}/v${i.http.version}${t.botGateway}`,{method:"GET",headers:{Authorization:`Bot ${h.replace(/^Bot\s*/i,"")}`}}).then(p=>{if(p.ok)return p.json();throw p}).then(p=>p.shards*(1e3/d))}static parseEmoji(h){if(h.includes("%")&&(h=decodeURIComponent(h)),!h.includes(":"))return{animated:!1,name:h,id:null};const d=h.match(/<?(?:(a):)?(\w{2,32}):(\d{17,19})?>?/);return d?{animated:Boolean(d[1]),name:d[2],id:d[3]||null}:null}static cloneObject(h){return Object.assign(Object.create(h),h)}static mergeDefault(h,d){if(!d)return h;for(const E in h)p=d,y=E,Object.prototype.hasOwnProperty.call(p,y)&&d[E]!==void 0?d[E]===Object(d[E])&&(d[E]=c.mergeDefault(h[E],d[E])):d[E]=h[E];var p,y;return d}static convertToBuffer(h){return typeof h=="string"&&(h=c.str2ab(h)),Buffer.from(h)}static str2ab(h){const d=new ArrayBuffer(2*h.length),p=new Uint16Array(d);for(var y=0,E=h.length;y<E;y++)p[y]=h.charCodeAt(y);return d}static makeError(h){const d=new Error(h.message);return d.name=h.name,d.stack=h.stack,d}static makePlainError(h){return{name:h.name,message:h.message,stack:h.stack}}static moveElementInArray(h,d,p,y=!1){const E=h.indexOf(d);if((p=(y?E:0)+p)>-1&&p<h.length){const f=h.splice(E,1)[0];h.splice(p,0,f)}return h.indexOf(d)}static resolveString(h){return typeof h=="string"?h:Array.isArray(h)?h.join(`
`):String(h)}static resolveColor(h){if(typeof h=="string"){if(h==="RANDOM")return Math.floor(16777216*Math.random());if(h==="DEFAULT")return 0;h=e[h]||parseInt(h.replace("#",""),16)}else Array.isArray(h)&&(h=(h[0]<<16)+(h[1]<<8)+h[2]);if(h<0||h>16777215)throw new r("COLOR_RANGE");if(h&&isNaN(h))throw new a("COLOR_CONVERT");return h}static discordSort(h){return h.sorted((d,p)=>d.rawPosition-p.rawPosition||parseInt(p.id.slice(0,-10))-parseInt(d.id.slice(0,-10))||parseInt(p.id.slice(10))-parseInt(d.id.slice(10)))}static setPosition(h,d,p,y,E,f){let A=y.array();return c.moveElementInArray(A,h,d,p),A=A.map((D,I)=>({id:D.id,position:I})),E.patch({data:A,reason:f}).then(()=>A)}static basename(h,d){let p=l(h);return d&&p.ext.startsWith(d)?p.name:p.base.split("?")[0]}static idToBinary(h){let d="",p=parseInt(h.slice(0,-10))||0,y=parseInt(h.slice(-10));for(;y>0||p>0;)d=String(1&y)+d,y=Math.floor(y/2),p>0&&(y+=p%2*5e9,p=Math.floor(p/2));return d}static binaryToID(h){let d="";for(;h.length>50;){const p=parseInt(h.slice(0,-32),2),y=parseInt((p%10).toString(2)+h.slice(-32),2);d=(y%10).toString()+d,h=Math.floor(p/10).toString(2)+Math.floor(y/10).toString(2).padStart(32,"0")}for(h=parseInt(h,2);h>0;)d=(h%10).toString()+d,h=Math.floor(h/10);return d}static removeMentions(h){return h.replace(/@/g,"@\u200B")}static cleanContent(h,d){return h=h.replace(/<@!?[0-9]+>/g,p=>{const y=p.replace(/<|!|>|@/g,"");if(d.channel.type==="dm"){const f=d.client.users.cache.get(y);return f?`@${f.username}`:p}const E=d.channel.guild.members.cache.get(y);if(E)return`@${E.displayName}`;{const f=d.client.users.cache.get(y);return f?`@${f.username}`:p}}).replace(/<#[0-9]+>/g,p=>{const y=d.client.channels.cache.get(p.replace(/<|#|>/g,""));return y?`#${y.name}`:p}).replace(/<@&[0-9]+>/g,p=>{if(d.channel.type==="dm")return p;const y=d.guild.roles.cache.get(p.replace(/<|@|>|&/g,""));return y?`@${y.name}`:p}),d.client.options.disableMentions==="everyone"&&(h=h.replace(/@([^<>@ ]*)/gmus,(p,y)=>y.match(/^[&!]?\d+$/)?`@${y}`:`@\u200B${y}`)),d.client.options.disableMentions==="all"?c.removeMentions(h):h}static cleanCodeBlockContent(h){return h.replace(/```/g,"`\u200B``")}static delayFor(h){return new Promise(d=>{setTimeout(d,h)})}}u.exports=c},function(u,g,s){"use strict";const l=s(4);u.exports=class{constructor(n){Object.defineProperty(this,"client",{value:n})}_clone(){return Object.assign(Object.create(this),this)}_patch(n){return n}_update(n){const e=this._clone();return this._patch(n),e}toJSON(...n){return l.flatten(this,...n)}valueOf(){return this.id}}},function(u,g,s){"use strict";const l=s(2);let n;u.exports=class{constructor(e,i,t,o=l,...r){if(n||(n=s(18)),Object.defineProperty(this,"holds",{value:n.get(t.name)||t}),Object.defineProperty(this,"client",{value:e}),this.cacheType=o,this.cache=new o(...r),i)for(const a of i)this.add(a)}add(e,i=!0,{id:t,extras:o=[]}={}){const r=this.cache.get(t||e.id);if(r&&r._patch&&i&&r._patch(e),r)return r;const a=this.holds?new this.holds(this.client,e,...o):e;return i&&this.cache.set(t||a.id,a),a}resolve(e){return e instanceof this.holds?e:typeof e=="string"&&this.cache.get(e)||null}resolveID(e){return e instanceof this.holds?e.id:typeof e=="string"?e:null}valueOf(){return this.cache}}},function(u,g,s){"use strict";const l=s(4);let n=0;u.exports=class{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static generate(e=Date.now()){if(e instanceof Date&&(e=e.getTime()),typeof e!="number"||isNaN(e))throw new TypeError(`"timestamp" argument must be a number (received ${isNaN(e)?"NaN":typeof e})`);n>=4095&&(n=0);const i=`${(e-14200704e5).toString(2).padStart(42,"0")}0000100000${(n++).toString(2).padStart(12,"0")}`;return l.binaryToID(i)}static deconstruct(e){const i=l.idToBinary(e).toString(2).padStart(64,"0"),t={timestamp:parseInt(i.substring(0,42),2)+14200704e5,workerID:parseInt(i.substring(42,47),2),processID:parseInt(i.substring(47,52),2),increment:parseInt(i.substring(52,64),2),binary:i};return Object.defineProperty(t,"date",{get:function(){return new Date(this.timestamp)},enumerable:!0}),t}}},function(u,g,s){"use strict";const l=s(14);class n extends l{any(e,i=!0){return i&&super.has(this.constructor.FLAGS.ADMINISTRATOR)||super.any(e)}has(e,i=!0){return i&&super.has(this.constructor.FLAGS.ADMINISTRATOR)||super.has(e)}}n.FLAGS={CREATE_INSTANT_INVITE:1,KICK_MEMBERS:2,BAN_MEMBERS:4,ADMINISTRATOR:8,MANAGE_CHANNELS:16,MANAGE_GUILD:32,ADD_REACTIONS:64,VIEW_AUDIT_LOG:128,PRIORITY_SPEAKER:256,STREAM:512,VIEW_CHANNEL:1024,SEND_MESSAGES:2048,SEND_TTS_MESSAGES:4096,MANAGE_MESSAGES:8192,EMBED_LINKS:16384,ATTACH_FILES:32768,READ_MESSAGE_HISTORY:65536,MENTION_EVERYONE:1<<17,USE_EXTERNAL_EMOJIS:1<<18,VIEW_GUILD_INSIGHTS:1<<19,CONNECT:1<<20,SPEAK:1<<21,MUTE_MEMBERS:1<<22,DEAFEN_MEMBERS:1<<23,MOVE_MEMBERS:1<<24,USE_VAD:1<<25,CHANGE_NICKNAME:1<<26,MANAGE_NICKNAMES:1<<27,MANAGE_ROLES:1<<28,MANAGE_WEBHOOKS:1<<29,MANAGE_EMOJIS:1<<30},n.ALL=Object.values(n.FLAGS).reduce((e,i)=>e|i,0),n.DEFAULT=104324673,u.exports=n},function(u,g,s){"use strict";const l=s(29),n=s(29),e=s(30),{Error:i,TypeError:t}=s(3),{browser:o}=s(0),r=s(4);class a{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static resolveInviteCode(m){const c=/discord(?:app\.com\/invite|\.gg(?:\/invite)?)\/([\w-]{2,255})/i.exec(m);return c&&c[1]?c[1]:m}static async resolveImage(m){if(!m)return null;if(typeof m=="string"&&m.startsWith("data:"))return m;const c=await this.resolveFile(m);return a.resolveBase64(c)}static resolveBase64(m){return Buffer.isBuffer(m)?`data:image/jpg;base64,${m.toString("base64")}`:m}static resolveFile(m){if(!o&&Buffer.isBuffer(m))return Promise.resolve(m);if(o&&m instanceof ArrayBuffer)return Promise.resolve(r.convertToBuffer(m));if(typeof m=="string"){if(/^https?:\/\//.test(m))return e(m).then(c=>o?c.blob():c.buffer());if(!o)return new Promise((c,h)=>{const d=o?m:n.resolve(m);l.stat(d,(p,y)=>p?h(p):y.isFile()?(l.readFile(d,(E,f)=>{E?h(E):c(f)}),null):h(new i("FILE_NOT_FOUND",d)))})}else if(typeof m.pipe=="function")return new Promise((c,h)=>{const d=[];m.once("error",h),m.on("data",p=>d.push(p)),m.once("end",()=>c(Buffer.concat(d)))});return Promise.reject(new t("REQ_RESOURCE_TYPE"))}}u.exports=a},function(u,g,s){"use strict";const l=s(5),{Presence:n}=s(12),e=s(17),i=s(21),t=s(27),{Error:o}=s(3),r=s(59),a=s(8);class m extends l{constructor(c,h,d){super(c),this.guild=d,h.user&&(this.user=c.users.add(h.user,!0)),this.joinedTimestamp=null,this.lastMessageID=null,this.lastMessageChannelID=null,this.premiumSinceTimestamp=null,this.deleted=!1,this._roles=[],h&&this._patch(h)}_patch(c){c.nick!==void 0&&(this.nickname=c.nick),c.joined_at&&(this.joinedTimestamp=new Date(c.joined_at).getTime()),c.premium_since&&(this.premiumSinceTimestamp=new Date(c.premium_since).getTime()),c.user&&(this.user=this.guild.client.users.add(c.user)),c.roles&&(this._roles=c.roles)}_clone(){const c=super._clone();return c._roles=this._roles.slice(),c}get partial(){return!this.joinedTimestamp}get roles(){return new r(this)}get lastMessage(){const c=this.guild.channels.cache.get(this.lastMessageChannelID);return c&&c.messages.cache.get(this.lastMessageID)||null}get voice(){return this.guild.voiceStates.cache.get(this.id)||new i(this.guild,{user_id:this.id})}get joinedAt(){return this.joinedTimestamp?new Date(this.joinedTimestamp):null}get premiumSince(){return this.premiumSinceTimestamp?new Date(this.premiumSinceTimestamp):null}get presence(){return this.guild.presences.cache.get(this.id)||new n(this.client,{user:{id:this.id},guild:this.guild})}get displayColor(){const c=this.roles.color;return c&&c.color||0}get displayHexColor(){const c=this.roles.color;return c&&c.hexColor||"#000000"}get id(){return this.user.id}get displayName(){return this.nickname||this.user.username}get permissions(){return this.user.id===this.guild.ownerID?new a(a.ALL).freeze():new a(this.roles.cache.map(c=>c.permissions)).freeze()}get manageable(){if(this.user.id===this.guild.ownerID)return!1;if(this.user.id===this.client.user.id)return!1;if(this.client.user.id===this.guild.ownerID)return!0;if(!this.guild.me)throw new o("GUILD_UNCACHED_ME");return this.guild.me.roles.highest.comparePositionTo(this.roles.highest)>0}get kickable(){return this.manageable&&this.guild.me.permissions.has(a.FLAGS.KICK_MEMBERS)}get bannable(){return this.manageable&&this.guild.me.permissions.has(a.FLAGS.BAN_MEMBERS)}permissionsIn(c){if(!(c=this.guild.channels.resolve(c)))throw new o("GUILD_CHANNEL_RESOLVE");return c.memberPermissions(this)}hasPermission(c,{checkAdmin:h=!0,checkOwner:d=!0}={}){return!(!d||this.user.id!==this.guild.ownerID)||this.roles.cache.some(p=>p.permissions.has(c,h))}async edit(c,h){if(c.channel){if(c.channel=this.guild.channels.resolve(c.channel),!c.channel||c.channel.type!=="voice")throw new o("GUILD_VOICE_CHANNEL_RESOLVE");c.channel_id=c.channel.id,c.channel=void 0}else c.channel===null&&(c.channel_id=null,c.channel=void 0);c.roles&&(c.roles=c.roles.map(y=>y instanceof e?y.id:y));let d=this.client.api.guilds(this.guild.id);if(this.user.id===this.client.user.id){const y=Object.keys(c);d=y.length===1&&y[0]==="nick"?d.members("@me").nick:d.members(this.id)}else d=d.members(this.id);await d.patch({data:c,reason:h});const p=this._clone();return c.user=this.user,p._patch(c),p}setNickname(c,h){return this.edit({nick:c},h)}createDM(){return this.user.createDM()}deleteDM(){return this.user.deleteDM()}kick(c){return this.client.api.guilds(this.guild.id).members(this.user.id).delete({reason:c}).then(()=>this)}ban(c){return this.guild.members.ban(this,c)}fetch(){return this.guild.members.fetch(this.id,!0)}toString(){return`<@${this.nickname?"!":""}${this.user.id}>`}toJSON(){return super.toJSON({guild:"guildID",user:"userID",displayName:!0,speaking:!1,lastMessage:!1,lastMessageID:!1,roles:!0})}send(){}}t.applyToClass(m),u.exports=m},function(u,g,s){"use strict";const l=s(26),n=s(13),{WebhookTypes:e}=s(0),i=s(9),t=s(7);class o{constructor(r,a){Object.defineProperty(this,"client",{value:r}),a&&this._patch(a)}_patch(r){this.name=r.name,Object.defineProperty(this,"token",{value:r.token||null,writable:!0,configurable:!0}),this.avatar=r.avatar,this.id=r.id,this.type=e[r.type],this.guildID=r.guild_id,this.channelID=r.channel_id,r.user?this.owner=this.client.users?this.client.users.cache.get(r.user.id):r.user:this.owner=null}async send(r,a){let m;if(r instanceof l)m=r.resolveData();else if(m=l.create(this,r,a).resolveData(),Array.isArray(m.data.content))return Promise.all(m.split().map(this.send.bind(this)));const{data:c,files:h}=await m.resolveFiles();return this.client.api.webhooks(this.id,this.token).post({data:c,files:h,query:{wait:!0},auth:!1}).then(d=>{const p=this.client.channels?this.client.channels.cache.get(d.channel_id):void 0;return p?p.messages.add(d,!1):d})}sendSlackMessage(r){return this.client.api.webhooks(this.id,this.token).slack.post({query:{wait:!0},auth:!1,data:r}).then(a=>a.toString()==="ok")}async edit({name:r=this.name,avatar:a,channel:m},c){a&&typeof a=="string"&&!a.startsWith("data:")&&(a=await i.resolveImage(a)),m&&(m=m instanceof n?m.id:m);const h=await this.client.api.webhooks(this.id,m?void 0:this.token).patch({data:{name:r,avatar:a,channel_id:m},reason:c});return this.name=h.name,this.avatar=h.avatar,this.channelID=h.channel_id,this}delete(r){return this.client.api.webhooks(this.id,this.token).delete({reason:r})}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get url(){return this.client.options.http.api+this.client.api.webhooks(this.id,this.token)}avatarURL({format:r,size:a}={}){return this.avatar?this.client.rest.cdn.Avatar(this.id,this.avatar,r,a):null}static applyToClass(r){for(const a of["send","sendSlackMessage","edit","delete","createdTimestamp","createdAt","url"])Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(o.prototype,a))}}u.exports=o},function(u,g,s){"use strict";const l=s(25),n=s(57),{ActivityTypes:e}=s(0),i=s(4);class t{constructor(r,a){Object.defineProperty(this,"presence",{value:r}),this.name=a.name,this.type=e[a.type],this.url=a.url||null,this.details=a.details||null,this.state=a.state||null,this.applicationID=a.application_id||null,this.timestamps=a.timestamps?{start:a.timestamps.start?new Date(Number(a.timestamps.start)):null,end:a.timestamps.end?new Date(Number(a.timestamps.end)):null}:null,this.party=a.party||null,this.assets=a.assets?new o(this,a.assets):null,this.syncID=a.sync_id,this.flags=new n(a.flags).freeze(),this.emoji=a.emoji?new l(r.client,a.emoji):null,this.createdTimestamp=new Date(a.created_at).getTime()}equals(r){return this===r||r&&this.name===r.name&&this.type===r.type&&this.url===r.url}get createdAt(){return new Date(this.createdTimestamp)}toString(){return this.name}_clone(){return Object.assign(Object.create(this),this)}}class o{constructor(r,a){Object.defineProperty(this,"activity",{value:r}),this.largeText=a.large_text||null,this.smallText=a.small_text||null,this.largeImage=a.large_image||null,this.smallImage=a.small_image||null}smallImageURL({format:r,size:a}={}){return this.smallImage?this.activity.presence.client.rest.cdn.AppAsset(this.activity.applicationID,this.smallImage,{format:r,size:a}):null}largeImageURL({format:r,size:a}={}){return this.largeImage?/^spotify:/.test(this.largeImage)?`https://i.scdn.co/image/${this.largeImage.slice(8)}`:/^twitch:/.test(this.largeImage)?`https://static-cdn.jtvnw.net/previews-ttv/live_user_${this.largeImage.slice(7)}.png`:this.activity.presence.client.rest.cdn.AppAsset(this.activity.applicationID,this.largeImage,{format:r,size:a}):null}}g.Presence=class{constructor(r,a={}){Object.defineProperty(this,"client",{value:r}),this.userID=a.user.id,this.guild=a.guild||null,this.patch(a)}get user(){return this.client.users.cache.get(this.userID)||null}get member(){return this.guild.members.cache.get(this.userID)||null}patch(r){return this.status=r.status||this.status||"offline",r.activities?this.activities=r.activities.map(a=>new t(this,a)):r.activity||r.game?this.activities=[new t(this,r.game||r.activity)]:this.activities=[],this.clientStatus=r.client_status||null,this}_clone(){const r=Object.assign(Object.create(this),this);return this.activities&&(r.activities=this.activities.map(a=>a._clone())),r}equals(r){return this===r||r&&this.status===r.status&&this.activities.length===r.activities.length&&this.activities.every((a,m)=>a.equals(r.activities[m]))&&this.clientStatus.web===r.clientStatus.web&&this.clientStatus.mobile===r.clientStatus.mobile&&this.clientStatus.desktop===r.clientStatus.desktop}toJSON(){return i.flatten(this)}},g.Activity=t,g.RichPresenceAssets=o},function(u,g,s){"use strict";const l=s(5),{ChannelTypes:n}=s(0),e=s(7);u.exports=class extends l{constructor(i,t){super(i);const o=Object.keys(n)[t.type];this.type=o?o.toLowerCase():"unknown",this.deleted=!1,t&&this._patch(t)}_patch(i){this.id=i.id}get createdTimestamp(){return e.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}toString(){return`<#${this.id}>`}delete(){return this.client.api.channels(this.id).delete().then(()=>this)}fetch(){return this.client.channels.fetch(this.id,!0)}static create(i,t,o){const r=s(18);let a;if(t.guild_id||o){if(o=o||i.guilds.cache.get(t.guild_id)){switch(t.type){case n.TEXT:a=new(r.get("TextChannel"))(o,t);break;case n.VOICE:a=new(r.get("VoiceChannel"))(o,t);break;case n.CATEGORY:a=new(r.get("CategoryChannel"))(o,t);break;case n.NEWS:a=new(r.get("NewsChannel"))(o,t);break;case n.STORE:a=new(r.get("StoreChannel"))(o,t);break}a&&o.channels.cache.set(a.id,a)}}else t.recipients&&t.type!==n.GROUP||t.type===n.DM?a=new(r.get("DMChannel"))(i,t):t.type===n.GROUP&&(a=new(s(109))(i,t));return a}toJSON(...i){return super.toJSON({createdTimestamp:!0},...i)}}},function(u,g,s){"use strict";const{RangeError:l}=s(3);class n{constructor(e){this.bitfield=this.constructor.resolve(e)}any(e){return(this.bitfield&this.constructor.resolve(e))!=0}equals(e){return this.bitfield===this.constructor.resolve(e)}has(e){return Array.isArray(e)?e.every(i=>this.has(i)):(e=this.constructor.resolve(e),(this.bitfield&e)===e)}missing(e,...i){return Array.isArray(e)||(e=new this.constructor(e).toArray(!1)),e.filter(t=>!this.has(t,...i))}freeze(){return Object.freeze(this)}add(...e){let i=0;for(const t of e)i|=this.constructor.resolve(t);return Object.isFrozen(this)?new this.constructor(this.bitfield|i):(this.bitfield|=i,this)}remove(...e){let i=0;for(const t of e)i|=this.constructor.resolve(t);return Object.isFrozen(this)?new this.constructor(this.bitfield&~i):(this.bitfield&=~i,this)}serialize(...e){const i={};for(const[t,o]of Object.entries(this.constructor.FLAGS))i[t]=this.has(o,...e);return i}toArray(...e){return Object.keys(this.constructor.FLAGS).filter(i=>this.has(i,...e))}toJSON(){return this.bitfield}valueOf(){return this.bitfield}*[Symbol.iterator](){yield*this.toArray()}static resolve(e=0){if(typeof e=="number"&&e>=0)return e;if(e instanceof n)return e.bitfield;if(Array.isArray(e))return e.map(i=>this.resolve(i)).reduce((i,t)=>i|t,0);if(typeof e=="string"&&this.FLAGS[e]!==void 0)return this.FLAGS[e];throw new l("BITFIELD_INVALID")}}n.FLAGS={},u.exports=n},function(u,g,s){"use strict";const l=s(13),n=s(16),e=s(35),i=s(17),{Error:t,TypeError:o}=s(3),r=s(2),a=s(8),m=s(4);u.exports=class extends l{constructor(c,h){super(c.client,h),this.guild=c}_patch(c){if(super._patch(c),this.name=c.name,this.rawPosition=c.position,this.parentID=c.parent_id,this.permissionOverwrites=new r,c.permission_overwrites)for(const h of c.permission_overwrites)this.permissionOverwrites.set(h.id,new e(this,h))}get parent(){return this.guild.channels.cache.get(this.parentID)||null}get permissionsLocked(){return this.parent?this.permissionOverwrites.size===this.parent.permissionOverwrites.size&&this.permissionOverwrites.every((c,h)=>{const d=this.parent.permissionOverwrites.get(h);return d!==void 0&&d.deny.bitfield===c.deny.bitfield&&d.allow.bitfield===c.allow.bitfield}):null}get position(){const c=this.guild._sortedChannels(this);return c.array().indexOf(c.get(this.id))}permissionsFor(c){const h=this.guild.members.resolve(c);if(h)return this.memberPermissions(h);const d=this.guild.roles.resolve(c);return d?this.rolePermissions(d):null}overwritesFor(c,h=!1,d=null){if(h||(c=this.guild.members.resolve(c)),!c)return[];d=d||c.roles.cache;const p=[];let y,E;for(const f of this.permissionOverwrites.values())f.id===this.guild.id?E=f:d.has(f.id)?p.push(f):f.id===c.id&&(y=f);return{everyone:E,roles:p,member:y}}memberPermissions(c){if(c.id===this.guild.ownerID)return new a(a.ALL).freeze();const h=c.roles.cache,d=new a(h.map(y=>y.permissions));if(d.has(a.FLAGS.ADMINISTRATOR))return new a(a.ALL).freeze();const p=this.overwritesFor(c,!0,h);return d.remove(p.everyone?p.everyone.deny:0).add(p.everyone?p.everyone.allow:0).remove(p.roles.length>0?p.roles.map(y=>y.deny):0).add(p.roles.length>0?p.roles.map(y=>y.allow):0).remove(p.member?p.member.deny:0).add(p.member?p.member.allow:0).freeze()}rolePermissions(c){if(c.permissions.has(a.FLAGS.ADMINISTRATOR))return new a(a.ALL).freeze();const h=this.permissionOverwrites.get(this.guild.id),d=this.permissionOverwrites.get(c.id);return c.permissions.remove(h?h.deny:0).add(h?h.allow:0).remove(d?d.deny:0).add(d?d.allow:0).freeze()}overwritePermissions(c,h){return Array.isArray(c)||c instanceof r?this.edit({permissionOverwrites:c,reason:h}).then(()=>this):Promise.reject(new o("INVALID_TYPE","overwrites","Array or Collection of Permission Overwrites",!0))}updateOverwrite(c,h,d){if(!(c=this.guild.roles.resolve(c)||this.client.users.resolve(c)))return Promise.reject(new o("INVALID_TYPE","parameter","User nor a Role",!0));const p=this.permissionOverwrites.get(c.id);return p?p.update(h,d).then(()=>this):this.createOverwrite(c,h,d)}createOverwrite(c,h,d){if(!(c=this.guild.roles.resolve(c)||this.client.users.resolve(c)))return Promise.reject(new o("INVALID_TYPE","parameter","User nor a Role",!0));const p=c instanceof i?"role":"member",{allow:y,deny:E}=e.resolveOverwriteOptions(h);return this.client.api.channels(this.id).permissions[c.id].put({data:{id:c.id,type:p,allow:y.bitfield,deny:E.bitfield},reason:d}).then(()=>this)}lockPermissions(){if(!this.parent)return Promise.reject(new t("GUILD_CHANNEL_ORPHAN"));const c=this.parent.permissionOverwrites.map(h=>h.toJSON());return this.edit({permissionOverwrites:c})}get members(){const c=new r;for(const h of this.guild.members.cache.values())this.permissionsFor(h).has("VIEW_CHANNEL",!1)&&c.set(h.id,h);return c}async edit(c,h){c.position!==void 0&&await m.setPosition(this,c.position,!1,this.guild._sortedChannels(this),this.client.api.guilds(this.guild.id).channels,h).then(E=>{this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.guild.id,channels:E})});const d=c.permissionOverwrites&&c.permissionOverwrites.map(E=>e.resolve(E,this.guild)),p=await this.client.api.channels(this.id).patch({data:{name:(c.name||this.name).trim(),topic:c.topic,nsfw:c.nsfw,bitrate:c.bitrate||this.bitrate,user_limit:c.userLimit!==void 0?c.userLimit:this.userLimit,parent_id:c.parentID,lock_permissions:c.lockPermissions,rate_limit_per_user:c.rateLimitPerUser,permission_overwrites:d},reason:h}),y=this._clone();return y._patch(p),y}setName(c,h){return this.edit({name:c},h)}setParent(c,{lockPermissions:h=!0,reason:d}={}){return this.edit({parentID:c!==null?c.hasOwnProperty("id")?c.id:c:null,lockPermissions:h},d)}setTopic(c,h){return this.edit({topic:c},h)}setPosition(c,{relative:h,reason:d}={}){return m.setPosition(this,c,h,this.guild._sortedChannels(this),this.client.api.guilds(this.guild.id).channels,d).then(p=>(this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.guild.id,channels:p}),this))}createInvite({temporary:c=!1,maxAge:h=86400,maxUses:d=0,unique:p,reason:y}={}){return this.client.api.channels(this.id).invites.post({data:{temporary:c,max_age:h,max_uses:d,unique:p},reason:y}).then(E=>new n(this.client,E))}async fetchInvites(){const c=await this.client.api.channels(this.id).invites.get(),h=new r;for(const d of c){const p=new n(this.client,d);h.set(p.code,p)}return h}clone(c={}){return m.mergeDefault({name:this.name,permissionOverwrites:this.permissionOverwrites,topic:this.topic,type:this.type,nsfw:this.nsfw,parent:this.parent,bitrate:this.bitrate,userLimit:this.userLimit,rateLimitPerUser:this.rateLimitPerUser,reason:null},c),this.guild.channels.create(c.name,c)}equals(c){let h=c&&this.id===c.id&&this.type===c.type&&this.topic===c.topic&&this.position===c.position&&this.name===c.name;return h&&(h=this.permissionOverwrites&&c.permissionOverwrites?this.permissionOverwrites.equals(c.permissionOverwrites):!this.permissionOverwrites&&!c.permissionOverwrites),h}get deletable(){return this.permissionsFor(this.client.user).has(a.FLAGS.MANAGE_CHANNELS,!1)}get manageable(){if(this.client.user.id===this.guild.ownerID)return!0;if(this.type==="voice"){if(!this.permissionsFor(this.client.user).has(a.FLAGS.CONNECT,!1))return!1}else if(!this.viewable)return!1;return this.permissionsFor(this.client.user).has(a.FLAGS.MANAGE_CHANNELS,!1)}get viewable(){if(this.client.user.id===this.guild.ownerID)return!0;const c=this.permissionsFor(this.client.user);return!!c&&c.has(a.FLAGS.VIEW_CHANNEL,!1)}delete(c){return this.client.api.channels(this.id).delete({reason:c}).then(()=>this)}}},function(u,g,s){"use strict";const l=s(5),{Endpoints:n}=s(0),e=s(8);u.exports=class extends l{constructor(i,t){super(i),this._patch(t)}_patch(i){this.guild=i.guild?this.client.guilds.add(i.guild,!1):null,this.code=i.code,this.presenceCount="approximate_presence_count"in i?i.approximate_presence_count:null,this.memberCount="approximate_member_count"in i?i.approximate_member_count:null,this.temporary="temporary"in i?i.temporary:null,this.maxAge="max_age"in i?i.max_age:null,this.uses="uses"in i?i.uses:null,this.maxUses="max_uses"in i?i.max_uses:null,this.inviter=i.inviter?this.client.users.add(i.inviter):null,this.targetUser=i.target_user?this.client.users.add(i.target_user):null,this.targetUserType=typeof i.target_user_type=="number"?i.target_user_type:null,this.channel=this.client.channels.add(i.channel,this.guild,!1),this.createdTimestamp="created_at"in i?new Date(i.created_at).getTime():null}get createdAt(){return this.createdTimestamp?new Date(this.createdTimestamp):null}get deletable(){const i=this.guild;if(!i||!this.client.guilds.cache.has(i.id))return!1;if(!i.me)throw new Error("GUILD_UNCACHED_ME");return this.channel.permissionsFor(this.client.user).has(e.FLAGS.MANAGE_CHANNELS,!1)||i.me.permissions.has(e.FLAGS.MANAGE_GUILD)}get expiresTimestamp(){return this.createdTimestamp&&this.maxAge?this.createdTimestamp+1e3*this.maxAge:null}get expiresAt(){const{expiresTimestamp:i}=this;return i?new Date(i):null}get url(){return n.invite(this.client.options.http.invite,this.code)}delete(i){return this.client.api.invites[this.code].delete({reason:i}).then(()=>this)}toString(){return this.url}toJSON(){return super.toJSON({url:!0,expiresTimestamp:!0,presenceCount:!1,memberCount:!1,uses:!1,channel:"channelID",inviter:"inviterID",guild:"guildID"})}valueOf(){return this.code}}},function(u,g,s){"use strict";const l=s(5),{Error:n,TypeError:e}=s(3),i=s(8),t=s(7),o=s(4);u.exports=class extends l{constructor(r,a,m){super(r),this.guild=m,a&&this._patch(a)}_patch(r){this.id=r.id,this.name=r.name,this.color=r.color,this.hoist=r.hoist,this.rawPosition=r.position,this.permissions=new i(r.permissions).freeze(),this.managed=r.managed,this.mentionable=r.mentionable,this.deleted=!1}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get hexColor(){return`#${this.color.toString(16).padStart(6,"0")}`}get members(){return this.guild.members.cache.filter(r=>r.roles.cache.has(this.id))}get editable(){if(this.managed)return!1;const r=this.guild.member(this.client.user);return!!r.permissions.has(i.FLAGS.MANAGE_ROLES)&&r.roles.highest.comparePositionTo(this)>0}get position(){const r=this.guild._sortedRoles();return r.array().indexOf(r.get(this.id))}comparePositionTo(r){if(!(r=this.guild.roles.resolve(r)))throw new e("INVALID_TYPE","role","Role nor a Snowflake");return this.constructor.comparePositions(this,r)}async edit(r,a){return r.permissions!==void 0?r.permissions=i.resolve(r.permissions):r.permissions=this.permissions.bitfield,r.position!==void 0&&await o.setPosition(this,r.position,!1,this.guild._sortedRoles(),this.client.api.guilds(this.guild.id).roles,a).then(m=>{this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.guild.id,roles:m})}),this.client.api.guilds[this.guild.id].roles[this.id].patch({data:{name:r.name||this.name,color:r.color!==null?o.resolveColor(r.color||this.color):null,hoist:r.hoist!==void 0?r.hoist:this.hoist,permissions:r.permissions,mentionable:r.mentionable!==void 0?r.mentionable:this.mentionable},reason:a}).then(m=>{const c=this._clone();return c._patch(m),c})}permissionsIn(r){if(!(r=this.guild.channels.resolve(r)))throw new n("GUILD_CHANNEL_RESOLVE");return r.rolePermissions(this)}setName(r,a){return this.edit({name:r},a)}setColor(r,a){return this.edit({color:r},a)}setHoist(r,a){return this.edit({hoist:r},a)}setPermissions(r,a){return this.edit({permissions:r},a)}setMentionable(r,a){return this.edit({mentionable:r},a)}setPosition(r,{relative:a,reason:m}={}){return o.setPosition(this,r,a,this.guild._sortedRoles(),this.client.api.guilds(this.guild.id).roles,m).then(c=>(this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.guild.id,roles:c}),this))}delete(r){return this.client.api.guilds[this.guild.id].roles[this.id].delete({reason:r}).then(()=>(this.client.actions.GuildRoleDelete.handle({guild_id:this.guild.id,role_id:this.id}),this))}equals(r){return r&&this.id===r.id&&this.name===r.name&&this.color===r.color&&this.hoist===r.hoist&&this.position===r.position&&this.permissions.bitfield===r.permissions.bitfield&&this.managed===r.managed}toString(){return this.id===this.guild.id?"@everyone":`<@&${this.id}>`}toJSON(){return super.toJSON({createdTimestamp:!0})}static comparePositions(r,a){return r.position===a.position?a.id-r.id:r.position-a.position}}},function(u,g,s){"use strict";const l={GuildEmoji:s(19),DMChannel:s(32),TextChannel:s(34),VoiceChannel:s(65),CategoryChannel:s(66),NewsChannel:s(67),StoreChannel:s(68),GuildMember:s(10),Guild:s(44),Message:s(22),MessageReaction:s(42),Presence:s(12).Presence,ClientPresence:s(75),VoiceState:s(21),Role:s(17),User:s(20)};u.exports=class{constructor(){throw new Error(`The ${this.constructor.name} class may not be instantiated.`)}static get(n){if(typeof n=="string")return l[n];throw new TypeError(`"structure" argument must be a string (received ${typeof n})`)}static extend(n,e){if(!l[n])throw new RangeError(`"${n}" is not a valid extensible structure.`);if(typeof e!="function")throw new TypeError(`"extender" argument must be a function that returns the extended structure class/prototype ${`(received ${typeof e})`}.`);const i=e(l[n]);if(typeof i!="function")throw new TypeError(`The extender function must return the extended structure class/prototype ${`(received ${typeof i})`}.`);if(!(i.prototype instanceof l[n])){const t=Object.getPrototypeOf(i),o=`${i.name||"unnamed"}${t.name?` extends ${t.name}`:""}`;throw new Error(`The class/prototype returned from the extender function must extend the existing structure class/prototype (received function ${o}; expected extension of ${l[n].name}).`)}return l[n]=i,i}}},function(u,g,s){"use strict";const l=s(33),{Error:n}=s(3),e=s(56),i=s(8);class t extends l{_clone(){const o=super._clone();return o._roles=this._roles.slice(),o}get deletable(){if(!this.guild.me)throw new n("GUILD_UNCACHED_ME");return!this.managed&&this.guild.me.hasPermission(i.FLAGS.MANAGE_EMOJIS)}get roles(){return new e(this)}fetchAuthor(){return this.managed?Promise.reject(new n("EMOJI_MANAGED")):this.guild.me?this.guild.me.permissions.has(i.FLAGS.MANAGE_EMOJIS)?this.client.api.guilds(this.guild.id).emojis(this.id).get().then(o=>this.client.users.add(o.user)):Promise.reject(new n("MISSING_MANAGE_EMOJIS_PERMISSION",this.guild)):Promise.reject(new n("GUILD_UNCACHED_ME"))}edit(o,r){const a=o.roles?o.roles.map(m=>m.id||m):void 0;return this.client.api.guilds(this.guild.id).emojis(this.id).patch({data:{name:o.name,roles:a},reason:r}).then(m=>{const c=this._clone();return c._patch(m),c})}setName(o,r){return this.edit({name:o},r)}delete(o){return this.client.api.guilds(this.guild.id).emojis(this.id).delete({reason:o}).then(()=>this)}equals(o){return o instanceof t?o.id===this.id&&o.name===this.name&&o.managed===this.managed&&o.requiresColons===this.requiresColons&&o.roles.cache.size===this.roles.cache.size&&o.roles.cache.every(r=>this.roles.cache.has(r.id)):o.id===this.id&&o.name===this.name&&o.roles.length===this.roles.cache.size&&o.roles.every(r=>this.roles.cache.has(r))}}u.exports=t},function(u,g,s){"use strict";const l=s(5),{Presence:n}=s(12),e=s(27),{Error:i}=s(3),t=s(7);class o extends l{constructor(r,a){super(r),this.id=a.id,this.bot=Boolean(a.bot),this._patch(a)}_patch(r){r.username&&(this.username=r.username),r.discriminator&&(this.discriminator=r.discriminator),r.avatar!==void 0&&(this.avatar=r.avatar),r.bot!==void 0&&(this.bot=Boolean(r.bot)),r.system!==void 0&&(this.system=Boolean(r.system)),r.locale&&(this.locale=r.locale),this.lastMessageID=null,this.lastMessageChannelID=null}get partial(){return typeof this.username!="string"}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get lastMessage(){const r=this.client.channels.cache.get(this.lastMessageChannelID);return r&&r.messages.cache.get(this.lastMessageID)||null}get presence(){for(const r of this.client.guilds.cache.values())if(r.presences.cache.has(this.id))return r.presences.cache.get(this.id);return new n(this.client,{user:{id:this.id}})}avatarURL({format:r,size:a,dynamic:m}={}){return this.avatar?this.client.rest.cdn.Avatar(this.id,this.avatar,r,a,m):null}get defaultAvatarURL(){return this.client.rest.cdn.DefaultAvatar(this.discriminator%5)}displayAvatarURL(r){return this.avatarURL(r)||this.defaultAvatarURL}get tag(){return typeof this.username=="string"?`${this.username}#${this.discriminator}`:null}typingIn(r){return(r=this.client.channels.resolve(r))._typing.has(this.id)}typingSinceIn(r){return(r=this.client.channels.resolve(r))._typing.has(this.id)?new Date(r._typing.get(this.id).since):null}typingDurationIn(r){return(r=this.client.channels.resolve(r))._typing.has(this.id)?r._typing.get(this.id).elapsedTime:-1}get dmChannel(){return this.client.channels.cache.find(r=>r.type==="dm"&&r.recipient.id===this.id)||null}async createDM(){const{dmChannel:r}=this;if(r&&!r.partial)return r;const a=await this.client.api.users(this.client.user.id).channels.post({data:{recipient_id:this.id}});return this.client.actions.ChannelCreate.handle(a).channel}async deleteDM(){const{dmChannel:r}=this;if(!r)throw new i("USER_NO_DMCHANNEL");const a=await this.client.api.channels(r.id).delete();return this.client.actions.ChannelDelete.handle(a).channel}equals(r){return r&&this.id===r.id&&this.username===r.username&&this.discriminator===r.discriminator&&this.avatar===r.avatar}fetch(){return this.client.users.fetch(this.id,!0)}toString(){return`<@${this.id}>`}toJSON(...r){const a=super.toJSON({createdTimestamp:!0,defaultAvatarURL:!0,tag:!0,lastMessage:!1,lastMessageID:!1},...r);return a.avatarURL=this.avatarURL(),a.displayAvatarURL=this.displayAvatarURL(),a}send(){}}e.applyToClass(o),u.exports=o},function(u,g,s){"use strict";const l=s(5),{Error:n,TypeError:e}=s(3),{browser:i}=s(0);u.exports=class extends l{constructor(t,o){super(t.client),this.guild=t,this.id=o.user_id,this._patch(o)}_patch(t){return this.serverDeaf=t.deaf,this.serverMute=t.mute,this.selfDeaf=t.self_deaf,this.selfMute=t.self_mute,this.sessionID=t.session_id,this.streaming=t.self_stream||!1,this.channelID=t.channel_id,this}get member(){return this.guild.members.cache.get(this.id)||null}get channel(){return this.guild.channels.cache.get(this.channelID)||null}get connection(){return i||this.id!==this.client.user.id?null:this.client.voice.connections.get(this.guild.id)||null}get deaf(){return this.serverDeaf||this.selfDeaf}get mute(){return this.serverMute||this.selfMute}get speaking(){return this.channel&&this.channel.connection?Boolean(this.channel.connection._speaking.get(this.id)):null}setMute(t,o){return this.member?this.member.edit({mute:t},o):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}setDeaf(t,o){return this.member?this.member.edit({deaf:t},o):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}kick(t){return this.setChannel(null,t)}setChannel(t,o){return this.member?this.member.edit({channel:t},o):Promise.reject(new n("VOICE_STATE_UNCACHED_MEMBER"))}async setSelfMute(t){if(this.id!==this.client.user.id)throw new n("VOICE_STATE_NOT_OWN");if(typeof t!="boolean")throw new e("VOICE_STATE_INVALID_TYPE","mute");return!!this.connection&&(this.selfMute=t,await this.connection.sendVoiceStateUpdate(),!0)}async setSelfDeaf(t){return this.id!==this.client.user.id?new n("VOICE_STATE_NOT_OWN"):typeof t!="boolean"?new e("VOICE_STATE_INVALID_TYPE","deaf"):!!this.connection&&(this.selfDeaf=t,await this.connection.sendVoiceStateUpdate(),!0)}toJSON(){return super.toJSON({id:!0,serverDeaf:!0,serverMute:!0,selfDeaf:!0,selfMute:!0,sessionID:!0,channelID:"channel"})}}},function(u,g,s){"use strict";const l=s(26),n=s(5),e=s(41),i=s(36),t=s(37),o=s(62),r=s(63),{Error:a,TypeError:m}=s(3),c=s(105),h=s(2),{MessageTypes:d}=s(0),p=s(38),y=s(8),E=s(4);u.exports=class extends n{constructor(f,A,D){super(f),this.channel=D,this.deleted=!1,A&&this._patch(A)}_patch(f){if(this.id=f.id,this.type=d[f.type],this.content=f.content,this.author=f.author?this.client.users.add(f.author,!f.webhook_id):null,this.pinned=f.pinned,this.tts=f.tts,this.nonce=f.nonce,this.system=f.type!==0,this.embeds=(f.embeds||[]).map(A=>new t(A,!0)),this.attachments=new h,f.attachments)for(const A of f.attachments)this.attachments.set(A.id,new i(A.url,A.filename,A));if(this.createdTimestamp=new Date(f.timestamp).getTime(),this.editedTimestamp=f.edited_timestamp?new Date(f.edited_timestamp).getTime():null,this.reactions=new c(this),f.reactions&&f.reactions.length>0)for(const A of f.reactions)this.reactions.add(A);this.mentions=new o(this,f.mentions,f.mention_roles,f.mention_everyone,f.mention_channels),this.webhookID=f.webhook_id||null,this.application=f.application?new e(this.client,f.application):null,this.activity=f.activity?{partyID:f.activity.party_id,type:f.activity.type}:null,this._edits=[],this.member&&f.member?this.member._patch(f.member):f.member&&this.guild&&this.author&&this.guild.members.add(Object.assign(f.member,{user:this.author})),this.flags=new p(f.flags).freeze(),this.reference=f.message_reference?{channelID:f.message_reference.channel_id,guildID:f.message_reference.guild_id,messageID:f.message_reference.message_id}:null}get partial(){return typeof this.content!="string"||!this.author}patch(f){const A=this._clone();if(this._edits.unshift(A),"edited_timestamp"in f&&(this.editedTimestamp=new Date(f.edited_timestamp).getTime()),"content"in f&&(this.content=f.content),"pinned"in f&&(this.pinned=f.pinned),"tts"in f&&(this.tts=f.tts),this.embeds="embeds"in f?f.embeds.map(D=>new t(D,!0)):this.embeds.slice(),"attachments"in f){this.attachments=new h;for(const D of f.attachments)this.attachments.set(D.id,new i(D.url,D.filename,D))}else this.attachments=new h(this.attachments);this.mentions=new o(this,"mentions"in f?f.mentions:this.mentions.users,"mentions_roles"in f?f.mentions_roles:this.mentions.roles,"mention_everyone"in f?f.mention_everyone:this.mentions.everyone,"mention_channels"in f?f.mention_channels:this.mentions.crosspostedChannels),this.flags=new p("flags"in f?f.flags:0).freeze()}get member(){return this.guild&&this.guild.member(this.author)||null}get createdAt(){return new Date(this.createdTimestamp)}get editedAt(){return this.editedTimestamp?new Date(this.editedTimestamp):null}get guild(){return this.channel.guild||null}get url(){return`https://discordapp.com/channels/${this.guild?this.guild.id:"@me"}/${this.channel.id}/${this.id}`}get cleanContent(){return this.content!=null?E.cleanContent(this.content,this):null}createReactionCollector(f,A={}){return new r(this,f,A)}awaitReactions(f,A={}){return new Promise((D,I)=>{this.createReactionCollector(f,A).once("end",(b,w)=>{A.errors&&A.errors.includes(w)?I(b):D(b)})})}get edits(){const f=this._edits.slice();return f.unshift(this),f}get editable(){return this.author.id===this.client.user.id}get deletable(){return!this.deleted&&(this.author.id===this.client.user.id||this.guild&&this.channel.permissionsFor(this.client.user).has(y.FLAGS.MANAGE_MESSAGES,!1))}get pinnable(){return this.type==="DEFAULT"&&(!this.guild||this.channel.permissionsFor(this.client.user).has(y.FLAGS.MANAGE_MESSAGES,!1))}edit(f,A){const{data:D}=f instanceof l?f.resolveData():l.create(this,f,A).resolveData();return this.client.api.channels[this.channel.id].messages[this.id].patch({data:D}).then(I=>{const b=this._clone();return b._patch(I),b})}pin(){return this.client.api.channels(this.channel.id).pins(this.id).put().then(()=>this)}unpin(){return this.client.api.channels(this.channel.id).pins(this.id).delete().then(()=>this)}react(f){if(!(f=this.client.emojis.resolveIdentifier(f)))throw new m("EMOJI_TYPE");return this.client.api.channels(this.channel.id).messages(this.id).reactions(f,"@me").put().then(()=>this.client.actions.MessageReactionAdd.handle({user:this.client.user,channel:this.channel,message:this,emoji:E.parseEmoji(f)}).reaction)}delete(f={}){if(typeof f!="object")throw new m("INVALID_TYPE","options","object",!0);const{timeout:A=0,reason:D}=f;return A<=0?this.channel.messages.delete(this.id,D).then(()=>this):new Promise(I=>{this.client.setTimeout(()=>{I(this.delete({reason:D}))},A)})}reply(f,A){return this.channel.send(f instanceof l?f:l.transformOptions(f,A,{reply:this.member||this.author}))}fetch(){return this.channel.messages.fetch(this.id,!0)}fetchWebhook(){return this.webhookID?this.client.fetchWebhook(this.webhookID):Promise.reject(new a("WEBHOOK_MESSAGE"))}suppressEmbeds(f=!0){const A=new p(this.flags.bitfield);return f?A.add(p.FLAGS.SUPPRESS_EMBEDS):A.remove(p.FLAGS.SUPPRESS_EMBEDS),this.edit({flags:A})}equals(f,A){if(!f)return!1;if(!f.author&&!f.attachments)return this.id===f.id&&this.embeds.length===f.embeds.length;let D=this.id===f.id&&this.author.id===f.author.id&&this.content===f.content&&this.tts===f.tts&&this.nonce===f.nonce&&this.embeds.length===f.embeds.length&&this.attachments.length===f.attachments.length;return D&&A&&(D=this.mentions.everyone===f.mentions.everyone&&this.createdTimestamp===new Date(A.timestamp).getTime()&&this.editedTimestamp===new Date(A.edited_timestamp).getTime()),D}toString(){return this.content}toJSON(){return super.toJSON({channel:"channelID",author:"authorID",application:"applicationID",guild:"guildID",cleanContent:!0,member:!1,reactions:!1})}}},function(u,g){var s,l,n=u.exports={};function e(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function t(y){if(s===setTimeout)return setTimeout(y,0);if((s===e||!s)&&setTimeout)return s=setTimeout,setTimeout(y,0);try{return s(y,0)}catch(E){try{return s.call(null,y,0)}catch(f){return s.call(this,y,0)}}}!function(){try{s=typeof setTimeout=="function"?setTimeout:e}catch(y){s=e}try{l=typeof clearTimeout=="function"?clearTimeout:i}catch(y){l=i}}();var o,r=[],a=!1,m=-1;function c(){a&&o&&(a=!1,o.length?r=o.concat(r):m=-1,r.length&&h())}function h(){if(!a){var y=t(c);a=!0;for(var E=r.length;E;){for(o=r,r=[];++m<E;)o&&o[m].run();m=-1,E=r.length}o=null,a=!1,function(f){if(l===clearTimeout)return clearTimeout(f);if((l===i||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(f);try{l(f)}catch(A){try{return l.call(null,f)}catch(D){return l.call(this,f)}}}(y)}}function d(y,E){this.fun=y,this.array=E}function p(){}n.nextTick=function(y){var E=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)E[f-1]=arguments[f];r.push(new d(y,E)),r.length!==1||a||t(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(y){return[]},n.binding=function(y){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(y){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(u,g,s){"use strict";var l,n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(E,f,A){return Function.prototype.apply.call(E,f,A)};l=n&&typeof n.ownKeys=="function"?n.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var i=Number.isNaN||function(E){return E!=E};function t(){t.init.call(this)}u.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var o=10;function r(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}function a(E){return E._maxListeners===void 0?t.defaultMaxListeners:E._maxListeners}function m(E,f,A,D){var I,b,w,R;if(r(A),(b=E._events)===void 0?(b=E._events=Object.create(null),E._eventsCount=0):(b.newListener!==void 0&&(E.emit("newListener",f,A.listener?A.listener:A),b=E._events),w=b[f]),w===void 0)w=b[f]=A,++E._eventsCount;else if(typeof w=="function"?w=b[f]=D?[A,w]:[w,A]:D?w.unshift(A):w.push(A),(I=a(E))>0&&w.length>I&&!w.warned){w.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=E,L.type=f,L.count=w.length,R=L,console&&console.warn&&console.warn(R)}return E}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(E,f,A){var D={fired:!1,wrapFn:void 0,target:E,type:f,listener:A},I=c.bind(D);return I.listener=A,D.wrapFn=I,I}function d(E,f,A){var D=E._events;if(D===void 0)return[];var I=D[f];return I===void 0?[]:typeof I=="function"?A?[I.listener||I]:[I]:A?function(b){for(var w=new Array(b.length),R=0;R<w.length;++R)w[R]=b[R].listener||b[R];return w}(I):y(I,I.length)}function p(E){var f=this._events;if(f!==void 0){var A=f[E];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}function y(E,f){for(var A=new Array(f),D=0;D<f;++D)A[D]=E[D];return A}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");o=E}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},t.prototype.getMaxListeners=function(){return a(this)},t.prototype.emit=function(E){for(var f=[],A=1;A<arguments.length;A++)f.push(arguments[A]);var D=E==="error",I=this._events;if(I!==void 0)D=D&&I.error===void 0;else if(!D)return!1;if(D){var b;if(f.length>0&&(b=f[0]),b instanceof Error)throw b;var w=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw w.context=b,w}var R=I[E];if(R===void 0)return!1;if(typeof R=="function")e(R,this,f);else{var L=R.length,_=y(R,L);for(A=0;A<L;++A)e(_[A],this,f)}return!0},t.prototype.addListener=function(E,f){return m(this,E,f,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(E,f){return m(this,E,f,!0)},t.prototype.once=function(E,f){return r(f),this.on(E,h(this,E,f)),this},t.prototype.prependOnceListener=function(E,f){return r(f),this.prependListener(E,h(this,E,f)),this},t.prototype.removeListener=function(E,f){var A,D,I,b,w;if(r(f),(D=this._events)===void 0)return this;if((A=D[E])===void 0)return this;if(A===f||A.listener===f)--this._eventsCount==0?this._events=Object.create(null):(delete D[E],D.removeListener&&this.emit("removeListener",E,A.listener||f));else if(typeof A!="function"){for(I=-1,b=A.length-1;b>=0;b--)if(A[b]===f||A[b].listener===f){w=A[b].listener,I=b;break}if(I<0)return this;I===0?A.shift():function(R,L){for(;L+1<R.length;L++)R[L]=R[L+1];R.pop()}(A,I),A.length===1&&(D[E]=A[0]),D.removeListener!==void 0&&this.emit("removeListener",E,w||f)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(E){var f,A,D;if((A=this._events)===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[E]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete A[E]),this;if(arguments.length===0){var I,b=Object.keys(A);for(D=0;D<b.length;++D)(I=b[D])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(f=A[E])=="function")this.removeListener(E,f);else if(f!==void 0)for(D=f.length-1;D>=0;D--)this.removeListener(E,f[D]);return this},t.prototype.listeners=function(E){return d(this,E,!0)},t.prototype.rawListeners=function(E){return d(this,E,!1)},t.listenerCount=function(E,f){return typeof E.listenerCount=="function"?E.listenerCount(f):p.call(E,f)},t.prototype.listenerCount=p,t.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]}},function(u,g,s){"use strict";const l=s(5),n=s(7);u.exports=class extends l{constructor(e,i){super(e),this.animated=i.animated,this.name=i.name,this.id=i.id,this.deleted=!1}get identifier(){return this.id?`${this.animated?"a:":""}${this.name}:${this.id}`:encodeURIComponent(this.name)}get url(){return this.id?this.client.rest.cdn.Emoji(this.id,this.animated?"gif":"png"):null}get createdTimestamp(){return this.id?n.deconstruct(this.id).timestamp:null}get createdAt(){return this.id?new Date(this.createdTimestamp):null}toString(){return this.id?`<${this.animated?"a":""}:${this.name}:${this.id}>`:this.name}toJSON(){return super.toJSON({guild:"guildID",createdTimestamp:!0,url:!0,identifier:!0})}}},function(u,g,s){"use strict";const l=s(36),n=s(37),{RangeError:e}=s(3),{browser:i}=s(0),t=s(9),o=s(38),r=s(4);class a{constructor(m,c){this.target=m,this.options=c,this.data=null,this.files=null}get isWebhook(){const m=s(11),c=s(39);return this.target instanceof m||this.target instanceof c}get isUser(){const m=s(20),c=s(10);return this.target instanceof m||this.target instanceof c}get isMessage(){const m=s(22);return this.target instanceof m}makeContent(){const m=s(10);let c;this.options.content===null?c="":this.options.content!==void 0&&(c=r.resolveString(this.options.content));const h=this.options.disableMentions===void 0?this.target.client.options.disableMentions:this.options.disableMentions;h==="all"?c=r.removeMentions(c||""):h==="everyone"&&(c=(c||"").replace(/@([^<>@ ]*)/gmus,(f,A)=>A.match(/^[&!]?\d+$/)?`@${A}`:`@\u200B${A}`));const d=this.options.split!==void 0&&this.options.split!==!1,p=this.options.code!==void 0&&this.options.code!==!1,y=d?{...this.options.split}:void 0;let E="";if(this.options.reply&&!this.isUser&&this.target.type!=="dm"){const f=this.target.client.users.resolveID(this.options.reply);E=`<@${this.options.reply instanceof m&&this.options.reply.nickname?"!":""}${f}>, `,d&&(y.prepend=`${E}${y.prepend||""}`)}if(c||E){if(p){const f=typeof this.options.code=="string"?this.options.code:"";c=`${E}\`\`\`${f}
${r.cleanCodeBlockContent(c||"")}
\`\`\``,d&&(y.prepend=`${y.prepend||""}\`\`\`${f}
`,y.append=`
\`\`\`${y.append||""}`)}else E&&(c=`${E}${c||""}`);d&&(c=r.splitMessage(c||"",y))}return c}resolveData(){if(this.data)return this;const m=this.makeContent(),c=Boolean(this.options.tts);let h;if(this.options.nonce!==void 0&&(h=parseInt(this.options.nonce),isNaN(h)||h<0))throw new e("MESSAGE_NONCE_TYPE");const d=[];this.isWebhook?this.options.embeds&&d.push(...this.options.embeds):this.options.embed&&d.push(this.options.embed);const p=d.map(A=>new n(A).toJSON());let y,E,f;return this.isWebhook&&(y=this.options.username||this.target.name,this.options.avatarURL&&(E=this.options.avatarURL)),this.isMessage&&(f=this.options.flags!=null?new o(this.options.flags).bitfield:this.target.flags.bitfield),this.data={content:m,tts:c,nonce:h,embed:this.options.embed===null?null:p[0],embeds:p,username:y,avatar_url:E,allowed_mentions:this.options.allowedMentions,flags:f},this}async resolveFiles(){if(this.files)return this;const m=[];this.isWebhook?this.options.embeds&&m.push(...this.options.embeds):this.options.embed&&m.push(this.options.embed);const c=[];this.options.files&&c.push(...this.options.files);for(const h of m)h.files&&c.push(...h.files);return this.files=await Promise.all(c.map(h=>this.constructor.resolveFile(h))),this}split(){if(this.data||this.resolveData(),!Array.isArray(this.data.content))return[this];const m=[];for(let c=0;c<this.data.content.length;c++){let h,d;c===this.data.content.length-1?(h={...this.data,content:this.data.content[c]},d={...this.options,content:this.data.content[c]}):(h={content:this.data.content[c],tts:this.data.tts},d={content:this.data.content[c],tts:this.data.tts});const p=new a(this.target,d);p.data=h,m.push(p)}return m}static async resolveFile(m){let c,h;const d=p=>typeof p=="string"?r.basename(p):p.path?r.basename(p.path):"file.jpg";return typeof m=="string"||m instanceof(i?ArrayBuffer:Buffer)||typeof m.pipe=="function"?(c=m,h=d(c)):(c=m.attachment,h=m.name||d(c)),{attachment:c,name:h,file:await t.resolveFile(c)}}static partitionMessageAdditions(m){const c=[],h=[];for(const d of m)d instanceof n?c.push(d):d instanceof l&&h.push(d);return[c,h]}static transformOptions(m,c,h={},d=!1){if(c||typeof m!="object"||Array.isArray(m)||(c=m,m=void 0),c){if(c instanceof n)return d?{content:m,embeds:[c],...h}:{content:m,embed:c,...h};if(c instanceof l)return{content:m,files:[c],...h}}else c={};if(Array.isArray(c)){const[p,y]=this.partitionMessageAdditions(c);return d?{content:m,embeds:p,files:y,...h}:{content:m,embed:p[0],files:y,...h}}if(Array.isArray(m)){const[p,y]=this.partitionMessageAdditions(m);if(p.length||y.length)return d?{embeds:p,files:y,...h}:{embed:p[0],files:y,...h}}return{content:m,...c,...h}}static create(m,c,h,d={}){const p=s(11),y=s(39),E=m instanceof p||m instanceof y;return new this(m,this.transformOptions(c,h,d,E))}}u.exports=a},function(u,g,s){"use strict";const l=s(58),n=s(26),e=s(7),i=s(2),{RangeError:t,TypeError:o}=s(3);class r{constructor(){this.messages=new a(this),this.lastMessageID=null,this.lastPinTimestamp=null}get lastMessage(){return this.messages.cache.get(this.lastMessageID)||null}get lastPinAt(){return this.lastPinTimestamp?new Date(this.lastPinTimestamp):null}async send(m,c){const h=s(20),d=s(10);if(this instanceof h||this instanceof d)return this.createDM().then(f=>f.send(m,c));let p;if(m instanceof n)p=m.resolveData();else if(p=n.create(this,m,c).resolveData(),Array.isArray(p.data.content))return Promise.all(p.split().map(this.send.bind(this)));const{data:y,files:E}=await p.resolveFiles();return this.client.api.channels[this.id].messages.post({data:y,files:E}).then(f=>this.client.actions.MessageCreate.handle(f).message)}startTyping(m){if(m!==void 0&&m<1)throw new t("TYPING_COUNT");if(this.client.user._typing.has(this.id)){const h=this.client.user._typing.get(this.id);return h.count=m||h.count+1,h.promise}const c={};return c.promise=new Promise((h,d)=>{const p=this.client.api.channels[this.id].typing;Object.assign(c,{count:m||1,interval:this.client.setInterval(()=>{p.post().catch(y=>{this.client.clearInterval(c.interval),this.client.user._typing.delete(this.id),d(y)})},9e3),resolve:h}),p.post().catch(y=>{this.client.clearInterval(c.interval),this.client.user._typing.delete(this.id),d(y)}),this.client.user._typing.set(this.id,c)}),c.promise}stopTyping(m=!1){if(this.client.user._typing.has(this.id)){const c=this.client.user._typing.get(this.id);c.count--,(c.count<=0||m)&&(this.client.clearInterval(c.interval),this.client.user._typing.delete(this.id),c.resolve())}}get typing(){return this.client.user._typing.has(this.id)}get typingCount(){return this.client.user._typing.has(this.id)?this.client.user._typing.get(this.id).count:0}createMessageCollector(m,c={}){return new l(this,m,c)}awaitMessages(m,c={}){return new Promise((h,d)=>{this.createMessageCollector(m,c).once("end",(p,y)=>{c.errors&&c.errors.includes(y)?d(p):h(p)})})}async bulkDelete(m,c=!1){if(Array.isArray(m)||m instanceof i){let h=m instanceof i?m.keyArray():m.map(d=>d.id||d);if(c&&(h=h.filter(d=>Date.now()-e.deconstruct(d).date.getTime()<12096e5)),h.length===0)return new i;if(h.length===1){await this.client.api.channels(this.id).messages(h[0]).delete();const d=this.client.actions.MessageDelete.getMessage({message_id:h[0]},this);return d?new i([[d.id,d]]):new i}return await this.client.api.channels[this.id].messages["bulk-delete"].post({data:{messages:h}}),h.reduce((d,p)=>d.set(p,this.client.actions.MessageDeleteBulk.getMessage({message_id:p},this)),new i)}if(!isNaN(m)){const h=await this.messages.fetch({limit:m});return this.bulkDelete(h,c)}throw new o("MESSAGE_BULK_DELETE_TYPE")}static applyToClass(m,c=!1,h=[]){const d=["send"];c&&d.push("lastMessage","lastPinAt","bulkDelete","startTyping","stopTyping","typing","typingCount","createMessageCollector","awaitMessages");for(const p of d)h.includes(p)||Object.defineProperty(m.prototype,p,Object.getOwnPropertyDescriptor(r.prototype,p))}}u.exports=r;const a=s(28)},function(u,g,s){"use strict";const l=s(6),n=s(22),e=s(2),i=s(106);u.exports=class extends l{constructor(t,o){super(t.client,o,n,i,t.client.options.messageCacheMaxSize),this.channel=t}add(t,o){return super.add(t,o,{extras:[this.channel]})}fetch(t,o=!0){return typeof t=="string"?this._fetchId(t,o):this._fetchMany(t,o)}fetchPinned(t=!0){return this.client.api.channels[this.channel.id].pins.get().then(o=>{const r=new e;for(const a of o)r.set(a.id,this.add(a,t));return r})}async delete(t,o){(t=this.resolveID(t))&&await this.client.api.channels(this.channel.id).messages(t).delete({reason:o})}async _fetchId(t,o){const r=this.cache.get(t);if(r&&!r.partial)return r;const a=await this.client.api.channels[this.channel.id].messages[t].get();return this.add(a,o)}async _fetchMany(t={},o){const r=await this.client.api.channels[this.channel.id].messages.get({query:t}),a=new e;for(const m of r)a.set(m.id,this.add(m,o));return a}}},function(u,g){},function(u,g,s){"use strict";var l=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(l!==void 0)return l;throw new Error("unable to locate global object")}();u.exports=g=l.fetch,g.default=l.fetch.bind(l),g.Headers=l.Headers,g.Request=l.Request,g.Response=l.Response},function(u,g,s){"use strict";(function(l,n){s(53);const e=s(24),i=s(86),{DefaultOptions:t}=s(0),o=s(4);u.exports=class extends e{constructor(r={}){super(),this._timeouts=new Set,this._intervals=new Set,this._immediates=new Set,this.options=o.mergeDefault(t,r),this.rest=new i(this,r._tokenType)}get api(){return this.rest.api}destroy(){for(const r of this._timeouts)this.clearTimeout(r);for(const r of this._intervals)this.clearInterval(r);for(const r of this._immediates)this.clearImmediate(r);this._timeouts.clear(),this._intervals.clear(),this._immediates.clear()}setTimeout(r,a,...m){const c=setTimeout(()=>{r(...m),this._timeouts.delete(c)},a);return this._timeouts.add(c),c}clearTimeout(r){clearTimeout(r),this._timeouts.delete(r)}setInterval(r,a,...m){const c=setInterval(r,a,...m);return this._intervals.add(c),c}clearInterval(r){clearInterval(r),this._intervals.delete(r)}setImmediate(r,...a){const m=l(r,...a);return this._immediates.add(m),m}clearImmediate(r){n(r),this._immediates.delete(r)}toJSON(...r){return o.flatten(this,{domain:!1},...r)}}}).call(this,s(51).setImmediate,s(51).clearImmediate)},function(u,g,s){"use strict";const l=s(13),n=s(27),e=s(28);class i extends l{constructor(t,o){super(t,o),this.type="dm",this.messages=new e(this),this._typing=new Map}_patch(t){super._patch(t),t.recipients&&(this.recipient=this.client.users.add(t.recipients[0])),this.lastMessageID=t.last_message_id,this.lastPinTimestamp=t.last_pin_timestamp?new Date(t.last_pin_timestamp).getTime():null}get partial(){return this.lastMessageID===void 0}fetch(){return this.recipient.createDM()}toString(){return this.recipient.toString()}get lastMessage(){}get lastPinAt(){}send(){}startTyping(){}stopTyping(){}get typing(){}get typingCount(){}createMessageCollector(){}awaitMessages(){}}n.applyToClass(i,!0,["bulkDelete"]),u.exports=i},function(u,g,s){"use strict";const l=s(25);u.exports=class extends l{constructor(n,e,i){super(n,e),this.guild=i,Object.defineProperty(this,"_roles",{value:[],writable:!0}),this._patch(e)}_patch(n){n.name&&(this.name=n.name),n.require_colons!==void 0&&(this.requiresColons=n.require_colons),n.managed!==void 0&&(this.managed=n.managed),n.available!==void 0&&(this.available=n.available),n.roles&&(this._roles=n.roles)}}},function(u,g,s){"use strict";const l=s(15),n=s(11),e=s(27),i=s(28),t=s(2),o=s(9);class r extends l{constructor(a,m){super(a,m),this.messages=new i(this),this._typing=new Map}_patch(a){if(super._patch(a),this.topic=a.topic,this.nsfw=a.nsfw,this.lastMessageID=a.last_message_id,this.rateLimitPerUser=a.rate_limit_per_user||0,this.lastPinTimestamp=a.last_pin_timestamp?new Date(a.last_pin_timestamp).getTime():null,a.messages)for(const m of a.messages)this.messages.add(m)}setRateLimitPerUser(a,m){return this.edit({rateLimitPerUser:a},m)}setNSFW(a,m){return this.edit({nsfw:a},m)}fetchWebhooks(){return this.client.api.channels[this.id].webhooks.get().then(a=>{const m=new t;for(const c of a)m.set(c.id,new n(this.client,c));return m})}async createWebhook(a,{avatar:m,reason:c}={}){return typeof m!="string"||m.startsWith("data:")||(m=await o.resolveImage(m)),this.client.api.channels[this.id].webhooks.post({data:{name:a,avatar:m},reason:c}).then(h=>new n(this.client,h))}get lastMessage(){}get lastPinAt(){}send(){}startTyping(){}stopTyping(){}get typing(){}get typingCount(){}createMessageCollector(){}awaitMessages(){}bulkDelete(){}}e.applyToClass(r,!0),u.exports=r},function(u,g,s){"use strict";const l=s(17),{TypeError:n}=s(3),e=s(8),i=s(4);u.exports=class{constructor(t,o){Object.defineProperty(this,"channel",{value:t}),o&&this._patch(o)}_patch(t){this.id=t.id,this.type=t.type,this.deny=new e(t.deny).freeze(),this.allow=new e(t.allow).freeze()}update(t,o){const{allow:r,deny:a}=this.constructor.resolveOverwriteOptions(t,this);return this.channel.client.api.channels(this.channel.id).permissions[this.id].put({data:{id:this.id,type:this.type,allow:r.bitfield,deny:a.bitfield},reason:o}).then(()=>this)}delete(t){return this.channel.client.api.channels[this.channel.id].permissions[this.id].delete({reason:t}).then(()=>this)}toJSON(){return i.flatten(this)}static resolveOverwriteOptions(t,{allow:o,deny:r}={}){o=new e(o),r=new e(r);for(const[a,m]of Object.entries(t))m===!0?(o.add(e.FLAGS[a]),r.remove(e.FLAGS[a])):m===!1?(o.remove(e.FLAGS[a]),r.add(e.FLAGS[a])):m===null&&(o.remove(e.FLAGS[a]),r.remove(e.FLAGS[a]));return{allow:o,deny:r}}static resolve(t,o){if(t instanceof this)return t.toJSON();if(typeof t.id=="string"&&["role","member"].includes(t.type))return{...t,allow:e.resolve(t.allow),deny:e.resolve(t.deny)};const r=o.roles.resolve(t.id)||o.client.users.resolve(t.id);if(!r)throw new n("INVALID_TYPE","parameter","User nor a Role",!0);const a=r instanceof l?"role":"member";return{id:r.id,type:a,allow:e.resolve(t.allow),deny:e.resolve(t.deny)}}}},function(u,g,s){"use strict";const l=s(4);u.exports=class{constructor(n,e=null,i){this.attachment=n,this.name=e,i&&this._patch(i)}setFile(n,e=null){return this.attachment=n,this.name=e,this}setName(n){return this.name=n,this}_patch(n){this.id=n.id,this.size=n.size,this.url=n.url,this.proxyURL=n.proxy_url,this.height=n.height!==void 0?n.height:null,this.width=n.width!==void 0?n.width:null}get spoiler(){return l.basename(this.url).startsWith("SPOILER_")}toJSON(){return l.flatten(this)}}},function(u,g,s){"use strict";const{RangeError:l}=s(3),n=s(4);u.exports=class{constructor(e={},i=!1){this.setup(e,i)}setup(e,i){this.type=e.type,this.title=e.title,this.description=e.description,this.url=e.url,this.color=n.resolveColor(e.color),this.timestamp=e.timestamp?new Date(e.timestamp).getTime():null,this.fields=[],e.fields&&(this.fields=i?e.fields.map(n.cloneObject):this.constructor.normalizeFields(e.fields)),this.thumbnail=e.thumbnail?{url:e.thumbnail.url,proxyURL:e.thumbnail.proxyURL||e.thumbnail.proxy_url,height:e.thumbnail.height,width:e.thumbnail.width}:null,this.image=e.image?{url:e.image.url,proxyURL:e.image.proxyURL||e.image.proxy_url,height:e.image.height,width:e.image.width}:null,this.video=e.video?{url:e.video.url,proxyURL:e.video.proxyURL||e.video.proxy_url,height:e.video.height,width:e.video.width}:null,this.author=e.author?{name:e.author.name,url:e.author.url,iconURL:e.author.iconURL||e.author.icon_url,proxyIconURL:e.author.proxyIconURL||e.author.proxy_icon_url}:null,this.provider=e.provider?{name:e.provider.name,url:e.provider.name}:null,this.footer=e.footer?{text:e.footer.text,iconURL:e.footer.iconURL||e.footer.icon_url,proxyIconURL:e.footer.proxyIconURL||e.footer.proxy_icon_url}:null,this.files=e.files||[]}get createdAt(){return this.timestamp?new Date(this.timestamp):null}get hexColor(){return this.color?`#${this.color.toString(16).padStart(6,"0")}`:null}get length(){return(this.title?this.title.length:0)+(this.description?this.description.length:0)+(this.fields.length>=1?this.fields.reduce((e,i)=>e+i.name.length+i.value.length,0):0)+(this.footer?this.footer.text.length:0)}addField(e,i,t){return this.addFields({name:e,value:i,inline:t})}addFields(...e){return this.fields.push(...this.constructor.normalizeFields(e)),this}spliceFields(e,i,...t){return this.fields.splice(e,i,...this.constructor.normalizeFields(...t)),this}attachFiles(e){return this.files=this.files.concat(e),this}setAuthor(e,i,t){return this.author={name:n.resolveString(e),iconURL:i,url:t},this}setColor(e){return this.color=n.resolveColor(e),this}setDescription(e){return e=n.resolveString(e),this.description=e,this}setFooter(e,i){return e=n.resolveString(e),this.footer={text:e,iconURL:i},this}setImage(e){return this.image={url:e},this}setThumbnail(e){return this.thumbnail={url:e},this}setTimestamp(e=Date.now()){return e instanceof Date&&(e=e.getTime()),this.timestamp=e,this}setTitle(e){return e=n.resolveString(e),this.title=e,this}setURL(e){return this.url=e,this}toJSON(){return{title:this.title,type:"rich",description:this.description,url:this.url,timestamp:this.timestamp?new Date(this.timestamp):null,color:this.color,fields:this.fields,thumbnail:this.thumbnail,image:this.image,author:this.author?{name:this.author.name,url:this.author.url,icon_url:this.author.iconURL}:null,footer:this.footer?{text:this.footer.text,icon_url:this.footer.iconURL}:null}}static normalizeField(e,i,t=!1){if(!(e=n.resolveString(e)))throw new l("EMBED_FIELD_NAME");if(!(i=n.resolveString(i)))throw new l("EMBED_FIELD_VALUE");return{name:e,value:i,inline:t}}static normalizeFields(...e){return e.flat(2).map(i=>this.normalizeField(i&&i.name,i&&i.value,!(!i||typeof i.inline!="boolean")&&i.inline))}}},function(u,g,s){"use strict";const l=s(14);class n extends l{}n.FLAGS={CROSSPOSTED:1,IS_CROSSPOST:2,SUPPRESS_EMBEDS:4,SOURCE_MESSAGE_DELETED:8,URGENT:16},u.exports=n},function(u,g,s){"use strict";const l=s(31);class n extends l{constructor(e,i,t){super(t),Object.defineProperty(this,"client",{value:this}),this.id=e,Object.defineProperty(this,"token",{value:i,writable:!0,configurable:!0})}}s(11).applyToClass(n),u.exports=n},function(u,g,s){"use strict";const l=s(24),n=s(2),e=s(4);u.exports=class extends l{constructor(i,t,o={}){super(),Object.defineProperty(this,"client",{value:i}),this.filter=t,this.options=o,this.collected=new n,this.ended=!1,this._timeout=null,this._idletimeout=null,this.handleCollect=this.handleCollect.bind(this),this.handleDispose=this.handleDispose.bind(this),o.time&&(this._timeout=this.client.setTimeout(()=>this.stop("time"),o.time)),o.idle&&(this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),o.idle))}handleCollect(...i){const t=this.collect(...i);t&&this.filter(...i,this.collected)&&(this.collected.set(t,i[0]),this.emit("collect",...i),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),this.options.idle))),this.checkEnd()}handleDispose(...i){if(!this.options.dispose)return;const t=this.dispose(...i);t&&this.filter(...i)&&this.collected.has(t)&&(this.collected.delete(t),this.emit("dispose",...i),this.checkEnd())}get next(){return new Promise((i,t)=>{if(this.ended)return void t(this.collected);const o=()=>{this.removeListener("collect",r),this.removeListener("end",a)},r=m=>{o(),i(m)},a=()=>{o(),t(this.collected)};this.on("collect",r),this.on("end",a)})}stop(i="user"){this.ended||(this._timeout&&(this.client.clearTimeout(this._timeout),this._timeout=null),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=null),this.ended=!0,this.emit("end",this.collected,i))}resetTimer({time:i,idle:t}={}){this._timeout&&(this.client.clearTimeout(this._timeout),this._timeout=this.client.setTimeout(()=>this.stop("time"),i||this.options.time)),this._idletimeout&&(this.client.clearTimeout(this._idletimeout),this._idletimeout=this.client.setTimeout(()=>this.stop("idle"),t||this.options.idle))}checkEnd(){const i=this.endReason();i&&this.stop(i)}async*[Symbol.asyncIterator](){const i=[],t=o=>i.push(o);this.on("collect",t);try{for(;i.length||!this.ended;)i.length?yield i.shift():await new Promise(o=>{const r=()=>(this.removeListener("collect",r),this.removeListener("end",r),o());this.on("collect",r),this.on("end",r)})}finally{this.removeListener("collect",t)}}toJSON(){return e.flatten(this)}collect(){}dispose(){}endReason(){}}},function(u,g,s){"use strict";const l=s(5),n=s(60),{ClientApplicationAssetTypes:e,Endpoints:i}=s(0),t=s(7),o=Object.keys(e);u.exports=class extends l{constructor(r,a){super(r),this._patch(a)}_patch(r){this.id=r.id,this.name=r.name,this.description=r.description,this.icon=r.icon,this.cover=r.cover_image||null,this.rpcOrigins=r.rpc_origins||[],this.botRequireCodeGrant=r.bot_require_code_grant!==void 0?r.bot_require_code_grant:null,this.botPublic=r.bot_public!==void 0?r.bot_public:null,this.owner=r.team?new n(this.client,r.team):r.owner?this.client.users.add(r.owner):null}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}iconURL({format:r,size:a}={}){return this.icon?this.client.rest.cdn.AppIcon(this.id,this.icon,{format:r,size:a}):null}coverImage({format:r,size:a}={}){return this.cover?i.CDN(this.client.options.http.cdn).AppIcon(this.id,this.cover,{format:r,size:a}):null}fetchAssets(){return this.client.api.oauth2.applications(this.id).assets.get().then(r=>r.map(a=>({id:a.id,name:a.name,type:o[a.type-1]})))}toString(){return this.name}toJSON(){return super.toJSON({createdTimestamp:!0})}}},function(u,g,s){"use strict";const l=s(19),n=s(43),e=s(64),i=s(4);u.exports=class{constructor(t,o,r){Object.defineProperty(this,"client",{value:t}),this.message=r,this.me=o.me,this.users=new e(t,void 0,this),this._emoji=new n(this,o.emoji),this._patch(o)}_patch(t){this.count==null&&(this.count=t.count)}async remove(){return await this.client.api.channels(this.message.channel.id).messages(this.message.id).reactions(this._emoji.identifier).delete(),this}get emoji(){if(this._emoji instanceof l)return this._emoji;if(this._emoji.id){const t=this.message.client.emojis.cache;if(t.has(this._emoji.id)){const o=t.get(this._emoji.id);return this._emoji=o,o}}return this._emoji}get partial(){return this.count===null}async fetch(){const t=(await this.message.fetch()).reactions.cache.get(this.emoji.id||this.emoji.name);return this._patch(t||{count:0}),this}toJSON(){return i.flatten(this,{emoji:"emojiID",message:"messageID"})}_add(t){this.partial||(this.users.cache.set(t.id,t),this.me&&t.id===this.message.client.user.id&&this.count!==0||this.count++,this.me||(this.me=t.id===this.message.client.user.id))}_remove(t){this.partial||(this.users.cache.delete(t.id),this.me&&t.id===this.message.client.user.id||this.count--,t.id===this.message.client.user.id&&(this.me=!1),this.count<=0&&this.users.cache.size===0&&this.message.reactions.cache.delete(this.emoji.id||this.emoji.name))}}},function(u,g,s){"use strict";const l=s(25),n=s(4);u.exports=class extends l{constructor(e,i){super(e.message.client,i),this.reaction=e}toJSON(){return n.flatten(this,{identifier:!0})}valueOf(){return this.id}}},function(u,g,s){"use strict";const l=s(5),n=s(69),e=s(46),i=s(45),t=s(16),o=s(47),r=s(11),a=s(70),m=s(48),c=s(71),h=s(72),d=s(73),p=s(108),y=s(2),{ChannelTypes:E,DefaultMessageNotifications:f,PartialTypes:A,VerificationLevels:D,ExplicitContentFilterLevels:I}=s(0),b=s(9),w=s(7),R=s(74),L=s(4);u.exports=class extends l{constructor(_,T){super(_),this.members=new c(this),this.channels=new a(this),this.roles=new d(this),this.presences=new h(this.client),this.voiceStates=new p(this),this.deleted=!1,T&&(T.unavailable?(this.available=!1,this.id=T.id):(this._patch(T),T.channels||(this.available=!1)),this.shardID=T.shardID)}get shard(){return this.client.ws.shards.get(this.shardID)}_patch(_){if(this.name=_.name,this.icon=_.icon,this.splash=_.splash,this.region=_.region,this.memberCount=_.member_count||this.memberCount,this.large=Boolean("large"in _?_.large:this.large),this.features=_.features,this.applicationID=_.application_id,this.afkTimeout=_.afk_timeout,this.afkChannelID=_.afk_channel_id,this.systemChannelID=_.system_channel_id,this.embedEnabled=_.embed_enabled,this.premiumTier=_.premium_tier,_.premium_subscription_count!==void 0&&(this.premiumSubscriptionCount=_.premium_subscription_count),_.widget_enabled!==void 0&&(this.widgetEnabled=_.widget_enabled),_.widget_channel_id!==void 0&&(this.widgetChannelID=_.widget_channel_id),_.embed_channel_id!==void 0&&(this.embedChannelID=_.embed_channel_id),this.verificationLevel=D[_.verification_level],this.explicitContentFilter=I[_.explicit_content_filter],this.mfaLevel=_.mfa_level,this.joinedTimestamp=_.joined_at?new Date(_.joined_at).getTime():this.joinedTimestamp,this.defaultMessageNotifications=f[_.default_message_notifications]||_.default_message_notifications,this.systemChannelFlags=new R(_.system_channel_flags).freeze(),_.max_members!==void 0&&(this.maximumMembers=_.max_members||25e4),_.max_presences!==void 0&&(this.maximumPresences=_.max_presences||25e3),this.vanityURLCode=_.vanity_url_code,this.description=_.description,this.banner=_.banner,this.id=_.id,this.available=!_.unavailable,this.features=_.features||this.features||[],this.rulesChannelID=_.rules_channel_id,this.publicUpdatesChannelID=_.public_updates_channel_id,_.channels){this.channels.cache.clear();for(const T of _.channels)this.client.channels.add(T,this)}if(_.roles){this.roles.cache.clear();for(const T of _.roles)this.roles.add(T)}if(_.members){this.members.cache.clear();for(const T of _.members)this.members.add(T)}if(_.owner_id&&(this.ownerID=_.owner_id),_.presences)for(const T of _.presences)this.presences.add(Object.assign(T,{guild:this}));if(_.voice_states){this.voiceStates.cache.clear();for(const T of _.voice_states)this.voiceStates.add(T)}if(this.emojis)_.emojis&&this.client.actions.GuildEmojisUpdate.handle({guild_id:this.id,emojis:_.emojis});else if(this.emojis=new m(this),_.emojis)for(const T of _.emojis)this.emojis.add(T)}bannerURL({format:_,size:T}={}){return this.banner?this.client.rest.cdn.Banner(this.id,this.banner,_,T):null}get createdTimestamp(){return w.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}get joinedAt(){return new Date(this.joinedTimestamp)}get partnered(){return this.features.includes("PARTNERED")}get verified(){return this.features.includes("VERIFIED")}iconURL({format:_,size:T,dynamic:O}={}){return this.icon?this.client.rest.cdn.Icon(this.id,this.icon,_,T,O):null}get nameAcronym(){return this.name.replace(/\w+/g,_=>_[0]).replace(/\s/g,"")}splashURL({format:_,size:T}={}){return this.splash?this.client.rest.cdn.Splash(this.id,this.splash,_,T):null}get owner(){return this.members.cache.get(this.ownerID)||(this.client.options.partials.includes(A.GUILD_MEMBER)?this.members.add({user:{id:this.ownerID}},!0):null)}get afkChannel(){return this.client.channels.cache.get(this.afkChannelID)||null}get systemChannel(){return this.client.channels.cache.get(this.systemChannelID)||null}get widgetChannel(){return this.client.channels.cache.get(this.widgetChannelID)||null}get embedChannel(){return this.client.channels.cache.get(this.embedChannelID)||null}get rulesChannel(){return this.client.channels.cache.get(this.rulesChannelID)||null}get publicUpdatesChannel(){return this.client.channels.cache.get(this.publicUpdatesChannelID)||null}get me(){return this.members.cache.get(this.client.user.id)||(this.client.options.partials.includes(A.GUILD_MEMBER)?this.members.add({user:{id:this.client.user.id}},!0):null)}get voice(){return this.voiceStates.cache.get(this.client.user.id)}member(_){return this.members.resolve(_)}fetch(){return this.client.api.guilds(this.id).get().then(_=>(this._patch(_),this))}fetchBan(_){const T=this.client.users.resolveID(_);if(!T)throw new Error("FETCH_BAN_RESOLVE_ID");return this.client.api.guilds(this.id).bans(T).get().then(O=>({reason:O.reason,user:this.client.users.add(O.user)}))}fetchBans(){return this.client.api.guilds(this.id).bans.get().then(_=>_.reduce((T,O)=>(T.set(O.user.id,{reason:O.reason,user:this.client.users.add(O.user)}),T),new y))}fetchIntegrations(){return this.client.api.guilds(this.id).integrations.get().then(_=>_.reduce((T,O)=>T.set(O.id,new i(this.client,O,this)),new y))}createIntegration(_,T){return this.client.api.guilds(this.id).integrations.post({data:_,reason:T}).then(()=>this)}fetchInvites(){return this.client.api.guilds(this.id).invites.get().then(_=>{const T=new y;for(const O of _){const j=new t(this.client,O);T.set(j.code,j)}return T})}fetchPreview(){return this.client.api.guilds(this.id).preview.get().then(_=>new e(this.client,_))}fetchVanityCode(){return this.features.includes("VANITY_URL")?this.client.api.guilds(this.id,"vanity-url").get().then(_=>_.code):Promise.reject(new Error("VANITY_URL"))}fetchWebhooks(){return this.client.api.guilds(this.id).webhooks.get().then(_=>{const T=new y;for(const O of _)T.set(O.id,new r(this.client,O));return T})}fetchVoiceRegions(){return this.client.api.guilds(this.id).regions.get().then(_=>{const T=new y;for(const O of _)T.set(O.id,new o(O));return T})}fetchEmbed(){return this.client.api.guilds(this.id).embed.get().then(_=>({enabled:_.enabled,channel:_.channel_id?this.channels.cache.get(_.channel_id):null}))}fetchAuditLogs(_={}){return _.before&&_.before instanceof n.Entry&&(_.before=_.before.id),typeof _.type=="string"&&(_.type=n.Actions[_.type]),this.client.api.guilds(this.id)["audit-logs"].get({query:{before:_.before,limit:_.limit,user_id:this.client.users.resolveID(_.user),action_type:_.type}}).then(T=>n.build(this,T))}addMember(_,T){if(!(_=this.client.users.resolveID(_)))return Promise.reject(new TypeError("INVALID_TYPE","user","UserResolvable"));if(this.members.cache.has(_))return Promise.resolve(this.members.cache.get(_));if(T.access_token=T.accessToken,T.roles){const O=[];for(let j of T.roles instanceof y?T.roles.values():T.roles){if(j=this.roles.resolve(j),!j)return Promise.reject(new TypeError("INVALID_TYPE","options.roles","Array or Collection of Roles or Snowflakes",!0));O.push(j.id)}T.roles=O}return this.client.api.guilds(this.id).members(_).put({data:T}).then(O=>this.members.add(O))}edit(_,T){const O={};return _.name&&(O.name=_.name),_.region&&(O.region=_.region),_.verificationLevel!==void 0&&(O.verification_level=typeof _.verificationLevel=="number"?Number(_.verificationLevel):D.indexOf(_.verificationLevel)),_.afkChannel!==void 0&&(O.afk_channel_id=this.client.channels.resolveID(_.afkChannel)),_.systemChannel!==void 0&&(O.system_channel_id=this.client.channels.resolveID(_.systemChannel)),_.afkTimeout&&(O.afk_timeout=Number(_.afkTimeout)),_.icon!==void 0&&(O.icon=_.icon),_.owner&&(O.owner_id=this.client.users.resolveID(_.owner)),_.splash&&(O.splash=_.splash),_.banner&&(O.banner=_.banner),_.explicitContentFilter!==void 0&&(O.explicit_content_filter=typeof _.explicitContentFilter=="number"?_.explicitContentFilter:I.indexOf(_.explicitContentFilter)),_.defaultMessageNotifications!==void 0&&(O.default_message_notifications=typeof _.defaultMessageNotifications=="string"?f.indexOf(_.defaultMessageNotifications):_.defaultMessageNotifications),_.systemChannelFlags!==void 0&&(O.system_channel_flags=R.resolve(_.systemChannelFlags)),this.client.api.guilds(this.id).patch({data:O,reason:T}).then(j=>this.client.actions.GuildUpdate.handle(j).updated)}setExplicitContentFilter(_,T){return this.edit({explicitContentFilter:_},T)}setDefaultMessageNotifications(_,T){return this.edit({defaultMessageNotifications:_},T)}setSystemChannelFlags(_,T){return this.edit({systemChannelFlags:_},T)}setName(_,T){return this.edit({name:_},T)}setRegion(_,T){return this.edit({region:_},T)}setVerificationLevel(_,T){return this.edit({verificationLevel:_},T)}setAFKChannel(_,T){return this.edit({afkChannel:_},T)}setSystemChannel(_,T){return this.edit({systemChannel:_},T)}setAFKTimeout(_,T){return this.edit({afkTimeout:_},T)}async setIcon(_,T){return this.edit({icon:await b.resolveImage(_),reason:T})}setOwner(_,T){return this.edit({owner:_},T)}async setSplash(_,T){return this.edit({splash:await b.resolveImage(_),reason:T})}async setBanner(_,T){return this.edit({banner:await b.resolveImage(_),reason:T})}setChannelPositions(_){const T=_.map(O=>({id:this.client.channels.resolveID(O.channel),position:O.position}));return this.client.api.guilds(this.id).channels.patch({data:T}).then(()=>this.client.actions.GuildChannelsPositionUpdate.handle({guild_id:this.id,channels:T}).guild)}setRolePositions(_){return _=_.map(T=>({id:this.roles.resolveID(T.role),position:T.position})),this.client.api.guilds(this.id).roles.patch({data:_}).then(()=>this.client.actions.GuildRolesPositionUpdate.handle({guild_id:this.id,roles:_}).guild)}setEmbed(_,T){return this.client.api.guilds(this.id).embed.patch({data:{enabled:_.enabled,channel_id:this.channels.resolveID(_.channel)},reason:T}).then(()=>this)}leave(){return this.ownerID===this.client.user.id?Promise.reject(new Error("GUILD_OWNED")):this.client.api.users("@me").guilds(this.id).delete().then(()=>this.client.actions.GuildDelete.handle({id:this.id}).guild)}delete(){return this.client.api.guilds(this.id).delete().then(()=>this.client.actions.GuildDelete.handle({id:this.id}).guild)}equals(_){let T=_&&_ instanceof this.constructor&&this.id===_.id&&this.available===_.available&&this.splash===_.splash&&this.region===_.region&&this.name===_.name&&this.memberCount===_.memberCount&&this.large===_.large&&this.icon===_.icon&&this.ownerID===_.ownerID&&this.verificationLevel===_.verificationLevel&&this.embedEnabled===_.embedEnabled&&(this.features===_.features||this.features.length===_.features.length&&this.features.every((O,j)=>O===_.features[j]));return T&&(this.embedChannel?_.embedChannel&&this.embedChannel.id===_.embedChannel.id||(T=!1):_.embedChannel&&(T=!1)),T}toString(){return this.name}toJSON(){const _=super.toJSON({available:!1,createdTimestamp:!0,nameAcronym:!0,presences:!1,voiceStates:!1});return _.iconURL=this.iconURL(),_.splashURL=this.splashURL(),_.bannerURL=this.bannerURL(),_}_sortedRoles(){return L.discordSort(this.roles.cache)}_sortedChannels(_){const T=_.type===E.CATEGORY;return L.discordSort(this.channels.cache.filter(O=>O.type===_.type&&(T||O.parent===_.parent)))}}},function(u,g,s){"use strict";const l=s(5);u.exports=class extends l{constructor(n,e,i){super(n),this.guild=i,this.id=e.id,this.name=e.name,this.type=e.type,this.enabled=e.enabled,this.syncing=e.syncing,this.role=this.guild.roles.cache.get(e.role_id),this.user=this.client.users.add(e.user),this.account=e.account,this.syncedAt=e.synced_at,this._patch(e)}_patch(n){this.expireBehavior=n.expire_behavior,this.expireGracePeriod=n.expire_grace_period}sync(){return this.syncing=!0,this.client.api.guilds(this.guild.id).integrations(this.id).post().then(()=>(this.syncing=!1,this.syncedAt=Date.now(),this))}edit(n,e){return"expireBehavior"in n&&(n.expire_behavior=n.expireBehavior,n.expireBehavior=null),"expireGracePeriod"in n&&(n.expire_grace_period=n.expireGracePeriod,n.expireGracePeriod=null),this.client.api.guilds(this.guild.id).integrations(this.id).patch({data:n,reason:e}).then(()=>(this._patch(n),this))}delete(n){return this.client.api.guilds(this.guild.id).integrations(this.id).delete({reason:n}).then(()=>this)}toJSON(){return super.toJSON({role:"roleID",guild:"guildID",user:"userID"})}}},function(u,g,s){"use strict";const l=s(5),n=s(107),e=s(2);u.exports=class extends l{constructor(i,t){super(i),t&&this._patch(t)}_patch(i){this.id=i.id,this.name=i.name,this.icon=i.icon,this.splash=i.splash,this.discoverySplash=i.discovery_splash,this.features=i.features,this.approximateMemberCount=i.approximate_member_count,this.approximatePresenceCount=i.approximate_presence_count,this.description=i.description,this.emojis?this.emojis.clear():this.emojis=new e;for(const t of i.emojis)this.emojis.set(t.id,new n(this.client,t,this))}splashURL({format:i,size:t}={}){return this.splash?this.client.rest.cdn.Splash(this.id,this.splash,i,t):null}discoverySplashURL({format:i,size:t}={}){return this.discoverySplash?this.client.rest.cdn.DiscoverySplash(this.id,this.discoverySplash,i,t):null}iconURL({format:i,size:t,dynamic:o}={}){return this.icon?this.client.rest.cdn.Icon(this.id,this.icon,i,t,o):null}fetch(){return this.client.api.guilds(this.id).preview.get().then(i=>(this._patch(i),this))}toString(){return this.name}toJSON(){const i=super.toJSON();return i.iconURL=this.iconURL(),i.splashURL=this.splashURL(),i}}},function(u,g,s){"use strict";const l=s(4);u.exports=class{constructor(n){this.id=n.id,this.name=n.name,this.vip=n.vip,this.deprecated=n.deprecated,this.optimal=n.optimal,this.custom=n.custom}toJSON(){return l.flatten(this)}}},function(u,g,s){"use strict";const l=s(6),{TypeError:n}=s(3),e=s(19),i=s(43),t=s(2),o=s(9);u.exports=class extends l{constructor(r,a){super(r.client,a,e),this.guild=r}add(r,a){return super.add(r,a,{extras:[this.guild]})}async create(r,a,{roles:m,reason:c}={}){if(!(r=await o.resolveImage(r)))throw new n("REQ_RESOURCE_TYPE");const h={image:r,name:a};if(m){h.roles=[];for(let d of m instanceof t?m.values():m){if(d=this.guild.roles.resolve(d),!d)return Promise.reject(new n("INVALID_TYPE","options.roles","Array or Collection of Roles or Snowflakes",!0));h.roles.push(d.id)}}return this.client.api.guilds(this.guild.id).emojis.post({data:h,reason:c}).then(d=>this.client.actions.GuildEmojiCreate.handle(this.guild,d).emoji)}resolve(r){return r instanceof i?super.resolve(r.id):super.resolve(r)}resolveID(r){return r instanceof i?r.id:super.resolveID(r)}resolveIdentifier(r){const a=this.resolve(r);return a?a.identifier:r instanceof i?r.identifier:typeof r=="string"?r.includes("%")?r:encodeURIComponent(r):null}}},function(u,g){u.exports={version:"12.1.1",homepage:"https://github.com/discordjs/discord.js#readme"}},function(u,g,s){"use strict";const l=Symbol("code"),n=new Map;function e(i){return class t extends i{constructor(o,...r){super(function(a,m){if(typeof a!="string")throw new Error("Error message key must be a string");const c=n.get(a);if(!c)throw new Error(`An invalid error message key was used: ${a}.`);return typeof c=="function"?c(...m):m===void 0||m.length===0?c:(m.unshift(c),String(...m))}(o,r)),this[l]=o,Error.captureStackTrace&&Error.captureStackTrace(this,t)}get name(){return`${super.name} [${this[l]}]`}get code(){return this[l]}}}u.exports={register:function(i,t){n.set(i,typeof t=="function"?t:String(t))},Error:e(Error),TypeError:e(TypeError),RangeError:e(RangeError)}},function(u,g,s){(function(l){var n=l!==void 0&&l||typeof self!="undefined"&&self||window,e=Function.prototype.apply;function i(t,o){this._id=t,this._clearFn=o}g.setTimeout=function(){return new i(e.call(setTimeout,n,arguments),clearTimeout)},g.setInterval=function(){return new i(e.call(setInterval,n,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},g.enroll=function(t,o){clearTimeout(t._idleTimeoutId),t._idleTimeout=o},g.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},g._unrefActive=g.active=function(t){clearTimeout(t._idleTimeoutId);var o=t._idleTimeout;o>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},o))},s(53),g.setImmediate=typeof self!="undefined"&&self.setImmediate||l!==void 0&&l.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self!="undefined"&&self.clearImmediate||l!==void 0&&l.clearImmediate||this&&this.clearImmediate}).call(this,s(52))},function(u,g){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(l){typeof window=="object"&&(s=window)}u.exports=s},function(u,g,s){(function(l,n){!function(e,i){"use strict";if(!e.setImmediate){var t,o,r,a,m,c=1,h={},d=!1,p=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?t=function(A){n.nextTick(function(){f(A)})}:function(){if(e.postMessage&&!e.importScripts){var A=!0,D=e.onmessage;return e.onmessage=function(){A=!1},e.postMessage("","*"),e.onmessage=D,A}}()?(a="setImmediate$"+Math.random()+"$",m=function(A){A.source===e&&typeof A.data=="string"&&A.data.indexOf(a)===0&&f(+A.data.slice(a.length))},e.addEventListener?e.addEventListener("message",m,!1):e.attachEvent("onmessage",m),t=function(A){e.postMessage(a+A,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(A){f(A.data)},t=function(A){r.port2.postMessage(A)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,t=function(A){var D=p.createElement("script");D.onreadystatechange=function(){f(A),D.onreadystatechange=null,o.removeChild(D),D=null},o.appendChild(D)}):t=function(A){setTimeout(f,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var D=new Array(arguments.length-1),I=0;I<D.length;I++)D[I]=arguments[I+1];var b={callback:A,args:D};return h[c]=b,t(c),c++},y.clearImmediate=E}function E(A){delete h[A]}function f(A){if(d)setTimeout(f,0,A);else{var D=h[A];if(D){d=!0;try{!function(I){var b=I.callback,w=I.args;switch(w.length){case 0:b();break;case 1:b(w[0]);break;case 2:b(w[0],w[1]);break;case 3:b(w[0],w[1],w[2]);break;default:b.apply(void 0,w)}}(D)}finally{E(A),d=!1}}}}}(typeof self=="undefined"?l===void 0?this:l:self)}).call(this,s(52),s(23))},function(u,g,s){"use strict";class l extends Error{constructor(n,e,i,t){super();const o=this.constructor.flattenErrors(e.errors||e).join(`
`);this.name="DiscordAPIError",this.message=e.message&&o?`${e.message}
${o}`:e.message||o,this.method=i,this.path=n,this.code=e.code,this.httpStatus=t}static flattenErrors(n,e=""){let i=[];for(const[t,o]of Object.entries(n)){if(t==="message")continue;const r=e?isNaN(t)?`${e}.${t}`:`${e}[${t}]`:t;o._errors?i.push(`${r}: ${o._errors.map(a=>a.message).join(" ")}`):o.code||o.message?i.push(`${o.code?`${o.code}: `:""}${o.message}`.trim()):typeof o=="string"?i.push(o):i=i.concat(this.flattenErrors(o,r))}return i}}u.exports=l},function(u,g,s){"use strict";class l extends Error{constructor(n,e,i,t,o){super(n),this.name=e,this.code=i||500,this.method=t,this.path=o}}u.exports=l},function(u,g,s){"use strict";const{TypeError:l}=s(3),n=s(2);u.exports=class{constructor(e){this.emoji=e,this.guild=e.guild,Object.defineProperty(this,"client",{value:e.client})}get _roles(){return this.guild.roles.cache.filter(e=>this.emoji._roles.includes(e.id))}get cache(){return this._roles}add(e){if(e instanceof n)return this.add(e.keyArray());if(!Array.isArray(e))return this.add([e]);if((e=e.map(t=>this.guild.roles.resolve(t))).includes(null))return Promise.reject(new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0));const i=[...new Set(e.concat(...this._roles.values()))];return this.set(i)}remove(e){if(e instanceof n)return this.remove(e.keyArray());if(!Array.isArray(e))return this.remove([e]);if((e=e.map(t=>this.guild.roles.resolveID(t))).includes(null))return Promise.reject(new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0));const i=this._roles.keyArray().filter(t=>!e.includes(t));return this.set(i)}set(e){return this.emoji.edit({roles:e})}clone(){const e=new this.constructor(this.emoji);return e._patch(this._roles.keyArray().slice()),e}_patch(e){this.emoji._roles=e}}},function(u,g,s){"use strict";const l=s(14);class n extends l{}n.FLAGS={INSTANCE:1,JOIN:2,SPECTATE:4,JOIN_REQUEST:8,SYNC:16,PLAY:32},u.exports=n},function(u,g,s){"use strict";const l=s(40),{Events:n}=s(0);u.exports=class extends l{constructor(e,i,t={}){super(e.client,i,t),this.channel=e,this.received=0;const o=r=>{for(const a of r.values())this.handleDispose(a)};this._handleChannelDeletion=this._handleChannelDeletion.bind(this),this._handleGuildDeletion=this._handleGuildDeletion.bind(this),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()+1),this.client.on(n.MESSAGE_CREATE,this.handleCollect),this.client.on(n.MESSAGE_DELETE,this.handleDispose),this.client.on(n.MESSAGE_BULK_DELETE,o),this.client.on(n.CHANNEL_DELETE,this._handleChannelDeletion),this.client.on(n.GUILD_DELETE,this._handleGuildDeletion),this.once("end",()=>{this.client.removeListener(n.MESSAGE_CREATE,this.handleCollect),this.client.removeListener(n.MESSAGE_DELETE,this.handleDispose),this.client.removeListener(n.MESSAGE_BULK_DELETE,o),this.client.removeListener(n.CHANNEL_DELETE,this._handleChannelDeletion),this.client.removeListener(n.GUILD_DELETE,this._handleGuildDeletion),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()-1)})}collect(e){return e.channel.id!==this.channel.id?null:(this.received++,e.id)}dispose(e){return e.channel.id===this.channel.id?e.id:null}endReason(){return this.options.max&&this.collected.size>=this.options.max?"limit":this.options.maxProcessed&&this.received===this.options.maxProcessed?"processedLimit":null}_handleChannelDeletion(e){e.id===this.channel.id&&this.stop("channelDelete")}_handleGuildDeletion(e){this.channel.guild&&e.id===this.channel.guild.id&&this.stop("guildDelete")}}},function(u,g,s){"use strict";const{TypeError:l}=s(3),n=s(2);u.exports=class{constructor(e){this.member=e,this.guild=e.guild,Object.defineProperty(this,"client",{value:e.client})}get _roles(){const e=this.guild.roles.everyone;return this.guild.roles.cache.filter(i=>this.member._roles.includes(i.id)).set(e.id,e)}get cache(){return this._roles}get hoist(){const e=this._roles.filter(i=>i.hoist);return e.size?e.reduce((i,t)=>!i||t.comparePositionTo(i)>0?t:i):null}get color(){const e=this._roles.filter(i=>i.color);return e.size?e.reduce((i,t)=>!i||t.comparePositionTo(i)>0?t:i):null}get highest(){return this._roles.reduce((e,i)=>i.comparePositionTo(e)>0?i:e,this._roles.first())}async add(e,i){if(e instanceof n||Array.isArray(e)){if((e=e.map(o=>this.guild.roles.resolve(o))).includes(null))throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);const t=[...new Set(e.concat(...this._roles.values()))];return this.set(t,i)}{if((e=this.guild.roles.resolve(e))===null)throw new l("INVALID_TYPE","roles","Role, Snowflake or Array or Collection of Roles or Snowflakes",!0);await this.client.api.guilds[this.guild.id].members[this.member.id].roles[e.id].put({reason:i});const t=this.member._clone();return t._roles=[...this._roles.keys(),e.id],t}}async remove(e,i){if(e instanceof n||Array.isArray(e)){if((e=e.map(o=>this.guild.roles.resolve(o))).includes(null))throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);const t=this._roles.filter(o=>!e.includes(o));return this.set(t,i)}{if((e=this.guild.roles.resolve(e))===null)throw new l("INVALID_TYPE","roles","Array or Collection of Roles or Snowflakes",!0);await this.client.api.guilds[this.guild.id].members[this.member.id].roles[e.id].delete({reason:i});const t=this.member._clone(),o=this._roles.filter(r=>r.id!==e.id);return t._roles=[...o.keys()],t}}set(e,i){return this.member.edit({roles:e},i)}clone(){const e=new this.constructor(this.member);return e.member._roles=[...this._roles.keyArray()],e}}},function(u,g,s){"use strict";const l=s(5),n=s(61),e=s(2),i=s(7);u.exports=class extends l{constructor(t,o){super(t),this._patch(o)}_patch(t){this.id=t.id,this.name=t.name,this.icon=t.icon||null,this.ownerID=t.owner_user_id||null,this.members=new e;for(const o of t.members){const r=new n(this,o);this.members.set(r.id,r)}}get owner(){return this.members.get(this.ownerID)||null}get createdTimestamp(){return i.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}iconURL({format:t,size:o}={}){return this.icon?this.client.rest.cdn.TeamIcon(this.id,this.icon,{format:t,size:o}):null}toString(){return this.name}toJSON(){return super.toJSON({createdTimestamp:!0})}}},function(u,g,s){"use strict";const l=s(5),{MembershipStates:n}=s(0);u.exports=class extends l{constructor(e,i){super(e.client),this.team=e,this._patch(i)}_patch(e){this.permissions=e.permissions,this.membershipState=n[e.membership_state],this.user=this.client.users.add(e.user)}get id(){return this.user.id}toString(){return this.user.toString()}}},function(u,g,s){"use strict";const l=s(2),{ChannelTypes:n}=s(0),e=s(4);class i{constructor(t,o,r,a,m){if(Object.defineProperty(this,"client",{value:t.client}),Object.defineProperty(this,"guild",{value:t.guild}),Object.defineProperty(this,"_content",{value:t.content}),this.everyone=Boolean(a),o)if(o instanceof l)this.users=new l(o);else{this.users=new l;for(const c of o){c.member&&t.guild&&t.guild.members.add(Object.assign(c.member,{user:c}));const h=t.client.users.add(c);this.users.set(h.id,h)}}else this.users=new l;if(r)if(r instanceof l)this.roles=new l(r);else{this.roles=new l;for(const c of r){const h=t.channel.guild.roles.cache.get(c);h&&this.roles.set(h.id,h)}}else this.roles=new l;if(this._members=null,this._channels=null,m)if(m instanceof l)this.crosspostedChannels=new l(m);else{this.crosspostedChannels=new l;const c=Object.keys(n);for(const h of m){const d=c[h.type];this.crosspostedChannels.set(h.id,{channelID:h.id,guildID:h.guild_id,type:d?d.toLowerCase():"unknown",name:h.name})}}else this.crosspostedChannels=new l}get members(){return this._members?this._members:this.guild?(this._members=new l,this.users.forEach(t=>{const o=this.guild.member(t);o&&this._members.set(o.user.id,o)}),this._members):null}get channels(){if(this._channels)return this._channels;let t;for(this._channels=new l;(t=this.constructor.CHANNELS_PATTERN.exec(this._content))!==null;){const o=this.client.channels.cache.get(t[1]);o&&this._channels.set(o.id,o)}return this._channels}has(t,{ignoreDirect:o=!1,ignoreRoles:r=!1,ignoreEveryone:a=!1}={}){if(!a&&this.everyone)return!0;const m=s(10);if(!r&&t instanceof m){for(const c of this.roles.values())if(t.roles.cache.has(c.id))return!0}if(!o){const c=t.id||t;return this.users.has(c)||this.channels.has(c)||this.roles.has(c)}return!1}toJSON(){return e.flatten(this,{members:!0,channels:!0})}}i.EVERYONE_PATTERN=/@(everyone|here)/g,i.USERS_PATTERN=/<@!?(\d{17,19})>/g,i.ROLES_PATTERN=/<@&(\d{17,19})>/g,i.CHANNELS_PATTERN=/<#(\d{17,19})>/g,u.exports=i},function(u,g,s){"use strict";const l=s(40),n=s(2),{Events:e}=s(0);class i extends l{constructor(t,o,r={}){super(t.client,o,r),this.message=t,this.users=new n,this.total=0,this.empty=this.empty.bind(this),this._handleChannelDeletion=this._handleChannelDeletion.bind(this),this._handleGuildDeletion=this._handleGuildDeletion.bind(this),this._handleMessageDeletion=this._handleMessageDeletion.bind(this),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()+1),this.client.on(e.MESSAGE_REACTION_ADD,this.handleCollect),this.client.on(e.MESSAGE_REACTION_REMOVE,this.handleDispose),this.client.on(e.MESSAGE_REACTION_REMOVE_ALL,this.empty),this.client.on(e.MESSAGE_DELETE,this._handleMessageDeletion),this.client.on(e.CHANNEL_DELETE,this._handleChannelDeletion),this.client.on(e.GUILD_DELETE,this._handleGuildDeletion),this.once("end",()=>{this.client.removeListener(e.MESSAGE_REACTION_ADD,this.handleCollect),this.client.removeListener(e.MESSAGE_REACTION_REMOVE,this.handleDispose),this.client.removeListener(e.MESSAGE_REACTION_REMOVE_ALL,this.empty),this.client.removeListener(e.MESSAGE_DELETE,this._handleMessageDeletion),this.client.removeListener(e.CHANNEL_DELETE,this._handleChannelDeletion),this.client.removeListener(e.GUILD_DELETE,this._handleGuildDeletion),this.client.getMaxListeners()!==0&&this.client.setMaxListeners(this.client.getMaxListeners()-1)}),this.on("collect",(a,m)=>{this.total++,this.users.set(m.id,m)}),this.on("remove",(a,m)=>{this.total--,this.collected.some(c=>c.users.cache.has(m.id))||this.users.delete(m.id)})}collect(t){return t.message.id!==this.message.id?null:i.key(t)}dispose(t,o){return t.message.id!==this.message.id?null:(this.collected.has(i.key(t))&&this.users.has(o.id)&&this.emit("remove",t,o),t.count?null:i.key(t))}empty(){this.total=0,this.collected.clear(),this.users.clear(),this.checkEnd()}endReason(){return this.options.max&&this.total>=this.options.max?"limit":this.options.maxEmojis&&this.collected.size>=this.options.maxEmojis?"emojiLimit":this.options.maxUsers&&this.users.size>=this.options.maxUsers?"userLimit":null}_handleMessageDeletion(t){t.id===this.message.id&&this.stop("messageDelete")}_handleChannelDeletion(t){t.id===this.message.channel.id&&this.stop("channelDelete")}_handleGuildDeletion(t){this.message.guild&&t.id===this.message.guild.id&&this.stop("guildDelete")}static key(t){return t.emoji.id||t.emoji.name}}u.exports=i},function(u,g,s){"use strict";const l=s(6),{Error:n}=s(3),e=s(2);u.exports=class extends l{constructor(i,t,o){super(i,t,{name:"User"}),this.reaction=o}async fetch({limit:i=100,after:t,before:o}={}){const r=this.reaction.message,a=await this.client.api.channels[r.channel.id].messages[r.id].reactions[this.reaction.emoji.identifier].get({query:{limit:i,before:o,after:t}}),m=new e;for(const c of a){const h=this.client.users.add(c);this.cache.set(h.id,h),m.set(h.id,h)}return m}remove(i=this.reaction.message.client.user){const t=this.reaction.message,o=t.client.users.resolveID(i);return o?t.client.api.channels[t.channel.id].messages[t.id].reactions[this.reaction.emoji.identifier][o===t.client.user.id?"@me":o].delete().then(()=>this.reaction):Promise.reject(new n("REACTION_RESOLVE_USER"))}}},function(u,g,s){"use strict";const l=s(15),{Error:n}=s(3),e=s(2),{browser:i}=s(0),t=s(8);u.exports=class extends l{_patch(o){super._patch(o),this.bitrate=o.bitrate,this.userLimit=o.user_limit}get members(){const o=new e;for(const r of this.guild.voiceStates.cache.values())r.channelID===this.id&&r.member&&o.set(r.id,r.member);return o}get full(){return this.userLimit>0&&this.members.size>=this.userLimit}get deletable(){return super.deletable&&this.permissionsFor(this.client.user).has(t.FLAGS.CONNECT,!1)}get editable(){return this.manageable&&this.permissionsFor(this.client.user).has(t.FLAGS.CONNECT,!1)}get joinable(){return!i&&!!this.viewable&&!!this.permissionsFor(this.client.user).has(t.FLAGS.CONNECT,!1)&&!(this.full&&!this.permissionsFor(this.client.user).has(t.FLAGS.MOVE_MEMBERS,!1))}get speakable(){return this.permissionsFor(this.client.user).has(t.FLAGS.SPEAK,!1)}setBitrate(o,r){return this.edit({bitrate:o},r)}setUserLimit(o,r){return this.edit({userLimit:o},r)}join(){return i?Promise.reject(new n("VOICE_NO_BROWSER")):this.client.voice.joinChannel(this)}leave(){if(i)return;const o=this.client.voice.connections.get(this.guild.id);o&&o.channel.id===this.id&&o.disconnect()}}},function(u,g,s){"use strict";const l=s(15);u.exports=class extends l{get children(){return this.guild.channels.cache.filter(n=>n.parentID===this.id)}}},function(u,g,s){"use strict";const l=s(34);u.exports=class extends l{_patch(n){super._patch(n),this.rateLimitPerUser=void 0}}},function(u,g,s){"use strict";const l=s(15);u.exports=class extends l{_patch(n){super._patch(n),this.nsfw=n.nsfw}}},function(u,g,s){"use strict";const l=s(45),n=s(11),e=s(2),{PartialTypes:i}=s(0),t=s(7),o=s(4),r={ALL:"ALL",GUILD:"GUILD",CHANNEL:"CHANNEL",USER:"USER",ROLE:"ROLE",INVITE:"INVITE",WEBHOOK:"WEBHOOK",EMOJI:"EMOJI",MESSAGE:"MESSAGE",INTEGRATION:"INTEGRATION",UNKNOWN:"UNKNOWN"},a={ALL:null,GUILD_UPDATE:1,CHANNEL_CREATE:10,CHANNEL_UPDATE:11,CHANNEL_DELETE:12,CHANNEL_OVERWRITE_CREATE:13,CHANNEL_OVERWRITE_UPDATE:14,CHANNEL_OVERWRITE_DELETE:15,MEMBER_KICK:20,MEMBER_PRUNE:21,MEMBER_BAN_ADD:22,MEMBER_BAN_REMOVE:23,MEMBER_UPDATE:24,MEMBER_ROLE_UPDATE:25,MEMBER_MOVE:26,MEMBER_DISCONNECT:27,BOT_ADD:28,ROLE_CREATE:30,ROLE_UPDATE:31,ROLE_DELETE:32,INVITE_CREATE:40,INVITE_UPDATE:41,INVITE_DELETE:42,WEBHOOK_CREATE:50,WEBHOOK_UPDATE:51,WEBHOOK_DELETE:52,EMOJI_CREATE:60,EMOJI_UPDATE:61,EMOJI_DELETE:62,MESSAGE_DELETE:72,MESSAGE_BULK_DELETE:73,MESSAGE_PIN:74,MESSAGE_UNPIN:75,INTEGRATION_CREATE:80,INTEGRATION_UPDATE:81,INTEGRATION_DELETE:82};class m{constructor(h,d){if(d.users)for(const p of d.users)h.client.users.add(p);if(this.webhooks=new e,d.webhooks)for(const p of d.webhooks)this.webhooks.set(p.id,new n(h.client,p));if(this.integrations=new e,d.integrations)for(const p of d.integrations)this.integrations.set(p.id,new l(h.client,p,h));this.entries=new e;for(const p of d.audit_log_entries){const y=new c(this,h,p);this.entries.set(y.id,y)}}static build(...h){const d=new m(...h);return Promise.all(d.entries.map(p=>p.target)).then(()=>d)}static targetType(h){return h<10?r.GUILD:h<20?r.CHANNEL:h<30?r.USER:h<40?r.ROLE:h<50?r.INVITE:h<60?r.WEBHOOK:h<70?r.EMOJI:h<80?r.MESSAGE:h<90?r.INTEGRATION:r.UNKNOWN}static actionType(h){return[a.CHANNEL_CREATE,a.CHANNEL_OVERWRITE_CREATE,a.MEMBER_BAN_REMOVE,a.BOT_ADD,a.ROLE_CREATE,a.INVITE_CREATE,a.WEBHOOK_CREATE,a.EMOJI_CREATE,a.MESSAGE_PIN,a.INTEGRATION_CREATE].includes(h)?"CREATE":[a.CHANNEL_DELETE,a.CHANNEL_OVERWRITE_DELETE,a.MEMBER_KICK,a.MEMBER_PRUNE,a.MEMBER_BAN_ADD,a.MEMBER_DISCONNECT,a.ROLE_DELETE,a.INVITE_DELETE,a.WEBHOOK_DELETE,a.EMOJI_DELETE,a.MESSAGE_DELETE,a.MESSAGE_BULK_DELETE,a.MESSAGE_UNPIN,a.INTEGRATION_DELETE].includes(h)?"DELETE":[a.GUILD_UPDATE,a.CHANNEL_UPDATE,a.CHANNEL_OVERWRITE_UPDATE,a.MEMBER_UPDATE,a.MEMBER_ROLE_UPDATE,a.MEMBER_MOVE,a.ROLE_UPDATE,a.INVITE_UPDATE,a.WEBHOOK_UPDATE,a.EMOJI_UPDATE,a.INTEGRATION_UPDATE].includes(h)?"UPDATE":"ALL"}toJSON(){return o.flatten(this)}}class c{constructor(h,d,p){const y=m.targetType(p.action_type);switch(this.targetType=y,this.actionType=m.actionType(p.action_type),this.action=Object.keys(a).find(E=>a[E]===p.action_type),this.reason=p.reason||null,this.executor=d.client.options.partials.includes(i.USER)?d.client.users.add({id:p.user_id}):d.client.users.cache.get(p.user_id),this.changes=p.changes?p.changes.map(E=>({key:E.key,old:E.old_value,new:E.new_value})):null,this.id=p.id,this.extra=null,p.action_type){case a.MEMBER_PRUNE:this.extra={removed:Number(p.options.members_removed),days:Number(p.options.delete_member_days)};break;case a.MEMBER_MOVE:case a.MESSAGE_DELETE:case a.MESSAGE_BULK_DELETE:this.extra={channel:d.channels.cache.get(p.options.channel_id)||{id:p.options.channel_id},count:Number(p.options.count)};break;case a.MESSAGE_PIN:case a.MESSAGE_UNPIN:this.extra={channel:d.client.channels.cache.get(p.options.channel_id)||{id:p.options.channel_id},messageID:p.options.message_id};break;case a.MEMBER_DISCONNECT:this.extra={count:Number(p.options.count)};break;case a.CHANNEL_OVERWRITE_CREATE:case a.CHANNEL_OVERWRITE_UPDATE:case a.CHANNEL_OVERWRITE_DELETE:switch(p.options.type){case"member":this.extra=d.members.cache.get(p.options.id)||{id:p.options.id,type:"member"};break;case"role":this.extra=d.roles.cache.get(p.options.id)||{id:p.options.id,name:p.options.role_name,type:"role"}}}this.target=null,y===r.UNKNOWN?(this.target=this.changes.reduce((E,f)=>(E[f.key]=f.new||f.old,E),{}),this.target.id=p.target_id):y===r.USER&&p.target_id?this.target=d.client.options.partials.includes(i.USER)?d.client.users.add({id:p.target_id}):d.client.users.cache.get(p.target_id):y===r.GUILD?this.target=d.client.guilds.cache.get(p.target_id):y===r.WEBHOOK?this.target=h.webhooks.get(p.target_id)||new n(d.client,this.changes.reduce((E,f)=>(E[f.key]=f.new||f.old,E),{id:p.target_id,guild_id:d.id})):y===r.INVITE?this.target=d.members.fetch(d.client.user.id).then(E=>{if(E.permissions.has("MANAGE_GUILD")){const f=this.changes.find(A=>A.key==="code");return d.fetchInvites().then(A=>{this.target=A.find(D=>D.code===(f.new||f.old))})}return this.target=this.changes.reduce((f,A)=>(f[A.key]=A.new||A.old,f),{}),this.target}):y===r.MESSAGE?this.target=p.action_type===a.MESSAGE_BULK_DELETE?d.channels.cache.get(p.target_id)||{id:p.target_id}:d.client.users.cache.get(p.target_id):y===r.INTEGRATION?this.target=h.integrations.get(p.target_id)||new l(d.client,this.changes.reduce((E,f)=>(E[f.key]=f.new||f.old,E),{id:p.target_id}),d):p.target_id&&(this.target=d[`${y.toLowerCase()}s`].cache.get(p.target_id)||{id:p.target_id})}get createdTimestamp(){return t.deconstruct(this.id).timestamp}get createdAt(){return new Date(this.createdTimestamp)}toJSON(){return o.flatten(this,{createdTimestamp:!0})}}m.Actions=a,m.Targets=r,m.Entry=c,u.exports=m},function(u,g,s){"use strict";const l=s(6),n=s(15),e=s(35),{ChannelTypes:i}=s(0);u.exports=class extends l{constructor(t,o){super(t.client,o,n),this.guild=t}add(t){const o=this.cache.get(t.id);return o||(this.cache.set(t.id,t),t)}async create(t,o={}){let{type:r,topic:a,nsfw:m,bitrate:c,userLimit:h,parent:d,permissionOverwrites:p,position:y,rateLimitPerUser:E,reason:f}=o;d&&(d=this.client.channels.resolveID(d)),p&&(p=p.map(D=>e.resolve(D,this.guild)));const A=await this.client.api.guilds(this.guild.id).channels.post({data:{name:t,topic:a,type:r?i[r.toUpperCase()]:i.TEXT,nsfw:m,bitrate:c,user_limit:h,parent_id:d,position:y,permission_overwrites:p,rate_limit_per_user:E},reason:f});return this.client.actions.ChannelCreate.handle(A).channel}}},function(u,g,s){"use strict";const l=s(6),{Error:n,TypeError:e}=s(3),i=s(10),t=s(2),{Events:o,OPCodes:r}=s(0);u.exports=class extends l{constructor(a,m){super(a.client,m,i),this.guild=a}add(a,m=!0){return super.add(a,m,{id:a.user.id,extras:[this.guild]})}resolve(a){const m=super.resolve(a);if(m)return m;const c=this.client.users.resolveID(a);return c?super.resolve(c):null}resolveID(a){const m=super.resolveID(a);if(m)return m;const c=this.client.users.resolveID(a);return this.cache.has(c)?c:null}fetch(a){if(!a)return this._fetchMany();const m=this.client.users.resolveID(a);if(m)return this._fetchSingle({user:m,cache:!0});if(a.user){if(Array.isArray(a.user))return a.user=a.user.map(c=>this.client.users.resolveID(c)),this._fetchMany(a);if(a.user=this.client.users.resolveID(a.user),!a.limit&&!a.withPresences)return this._fetchSingle(a)}return this._fetchMany(a)}prune({days:a=7,dry:m=!1,count:c=!0,reason:h}={}){if(typeof a!="number")throw new e("PRUNE_DAYS_TYPE");return this.client.api.guilds(this.guild.id).prune[m?"get":"post"]({query:{days:a,compute_prune_count:c},reason:h}).then(d=>d.pruned)}ban(a,m={days:0}){m.days&&(m["delete-message-days"]=m.days);const c=this.client.users.resolveID(a);return c?this.client.api.guilds(this.guild.id).bans[c].put({query:m}).then(()=>{if(a instanceof i)return a;const h=this.client.users.resolve(c);return h?this.resolve(h)||h:c}):Promise.reject(new n("BAN_RESOLVE_ID",!0))}unban(a,m){const c=this.client.users.resolveID(a);return c?this.client.api.guilds(this.guild.id).bans[c].delete({reason:m}).then(()=>this.client.users.resolve(a)):Promise.reject(new n("BAN_RESOLVE_ID"))}_fetchSingle({user:a,cache:m}){const c=this.cache.get(a);return c&&!c.partial?Promise.resolve(c):this.client.api.guilds(this.guild.id).members(a).get().then(h=>this.add(h,m))}_fetchMany({limit:a=0,withPresences:m=!1,user:c,query:h}={}){return new Promise((d,p)=>{if(!(this.guild.memberCount!==this.cache.size||h||a||m||c))return void d(this.cache);h||c||(h=""),this.guild.shard.send({op:r.REQUEST_GUILD_MEMBERS,d:{guild_id:this.guild.id,presences:m,user_ids:c,query:h,limit:a}});const y=new t,E=h||a||m||c,f=(D,I)=>{if(I.id===this.guild.id){A.refresh();for(const b of D.values())E&&y.set(b.id,b);if(this.guild.memberCount<=this.cache.size||E&&D.size<1e3||a&&y.size>=a){this.guild.client.removeListener(o.GUILD_MEMBERS_CHUNK,f);let b=E?y:this.cache;c&&!Array.isArray(c)&&b.size&&(b=b.first()),d(b)}}},A=this.guild.client.setTimeout(()=>{this.guild.client.removeListener(o.GUILD_MEMBERS_CHUNK,f),p(new n("GUILD_MEMBERS_TIMEOUT"))},12e4);this.guild.client.on(o.GUILD_MEMBERS_CHUNK,f)})}}},function(u,g,s){"use strict";const l=s(6),{Presence:n}=s(12);u.exports=class extends l{constructor(e,i){super(e,i,n)}add(e,i){const t=this.cache.get(e.user.id);return t?t.patch(e):super.add(e,i,{id:e.user.id})}resolve(e){const i=super.resolve(e);if(i)return i;const t=this.client.users.resolveID(e);return super.resolve(t)||null}resolveID(e){const i=super.resolveID(e);if(i)return i;const t=this.client.users.resolveID(e);return this.cache.has(t)?t:null}}},function(u,g,s){"use strict";const l=s(6),n=s(17),e=s(8),{resolveColor:i}=s(4);u.exports=class extends l{constructor(t,o){super(t.client,o,n),this.guild=t}add(t,o){return super.add(t,o,{extras:[this.guild]})}async fetch(t,o=!0){if(t){const a=this.cache.get(t);if(a)return a}const r=await this.client.api.guilds(this.guild.id).roles.get();for(const a of r)this.add(a,o);return t?this.cache.get(t)||null:this}create({data:t={},reason:o}={}){return t.color&&(t.color=i(t.color)),t.permissions&&(t.permissions=e.resolve(t.permissions)),this.guild.client.api.guilds(this.guild.id).roles.post({data:t,reason:o}).then(r=>{const{role:a}=this.client.actions.GuildRoleCreate.handle({guild_id:this.guild.id,role:r});return t.position?a.setPosition(t.position,o):a})}get everyone(){return this.cache.get(this.guild.id)||null}get highest(){return this.cache.reduce((t,o)=>o.comparePositionTo(t)>0?o:t,this.cache.first())}}},function(u,g,s){"use strict";const l=s(14);class n extends l{}n.FLAGS={WELCOME_MESSAGE_DISABLED:1,BOOST_MESSAGE_DISABLED:2},u.exports=n},function(u,g,s){"use strict";const{Presence:l}=s(12),{TypeError:n}=s(3),e=s(2),{ActivityTypes:i,OPCodes:t}=s(0);u.exports=class extends l{constructor(o,r={}){super(o,Object.assign(r,{status:"online",user:{id:null}}))}async set(o){const r=await this._parse(o);if(this.patch(r),o.shardID===void 0)this.client.ws.broadcast({op:t.STATUS_UPDATE,d:r});else if(Array.isArray(o.shardID))for(const a of o.shardID)this.client.ws.shards.get(a).send({op:t.STATUS_UPDATE,d:r});else this.client.ws.shards.get(o.shardID).send({op:t.STATUS_UPDATE,d:r});return this}async _parse({status:o,since:r,afk:a,activity:m}){const c=m&&(m.application?m.application.id||m.application:null);let h=new e;if(m){if(typeof m.name!="string")throw new n("INVALID_TYPE","name","string");if(m.type||(m.type=0),m.assets&&c)try{const p=await this.client.api.oauth2.applications(c).assets.get();for(const y of p)h.set(y.name,y.id)}catch{}}const d={afk:a!=null&&a,since:r??null,status:o||this.status,game:m?{type:m.type,name:m.name,url:m.url,details:m.details||void 0,state:m.state||void 0,assets:m.assets?{large_text:m.assets.largeText||void 0,small_text:m.assets.smallText||void 0,large_image:h.get(m.assets.largeImage)||m.assets.largeImage,small_image:h.get(m.assets.smallImage)||m.assets.smallImage}:void 0,timestamps:m.timestamps||void 0,party:m.party||void 0,application_id:c||void 0,secrets:m.secrets||void 0,instance:m.instance||void 0}:null};return(o||a||r)&&!m&&(d.game=this.activities[0]||null),d.game&&(d.game.type=typeof d.game.type=="number"?d.game.type:i.indexOf(d.game.type)),d}}},function(u,g,s){"use strict";const{browser:l}=s(0);let n,e;try{n=s(134),n.pack||(n=null)}catch{}l?(e=window.TextDecoder,g.WebSocket=window.WebSocket):(e=s(135).TextDecoder,g.WebSocket=s(138));const i=new e;g.encoding=n?"etf":"json",g.pack=n?n.pack:JSON.stringify,g.unpack=(t,o)=>g.encoding==="json"||o==="json"?(typeof t!="string"&&(t=i.decode(t)),JSON.parse(t)):(Buffer.isBuffer(t)||(t=Buffer.from(new Uint8Array(t))),n.unpack(t)),g.create=(t,o={},...r)=>{const[a,m]=t.split("?");o.encoding=g.encoding,o=new URLSearchParams(o),m&&new URLSearchParams(m).forEach((h,d)=>o.set(d,h));const c=new g.WebSocket(`${a}?${o}`,...r);return l&&(c.binaryType="arraybuffer"),c};for(const t of["CONNECTING","OPEN","CLOSING","CLOSED"])g[t]=g.WebSocket[t]},function(u,g,s){"use strict";const{WSEvents:l}=s(0),n={};for(const e of Object.keys(l))try{n[e]=s(140)(`./${e}.js`)}catch{}u.exports=n},function(u,g,s){"use strict";const l=s(9),n=s(18);class e extends n.get("User"){constructor(i,t){super(i,t),this._typing=new Map}_patch(i){super._patch(i),"verified"in i&&(this.verified=i.verified),"mfa_enabled"in i?this.mfaEnabled=typeof i.mfa_enabled=="boolean"?i.mfa_enabled:null:this.mfaEnabled===void 0&&(this.mfaEnabled=null),i.token&&(this.client.token=i.token)}get presence(){return this.client.presence}edit(i){return this.client.api.users("@me").patch({data:i}).then(t=>{this.client.token=t.token;const{updated:o}=this.client.actions.UserUpdate.handle(t);return o||this})}setUsername(i){return this.edit({username:i})}async setAvatar(i){return this.edit({avatar:await l.resolveImage(i)})}setPresence(i){return this.client.presence.set(i)}setStatus(i,t){return this.setPresence({status:i,shardID:t})}setActivity(i,t={}){if(!i)return this.setPresence({activity:null,shardID:t.shardID});const o=Object.assign({},t,typeof i=="object"?i:{name:i});return this.setPresence({activity:o,shardID:o.shardID})}setAFK(i){return this.setPresence({afk:i})}}u.exports=e},function(u,g,s){"use strict";const l=s(6),n=s(13),{Events:e}=s(0);u.exports=class extends l{constructor(i,t){super(i,t,n)}add(i,t,o=!0){const r=this.cache.get(i.id);if(r)return r._patch&&o&&r._patch(i),t&&t.channels.add(r),r;const a=n.create(this.client,i,t);return a?(o&&this.cache.set(a.id,a),a):(this.client.emit(e.DEBUG,`Failed to find guild, or unknown type for channel ${i.id} ${i.type}`),null)}remove(i){const t=this.cache.get(i);t.guild&&t.guild.channels.cache.delete(i),this.cache.delete(i)}async fetch(i,t=!0){const o=this.cache.get(i);if(o&&!o.partial)return o;const r=await this.client.api.channels(i).get();return this.add(r,null,t)}}},function(u,g,s){"use strict";const l=s(6),n=s(44),e=s(15),i=s(19),t=s(10),o=s(16),r=s(17),{Events:a,VerificationLevels:m,DefaultMessageNotifications:c,ExplicitContentFilterLevels:h}=s(0),d=s(9),p=s(8),{resolveColor:y}=s(4);u.exports=class extends l{constructor(E,f){super(E,f,n)}resolve(E){return E instanceof e||E instanceof t||E instanceof i||E instanceof r||E instanceof o&&E.guild?super.resolve(E.guild):super.resolve(E)}resolveID(E){return E instanceof e||E instanceof t||E instanceof i||E instanceof r||E instanceof o&&E.guild?super.resolveID(E.guild.id):super.resolveID(E)}async create(E,{channels:f=[],defaultMessageNotifications:A,explicitContentFilter:D,icon:I=null,region:b,roles:w=[],verificationLevel:R}={}){I=await d.resolveImage(I),R!==void 0&&typeof R!="number"&&(R=m.indexOf(R)),A!==void 0&&typeof A!="number"&&(A=c.indexOf(A)),D!==void 0&&typeof D!="number"&&(D=h.indexOf(D));for(const L of f)if(L.parent_id=L.parentID,delete L.parentID,L.permissionOverwrites){for(const _ of L.permissionOverwrites)_.allow&&(_.allow=p.resolve(_.allow)),_.deny&&(_.deny=p.resolve(_.deny));L.permission_overwrites=L.permissionOverwrites,delete L.permissionOverwrites}for(const L of w)L.color&&(L.color=y(L.color)),L.permissions&&(L.permissions=p.resolve(L.permissions));return new Promise((L,_)=>this.client.api.guilds.post({data:{name:E,region:b,icon:I,verification_level:R,default_message_notifications:A,explicit_content_filter:D,channels:f,roles:w}}).then(T=>{if(this.client.guilds.cache.has(T.id))return L(this.client.guilds.cache.get(T.id));const O=$=>{$.id===T.id&&(this.client.removeListener(a.GUILD_CREATE,O),this.client.clearTimeout(j),L($))};this.client.on(a.GUILD_CREATE,O);const j=this.client.setTimeout(()=>{this.client.removeListener(a.GUILD_CREATE,O),L(this.client.guilds.add(T))},1e4)},_))}}},function(u,g,s){"use strict";const l=s(6),n=s(10),e=s(22),i=s(20);u.exports=class extends l{constructor(t,o){super(t,o,i)}resolve(t){return t instanceof n?t.user:t instanceof e?t.author:super.resolve(t)}resolveID(t){return t instanceof n?t.user.id:t instanceof e?t.author.id:super.resolveID(t)}async fetch(t,o=!0){const r=this.cache.get(t);if(r&&!r.partial)return r;const a=await this.client.api.users(t).get();return this.add(a,o)}}},function(u,g,s){"use strict";const l=s(14);class n extends l{}n.FLAGS={GUILDS:1,GUILD_MEMBERS:2,GUILD_BANS:4,GUILD_EMOJIS:8,GUILD_INTEGRATIONS:16,GUILD_WEBHOOKS:32,GUILD_INVITES:64,GUILD_VOICE_STATES:128,GUILD_PRESENCES:256,GUILD_MESSAGES:512,GUILD_MESSAGE_REACTIONS:1024,GUILD_MESSAGE_TYPING:2048,DIRECT_MESSAGES:4096,DIRECT_MESSAGE_REACTIONS:8192,DIRECT_MESSAGE_TYPING:16384},n.PRIVILEGED=n.FLAGS.GUILD_MEMBERS|n.FLAGS.GUILD_PRESENCES,n.ALL=Object.values(n.FLAGS).reduce((e,i)=>e|i,0),n.NON_PRIVILEGED=n.ALL&~n.PRIVILEGED,u.exports=n},function(u,g,s){"use strict";const l=s(4);u.exports={BaseClient:s(31),Client:s(93),Shard:s(179),ShardClientUtil:s(180),ShardingManager:s(181),WebhookClient:s(39),ActivityFlags:s(57),BitField:s(14),Collection:s(2),Constants:s(0),DataResolver:s(9),BaseManager:s(6),DiscordAPIError:s(54),HTTPError:s(55),MessageFlags:s(38),Intents:s(82),Permissions:s(8),Speaking:s(182),Snowflake:s(7),SnowflakeUtil:s(7),Structures:s(18),SystemChannelFlags:s(74),Util:l,version:s(49).version,ChannelManager:s(79),GuildChannelManager:s(70),GuildEmojiManager:s(48),GuildEmojiRoleManager:s(56),GuildMemberManager:s(71),GuildMemberRoleManager:s(59),GuildManager:s(80),ReactionUserManager:s(64),MessageManager:s(28),PresenceManager:s(72),RoleManager:s(73),UserManager:s(81),discordSort:l.discordSort,escapeMarkdown:l.escapeMarkdown,fetchRecommendedShards:l.fetchRecommendedShards,resolveColor:l.resolveColor,resolveString:l.resolveString,splitMessage:l.splitMessage,Base:s(5),Activity:s(12).Activity,APIMessage:s(26),BaseGuildEmoji:s(33),CategoryChannel:s(66),Channel:s(13),ClientApplication:s(41),get ClientUser(){return s(78)},Collector:s(40),DMChannel:s(32),Emoji:s(25),Guild:s(44),GuildAuditLogs:s(69),GuildChannel:s(15),GuildEmoji:s(19),GuildMember:s(10),GuildPreview:s(46),Integration:s(45),Invite:s(16),Message:s(22),MessageAttachment:s(36),MessageCollector:s(58),MessageEmbed:s(37),MessageMentions:s(62),MessageReaction:s(42),NewsChannel:s(67),PermissionOverwrites:s(35),Presence:s(12).Presence,ClientPresence:s(75),ReactionCollector:s(63),ReactionEmoji:s(43),RichPresenceAssets:s(12).RichPresenceAssets,Role:s(17),StoreChannel:s(68),Team:s(60),TeamMember:s(61),TextChannel:s(34),User:s(20),VoiceChannel:s(65),VoiceRegion:s(47),VoiceState:s(21),Webhook:s(11),WebSocket:s(76)}},function(u,g,s){"use strict";const{register:l}=s(50),n={CLIENT_INVALID_OPTION:(e,i)=>`The ${e} option must be ${i}`,CLIENT_INVALID_PROVIDED_SHARDS:"None of the provided shards were valid.",TOKEN_INVALID:"An invalid token was provided.",TOKEN_MISSING:"Request to use token, but token was unavailable to the client.",WS_CLOSE_REQUESTED:"WebSocket closed due to user request.",WS_CONNECTION_EXISTS:"There is already an existing WebSocket connection.",WS_NOT_OPEN:(e="data")=>`Websocket not open to send ${e}`,BITFIELD_INVALID:"Invalid bitfield flag or number.",SHARDING_INVALID:"Invalid shard settings were provided.",SHARDING_REQUIRED:"This session would have handled too many guilds - Sharding is required.",INVALID_INTENTS:"Invalid intent provided for WebSocket intents.",DISALLOWED_INTENTS:"Privileged intent provided is not enabled or whitelisted.",SHARDING_NO_SHARDS:"No shards have been spawned.",SHARDING_IN_PROCESS:"Shards are still being spawned.",SHARDING_ALREADY_SPAWNED:e=>`Already spawned ${e} shards.`,SHARDING_PROCESS_EXISTS:e=>`Shard ${e} already has an active process.`,SHARDING_READY_TIMEOUT:e=>`Shard ${e}'s Client took too long to become ready.`,SHARDING_READY_DISCONNECTED:e=>`Shard ${e}'s Client disconnected before becoming ready.`,SHARDING_READY_DIED:e=>`Shard ${e}'s process exited before its Client became ready.`,COLOR_RANGE:"Color must be within the range 0 - 16777215 (0xFFFFFF).",COLOR_CONVERT:"Unable to convert color to a number.",EMBED_FIELD_NAME:"MessageEmbed field names may not be empty.",EMBED_FIELD_VALUE:"MessageEmbed field values may not be empty.",FILE_NOT_FOUND:e=>`File could not be found: ${e}`,USER_NO_DMCHANNEL:"No DM Channel exists!",VOICE_INVALID_HEARTBEAT:"Tried to set voice heartbeat but no valid interval was specified.",VOICE_USER_MISSING:"Couldn't resolve the user to create stream.",VOICE_JOIN_CHANNEL:(e=!1)=>`You do not have permission to join this voice channel${e?"; it is full.":"."}`,VOICE_CONNECTION_TIMEOUT:"Connection not established within 15 seconds.",VOICE_TOKEN_ABSENT:"Token not provided from voice server packet.",VOICE_SESSION_ABSENT:"Session ID not supplied.",VOICE_INVALID_ENDPOINT:"Invalid endpoint received.",VOICE_NO_BROWSER:"Voice connections are not available in browsers.",VOICE_CONNECTION_ATTEMPTS_EXCEEDED:e=>`Too many connection attempts (${e}).`,VOICE_JOIN_SOCKET_CLOSED:"Tried to send join packet, but the WebSocket is not open.",VOICE_PLAY_INTERFACE_NO_BROADCAST:"A broadcast cannot be played in this context.",VOICE_PLAY_INTERFACE_BAD_TYPE:"Unknown stream type",VOICE_PRISM_DEMUXERS_NEED_STREAM:"To play a webm/ogg stream, you need to pass a ReadableStream.",VOICE_STATE_UNCACHED_MEMBER:"The member of this voice state is uncached.",VOICE_STATE_NOT_OWN:"You cannot self-deafen/mute on VoiceStates that do not belong to the ClientUser.",VOICE_STATE_INVALID_TYPE:e=>`${e} must be a boolean.`,UDP_SEND_FAIL:"Tried to send a UDP packet, but there is no socket available.",UDP_ADDRESS_MALFORMED:"Malformed UDP address or port.",UDP_CONNECTION_EXISTS:"There is already an existing UDP connection.",REQ_RESOURCE_TYPE:"The resource must be a string, Buffer or a valid file stream.",IMAGE_FORMAT:e=>`Invalid image format: ${e}`,IMAGE_SIZE:e=>`Invalid image size: ${e}`,MESSAGE_BULK_DELETE_TYPE:"The messages must be an Array, Collection, or number.",MESSAGE_NONCE_TYPE:"Message nonce must fit in an unsigned 64-bit integer.",TYPING_COUNT:"Count must be at least 1",SPLIT_MAX_LEN:"Chunk exceeds the max length and contains no split characters.",BAN_RESOLVE_ID:(e=!1)=>`Couldn't resolve the user ID to ${e?"ban":"unban"}.`,FETCH_BAN_RESOLVE_ID:"Couldn't resolve the user ID to fetch the ban.",PRUNE_DAYS_TYPE:"Days must be a number",GUILD_CHANNEL_RESOLVE:"Could not resolve channel to a guild channel.",GUILD_VOICE_CHANNEL_RESOLVE:"Could not resolve channel to a guild voice channel.",GUILD_CHANNEL_ORPHAN:"Could not find a parent to this guild channel.",GUILD_OWNED:"Guild is owned by the client.",GUILD_MEMBERS_TIMEOUT:"Members didn't arrive in time.",GUILD_UNCACHED_ME:"The client user as a member of this guild is uncached.",INVALID_TYPE:(e,i,t=!1)=>`Supplied ${e} is not a${t?"n":""} ${i}.`,WEBHOOK_MESSAGE:"The message was not sent by a webhook.",EMOJI_TYPE:"Emoji must be a string or GuildEmoji/ReactionEmoji",EMOJI_MANAGED:"Emoji is managed and has no Author.",MISSING_MANAGE_EMOJIS_PERMISSION:e=>`Client must have Manage Emoji permission in guild ${e} to see emoji authors.`,REACTION_RESOLVE_USER:"Couldn't resolve the user ID to remove from the reaction.",VANITY_URL:"This guild does not have the VANITY_URL feature enabled.",DELETE_GROUP_DM_CHANNEL:"Bots don't have access to Group DM Channels and cannot delete them",FETCH_GROUP_DM_CHANNEL:"Bots don't have access to Group DM Channels and cannot fetch them"};for(const[e,i]of Object.entries(n))l(e,i)},function(u,g,s){"use strict";Object.defineProperty(g,"__esModule",{value:!0});class l extends Map{constructor(n){super(n),Object.defineProperty(this,"_array",{value:null,writable:!0,configurable:!0}),Object.defineProperty(this,"_keyArray",{value:null,writable:!0,configurable:!0})}get(n){return super.get(n)}set(n,e){return this._array=null,this._keyArray=null,super.set(n,e)}has(n){return super.has(n)}delete(n){return this._array=null,this._keyArray=null,super.delete(n)}clear(){return super.clear()}array(){return this._array&&this._array.length===this.size||(this._array=[...this.values()]),this._array}keyArray(){return this._keyArray&&this._keyArray.length===this.size||(this._keyArray=[...this.keys()]),this._keyArray}first(n){if(n===void 0)return this.values().next().value;if(n<0)return this.last(-1*n);n=Math.min(this.size,n);const e=this.values();return Array.from({length:n},()=>e.next().value)}firstKey(n){if(n===void 0)return this.keys().next().value;if(n<0)return this.lastKey(-1*n);n=Math.min(this.size,n);const e=this.keys();return Array.from({length:n},()=>e.next().value)}last(n){const e=this.array();return n===void 0?e[e.length-1]:n<0?this.first(-1*n):n?e.slice(-n):[]}lastKey(n){const e=this.keyArray();return n===void 0?e[e.length-1]:n<0?this.firstKey(-1*n):n?e.slice(-n):[]}random(n){let e=this.array();return n===void 0?e[Math.floor(Math.random()*e.length)]:e.length!==0&&n?(e=e.slice(),Array.from({length:n},()=>e.splice(Math.floor(Math.random()*e.length),1)[0])):[]}randomKey(n){let e=this.keyArray();return n===void 0?e[Math.floor(Math.random()*e.length)]:e.length!==0&&n?(e=e.slice(),Array.from({length:n},()=>e.splice(Math.floor(Math.random()*e.length),1)[0])):[]}find(n,e){e!==void 0&&(n=n.bind(e));for(const[i,t]of this)if(n(t,i,this))return t}findKey(n,e){e!==void 0&&(n=n.bind(e));for(const[i,t]of this)if(n(t,i,this))return i}sweep(n,e){e!==void 0&&(n=n.bind(e));const i=this.size;for(const[t,o]of this)n(o,t,this)&&this.delete(t);return i-this.size}filter(n,e){e!==void 0&&(n=n.bind(e));const i=new this.constructor[Symbol.species];for(const[t,o]of this)n(o,t,this)&&i.set(t,o);return i}partition(n,e){e!==void 0&&(n=n.bind(e));const i=[new this.constructor[Symbol.species],new this.constructor[Symbol.species]];for(const[t,o]of this)n(o,t,this)?i[0].set(t,o):i[1].set(t,o);return i}flatMap(n,e){const i=this.map(n,e);return new this.constructor[Symbol.species]().concat(...i)}map(n,e){e!==void 0&&(n=n.bind(e));const i=this.entries();return Array.from({length:this.size},()=>{const[t,o]=i.next().value;return n(o,t,this)})}mapValues(n,e){e!==void 0&&(n=n.bind(e));const i=new this.constructor[Symbol.species];for(const[t,o]of this)i.set(t,n(o,t,this));return i}some(n,e){e!==void 0&&(n=n.bind(e));for(const[i,t]of this)if(n(t,i,this))return!0;return!1}every(n,e){e!==void 0&&(n=n.bind(e));for(const[i,t]of this)if(!n(t,i,this))return!1;return!0}reduce(n,e){let i;if(e!==void 0){i=e;for(const[o,r]of this)i=n(i,r,o,this);return i}let t=!0;for(const[o,r]of this)t?(i=r,t=!1):i=n(i,r,o,this);if(t)throw new TypeError("Reduce of empty collection with no initial value");return i}each(n,e){return this.forEach(n,e),this}tap(n,e){return e!==void 0&&(n=n.bind(e)),n(this),this}clone(){return new this.constructor[Symbol.species](this)}concat(...n){const e=this.clone();for(const i of n)for(const[t,o]of i)e.set(t,o);return e}equals(n){if(!n)return!1;if(this===n)return!0;if(this.size!==n.size)return!1;for(const[e,i]of this)if(!n.has(e)||i!==n.get(e))return!1;return!0}sort(n=(e,i)=>Number(e>i)||Number(e===i)-1){const e=[...this.entries()];e.sort((i,t)=>n(i[1],t[1],i[0],t[0])),super.clear(),this._array=null,this._keyArray=null;for(const[i,t]of e)super.set(i,t);return this}intersect(n){return n.filter((e,i)=>this.has(i))}difference(n){return n.filter((e,i)=>!this.has(i)).concat(this.filter((e,i)=>!n.has(i)))}sorted(n=(e,i)=>Number(e>i)||Number(e===i)-1){return new this.constructor[Symbol.species]([...this.entries()]).sort((e,i,t,o)=>n(e,i,t,o))}}g.Collection=l,l.default=l,g.default=l,u.exports=l},function(u,g,s){"use strict";const l=s(87),n=s(91),e=s(92),{Error:i}=s(3),t=s(2),{Endpoints:o}=s(0);u.exports=class{constructor(r,a="Bot"){this.client=r,this.handlers=new t,this.tokenPrefix=a,this.versioned=!0,this.globalTimeout=null,r.options.restSweepInterval>0&&r.setInterval(()=>{this.handlers.sweep(m=>m._inactive)},1e3*r.options.restSweepInterval)}get api(){return n(this)}getAuth(){const r=this.client.token||this.client.accessToken;if(r)return`${this.tokenPrefix} ${r}`;throw new i("TOKEN_MISSING")}get cdn(){return o.CDN(this.client.options.http.cdn)}push(r,a){return new Promise((m,c)=>{r.push({request:a,resolve:m,reject:c,retries:0}).catch(c)})}request(r,a,m={}){const c=new l(this,r,a,m);let h=this.handlers.get(c.route);return h||(h=new e(this),this.handlers.set(c.route,h)),this.push(h,c)}set endpoint(r){this.client.options.http.api=r}}},function(u,g,s){"use strict";const l=s(88),n=s(89),e=s(90),i=s(30),{browser:t,UserAgent:o}=s(0);if(l.Agent)var r=new l.Agent({keepAlive:!0});u.exports=class{constructor(a,m,c,h){this.rest=a,this.client=a.client,this.method=m,this.route=h.route,this.options=h;let d="";if(h.query){const p=Object.entries(h.query).filter(([,y])=>y!=null);d=new URLSearchParams(p).toString()}this.path=`${c}${d&&`?${d}`}`}make(){const a=(this.options.versioned===!1?this.client.options.http.api:`${this.client.options.http.api}/v${this.client.options.http.version}`)+this.path;let m,c={};if(this.options.auth!==!1&&(c.Authorization=this.rest.getAuth()),this.options.reason&&(c["X-Audit-Log-Reason"]=encodeURIComponent(this.options.reason)),t||(c["User-Agent"]=o),this.options.headers&&(c=Object.assign(c,this.options.headers)),this.options.files&&this.options.files.length){m=new e;for(const p of this.options.files)p&&p.file&&m.append(p.name,p.file,p.name);this.options.data!==void 0&&m.append("payload_json",JSON.stringify(this.options.data)),t||(c=Object.assign(c,m.getHeaders()))}else this.options.data!=null&&(m=JSON.stringify(this.options.data),c["Content-Type"]="application/json");const h=new n,d=this.client.setTimeout(()=>h.abort(),this.client.options.restRequestTimeout);return i(a,{method:this.method,headers:c,agent:r,body:m,signal:h.signal}).finally(()=>this.client.clearTimeout(d))}}},function(u,g){},function(u,g,s){"use strict";const{AbortController:l,AbortSignal:n}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;u.exports=l,u.exports.AbortSignal=n,u.exports.default=l},function(u,g){u.exports=typeof self=="object"?self.FormData:window.FormData},function(u,g,s){"use strict";const l=()=>{},n=["get","post","delete","patch","put"],e=["toString","valueOf","inspect","constructor",Symbol.toPrimitive,Symbol.for("nodejs.util.inspect.custom")];u.exports=function(i){const t=[""],o={get(r,a){if(e.includes(a))return()=>t.join("/");if(n.includes(a)){const m=[];for(let c=0;c<t.length&&t[c-1]!=="reactions";c++)/\d{16,19}/g.test(t[c])&&!/channels|guilds/.test(t[c-1])?m.push(":id"):m.push(t[c]);return c=>i.request(a,t.join("/"),Object.assign({versioned:i.versioned,route:m.join("/")},c))}return t.push(a),new Proxy(l,o)},apply:(r,a,m)=>(t.push(...m.filter(c=>c!=null)),new Proxy(l,o))};return new Proxy(l,o)}},function(u,g,s){"use strict";const l=s(54),n=s(55),{Events:{RATE_LIMIT:e},browser:i}=s(0),t=s(4);function o(a){return a.headers.get("content-type").startsWith("application/json")?a.json():i?a.blob():a.buffer()}function r(a){return new Date(a).getTime()-Date.now()}u.exports=class{constructor(a){this.manager=a,this.busy=!1,this.queue=[],this.reset=-1,this.remaining=-1,this.limit=-1,this.retryAfter=-1}push(a){return this.busy?(this.queue.push(a),this.run()):this.execute(a)}run(){return this.queue.length===0?Promise.resolve():this.execute(this.queue.shift())}get limited(){return Boolean(this.manager.globalTimeout)||this.remaining<=0&&Date.now()<this.reset}get _inactive(){return this.queue.length===0&&!this.limited&&this.busy!==!0}async execute(a){if(this.busy)return this.queue.unshift(a),null;this.busy=!0;const{reject:m,request:c,resolve:h}=a;if(this.limited){const p=this.reset+this.manager.client.options.restTimeOffset-Date.now();this.manager.client.listenerCount(e)&&this.manager.client.emit(e,{timeout:p,limit:this.limit,method:c.method,path:c.path,route:c.route}),this.manager.globalTimeout?await this.manager.globalTimeout:await t.delayFor(p)}let d;try{d=await c.make()}catch(p){return this.busy=!1,m(new n(p.message,p.constructor.name,p.status,c.method,c.path))}if(d&&d.headers){const p=d.headers.get("date"),y=d.headers.get("x-ratelimit-limit"),E=d.headers.get("x-ratelimit-remaining"),f=d.headers.get("x-ratelimit-reset"),A=d.headers.get("retry-after");this.limit=y?Number(y):1/0,this.remaining=E?Number(E):1,this.reset=f?function(D,I){return new Date(1e3*Number(D)).getTime()-r(I)}(f,p):Date.now(),this.retryAfter=A?Number(A):-1,a.request.route.includes("reactions")&&(this.reset=new Date(p).getTime()-r(p)+250),d.headers.get("x-ratelimit-global")&&(this.manager.globalTimeout=t.delayFor(this.retryAfter),await this.manager.globalTimeout,this.manager.globalTimeout=null)}if(this.busy=!1,d.ok)return h(await o(d)),this.run();if(d.status===429)return this.queue.unshift(a),this.manager.client.emit("debug",`429 hit on route ${a.request.route}`),await t.delayFor(this.retryAfter),this.run();if(d.status>=500&&d.status<600)return a.retries===this.manager.client.options.retryLimit?m(new n(d.statusText,d.constructor.name,d.status,a.request.method,c.path)):(a.retries++,this.queue.unshift(a),this.run());try{const p=await o(d);return d.status>=400&&d.status<500?m(new l(c.path,p,c.method,d.status)):null}catch(p){return m(new n(p.message,p.constructor.name,p.status,c.method,c.path))}}}},function(module,exports,__webpack_require__){"use strict";(function(process){const BaseClient=__webpack_require__(31),ActionsManager=__webpack_require__(94),ClientVoiceManager=__webpack_require__(131),WebSocketManager=__webpack_require__(132),{Error,TypeError,RangeError}=__webpack_require__(3),ChannelManager=__webpack_require__(79),GuildEmojiManager=__webpack_require__(48),GuildManager=__webpack_require__(80),UserManager=__webpack_require__(81),ShardClientUtil=__webpack_require__(177),ClientApplication=__webpack_require__(41),GuildPreview=__webpack_require__(46),Invite=__webpack_require__(16),VoiceRegion=__webpack_require__(47),Webhook=__webpack_require__(11),Collection=__webpack_require__(2),{Events,browser,DefaultOptions}=__webpack_require__(0),DataResolver=__webpack_require__(9),Intents=__webpack_require__(82),Permissions=__webpack_require__(8),Structures=__webpack_require__(18);class Client extends BaseClient{constructor(u={}){super(Object.assign({_tokenType:"Bot"},u));let g=process.env;try{g=__webpack_require__(178).workerData||g}catch{}this.options.shards===DefaultOptions.shards&&"SHARDS"in g&&(this.options.shards=JSON.parse(g.SHARDS)),this.options.shardCount===DefaultOptions.shardCount&&("SHARD_COUNT"in g?this.options.shardCount=Number(g.SHARD_COUNT):Array.isArray(this.options.shards)&&(this.options.shardCount=this.options.shards.length));const s=typeof this.options.shards;s==="undefined"&&typeof this.options.shardCount=="number"&&(this.options.shards=Array.from({length:this.options.shardCount},(n,e)=>e)),s==="number"&&(this.options.shards=[this.options.shards]),Array.isArray(this.options.shards)&&(this.options.shards=[...new Set(this.options.shards.filter(n=>!isNaN(n)&&n>=0&&n<1/0&&n===(0|n)))]),this._validateOptions(),this.ws=new WebSocketManager(this),this.actions=new ActionsManager(this),this.voice=browser?null:new ClientVoiceManager(this),this.shard=!browser&&process.env.SHARDING_MANAGER?ShardClientUtil.singleton(this,process.env.SHARDING_MANAGER_MODE):null,this.users=new UserManager(this),this.guilds=new GuildManager(this),this.channels=new ChannelManager(this);const l=Structures.get("ClientPresence");this.presence=new l(this),Object.defineProperty(this,"token",{writable:!0}),browser||this.token||!("DISCORD_TOKEN"in process.env)?this.token=null:this.token=process.env.DISCORD_TOKEN,this.user=null,this.readyAt=null,this.options.messageSweepInterval>0&&this.setInterval(this.sweepMessages.bind(this),1e3*this.options.messageSweepInterval)}get emojis(){const u=new GuildEmojiManager({client:this});for(const g of this.guilds.cache.values())if(g.available)for(const s of g.emojis.cache.values())u.cache.set(s.id,s);return u}get readyTimestamp(){return this.readyAt?this.readyAt.getTime():null}get uptime(){return this.readyAt?Date.now()-this.readyAt:null}async login(u=this.token){if(!u||typeof u!="string")throw new Error("TOKEN_INVALID");this.token=u=u.replace(/^(Bot|Bearer)\s*/i,""),this.emit(Events.DEBUG,`Provided token: ${u.split(".").map((g,s)=>s>1?g.replace(/./g,"*"):g).join(".")}`),this.options.presence&&(this.options.ws.presence=await this.presence._parse(this.options.presence)),this.emit(Events.DEBUG,"Preparing to connect to the gateway...");try{return await this.ws.connect(),this.token}catch(g){throw this.destroy(),g}}destroy(){super.destroy(),this.ws.destroy(),this.token=null}fetchInvite(u){const g=DataResolver.resolveInviteCode(u);return this.api.invites(g).get({query:{with_counts:!0}}).then(s=>new Invite(this,s))}fetchWebhook(u,g){return this.api.webhooks(u,g).get().then(s=>new Webhook(this,s))}fetchVoiceRegions(){return this.api.voice.regions.get().then(u=>{const g=new Collection;for(const s of u)g.set(s.id,new VoiceRegion(s));return g})}sweepMessages(u=this.options.messageCacheLifetime){if(typeof u!="number"||isNaN(u))throw new TypeError("INVALID_TYPE","lifetime","number");if(u<=0)return this.emit(Events.DEBUG,"Didn't sweep messages - lifetime is unlimited"),-1;const g=1e3*u,s=Date.now();let l=0,n=0;for(const e of this.channels.cache.values())e.messages&&(l++,n+=e.messages.cache.sweep(i=>s-(i.editedTimestamp||i.createdTimestamp)>g));return this.emit(Events.DEBUG,`Swept ${n} messages older than ${u} seconds in ${l} text-based channels`),n}fetchApplication(){return this.api.oauth2.applications("@me").get().then(u=>new ClientApplication(this,u))}fetchGuildPreview(u){const g=this.guilds.resolveID(u);if(!g)throw new TypeError("INVALID_TYPE","guild","GuildResolvable");return this.api.guilds(g).preview.get().then(s=>new GuildPreview(this,s))}async generateInvite(u){u=Permissions.resolve(u);const g=await this.fetchApplication(),s=new URLSearchParams({client_id:g.id,permissions:u,scope:"bot"});return`${this.options.http.api}${this.api.oauth2.authorize}?${s}`}toJSON(){return super.toJSON({readyAt:!1,presences:!1})}_eval(script){return eval(script)}_validateOptions(u=this.options){if(u.ws.intents!==void 0&&(u.ws.intents=Intents.resolve(u.ws.intents)),typeof u.shardCount!="number"||isNaN(u.shardCount)||u.shardCount<1)throw new TypeError("CLIENT_INVALID_OPTION","shardCount","a number greater than or equal to 1");if(u.shards&&u.shards!=="auto"&&!Array.isArray(u.shards))throw new TypeError("CLIENT_INVALID_OPTION","shards","'auto', a number or array of numbers");if(u.shards&&!u.shards.length)throw new RangeError("CLIENT_INVALID_PROVIDED_SHARDS");if(typeof u.messageCacheMaxSize!="number"||isNaN(u.messageCacheMaxSize))throw new TypeError("CLIENT_INVALID_OPTION","messageCacheMaxSize","a number");if(typeof u.messageCacheLifetime!="number"||isNaN(u.messageCacheLifetime))throw new TypeError("CLIENT_INVALID_OPTION","The messageCacheLifetime","a number");if(typeof u.messageSweepInterval!="number"||isNaN(u.messageSweepInterval))throw new TypeError("CLIENT_INVALID_OPTION","messageSweepInterval","a number");if(typeof u.fetchAllMembers!="boolean")throw new TypeError("CLIENT_INVALID_OPTION","fetchAllMembers","a boolean");if(typeof u.disableMentions!="string")throw new TypeError("CLIENT_INVALID_OPTION","disableMentions","a string");if(!Array.isArray(u.partials))throw new TypeError("CLIENT_INVALID_OPTION","partials","an Array");if(typeof u.restWsBridgeTimeout!="number"||isNaN(u.restWsBridgeTimeout))throw new TypeError("CLIENT_INVALID_OPTION","restWsBridgeTimeout","a number");if(typeof u.restRequestTimeout!="number"||isNaN(u.restRequestTimeout))throw new TypeError("CLIENT_INVALID_OPTION","restRequestTimeout","a number");if(typeof u.restSweepInterval!="number"||isNaN(u.restSweepInterval))throw new TypeError("CLIENT_INVALID_OPTION","restSweepInterval","a number");if(typeof u.retryLimit!="number"||isNaN(u.retryLimit))throw new TypeError("CLIENT_INVALID_OPTION","retryLimit","a number")}}module.exports=Client}).call(this,__webpack_require__(23))},function(u,g,s){"use strict";u.exports=class{constructor(l){this.client=l,this.register(s(95)),this.register(s(96)),this.register(s(97)),this.register(s(98)),this.register(s(99)),this.register(s(100)),this.register(s(101)),this.register(s(102)),this.register(s(103)),this.register(s(104)),this.register(s(110)),this.register(s(111)),this.register(s(112)),this.register(s(113)),this.register(s(114)),this.register(s(115)),this.register(s(116)),this.register(s(117)),this.register(s(118)),this.register(s(119)),this.register(s(120)),this.register(s(121)),this.register(s(122)),this.register(s(123)),this.register(s(124)),this.register(s(125)),this.register(s(126)),this.register(s(127)),this.register(s(128)),this.register(s(129)),this.register(s(130))}register(l){this[l.name.replace(/Action$/,"")]=new l(this.client)}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.channels.cache.get(e.channel_id);if(t){const o=t.messages.cache.get(e.id);if(o)return{message:o};const r=t.messages.add(e),a=r.author;let m=r.member;return t.lastMessageID=e.id,a&&(a.lastMessageID=e.id,a.lastMessageChannelID=t.id),m&&(m.lastMessageID=e.id,m.lastMessageChannelID=t.id),i.emit(n.MESSAGE_CREATE,r),{message:r}}return{}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=this.getChannel(e);let o;return t&&(o=this.getMessage(e,t),o&&(t.messages.cache.delete(o.id),o.deleted=!0,i.emit(n.MESSAGE_DELETE,o))),{message:o}}}},function(u,g,s){"use strict";const l=s(1),n=s(2),{Events:e}=s(0);u.exports=class extends l{handle(i){const t=this.client,o=t.channels.cache.get(i.channel_id);if(o){const r=i.ids,a=new n;for(const m of r){const c=this.getMessage({id:m,guild_id:i.guild_id},o,!1);c&&(c.deleted=!0,a.set(c.id,c),o.messages.cache.delete(m))}return a.size>0&&t.emit(e.MESSAGE_BULK_DELETE,a),{messages:a}}return{}}}},function(u,g,s){"use strict";const l=s(1);u.exports=class extends l{handle(n){const e=this.getChannel(n);if(e){const{id:i,channel_id:t,guild_id:o,author:r,timestamp:a,type:m}=n,c=this.getMessage({id:i,channel_id:t,guild_id:o,author:r,timestamp:a,type:m},e);if(c)return c.patch(n),{old:c._edits[0],updated:c}}return{}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0),{PartialTypes:e}=s(0);u.exports=class extends l{handle(i){if(!i.emoji)return!1;const t=this.getUser(i);if(!t)return!1;const o=this.getChannel(i);if(!o||o.type==="voice")return!1;const r=this.getMessage(i,o);if(!r)return!1;if(r.partial&&!this.client.options.partials.includes(e.REACTION))return!1;const a=r.reactions.add({emoji:i.emoji,count:r.partial?null:0,me:t.id===this.client.user.id});return!!a&&(a._add(t),this.client.emit(n.MESSAGE_REACTION_ADD,a,t),{message:r,reaction:a,user:t})}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){if(!e.emoji)return!1;const i=this.getUser(e);if(!i)return!1;const t=this.getChannel(e);if(!t||t.type==="voice")return!1;const o=this.getMessage(e,t);if(!o)return!1;const r=this.getReaction(e,o,i);return!!r&&(r._remove(i),this.client.emit(n.MESSAGE_REACTION_REMOVE,r,i),{message:o,reaction:r,user:i})}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.getChannel(e);if(!i||i.type==="voice")return!1;const t=this.getMessage(e,i);return!!t&&(t.reactions.cache.clear(),this.client.emit(n.MESSAGE_REACTION_REMOVE_ALL,t),{message:t})}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.getChannel(e);if(!i||i.type==="voice")return!1;const t=this.getMessage(e,i);if(!t)return!1;const o=this.getReaction(e,t);return!!o&&(t.partial||t.reactions.cache.delete(o.emoji.id||o.emoji.name),this.client.emit(n.MESSAGE_REACTION_REMOVE_EMOJI,o),{reaction:o})}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.channels.cache.has(e.id),o=i.channels.add(e);return!t&&o&&i.emit(n.CHANNEL_CREATE,o),{channel:o}}}},function(u,g,s){"use strict";const l=s(1),n=s(32),{Events:e}=s(0);u.exports=class extends l{constructor(i){super(i),this.deleted=new Map}handle(i){const t=this.client;let o=t.channels.cache.get(i.id);if(o){if(t.channels.remove(o.id),o.deleted=!0,o.messages&&!(o instanceof n))for(const r of o.messages.cache.values())r.deleted=!0;t.emit(e.CHANNEL_DELETE,o)}return{channel:o}}}},function(u,g,s){"use strict";const l=s(6),n=s(42);u.exports=class extends l{constructor(e,i){super(e.client,i,n),this.message=e}add(e,i){return super.add(e,i,{id:e.emoji.id||e.emoji.name,extras:[this.message]})}removeAll(){return this.client.api.channels(this.message.channel.id).messages(this.message.id).reactions.delete().then(()=>this.message)}}},function(u,g,s){"use strict";const l=s(2);u.exports=class extends l{constructor(n=0,e=null){super(e),this.maxSize=n}set(n,e){return this.maxSize===0?this:(this.size>=this.maxSize&&!this.has(n)&&this.delete(this.firstKey()),super.set(n,e))}static get[Symbol.species](){return l}}},function(u,g,s){"use strict";const l=s(33);u.exports=class extends l{get roles(){return new Set(this._roles)}}},function(u,g,s){"use strict";const l=s(6),n=s(21);u.exports=class extends l{constructor(e,i){super(e.client,i,n),this.guild=e}add(e,i=!0){const t=this.cache.get(e.user_id);if(t)return t._patch(e);const o=new n(this.guild,e);return i&&this.cache.set(e.user_id,o),o}}},function(u,g,s){"use strict";const l=s(13),{Error:n}=s(3);u.exports=class extends l{constructor(e,i){super(e,i),this.name=i.name,this.icon=i.icon}iconURL({format:e,size:i}={}){return this.icon?this.client.rest.cdn.GDMIcon(this.id,this.icon,e,i):null}delete(){return Promise.reject(new n("DELETE_GROUP_DM_CHANNEL"))}fetch(){return Promise.reject(new n("FETCH_GROUP_DM_CHANNEL"))}}},function(u,g,s){"use strict";const l=s(1),n=s(13),{ChannelTypes:e}=s(0);u.exports=class extends l{handle(i){let t=this.client.channels.cache.get(i.id);if(t){const o=t._update(i);if(e[t.type.toUpperCase()]!==i.type){const r=n.create(this.client,i,t.guild);for(const[a,m]of t.messages.cache)r.messages.cache.set(a,m);r._typing=new Map(t._typing),t=r,this.client.channels.cache.set(t.id,t)}return{old:o,updated:t}}return{}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{constructor(e){super(e),this.deleted=new Map}handle(e){const i=this.client;let t=i.guilds.cache.get(e.id);if(t){for(const o of t.channels.cache.values())o.type==="text"&&o.stopTyping(!0);if(e.unavailable)return t.available=!1,i.emit(n.GUILD_UNAVAILABLE,t),{guild:null};for(const o of t.channels.cache.values())this.client.channels.remove(o.id);t.voice&&t.voice.connection&&t.voice.connection.disconnect(),i.guilds.cache.delete(t.id),t.deleted=!0,i.emit(n.GUILD_DELETE,t),this.deleted.set(t.id,t),this.scheduleForDeletion(t.id)}else t=this.deleted.get(e.id)||null;return{guild:t}}scheduleForDeletion(e){this.client.setTimeout(()=>this.deleted.delete(e),this.client.options.restWsBridgeTimeout)}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.id);if(t){const o=t._update(e);return i.emit(n.GUILD_UPDATE,o,t),{old:o,updated:t}}return{old:null,updated:null}}}},function(u,g,s){"use strict";const l=s(1),n=s(16),{Events:e}=s(0);u.exports=class extends l{handle(i){const t=this.client,o=t.channels.cache.get(i.channel_id),r=t.guilds.cache.get(i.guild_id);if(!o&&!r)return!1;const a=Object.assign(i,{channel:o,guild:r}),m=new n(t,a);return t.emit(e.INVITE_CREATE,m),{invite:m}}}},function(u,g,s){"use strict";const l=s(1),n=s(16),{Events:e}=s(0);u.exports=class extends l{handle(i){const t=this.client,o=t.channels.cache.get(i.channel_id),r=t.guilds.cache.get(i.guild_id);if(!o&&!r)return!1;const a=Object.assign(i,{channel:o,guild:r}),m=new n(t,a);return t.emit(e.INVITE_DELETE,m),{invite:m}}}},function(u,g,s){"use strict";const l=s(1),{Events:n,Status:e}=s(0);u.exports=class extends l{handle(i,t){const o=this.client,r=o.guilds.cache.get(i.guild_id);let a=null;return r&&(a=this.getMember(i,r),r.memberCount--,a&&(a.deleted=!0,r.members.cache.delete(a.id),t.status===e.READY&&o.emit(n.GUILD_MEMBER_REMOVE,a)),r.voiceStates.cache.delete(i.user.id)),{guild:r,member:a}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.guild_id),o=i.users.add(e.user);t&&o&&i.emit(n.GUILD_BAN_REMOVE,t,o)}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.guild_id);let o;if(t){const r=t.roles.cache.has(e.role.id);o=t.roles.add(e.role),r||i.emit(n.GUILD_ROLE_CREATE,o)}return{role:o}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.guild_id);let o;return t&&(o=t.roles.cache.get(e.role_id),o&&(t.roles.cache.delete(e.role_id),o.deleted=!0,i.emit(n.GUILD_ROLE_DELETE,o))),{role:o}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.guild_id);if(t){let o=null;const r=t.roles.cache.get(e.role.id);return r&&(o=r._update(e.role),i.emit(n.GUILD_ROLE_UPDATE,o,r)),{old:o,updated:r}}return{old:null,updated:null}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){let i=this.client.users.cache.get(e.user.id);if(!i&&e.user.username&&(i=this.client.users.add(e.user)),!i)return;e.user&&e.user.username&&(i.equals(e.user)||this.client.actions.UserUpdate.handle(e.user));const t=this.client.guilds.cache.get(e.guild_id);if(!t)return;let o=t.presences.cache.get(i.id);o&&(o=o._clone());let r=t.members.cache.get(i.id);r||e.status==="offline"||(r=t.members.add({user:i,roles:e.roles,deaf:!1,mute:!1}),this.client.emit(n.GUILD_MEMBER_AVAILABLE,r)),t.presences.add(Object.assign(e,{guild:t})),r&&this.client.listenerCount(n.PRESENCE_UPDATE)&&this.client.emit(n.PRESENCE_UPDATE,o,r.presence)}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.users.cache.get(e.id),o=t._update(e);return o.equals(t)?{old:null,updated:null}:(i.emit(n.USER_UPDATE,o,t),{old:o,updated:t})}}},function(u,g,s){"use strict";const l=s(1),n=s(21),{Events:e}=s(0);u.exports=class extends l{handle(i){const t=this.client,o=t.guilds.cache.get(i.guild_id);if(o){const r=o.voiceStates.cache.has(i.user_id)?o.voiceStates.cache.get(i.user_id)._clone():new n(o,{user_id:i.user_id}),a=o.voiceStates.add(i);let m=o.members.cache.get(i.user_id);m&&i.member?m._patch(i.member):i.member&&i.member.user&&i.member.joined_at&&(m=o.members.add(i.member)),m&&m.user.id===t.user.id&&(t.emit("debug",`[VOICE] received voice state update: ${JSON.stringify(i)}`),t.voice.onVoiceStateUpdate(i)),t.emit(e.VOICE_STATE_UPDATE,r,a)}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e,i){const t=e.emojis.add(i);return this.client.emit(n.GUILD_EMOJI_CREATE,t),{emoji:t}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){return e.guild.emojis.cache.delete(e.id),e.deleted=!0,this.client.emit(n.GUILD_EMOJI_DELETE,e),{emoji:e}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e,i){const t=e._update(i);return this.client.emit(n.GUILD_EMOJI_UPDATE,t,e),{emoji:e}}}},function(u,g,s){"use strict";const l=s(1);u.exports=class extends l{handle(n){const e=this.client.guilds.cache.get(n.guild_id);if(!e||!e.emojis)return;const i=new Map(e.emojis.cache);for(const t of n.emojis){const o=e.emojis.cache.get(t.id);o?(i.delete(t.id),o.equals(t)||this.client.actions.GuildEmojiUpdate.handle(o,t)):this.client.actions.GuildEmojiCreate.handle(e,t)}for(const t of i.values())this.client.actions.GuildEmojiDelete.handle(t)}}},function(u,g,s){"use strict";const l=s(1);u.exports=class extends l{handle(n){const e=this.client.guilds.cache.get(n.guild_id);if(e)for(const i of n.roles){const t=e.roles.cache.get(i.id);t&&(t.rawPosition=i.position)}return{guild:e}}}},function(u,g,s){"use strict";const l=s(1);u.exports=class extends l{handle(n){const e=this.client.guilds.cache.get(n.guild_id);if(e)for(const i of n.channels){const t=e.channels.cache.get(i.id);t&&(t.rawPosition=i.position)}return{guild:e}}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.guilds.cache.get(e.guild_id);t&&i.emit(n.GUILD_INTEGRATIONS_UPDATE,t)}}},function(u,g,s){"use strict";const l=s(1),{Events:n}=s(0);u.exports=class extends l{handle(e){const i=this.client,t=i.channels.cache.get(e.channel_id);t&&i.emit(n.WEBHOOKS_UPDATE,t)}}},function(u,g){},function(u,g,s){"use strict";const l=s(24),n=s(133),e=s(77),{Error:i}=s(3),t=s(2),{Events:o,ShardEvents:r,Status:a,WSCodes:m,WSEvents:c}=s(0),h=s(4),d=[c.READY,c.RESUMED,c.GUILD_CREATE,c.GUILD_DELETE,c.GUILD_MEMBERS_CHUNK,c.GUILD_MEMBER_ADD,c.GUILD_MEMBER_REMOVE],p=Object.keys(m).slice(1).map(Number),y=[1e3,4006,4007];u.exports=class extends l{constructor(E){super(),Object.defineProperty(this,"client",{value:E}),this.gateway=void 0,this.totalShards=this.client.options.shards.length,this.shards=new t,Object.defineProperty(this,"shardQueue",{value:new Set,writable:!0}),Object.defineProperty(this,"packetQueue",{value:[]}),this.status=a.IDLE,this.destroyed=!1,this.reconnecting=!1,this.sessionStartLimit=void 0}get ping(){return this.shards.reduce((E,f)=>E+f.ping,0)/this.shards.size}debug(E,f){this.client.emit(o.DEBUG,`[WS => ${f?`Shard ${f.id}`:"Manager"}] ${E}`)}async connect(){const E=new i(m[4004]),{url:f,shards:A,session_start_limit:D}=await this.client.api.gateway.bot.get().catch(L=>{throw L.httpStatus===401?E:L});this.sessionStartLimit=D;const{total:I,remaining:b,reset_after:w}=D;this.debug(`Fetched Gateway Information
    URL: ${f}
    Recommended Shards: ${A}`),this.debug(`Session Limit Information
    Total: ${I}
    Remaining: ${b}`),this.gateway=`${f}/`;let{shards:R}=this.client.options;return R==="auto"&&(this.debug(`Using the recommended shard count provided by Discord: ${A}`),this.totalShards=this.client.options.shardCount=A,R=this.client.options.shards=Array.from({length:A},(L,_)=>_)),this.totalShards=R.length,this.debug(`Spawning shards: ${R.join(", ")}`),this.shardQueue=new Set(R.map(L=>new n(this,L))),await this._handleSessionLimit(b,w),this.createShards()}async createShards(){if(!this.shardQueue.size)return!1;const[E]=this.shardQueue;this.shardQueue.delete(E),E.eventsAttached||(E.on(r.ALL_READY,f=>{this.client.emit(o.SHARD_READY,E.id,f),this.shardQueue.size||(this.reconnecting=!1),this.checkShardsReady()}),E.on(r.CLOSE,f=>{if(f.code===1e3?this.destroyed:p.includes(f.code))return this.client.emit(o.SHARD_DISCONNECT,f,E.id),void this.debug(m[f.code],E);y.includes(f.code)&&(E.sessionID=void 0),this.client.emit(o.SHARD_RECONNECTING,E.id),this.shardQueue.add(E),E.sessionID?(this.debug("Session ID is present, attempting an immediate reconnect...",E),this.reconnect(!0)):(E.destroy({reset:!0,emit:!1,log:!1}),this.reconnect())}),E.on(r.INVALID_SESSION,()=>{this.client.emit(o.SHARD_RECONNECTING,E.id)}),E.on(r.DESTROYED,()=>{this.debug("Shard was destroyed but no WebSocket connection was present! Reconnecting...",E),this.client.emit(o.SHARD_RECONNECTING,E.id),this.shardQueue.add(E),this.reconnect()}),E.eventsAttached=!0),this.shards.set(E.id,E);try{await E.connect()}catch(f){if(f&&f.code&&p.includes(f.code))throw new i(m[f.code]);if(f&&!f.code)throw f;this.debug("Failed to connect to the gateway, requeueing...",E),this.shardQueue.add(E)}return!this.shardQueue.size||(this.debug(`Shard Queue Size: ${this.shardQueue.size}; continuing in 5 seconds...`),await h.delayFor(5e3),await this._handleSessionLimit(),this.createShards())}async reconnect(E=!1){if(this.reconnecting||this.status!==a.READY)return!1;this.reconnecting=!0;try{E||await this._handleSessionLimit(),await this.createShards()}catch(f){if(this.debug(`Couldn't reconnect or fetch information about the gateway. ${f}`),f.httpStatus!==401)return this.debug("Possible network error occurred. Retrying in 5s..."),await h.delayFor(5e3),this.reconnecting=!1,this.reconnect();this.client.listenerCount(o.INVALIDATED)?(this.client.emit(o.INVALIDATED),this.destroy()):this.client.destroy()}finally{this.reconnecting=!1}return!0}broadcast(E){for(const f of this.shards.values())f.send(E)}destroy(){if(!this.destroyed){this.debug(`Manager was destroyed. Called by:
${new Error("MANAGER_DESTROYED").stack}`),this.destroyed=!0,this.shardQueue.clear();for(const E of this.shards.values())E.destroy({closeCode:1e3,reset:!0,emit:!1,log:!1})}}async _handleSessionLimit(E,f){if(E===void 0&&f===void 0){const{session_start_limit:A}=await this.client.api.gateway.bot.get();this.sessionStartLimit=A,E=A.remaining,f=A.reset_after,this.debug(`Session Limit Information
    Total: ${A.total}
    Remaining: ${E}`)}E||(this.debug(`Exceeded identify threshold. Will attempt a connection in ${f}ms`),await h.delayFor(f))}handlePacket(E,f){if(E&&this.status!==a.READY&&!d.includes(E.t))return this.packetQueue.push({packet:E,shard:f}),!1;if(this.packetQueue.length){const A=this.packetQueue.shift();this.client.setImmediate(()=>{this.handlePacket(A.packet,A.shard)})}return E&&e[E.t]&&e[E.t](this.client,E,f),!0}async checkShardsReady(){if(this.status!==a.READY&&this.shards.size===this.totalShards&&!this.shards.some(E=>E.status!==a.READY)){if(this.status=a.NEARLY,this.client.options.fetchAllMembers)try{const E=this.client.guilds.cache.map(f=>f.available?f.members.fetch():Promise.resolve());await Promise.all(E)}catch(E){this.debug(`Failed to fetch all members before ready! ${E}
${E.stack}`)}this.triggerClientReady()}}triggerClientReady(){this.status=a.READY,this.client.readyAt=new Date,this.client.emit(o.CLIENT_READY),this.handlePacket()}}},function(u,g,s){"use strict";const l=s(24),n=s(76),{browser:e,Status:i,Events:t,ShardEvents:o,OPCodes:r,WSEvents:a}=s(0),m=Object.keys(i),c=Object.keys(n.WebSocket);let h;if(!e)try{h=s(139)}catch{}u.exports=class extends l{constructor(d,p){super(),this.manager=d,this.id=p,this.status=i.IDLE,this.sequence=-1,this.closeSequence=0,this.sessionID=void 0,this.ping=-1,this.lastPingTimestamp=-1,this.lastHeartbeatAcked=!0,Object.defineProperty(this,"ratelimit",{value:{queue:[],total:120,remaining:120,time:6e4,timer:null}}),Object.defineProperty(this,"connection",{value:null,writable:!0}),Object.defineProperty(this,"inflate",{value:null,writable:!0}),Object.defineProperty(this,"helloTimeout",{value:void 0,writable:!0}),Object.defineProperty(this,"eventsAttached",{value:!1,writable:!0}),Object.defineProperty(this,"expectedGuilds",{value:void 0,writable:!0}),Object.defineProperty(this,"readyTimeout",{value:void 0,writable:!0}),Object.defineProperty(this,"connectedAt",{value:0,writable:!0})}debug(d){this.manager.debug(d,this)}connect(){const{gateway:d,client:p}=this.manager;return this.connection&&this.connection.readyState===n.OPEN&&this.status===i.READY?Promise.resolve():new Promise((y,E)=>{const f=()=>{this.removeListener(o.CLOSE,I),this.removeListener(o.READY,A),this.removeListener(o.RESUMED,D),this.removeListener(o.INVALID_SESSION,b),this.removeListener(o.DESTROYED,b)},A=()=>{f(),y()},D=()=>{f(),y()},I=L=>{f(),E(L)},b=()=>{f(),E()};if(this.once(o.READY,A),this.once(o.RESUMED,D),this.once(o.CLOSE,I),this.once(o.INVALID_SESSION,b),this.once(o.DESTROYED,b),this.connection&&this.connection.readyState===n.OPEN)return this.debug("An open connection was found, attempting an immediate identify."),void this.identify();this.connection&&(this.debug(`A connection object was found. Cleaning up before continuing.
    State: ${c[this.connection.readyState]}`),this.destroy({emit:!1}));const w={v:p.options.ws.version};h&&(this.inflate=new h.Inflate({chunkSize:65535,flush:h.Z_SYNC_FLUSH,to:n.encoding==="json"?"string":""}),w.compress="zlib-stream"),this.debug(`[CONNECT]
    Gateway    : ${d}
    Version    : ${p.options.ws.version}
    Encoding   : ${n.encoding}
    Compression: ${h?"zlib-stream":"none"}`),this.status=this.status===i.DISCONNECTED?i.RECONNECTING:i.CONNECTING,this.setHelloTimeout(),this.connectedAt=Date.now();const R=this.connection=n.create(d,w);R.onopen=this.onOpen.bind(this),R.onmessage=this.onMessage.bind(this),R.onerror=this.onError.bind(this),R.onclose=this.onClose.bind(this)})}onOpen(){this.debug(`[CONNECTED] ${this.connection.url} in ${Date.now()-this.connectedAt}ms`),this.status=i.NEARLY}onMessage({data:d}){let p,y;if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),h){const E=d.length,f=E>=4&&d[E-4]===0&&d[E-3]===0&&d[E-2]===255&&d[E-1]===255;if(this.inflate.push(d,f&&h.Z_SYNC_FLUSH),!f)return;p=this.inflate.result}else p=d;try{y=n.unpack(p),this.manager.client.emit(t.RAW,y,this.id),y.op===r.DISPATCH&&this.manager.emit(y.t,y.d,this.id)}catch(E){return void this.manager.client.emit(t.SHARD_ERROR,E,this.id)}this.onPacket(y)}onError(d){const p=d&&d.error?d.error:d;p&&this.manager.client.emit(t.SHARD_ERROR,p,this.id)}onClose(d){this.sequence!==-1&&(this.closeSequence=this.sequence),this.sequence=-1,this.debug(`[CLOSE]
    Event Code: ${d.code}
    Clean     : ${d.wasClean}
    Reason    : ${d.reason||"No reason received"}`),this.setHeartbeatTimer(-1),this.setHelloTimeout(-1),this.connection&&this._cleanupConnection(),this.status=i.DISCONNECTED,this.emit(o.CLOSE,d)}onPacket(d){if(d){switch(d.t){case a.READY:this.emit(o.READY),this.sessionID=d.d.session_id,this.expectedGuilds=new Set(d.d.guilds.map(p=>p.id)),this.status=i.WAITING_FOR_GUILDS,this.debug(`[READY] Session ${this.sessionID}.`),this.lastHeartbeatAcked=!0,this.sendHeartbeat("ReadyHeartbeat");break;case a.RESUMED:{this.emit(o.RESUMED),this.status=i.READY;const p=d.s-this.closeSequence;this.debug(`[RESUMED] Session ${this.sessionID} | Replayed ${p} events.`),this.lastHeartbeatAcked=!0,this.sendHeartbeat("ResumeHeartbeat");break}}switch(d.s>this.sequence&&(this.sequence=d.s),d.op){case r.HELLO:this.setHelloTimeout(-1),this.setHeartbeatTimer(d.d.heartbeat_interval),this.identify();break;case r.RECONNECT:this.destroy({closeCode:4e3});break;case r.INVALID_SESSION:if(this.debug(`[INVALID SESSION] Resumable: ${d.d}.`),d.d)return void this.identifyResume();this.sequence=-1,this.sessionID=void 0,this.status=i.RECONNECTING,this.emit(o.INVALID_SESSION);break;case r.HEARTBEAT_ACK:this.ackHeartbeat();break;case r.HEARTBEAT:this.sendHeartbeat("HeartbeatRequest",!0);break;default:this.manager.handlePacket(d,this),this.status===i.WAITING_FOR_GUILDS&&d.t===a.GUILD_CREATE&&(this.expectedGuilds.delete(d.d.id),this.checkReady())}}else this.debug(`Received broken packet: '${d}'.`)}checkReady(){if(this.readyTimeout&&(this.manager.client.clearTimeout(this.readyTimeout),this.readyTimeout=void 0),!this.expectedGuilds.size)return this.debug("Shard received all its guilds. Marking as fully ready."),this.status=i.READY,void this.emit(o.ALL_READY);this.readyTimeout=this.manager.client.setTimeout(()=>{this.debug(`Shard did not receive any more guild packets in 15 seconds.
  Unavailable guild count: ${this.expectedGuilds.size}`),this.readyTimeout=void 0,this.status=i.READY,this.emit(o.ALL_READY,this.expectedGuilds)},15e3)}setHelloTimeout(d){d!==-1?(this.debug("Setting a HELLO timeout for 20s."),this.helloTimeout=this.manager.client.setTimeout(()=>{this.debug("Did not receive HELLO in time. Destroying and connecting again."),this.destroy({reset:!0,closeCode:4009})},2e4)):this.helloTimeout&&(this.debug("Clearing the HELLO timeout."),this.manager.client.clearTimeout(this.helloTimeout),this.helloTimeout=void 0)}setHeartbeatTimer(d){d!==-1?(this.debug(`Setting a heartbeat interval for ${d}ms.`),this.heartbeatInterval&&this.manager.client.clearInterval(this.heartbeatInterval),this.heartbeatInterval=this.manager.client.setInterval(()=>this.sendHeartbeat(),d)):this.heartbeatInterval&&(this.debug("Clearing the heartbeat interval."),this.manager.client.clearInterval(this.heartbeatInterval),this.heartbeatInterval=void 0)}sendHeartbeat(d="HeartbeatTimer",p=[i.WAITING_FOR_GUILDS,i.IDENTIFYING,i.RESUMING].includes(this.status)){if(p&&!this.lastHeartbeatAcked)this.debug(`[${d}] Didn't process heartbeat ack yet but we are still connected. Sending one now.`);else if(!this.lastHeartbeatAcked)return this.debug(`[${d}] Didn't receive a heartbeat ack last time, assuming zombie connection. Destroying and reconnecting.
    Status          : ${m[this.status]}
    Sequence        : ${this.sequence}
    Connection State: ${this.connection?c[this.connection.readyState]:"No Connection??"}`),void this.destroy({closeCode:4009,reset:!0});this.debug(`[${d}] Sending a heartbeat.`),this.lastHeartbeatAcked=!1,this.lastPingTimestamp=Date.now(),this.send({op:r.HEARTBEAT,d:this.sequence},!0)}ackHeartbeat(){this.lastHeartbeatAcked=!0;const d=Date.now()-this.lastPingTimestamp;this.debug(`Heartbeat acknowledged, latency of ${d}ms.`),this.ping=d}identify(){return this.sessionID?this.identifyResume():this.identifyNew()}identifyNew(){const{client:d}=this.manager;if(!d.token)return void this.debug("[IDENTIFY] No token available to identify a new session.");this.status=i.IDENTIFYING;const p={...d.options.ws,token:d.token,shard:[this.id,Number(d.options.shardCount)]};this.debug(`[IDENTIFY] Shard ${this.id}/${d.options.shardCount}`),this.send({op:r.IDENTIFY,d:p},!0)}identifyResume(){if(!this.sessionID)return this.debug("[RESUME] No session ID was present; identifying as a new session."),void this.identifyNew();this.status=i.RESUMING,this.debug(`[RESUME] Session ${this.sessionID}, sequence ${this.closeSequence}`);const d={token:this.manager.client.token,session_id:this.sessionID,seq:this.closeSequence};this.send({op:r.RESUME,d},!0)}send(d,p=!1){this.ratelimit.queue[p?"unshift":"push"](d),this.processQueue()}_send(d){if(!this.connection||this.connection.readyState!==n.OPEN)return this.debug(`Tried to send packet '${JSON.stringify(d)}' but no WebSocket is available!`),void this.destroy({close:4e3});this.connection.send(n.pack(d),p=>{p&&this.manager.client.emit(t.SHARD_ERROR,p,this.id)})}processQueue(){if(this.ratelimit.remaining!==0&&this.ratelimit.queue.length!==0)for(this.ratelimit.remaining===this.ratelimit.total&&(this.ratelimit.timer=this.manager.client.setTimeout(()=>{this.ratelimit.remaining=this.ratelimit.total,this.processQueue()},this.ratelimit.time));this.ratelimit.remaining>0;){const d=this.ratelimit.queue.shift();if(!d)return;this._send(d),this.ratelimit.remaining--}}destroy({closeCode:d=1e3,reset:p=!1,emit:y=!0,log:E=!0}={}){if(E&&this.debug(`[DESTROY]
    Close Code    : ${d}
    Reset         : ${p}
    Emit DESTROYED: ${y}`),this.setHeartbeatTimer(-1),this.setHelloTimeout(-1),this.connection)if(this.connection.readyState===n.OPEN)this.connection.close(d);else{this.debug(`WS State: ${c[this.connection.readyState]}`),this._cleanupConnection();try{this.connection.close(d)}catch{}y&&this._emitDestroyed()}else y&&this._emitDestroyed();this.connection=null,this.status=i.DISCONNECTED,this.sequence!==-1&&(this.closeSequence=this.sequence),p&&(this.sequence=-1,this.sessionID=void 0),this.ratelimit.remaining=this.ratelimit.total,this.ratelimit.queue.length=0,this.ratelimit.timer&&(this.manager.client.clearTimeout(this.ratelimit.timer),this.ratelimit.timer=null)}_cleanupConnection(){this.connection.onopen=this.connection.onclose=this.connection.onerror=this.connection.onmessage=null}_emitDestroyed(){this.emit(o.DESTROYED)}}},function(u,g){},function(u,g,s){(function(l){var n=Object.getOwnPropertyDescriptors||function(v){for(var S=Object.keys(v),N={},C=0;C<S.length;C++)N[S[C]]=Object.getOwnPropertyDescriptor(v,S[C]);return N},e=/%[sdj%]/g;g.format=function(v){if(!f(v)){for(var S=[],N=0;N<arguments.length;N++)S.push(o(arguments[N]));return S.join(" ")}N=1;for(var C=arguments,x=C.length,P=String(v).replace(e,function(U){if(U==="%%")return"%";if(N>=x)return U;switch(U){case"%s":return String(C[N++]);case"%d":return Number(C[N++]);case"%j":try{return JSON.stringify(C[N++])}catch(B){return"[Circular]"}default:return U}}),M=C[N];N<x;M=C[++N])y(M)||!I(M)?P+=" "+M:P+=" "+o(M);return P},g.deprecate=function(v,S){if(l!==void 0&&l.noDeprecation===!0)return v;if(l===void 0)return function(){return g.deprecate(v,S).apply(this,arguments)};var N=!1;return function(){if(!N){if(l.throwDeprecation)throw new Error(S);l.traceDeprecation?console.trace(S):console.error(S),N=!0}return v.apply(this,arguments)}};var i,t={};function o(v,S){var N={seen:[],stylize:a};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),p(S)?N.showHidden=S:S&&g._extend(N,S),A(N.showHidden)&&(N.showHidden=!1),A(N.depth)&&(N.depth=2),A(N.colors)&&(N.colors=!1),A(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=r),m(N,v,N.depth)}function r(v,S){var N=o.styles[S];return N?"["+o.colors[N][0]+"m"+v+"["+o.colors[N][1]+"m":v}function a(v,S){return v}function m(v,S,N){if(v.customInspect&&S&&R(S.inspect)&&S.inspect!==g.inspect&&(!S.constructor||S.constructor.prototype!==S)){var C=S.inspect(N,v);return f(C)||(C=m(v,C,N)),C}var x=function(k,G){if(A(G))return k.stylize("undefined","undefined");if(f(G)){var V="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return k.stylize(V,"string")}if(E(G))return k.stylize(""+G,"number");if(p(G))return k.stylize(""+G,"boolean");if(y(G))return k.stylize("null","null")}(v,S);if(x)return x;var P=Object.keys(S),M=function(k){var G={};return k.forEach(function(V,F){G[V]=!0}),G}(P);if(v.showHidden&&(P=Object.getOwnPropertyNames(S)),w(S)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return c(S);if(P.length===0){if(R(S)){var U=S.name?": "+S.name:"";return v.stylize("[Function"+U+"]","special")}if(D(S))return v.stylize(RegExp.prototype.toString.call(S),"regexp");if(b(S))return v.stylize(Date.prototype.toString.call(S),"date");if(w(S))return c(S)}var B,H="",W=!1,Y=["{","}"];return(d(S)&&(W=!0,Y=["[","]"]),R(S))&&(H=" [Function"+(S.name?": "+S.name:"")+"]"),D(S)&&(H=" "+RegExp.prototype.toString.call(S)),b(S)&&(H=" "+Date.prototype.toUTCString.call(S)),w(S)&&(H=" "+c(S)),P.length!==0||W&&S.length!=0?N<0?D(S)?v.stylize(RegExp.prototype.toString.call(S),"regexp"):v.stylize("[Object]","special"):(v.seen.push(S),B=W?function(k,G,V,F,z){for(var K=[],q=0,X=G.length;q<X;++q)j(G,String(q))?K.push(h(k,G,V,F,String(q),!0)):K.push("");return z.forEach(function(J){J.match(/^\d+$/)||K.push(h(k,G,V,F,J,!0))}),K}(v,S,N,M,P):P.map(function(k){return h(v,S,N,M,k,W)}),v.seen.pop(),function(k,G,V){return k.reduce(function(F,z){return z.indexOf(`
`)>=0,F+z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?V[0]+(G===""?"":G+`
 `)+" "+k.join(`,
  `)+" "+V[1]:V[0]+G+" "+k.join(", ")+" "+V[1]}(B,H,Y)):Y[0]+H+Y[1]}function c(v){return"["+Error.prototype.toString.call(v)+"]"}function h(v,S,N,C,x,P){var M,U,B;if((B=Object.getOwnPropertyDescriptor(S,x)||{value:S[x]}).get?U=B.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):B.set&&(U=v.stylize("[Setter]","special")),j(C,x)||(M="["+x+"]"),U||(v.seen.indexOf(B.value)<0?(U=y(N)?m(v,B.value,null):m(v,B.value,N-1)).indexOf(`
`)>-1&&(U=P?U.split(`
`).map(function(H){return"  "+H}).join(`
`).substr(2):`
`+U.split(`
`).map(function(H){return"   "+H}).join(`
`)):U=v.stylize("[Circular]","special")),A(M)){if(P&&x.match(/^\d+$/))return U;(M=JSON.stringify(""+x)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=v.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=v.stylize(M,"string"))}return M+": "+U}function d(v){return Array.isArray(v)}function p(v){return typeof v=="boolean"}function y(v){return v===null}function E(v){return typeof v=="number"}function f(v){return typeof v=="string"}function A(v){return v===void 0}function D(v){return I(v)&&L(v)==="[object RegExp]"}function I(v){return typeof v=="object"&&v!==null}function b(v){return I(v)&&L(v)==="[object Date]"}function w(v){return I(v)&&(L(v)==="[object Error]"||v instanceof Error)}function R(v){return typeof v=="function"}function L(v){return Object.prototype.toString.call(v)}function _(v){return v<10?"0"+v.toString(10):v.toString(10)}g.debuglog=function(v){if(A(i)&&(i=l.env.NODE_DEBUG||""),v=v.toUpperCase(),!t[v])if(new RegExp("\\b"+v+"\\b","i").test(i)){var S=l.pid;t[v]=function(){var N=g.format.apply(g,arguments);console.error("%s %d: %s",v,S,N)}}else t[v]=function(){};return t[v]},g.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=d,g.isBoolean=p,g.isNull=y,g.isNullOrUndefined=function(v){return v==null},g.isNumber=E,g.isString=f,g.isSymbol=function(v){return typeof v=="symbol"},g.isUndefined=A,g.isRegExp=D,g.isObject=I,g.isDate=b,g.isError=w,g.isFunction=R,g.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},g.isBuffer=s(136);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var v=new Date,S=[_(v.getHours()),_(v.getMinutes()),_(v.getSeconds())].join(":");return[v.getDate(),T[v.getMonth()],S].join(" ")}function j(v,S){return Object.prototype.hasOwnProperty.call(v,S)}g.log=function(){console.log("%s - %s",O(),g.format.apply(g,arguments))},g.inherits=s(137),g._extend=function(v,S){if(!S||!I(S))return v;for(var N=Object.keys(S),C=N.length;C--;)v[N[C]]=S[N[C]];return v};var $=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function Q(v,S){if(!v){var N=new Error("Promise was rejected with a falsy value");N.reason=v,v=N}return S(v)}g.promisify=function(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');if($&&v[$]){var S;if(typeof(S=v[$])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(S,$,{value:S,enumerable:!1,writable:!1,configurable:!0}),S}function S(){for(var N,C,x=new Promise(function(U,B){N=U,C=B}),P=[],M=0;M<arguments.length;M++)P.push(arguments[M]);P.push(function(U,B){U?C(U):N(B)});try{v.apply(this,P)}catch(U){C(U)}return x}return Object.setPrototypeOf(S,Object.getPrototypeOf(v)),$&&Object.defineProperty(S,$,{value:S,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(S,n(v))},g.promisify.custom=$,g.callbackify=function(v){if(typeof v!="function")throw new TypeError('The "original" argument must be of type Function');function S(){for(var N=[],C=0;C<arguments.length;C++)N.push(arguments[C]);var x=N.pop();if(typeof x!="function")throw new TypeError("The last argument must be of type Function");var P=this,M=function(){return x.apply(P,arguments)};v.apply(this,N).then(function(U){l.nextTick(M,null,U)},function(U){l.nextTick(Q,U,M)})}return Object.setPrototypeOf(S,Object.getPrototypeOf(v)),Object.defineProperties(S,n(v)),S}}).call(this,s(23))},function(u,g){u.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},function(u,g){typeof Object.create=="function"?u.exports=function(s,l){s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:u.exports=function(s,l){s.super_=l;var n=function(){};n.prototype=l.prototype,s.prototype=new n,s.prototype.constructor=s}},function(u,g){},function(u,g){},function(u,g,s){var l={"./CHANNEL_CREATE.js":141,"./CHANNEL_DELETE.js":142,"./CHANNEL_PINS_UPDATE.js":143,"./CHANNEL_UPDATE.js":144,"./GUILD_BAN_ADD.js":145,"./GUILD_BAN_REMOVE.js":146,"./GUILD_CREATE.js":147,"./GUILD_DELETE.js":148,"./GUILD_EMOJIS_UPDATE.js":149,"./GUILD_INTEGRATIONS_UPDATE.js":150,"./GUILD_MEMBERS_CHUNK.js":151,"./GUILD_MEMBER_ADD.js":152,"./GUILD_MEMBER_REMOVE.js":153,"./GUILD_MEMBER_UPDATE.js":154,"./GUILD_ROLE_CREATE.js":155,"./GUILD_ROLE_DELETE.js":156,"./GUILD_ROLE_UPDATE.js":157,"./GUILD_UPDATE.js":158,"./INVITE_CREATE.js":159,"./INVITE_DELETE.js":160,"./MESSAGE_CREATE.js":161,"./MESSAGE_DELETE.js":162,"./MESSAGE_DELETE_BULK.js":163,"./MESSAGE_REACTION_ADD.js":164,"./MESSAGE_REACTION_REMOVE.js":165,"./MESSAGE_REACTION_REMOVE_ALL.js":166,"./MESSAGE_REACTION_REMOVE_EMOJI.js":167,"./MESSAGE_UPDATE.js":168,"./PRESENCE_UPDATE.js":169,"./READY.js":170,"./RESUMED.js":171,"./TYPING_START.js":172,"./USER_UPDATE.js":173,"./VOICE_SERVER_UPDATE.js":174,"./VOICE_STATE_UPDATE.js":175,"./WEBHOOKS_UPDATE.js":176,"./index.js":77};function n(i){var t=e(i);return s(t)}function e(i){if(!s.o(l,i)){var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}return l[i]}n.keys=function(){return Object.keys(l)},n.resolve=e,u.exports=n,n.id=140},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.ChannelCreate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.ChannelDelete.handle(n.d)}},function(u,g,s){"use strict";const{Events:l}=s(0);u.exports=(n,{d:e})=>{const i=n.channels.cache.get(e.channel_id),t=new Date(e.last_pin_timestamp);i&&!Number.isNaN(t.getTime())&&(i.lastPinTimestamp=t.getTime()||null,n.emit(l.CHANNEL_PINS_UPDATE,i,t))}},function(u,g,s){"use strict";const{Events:l}=s(0);u.exports=(n,e)=>{const{old:i,updated:t}=n.actions.ChannelUpdate.handle(e.d);i&&t&&n.emit(l.CHANNEL_UPDATE,i,t)}},function(u,g,s){"use strict";const{Events:l}=s(0);u.exports=(n,{d:e})=>{const i=n.guilds.cache.get(e.guild_id),t=n.users.add(e.user);i&&t&&n.emit(l.GUILD_BAN_ADD,i,t)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildBanRemove.handle(n.d)}},function(u,g,s){"use strict";const{Events:l,Status:n}=s(0);u.exports=async(e,{d:i},t)=>{let o=e.guilds.cache.get(i.id);o?o.available||i.unavailable||(o._patch(i),e.ws.status===n.READY&&e.options.fetchAllMembers&&await o.members.fetch().catch(r=>e.emit(l.DEBUG,`Failed to fetch all members: ${r}
${r.stack}`))):(i.shardID=t.id,o=e.guilds.add(i),e.ws.status===n.READY&&(e.options.fetchAllMembers&&await o.members.fetch().catch(r=>e.emit(l.DEBUG,`Failed to fetch all members: ${r}
${r.stack}`)),e.emit(l.GUILD_CREATE,o)))}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildDelete.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildEmojisUpdate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildIntegrationsUpdate.handle(n.d)}},function(u,g,s){"use strict";const l=s(2),{Events:n}=s(0);u.exports=(e,{d:i})=>{const t=e.guilds.cache.get(i.guild_id);if(!t)return;const o=new l;for(const r of i.members)o.set(r.user.id,t.members.add(r));if(i.presences)for(const r of i.presences)t.presences.cache.add(Object.assign(r,{guild:t}));e.emit(n.GUILD_MEMBERS_CHUNK,o,t)}},function(u,g,s){"use strict";const{Events:l,Status:n}=s(0);u.exports=(e,{d:i},t)=>{const o=e.guilds.cache.get(i.guild_id);if(o){o.memberCount++;const r=o.members.add(i);t.status===n.READY&&e.emit(l.GUILD_MEMBER_ADD,r)}}},function(u,g,s){"use strict";u.exports=(l,n,e)=>{l.actions.GuildMemberRemove.handle(n.d,e)}},function(u,g,s){"use strict";const{Status:l,Events:n}=s(0);u.exports=(e,{d:i},t)=>{const o=e.guilds.cache.get(i.guild_id);if(o){const r=o.members.cache.get(i.user.id);if(r){const a=r._update(i);t.status===l.READY&&e.emit(n.GUILD_MEMBER_UPDATE,a,r)}}}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleCreate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleDelete.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildRoleUpdate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.GuildUpdate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.InviteCreate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.InviteDelete.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageCreate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageDelete.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageDeleteBulk.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionAdd.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemove.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemoveAll.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.MessageReactionRemoveEmoji.handle(n.d)}},function(u,g,s){"use strict";const{Events:l}=s(0);u.exports=(n,e)=>{const{old:i,updated:t}=n.actions.MessageUpdate.handle(e.d);i&&t&&n.emit(l.MESSAGE_UPDATE,i,t)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.PresenceUpdate.handle(n.d)}},function(u,g,s){"use strict";let l;u.exports=(n,{d:e},i)=>{if(n.user)n.user._patch(e.user);else{l||(l=s(78));const t=new l(n,e.user);n.user=t,n.users.cache.set(t.id,t)}for(const t of e.guilds)t.shardID=i.id,n.guilds.add(t);i.checkReady()}},function(u,g,s){"use strict";const{Events:l}=s(0);u.exports=(n,e,i)=>{const t=i.sequence-i.closeSequence;n.emit(l.SHARD_RESUME,i.id,t)}},function(u,g,s){"use strict";const{Events:l}=s(0);function n(e,i){return e.client.setTimeout(()=>{e._typing.delete(i.id)},1e4)}u.exports=(e,{d:i})=>{const t=e.channels.cache.get(i.channel_id),o=e.users.cache.get(i.user_id),r=new Date(1e3*i.timestamp);if(t&&o){if(t.type==="voice")return void e.emit(l.WARN,`Discord sent a typing packet to a voice channel ${t.id}`);if(t._typing.has(o.id)){const a=t._typing.get(o.id);a.lastTimestamp=r,a.elapsedTime=Date.now()-a.since,e.clearTimeout(a.timeout),a.timeout=n(t,o)}else{const a=new Date,m=new Date;t._typing.set(o.id,{user:o,since:a,lastTimestamp:m,elapsedTime:Date.now()-a,timeout:n(t,o)}),e.emit(l.TYPING_START,t,o)}}}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.UserUpdate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.emit("debug",`[VOICE] received voice server: ${JSON.stringify(n)}`),l.voice.onVoiceServer(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.VoiceStateUpdate.handle(n.d)}},function(u,g,s){"use strict";u.exports=(l,n)=>{l.actions.WebhooksUpdate.handle(n.d)}},function(u,g){},function(u,g){},function(u,g){},function(u,g){},function(u,g){},function(u,g,s){"use strict";const l=s(14);class n extends l{}n.FLAGS={SPEAKING:1,SOUNDSHARE:2,PRIORITY_SPEAKING:4},u.exports=n}])});
