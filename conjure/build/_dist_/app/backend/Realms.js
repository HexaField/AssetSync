export default class s{constructor(a){this.assetSync=a,this.pinnedRealms=[],this.earliestRealmTime=1599176386e3,this.databases={},this.databasePlugin=a.syncedDatabasePlugin,this.dhtType="realm",this.dhtProtocol="/conjure/realms/"}async get(a){return await this.assetSync.dhtPlugin.get({key:this.dhtType+":"+a})}async put(a,t){return await this.assetSync.dhtPlugin.put({key:this.dhtType+":"+a,value:t})}receiveFromDHT(a,t,e){console.log("receiveFromDHT",a,t,e),t?this.addDatabase(a):this.removeDatabase(a)}async initialise(){console.log(await this.addDatabase("Lobby"))}async getRealms(){return await this.assetSync.dhtPlugin.getAllLocal()}async getRealmById(a){return await this.get(a)}async createRealm(a){await this.put(a.id,a)}updateRealm(a){}getDatabase(a){return this.assetSync.dhtPlugin.getDHT(this.dhtProtocol+a)}async addDatabase(a){return await this.assetSync.dhtPlugin.addDHT(this.dhtProtocol+a)}async removeDatabase(a){await this.assetSync.dhtPlugin.removeDHT(this.dhtProtocol+a)}}
