import i from"../elements/ScreenElementLabelled.js";import a from"../elements/ScreenElementText.js";export default class c{constructor(t){this.screen=t,this.watchItems=[],this.watchItemsKey=[],this.watchItemsLabel=[],this.messageHeight=.06}addWatchItem(t,e,s){this.watchItems.push(e),this.watchItemsKey.push(s);let h=new i(this.screen,this.screen,{x:-.9,height:.1,width:.2,element:new a(this.screen,this.screen,{height:.1,width:.4,textSettings:{scale:.4,text:e[s],anchorX:"right",anchor:!0}}),autoUpdateSize:!1,anchor:!0,textSettings:{scale:.4,anchorX:"right"},label:t+": "});this.screen.registerElement(h),this.watchItemsLabel.push(h),this.updateWatchItems()}removeWatchItem(t){for(let e in this.watchItems)if(Object.is(this.watchItems[e],t)){this.watchItemsLabel[e].destroy(),this.screen.group.remove(this.watchItemsLabel[e].group),this.watchItems.splice(e,1),this.watchItemsKey.splice(e,1),this.watchItemsLabel.splice(e,1);break}this.updateWatchItems()}updateWatchItems(){let t=.95;for(let e in this.watchItems)this.watchItemsLabel[e].group.position.setY(t),t-=this.messageHeight}update(){for(let t in this.watchItems)this.watchItemsLabel[t].element.setText(String(this.watchItems[t][this.watchItemsKey[t]]))}}
