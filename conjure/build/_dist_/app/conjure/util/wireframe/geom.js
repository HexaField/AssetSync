import*as f from"https://cdn.skypack.dev/pin/three@v0.117.1-NetLzdTnw9ga3y6o633U/min/three.js";export function addBarycentricCoordinates(e,i,r){const s=e.getIndex()||e.getAttribute("position"),u=s.count/3,n=[],t=i?1:0;for(let o=0;o<u;o++)if(r)n.push(1,0,t,0,1,0,0,0,1);else{const c=o%2===0;c?n.push(0,0,1,0,1,0,1,0,t):n.push(0,1,0,0,0,1,1,0,t)}const a=new Float32Array(n),d=new f.BufferAttribute(a,3);e.setAttribute("barycentric",d)}export function unindexBufferGeometry(e){const i=e.getIndex();if(!i)return;const r=i.array,s=r.length/3,u=e.attributes,n=Object.keys(u).map(t=>({array:[],attribute:e.getAttribute(t)}));for(let t=0;t<s;t++){const a=r[t*3+0],d=r[t*3+1],o=r[t*3+2],c=[a,d,o];n.forEach(b=>{const h=b.attribute,p=h.itemSize;for(let l=0;l<c.length;l++){const g=c[l];for(let y=0;y<p;y++){const x=h.array[g*p+y];b.array.push(x)}}})}i.array=null,e.setIndex(null),console.log(n),n.forEach(t=>{const a=new t.attribute.array.constructor(t.array);t.attribute.array=a,t.attribute.needsUpdate=!0})}
