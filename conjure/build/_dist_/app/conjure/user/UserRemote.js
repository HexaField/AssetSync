import o from"./User.js";import s from"../screens/text/TextRenderer3D.js";import*as r from"https://cdn.skypack.dev/pin/three@v0.117.1-NetLzdTnw9ga3y6o633U/min/three.js";export default class n extends o{constructor(t,e,i){super(t,!0);this.isRemote=!0,this.username=e,this.peerID=i,this.remoteEntity=!0,this.group.name=e,this.nameplate=new s(t,this.group,{text:e}),this.nameplate.group.position.setY(2),this.nameplate.group.rotation.set(0,Math.PI,0),this.nameplate.group.visible=String(this.username)!=="undefined",this.timeoutLimit=3*60,this.timeoutCount=0,this.velocity=new r.Vector3}onCreate(){super.onCreate()}updateInfo(t){this.timeoutCount=0,t.username&&(this.username=t.username,this.nameplate.setText(this.username))}update(t){if(this.timeoutCount++,this.timeoutCount>this.timeoutLimit){console.log(this.group.name+" has timed out"),this.conjure.getWorld().onUserLeave(this.peerID);return}this.group.position.set(this.group.position.x+this.velocity.x*t.delta,this.group.position.y+this.velocity.y*t.delta,this.group.position.z+this.velocity.z*t.delta)}setPhysics(t){this.timeoutCount=0,this.group.position.set(t.p.x,t.p.y,t.p.z),this.group.quaternion.set(t.r._x,t.r._y,t.r._z,t.r._w),this.velocity.set(t.v.x,t.v.y,t.v.z)}destroy(){}}
