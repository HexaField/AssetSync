import*as r from" https://cdn.skypack.dev/pin/three@v0.123.0-STd7XeVUbImsNuMmqKGL/min/three.js";import s from"./elements/ScreenElementButton.js";import i from"./elements/ScreenElementCycleButton.js";import n from"./ScreenBase.js";import"../world/object/ObjectManager.js";import"../util/wireframe/index.js";import"../PostProcessing.js";import{ObjectPrefabs as o}from"../world/object/ObjectPrefabs.js";export default class c extends n{constructor(t,e){super(t,e);this.group.add(this.background),this.onCreateObject=this.onCreateObject.bind(this),this.createButton=new s(this,this,{x:-this.width/4,width:.3,height:.1,text:"Create"}),this.createButton.setOnClickCallback(this.onCreateObject),this.registerElement(this.createButton),this.objectTypeButton=new i(this,this,{x:this.width/4,width:.3,height:.1}),this.objectTypeButton.setValues(Object.keys(o)),this.registerElement(this.objectTypeButton)}async onCreateObject(){let t=o[this.objectTypeButton.getValue(!0)];if(t){const e=await t(this.screenManager.conjure);e.position.copy(this.world.user.previewMeshPoint.getWorldPosition(new r.Vector3)),e.quaternion.copy(this.world.user.previewMeshPoint.getWorldQuaternion(new r.Quaternion)),await this.world.realm.createObject(e)}}}
