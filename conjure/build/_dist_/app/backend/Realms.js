export default class s{constructor(t){this.assetSync=t,this.pinnedRealms=[],this.earliestRealmTime=1599176386e3,this.databases={},this.databasePlugin=t.syncedDatabasePlugin,this.dhtType="realm",this.dhtProtocol="/conjure/realms/"}async get(t){return await this.assetSync.dhtPlugin.get({key:this.dhtType+":"+t})}async put(t,a){return await this.assetSync.dhtPlugin.put({key:this.dhtType+":"+t,value:a})}receiveFromDHT(t,a,e){console.log("receiveFromDHT",t,a,e),a?this.addDatabase(t):this.removeDatabase(t)}async initialise(){console.log(await this.addDatabase("Lobby"))}async getRealms(){return await this.assetSync.dhtPlugin.getAllLocal()}async getRealmById(t){return await this.get(t)}async createRealm(t){await this.put(t.id,t)}updateRealm(t){}getDatabase(t){return this.assetSync.dhtPlugin.getDHT(this.dhtProtocol+t)}async addDatabase(t){return await this.assetSync.dhtPlugin.addDHT(this.dhtProtocol+t)}async removeDatabase(t){await this.assetSync.dhtPlugin.removeDHT(this.dhtProtocol+t)}}
