import{E as Ne}from"./events-18451fd5.js";import{p as y}from"./process-e9e98960.js";import{i as Ca}from"./EventDispatcher-b8df954c.js";import{i as z,g as ga}from"./buffer-es6-e6024076.js";import{a as Ga,f as R,p as S}from"./path-96982e38.js";import{c as Ie,a as ve}from"./_commonjsHelpers-c99fd594.js";import{i as ae,g as Ve,h as Fa,j as xe,k as We,l as je,m as ka,u as Z}from"./util-8448a06b.js";import{D as ee,R as $e,W as qe}from"./duplex-dc376f98.js";function Ma(){return Ca?Ga.homedir():"/"}ae(Y,ee);function Ua(e){this.afterTransform=function(t,r){return Ha(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ha(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function Y(e){if(!(this instanceof Y))return new Y(e);ee.call(this,e),this._transformState=new Ua(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){Xe(t,r)}):Xe(t)})}Y.prototype.push=function(e,t){return this._transformState.needTransform=!1,ee.prototype.push.call(this,e,t)},Y.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Y.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Y.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function Xe(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}ae(q,Y);function q(e){if(!(this instanceof q))return new q(e);Y.call(this,e)}q.prototype._transform=function(e,t,r){r(null,e)},ae(B,Ne),B.Readable=$e,B.Writable=qe,B.Duplex=ee,B.Transform=Y,B.PassThrough=q,B.Stream=B;function B(){Ne.call(this)}B.prototype.pipe=function(e,t){var r=this;function n(s){e.writable&&(e.write(s)===!1&&r.pause&&r.pause())}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",c));var o=!1;function a(){if(o)return;o=!0,e.end()}function c(){if(o)return;o=!0,typeof e.destroy=="function"&&e.destroy()}function E(s){if(_(),Ne.listenerCount(this,"error")===0)throw s}r.on("error",E),e.on("error",E);function _(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",E),e.removeListener("error",E),r.removeListener("end",_),r.removeListener("close",_),e.removeListener("close",_)}return r.on("end",_),r.on("close",_),e.on("close",_),e.emit("pipe",r),e};var ba=Object.freeze({__proto__:null,default:B,Readable:$e,Writable:qe,Duplex:ee,Transform:Y,PassThrough:q,Stream:B}),Ya=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{e.apply(this,t.concat([(i,o)=>i?n(i):r(o)]))})},"name",{value:e.name})},Ba=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:e.name})},p={fromCallback:Ya,fromPromise:Ba},Je=1,Qe=2,ze=8,Ze=4,et=7,tt=13,rt=48,nt=49,it=47,ot=35,at=37,st=9,ut=94,ct=16,Et=89,ft=10,lt=53,St=61,_t=54,ht=11,Ot=39,dt=33,yt=69,mt=17,Nt=14,It=27,vt=65,Tt=90,Rt=92,Lt=36,Pt=4,At=22,pt=5,wt=56,Dt=21,Ct=62,gt=24,Gt=31,Ft=40,kt=95,Mt=63,Ut=50,Ht=52,bt=51,Yt=23,Bt=55,Kt=96,Vt=19,xt=2,Wt=8,jt=77,$t=97,qt=12,Xt=91,Jt=42,Qt=28,zt=98,Zt=99,er=78,tr=57,rr=20,nr=66,ir=38,or=45,ar=25,sr=6,ur=102,cr=84,Er=1,fr=32,lr=100,Sr=43,_r=41,hr=34,Or=30,dr=29,yr=3,mr=70,Nr=101,Ir=60,vr=26,Tr=35,Rr=18,Lr=19,Pr=10,Ar=0,pr=-7,wr=-14,Dr=-20,Cr=1,gr=2,Gr=3,Fr=4,kr=5,Mr=6,Ur=6,Hr=10,br=8,Yr=9,Br=30,Kr=11,Vr=31,xr=13,Wr=14,jr=15,$r=20,qr=19,Xr=17,Jr=18,Qr=21,zr=22,Zr=16,en=24,tn=25,rn=26,nn=27,on=28,an=23,sn=29,un=12,cn=1,En=2,fn=0,ln=1,Sn=2,_n=0,hn=1,On=2,dn=3,yn=4,mn=5,Nn=6,In=7,vn=61440,Tn=32768,Rn=16384,Ln=8192,Pn=24576,An=4096,pn=40960,wn=49152,Dn=512,Cn=2048,gn=131072,Gn=1024,Fn=8,kn=1048576,Mn=256,Un=128,Hn=4194304,bn=2097152,Yn=4,Bn=448,Kn=256,Vn=128,xn=64,Wn=56,jn=32,$n=16,qn=8,Xn=7,Jn=4,Qn=2,zn=1,Zn=0,ei=4,ti=2,ri=1,ni=1,ii=1,oi=2,ai=2,si=4,ui=4,ci=269488175,Ei=2147485780,fi=262144,li=4194304,Si=32768,_i=8192,hi=2147483648,Oi=2048,di=0,yi=4,mi=0,Ni=0,Ii=0,vi=0,Ti=0,Ri=0,Li=0,Pi=131072,Ai=4096,pi=65536,wi=0,Di=33554432,Ci=16384,gi=67108864,Gi=268435456,Fi=134217728,ki=0,Mi=0,Ui=0,Hi=0,bi=0,Yi=0,Bi=0,Ki=0,Vi=8388608,xi=1,Wi=2,ji=4,$i=8,qi=2048,Xi=64,Ji=128,Qi=512,zi=1024,Zi=65535,eo=0,to=2,ro=1,no=4,io=8,oo=1,ao=1,so=2,uo=3,co=4,Eo=5,fo=6,lo=-1,So=-2,_o=-2,ho="TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA",Oo=769,yo=770,mo=771,No=772,Io=2,vo=4,To=6,Ro="TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA",Ka={RTLD_LAZY:Je,RTLD_NOW:Qe,RTLD_GLOBAL:ze,RTLD_LOCAL:Ze,E2BIG:et,EACCES:tt,EADDRINUSE:rt,EADDRNOTAVAIL:nt,EAFNOSUPPORT:it,EAGAIN:ot,EALREADY:at,EBADF:st,EBADMSG:ut,EBUSY:ct,ECANCELED:Et,ECHILD:ft,ECONNABORTED:lt,ECONNREFUSED:St,ECONNRESET:_t,EDEADLK:ht,EDESTADDRREQ:Ot,EDOM:dt,EDQUOT:yt,EEXIST:mt,EFAULT:Nt,EFBIG:It,EHOSTUNREACH:vt,EIDRM:Tt,EILSEQ:Rt,EINPROGRESS:Lt,EINTR:Pt,EINVAL:At,EIO:pt,EISCONN:wt,EISDIR:Dt,ELOOP:Ct,EMFILE:gt,EMLINK:Gt,EMSGSIZE:Ft,EMULTIHOP:kt,ENAMETOOLONG:Mt,ENETDOWN:Ut,ENETRESET:Ht,ENETUNREACH:bt,ENFILE:Yt,ENOBUFS:Bt,ENODATA:Kt,ENODEV:Vt,ENOENT:xt,ENOEXEC:Wt,ENOLCK:jt,ENOLINK:$t,ENOMEM:qt,ENOMSG:Xt,ENOPROTOOPT:Jt,ENOSPC:Qt,ENOSR:zt,ENOSTR:Zt,ENOSYS:er,ENOTCONN:tr,ENOTDIR:rr,ENOTEMPTY:nr,ENOTSOCK:ir,ENOTSUP:or,ENOTTY:ar,ENXIO:sr,EOPNOTSUPP:ur,EOVERFLOW:cr,EPERM:Er,EPIPE:fr,EPROTO:lr,EPROTONOSUPPORT:Sr,EPROTOTYPE:_r,ERANGE:hr,EROFS:Or,ESPIPE:dr,ESRCH:yr,ESTALE:mr,ETIME:Nr,ETIMEDOUT:Ir,ETXTBSY:vr,EWOULDBLOCK:Tr,EXDEV:Rr,PRIORITY_LOW:Lr,PRIORITY_BELOW_NORMAL:Pr,PRIORITY_NORMAL:Ar,PRIORITY_ABOVE_NORMAL:pr,PRIORITY_HIGH:wr,PRIORITY_HIGHEST:Dr,SIGHUP:Cr,SIGINT:gr,SIGQUIT:Gr,SIGILL:Fr,SIGTRAP:kr,SIGABRT:Mr,SIGIOT:Ur,SIGBUS:Hr,SIGFPE:br,SIGKILL:Yr,SIGUSR1:Br,SIGSEGV:Kr,SIGUSR2:Vr,SIGPIPE:xr,SIGALRM:Wr,SIGTERM:jr,SIGCHLD:$r,SIGCONT:qr,SIGSTOP:Xr,SIGTSTP:Jr,SIGTTIN:Qr,SIGTTOU:zr,SIGURG:Zr,SIGXCPU:en,SIGXFSZ:tn,SIGVTALRM:rn,SIGPROF:nn,SIGWINCH:on,SIGIO:an,SIGINFO:sn,SIGSYS:un,UV_FS_SYMLINK_DIR:cn,UV_FS_SYMLINK_JUNCTION:En,O_RDONLY:fn,O_WRONLY:ln,O_RDWR:Sn,UV_DIRENT_UNKNOWN:_n,UV_DIRENT_FILE:hn,UV_DIRENT_DIR:On,UV_DIRENT_LINK:dn,UV_DIRENT_FIFO:yn,UV_DIRENT_SOCKET:mn,UV_DIRENT_CHAR:Nn,UV_DIRENT_BLOCK:In,S_IFMT:vn,S_IFREG:Tn,S_IFDIR:Rn,S_IFCHR:Ln,S_IFBLK:Pn,S_IFIFO:An,S_IFLNK:pn,S_IFSOCK:wn,O_CREAT:Dn,O_EXCL:Cn,O_NOCTTY:gn,O_TRUNC:Gn,O_APPEND:Fn,O_DIRECTORY:kn,O_NOFOLLOW:Mn,O_SYNC:Un,O_DSYNC:Hn,O_SYMLINK:bn,O_NONBLOCK:Yn,S_IRWXU:Bn,S_IRUSR:Kn,S_IWUSR:Vn,S_IXUSR:xn,S_IRWXG:Wn,S_IRGRP:jn,S_IWGRP:$n,S_IXGRP:qn,S_IRWXO:Xn,S_IROTH:Jn,S_IWOTH:Qn,S_IXOTH:zn,F_OK:Zn,R_OK:ei,W_OK:ti,X_OK:ri,UV_FS_COPYFILE_EXCL:ni,COPYFILE_EXCL:ii,UV_FS_COPYFILE_FICLONE:oi,COPYFILE_FICLONE:ai,UV_FS_COPYFILE_FICLONE_FORCE:si,COPYFILE_FICLONE_FORCE:ui,OPENSSL_VERSION_NUMBER:ci,SSL_OP_ALL:Ei,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:fi,SSL_OP_CIPHER_SERVER_PREFERENCE:li,SSL_OP_CISCO_ANYCONNECT:Si,SSL_OP_COOKIE_EXCHANGE:_i,SSL_OP_CRYPTOPRO_TLSEXT_BUG:hi,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:Oi,SSL_OP_EPHEMERAL_RSA:di,SSL_OP_LEGACY_SERVER_CONNECT:yi,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:mi,SSL_OP_MICROSOFT_SESS_ID_BUG:Ni,SSL_OP_MSIE_SSLV2_RSA_PADDING:Ii,SSL_OP_NETSCAPE_CA_DN_BUG:vi,SSL_OP_NETSCAPE_CHALLENGE_BUG:Ti,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:Ri,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:Li,SSL_OP_NO_COMPRESSION:Pi,SSL_OP_NO_QUERY_MTU:Ai,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:pi,SSL_OP_NO_SSLv2:wi,SSL_OP_NO_SSLv3:Di,SSL_OP_NO_TICKET:Ci,SSL_OP_NO_TLSv1:gi,SSL_OP_NO_TLSv1_1:Gi,SSL_OP_NO_TLSv1_2:Fi,SSL_OP_PKCS1_CHECK_1:ki,SSL_OP_PKCS1_CHECK_2:Mi,SSL_OP_SINGLE_DH_USE:Ui,SSL_OP_SINGLE_ECDH_USE:Hi,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:bi,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:Yi,SSL_OP_TLS_BLOCK_PADDING_BUG:Bi,SSL_OP_TLS_D5_BUG:Ki,SSL_OP_TLS_ROLLBACK_BUG:Vi,ENGINE_METHOD_RSA:xi,ENGINE_METHOD_DSA:Wi,ENGINE_METHOD_DH:ji,ENGINE_METHOD_RAND:$i,ENGINE_METHOD_EC:qi,ENGINE_METHOD_CIPHERS:Xi,ENGINE_METHOD_DIGESTS:Ji,ENGINE_METHOD_PKEY_METHS:Qi,ENGINE_METHOD_PKEY_ASN1_METHS:zi,ENGINE_METHOD_ALL:Zi,ENGINE_METHOD_NONE:eo,DH_CHECK_P_NOT_SAFE_PRIME:to,DH_CHECK_P_NOT_PRIME:ro,DH_UNABLE_TO_CHECK_GENERATOR:no,DH_NOT_SUITABLE_GENERATOR:io,ALPN_ENABLED:oo,RSA_PKCS1_PADDING:ao,RSA_SSLV23_PADDING:so,RSA_NO_PADDING:uo,RSA_PKCS1_OAEP_PADDING:co,RSA_X931_PADDING:Eo,RSA_PKCS1_PSS_PADDING:fo,RSA_PSS_SALTLEN_DIGEST:lo,RSA_PSS_SALTLEN_MAX_SIGN:So,RSA_PSS_SALTLEN_AUTO:_o,defaultCoreCipherList:ho,TLS1_VERSION:Oo,TLS1_1_VERSION:yo,TLS1_2_VERSION:mo,TLS1_3_VERSION:No,POINT_CONVERSION_COMPRESSED:Io,POINT_CONVERSION_UNCOMPRESSED:vo,POINT_CONVERSION_HYBRID:To,defaultCipherList:Ro},W=Object.freeze({__proto__:null,RTLD_LAZY:Je,RTLD_NOW:Qe,RTLD_GLOBAL:ze,RTLD_LOCAL:Ze,E2BIG:et,EACCES:tt,EADDRINUSE:rt,EADDRNOTAVAIL:nt,EAFNOSUPPORT:it,EAGAIN:ot,EALREADY:at,EBADF:st,EBADMSG:ut,EBUSY:ct,ECANCELED:Et,ECHILD:ft,ECONNABORTED:lt,ECONNREFUSED:St,ECONNRESET:_t,EDEADLK:ht,EDESTADDRREQ:Ot,EDOM:dt,EDQUOT:yt,EEXIST:mt,EFAULT:Nt,EFBIG:It,EHOSTUNREACH:vt,EIDRM:Tt,EILSEQ:Rt,EINPROGRESS:Lt,EINTR:Pt,EINVAL:At,EIO:pt,EISCONN:wt,EISDIR:Dt,ELOOP:Ct,EMFILE:gt,EMLINK:Gt,EMSGSIZE:Ft,EMULTIHOP:kt,ENAMETOOLONG:Mt,ENETDOWN:Ut,ENETRESET:Ht,ENETUNREACH:bt,ENFILE:Yt,ENOBUFS:Bt,ENODATA:Kt,ENODEV:Vt,ENOENT:xt,ENOEXEC:Wt,ENOLCK:jt,ENOLINK:$t,ENOMEM:qt,ENOMSG:Xt,ENOPROTOOPT:Jt,ENOSPC:Qt,ENOSR:zt,ENOSTR:Zt,ENOSYS:er,ENOTCONN:tr,ENOTDIR:rr,ENOTEMPTY:nr,ENOTSOCK:ir,ENOTSUP:or,ENOTTY:ar,ENXIO:sr,EOPNOTSUPP:ur,EOVERFLOW:cr,EPERM:Er,EPIPE:fr,EPROTO:lr,EPROTONOSUPPORT:Sr,EPROTOTYPE:_r,ERANGE:hr,EROFS:Or,ESPIPE:dr,ESRCH:yr,ESTALE:mr,ETIME:Nr,ETIMEDOUT:Ir,ETXTBSY:vr,EWOULDBLOCK:Tr,EXDEV:Rr,PRIORITY_LOW:Lr,PRIORITY_BELOW_NORMAL:Pr,PRIORITY_NORMAL:Ar,PRIORITY_ABOVE_NORMAL:pr,PRIORITY_HIGH:wr,PRIORITY_HIGHEST:Dr,SIGHUP:Cr,SIGINT:gr,SIGQUIT:Gr,SIGILL:Fr,SIGTRAP:kr,SIGABRT:Mr,SIGIOT:Ur,SIGBUS:Hr,SIGFPE:br,SIGKILL:Yr,SIGUSR1:Br,SIGSEGV:Kr,SIGUSR2:Vr,SIGPIPE:xr,SIGALRM:Wr,SIGTERM:jr,SIGCHLD:$r,SIGCONT:qr,SIGSTOP:Xr,SIGTSTP:Jr,SIGTTIN:Qr,SIGTTOU:zr,SIGURG:Zr,SIGXCPU:en,SIGXFSZ:tn,SIGVTALRM:rn,SIGPROF:nn,SIGWINCH:on,SIGIO:an,SIGINFO:sn,SIGSYS:un,UV_FS_SYMLINK_DIR:cn,UV_FS_SYMLINK_JUNCTION:En,O_RDONLY:fn,O_WRONLY:ln,O_RDWR:Sn,UV_DIRENT_UNKNOWN:_n,UV_DIRENT_FILE:hn,UV_DIRENT_DIR:On,UV_DIRENT_LINK:dn,UV_DIRENT_FIFO:yn,UV_DIRENT_SOCKET:mn,UV_DIRENT_CHAR:Nn,UV_DIRENT_BLOCK:In,S_IFMT:vn,S_IFREG:Tn,S_IFDIR:Rn,S_IFCHR:Ln,S_IFBLK:Pn,S_IFIFO:An,S_IFLNK:pn,S_IFSOCK:wn,O_CREAT:Dn,O_EXCL:Cn,O_NOCTTY:gn,O_TRUNC:Gn,O_APPEND:Fn,O_DIRECTORY:kn,O_NOFOLLOW:Mn,O_SYNC:Un,O_DSYNC:Hn,O_SYMLINK:bn,O_NONBLOCK:Yn,S_IRWXU:Bn,S_IRUSR:Kn,S_IWUSR:Vn,S_IXUSR:xn,S_IRWXG:Wn,S_IRGRP:jn,S_IWGRP:$n,S_IXGRP:qn,S_IRWXO:Xn,S_IROTH:Jn,S_IWOTH:Qn,S_IXOTH:zn,F_OK:Zn,R_OK:ei,W_OK:ti,X_OK:ri,UV_FS_COPYFILE_EXCL:ni,COPYFILE_EXCL:ii,UV_FS_COPYFILE_FICLONE:oi,COPYFILE_FICLONE:ai,UV_FS_COPYFILE_FICLONE_FORCE:si,COPYFILE_FICLONE_FORCE:ui,OPENSSL_VERSION_NUMBER:ci,SSL_OP_ALL:Ei,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:fi,SSL_OP_CIPHER_SERVER_PREFERENCE:li,SSL_OP_CISCO_ANYCONNECT:Si,SSL_OP_COOKIE_EXCHANGE:_i,SSL_OP_CRYPTOPRO_TLSEXT_BUG:hi,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:Oi,SSL_OP_EPHEMERAL_RSA:di,SSL_OP_LEGACY_SERVER_CONNECT:yi,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:mi,SSL_OP_MICROSOFT_SESS_ID_BUG:Ni,SSL_OP_MSIE_SSLV2_RSA_PADDING:Ii,SSL_OP_NETSCAPE_CA_DN_BUG:vi,SSL_OP_NETSCAPE_CHALLENGE_BUG:Ti,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:Ri,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:Li,SSL_OP_NO_COMPRESSION:Pi,SSL_OP_NO_QUERY_MTU:Ai,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:pi,SSL_OP_NO_SSLv2:wi,SSL_OP_NO_SSLv3:Di,SSL_OP_NO_TICKET:Ci,SSL_OP_NO_TLSv1:gi,SSL_OP_NO_TLSv1_1:Gi,SSL_OP_NO_TLSv1_2:Fi,SSL_OP_PKCS1_CHECK_1:ki,SSL_OP_PKCS1_CHECK_2:Mi,SSL_OP_SINGLE_DH_USE:Ui,SSL_OP_SINGLE_ECDH_USE:Hi,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:bi,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:Yi,SSL_OP_TLS_BLOCK_PADDING_BUG:Bi,SSL_OP_TLS_D5_BUG:Ki,SSL_OP_TLS_ROLLBACK_BUG:Vi,ENGINE_METHOD_RSA:xi,ENGINE_METHOD_DSA:Wi,ENGINE_METHOD_DH:ji,ENGINE_METHOD_RAND:$i,ENGINE_METHOD_EC:qi,ENGINE_METHOD_CIPHERS:Xi,ENGINE_METHOD_DIGESTS:Ji,ENGINE_METHOD_PKEY_METHS:Qi,ENGINE_METHOD_PKEY_ASN1_METHS:zi,ENGINE_METHOD_ALL:Zi,ENGINE_METHOD_NONE:eo,DH_CHECK_P_NOT_SAFE_PRIME:to,DH_CHECK_P_NOT_PRIME:ro,DH_UNABLE_TO_CHECK_GENERATOR:no,DH_NOT_SUITABLE_GENERATOR:io,ALPN_ENABLED:oo,RSA_PKCS1_PADDING:ao,RSA_SSLV23_PADDING:so,RSA_NO_PADDING:uo,RSA_PKCS1_OAEP_PADDING:co,RSA_X931_PADDING:Eo,RSA_PKCS1_PSS_PADDING:fo,RSA_PSS_SALTLEN_DIGEST:lo,RSA_PSS_SALTLEN_MAX_SIGN:So,RSA_PSS_SALTLEN_AUTO:_o,defaultCoreCipherList:ho,TLS1_VERSION:Oo,TLS1_1_VERSION:yo,TLS1_2_VERSION:mo,TLS1_3_VERSION:No,POINT_CONVERSION_COMPRESSED:Io,POINT_CONVERSION_UNCOMPRESSED:vo,POINT_CONVERSION_HYBRID:To,defaultCipherList:Ro,default:Ka}),Va=y.cwd,se=null,xa=y.env.GRACEFUL_FS_PLATFORM||y.platform;y.cwd=function(){return se||(se=Va.call(y)),se};try{y.cwd()}catch(e){}var Wa=y.chdir;y.chdir=function(e){se=null,Wa.call(y,e)};var ja=$a;function $a(e){W.hasOwnProperty("O_SYMLINK")&&y.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=E(e.statSync),e.fstatSync=E(e.fstatSync),e.lstatSync=E(e.lstatSync),e.lchmod||(e.lchmod=function(s,f,h){h&&y.nextTick(h)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(s,f,h,l){l&&y.nextTick(l)},e.lchownSync=function(){}),xa==="win32"&&(e.rename=function(s){return function(f,h,l){var d=Date.now(),N=0;s(f,h,function T(L){if(L&&(L.code==="EACCES"||L.code==="EPERM")&&Date.now()-d<6e4){setTimeout(function(){e.stat(h,function(K,$){K&&K.code==="ENOENT"?s(f,h,T):l(L)})},N),N<100&&(N+=10);return}l&&l(L)})}}(e.rename)),e.read=function(s){function f(h,l,d,N,T,L){var K;if(L&&typeof L=="function"){var $=0;K=function(Q,ie,oe){if(Q&&Q.code==="EAGAIN"&&$<10)return $++,s.call(e,h,l,d,N,T,K);L.apply(this,arguments)}}return s.call(e,h,l,d,N,T,K)}return f.__proto__=s,f}(e.read),e.readSync=function(s){return function(f,h,l,d,N){for(var T=0;;)try{return s.call(e,f,h,l,d,N)}catch(L){if(L.code==="EAGAIN"&&T<10){T++;continue}throw L}}}(e.readSync);function t(s){s.lchmod=function(f,h,l){s.open(f,W.O_WRONLY|W.O_SYMLINK,h,function(d,N){if(d){l&&l(d);return}s.fchmod(N,h,function(T){s.close(N,function(L){l&&l(T||L)})})})},s.lchmodSync=function(f,h){var l=s.openSync(f,W.O_WRONLY|W.O_SYMLINK,h),d=!0,N;try{N=s.fchmodSync(l,h),d=!1}finally{if(d)try{s.closeSync(l)}catch(T){}else s.closeSync(l)}return N}}function r(s){W.hasOwnProperty("O_SYMLINK")?(s.lutimes=function(f,h,l,d){s.open(f,W.O_SYMLINK,function(N,T){if(N){d&&d(N);return}s.futimes(T,h,l,function(L){s.close(T,function(K){d&&d(L||K)})})})},s.lutimesSync=function(f,h,l){var d=s.openSync(f,W.O_SYMLINK),N,T=!0;try{N=s.futimesSync(d,h,l),T=!1}finally{if(T)try{s.closeSync(d)}catch(L){}else s.closeSync(d)}return N}):(s.lutimes=function(f,h,l,d){d&&y.nextTick(d)},s.lutimesSync=function(){})}function n(s){return s&&function(f,h,l){return s.call(e,f,h,function(d){_(d)&&(d=null),l&&l.apply(this,arguments)})}}function i(s){return s&&function(f,h){try{return s.call(e,f,h)}catch(l){if(!_(l))throw l}}}function o(s){return s&&function(f,h,l,d){return s.call(e,f,h,l,function(N){_(N)&&(N=null),d&&d.apply(this,arguments)})}}function a(s){return s&&function(f,h,l){try{return s.call(e,f,h,l)}catch(d){if(!_(d))throw d}}}function c(s){return s&&function(f,h,l){typeof h=="function"&&(l=h,h=null);function d(N,T){T&&(T.uid<0&&(T.uid+=4294967296),T.gid<0&&(T.gid+=4294967296)),l&&l.apply(this,arguments)}return h?s.call(e,f,h,d):s.call(e,f,d)}}function E(s){return s&&function(f,h){var l=h?s.call(e,f,h):s.call(e,f);return l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296),l}}function _(s){if(!s)return!0;if(s.code==="ENOSYS")return!0;var f=!y.getuid||y.getuid()!==0;return!!(f&&(s.code==="EINVAL"||s.code==="EPERM"))}}var Lo=ba.Stream,qa=Xa;function Xa(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Lo.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var a=Object.keys(i),c=0,E=a.length;c<E;c++){var _=a[c];this[_]=i[_]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){y.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(s,f){if(s){o.emit("error",s),o.readable=!1;return}o.fd=f,o.emit("open",f),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Lo.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var E=o[a];this[E]=i[E]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Ja=Qa;function Qa(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}function Po(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var za=Object.prototype.hasOwnProperty,Ao=Object.keys||function(e){var t=[];for(var r in e)za.call(e,r)&&t.push(r);return t},po=Array.prototype.slice,Te;function wo(){return typeof Te!="undefined"?Te:Te=function(){return function(){}.name==="foo"}()}function Do(e){return Object.prototype.toString.call(e)}function Co(e){return z(e)||typeof ga.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e?e instanceof DataView?!0:!!(e.buffer&&e.buffer instanceof ArrayBuffer):!1}function D(e,t){e||C(e,!0,t,"==",te)}var Za=/\s*function\s+([^\(\s]*)\s*/;function go(e){if(!Ve(e))return;if(wo())return e.name;var t=e.toString(),r=t.match(Za);return r&&r[1]}D.AssertionError=ue;function ue(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=es(this),this.generatedMessage=!0);var t=e.stackStartFunction||C;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=go(t),o=n.indexOf(`
`+i);if(o>=0){var a=n.indexOf(`
`,o+1);n=n.substring(a+1)}this.stack=n}}}ae(ue,Error);function Go(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function Fo(e){if(wo()||!Ve(e))return Fa(e);var t=go(e),r=t?": "+t:"";return"[Function"+r+"]"}function es(e){return Go(Fo(e.actual),128)+" "+e.operator+" "+Go(Fo(e.expected),128)}function C(e,t,r,n,i){throw new ue({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}D.fail=C;function te(e,t){e||C(e,!0,t,"==",te)}D.ok=te,D.equal=Re;function Re(e,t,r){e!=t&&C(e,t,r,"==",Re)}D.notEqual=Le;function Le(e,t,r){e==t&&C(e,t,r,"!=",Le)}D.deepEqual=Pe;function Pe(e,t,r){X(e,t,!1)||C(e,t,r,"deepEqual",Pe)}D.deepStrictEqual=Ae;function Ae(e,t,r){X(e,t,!0)||C(e,t,r,"deepStrictEqual",Ae)}function X(e,t,r,n){if(e===t)return!0;if(z(e)&&z(t))return Po(e,t)===0;if(xe(e)&&xe(t))return e.getTime()===t.getTime();if(We(e)&&We(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if((e===null||typeof e!="object")&&(t===null||typeof t!="object"))return r?e===t:e==t;if(Co(e)&&Co(t)&&Do(e)===Do(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return Po(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0;if(z(e)!==z(t))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(e);return i!==-1&&i===n.expected.indexOf(t)?!0:(n.actual.push(e),n.expected.push(t),ts(e,t,r,n))}function ko(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function ts(e,t,r,n){if(e==null||t===null||t===void 0)return!1;if(je(e)||je(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=ko(e),o=ko(t);if(i&&!o||!i&&o)return!1;if(i)return e=po.call(e),t=po.call(t),X(e,t,r);var a=Ao(e),c=Ao(t),E,_;if(a.length!==c.length)return!1;for(a.sort(),c.sort(),_=a.length-1;_>=0;_--)if(a[_]!==c[_])return!1;for(_=a.length-1;_>=0;_--)if(E=a[_],!X(e[E],t[E],r,n))return!1;return!0}D.notDeepEqual=pe;function pe(e,t,r){X(e,t,!1)&&C(e,t,r,"notDeepEqual",pe)}D.notDeepStrictEqual=we;function we(e,t,r){X(e,t,!0)&&C(e,t,r,"notDeepStrictEqual",we)}D.strictEqual=De;function De(e,t,r){e!==t&&C(e,t,r,"===",De)}D.notStrictEqual=Ce;function Ce(e,t,r){e===t&&C(e,t,r,"!==",Ce)}function Mo(e,t){if(!e||!t)return!1;if(Object.prototype.toString.call(t)=="[object RegExp]")return t.test(e);try{if(e instanceof t)return!0}catch(r){}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function rs(e){var t;try{e()}catch(r){t=r}return t}function Uo(e,t,r,n){var i;if(typeof t!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),i=rs(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&C(i,r,"Missing expected exception"+n);var o=typeof n=="string",a=!e&&ka(i),c=!e&&i&&!r;if((a&&o&&Mo(i,r)||c)&&C(i,r,"Got unwanted exception"+n),e&&i&&r&&!Mo(i,r)||!e&&i)throw i}D.throws=Ho;function Ho(e,t,r){Uo(!0,e,t,r)}D.doesNotThrow=bo;function bo(e,t,r){Uo(!1,e,t,r)}D.ifError=Yo;function Yo(e){if(e)throw e}var m=Object.freeze({__proto__:null,default:D,AssertionError:ue,fail:C,ok:te,assert:te,equal:Re,notEqual:Le,deepEqual:Pe,deepStrictEqual:Ae,notDeepEqual:pe,notDeepStrictEqual:we,strictEqual:De,notStrictEqual:Ce,throws:Ho,doesNotThrow:bo,ifError:Yo}),u=Ie(function(e){var t,r;typeof Symbol=="function"&&typeof Symbol.for=="function"?(t=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",r="___graceful-fs.previous");function n(){}function i(s,f){Object.defineProperty(s,t,{get:function(){return f}})}var o=n;if(Z.debuglog?o=Z.debuglog("gfs4"):/\bgfs4\b/i.test(y.env.NODE_DEBUG||"")&&(o=function(){var s=Z.format.apply(Z,arguments);s="GFS4: "+s.split(/\n/).join(`
GFS4: `),console.error(s)}),!R[t]){var a=ve[t]||[];i(R,a),R.close=function(s){function f(h,l){return s.call(R,h,function(d){d||_(),typeof l=="function"&&l.apply(this,arguments)})}return Object.defineProperty(f,r,{value:s}),f}(R.close),R.closeSync=function(s){function f(h){s.apply(R,arguments),_()}return Object.defineProperty(f,r,{value:s}),f}(R.closeSync),/\bgfs4\b/i.test(y.env.NODE_DEBUG||"")&&y.on("exit",function(){o(R[t]),m.equal(R[t].length,0)})}ve[t]||i(ve,R[t]),e.exports=c(Ja(R)),y.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!R.__patched&&(e.exports=c(R),R.__patched=!0);function c(s){ja(s),s.gracefulify=c,s.createReadStream=pa,s.createWriteStream=wa;var f=s.readFile;s.readFile=h;function h(O,v,I){return typeof v=="function"&&(I=v,v=null),P(O,v,I);function P(M,w,A){return f(M,w,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?E([P,[M,w,A]]):(typeof A=="function"&&A.apply(this,arguments),_())})}}var l=s.writeFile;s.writeFile=d;function d(O,v,I,P){return typeof I=="function"&&(P=I,I=null),M(O,v,I,P);function M(w,A,U,H){return l(w,A,U,function(b){b&&(b.code==="EMFILE"||b.code==="ENFILE")?E([M,[w,A,U,H]]):(typeof H=="function"&&H.apply(this,arguments),_())})}}var N=s.appendFile;N&&(s.appendFile=T);function T(O,v,I,P){return typeof I=="function"&&(P=I,I=null),M(O,v,I,P);function M(w,A,U,H){return N(w,A,U,function(b){b&&(b.code==="EMFILE"||b.code==="ENFILE")?E([M,[w,A,U,H]]):(typeof H=="function"&&H.apply(this,arguments),_())})}}var L=s.readdir;s.readdir=K;function K(O,v,I){var P=[O];return typeof v!="function"?P.push(v):I=v,P.push(M),$(P);function M(w,A){A&&A.sort&&A.sort(),w&&(w.code==="EMFILE"||w.code==="ENFILE")?E([$,[P]]):(typeof I=="function"&&I.apply(this,arguments),_())}}function $(O){return L.apply(s,O)}if(y.version.substr(0,4)==="v0.8"){var Q=qa(s);V=Q.ReadStream,x=Q.WriteStream}var ie=s.ReadStream;ie&&(V.prototype=Object.create(ie.prototype),V.prototype.open=Pa);var oe=s.WriteStream;oe&&(x.prototype=Object.create(oe.prototype),x.prototype.open=Aa),Object.defineProperty(s,"ReadStream",{get:function(){return V},set:function(O){V=O},enumerable:!0,configurable:!0}),Object.defineProperty(s,"WriteStream",{get:function(){return x},set:function(O){x=O},enumerable:!0,configurable:!0});var Be=V;Object.defineProperty(s,"FileReadStream",{get:function(){return Be},set:function(O){Be=O},enumerable:!0,configurable:!0});var Ke=x;Object.defineProperty(s,"FileWriteStream",{get:function(){return Ke},set:function(O){Ke=O},enumerable:!0,configurable:!0});function V(O,v){return this instanceof V?(ie.apply(this,arguments),this):V.apply(Object.create(V.prototype),arguments)}function Pa(){var O=this;me(O.path,O.flags,O.mode,function(v,I){v?(O.autoClose&&O.destroy(),O.emit("error",v)):(O.fd=I,O.emit("open",I),O.read())})}function x(O,v){return this instanceof x?(oe.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function Aa(){var O=this;me(O.path,O.flags,O.mode,function(v,I){v?(O.destroy(),O.emit("error",v)):(O.fd=I,O.emit("open",I))})}function pa(O,v){return new s.ReadStream(O,v)}function wa(O,v){return new s.WriteStream(O,v)}var Da=s.open;s.open=me;function me(O,v,I,P){return typeof I=="function"&&(P=I,I=null),M(O,v,I,P);function M(w,A,U,H){return Da(w,A,U,function(b,cc){b&&(b.code==="EMFILE"||b.code==="ENFILE")?E([M,[w,A,U,H]]):(typeof H=="function"&&H.apply(this,arguments),_())})}}return s}function E(s){o("ENQUEUE",s[0].name,s[1]),R[t].push(s)}function _(){var s=R[t].shift();s&&(o("RETRY",s[0].name,s[1]),s[0].apply(null,s[1]))}}),g=Ie(function(e,t){const r=p.fromCallback,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof u[i]=="function");Object.keys(u).forEach(i=>{if(i==="promises")return;t[i]=u[i]}),n.forEach(i=>{t[i]=r(u[i])}),t.exists=function(i,o){return typeof o=="function"?u.exists(i,o):new Promise(a=>u.exists(i,a))},t.read=function(i,o,a,c,E,_){return typeof _=="function"?u.read(i,o,a,c,E,_):new Promise((s,f)=>{u.read(i,o,a,c,E,(h,l,d)=>{if(h)return f(h);s({bytesRead:l,buffer:d})})})},t.write=function(i,o,...a){return typeof a[a.length-1]=="function"?u.write(i,o,...a):new Promise((c,E)=>{u.write(i,o,...a,(_,s,f)=>{if(_)return E(_);c({bytesWritten:s,buffer:f})})})},typeof u.writev=="function"&&(t.writev=function(i,o,...a){return typeof a[a.length-1]=="function"?u.writev(i,o,...a):new Promise((c,E)=>{u.writev(i,o,...a,(_,s,f)=>{if(_)return E(_);c({bytesWritten:s,buffers:f})})})}),typeof u.realpath.native=="function"&&(t.realpath.native=r(u.realpath.native))}),Bo=e=>{const t=y.versions.node.split(".").map(r=>parseInt(r,10));return e=e.split(".").map(r=>parseInt(r,10)),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])};const Ko=Bo("10.12.0"),Vo=e=>{if(y.platform==="win32"){const t=/[<>:"|?*]/.test(e.replace(S.parse(e).root,""));if(t){const r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}}},xo=e=>{const t={mode:511};return typeof e=="number"&&(e={mode:e}),{...t,...e}},Wo=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};var ns=async(e,t)=>{if(Vo(e),t=xo(t),Ko){const n=S.resolve(e);return g.mkdir(n,{mode:t.mode,recursive:!0})}const r=async n=>{try{await g.mkdir(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(S.dirname(n)===n)throw Wo(n);if(i.message.includes("null bytes"))throw i;return await r(S.dirname(n)),r(n)}try{const o=await g.stat(n);if(!o.isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return r(S.resolve(e))},is=(e,t)=>{if(Vo(e),t=xo(t),Ko){const n=S.resolve(e);return g.mkdirSync(n,{mode:t.mode,recursive:!0})}const r=n=>{try{g.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(S.dirname(n)===n)throw Wo(n);if(i.message.includes("null bytes"))throw i;return r(S.dirname(n)),r(n)}try{if(!g.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return r(S.resolve(e))},os={makeDir:ns,makeDirSync:is};const as=p.fromPromise,{makeDir:ss,makeDirSync:ge}=os,Ge=as(ss);var G={mkdirs:Ge,mkdirsSync:ge,mkdirp:Ge,mkdirpSync:ge,ensureDir:Ge,ensureDirSync:ge};function us(e,t,r,n){u.open(e,"r+",(i,o)=>{if(i)return n(i);u.futimes(o,t,r,a=>{u.close(o,c=>{n&&n(a||c)})})})}function cs(e,t,r){const n=u.openSync(e,"r+");return u.futimesSync(n,t,r),u.closeSync(n)}var jo={utimesMillis:us,utimesMillisSync:cs};const ce=Bo("10.5.0"),$o=e=>ce?g.stat(e,{bigint:!0}):g.stat(e),Fe=e=>ce?g.statSync(e,{bigint:!0}):g.statSync(e);function Es(e,t){return Promise.all([$o(e),$o(t).catch(r=>{if(r.code==="ENOENT")return null;throw r})]).then(([r,n])=>({srcStat:r,destStat:n}))}function fs(e,t){let r;const n=Fe(e);try{r=Fe(t)}catch(i){if(i.code==="ENOENT")return{srcStat:n,destStat:null};throw i}return{srcStat:n,destStat:r}}function ls(e,t,r,n){Z.callbackify(Es)(e,t,(i,o)=>{if(i)return n(i);const{srcStat:a,destStat:c}=o;return c&&Ee(a,c)?n(new Error("Source and destination must not be the same.")):a.isDirectory()&&ke(e,t)?n(new Error(fe(e,t,r))):n(null,{srcStat:a,destStat:c})})}function Ss(e,t,r){const{srcStat:n,destStat:i}=fs(e,t);if(i&&Ee(n,i))throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&ke(e,t))throw new Error(fe(e,t,r));return{srcStat:n,destStat:i}}function qo(e,t,r,n,i){const o=S.resolve(S.dirname(e)),a=S.resolve(S.dirname(r));if(a===o||a===S.parse(a).root)return i();const c=(E,_)=>E?E.code==="ENOENT"?i():i(E):Ee(t,_)?i(new Error(fe(e,r,n))):qo(e,t,a,n,i);ce?g.stat(a,{bigint:!0},c):g.stat(a,c)}function Xo(e,t,r,n){const i=S.resolve(S.dirname(e)),o=S.resolve(S.dirname(r));if(o===i||o===S.parse(o).root)return;let a;try{a=Fe(o)}catch(c){if(c.code==="ENOENT")return;throw c}if(Ee(t,a))throw new Error(fe(e,r,n));return Xo(e,t,o,n)}function Ee(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(ce||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function ke(e,t){const r=S.resolve(e).split(S.sep).filter(i=>i),n=S.resolve(t).split(S.sep).filter(i=>i);return r.reduce((i,o,a)=>i&&n[a]===o,!0)}function fe(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var k={checkPaths:ls,checkPathsSync:Ss,checkParentPaths:qo,checkParentPathsSync:Xo,isSrcSubdir:ke};const _s=G.mkdirsSync,hs=jo.utimesMillisSync;function Os(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&y.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);const{srcStat:n,destStat:i}=k.checkPathsSync(e,t,"copy");return k.checkParentPathsSync(e,n,t,"copy"),ds(i,e,t,r)}function ds(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=S.dirname(r);return u.existsSync(i)||_s(i),Jo(e,t,r,n)}function Jo(e,t,r,n){return n.filter&&!n.filter(t,r)?void 0:ys(e,t,r,n)}function ys(e,t,r,n){const i=n.dereference?u.statSync:u.lstatSync,o=i(t);if(o.isDirectory())return Ls(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return ms(o,e,t,r,n);if(o.isSymbolicLink())return ps(e,t,r,n)}function ms(e,t,r,n,i){return t?Ns(e,r,n,i):Qo(e,r,n,i)}function Ns(e,t,r,n){if(n.overwrite)return u.unlinkSync(r),Qo(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Qo(e,t,r,n){return u.copyFileSync(t,r),n.preserveTimestamps&&Is(e.mode,t,r),Me(r,e.mode)}function Is(e,t,r){return vs(e)&&Ts(r,e),Rs(t,r)}function vs(e){return(e&128)===0}function Ts(e,t){return Me(e,t|128)}function Me(e,t){return u.chmodSync(e,t)}function Rs(e,t){const r=u.statSync(e);return hs(t,r.atime,r.mtime)}function Ls(e,t,r,n,i){if(!t)return Ps(e.mode,r,n,i);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`);return zo(r,n,i)}function Ps(e,t,r,n){return u.mkdirSync(r),zo(t,r,n),Me(r,e)}function zo(e,t,r){u.readdirSync(e).forEach(n=>As(n,e,t,r))}function As(e,t,r,n){const i=S.join(t,e),o=S.join(r,e),{destStat:a}=k.checkPathsSync(i,o,"copy");return Jo(a,i,o,n)}function ps(e,t,r,n){let i=u.readlinkSync(t);if(n.dereference&&(i=S.resolve(y.cwd(),i)),e){let o;try{o=u.readlinkSync(r)}catch(a){if(a.code==="EINVAL"||a.code==="UNKNOWN")return u.symlinkSync(i,r);throw a}if(n.dereference&&(o=S.resolve(y.cwd(),o)),k.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(u.statSync(r).isDirectory()&&k.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return ws(i,r)}else return u.symlinkSync(i,r)}function ws(e,t){return u.unlinkSync(t),u.symlinkSync(e,t)}var Ds=Os,Zo={copySync:Ds};const Cs=p.fromPromise;function gs(e){return g.access(e).then(()=>!0).catch(()=>!1)}var j={pathExists:Cs(gs),pathExistsSync:g.existsSync};const Gs=G.mkdirs,Fs=j.pathExists,ks=jo.utimesMillis;function Ms(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&y.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),k.checkPaths(e,t,"copy",(i,o)=>{if(i)return n(i);const{srcStat:a,destStat:c}=o;k.checkParentPaths(e,a,t,"copy",E=>E?n(E):r.filter?ta(ea,c,e,t,r,n):ea(c,e,t,r,n))})}function ea(e,t,r,n,i){const o=S.dirname(r);Fs(o,(a,c)=>{if(a)return i(a);if(c)return Ue(e,t,r,n,i);Gs(o,E=>E?i(E):Ue(e,t,r,n,i))})}function ta(e,t,r,n,i,o){Promise.resolve(i.filter(r,n)).then(a=>a?e(t,r,n,i,o):o(),a=>o(a))}function Ue(e,t,r,n,i){return n.filter?ta(ra,e,t,r,n,i):ra(e,t,r,n,i)}function ra(e,t,r,n,i){const o=n.dereference?u.stat:u.lstat;o(t,(a,c)=>{if(a)return i(a);if(c.isDirectory())return Vs(c,e,t,r,n,i);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return Us(c,e,t,r,n,i);if(c.isSymbolicLink())return js(e,t,r,n,i)})}function Us(e,t,r,n,i,o){return t?Hs(e,r,n,i,o):na(e,r,n,i,o)}function Hs(e,t,r,n,i){if(n.overwrite)u.unlink(r,o=>o?i(o):na(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function na(e,t,r,n,i){u.copyFile(t,r,o=>o?i(o):n.preserveTimestamps?bs(e.mode,t,r,i):le(r,e.mode,i))}function bs(e,t,r,n){return Ys(e)?Bs(r,e,i=>i?n(i):ia(e,t,r,n)):ia(e,t,r,n)}function Ys(e){return(e&128)===0}function Bs(e,t,r){return le(e,t|128,r)}function ia(e,t,r,n){Ks(t,r,i=>i?n(i):le(r,e,n))}function le(e,t,r){return u.chmod(e,t,r)}function Ks(e,t,r){u.stat(e,(n,i)=>n?r(n):ks(t,i.atime,i.mtime,r))}function Vs(e,t,r,n,i,o){return t?t&&!t.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)):oa(r,n,i,o):xs(e.mode,r,n,i,o)}function xs(e,t,r,n,i){u.mkdir(r,o=>{if(o)return i(o);oa(t,r,n,a=>a?i(a):le(r,e,i))})}function oa(e,t,r,n){u.readdir(e,(i,o)=>i?n(i):aa(o,e,t,r,n))}function aa(e,t,r,n,i){const o=e.pop();return o?Ws(e,o,t,r,n,i):i()}function Ws(e,t,r,n,i,o){const a=S.join(r,t),c=S.join(n,t);k.checkPaths(a,c,"copy",(E,_)=>{if(E)return o(E);const{destStat:s}=_;Ue(s,a,c,i,f=>f?o(f):aa(e,r,n,i,o))})}function js(e,t,r,n,i){u.readlink(t,(o,a)=>{if(o)return i(o);if(n.dereference&&(a=S.resolve(y.cwd(),a)),e)u.readlink(r,(c,E)=>c?c.code==="EINVAL"||c.code==="UNKNOWN"?u.symlink(a,r,i):i(c):(n.dereference&&(E=S.resolve(y.cwd(),E)),k.isSrcSubdir(a,E)?i(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${E}'.`)):e.isDirectory()&&k.isSrcSubdir(E,a)?i(new Error(`Cannot overwrite '${E}' with '${a}'.`)):$s(a,r,i)));else return u.symlink(a,r,i)})}function $s(e,t,r){u.unlink(t,n=>n?r(n):u.symlink(e,t,r))}var qs=Ms;const Xs=p.fromCallback;var sa={copy:Xs(qs)};const re=y.platform==="win32";function ua(e){const t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach(r=>{e[r]=e[r]||u[r],r=r+"Sync",e[r]=e[r]||u[r]}),e.maxBusyTries=e.maxBusyTries||3}function He(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),m(e,"rimraf: missing path"),m.strictEqual(typeof e,"string","rimraf: path should be a string"),m.strictEqual(typeof r,"function","rimraf: callback function required"),m(t,"rimraf: invalid options argument provided"),m.strictEqual(typeof t,"object","rimraf: options should be object"),ua(t),ca(e,t,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<t.maxBusyTries){n++;const a=n*100;return setTimeout(()=>ca(e,t,i),a)}o.code==="ENOENT"&&(o=null)}r(o)})}function ca(e,t,r){m(e),m(t),m(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&re)return Ea(e,t,n,r);if(i&&i.isDirectory())return Se(e,t,n,r);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return re?Ea(e,t,o,r):Se(e,t,o,r);if(o.code==="EISDIR")return Se(e,t,o,r)}return r(o)})})}function Ea(e,t,r,n){m(e),m(t),m(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(o,a)=>{o?n(o.code==="ENOENT"?null:r):a.isDirectory()?Se(e,t,r,n):t.unlink(e,n)})})}function fa(e,t,r){let n;m(e),m(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?_e(e,t,r):t.unlinkSync(e)}function Se(e,t,r,n){m(e),m(t),m(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Js(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function Js(e,t,r){m(e),m(t),m(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let o=i.length,a;if(o===0)return t.rmdir(e,r);i.forEach(c=>{He(S.join(e,c),t,E=>{if(a)return;if(E)return r(a=E);--o===0&&t.rmdir(e,r)})})})}function la(e,t){let r;t=t||{},ua(t),m(e,"rimraf: missing path"),m.strictEqual(typeof e,"string","rimraf: path should be a string"),m(t,"rimraf: missing options"),m.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&re&&fa(e,t,n)}try{r&&r.isDirectory()?_e(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return re?fa(e,t,n):_e(e,t,n);if(n.code!=="EISDIR")throw n;_e(e,t,n)}}function _e(e,t,r){m(e),m(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")Qs(e,t);else if(n.code!=="ENOENT")throw n}}function Qs(e,t){if(m(e),m(t),t.readdirSync(e).forEach(r=>la(S.join(e,r),t)),re){const r=Date.now();do try{const n=t.rmdirSync(e,t);return n}catch{}while(Date.now()-r<500)}else{const r=t.rmdirSync(e,t);return r}}var Sa=He;He.sync=la;const zs=p.fromCallback;var ne={remove:zs(Sa),removeSync:Sa.sync};const Zs=p.fromCallback,_a=Zs(function(t,r){r=r||function(){},u.readdir(t,(n,i)=>{if(n)return G.mkdirs(t,r);i=i.map(a=>S.join(t,a)),o();function o(){const a=i.pop();if(!a)return r();ne.remove(a,c=>{if(c)return r(c);o()})}})});function ha(e){let t;try{t=u.readdirSync(e)}catch{return G.mkdirsSync(e)}t.forEach(r=>{r=S.join(e,r),ne.removeSync(r)})}var eu={emptyDirSync:ha,emptydirSync:ha,emptyDir:_a,emptydir:_a};const tu=p.fromCallback;function ru(e,t){function r(){u.writeFile(e,"",n=>{if(n)return t(n);t()})}u.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const o=S.dirname(e);u.stat(o,(a,c)=>{if(a)return a.code==="ENOENT"?G.mkdirs(o,E=>{if(E)return t(E);r()}):t(a);c.isDirectory()?r():u.readdir(o,E=>{if(E)return t(E)})})})}function nu(e){let t;try{t=u.statSync(e)}catch{}if(t&&t.isFile())return;const r=S.dirname(e);try{u.statSync(r).isDirectory()||u.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")G.mkdirsSync(r);else throw n}u.writeFileSync(e,"")}var he={createFile:tu(ru),createFileSync:nu};const iu=p.fromCallback,Oa=j.pathExists;function ou(e,t,r){function n(i,o){u.link(i,o,a=>{if(a)return r(a);r(null)})}Oa(t,(i,o)=>{if(i)return r(i);if(o)return r(null);u.lstat(e,a=>{if(a)return a.message=a.message.replace("lstat","ensureLink"),r(a);const c=S.dirname(t);Oa(c,(E,_)=>{if(E)return r(E);if(_)return n(e,t);G.mkdirs(c,s=>{if(s)return r(s);n(e,t)})})})})}function au(e,t){const r=u.existsSync(t);if(r)return;try{u.lstatSync(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}const n=S.dirname(t),i=u.existsSync(n);return i||G.mkdirsSync(n),u.linkSync(e,t)}var Oe={createLink:iu(ou),createLinkSync:au};const su=j.pathExists;function uu(e,t,r){if(S.isAbsolute(e))return u.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=S.dirname(t),i=S.join(n,e);return su(i,(o,a)=>o?r(o):a?r(null,{toCwd:i,toDst:e}):u.lstat(e,c=>c?(c.message=c.message.replace("lstat","ensureSymlink"),r(c)):r(null,{toCwd:e,toDst:S.relative(n,e)})))}}function cu(e,t){let r;if(S.isAbsolute(e)){if(r=u.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=S.dirname(t),i=S.join(n,e);if(r=u.existsSync(i),r)return{toCwd:i,toDst:e};if(r=u.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:S.relative(n,e)}}}var da={symlinkPaths:uu,symlinkPathsSync:cu};function Eu(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);u.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function fu(e,t){let r;if(t)return t;try{r=u.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var ya={symlinkType:Eu,symlinkTypeSync:fu};const lu=p.fromCallback,Su=G.mkdirs,_u=G.mkdirsSync,hu=da.symlinkPaths,Ou=da.symlinkPathsSync,du=ya.symlinkType,yu=ya.symlinkTypeSync,ma=j.pathExists;function mu(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,ma(t,(i,o)=>{if(i)return n(i);if(o)return n(null);hu(e,t,(a,c)=>{if(a)return n(a);e=c.toDst,du(c.toCwd,r,(E,_)=>{if(E)return n(E);const s=S.dirname(t);ma(s,(f,h)=>{if(f)return n(f);if(h)return u.symlink(e,t,_,n);Su(s,l=>{if(l)return n(l);u.symlink(e,t,_,n)})})})})})}function Nu(e,t,r){const n=u.existsSync(t);if(n)return;const i=Ou(e,t);e=i.toDst,r=yu(i.toCwd,r);const o=S.dirname(t),a=u.existsSync(o);return a||_u(o),u.symlinkSync(e,t,r)}var de={createSymlink:lu(mu),createSymlinkSync:Nu},Iu={createFile:he.createFile,createFileSync:he.createFileSync,ensureFile:he.createFile,ensureFileSync:he.createFileSync,createLink:Oe.createLink,createLinkSync:Oe.createLinkSync,ensureLink:Oe.createLink,ensureLinkSync:Oe.createLinkSync,createSymlink:de.createSymlink,createSymlinkSync:de.createSymlinkSync,ensureSymlink:de.createSymlink,ensureSymlinkSync:de.createSymlinkSync};function vu(e,t={}){const r=t.EOL||`
`,n=JSON.stringify(e,t?t.replacer:null,t.spaces);return n.replace(/\n/g,r)+r}function Tu(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var be={stringify:vu,stripBom:Tu};let J;try{J=u}catch(e){J=R}const{stringify:Na,stripBom:Ia}=be;async function Ru(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||J,n="throws"in t?t.throws:!0;let i=await p.fromCallback(r.readFile)(e,t);i=Ia(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(a){if(n)throw a.message=`${e}: ${a.message}`,a;return null}return o}const Lu=p.fromPromise(Ru);function Pu(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||J,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Ia(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function Au(e,t,r={}){const n=r.fs||J,i=Na(t,r);await p.fromCallback(n.writeFile)(e,i,r)}const pu=p.fromPromise(Au);function wu(e,t,r={}){const n=r.fs||J,i=Na(t,r);return n.writeFileSync(e,i,r)}const Du={readFile:Lu,readFileSync:Pu,writeFile:pu,writeFileSync:wu};var ye=Du,F={readJson:ye.readFile,readJsonSync:ye.readFileSync,writeJson:ye.writeFile,writeJsonSync:ye.writeFileSync};const Cu=p.fromCallback,gu=j.pathExists;function Gu(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=S.dirname(e);gu(i,(o,a)=>{if(o)return n(o);if(a)return u.writeFile(e,t,r,n);G.mkdirs(i,c=>{if(c)return n(c);u.writeFile(e,t,r,n)})})}function Fu(e,...t){const r=S.dirname(e);if(u.existsSync(r))return u.writeFileSync(e,...t);G.mkdirsSync(r),u.writeFileSync(e,...t)}var Ye={outputFile:Cu(Gu),outputFileSync:Fu};const{stringify:ku}=be,{outputFile:Mu}=Ye;async function Uu(e,t,r={}){const n=ku(t,r);await Mu(e,n,r)}var Hu=Uu;const{stringify:bu}=be,{outputFileSync:Yu}=Ye;function Bu(e,t,r){const n=bu(t,r);Yu(e,n,r)}var Ku=Bu;const Vu=p.fromPromise;F.outputJson=Vu(Hu),F.outputJsonSync=Ku,F.outputJSON=F.outputJson,F.outputJSONSync=F.outputJsonSync,F.writeJSON=F.writeJson,F.writeJSONSync=F.writeJsonSync,F.readJSON=F.readJson,F.readJSONSync=F.readJsonSync;var xu=F;const Wu=Zo.copySync,va=ne.removeSync,ju=G.mkdirpSync;function $u(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i}=k.checkPathsSync(e,t,"move");return k.checkParentPathsSync(e,i,t,"move"),ju(S.dirname(t)),qu(e,t,n)}function qu(e,t,r){if(r)return va(t),Ta(e,t,r);if(u.existsSync(t))throw new Error("dest already exists.");return Ta(e,t,r)}function Ta(e,t,r){try{u.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Xu(e,t,r)}}function Xu(e,t,r){const n={overwrite:r,errorOnExist:!0};return Wu(e,t,n),va(e)}var Ju=$u,Qu={moveSync:Ju};const zu=sa.copy,Ra=ne.remove,Zu=G.mkdirp,ec=j.pathExists;function tc(e,t,r,n){typeof r=="function"&&(n=r,r={});const i=r.overwrite||r.clobber||!1;k.checkPaths(e,t,"move",(o,a)=>{if(o)return n(o);const{srcStat:c}=a;k.checkParentPaths(e,c,t,"move",E=>{if(E)return n(E);Zu(S.dirname(t),_=>_?n(_):rc(e,t,i,n))})})}function rc(e,t,r,n){if(r)return Ra(t,i=>i?n(i):La(e,t,r,n));ec(t,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):La(e,t,r,n))}function La(e,t,r,n){u.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):nc(e,t,r,n):n())}function nc(e,t,r,n){const i={overwrite:r,errorOnExist:!0};zu(e,t,i,o=>o?n(o):Ra(e,n))}var ic=tc;const oc=p.fromCallback;var ac={move:oc(ic)},sc=Ie(function(e){e.exports={...g,...Zo,...sa,...eu,...Iu,...xu,...G,...Qu,...ac,...Ye,...j,...ne},Object.getOwnPropertyDescriptor(R,"promises")&&Object.defineProperty(e.exports,"promises",{get(){return R.promises}})});class uc{constructor(e){this.setRootDirectory(e),this.files=sc}setRootDirectory(e){this.rootDirectory=e||Ma()}async makeDirectory(e){try{return await this.files.mkdir(this.rootDirectory+e,{recursive:!0}),!0}catch(t){console.log("Error making directory at location",e,t)}return!1}async exists(e,t){try{let r=await this.files.stat(this.rootDirectory+e);return Boolean(r)}catch(r){t&&console.log("Error finding status of file at location",e,r)}return!1}async readFile(e){try{return await this.exists(e)?await this.files.readFile(this.rootDirectory+e):!1}catch(t){console.log("Error reading file at location",e,t)}return!1}async writeFile(e,t){try{return await this.files.outputFile(this.rootDirectory+e,t),!0}catch(r){console.log("Error writing file at location",e,r)}return!1}async removeFile(e){try{if(await this.exists(e))return await this.files.unlink(this.rootDirectory+e),!0}catch(t){console.log("Error removing file at location",e,t)}return!1}async removeDirectory(e){try{if(await this.exists(e))return await this.files.rmdir(this.rootDirectory+e),!0}catch(t){console.log("Error removing file at location",e,t)}return!1}async getFiles(e){try{return await this._getAllFilesIn(this.rootDirectory+e)}catch(t){console.log("Error getting files at location",e,t)}return[]}async _getAllFilesIn(e){let t=[];if(!await this.exists(e))return[];let r=await this.files.ls(e);for(let n of r)if(n.isFile()){let i=await this.files.readFile(n.path);t.push(await i.text())}return t}async getRecursively(e){try{return await this._getRecursively(this.rootDirectory+e)}catch(t){console.log("Error getting files at location",e,t)}return[]}async _getRecursively(e){let t=await this.files.readdir(e);return Promise.all(t.map(r=>path.join(e,r)).map(async r=>{let n=await this.files.lstat(r);return n.isDirectory()?this.getRecursivelygetFiles(r):r}))}}export default uc;
