import m from"./BodySegmentation.js";export default async function u(){try{const t=320,r=240,e=document.createElement("video");e.width=t,e.height=r;const o=document.createElement("canvas");o.width=t,o.height=r;const s=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),d=s.getAudioTracks();"srcObject"in e?e.srcObject=s:e.src=window.URL.createObjectURL(s),e.play(),e.volume=0;const n=o.captureStream(60),c=[];c.push(new m),c.forEach(a=>{a.load()});async function i(){o.getContext("2d").clearRect(0,0,t,r),o.getContext("2d").drawImage(e,0,0,t,r),c.forEach(a=>{a.process({width:t,height:r,video:e,canvas:o})}),requestAnimationFrame(i)}return i(),d.forEach(a=>{n.addTrack(a)}),n}catch(t){console.log(t)}}
