import{p as Br}from"./process-e9e98960.js";import{e as X,K as Xt}from"./index-39e7ae42.js";import{c as se,a as Qt}from"./_commonjsHelpers-c99fd594.js";import{c as ce,u as en}from"./constants-83de7adf.js";import{f as de}from"./from-string-5d106fde.js";import{t as ne}from"./to-string-b6e14ed9.js";var rn=function(e){var r=function(o){var l=o.indexOf("//");return l>-1?o.slice(0,l):o},t=function(){var o=!1;return function(l){return l==="/*"?(o=!0,!1):l==="*/"?(o=!1,!1):!o}},a=function(o){return o.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(a).filter(Boolean).map(r).map(a).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter(t())},tn=536870911,nn=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],Yr=function(e){for(var r={};e.length;)switch(e[0]){case"[":case",":e.shift();var t=e.shift();if(t==="("&&(t=e.shift(),e.shift()),e[0]!=="=")throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),e[0]==="]")throw new Error("Unexpected ] in field option");r[t]=e.shift();break;case"]":return e.shift(),r;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},Fr=function(e){for(var r={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),r.tag=Number(e.shift());break;case"map":if(r.type="map",r.map={from:null,to:null},e.shift(),e[0]!=="<")throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),r.map.from=e.shift(),e[0]!==",")throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),r.map.to=e.shift(),e[0]!==">")throw new Error("Unexpected token in map type: "+e[0]);e.shift(),r.name=e.shift();break;case"repeated":case"required":case"optional":var t=e.shift();r.required=t==="required",r.repeated=t==="repeated",r.type=e.shift(),r.name=e.shift();break;case"[":r.options=Yr(e);break;case";":if(r.name===null)throw new Error("Missing field name");if(r.type===null)throw new Error("Missing type in message field: "+r.name);if(r.tag===-1)throw new Error("Missing tag number in message field: "+r.name);return e.shift(),r;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},an=function(e){for(var r={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":r.fields.push(Fr(e));break;case"enum":r.enums.push(Zr(e));break;case"message":r.messages.push(Or(e));break;case"extensions":r.extensions=on(e);break;case"oneof":e.shift();var t=e.shift();if(e[0]!=="{")throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();e[0]!=="}";){e.unshift("optional");var a=Fr(e);a.oneof=t,r.fields.push(a)}e.shift();break;case"extend":r.extends.push(Wr(e));break;case";":e.shift();break;case"reserved":for(e.shift();e[0]!==";";)e.shift();break;case"option":var o=be(e);if(r.options[o.name]!==void 0)throw new Error("Duplicate option "+o.name);r.options[o.name]=o.value;break;default:e.unshift("optional"),r.fields.push(Fr(e))}return r},Wr=function(e){var r={name:e[1],message:Or(e)};return r},on=function(e){e.shift();var r=Number(e.shift());if(isNaN(r))throw new Error("Invalid from in extensions definition");if(e.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var t=e.shift();if(t==="max"&&(t=tn),t=Number(t),isNaN(t))throw new Error("Invalid to in extensions definition");if(e.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:r,to:t}},Or=function(e){e.shift();var r=1,t=[],a={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="{"?r++:e[0]==="}"&&r--,!r)return e.shift(),t=an(t),a.enums=t.enums,a.messages=t.messages,a.fields=t.fields,a.extends=t.extends,a.extensions=t.extensions,a.options=t.options,a;t.push(e.shift())}if(r)throw new Error("No closing tag for message")},sn=function(e){e.shift();var r=e.shift();if(e[0]!==";")throw new Error("Expected ; but found "+e[0]);return e.shift(),r},cn=function(e){if(e.shift(),e[0]!=="=")throw new Error("Expected = but found "+e[0]);e.shift();var r=e.shift();switch(r){case'"proto2"':r=2;break;case'"proto3"':r=3;break;default:throw new Error("Expected protobuf syntax version but found "+r)}if(e[0]!==";")throw new Error("Expected ; but found "+e[0]);return e.shift(),r},un=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if(e[1]!=="=")throw new Error("Expected = but found "+e[1]);if(e[3]!==";"&&e[3]!=="[")throw new Error("Expected ; or [ but found "+e[1]);var r=e.shift();e.shift();var t={value:null,options:{}};return t.value=Number(e.shift()),e[0]==="["&&(t.options=Yr(e)),e.shift(),{name:r,val:t}},Zr=function(e){e.shift();var r={},t={name:e.shift(),values:{},options:{}};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),t;if(e[0]==="option"){r=be(e),t.options[r.name]=r.value;continue}var a=un(e);t.values[a.name]=a.val}throw new Error("No closing tag for enum")},be=function(e){for(var r=null,t=null,a=function(l){return l==="true"?!0:l==="false"?!1:l.replace(/^"+|"+$/gm,"")};e.length;){if(e[0]===";")return e.shift(),{name:r,value:t};switch(e[0]){case"option":e.shift();var o=e[0]==="(";if(o&&e.shift(),r=e.shift(),o){if(e[0]!==")")throw new Error("Expected ) but found "+e[0]);e.shift()}e[0][0]==="."&&(r+=e.shift());break;case"=":if(e.shift(),r===null)throw new Error("Expected key for option with value: "+e[0]);if(t=a(e.shift()),r==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(t))throw new Error("Unexpected value for option optimize_for: "+t);t==="{"&&(t=Ir(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},Ir=function(e){for(var r=function(u){return u==="true"?!0:u==="false"?!1:u.replace(/^"+|"+$/gm,"")},t={};e.length;){if(e[0]==="}")return e.shift(),t;var a=e[0]==="(";a&&e.shift();var o=e.shift();if(a){if(e[0]!==")")throw new Error("Expected ) but found "+e[0]);e.shift()}var l=null;switch(e[0]){case":":if(t[o]!==void 0)throw new Error("Duplicate option map key "+o);e.shift(),l=r(e.shift()),l==="{"&&(l=Ir(e)),t[o]=l,e[0]===";"&&e.shift();break;case"{":if(e.shift(),l=Ir(e),t[o]===void 0&&(t[o]=[]),!Array.isArray(t[o]))throw new Error("Duplicate option map key "+o);t[o].push(l);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},fn=function(e){e.shift();var r=e.shift().replace(/^"+|"+$/gm,"");if(e[0]!==";")throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),r},hn=function(e){e.shift();var r={name:e.shift(),methods:[],options:{}};if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),r;switch(e[0]){case"option":var t=be(e);if(r.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);r.options[t.name]=t.value;break;case"rpc":r.methods.push(ln(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},ln=function(e){e.shift();var r={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(e[0]!=="(")throw new Error("Expected ( but found "+e[0]);if(e.shift(),e[0]==="stream"&&(e.shift(),r.client_streaming=!0),r.input_type=e.shift(),e[0]!==")")throw new Error("Expected ) but found "+e[0]);if(e.shift(),e[0]!=="returns")throw new Error("Expected returns but found "+e[0]);if(e.shift(),e[0]!=="(")throw new Error("Expected ( but found "+e[0]);if(e.shift(),e[0]==="stream"&&(e.shift(),r.server_streaming=!0),r.output_type=e.shift(),e[0]!==")")throw new Error("Expected ) but found "+e[0]);if(e.shift(),e[0]===";")return e.shift(),r;if(e[0]!=="{")throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if(e[0]==="}")return e.shift(),e[0]===";"&&e.shift(),r;if(e[0]==="option"){var t=be(e);if(r.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);r.options[t.name]=t.value}else throw new Error("Unexpected token in rpc options: "+e[0])}throw new Error("No closing tag for rpc")},dn=function(e){for(var r=rn(e.toString()),t=0;t<r.length;t++)if(/^("|')([^'"]*)$/.test(r[t])){var a;for(r[t].length===1?a=t+1:a=t,a;a<r.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(r[a])){r=r.slice(0,t).concat(r.slice(t,a+1).join("")).concat(r.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},l=!0;r.length;){switch(r[0]){case"package":o.package=sn(r);break;case"syntax":if(!l)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=cn(r);break;case"message":o.messages.push(Or(r));break;case"enum":o.enums.push(Zr(r));break;case"option":var u=be(r);if(o.options[u.name])throw new Error("Duplicate option "+u.name);o.options[u.name]=u.value;break;case"import":o.imports.push(fn(r));break;case"extend":o.extends.push(Wr(r));break;case"service":o.services||(o.services=[]),o.services.push(hn(r));break;default:throw new Error("Unexpected token: "+r[0])}l=!1}return o.extends.forEach(function(k){o.messages.forEach(function(x){x.name===k.name&&k.message.fields.forEach(function(s){if(!x.extensions||s.tag<x.extensions.from||s.tag>x.extensions.to)throw new Error(x.name+" does not declare "+s.tag+" as an extension number");x.fields.push(s)})})}),o.messages.forEach(function(k){k.fields.forEach(function(x){var s,h,d,f;function b(i){return i.name===x.type}function U(i){return i.name===d}if(x.options&&x.options.packed==="true"&&nn.indexOf(x.type)===-1){if(x.type.indexOf(".")===-1){if(k.enums&&k.enums.some(b))return}else{if(s=x.type.split("."),s.length>2)throw new Error("what is this?");if(h=s[0],d=s[1],o.messages.some(function(i){if(i.name===h)return f=i,i}),f&&f.enums&&f.enums.some(U))return}throw new Error("Fields of type "+x.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),o},Xr=dn,Qr=function(e,r){var t=e.repeated?"repeated":e.required?"required":"optional";e.type==="map"&&(t="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(t="");var a=Object.keys(e.options||{}).map(function(o){return o+" = "+e.options[o]}).join(",");return a&&(a=" ["+a+"]"),r.push((t?t+" ":"")+(e.map==="map"?"":e.type+" ")+e.name+" = "+e.tag+a+";"),r},et=function(e,r){r.push("message "+e.name+" {"),e.options||(e.options={}),pe(e.options,r),e.enums||(e.enums=[]),e.enums.forEach(function(a){r.push(rt(a,[]))}),e.messages||(e.messages=[]),e.messages.forEach(function(a){r.push(et(a,[]))});var t={};return e.fields||(e.fields=[]),e.fields.forEach(function(a){a.oneof?(t[a.oneof]||(t[a.oneof]=[]),t[a.oneof].push(Qr(a,[]))):r.push(Qr(a,[]))}),Object.keys(t).forEach(function(a){t[a].unshift("oneof "+a+" {"),t[a].push("}"),r.push(t[a])}),r.push("}",""),r},rt=function(e,r){r.push("enum "+e.name+" {"),e.options||(e.options={});var t=pe(e.options,[]);return t.length>1&&r.push(t.slice(0,-1)),Object.keys(e.values).map(function(a){var o=bn(e.values[a]);r.push([a+" = "+o+";"])}),r.push("}",""),r},bn=function(e,r){var t=Object.keys(e.options||{}).map(function(o){return o+" = "+e.options[o]}).join(",");t&&(t=" ["+t+"]");var a=e.value+t;return a},pe=function(e,r){var t=Object.keys(e);return t.forEach(function(a){var o=e[a];~a.indexOf(".")&&(a="("+a+")");var l=typeof o;l==="object"?(o=Dr(o,[]),o.length&&r.push("option "+a+" = {",o,"};")):(l==="string"&&a!=="optimize_for"&&(o='"'+o+'"'),r.push("option "+a+" = "+o+";"))}),t.length>0&&r.push(""),r},Dr=function(e,r){var t=Object.keys(e);return t.forEach(function(a){var o=e[a],l=typeof o;l==="object"?Array.isArray(o)?o.forEach(function(u){u=Dr(u,[]),u.length&&r.push(a+" {",u,"}")}):(o=Dr(o,[]),o.length&&r.push(a+" {",o,"}")):(l==="string"&&(o='"'+o+'"'),r.push(a+": "+o))}),r},pn=function(e,r){return r.push("service "+e.name+" {"),e.options||(e.options={}),pe(e.options,r),e.methods||(e.methods=[]),e.methods.forEach(function(t){r.push(gn(t,[]))}),r.push("}",""),r},gn=function(e,r){var t="rpc "+e.name+"(";e.client_streaming&&(t+="stream "),t+=e.input_type+") returns (",e.server_streaming&&(t+="stream "),t+=e.output_type+")",e.options||(e.options={});var a=pe(e.options,[]);return a.length>1?r.push(t+" {",a.slice(0,-1),"}"):r.push(t+";"),r},tt=function(e){return function(r){return Array.isArray(r)?r.map(tt(e+"  ")).join(`
`):e+r}},xn=function(e){var r=[];return r.push('syntax = "proto'+e.syntax+'";',""),e.package&&r.push("package "+e.package+";",""),e.options||(e.options={}),pe(e.options,r),e.enums||(e.enums=[]),e.enums.forEach(function(t){rt(t,r)}),e.messages||(e.messages=[]),e.messages.forEach(function(t){et(t,r)}),e.services&&e.services.forEach(function(t){pn(t,r)}),r.map(tt("")).join(`
`)},wr=Xr,mn=Xr,vn=xn;wr.parse=mn,wr.stringify=vn;function yn(e,r,t,a){return r.bytes=t.bytes=0,{type:e,encode:r,decode:t,encodingLength:a}}var J=yn,wn=at,nt=128,kn=127,En=~kn,An=Math.pow(2,31);function at(e,r,t){r=r||[],t=t||0;for(var a=t;e>=An;)r[t++]=e&255|nt,e/=128;for(;e&En;)r[t++]=e&255|nt,e>>>=7;return r[t]=e|0,at.bytes=t-a+1,r}var Un=Tr,Cn=128,it=127;function Tr(e,r){var t=0,r=r||0,a=0,o=r,l,u=e.length;do{if(o>=u)throw Tr.bytes=0,new RangeError("Could not decode varint");l=e[o++],t+=a<28?(l&it)<<a:(l&it)*Math.pow(2,a),a+=7}while(l>=Cn);return Tr.bytes=o-r,t}var _n=Math.pow(2,7),Sn=Math.pow(2,14),Rn=Math.pow(2,21),Bn=Math.pow(2,28),Fn=Math.pow(2,35),On=Math.pow(2,42),In=Math.pow(2,49),Dn=Math.pow(2,56),Tn=Math.pow(2,63),Nn=function(e){return e<_n?1:e<Sn?2:e<Rn?3:e<Bn?4:e<Fn?5:e<On?6:e<In?7:e<Dn?8:e<Tn?9:10},C={encode:wn,decode:Un,encodingLength:Nn};function ot(e){return e.byteLength}function Ln(e){const r=ot(e);return C.encodingLength(r)+r}function st(e,r,t,a){const o=a,l=ot(e);C.encode(l,r,a),a+=C.encode.bytes,r.set(e,a),a+=l,st.bytes=a-o}function ct(e,r,t){const a=t,o=C.decode(e,t);t+=C.decode.bytes;const l=e.slice(t,t+o);return t+=l.length,ct.bytes=t-a,l}var Mn=J(2,st,ct,Ln);function Hn(e){const r=de(e).byteLength;return C.encodingLength(r)+r}function ut(e,r,t,a){const o=a,l=de(e).byteLength;C.encode(l,r,a,"utf-8"),a+=C.encode.bytes;const u=de(e);r.set(u,a),a+=u.length,ut.bytes=a-o}function ft(e,r,t){const a=t,o=C.decode(e,t);t+=C.decode.bytes;const l=ne(e.subarray(t,t+o));return t+=o,ft.bytes=t-a,l}var Pn=J(2,ut,ft,Hn);function $n(){return 1}function ht(e,r,t,a){r[a]=e?1:0,ht.bytes=1}function lt(e,r,t){const a=e[t]>0;return lt.bytes=1,a}var jn=J(0,ht,lt,$n);function dt(e,r,t,a){C.encode(e<0?e+4294967296:e,r,a),dt.bytes=C.encode.bytes}function bt(e,r,t){const a=C.decode(e,t);return bt.bytes=C.decode.bytes,a>2147483647?a-4294967296:a}function Kn(e){return C.encodingLength(e<0?e+4294967296:e)}var zn=J(0,dt,bt,Kn);function Nr(e,r,t,a){if(e<0){const o=a+9;for(C.encode(e*-1,r,a),a+=C.encode.bytes-1,r[a]=r[a]|128;a<o-1;)a++,r[a]=255;r[o]=1,Nr.bytes=10}else C.encode(e,r,a),Nr.bytes=C.encode.bytes}function Lr(e,r,t){let a=C.decode(e,t);if(a>=Math.pow(2,63)){let o=9;for(;e[t+o-1]===255;)o--;o=o||9;const l=e.subarray(t,t+o);l[o-1]=l[o-1]&127,a=-1*C.decode(l,0),Lr.bytes=10}else Lr.bytes=C.decode.bytes;return a}function Vn(e){return e<0?10:C.encodingLength(e)}var Gn=J(0,Nr,Lr,Vn),qn=function e(r,t,a){r=r>=0?r*2:r*-2-1;var o=C.encode(r,t,a);return e.bytes=C.encode.bytes,o},Jn=function e(r,t){var a=C.decode(r,t);return e.bytes=C.decode.bytes,a&1?(a+1)/-2:a/2},Yn=function(e){return C.encodingLength(e>=0?e*2:e*-2-1)},ge={encode:qn,decode:Jn,encodingLength:Yn};function pt(e,r,t,a){ge.encode(e,r,a),pt.bytes=ge.encode.bytes}function gt(e,r,t){const a=ge.decode(e,t);return gt.bytes=ge.decode.bytes,a}var Wn=J(0,pt,gt,ge.encodingLength);function xt(e,r,t,a){C.encode(e,r,a),xt.bytes=C.encode.bytes}function mt(e,r,t){const a=C.decode(e,t);return mt.bytes=C.decode.bytes,a}var Zn=J(0,xt,mt,C.encodingLength);function Xn(){return 8}function vt(e,r,t,a){for(const o of e)r[a]=o,a++;vt.bytes=8}function yt(e,r,t){const a=e.slice(t,t+8);return yt.bytes=8,a}var Qn=J(1,vt,yt,Xn);function ea(){return 8}function wt(e,r,t,a){t.setFloat64(a,e,!0),wt.bytes=8}function kt(e,r,t){const a=r.getFloat64(t,!0);return kt.bytes=8,a}var ra=J(1,wt,kt,ea);function ta(e){return 4}function Et(e,r,t,a){t.setUint32(a,e,!0),Et.bytes=4}function At(e,r,t){const a=r.getUint32(t,!0);return At.bytes=4,a}var na=J(5,Et,At,ta);function aa(e){return 4}function Ut(e,r,t,a){t.setInt32(a,e,!0),Ut.bytes=4}function Ct(e,r,t){const a=r.getInt32(t,!0);return Ct.bytes=4,a}var ia=J(5,Ut,Ct,aa);function oa(){return 4}function _t(e,r,t,a){t.setFloat32(a,e,!0),_t.bytes=4}function St(e,r,t){const a=r.getFloat32(t,!0);return St.bytes=4,a}var sa=J(5,_t,St,oa),Mr=se(function(e,r){r.make=J,r.bytes=Mn,r.string=Pn,r.bool=jn,r.int32=zn,r.int64=Gn,r.sint32=r.sint64=Wn,r.uint32=r.uint64=r.enum=r.varint=Zn,r.fixed64=r.sfixed64=Qn,r.double=ra,r.fixed32=na,r.sfixed32=ia,r.float=sa}),ca=function(e){return e!=null&&(typeof e!="number"||!isNaN(e))},Hr={defined:ca};const ua=Hr.defined;function Rt(e){return`${e.substring(0,1).toUpperCase()}${e.substring(1)}`}function Bt(e,r,t,a){if(Object.prototype.hasOwnProperty.call(e,r))return;const o=Rt(r);Object.defineProperties(e,{[r]:{enumerable:!0,configurable:!0,set:l=>{t=l},get:()=>t===void 0?a:t},[`has${o}`]:{configurable:!0,value:()=>t!==void 0},[`set${o}`]:{configurable:!0,value:l=>{t=l}},[`get${o}`]:{configurable:!0,value:()=>t},[`clear${o}`]:{configurable:!0,value:()=>{t=void 0,e[r]=void 0}}})}function fa(e,r,t){const a=[],o={},l=[],u=[];for(var k=0;k<t.length;k++){const s=e.fields[k];o[s.tag]=k;const h=s.options&&s.options.default,d=r(s.type,e.id,!1);u[k]=[h,d&&d.values],e.fields[k].packed=s.repeated&&s.options&&s.options.packed&&s.options.packed!=="false",s.required&&a.push(s.name),s.oneof&&l.push(s.name)}function x(s,h,d,f,b,U,i){const c=h.name;if(h.oneof){const v=Object.keys(d);for(var y=0;y<v.length;y++)if(l.indexOf(v[y])>-1){const p=Rt(v[y]);delete d[`has${p}`],delete d[`get${p}`],delete d[`set${p}`],delete d[`clear${p}`],delete d[v[y]]}}let L;if(s.message){const v=C.decode(f,U);U+=C.decode.bytes;const p=s.decode(f,b,U,U+v);h.map?(L=d[c]||{},L[p.key]=p.value):h.repeated?(L=d[c]||[],L.push(p)):L=p}else h.repeated?(L=d[c]||[],L.push(s.decode(f,b,U))):L=s.decode(f,b,U);return Bt(d,c,L),U+=s.decode.bytes,U}return function s(h,d,f,b){if(f==null&&(f=0),b==null&&(b=h.length),!(b<=h.length&&f<=h.length))throw new Error("Decoded message is not valid");d||(d=new DataView(h.buffer,h.byteOffset,h.byteLength));for(var U=f,i={},c;;){if(b<=f){var y="",L=0;for(L=0;L<a.length;L++)if(y=a[L],!ua(i[y]))throw new Error("Decoded message is not valid, missing required field: "+y);var v,p;for(L=0;L<t.length;L++){c=e.fields[L],p=u[L][0],v=u[L][1],y=c.name;let Z;if(Object.prototype.hasOwnProperty.call(i,y))continue;var E=!1;if(c.oneof){for(var S=Object.keys(i),F=0;F<S.length;F++)if(l.indexOf(S[F])>-1){E=!0;break}}if(E)continue;v?c.repeated?p=[]:(p=p&&v[p]?v[p].value:v[Object.keys(v)[0]].value,p=parseInt(p||0,10)):(Z=la(c),p=da(c,p)),Bt(i,y,p,Z)}return s.bytes=f-U,i}var N=C.decode(h,f);f+=C.decode.bytes;var A=N>>3,H=o[A];if(H==null){f=ha(N&7,h,d,f);continue}var ee=t[H];if(c=e.fields[H],c.packed){var re=C.decode(h,f);for(f+=C.decode.bytes,re+=f;f<re;)f=x(ee,c,i,h,d,f)}else f=x(ee,c,i,h,d,f)}}}var ha=function(e,r,t,a){switch(e){case 0:return C.decode(r,a),a+C.decode.bytes;case 1:return a+8;case 2:var o=C.decode(r,a);return a+C.decode.bytes+o;case 3:case 4:throw new Error("Groups are not supported");case 5:return a+4;default:throw new Error("Unknown wire type: "+e)}},la=function(e){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},da=function(e,r){if(r===void 0)return r;switch(e.type){case"bool":return r==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(r,10);default:return r}},ba=fa,Ft=Hr.defined;function pa(e,r,t,a,o){const l=Object.keys(a),u=t.length,k={};for(let s=0;s<u;s++){k[s]={p:C.encode(e.fields[s].tag<<3|2),h:C.encode(e.fields[s].tag<<3|t[s].type)};const h=e.fields[s];e.fields[s].packed=h.repeated&&h.options&&h.options.packed&&h.options.packed!=="false"}function x(s,h,d,f,b,U,i){let c=0;if(!U)for(c=0;c<f.length;c++)s[d++]=f[c];return b.message&&(C.encode(b.encodingLength(i),s,d),d+=C.encode.bytes),b.encode(i,s,h,d),d+b.encode.bytes}return function s(h,d,f,b=0){d==null&&(d=new Uint8Array(o(h))),f==null&&(f=new DataView(d.buffer,d.byteOffset,d.byteLength));const U=b,i=Object.keys(h);let c=0,y=!1;for(c=0;c<l.length;c++){const L=l[c],v=a[c];if(i.indexOf(v)>-1){if(y)throw new Error("only one of the properties defined in oneof "+L+" can be set");y=!0}}for(c=0;c<u;c++){const L=t[c],v=e.fields[c];let p=h[v.name],E=0;if(!Ft(p)){if(v.required)throw new Error(v.name+" is required");continue}const S=k[c].p,F=k[c].h,N=v.packed;if(v.map){const A=Object.keys(p);for(E=0;E<A.length;E++)A[E]={key:A[E],value:p[A[E]]};p=A}if(N){let A=0;for(E=0;E<p.length;E++){if(!Object.prototype.hasOwnProperty.call(p,E))continue;A+=L.encodingLength(p[E])}if(A){for(E=0;E<F.length;E++)d[b++]=S[E];C.encode(A,d,b),b+=C.encode.bytes}}if(v.repeated){let A;for(E=0;E<p.length;E++){if(A=p[E],!Ft(A))continue;b=x(d,f,b,F,L,N,A)}}else b=x(d,f,b,F,L,N,p)}return s.bytes=b-U,d}}var ga=pa,kr=Hr.defined;function xa(e,r,t){const a=Object.keys(t),o=r.length,l=new Array(o);for(let u=0;u<e.fields.length;u++){l[u]=C.encodingLength(e.fields[u].tag<<3|r[u].type);const k=e.fields[u];e.fields[u].packed=k.repeated&&k.options&&k.options.packed&&k.options.packed!=="false"}return function(k){let x=0,s=0,h=0;for(s=0;s<a.length;s++){const d=a[s],f=t[d];let b=!1;for(h=0;h<f.length;h++)if(kr(k[f[h]])){if(b)throw new Error("only one of the properties defined in oneof "+d+" can be set");b=!0}}for(s=0;s<o;s++){const d=r[s],f=e.fields[s];let b=k[f.name];const U=l[s];let i;if(!kr(b)){if(f.required)throw new Error(f.name+" is required");continue}if(f.map){const c=Object.keys(b);for(h=0;h<c.length;h++)c[h]={key:c[h],value:b[c[h]]};b=c}if(f.packed){let c=0;for(h=0;h<b.length;h++){if(!kr(b[h]))continue;i=d.encodingLength(b[h]),c+=i,d.message&&(c+=C.encodingLength(i))}c&&(x+=U+c+C.encodingLength(c))}else if(f.repeated)for(h=0;h<b.length;h++){if(!kr(b[h]))continue;i=d.encodingLength(b[h]),x+=U+i+(d.message?C.encodingLength(i):0)}else i=d.encodingLength(b),x+=U+i+(d.message?C.encodingLength(i):0)}return x}}var ma=xa;const va=function(e){if(!e)return null;const r={};return Object.keys(e).forEach(function(t){r[t]=e[t].value}),r};var ya=function(e,r){const t={},a={},o={},l=function(s,h){s.enums&&s.enums.forEach(function(d){d.id=h+(h?".":"")+d.name,a[d.id]=d,l(d,d.id)}),s.messages&&s.messages.forEach(function(d){d.id=h+(h?".":"")+d.name,t[d.id]=d,d.fields.forEach(function(f){if(!f.map)return;const b="Map_"+f.map.from+"_"+f.map.to,U={name:b,enums:[],messages:[],fields:[{name:"key",type:f.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:f.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:h+(h?".":"")+b};t[U.id]||(t[U.id]=U,s.messages.push(U)),f.type=b,f.repeated=!0}),l(d,d.id)})};l(e,"");const u=function(s){const h=Object.keys(s.values||[]).map(function(b){return parseInt(s.values[b].value,10)}),d=function b(U,i,c,y){if(!h.length||h.indexOf(U)===-1)throw new Error("Invalid enum value: "+U);return C.encode(U,i,y),b.bytes=C.encode.bytes,i},f=function b(U,i,c){var y=C.decode(U,c);if(!h.length||h.indexOf(y)===-1)throw new Error("Invalid enum value: "+y);return b.bytes=C.decode.bytes,y};return Mr.make(0,d,f,C.encodingLength)},k=function(s,h){s.messages.forEach(function(c){h[c.name]=x(c.name,s.id)}),s.enums.forEach(function(c){h[c.name]=va(c.values)}),h.type=2,h.message=!0,h.name=s.name;const d={};s.fields.forEach(function(c){if(!c.oneof)return;d[c.oneof]||(d[c.oneof]=[]),d[c.oneof].push(c.name)});const f=s.fields.map(function(c){return x(c.type,s.id)}),b=ma(s,f,d),U=ga(s,x,f,d,b),i=ba(s,x,f);return U.bytes=i.bytes=0,h.buffer=!0,h.encode=U,h.decode=i,h.encodingLength=b,h},x=function(s,h,d){if(r&&r[s])return r[s];if(Mr[s])return Mr[s];const f=(h?h+"."+s:s).split(".").map(function(U,i,c){return c.slice(0,i).concat(s).join(".")}).reverse().reduce(function(U,i){return U||t[i]||a[i]},null);if(d===!1)return f;if(!f)throw new Error("Could not resolve "+s);if(f.values)return u(f);const b=o[f.id]||k(f,o[f.id]={});return b};return(e.enums||[]).concat((e.messages||[]).map(function(s){return x(s.id)}))},wa=function(e){if(!e)return null;var r={};return Object.keys(e).forEach(function(t){r[t]=e[t].value}),r},Ot=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var t=typeof e=="object"&&!(e instanceof Uint8Array)?e:wr.parse(e),a=function(){var o=this;ya(t,r.encodings||{}).forEach(function(l){o[l.name]=wa(l.values)||l})};return a.prototype.toString=function(){return wr.stringify(t)},a.prototype.toJSON=function(){return t},new a},ka=`// Record represents a dht record that contains a value
// for a key value pair
message Record {
  // The key that references this record
  bytes key = 1;

  // The actual value this record is storing
  bytes value = 2;

  // Note: These fields were removed from the Record message
  // hash of the authors public key
  // optional bytes author = 3;
  // A PKI signature for the key+value+author
  // optional bytes signature = 4;

  // Time the record was received, set by receiver
  optional string timeReceived = 5;
}`,Ea=e=>{const r=e.getUTCFullYear(),t=String(e.getUTCMonth()+1).padStart(2,"0"),a=String(e.getUTCDate()).padStart(2,"0"),o=String(e.getUTCHours()).padStart(2,"0"),l=String(e.getUTCMinutes()).padStart(2,"0"),u=String(e.getUTCSeconds()).padStart(2,"0"),k=e.getUTCMilliseconds(),x=k*1e3*1e3;return`${r}-${t}-${a}T${o}:${l}:${u}.${x}Z`},Aa=e=>{const r=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),t=String(e).trim().match(r);if(!t)throw new Error("Invalid format");const a=parseInt(t[1],10),o=parseInt(t[2],10)-1,l=parseInt(t[3],10),u=parseInt(t[4],10),k=parseInt(t[5],10),x=parseInt(t[6],10),s=parseInt(t[7].slice(0,-6),10);return new Date(Date.UTC(a,o,l,u,k,x,s))},It={toRFC3339:Ea,parseRFC3339:Aa};const Dt=Ot(ka).Record;class Pr{constructor(e,r,t){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=r,this.timeReceived=t}serialize(){return Dt.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&It.toRFC3339(this.timeReceived)}}static deserialize(e){const r=Dt.decode(e);return Pr.fromDeserialized(r)}static fromDeserialized(e){let r;e.timeReceived&&(r=It.parseRFC3339(e.timeReceived));const t=new Pr(e.key,e.value,r);return t}}var Ua=Pr,$r=se(function(e,r){const{encodeText:t,decodeText:a,concat:o}=en;function l(f,b){if(!b)throw new Error("requires an encoded Uint8Array");const{name:U,codeBuf:i}=h(f);return s(U,b),o([i,b],i.length+b.length)}function u(f,b){const U=h(f),i=t(U.encode(b));return o([U.codeBuf,i],U.codeBuf.length+i.length)}function k(f){f instanceof Uint8Array&&(f=a(f));const b=f[0];["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(b)&&(f=f.toLowerCase());const U=h(f[0]);return U.decode(f.substring(1))}function x(f){if(f instanceof Uint8Array&&(f=a(f)),Object.prototype.toString.call(f)!=="[object String]")return!1;try{const b=h(f[0]);return b.name}catch(b){return!1}}function s(f,b){const U=h(f);U.decode(a(b))}function h(f){if(ce.names[f])return ce.names[f];if(ce.codes[f])return ce.codes[f];throw new Error(`Unsupported encoding: ${f}`)}function d(f){return f instanceof Uint8Array&&(f=a(f)),h(f[0])}r=e.exports=l,r.encode=u,r.decode=k,r.isEncoded=x,r.encoding=h,r.encodingFromData=d,r.names=Object.freeze(ce.names),r.codes=Object.freeze(ce.codes)});const Ca=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var _a={names:Ca};function Sa(e,r){r||(r=e.reduce((o,l)=>o+l.length,0));const t=new Uint8Array(r);let a=0;for(const o of e)t.set(o,a),a+=o.length;return t}var Tt=Sa,ue=se(function(e,r){const{names:t}=_a,a={};for(const l in t)a[t[l]]=l;r.names=t,r.codes=Object.freeze(a),r.toHexString=function(u){if(!(u instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ne(u,"base16")},r.fromHexString=function(u){return de(u,"base16")},r.toB58String=function(u){if(!(u instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ne($r.encode("base58btc",u)).slice(1)},r.fromB58String=function(u){const k=u instanceof Uint8Array?ne(u):u;return $r.decode("z"+k)},r.decode=function(u){if(!(u instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(u.length<2)throw new Error("multihash too short. must be > 2 bytes.");const k=C.decode(u);if(!r.isValidCode(k))throw new Error(`multihash unknown function code: 0x${k.toString(16)}`);u=u.slice(C.decode.bytes);const x=C.decode(u);if(x<0)throw new Error(`multihash invalid length: ${x}`);if(u=u.slice(C.decode.bytes),u.length!==x)throw new Error(`multihash length inconsistent: 0x${ne(u,"base16")}`);return{code:k,name:a[k],length:x,digest:u}},r.encode=function(u,k,x){if(!u||k===void 0)throw new Error("multihash encode requires at least two args: digest, code");const s=r.coerceCode(k);if(!(u instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(x==null&&(x=u.length),x&&u.length!==x)throw new Error("digest length should be equal to specified length.");const h=C.encode(s),d=C.encode(x);return Tt([h,d,u],h.length+d.length+u.length)},r.coerceCode=function(u){let k=u;if(typeof u=="string"){if(t[u]===void 0)throw new Error(`Unrecognized hash function named: ${u}`);k=t[u]}if(typeof k!="number")throw new Error(`Hash function code should be a number. Got: ${k}`);if(a[k]===void 0&&!r.isAppCode(k))throw new Error(`Unrecognized function code: ${k}`);return k},r.isAppCode=function(u){return u>0&&u<16},r.isValidCode=function(u){return r.isAppCode(u)?!0:!!a[u]};function o(l){r.decode(l)}r.validate=o,r.prefix=function(u){return o(u),u.subarray(0,2)}}),Q=se(function(e){/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(){var r="input is invalid type",t="finalize already called",a=typeof window=="object",o=a?window:{};o.JS_SHA3_NO_WINDOW&&(a=!1);var l=!a&&typeof self=="object",u=!o.JS_SHA3_NO_NODE_JS&&typeof Br=="object"&&Br.versions&&Br.versions.node;u?o=Qt:l&&(o=self);var k=!o.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,x=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",s="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],f=[1,256,65536,16777216],b=[6,1536,393216,100663296],U=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],y=[128,256],L=["hex","buffer","arrayBuffer","array","digest"],v={"128":168,"256":136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),x&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});for(var p=function(n,g,m){return function(w){return new $(n,g,n).update(w)[m]()}},E=function(n,g,m){return function(w,_){return new $(n,g,_).update(w)[m]()}},S=function(n,g,m){return function(w,_,B,O){return q["cshake"+n].update(w,_,B,O)[m]()}},F=function(n,g,m){return function(w,_,B,O){return q["kmac"+n].update(w,_,B,O)[m]()}},N=function(n,g,m,w){for(var _=0;_<L.length;++_){var B=L[_];n[B]=g(m,w,B)}return n},A=function(n,g){var m=p(n,g,"hex");return m.create=function(){return new $(n,g,n)},m.update=function(w){return m.create().update(w)},N(m,p,n,g)},H=function(n,g){var m=E(n,g,"hex");return m.create=function(w){return new $(n,g,w)},m.update=function(w,_){return m.create(_).update(w)},N(m,E,n,g)},ee=function(n,g){var m=v[n],w=S(n,g,"hex");return w.create=function(_,B,O){return!B&&!O?q["shake"+n].create(_):new $(n,g,_).bytepad([B,O],m)},w.update=function(_,B,O,R){return w.create(B,O,R).update(_)},N(w,S,n,g)},re=function(n,g){var m=v[n],w=F(n,g,"hex");return w.create=function(_,B,O){return new Rr(n,g,B).bytepad(["KMAC",O],m).bytepad([_],m)},w.update=function(_,B,O,R){return w.create(_,O,R).update(B)},N(w,F,n,g)},Z=[{name:"keccak",padding:f,bits:c,createMethod:A},{name:"sha3",padding:b,bits:c,createMethod:A},{name:"shake",padding:h,bits:y,createMethod:H},{name:"cshake",padding:d,bits:y,createMethod:ee},{name:"kmac",padding:d,bits:y,createMethod:re}],q={},T=[],te=0;te<Z.length;++te)for(var oe=Z[te],we=oe.bits,he=0;he<we.length;++he){var Sr=oe.name+"_"+we[he];if(T.push(Sr),q[Sr]=oe.createMethod(we[he],oe.padding),oe.name!=="sha3"){var Jr=oe.name+we[he];T.push(Jr),q[Jr]=q[Sr]}}function $(n,g,m){this.blocks=[],this.s=[],this.padding=g,this.outputBits=m,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(n<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=m>>5,this.extraBytes=(m&31)>>3;for(var w=0;w<50;++w)this.s[w]=0}$.prototype.update=function(n){if(this.finalized)throw new Error(t);var g,m=typeof n;if(m!=="string"){if(m==="object"){if(n===null)throw new Error(r);if(x&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!x||!ArrayBuffer.isView(n)))throw new Error(r)}else throw new Error(r);g=!0}for(var w=this.blocks,_=this.byteCount,B=n.length,O=this.blockCount,R=0,j=this.s,I,P;R<B;){if(this.reset)for(this.reset=!1,w[0]=this.block,I=1;I<O+1;++I)w[I]=0;if(g)for(I=this.start;R<B&&I<_;++R)w[I>>2]|=n[R]<<U[I++&3];else for(I=this.start;R<B&&I<_;++R)P=n.charCodeAt(R),P<128?w[I>>2]|=P<<U[I++&3]:P<2048?(w[I>>2]|=(192|P>>6)<<U[I++&3],w[I>>2]|=(128|P&63)<<U[I++&3]):P<55296||P>=57344?(w[I>>2]|=(224|P>>12)<<U[I++&3],w[I>>2]|=(128|P>>6&63)<<U[I++&3],w[I>>2]|=(128|P&63)<<U[I++&3]):(P=65536+((P&1023)<<10|n.charCodeAt(++R)&1023),w[I>>2]|=(240|P>>18)<<U[I++&3],w[I>>2]|=(128|P>>12&63)<<U[I++&3],w[I>>2]|=(128|P>>6&63)<<U[I++&3],w[I>>2]|=(128|P&63)<<U[I++&3]);if(this.lastByteIndex=I,I>=_){for(this.start=I-_,this.block=w[O],I=0;I<O;++I)j[I]^=w[I];le(j),this.reset=!0}else this.start=I}return this},$.prototype.encode=function(n,g){var m=n&255,w=1,_=[m];for(n=n>>8,m=n&255;m>0;)_.unshift(m),n=n>>8,m=n&255,++w;return g?_.push(w):_.unshift(w),this.update(_),_.length},$.prototype.encodeString=function(n){var g,m=typeof n;if(m!=="string"){if(m==="object"){if(n===null)throw new Error(r);if(x&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!x||!ArrayBuffer.isView(n)))throw new Error(r)}else throw new Error(r);g=!0}var w=0,_=n.length;if(g)w=_;else for(var B=0;B<n.length;++B){var O=n.charCodeAt(B);O<128?w+=1:O<2048?w+=2:O<55296||O>=57344?w+=3:(O=65536+((O&1023)<<10|n.charCodeAt(++B)&1023),w+=4)}return w+=this.encode(w*8),this.update(n),w},$.prototype.bytepad=function(n,g){for(var m=this.encode(g),w=0;w<n.length;++w)m+=this.encodeString(n[w]);var _=g-m%g,B=[];return B.length=_,this.update(B),this},$.prototype.finalize=function(){if(this.finalized)return;this.finalized=!0;var n=this.blocks,g=this.lastByteIndex,m=this.blockCount,w=this.s;if(n[g>>2]|=this.padding[g&3],this.lastByteIndex===this.byteCount)for(n[0]=n[m],g=1;g<m+1;++g)n[g]=0;for(n[m-1]|=2147483648,g=0;g<m;++g)w[g]^=n[g];le(w)},$.prototype.toString=$.prototype.hex=function(){this.finalize();for(var n=this.blockCount,g=this.s,m=this.outputBlocks,w=this.extraBytes,_=0,B=0,O="",R;B<m;){for(_=0;_<n&&B<m;++_,++B)R=g[_],O+=s[R>>4&15]+s[R&15]+s[R>>12&15]+s[R>>8&15]+s[R>>20&15]+s[R>>16&15]+s[R>>28&15]+s[R>>24&15];B%n===0&&(le(g),_=0)}return w&&(R=g[_],O+=s[R>>4&15]+s[R&15],w>1&&(O+=s[R>>12&15]+s[R>>8&15]),w>2&&(O+=s[R>>20&15]+s[R>>16&15])),O},$.prototype.arrayBuffer=function(){this.finalize();var n=this.blockCount,g=this.s,m=this.outputBlocks,w=this.extraBytes,_=0,B=0,O=this.outputBits>>3,R;w?R=new ArrayBuffer(m+1<<2):R=new ArrayBuffer(O);for(var j=new Uint32Array(R);B<m;){for(_=0;_<n&&B<m;++_,++B)j[B]=g[_];B%n===0&&le(g)}return w&&(j[_]=g[_],R=R.slice(0,O)),R},$.prototype.buffer=$.prototype.arrayBuffer,$.prototype.digest=$.prototype.array=function(){this.finalize();for(var n=this.blockCount,g=this.s,m=this.outputBlocks,w=this.extraBytes,_=0,B=0,O=[],R,j;B<m;){for(_=0;_<n&&B<m;++_,++B)R=B<<2,j=g[_],O[R]=j&255,O[R+1]=j>>8&255,O[R+2]=j>>16&255,O[R+3]=j>>24&255;B%n===0&&le(g)}return w&&(R=B<<2,j=g[_],O[R]=j&255,w>1&&(O[R+1]=j>>8&255),w>2&&(O[R+2]=j>>16&255)),O};function Rr(n,g,m){$.call(this,n,g,m)}Rr.prototype=new $,Rr.prototype.finalize=function(){return this.encode(this.outputBits,!0),$.prototype.finalize.call(this)};var le=function(n){var g,m,w,_,B,O,R,j,I,P,ke,Ee,Ae,Ue,Ce,_e,Se,Re,Be,Fe,Oe,Ie,De,Te,Ne,Le,Me,He,Pe,$e,je,Ke,ze,Ve,Ge,qe,Je,Ye,We,Ze,Xe,Qe,er,rr,tr,nr,ar,ir,or,sr,cr,ur,fr,hr,lr,dr,br,pr,gr,xr,mr,vr,yr;for(w=0;w<48;w+=2)_=n[0]^n[10]^n[20]^n[30]^n[40],B=n[1]^n[11]^n[21]^n[31]^n[41],O=n[2]^n[12]^n[22]^n[32]^n[42],R=n[3]^n[13]^n[23]^n[33]^n[43],j=n[4]^n[14]^n[24]^n[34]^n[44],I=n[5]^n[15]^n[25]^n[35]^n[45],P=n[6]^n[16]^n[26]^n[36]^n[46],ke=n[7]^n[17]^n[27]^n[37]^n[47],Ee=n[8]^n[18]^n[28]^n[38]^n[48],Ae=n[9]^n[19]^n[29]^n[39]^n[49],g=Ee^(O<<1|R>>>31),m=Ae^(R<<1|O>>>31),n[0]^=g,n[1]^=m,n[10]^=g,n[11]^=m,n[20]^=g,n[21]^=m,n[30]^=g,n[31]^=m,n[40]^=g,n[41]^=m,g=_^(j<<1|I>>>31),m=B^(I<<1|j>>>31),n[2]^=g,n[3]^=m,n[12]^=g,n[13]^=m,n[22]^=g,n[23]^=m,n[32]^=g,n[33]^=m,n[42]^=g,n[43]^=m,g=O^(P<<1|ke>>>31),m=R^(ke<<1|P>>>31),n[4]^=g,n[5]^=m,n[14]^=g,n[15]^=m,n[24]^=g,n[25]^=m,n[34]^=g,n[35]^=m,n[44]^=g,n[45]^=m,g=j^(Ee<<1|Ae>>>31),m=I^(Ae<<1|Ee>>>31),n[6]^=g,n[7]^=m,n[16]^=g,n[17]^=m,n[26]^=g,n[27]^=m,n[36]^=g,n[37]^=m,n[46]^=g,n[47]^=m,g=P^(_<<1|B>>>31),m=ke^(B<<1|_>>>31),n[8]^=g,n[9]^=m,n[18]^=g,n[19]^=m,n[28]^=g,n[29]^=m,n[38]^=g,n[39]^=m,n[48]^=g,n[49]^=m,Ue=n[0],Ce=n[1],nr=n[11]<<4|n[10]>>>28,ar=n[10]<<4|n[11]>>>28,He=n[20]<<3|n[21]>>>29,Pe=n[21]<<3|n[20]>>>29,xr=n[31]<<9|n[30]>>>23,mr=n[30]<<9|n[31]>>>23,Qe=n[40]<<18|n[41]>>>14,er=n[41]<<18|n[40]>>>14,Ve=n[2]<<1|n[3]>>>31,Ge=n[3]<<1|n[2]>>>31,_e=n[13]<<12|n[12]>>>20,Se=n[12]<<12|n[13]>>>20,ir=n[22]<<10|n[23]>>>22,or=n[23]<<10|n[22]>>>22,$e=n[33]<<13|n[32]>>>19,je=n[32]<<13|n[33]>>>19,vr=n[42]<<2|n[43]>>>30,yr=n[43]<<2|n[42]>>>30,hr=n[5]<<30|n[4]>>>2,lr=n[4]<<30|n[5]>>>2,qe=n[14]<<6|n[15]>>>26,Je=n[15]<<6|n[14]>>>26,Re=n[25]<<11|n[24]>>>21,Be=n[24]<<11|n[25]>>>21,sr=n[34]<<15|n[35]>>>17,cr=n[35]<<15|n[34]>>>17,Ke=n[45]<<29|n[44]>>>3,ze=n[44]<<29|n[45]>>>3,Te=n[6]<<28|n[7]>>>4,Ne=n[7]<<28|n[6]>>>4,dr=n[17]<<23|n[16]>>>9,br=n[16]<<23|n[17]>>>9,Ye=n[26]<<25|n[27]>>>7,We=n[27]<<25|n[26]>>>7,Fe=n[36]<<21|n[37]>>>11,Oe=n[37]<<21|n[36]>>>11,ur=n[47]<<24|n[46]>>>8,fr=n[46]<<24|n[47]>>>8,rr=n[8]<<27|n[9]>>>5,tr=n[9]<<27|n[8]>>>5,Le=n[18]<<20|n[19]>>>12,Me=n[19]<<20|n[18]>>>12,pr=n[29]<<7|n[28]>>>25,gr=n[28]<<7|n[29]>>>25,Ze=n[38]<<8|n[39]>>>24,Xe=n[39]<<8|n[38]>>>24,Ie=n[48]<<14|n[49]>>>18,De=n[49]<<14|n[48]>>>18,n[0]=Ue^~_e&Re,n[1]=Ce^~Se&Be,n[10]=Te^~Le&He,n[11]=Ne^~Me&Pe,n[20]=Ve^~qe&Ye,n[21]=Ge^~Je&We,n[30]=rr^~nr&ir,n[31]=tr^~ar&or,n[40]=hr^~dr&pr,n[41]=lr^~br&gr,n[2]=_e^~Re&Fe,n[3]=Se^~Be&Oe,n[12]=Le^~He&$e,n[13]=Me^~Pe&je,n[22]=qe^~Ye&Ze,n[23]=Je^~We&Xe,n[32]=nr^~ir&sr,n[33]=ar^~or&cr,n[42]=dr^~pr&xr,n[43]=br^~gr&mr,n[4]=Re^~Fe&Ie,n[5]=Be^~Oe&De,n[14]=He^~$e&Ke,n[15]=Pe^~je&ze,n[24]=Ye^~Ze&Qe,n[25]=We^~Xe&er,n[34]=ir^~sr&ur,n[35]=or^~cr&fr,n[44]=pr^~xr&vr,n[45]=gr^~mr&yr,n[6]=Fe^~Ie&Ue,n[7]=Oe^~De&Ce,n[16]=$e^~Ke&Te,n[17]=je^~ze&Ne,n[26]=Ze^~Qe&Ve,n[27]=Xe^~er&Ge,n[36]=sr^~ur&rr,n[37]=cr^~fr&tr,n[46]=xr^~vr&hr,n[47]=mr^~yr&lr,n[8]=Ie^~Ue&_e,n[9]=De^~Ce&Se,n[18]=Ke^~Te&Le,n[19]=ze^~Ne&Me,n[28]=Qe^~Ve&qe,n[29]=er^~Ge&Je,n[38]=ur^~rr&nr,n[39]=fr^~tr&ar,n[48]=vr^~hr&dr,n[49]=yr^~lr&br,n[0]^=i[w],n[1]^=i[w+1]};if(k)e.exports=q;else for(te=0;te<T.length;++te)o[T[te]]=q[T[te]]})()}),Ra=se(function(e,r){(function(t,a){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function l(i){if(!Array.isArray(i)&&!ArrayBuffer.isView(i))return!1;for(var c=0;c<i.length;c++)if(!Number.isInteger(i[c])||i[c]<0||i[c]>255)return!1;return!0}function u(i,c){return(i&65535)*c+(((i>>>16)*c&65535)<<16)}function k(i,c){return i<<c|i>>>32-c}function x(i){return i^=i>>>16,i=u(i,2246822507),i^=i>>>13,i=u(i,3266489909),i^=i>>>16,i}function s(i,c){i=[i[0]>>>16,i[0]&65535,i[1]>>>16,i[1]&65535],c=[c[0]>>>16,c[0]&65535,c[1]>>>16,c[1]&65535];var y=[0,0,0,0];return y[3]+=i[3]+c[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=i[2]+c[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=i[1]+c[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=i[0]+c[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function h(i,c){i=[i[0]>>>16,i[0]&65535,i[1]>>>16,i[1]&65535],c=[c[0]>>>16,c[0]&65535,c[1]>>>16,c[1]&65535];var y=[0,0,0,0];return y[3]+=i[3]*c[3],y[2]+=y[3]>>>16,y[3]&=65535,y[2]+=i[2]*c[3],y[1]+=y[2]>>>16,y[2]&=65535,y[2]+=i[3]*c[2],y[1]+=y[2]>>>16,y[2]&=65535,y[1]+=i[1]*c[3],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=i[2]*c[2],y[0]+=y[1]>>>16,y[1]&=65535,y[1]+=i[3]*c[1],y[0]+=y[1]>>>16,y[1]&=65535,y[0]+=i[0]*c[3]+i[1]*c[2]+i[2]*c[1]+i[3]*c[0],y[0]&=65535,[y[0]<<16|y[1],y[2]<<16|y[3]]}function d(i,c){return c%=64,c===32?[i[1],i[0]]:c<32?[i[0]<<c|i[1]>>>32-c,i[1]<<c|i[0]>>>32-c]:(c-=32,[i[1]<<c|i[0]>>>32-c,i[0]<<c|i[1]>>>32-c])}function f(i,c){return c%=64,c===0?i:c<32?[i[0]<<c|i[1]>>>32-c,i[1]<<c]:[i[1]<<c-32,0]}function b(i,c){return[i[0]^c[0],i[1]^c[1]]}function U(i){return i=b(i,[0,i[0]>>>1]),i=h(i,[4283543511,3981806797]),i=b(i,[0,i[0]>>>1]),i=h(i,[3301882366,444984403]),i=b(i,[0,i[0]>>>1]),i}o.x86.hash32=function(i,c){if(o.inputValidation&&!l(i))return a;c=c||0;for(var y=i.length%4,L=i.length-y,v=c,p=0,E=3432918353,S=461845907,F=0;F<L;F=F+4)p=i[F]|i[F+1]<<8|i[F+2]<<16|i[F+3]<<24,p=u(p,E),p=k(p,15),p=u(p,S),v^=p,v=k(v,13),v=u(v,5)+3864292196;p=0;switch(y){case 3:p^=i[F+2]<<16;case 2:p^=i[F+1]<<8;case 1:p^=i[F],p=u(p,E),p=k(p,15),p=u(p,S),v^=p}return v^=i.length,v=x(v),v>>>0},o.x86.hash128=function(i,c){if(o.inputValidation&&!l(i))return a;c=c||0;for(var y=i.length%16,L=i.length-y,v=c,p=c,E=c,S=c,F=0,N=0,A=0,H=0,ee=597399067,re=2869860233,Z=951274213,q=2716044179,T=0;T<L;T=T+16)F=i[T]|i[T+1]<<8|i[T+2]<<16|i[T+3]<<24,N=i[T+4]|i[T+5]<<8|i[T+6]<<16|i[T+7]<<24,A=i[T+8]|i[T+9]<<8|i[T+10]<<16|i[T+11]<<24,H=i[T+12]|i[T+13]<<8|i[T+14]<<16|i[T+15]<<24,F=u(F,ee),F=k(F,15),F=u(F,re),v^=F,v=k(v,19),v+=p,v=u(v,5)+1444728091,N=u(N,re),N=k(N,16),N=u(N,Z),p^=N,p=k(p,17),p+=E,p=u(p,5)+197830471,A=u(A,Z),A=k(A,17),A=u(A,q),E^=A,E=k(E,15),E+=S,E=u(E,5)+2530024501,H=u(H,q),H=k(H,18),H=u(H,ee),S^=H,S=k(S,13),S+=v,S=u(S,5)+850148119;F=0,N=0,A=0,H=0;switch(y){case 15:H^=i[T+14]<<16;case 14:H^=i[T+13]<<8;case 13:H^=i[T+12],H=u(H,q),H=k(H,18),H=u(H,ee),S^=H;case 12:A^=i[T+11]<<24;case 11:A^=i[T+10]<<16;case 10:A^=i[T+9]<<8;case 9:A^=i[T+8],A=u(A,Z),A=k(A,17),A=u(A,q),E^=A;case 8:N^=i[T+7]<<24;case 7:N^=i[T+6]<<16;case 6:N^=i[T+5]<<8;case 5:N^=i[T+4],N=u(N,re),N=k(N,16),N=u(N,Z),p^=N;case 4:F^=i[T+3]<<24;case 3:F^=i[T+2]<<16;case 2:F^=i[T+1]<<8;case 1:F^=i[T],F=u(F,ee),F=k(F,15),F=u(F,re),v^=F}return v^=i.length,p^=i.length,E^=i.length,S^=i.length,v+=p,v+=E,v+=S,p+=v,E+=v,S+=v,v=x(v),p=x(p),E=x(E),S=x(S),v+=p,v+=E,v+=S,p+=v,E+=v,S+=v,("00000000"+(v>>>0).toString(16)).slice(-8)+("00000000"+(p>>>0).toString(16)).slice(-8)+("00000000"+(E>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)},o.x64.hash128=function(i,c){if(o.inputValidation&&!l(i))return a;c=c||0;for(var y=i.length%16,L=i.length-y,v=[0,c],p=[0,c],E=[0,0],S=[0,0],F=[2277735313,289559509],N=[1291169091,658871167],A=0;A<L;A=A+16)E=[i[A+4]|i[A+5]<<8|i[A+6]<<16|i[A+7]<<24,i[A]|i[A+1]<<8|i[A+2]<<16|i[A+3]<<24],S=[i[A+12]|i[A+13]<<8|i[A+14]<<16|i[A+15]<<24,i[A+8]|i[A+9]<<8|i[A+10]<<16|i[A+11]<<24],E=h(E,F),E=d(E,31),E=h(E,N),v=b(v,E),v=d(v,27),v=s(v,p),v=s(h(v,[0,5]),[0,1390208809]),S=h(S,N),S=d(S,33),S=h(S,F),p=b(p,S),p=d(p,31),p=s(p,v),p=s(h(p,[0,5]),[0,944331445]);E=[0,0],S=[0,0];switch(y){case 15:S=b(S,f([0,i[A+14]],48));case 14:S=b(S,f([0,i[A+13]],40));case 13:S=b(S,f([0,i[A+12]],32));case 12:S=b(S,f([0,i[A+11]],24));case 11:S=b(S,f([0,i[A+10]],16));case 10:S=b(S,f([0,i[A+9]],8));case 9:S=b(S,[0,i[A+8]]),S=h(S,N),S=d(S,33),S=h(S,F),p=b(p,S);case 8:E=b(E,f([0,i[A+7]],56));case 7:E=b(E,f([0,i[A+6]],48));case 6:E=b(E,f([0,i[A+5]],40));case 5:E=b(E,f([0,i[A+4]],32));case 4:E=b(E,f([0,i[A+3]],24));case 3:E=b(E,f([0,i[A+2]],16));case 2:E=b(E,f([0,i[A+1]],8));case 1:E=b(E,[0,i[A]]),E=h(E,F),E=d(E,31),E=h(E,N),v=b(v,E)}return v=b(v,[0,i.length]),p=b(p,[0,i.length]),v=s(v,p),p=s(p,v),v=U(v),p=U(p),v=s(v,p),p=s(p,v),("00000000"+(v[0]>>>0).toString(16)).slice(-8)+("00000000"+(v[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)},e.exports&&(r=e.exports=o),r.murmurHash3=o})()}),Nt=Ra;const xe=self.crypto||self.msCrypto,jr=async(e,r)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(r){case"sha1":return new Uint8Array(await xe.subtle.digest({name:"SHA-1"},e));case"sha2-256":return new Uint8Array(await xe.subtle.digest({name:"SHA-256"},e));case"sha2-512":return new Uint8Array(await xe.subtle.digest({name:"SHA-512"},e));case"dbl-sha2-256":{const t=await xe.subtle.digest({name:"SHA-256"},e);return new Uint8Array(await xe.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${r} is not a supported algorithm`)}};var Lt={factory:e=>async r=>jr(r,e),digest:jr,multihashing:async(e,r,t)=>{const a=await jr(e,r);return ue.encode(a,r,t)}};const Ba=e=>{const r=new Uint8Array(4);for(let t=0;t<4;t++)r[t]=e&255,e=e>>8;return r};var Fa={fromNumberTo32BitBuf:Ba},Oa="Input must be an string, Buffer or Uint8Array";function Ia(e){var r;if(e instanceof Uint8Array)r=e;else if(e instanceof Buffer)r=new Uint8Array(e);else if(typeof e=="string")r=new Uint8Array(Buffer.from(e,"utf8"));else throw new Error(Oa);return r}function Da(e){return Array.prototype.map.call(e,function(r){return(r<16?"0":"")+r.toString(16)}).join("")}function Er(e){return(4294967296+e).toString(16).substring(1)}function Ta(e,r,t){for(var a=`
`+e+" = ",o=0;o<r.length;o+=2){if(t===32)a+=Er(r[o]).toUpperCase(),a+=" ",a+=Er(r[o+1]).toUpperCase();else if(t===64)a+=Er(r[o+1]).toUpperCase(),a+=Er(r[o]).toUpperCase();else throw new Error("Invalid size "+t);o%6===4?a+=`
`+new Array(e.length+4).join(" "):o<r.length-2&&(a+=" ")}console.log(a)}function Na(e,r,t){for(var a=new Date().getTime(),o=new Uint8Array(r),l=0;l<r;l++)o[l]=l%256;var u=new Date().getTime();for(console.log("Generated random input in "+(u-a)+"ms"),a=u,l=0;l<t;l++){var k=e(o),x=new Date().getTime(),s=x-a;a=x,console.log("Hashed in "+s+"ms: "+k.substring(0,20)+"..."),console.log(Math.round(r/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}var Ar={normalizeInput:Ia,toHex:Da,debugPrint:Ta,testSpeed:Na};function Ur(e,r,t){var a=e[r]+e[t],o=e[r+1]+e[t+1];a>=4294967296&&o++,e[r]=a,e[r+1]=o}function Mt(e,r,t,a){var o=e[r]+t;t<0&&(o+=4294967296);var l=e[r+1]+a;o>=4294967296&&l++,e[r]=o,e[r+1]=l}function La(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}function ae(e,r,t,a,o,l){var u=me[o],k=me[o+1],x=me[l],s=me[l+1];Ur(D,e,r),Mt(D,e,u,k);var h=D[a]^D[e],d=D[a+1]^D[e+1];D[a]=d,D[a+1]=h,Ur(D,t,a),h=D[r]^D[t],d=D[r+1]^D[t+1],D[r]=h>>>24^d<<8,D[r+1]=d>>>24^h<<8,Ur(D,e,r),Mt(D,e,x,s),h=D[a]^D[e],d=D[a+1]^D[e+1],D[a]=h>>>16^d<<16,D[a+1]=d>>>16^h<<16,Ur(D,t,a),h=D[r]^D[t],d=D[r+1]^D[t+1],D[r]=d>>>31^h<<1,D[r+1]=h>>>31^d<<1}var Ht=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ma=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],V=new Uint8Array(Ma.map(function(e){return e*2})),D=new Uint32Array(32),me=new Uint32Array(32);function Pt(e,r){var t=0;for(t=0;t<16;t++)D[t]=e.h[t],D[t+16]=Ht[t];for(D[24]=D[24]^e.t,D[25]=D[25]^e.t/4294967296,r&&(D[28]=~D[28],D[29]=~D[29]),t=0;t<32;t++)me[t]=La(e.b,4*t);for(t=0;t<12;t++)ae(0,8,16,24,V[t*16+0],V[t*16+1]),ae(2,10,18,26,V[t*16+2],V[t*16+3]),ae(4,12,20,28,V[t*16+4],V[t*16+5]),ae(6,14,22,30,V[t*16+6],V[t*16+7]),ae(0,10,20,30,V[t*16+8],V[t*16+9]),ae(2,12,22,24,V[t*16+10],V[t*16+11]),ae(4,14,16,26,V[t*16+12],V[t*16+13]),ae(6,8,18,28,V[t*16+14],V[t*16+15]);for(t=0;t<16;t++)e.h[t]=e.h[t]^D[t]^D[t+16]}function $t(e,r){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(r&&r.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},a=0;a<16;a++)t.h[a]=Ht[a];var o=r?r.length:0;return t.h[0]^=16842752^o<<8^e,r&&(Kr(t,r),t.c=128),t}function Kr(e,r){for(var t=0;t<r.length;t++)e.c===128&&(e.t+=e.c,Pt(e,!1),e.c=0),e.b[e.c++]=r[t]}function jt(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Pt(e,!0);for(var r=new Uint8Array(e.outlen),t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(t&3);return r}function Kt(e,r,t){t=t||64,e=Ar.normalizeInput(e);var a=$t(t,r);return Kr(a,e),jt(a)}function Ha(e,r,t){var a=Kt(e,r,t);return Ar.toHex(a)}var ve={blake2b:Kt,blake2bHex:Ha,blake2bInit:$t,blake2bUpdate:Kr,blake2bFinal:jt};function Pa(e,r){return e[r]^e[r+1]<<8^e[r+2]<<16^e[r+3]<<24}function ie(e,r,t,a,o,l){M[e]=M[e]+M[r]+o,M[a]=Cr(M[a]^M[e],16),M[t]=M[t]+M[a],M[r]=Cr(M[r]^M[t],12),M[e]=M[e]+M[r]+l,M[a]=Cr(M[a]^M[e],8),M[t]=M[t]+M[a],M[r]=Cr(M[r]^M[t],7)}function Cr(e,r){return e>>>r^e<<32-r}var zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),G=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),M=new Uint32Array(16),z=new Uint32Array(16);function Vt(e,r){var t=0;for(t=0;t<8;t++)M[t]=e.h[t],M[t+8]=zt[t];for(M[12]^=e.t,M[13]^=e.t/4294967296,r&&(M[14]=~M[14]),t=0;t<16;t++)z[t]=Pa(e.b,4*t);for(t=0;t<10;t++)ie(0,4,8,12,z[G[t*16+0]],z[G[t*16+1]]),ie(1,5,9,13,z[G[t*16+2]],z[G[t*16+3]]),ie(2,6,10,14,z[G[t*16+4]],z[G[t*16+5]]),ie(3,7,11,15,z[G[t*16+6]],z[G[t*16+7]]),ie(0,5,10,15,z[G[t*16+8]],z[G[t*16+9]]),ie(1,6,11,12,z[G[t*16+10]],z[G[t*16+11]]),ie(2,7,8,13,z[G[t*16+12]],z[G[t*16+13]]),ie(3,4,9,14,z[G[t*16+14]],z[G[t*16+15]]);for(t=0;t<8;t++)e.h[t]^=M[t]^M[t+8]}function Gt(e,r){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var t=r?r.length:0;if(r&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");var a={h:new Uint32Array(zt),b:new Uint32Array(64),c:0,t:0,outlen:e};return a.h[0]^=16842752^t<<8^e,t>0&&(zr(a,r),a.c=64),a}function zr(e,r){for(var t=0;t<r.length;t++)e.c===64&&(e.t+=e.c,Vt(e,!1),e.c=0),e.b[e.c++]=r[t]}function qt(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;Vt(e,!0);for(var r=new Uint8Array(e.outlen),t=0;t<e.outlen;t++)r[t]=e.h[t>>2]>>8*(t&3)&255;return r}function Jt(e,r,t){t=t||32,e=Ar.normalizeInput(e);var a=Gt(t,r);return zr(a,e),qt(a)}function $a(e,r,t){var a=Jt(e,r,t);return Ar.toHex(a)}var ye={blake2s:Jt,blake2sHex:$a,blake2sInit:Gt,blake2sUpdate:zr,blake2sFinal:qt},fe={blake2b:ve.blake2b,blake2bHex:ve.blake2bHex,blake2bInit:ve.blake2bInit,blake2bUpdate:ve.blake2bUpdate,blake2bFinal:ve.blake2bFinal,blake2s:ye.blake2s,blake2sHex:ye.blake2sHex,blake2sInit:ye.blake2sInit,blake2sUpdate:ye.blake2sUpdate,blake2sFinal:ye.blake2sFinal};const ja=45569,Ka=45633,za={init:fe.blake2bInit,update:fe.blake2bUpdate,digest:fe.blake2bFinal},Va={init:fe.blake2sInit,update:fe.blake2sUpdate,digest:fe.blake2sFinal},Yt=(e,r)=>async t=>{const a=r.init(e,null);return r.update(a,t),r.digest(a)};var Ga=e=>{for(let r=0;r<64;r++)e[ja+r]=Yt(r+1,za);for(let r=0;r<32;r++)e[Ka+r]=Yt(r+1,Va)};const{factory:_r}=Lt,{fromNumberTo32BitBuf:qa}=Fa,Y=e=>async r=>{switch(e){case"sha3-224":return new Uint8Array(Q.sha3_224.arrayBuffer(r));case"sha3-256":return new Uint8Array(Q.sha3_256.arrayBuffer(r));case"sha3-384":return new Uint8Array(Q.sha3_384.arrayBuffer(r));case"sha3-512":return new Uint8Array(Q.sha3_512.arrayBuffer(r));case"shake-128":return new Uint8Array(Q.shake128.create(128).update(r).arrayBuffer());case"shake-256":return new Uint8Array(Q.shake256.create(256).update(r).arrayBuffer());case"keccak-224":return new Uint8Array(Q.keccak224.arrayBuffer(r));case"keccak-256":return new Uint8Array(Q.keccak256.arrayBuffer(r));case"keccak-384":return new Uint8Array(Q.keccak384.arrayBuffer(r));case"keccak-512":return new Uint8Array(Q.keccak512.arrayBuffer(r));case"murmur3-128":return de(Nt.x64.hash128(r),"base16");case"murmur3-32":return qa(Nt.x86.hash32(r));default:throw new TypeError(`${e} is not a supported algorithm`)}},Ja=e=>e;var K={identity:Ja,sha1:_r("sha1"),sha2256:_r("sha2-256"),sha2512:_r("sha2-512"),dblSha2256:_r("dbl-sha2-256"),sha3224:Y("sha3-224"),sha3256:Y("sha3-256"),sha3384:Y("sha3-384"),sha3512:Y("sha3-512"),shake128:Y("shake-128"),shake256:Y("shake-256"),keccak224:Y("keccak-224"),keccak256:Y("keccak-256"),keccak384:Y("keccak-384"),keccak512:Y("keccak-512"),murmur3128:Y("murmur3-128"),murmur332:Y("murmur3-32"),addBlake:Ga};function Ya(e,r){if(e===r)return!0;if(e.byteLength!==r.byteLength)return!1;for(let t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0}var Vr=Ya;async function W(e,r,t){const a=await W.digest(e,r,t);return ue.encode(a,r,t)}W.multihash=ue,W.digest=async(e,r,t)=>{const a=W.createHash(r),o=await a(e);return t?o.slice(0,t):o},W.createHash=function(e){if(!e)throw X(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(e=ue.coerceCode(e),!W.functions[e])throw X(new Error(`multihash function '${e}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return W.functions[e]},W.functions={0:K.identity,17:K.sha1,18:K.sha2256,19:K.sha2512,20:K.sha3512,21:K.sha3384,22:K.sha3256,23:K.sha3224,24:K.shake128,25:K.shake256,26:K.keccak224,27:K.keccak256,28:K.keccak384,29:K.keccak512,34:K.murmur3128,35:K.murmur332,86:K.dblSha2256},K.addBlake(W.functions),W.validate=async(e,r)=>{const t=await W(e,ue.decode(r).name);return Vr(r,t)};var Wt=W;const Wa=async(e,r)=>{if(!(e instanceof Uint8Array))throw X(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(e.byteLength<5)throw X(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");const t=ne(e.subarray(0,4));if(t!=="/pk/")throw X(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");const a=e.slice(4),o=await Wt(r,"sha2-256");if(!Vr(a,o))throw X(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};var Za={func:Wa,sign:!1},Xa={pk:Za};const Qa=(e,r)=>{const t=r.key,a=ne(t),o=a.split("/");if(o.length<3)return;const l=e[o[1].toString()];if(!l){const u="Invalid record keytype";throw X(new Error(u),"ERR_INVALID_RECORD_KEY_TYPE")}return l.func(t,r.value)};var ei={verifyRecord:Qa,validators:Xa};const ri=(e,r)=>0;var ti=ri,ni={pk:ti};const ai=(e,r,t)=>{if(t.length===0){const u="No records given";throw X(new Error(u),"ERR_NO_RECORDS_RECEIVED")}const a=ne(r),o=a.split("/");if(o.length<3){const u="Record key does not have a selector function";throw X(new Error(u),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const l=e[o[1].toString()];if(!l){const u=`Unrecognized key prefix: ${o[1]}`;throw X(new Error(u),"ERR_UNRECOGNIZED_KEY_PREFIX")}return l(r,t)};var ii={bestRecord:ai,selectors:ni},Gr={Record:Ua,validator:ei,selection:ii},qr=se(function(e,r){var t=function(x,s){return s||(s={}),x.split("").forEach(function(h,d){h in s||(s[h]=d)}),s},a={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};a.charmap=t(a.alphabet,a.charmap);var o={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};o.charmap=t(o.alphabet,o.charmap);var l={alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",charmap:{}};l.charmap=t(l.alphabet,l.charmap);function u(x){if(this.buf=[],this.shift=8,this.carry=0,x){switch(x.type){case"rfc4648":this.charmap=r.rfc4648.charmap;break;case"crockford":this.charmap=r.crockford.charmap;break;case"base32hex":this.charmap=r.base32hex.charmap;break;default:throw new Error("invalid type")}x.charmap&&(this.charmap=x.charmap)}}u.prototype.charmap=a.charmap,u.prototype.write=function(x){var s=this.charmap,h=this.buf,d=this.shift,f=this.carry;return x.toUpperCase().split("").forEach(function(b){if(b=="=")return;var U=s[b]&255;d-=5,d>0?f|=U<<d:d<0?(h.push(f|U>>-d),d+=8,f=U<<d&255):(h.push(f|U),d=8,f=0)}),this.shift=d,this.carry=f,this},u.prototype.finalize=function(x){return x&&this.write(x),this.shift!==8&&this.carry!==0&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf};function k(x){if(this.buf="",this.shift=3,this.carry=0,x){switch(x.type){case"rfc4648":this.alphabet=r.rfc4648.alphabet;break;case"crockford":this.alphabet=r.crockford.alphabet;break;case"base32hex":this.alphabet=r.base32hex.alphabet;break;default:throw new Error("invalid type")}x.alphabet?this.alphabet=x.alphabet:x.lc&&(this.alphabet=this.alphabet.toLowerCase())}}k.prototype.alphabet=a.alphabet,k.prototype.write=function(x){var s=this.shift,h=this.carry,d,f,b;for(b=0;b<x.length;b++)f=x[b],d=h|f>>s,this.buf+=this.alphabet[d&31],s>5&&(s-=5,d=f>>s,this.buf+=this.alphabet[d&31]),s=5-s,h=f<<s,s=8-s;return this.shift=s,this.carry=h,this},k.prototype.finalize=function(x){return x&&this.write(x),this.shift!==3&&(this.buf+=this.alphabet[this.carry&31],this.shift=3,this.carry=0),this.buf},r.encode=function(x,s){return new k(s).finalize(x)},r.decode=function(x,s){return new u(s).finalize(x)},r.Decoder=u,r.Encoder=k,r.charmap=t,r.crockford=o,r.rfc4648=a,r.base32hex=l});const oi=e=>new Xt("/"+Zt(e),!1),Zt=e=>{const r=new qr.Encoder;return r.write(e).finalize()},si=e=>{const r=new qr.Decoder;return Uint8Array.from(r.write(e).finalize())},ci=(e,r,t)=>{const a=t?new Date(t):new Date,o=new Gr.Record(e,r,a);return o.serialize()},ui=e=>Gr.Record.deserialize(e);export{ui as a,oi as b,ci as c,si as d,Zt as e,$r as f,Tt as g,Vr as h,Ot as i,Lt as j,Wt as k,qr as l,Gr as m,ue as s,C as v};
