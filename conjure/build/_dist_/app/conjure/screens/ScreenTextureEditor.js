import*as s from"https://cdn.skypack.dev/pin/three@v0.117.1-NetLzdTnw9ga3y6o633U/min/three.js";import i from"./ScreenBase.js";import"../util/MeshTemplates.js";import"../util/HTMLObject.js";export default class n extends i{constructor(t,e){super(t,e);this.group.add(this.background),this.onFinished=this.onFinished.bind(this),this.drawStartPos=new s.Vector2,this.pos=new s.Vector2,this.resolution=1e3}draw(){console.log(this.pos),this.drawingContext.moveTo(this.drawStartPos.x,this.drawStartPos.y),this.drawingContext.strokeStyle="#000000",this.drawingContext.lineTo(this.pos.x,this.pos.y),this.drawingContext.stroke(),this.drawStartPos.set(this.pos.x,this.pos.y),this.texture.needsUpdate=!0}setOnSelectCallback(t){this.onSelectCallback=t}setAsset(t){console.log(t)}onFinished(){this.onSelectCallback&&this.onSelectCallback(this.texture)}updateAssets(){if(!this.active)return;this.getAssetsByType(this.currentAssetType)}update(t){super.update(t);let e=t.mouseRaycaster.intersectObject(this.background,!1);e.length>0&&(t.input.isPressed("MOUSELEFT",!0),t.input.isDown("MOUSELEFT",!0)&&this.draw(),t.input.isReleased("MOUSELEFT",!0))}}
